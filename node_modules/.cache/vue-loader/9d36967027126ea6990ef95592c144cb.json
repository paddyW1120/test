{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\dashboard\\notepad\\index.vue?vue&type=style&index=0&id=2d6ab6bf&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\dashboard\\notepad\\index.vue","mtime":1609847106700},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnBhbmVsLWdyb3VwIHsNCiAgbWFyZ2luLXRvcDogMThweDsNCg0KICAuY2FyZC1wYW5lbC1jb2wgew0KICAgIG1hcmdpbi1ib3R0b206IDMycHg7DQogIH0NCg0KICAuY2FyZC1wYW5lbCB7DQogICAgaGVpZ2h0OiAxMDhweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGNvbG9yOiAjNjY2Ow0KICAgIGJhY2tncm91bmQ6ICNmZmY7DQogICAgYm94LXNoYWRvdzogNHB4IDRweCA0MHB4IHJnYmEoMCwgMCwgMCwgLjA1KTsNCiAgICBib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgLjA1KTsNCg0KICAgICYgew0KICAgICAgLmNhcmQtcGFuZWwtaWNvbi13cmFwcGVyIHsNCiAgICAgICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsNCiAgICAgIH0NCg0KICAgICAgLmljb24tcGVvcGxlIHsNCiAgICAgICAgYmFja2dyb3VuZDogIzQwYzljNjsNCiAgICAgIH0NCg0KICAgICAgLmljb24tbWVzc2FnZSB7DQogICAgICAgIGJhY2tncm91bmQ6ICMzNmEzZjc7DQogICAgICB9DQoNCiAgICAgIC5pY29uLW1vbmV5IHsNCiAgICAgICAgYmFja2dyb3VuZDogI2Y0NTE2YzsNCiAgICAgIH0NCg0KICAgICAgLmljb24tc2hvcHBpbmcgew0KICAgICAgICBiYWNrZ3JvdW5kOiAjMzRiZmEzDQogICAgICB9DQogICAgfQ0KDQogICAgLmljb24tcGVvcGxlIHsNCiAgICAgIGNvbG9yOiAjNDBjOWM2Ow0KICAgIH0NCg0KICAgIC5pY29uLW1lc3NhZ2Ugew0KICAgICAgY29sb3I6ICMzNmEzZjc7DQogICAgfQ0KDQogICAgLmljb24tbW9uZXkgew0KICAgICAgY29sb3I6ICNmNDUxNmM7DQogICAgfQ0KDQogICAgLmljb24tc2hvcHBpbmcgew0KICAgICAgY29sb3I6ICMzNGJmYTMNCiAgICB9DQoNCiAgICAuY2FyZC1wYW5lbC1pY29uLXdyYXBwZXIgew0KICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgICBtYXJnaW46IDE0cHggMCAwIDE0cHg7DQogICAgICBwYWRkaW5nOiAxNnB4Ow0KICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMzhzIGVhc2Utb3V0Ow0KICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIH0NCg0KICAgIC5jYXJkLXBhbmVsLWljb24gew0KICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgICBmb250LXNpemU6IDI4cHg7DQogICAgfQ0KDQogICAgLmNhcmQtcGFuZWwtZGVzY3JpcHRpb24gew0KICAgICAgZmxvYXQ6IHJpZ2h0Ow0KICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICBtYXJnaW46IDI2cHg7DQogICAgICBtYXJnaW4tbGVmdDogMHB4Ow0KDQogICAgICAuY2FyZC1wYW5lbC10ZXh0IHsNCiAgICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7DQogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDUpOw0KICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7DQogICAgICAgIG1hcmdpbi1yaWdodDogOHB4Ow0KICAgICAgfQ0KDQogICAgICAuY2FyZC1wYW5lbC1udW0gew0KICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQoNCkBtZWRpYSAobWF4LXdpZHRoOiA1NTBweCkgew0KICAuY2FyZC1wYW5lbC1kZXNjcmlwdGlvbiB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KDQogIC5jYXJkLXBhbmVsLWljb24td3JhcHBlciB7DQogICAgZmxvYXQ6IG5vbmUgIWltcG9ydGFudDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7DQoNCiAgICAuc3ZnLWljb24gew0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICBtYXJnaW46IDE0cHggYXV0byAhaW1wb3J0YW50Ow0KICAgICAgZmxvYXQ6IG5vbmUgIWltcG9ydGFudDsNCiAgICB9DQogIH0NCn0NCg0KLmVsLWJhZGdlX19jb250ZW50LmlzLWZpeGVkIHsNCiAgcmlnaHQ6IDRweDsNCn0NCg0KLmN1c2xpbmsgew0KICBjb2xvcjogcmVkOw0KICBtYXJnaW4tYm90dG9tOiA0cHg7DQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAktBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard/notepad","sourcesContent":["<template>\r\n\r\n  <cus-wraper>\r\n\r\n\r\n    <el-button size=\"small\" @click=\"handleApply\" type=\"primary\">\r\n      <svg-icon icon-class=\"apply\"/>\r\n      {{$t('i18nView.quiz')}}\r\n    </el-button>\r\n\r\n    <cus-table-title :label=\"$t('i18nView.questionList')\"/>\r\n\r\n    <el-tabs type=\"border-card\" v-model=\"activeName\">\r\n      <el-tab-pane :label=\"$t('i18nView.unsolved')\" name=\"unresolved\">\r\n        <el-form label-width=\"auto\">\r\n          <el-row>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.quesPostion')\" prop=\"\">\r\n                <el-input clearable v-model=\"params2.issueNode\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.problemSolving')\">\r\n                <el-input clearable v-model=\"params2.issueTitle\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.initator')\" prop=\"\">\r\n                <el-input clearable v-model=\"params2.userCode\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n\r\n            <cus-condition @show=\"moreCondition2=!moreCondition2\">\r\n              <el-button size=\"small\" type=\"primary\" @click=\"handleSearch2\" icon=\"el-icon-search\" v-waves\r\n                         class=\"filter-button\">{{$t('table.search')}}\r\n              </el-button>\r\n            </cus-condition>\r\n\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row v-if=\"moreCondition2\">\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('rule.productDetailType')\" prop=\"\">\r\n                <cus-select placeholder=\"\" :codetype=\"'ProductCategory'\" clearable\r\n                            v-model=\"params2.pdCategory\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('rule.product')\">\r\n                <el-input placeholder=\"\" clearable v-model=\"params2.pdCodeName\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"\">\r\n                <el-input placeholder=\"\" clearable v-model=\"params2.pdEdition\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n        <el-table :data=\"configs2\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row\r\n                  size=\"mini\">>\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio :label=\"scope.row.id\" @change=\"detail2(scope.row)\" v-model=\"radio2\">{{ '' }}</el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.quesPostion')\" prop=\"issueNode\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.problemSolving')\" prop=\"issueNode\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('rule.product')\" prop=\"pdCodeName\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n          <!--el-table-column align=\"center\" label=\"产品细类\" prop=\"pdCategory\">\r\n            <template v-slot=\"scope\">{{ filterHandler('ProductCategory', scope.row.pdCategory) }}</template>\r\n          </el-table-column-->\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.initator')\" prop=\"userName\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.replies')\" prop=\"respCount\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.creatDate')\" prop=\"createTime\"></el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination :pageSize=\"10\" :params=\"params2\" ref=\"page2\" url=\"/index/issue/list\" v-model=\"configs2\"/>\r\n\r\n\r\n        <el-row v-if=\"radio2\" >\r\n          <el-divider content-position=\"left\" >\r\n            <span style=\"font-size: 12px;\">{{$t('i18nView.problemDetail')}}&nbsp;</span>\r\n          </el-divider>\r\n          <el-col :span=\"12\" style=\"font-size: 12px;\">{{$t('i18nView.problemcontent')}}\r\n            <div v-html=\"info2.issueDetail\"></div>\r\n          </el-col>\r\n          <el-col :span=\"12\" style=\"font-size: 12px;\">\r\n            {{$t('i18nView.problemBag')}}\r\n            <div style=\"margin-top: 5px\"\r\n                 v-if=\"info2.fileName!=null && info2.fileName.indexOf(']')>=0 && JSON.parse(info2.fileName) instanceof Array\">\r\n              <div v-for=\"(value,index) in JSON.parse(info2.fileName)\" class=\"cuslink\"\r\n                   style=\"color:blue;cursor: pointer;\"\r\n                   @click=\"downloadAnswerFile(JSON.parse(info2.filePath)[index],value)\">{{$t('i18nView.accessory')}}{{ index + 1 }}:{{ value }}\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n\r\n        <div style=\"margin: 50px auto 50px auto\" v-if=\"radio2\">\r\n          <el-divider content-position=\"left\">\r\n        <span\r\n          style=\"font-weight: bold;font-size: 12px;\">{{$t('i18nView.reProblem')}}&nbsp;</span>\r\n            <el-switch @change=\"showEdit\" v-model=\"responseFlag\"></el-switch>\r\n          </el-divider>\r\n        </div>\r\n\r\n        <el-form v-if=\"responseFlag\" ref=\"dataForm\" :model=\"form\" left label-position=\"right\" label-width=\"8%\"\r\n                 style=\"width: 80%\">\r\n          <el-form-item :required=\"true\" :label=\"$t('i18nView.reContent')\">\r\n            <div ref=\"weditor\" style=\"text-align:left;\"></div>\r\n            <div class=\"el-form-item__error\" v-if=\"this.contenflag\">\r\n              {{ $t('i18nView.pleaseInput') }}         </div>\r\n          </el-form-item>\r\n          <!--          <el-form-item label=\"是否有附件\">-->\r\n          <!--            <el-switch v-model=\"switchv\" active-value=\"1\" inactive-value=\"0\"-->\r\n          <!--                       @change=\"changeStatus($event)\">-->\r\n          <!--            </el-switch>-->\r\n          <!--            <el-form id=\"uploadForm\" v-if=\"this.switchv === '1'\">-->\r\n          <!--              <el-form-item>-->\r\n          <!--                <el-upload-->\r\n          <!--                  class=\"upload-demo\"-->\r\n          <!--                  ref=\"upload\"-->\r\n          <!--                  action=\"url\"-->\r\n          <!--                  :on-change=\"handleChange\"-->\r\n          <!--                  :on-success=\"handleResult\"-->\r\n          <!--                  :on-remove=\"handleRemove\"-->\r\n          <!--                  :file-list=\"fileList\"-->\r\n          <!--                  :on-exceed=\"handleExceed\"-->\r\n          <!--                  :limit=\"3\"-->\r\n          <!--                  :multiple=\"true\"-->\r\n          <!--                  :auto-upload=\"false\">-->\r\n          <!--                  <el-button  size=\"small\" slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>-->\r\n          <!--                  <div slot=\"tip\" class=\"el-upload__tip\">上传文件大小不能超过 10MB!</div>-->\r\n          <!--                </el-upload>-->\r\n          <!--              </el-form-item>-->\r\n          <!--            </el-form>-->\r\n          <!--            <div class=\"el-form-item__error\" v-if=\"this.nofileflag\">-->\r\n          <!--              请上传附件-->\r\n          <!--            </div>-->\r\n          <!--          </el-form-item>-->\r\n\r\n          <el-button size=\"small\" style=\"margin-left: 100px\" class=\"el-icon-finished\" type=\"primary\" @click=\"replyForm\">\r\n            {{ $t('i18nView.reply') }}</el-button>\r\n        </el-form>\r\n\r\n\r\n      </el-tab-pane>\r\n      <el-tab-pane :label=\"$t('i18nView.myProblem')\" name=\"myissue\">\r\n        <el-form label-width=\"auto\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.problemSolving')\">\r\n                <el-input clearable v-model=\"params1.issueTitle\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.quesPostion')\" prop=\"\">\r\n                <el-input clearable v-model=\"params1.issueNode\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('i18nView.problemState')\" prop=\"\">\r\n                <el-select clearable filterable v-model=\"params1.state\">\r\n                  <el-option :label=\"item.label\" :value=\"item.value\"\r\n                             v-for=\"item in stateOptions\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <cus-condition @show=\"moreCondition1=!moreCondition1\">\r\n              <el-button size=\"small\" type=\"primary\" @click=\"handleSearch1\" icon=\"el-icon-search\" v-waves\r\n                         class=\"filter-button\">{{$t('table.search')}}\r\n              </el-button>\r\n            </cus-condition>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row v-if=\"moreCondition1\" :gutter=\"10\">\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('rule.productDetailType')\" prop=\"\">\r\n                <cus-select placeholder=\"\" :codetype=\"'ProductCategory'\" clearable\r\n                            v-model=\"params1.pdCategory\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('rule.product')\">\r\n                <el-input placeholder=\"\" clearable v-model=\"params1.pdCodeName\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"5\">\r\n              <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"\">\r\n                <el-input placeholder=\"\" clearable v-model=\"params1.pdEdition\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n\r\n\r\n        <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row\r\n                  size=\"mini\">>\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio :label=\"scope.row.id\" @change=\"detail1(scope.row)\" v-model=\"radio1\">{{ '' }}</el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.quesPostion')\" prop=\"issueNode\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.problemSolving')\" prop=\"issueTitle\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('rule.product')\" prop=\"pdCodeName\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n          <!--el-table-column align=\"center\" label=\"产品细类\" prop=\"pdCategory\">\r\n            <template v-slot=\"scope\">{{ filterHandler('ProductCategory', scope.row.pdCategory) }}</template>\r\n          </el-table-column-->\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.replies')\" prop=\"respCount\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.problemState')\" prop=\"state\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"scope.row.state === '1' ? 'primary' : 'danger'\" hit>\r\n                {{ scope.row.state === '1' ? '已解决' : '未解决' }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column align=\"center\" :label=\"$t('i18nView.creatDate')\" prop=\"createTime\"></el-table-column>\r\n          <el-table-column align=\"center\" :label=\"$t('table.actions')\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button v-if=\"scope.row.state !== '1'\" class=\"filter-button\" icon=\"el-icon-thumb\"\r\n                         @click=\"updateState(scope.row.id)\" size=\"mini\" type=\"primary\">{{ $t('i18nView.resolved') }}\r\n              </el-button>\r\n\r\n              <cus-del-btn @ok=\"handleDelete(scope.row.id)\"/>\r\n\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination :pageSize=\"10\" :params=\"params1\" ref=\"page1\" url=\"/index/issue/list/self\" v-model=\"configs1\"/>\r\n\r\n\r\n        <el-row v-if=\"radio1\">\r\n          <el-divider content-position=\"left\">\r\n            <span style=\"font-size: 12px;\">{{$t('i18nView.problemDetail')}}&nbsp;</span>\r\n          </el-divider>\r\n          <el-col :span=\"12\" style=\"font-size: 12px;\">{{$t('i18nView.problemcontent')}}\r\n            <div v-html=\"info1.issueDetail\"></div>\r\n          </el-col>\r\n          <el-col :span=\"12\" style=\"font-size: 12px;\">\r\n            {{$t('i18nView.problemBag')}}\r\n            <div style=\"margin-top: 5px\"\r\n                 v-if=\"info1.fileName!=null && info1.fileName.indexOf(']')>=0 && JSON.parse(info1.fileName) instanceof Array\">\r\n              <div v-for=\"(value,index) in JSON.parse(info1.fileName)\" class=\"cuslink\"\r\n                   style=\"color:#0000ff;cursor: pointer;\"\r\n                   @click=\"downloadAnswerFile(JSON.parse(info1.filePath)[index],value)\">{{$t('i18nView.accessory')}}{{ index + 1 }}:{{ value }}\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <div class=\"block\" v-if=\"respList.length > 0\">\r\n          <el-divider content-position=\"left\">{{$t('i18nView.problemReplyList')}}</el-divider>\r\n          <el-timeline>\r\n            <el-timeline-item v-for=\"(item,index) in respList\" :key=\"index\" :timestamp=\"item.createTime\"\r\n                              placement=\"top\">\r\n              <el-card style=\"width: 800px\">\r\n                <h4>{{ item.replier }}</h4>\r\n                <p v-html=\"item.replyContent\"></p>\r\n              </el-card>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </div>\r\n\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n\r\n    <el-dialog :visible.sync=\"dialogVisible\" @close=\"dialogVisible=false\"  v-dialog-drag>\r\n      <cus-page-title-back @backTo=\"dialogVisible=false\" :isDialog=\"true\" :label=\"$t('i18nView.problemIn')\"/>\r\n      <el-form :model=\"formPad\" :rules=\"formRules\"  label-width=\"auto\" ref=\"dataFormPad\"\r\n               style=\"width: 80%\">\r\n        <el-form-item :label=\"$t('i18nView.quesPostion')\"   prop=\"issueNode\">\r\n          <el-autocomplete style=\"width: 300px\"\r\n                           v-model=\"formPad.issueNode\"\r\n                           :fetch-suggestions=\"querySearch\"\r\n                           :placeholder=\"$t('i18nView.inputProblemPostion')\"\r\n          ></el-autocomplete>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.problemSolving')\" prop=\"issueTitle\">\r\n          <el-input :maxlength=\"50\" show-word-limit type=\"textarea\" v-model=\"formPad.issueTitle\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :required=\"true\" :label=\"$t('i18nView.problemDes')\">\r\n          <div ref=\"weditor2\" style=\"text-align:left;\"></div>\r\n          <div class=\"el-form-item__error\" v-if=\"this.contenflag1\">\r\n            {{$t('i18nView.pleaseInputproblemDes')}}\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('i18nView.watchSelf')\" prop=\"isPrivate\">\r\n          <el-switch active-value=\"Y\" inactive-value=\"N\" v-model=\"formPad.isPrivate\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('i18nView.isReleProduct')\">\r\n          <el-switch @change=\"isPdChange($event)\" active-value=\"Y\" inactive-value=\"N\" v-model=\"isPd\"></el-switch>\r\n        </el-form-item>\r\n        <div v-if=\"this.isPd === 'Y'\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\" prop=\"pdCategory\">\r\n            <cus-select :placeholder=\"$t('form.please_select')\" :codetype=\"'ProductCategory'\" v-model=\"formPad.pdCategory\"></cus-select>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('rule.product')\" prop=\"pdCodeName\">\r\n            <el-input :placeholder=\"$t('i18nView.pleaseInputPdCode_Name')\" v-model=\"formPad.pdCodeName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\">\r\n            <el-input :placeholder=\"$t('i18nView.pdEditionMsg')\" v-model=\"formPad.pdEdition\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <el-form-item :label=\"$t('i18nView.isaccessory')\">\r\n          <el-switch @change=\"changeStatus($event)\" active-value=\"1\" inactive-value=\"0\"\r\n                     v-model=\"switchv\">\r\n          </el-switch>\r\n          <el-form id=\"uploadForm\" v-if=\"this.switchv === '1'\">\r\n            <el-form-item>\r\n              <el-upload\r\n                :auto-upload=\"false\"\r\n                :file-list=\"fileList\"\r\n                :limit=\"3\"\r\n                :multiple=\"true\"\r\n                :on-change=\"handleChange\"\r\n                :on-exceed=\"handleExceed\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-success=\"handleResult\"\r\n                action=\"url\"\r\n                class=\"upload-demo\"\r\n                ref=\"upload\"\r\n                drag>\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.uploadText1')}}<em>{{$t('i18nView.uploadText2')}}</em></div>\r\n                <div class=\"el-upload__tip\" slot=\"tip\">{{$t('i18nView.uploadNotMorethan')}} 10MB!</div>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div class=\"el-form-item__error\" v-if=\"this.nofileflag\">\r\n            {{$t('i18nView.pleaseUploadAcce')}}\r\n          </div>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n          <el-button size=\"small\" icon='el-icon-circle-close' @click=\"dialogVisible = false\"> {{ $t('table.cancel') }} </el-button>\r\n          <el-button size=\"small\" @click=\"submitForm\" class=\"el-icon-success\" type=\"primary\"> {{ $t('table.confirm') }} </el-button>\r\n        </span>\r\n    </el-dialog>\r\n\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport { mapGetters } from 'vuex'\r\n\r\nimport {\r\n  getReplyList,\r\n  replyIssue,\r\n  downloadAttachment,\r\n  deleteIssue,\r\n  updateState,\r\n  uploadIssueAttach, addIssue\r\n} from '@/api/common/issue'\r\n\r\nimport E from 'wangeditor'\r\n\r\nexport default {\r\n  name: 'normaluser',\r\n  computed: {\r\n    ...mapGetters([\r\n      'rolecodes'\r\n    ])\r\n  },\r\n  data() {\r\n    return {\r\n      stateOptions: [{ value: '1', label: '已解决' }, { value: '0', label: '未解决' }],\r\n      radio1: '',\r\n      radio2: '',\r\n      responseFlag: false,\r\n      info1: '',\r\n      info2: '',\r\n      activeName: 'unresolved',\r\n      moreCondition1: false,\r\n      moreCondition2: false,\r\n      respList: [],\r\n      configs1: [],\r\n      configs2: [],\r\n      params1: {\r\n        pdCodeName: '',\r\n        pdEdition: '',\r\n        pdCategory: '',\r\n        issueTitle: '',\r\n        state: '',\r\n        issueNode: ''\r\n      },\r\n      params2: {\r\n        pdCodeName: '',\r\n        pdEdition: '',\r\n        issueTitle: '',\r\n        userCode: '',\r\n        issueNode: ''\r\n      },\r\n      editor: null,\r\n      contenflag: false,\r\n      form: {\r\n        issueId: '',\r\n        replyContent: ''\r\n      },\r\n      fileList: [],\r\n      nofileflag: false,\r\n      switchv: '0',\r\n      contenflag1: false,\r\n      editor1: null,\r\n      dialogVisible: false,\r\n      isPd: false,\r\n      formPad: {\r\n        pdCodeName: '',\r\n        pdCategory: '',\r\n        pdEdition: '',\r\n        issueTitle: '',\r\n        issueNode: '',\r\n        issueDetail: '',\r\n        isPrivate: 'N',\r\n        fileName: [],\r\n        filePath: []\r\n      },\r\n      formRules: {\r\n        issueNode: [{ required: true, message: '请输入问题发生位置', trigger: 'blur' }],\r\n        issueType: [{ required: true, message: '请选择问题类型', trigger: 'blur' }],\r\n        issueTitle: [{ required: true, message: '请输入问题主题', trigger: 'blur' }]\r\n      },\r\n      workflowNodes: []\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    this.workflowNodes = this.loadAll()\r\n  },\r\n  methods: {\r\n    querySearch(queryString, cb) {\r\n      let workflowNodes = this.workflowNodes\r\n      let results = queryString ? workflowNodes.filter(this.createFilter(queryString)) : workflowNodes\r\n      // 调用 callback 返回建议列表的数据\r\n      cb(results)\r\n    },\r\n    createFilter(queryString) {\r\n      return (workflowNode) => {\r\n        return (workflowNode.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0)\r\n      }\r\n    },\r\n    loadAll() {\r\n      return [\r\n        { 'value': '产品属性定义-基本属性定义' },\r\n        { 'value': '产品属性定义-增值税定义' },\r\n        { 'value': '产品结构定义-缴费定义' },\r\n        { 'value': '产品结构定义-保障定义' },\r\n        { 'value': '产品结构定义-方案定义' },\r\n        { 'value': '产品结构定义-收益定义' },\r\n        { 'value': '产品结构定义-账户定义' },\r\n        { 'value': '产品现价定义-现价定义' },\r\n        { 'value': '产品监管定义-监管属性定义' },\r\n        { 'value': '产品营运定义-产品销售定义' },\r\n        { 'value': '产品营运定义-产品核赔定义' },\r\n        { 'value': '产品营运定义-产品保全定义' },\r\n        { 'value': '产品营运定义-产品续期续保定义' },\r\n        { 'value': '产品营运定义-产品核保定义' },\r\n        { 'value': '产品营运定义-产品承保定义' },\r\n        { 'value': '产品测试-新单测试' },\r\n        { 'value': '产品测试-续期续保测试' },\r\n        { 'value': '产品测试-保全测试' },\r\n        { 'value': '产品测试-理赔测试' },\r\n        { 'value': '产品审核' },\r\n        { 'value': '产品发布' }\r\n      ]\r\n    },\r\n    handleApply() {\r\n      this.dialogVisible = true\r\n      this.createEdit()\r\n    },\r\n    showEdit(flag) {\r\n      if (flag) {\r\n        this.$nextTick(() => {\r\n          this.editor = new E(this.$refs.weditor)\r\n          this.editor.customConfig.zIndex = 100\r\n          this.editor.customConfig.menus = [\r\n            'head',  // 标题\r\n            'bold',  // 粗体\r\n            'fontSize',  // 字号\r\n            'fontName',  // 字体\r\n            'italic',  // 斜体\r\n            'list',  // 列表\r\n            'justify',  // 对齐方式\r\n            'quote',  // 引用\r\n            'image',  // 插入图片\r\n            'table',  // 表格\r\n            'code',  // 插入代码\r\n            'undo'  // 撤销\r\n          ]\r\n          this.editor.customConfig.uploadImgShowBase64 = true\r\n          this.editor.customConfig.onchange = (html) => {\r\n            this.form.replyContent = html\r\n            if (this.form.replyContent.trim().length === 0) {\r\n              this.contenflag = true\r\n            } else {\r\n              this.contenflag = false\r\n            }\r\n          }\r\n          this.editor.create()\r\n        })\r\n      }\r\n    },\r\n    replyForm() {\r\n      let valid = true\r\n      this.contenflag = false\r\n      if (this.form.replyContent.trim().length === 0 || this.form.replyContent === '<p><br></p>') {\r\n        this.contenflag = true\r\n        valid = false\r\n      }\r\n      if (valid) {\r\n        this.form.issueId = this.info2.id\r\n\r\n        this.confirmWarning('请确认回复内容').then(() => {\r\n          replyIssue(this.form).then(res => {\r\n            this.notifySuccess('回复成功')\r\n            this.handleSearch2()\r\n            this.editor.txt.clear()\r\n          })\r\n        })\r\n      }\r\n\r\n    }, handleDelete(id) {\r\n      deleteIssue(id).then(res => {\r\n        this.notifySuccess('删除成功')\r\n        this.handleSearch1()\r\n        this.handleSearch2()\r\n      })\r\n    },\r\n    updateState(id) {\r\n      updateState(id).then(res => {\r\n        this.notifySuccess('更新成功')\r\n        this.handleSearch1()\r\n        this.handleSearch2()\r\n      })\r\n    },\r\n    handleSearch1() {\r\n      this.$refs.page1.reload()\r\n    },\r\n    handleSearch2() {\r\n      this.$refs.page2.reload()\r\n    },\r\n    detail1(row) {\r\n      this.info1 = row\r\n      getReplyList(row.id).then(res => {\r\n        this.respList = res.data\r\n      })\r\n    },\r\n    filterHandler(codetype, value) {\r\n      return this.getCodeName(codetype, value)\r\n    },\r\n    detail2(row) {\r\n      this.info2 = row\r\n    },\r\n    downloadAnswerFile(path, fileName) {\r\n      downloadAttachment(this.buildRequestData({ 'filePath': path })).then(res => {\r\n        this.downloadResponseFile(res, fileName)\r\n      })\r\n\r\n    },\r\n    createEdit() {\r\n      this.$nextTick(() => {\r\n        if (this.editor1 == null) {\r\n          this.editor1 = new E(this.$refs.weditor2)\r\n          this.editor1.customConfig.menus = [\r\n            'head',  // 标题\r\n            'bold',  // 粗体\r\n            'fontSize',  // 字号\r\n            'fontName',  // 字体\r\n            'italic',  // 斜体\r\n            'list',  // 列表\r\n            'justify',  // 对齐方式\r\n            'quote',  // 引用\r\n            'image',  // 插入图片\r\n            'table',  // 表格\r\n            'code',  // 插入代码\r\n            'undo'  // 撤销\r\n          ]\r\n\r\n          this.editor1.customConfig.zIndex = 100\r\n\r\n          this.editor1.customConfig.uploadImgShowBase64 = true\r\n          this.editor1.customConfig.onchange = (html) => {\r\n            this.formPad.issueDetail = html\r\n            this.contenflag1 = this.formPad.issueDetail.trim().length === 0\r\n          }\r\n          this.editor1.create()\r\n          let eds = document.getElementsByClassName('w-e-text-container')\r\n          eds[0].style = eds[0].style.cssText + 'height: 230px'\r\n        }\r\n      })\r\n    },\r\n\r\n    submitForm() {\r\n\r\n      this.$refs.dataFormPad.validate((valid) => {\r\n        this.contenflag1 = false\r\n        if (this.formPad.issueDetail.trim().length === 0 || this.formPad.issueDetail === '<p><br></p>') {\r\n          this.contenflag1 = true\r\n          valid = false\r\n        }\r\n        if (this.switchv === '1' && this.fileList.length === 0) {\r\n          this.nofileflag = true\r\n          valid = false\r\n        }\r\n        if (valid) {\r\n          //先上传后保存问题数据\r\n          if (this.switchv === '1') {\r\n            let formData = this.uploadUtil(this.fileList)\r\n            uploadIssueAttach(formData).then(res => {\r\n              this.notifySuccess('上传成功')\r\n              this.$refs.upload.clearFiles()\r\n              this.formPad.fileName = []\r\n              this.formPad.filePath = res.data.destPaths\r\n              if (this.fileList) {\r\n                for (const list of this.fileList) {\r\n                  this.formPad.fileName.push(list.name)\r\n                }\r\n              }\r\n              this.addIssue()\r\n            })\r\n\r\n          } else {\r\n            this.addIssue()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    addIssue() {\r\n      addIssue(this.formPad).then((res) => {\r\n        this.notifySuccess('保存问题成功')\r\n        this.$refs['dataFormPad'].resetFields()\r\n        this.editor1.txt.clear()\r\n        this.handleSearch1()\r\n        this.dialogVisible = false\r\n      })\r\n    },\r\n    changeStatus(event) {\r\n      this.switchv = event\r\n      this.nofileflag = false\r\n    },\r\n    isPdChange(event) {\r\n      this.formPad.pdCategory = ''\r\n      this.formPad.pdCodeName = ''\r\n      this.formPad.pdEdition = ''\r\n    },\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n\r\n      } else {\r\n        this.$message.error(`上传文件失败`)\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name == fileList[i].name) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: '上传文件名不能重复!',\r\n              duration: 2000\r\n            })\r\n            fileList.pop()\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '上传文件大小不能超过 10MB!',\r\n          duration: 500\r\n        })\r\n        return\r\n      }\r\n\r\n    },\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: '提示',\r\n        message: '最多上传三个文件,替换请先移除！',\r\n        duration: 1000\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.panel-group {\r\n  margin-top: 18px;\r\n\r\n  .card-panel-col {\r\n    margin-bottom: 32px;\r\n  }\r\n\r\n  .card-panel {\r\n    height: 108px;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    color: #666;\r\n    background: #fff;\r\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\r\n    border-color: rgba(0, 0, 0, .05);\r\n\r\n    & {\r\n      .card-panel-icon-wrapper {\r\n        color: #fff !important;\r\n      }\r\n\r\n      .icon-people {\r\n        background: #40c9c6;\r\n      }\r\n\r\n      .icon-message {\r\n        background: #36a3f7;\r\n      }\r\n\r\n      .icon-money {\r\n        background: #f4516c;\r\n      }\r\n\r\n      .icon-shopping {\r\n        background: #34bfa3\r\n      }\r\n    }\r\n\r\n    .icon-people {\r\n      color: #40c9c6;\r\n    }\r\n\r\n    .icon-message {\r\n      color: #36a3f7;\r\n    }\r\n\r\n    .icon-money {\r\n      color: #f4516c;\r\n    }\r\n\r\n    .icon-shopping {\r\n      color: #34bfa3\r\n    }\r\n\r\n    .card-panel-icon-wrapper {\r\n      float: left;\r\n      margin: 14px 0 0 14px;\r\n      padding: 16px;\r\n      transition: all 0.38s ease-out;\r\n      border-radius: 6px;\r\n    }\r\n\r\n    .card-panel-icon {\r\n      float: left;\r\n      font-size: 28px;\r\n    }\r\n\r\n    .card-panel-description {\r\n      float: right;\r\n      font-weight: bold;\r\n      margin: 26px;\r\n      margin-left: 0px;\r\n\r\n      .card-panel-text {\r\n        line-height: 18px;\r\n        color: rgba(0, 0, 0, 0.45);\r\n        font-size: 12px;\r\n        margin-bottom: 12px;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      .card-panel-num {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: 550px) {\r\n  .card-panel-description {\r\n    display: none;\r\n  }\r\n\r\n  .card-panel-icon-wrapper {\r\n    float: none !important;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 !important;\r\n\r\n    .svg-icon {\r\n      display: block;\r\n      margin: 14px auto !important;\r\n      float: none !important;\r\n    }\r\n  }\r\n}\r\n\r\n.el-badge__content.is-fixed {\r\n  right: 4px;\r\n}\r\n\r\n.cuslink {\r\n  color: red;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n</style>\r\n"]}]}
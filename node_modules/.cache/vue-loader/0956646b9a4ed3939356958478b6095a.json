{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\new-single-test\\casedef\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\new-single-test\\casedef\\index.vue","mtime":1610950391295},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7DQogIGRlbGV0ZUNhc2UsDQogIGRvd25sb2FkQ2FzZURlZiwNCiAgZG93bmxvYWRDYXNlVGVtcGxhdGUsDQogIGluaXRFbGVtZW50LA0KICBxdWVyeUN1c3RvbWVyTm8sDQogIHF1ZXJ5UGRUZXN0RnVuYywNCiAgcXVlcnlSZWxhUGQsDQogIHNhdmVDYXNlRGVmLA0KICB1cGxvYWRUZXN0Q2FzZQ0KfSBmcm9tICdAL2FwaS9wZHRlc3QvcHJvZHVjdFRlc3RpbmdOZXcnDQoNCmltcG9ydCBjdXN0b21wYWdlIGZyb20gJ0Avdmlld3MvcHJvZHVjdC10ZXN0aW5nL25ldy1zaW5nbGUtdGVzdC9jdXN0b21wYWdlJw0KDQoNCmxldCBfdGhpcw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbicsDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJDYXNlVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMudGVzdENhc2VUeXBlW2NvZGVdDQogICAgfSwNCiAgICBmaWx0ZXJDYXNlRGVmaW5pdGlvbihjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMudGVzdENhc2VEZWZpbml0aW9uW2NvZGVdDQogICAgfSwNCiAgICBmaWx0ZXJTZXhUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnc2V4JywgY29kZSwgdHJ1ZSkNCiAgICB9LCBmaWx0ZXJSZWxhKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnaW5zdXJhbmNlUmVsYXRpb25zaGlwJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlclJlbGF0aW9uVG9JbnN1cmVkKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncmVsYWdlbnR0b2lucycsIGNvZGUpDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIGxldCBjaGVja0FnZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICghdmFsdWUpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcih0aGlzLiR0KCdwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLkFwcG50QWdlbXNnJykpKQ0KICAgICAgfQ0KICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kdCgiaTE4blZpZXcucGxlYXNlSW5wdXROdW1WYWx1ZSIpKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh2YWx1ZSA8IDEpIHsNCiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJHQoImkxOG5WaWV3Lm5vdEFnZSIpKSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjYWxsYmFjaygpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgbGV0IGNoZWNrU2VxID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uQXBwbnRTZXFtc2cnKSkpDQogICAgICB9DQogICAgICBpZiAodmFsdWUgPCAxKSB7DQogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4jeWPr+Wwj+S6jjEnKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgX3RoaXMgPSB0aGlzDQogICAgcmV0dXJuIHsNCiAgICAgIHRlc3RDYXNlVHlwZTogeycxJzogJ+iHquWKqOWMlua1i+ivlScsICcyJzogJ+iHquWumuS5iea1i+ivlSd9LA0KICAgICAgdGVzdENhc2VEZWZpbml0aW9uOiB7JzEnOiAn6aG16Z2i5a6a5LmJJywgJzInOiAn5LiK5Lyg5a6a5LmJJ30sDQogICAgICBzZWxlY3RDb25maWdzMTogJycsDQogICAgICBzZWxlY3RDb25maWdzMjogJycsDQogICAgICBzZWxlY3RDb25maWdzMzogJycsDQogICAgICBmdW5jU2VsZWN0OiBbXSwNCiAgICAgIGVsZW1lbnREYXRhc1Nob3c6IGZhbHNlLA0KICAgICAgZWxlbWVudERhdGFzOiB7fSwNCiAgICAgIGN1cnJlbnRQZFBhZ2VEYXRhOiB7fSwNCiAgICAgIGVsZW1lbnRSdWxlczoge30sDQogICAgICBjb25maWdzMTogW10sDQogICAgICBjb25maWdzMjogW10sDQogICAgICBjb25maWdzMzogW10sDQogICAgICB0ZXN0Q2FzZVVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgcmVsYVBkTGlzdDogW10sDQogICAgICByZWxhUGRTZWxlY3Q6IFtdLA0KICAgICAgcmVsYVBkRWRpdGlvblNlbGVjdDogW10sDQogICAgICByZWxhUGRQYWdlRWxlRGF0YXM6IFtdLA0KICAgICAgcmVsYVBkRm9ybTogew0KICAgICAgICByZWxhUGRTZWQ6ICcnLA0KICAgICAgICByZWxhUGRFZGl0aW9uU2VkOiAnJw0KICAgICAgfSwNCiAgICAgIHJlbGFQZFJ1bGVzOiB7DQogICAgICAgIHJlbGFQZFNlZDogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLnJlbGFQZG1zZycpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICByZWxhUGRFZGl0aW9uU2VkOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24ucmVsYVBkRWRpdGlvbm1zZycpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dDQogICAgICB9LA0KICAgICAgcmVsYVBkQ29kZTogJycsDQogICAgICByZWxhUGRFZGl0aW9uOiAnJywNCiAgICAgIHJlbGFFbGVtZW50RGF0YXM6IHt9LA0KICAgICAgcmVsYUVsZW1lbnRTaG93OiBmYWxzZSwNCiAgICAgIHRhYmxlRmxhZzogZmFsc2UsDQogICAgICBxdWlja2ljb246ICdlbC1pY29uLWFycm93LXJpZ2h0JywNCiAgICAgIGZpbGVMaXN0OiBbXSwNCiAgICAgIHBhcmFtczE6IHt9LA0KICAgICAgcGRJbmZvOiB7DQogICAgICAgIHBkSW5mb0lkOiAnJywNCiAgICAgICAgY29tbW9kaXR5VHlwZTogJycNCiAgICAgIH0sDQogICAgICBDYXNlRGVmaW5pdGlvbjogew0KICAgICAgICBwZEluZm9JZDogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkRWRpdGlvbjogJycsDQogICAgICAgIHBkVGVzdENhc2VEZXNjOiAnJywNCiAgICAgICAgdGVzdFBvaW50OiAnJywNCiAgICAgICAgcGRUZXN0TW9kdWxlQ29kZTogJycNCg0KICAgICAgfSwNCiAgICAgIGRlZlJ1bGVzOiB7DQogICAgICAgIHBkVGVzdENhc2VEZXNjOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uY2FzZWRlc2Ntc2cnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgfV0sDQogICAgICAgIHRlc3RQb2ludDogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLnRlc3Rwb2ludG1zZycpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dDQogICAgICB9LA0KICAgICAgQ2FzZURldGFpbHM6IHt9LA0KICAgICAgY3VzdG9tZXJzOiBbXSwNCiAgICAgIHBvbGljeVVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgcG9saWN5SG9sZGVyRm9ybUZsYWc6IGZhbHNlLA0KICAgICAgcG9saWN5SG9sZGVyOiB7DQogICAgICAgIHBLZXk6ICcnLA0KICAgICAgICBjdXN0b21lclJvbGU6ICcnLA0KICAgICAgICBjdXN0b21lckNvZGU6ICdwb2xpY3lob2xkZXInLA0KICAgICAgICBhcHBudFNlcTogMSwNCiAgICAgICAgYXBwbnRBZ2U6ICcnLA0KICAgICAgICBhcHBudE5vOiAnJywNCiAgICAgICAgYXBwbnRTZXg6ICcnLA0KICAgICAgICBhZ2VVbml0OiAnWScsDQogICAgICAgIHNtb2tlRmxhZzogJ04nLA0KICAgICAgICByZWxhdGlvblRvSW5zdXJlZDogJycsDQogICAgICAgIG9jY3VwYXRpb25UeXBlOiAnJywNCiAgICAgICAgc2FsYXJ5OiAnJw0KICAgICAgfSwNCiAgICAgIHBvbGljeUhvbGRlclJ1bGVzOiB7DQogICAgICAgIGFwcG50U2VxOiBbe3ZhbGlkYXRvcjogY2hlY2tTZXEsIHRyaWdnZXI6ICdibHVyJ31dLA0KICAgICAgICBhcHBudEFnZTogWw0KICAgICAgICAgIHt2YWxpZGF0b3I6IGNoZWNrQWdlLCB0cmlnZ2VyOiAnYmx1cid9DQogICAgICAgIF0sDQogICAgICAgIGFwcG50U2V4OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLkFwcG50U2V4bXNnJyksDQogICAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICAgIH1dDQogICAgICB9LA0KICAgICAgaW5zdXJlZFVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgaW5zdXJlZDogew0KICAgICAgICBwS2V5OiAnJywNCiAgICAgICAgY3VzdG9tZXJSb2xlOiAnJywNCiAgICAgICAgY3VzdG9tZXJDb2RlOiAnaW5zdXJlZCcsDQogICAgICAgIGluc3VyZWRTZXE6IDEsDQogICAgICAgIGluc3VyZWRBcHBBZ2U6ICcnLA0KICAgICAgICBhZ2VVbml0OiAnWScsDQogICAgICAgIGluc3VyZWRObzogJycsDQogICAgICAgIGluc3VyZWRTZXg6ICcnLA0KICAgICAgICBzbW9rZUZsYWc6ICdOJywNCiAgICAgICAgcmVsYXRpb25Ub01JbnN1cmVkOiAnJywNCiAgICAgICAgb2NjdXBhdGlvblR5cGU6ICcnLA0KICAgICAgICBzYWxhcnk6ICcnDQogICAgICB9LA0KICAgICAgaW5zdXJlZFJ1bGVzOiB7DQogICAgICAgIGluc3VyZWRTZXE6IFt7dmFsaWRhdG9yOiBjaGVja1NlcSwgdHJpZ2dlcjogJ2JsdXInfV0sDQogICAgICAgIGluc3VyZWRBcHBBZ2U6IFt7dmFsaWRhdG9yOiBjaGVja0FnZSwgdHJpZ2dlcjogJ2JsdXInfV0sDQogICAgICAgIGluc3VyZWRTZXg6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uQXBwbnRTZXhtc2cnKSwgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0NCiAgICAgIH0sDQogICAgICBiZW5lZmljaWFyeTogew0KICAgICAgICBwS2V5OiAnJywNCiAgICAgICAgY3VzdG9tZXJSb2xlOiAnJywNCiAgICAgICAgY3VzdG9tZXJDb2RlOiAnYmVuZWZpY2lhcnknLA0KICAgICAgICBibmZTZXE6IDEsDQogICAgICAgIGJlbFRvSW5zdXJlZFNlcTogJycsDQogICAgICAgIGJuZkFnZTogJycsDQogICAgICAgIGFnZVVuaXQ6ICdZJywNCiAgICAgICAgYm5mTm86ICcnLA0KICAgICAgICBibmZTZXg6ICcnLA0KICAgICAgICBzbW9rZUZsYWc6ICdOJywNCiAgICAgICAgcmVsYXRpb25Ub0luc3VyZWQ6ICcnLA0KICAgICAgICBvY2N1cGF0aW9uVHlwZTogJycsDQogICAgICAgIHNhbGFyeTogJycNCiAgICAgIH0sDQogICAgICBiZW5lZmljaWFyeVJ1bGVzOiB7DQogICAgICAgIGJuZlNlcTogW3t2YWxpZGF0b3I6IGNoZWNrU2VxLCB0cmlnZ2VyOiAnYmx1cid9XSwNCiAgICAgICAgYmVsVG9JbnN1cmVkU2VxOiBbe3ZhbGlkYXRvcjogY2hlY2tTZXEsIHRyaWdnZXI6ICdibHVyJ31dLA0KICAgICAgICBibmZBZ2U6IFsNCiAgICAgICAgICB7dmFsaWRhdG9yOiBjaGVja0FnZSwgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICBibmZTZXg6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uQXBwbnRTZXhtc2cnKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgICAgfV0NCiAgICAgIH0sDQogICAgICBiZW5lZmljaWFyeUZvcm1GbGFnOiBmYWxzZSwNCiAgICAgIGJuZlVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgcmVsYVVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgZGlhbG9nVGFibGVWaXNpYmxlMTogZmFsc2UsDQogICAgICAvL+ajgOmqjOinhOWImQ0KICAgICAgcnVsZXM6IHt9DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgY3VzdG9tcGFnZQ0KICB9LA0KICBjb21wdXRlZDoge30sDQogIG1vdW50ZWQoKSB7DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgbGV0IHBkSW5mbyA9IHRoaXMuZ2V0SnNvbkRhdGEoJ3BkVGVzdEluZm8nKQ0KICAgIGlmIChwZEluZm8pIHsNCiAgICAgIHRoaXMucGFyYW1zMS5wZEluZm9JZCA9IHBkSW5mby5pZA0KICAgICAgdGhpcy5wZEluZm8ucGRJbmZvSWQgPSBwZEluZm8uaWQNCiAgICAgIHRoaXMucGRJbmZvLmNvbW1vZGl0eVR5cGUgPSBwZEluZm8uY29tbW9kaXR5VHlwZQ0KDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkSW5mb0lkID0gcGRJbmZvLmlkDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkQ29kZSA9IHBkSW5mby5wZENvZGUNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGROYW1lID0gcGRJbmZvLnBkTmFtZQ0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZEVkaXRpb24gPSBwZEluZm8ucGRFZGl0aW9uDQoNCiAgICAgIHRoaXMuaW5pdFRlc3RGdW5jU2VsZWN0KCduZXdzaW5nbGV0ZXN0JywgcGRJbmZvLmlkKQ0KICAgICAgdGhpcy5pbml0RWxlbWVudChwZEluZm8ucGRDb2RlLCBwZEluZm8uaWQpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmlsdGVyQ3VzdG9tZXJObyhyb3cpIHsNCiAgICAgIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAncG9saWN5aG9sZGVyJykgew0KICAgICAgICByZXR1cm4gcm93LmFwcG50Tm8NCiAgICAgIH0gZWxzZSBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ2luc3VyZWQnKSB7DQogICAgICAgIHJldHVybiByb3cuaW5zdXJlZE5vDQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdiZW5lZmljaWFyeScpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZObw0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyU2VxKHJvdykgew0KICAgICAgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdwb2xpY3lob2xkZXInKSB7DQogICAgICAgIHJldHVybiByb3cuYXBwbnRTZXENCiAgICAgIH0gZWxzZSBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ2luc3VyZWQnKSB7DQogICAgICAgIHJldHVybiByb3cuaW5zdXJlZFNlcQ0KICAgICAgfSBlbHNlIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAnYmVuZWZpY2lhcnknKSB7DQogICAgICAgIHJldHVybiByb3cuYm5mU2VxDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJTZXgocm93KSB7DQogICAgICBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ3BvbGljeWhvbGRlcicpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5hcHBudFNleA0KICAgICAgfSBlbHNlIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAnaW5zdXJlZCcpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5pbnN1cmVkU2V4DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdiZW5lZmljaWFyeScpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZTZXgNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlckFnZShyb3cpIHsNCiAgICAgIGxldCB1bml0ID0gJycNCiAgICAgIGlmIChyb3cuYWdlVW5pdCA9PT0gJ1knKSB7DQogICAgICAgIHVuaXQgPSAnKOWygSknDQogICAgICB9DQogICAgICBpZiAocm93LmFnZVVuaXQgPT09ICdEJykgew0KICAgICAgICB1bml0ID0gJyjlpKkpJw0KICAgICAgfQ0KICAgICAgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdwb2xpY3lob2xkZXInKSB7DQogICAgICAgIHJldHVybiByb3cuYXBwbnRBZ2UgKyB1bml0DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdpbnN1cmVkJykgew0KICAgICAgICByZXR1cm4gcm93Lmluc3VyZWRBcHBBZ2UgKyB1bml0DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICdiZW5lZmljaWFyeScpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZBZ2UgKyB1bml0DQogICAgICB9DQogICAgfSwNCiAgICBzYXZlUG9saWN5SG9sZGVyKCkgew0KICAgICAgdGhpcy4kcmVmcy5wb2xpY3lGb3JtLnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIC8v5p+l6K+i5a6i5oi35Y+3DQogICAgICAgICAgcXVlcnlDdXN0b21lck5vKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgICAgICAnc2V4JzogdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRTZXgsDQogICAgICAgICAgICAnYWdlJzogdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRBZ2UNCiAgICAgICAgICB9KSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgbGV0IGN1c3RvbU5vID0gcmVzLmRhdGENCiAgICAgICAgICAgIGlmIChjdXN0b21Obykgew0KICAgICAgICAgICAgICB0aGlzLnBvbGljeUhvbGRlci5hcHBudE5vID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgaWYgKHRoaXMucG9saWN5VXBkYXRlRmxhZykgeyAvL+W9k+WJjeS4uuabtOaWsA0KICAgICAgICAgICAgICAgIGxldCBjdXJyZW50S2V5ID0gdGhpcy5wb2xpY3lIb2xkZXIucEtleQ0KICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wb2xpY3lIb2xkZXIpDQogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMgPSB0aGlzLmN1c3RvbWVycy5tYXAoaXRlbSA9PiBpdGVtLnBLZXkgPT09IGN1cnJlbnRLZXkgPyB0ZW1wIDogaXRlbSkNCiAgICAgICAgICAgICAgICB0aGlzLnBvbGljeVVwZGF0ZUZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMucG9saWN5SG9sZGVyLnBLZXkgPSAncG9saWN5JyArICh0aGlzLmN1c3RvbWVycy5sZW5ndGggKyAxKQ0KICAgICAgICAgICAgICAgIHRoaXMucG9saWN5SG9sZGVyLmN1c3RvbWVyUm9sZSA9ICfmipXkv53kuronDQogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBvbGljeUhvbGRlcikNCiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVycy5wdXNoKHRlbXApDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wb2xpY3lGb3JtLnJlc2V0RmllbGRzKCkNCiAgICAgICAgICAgICAgdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRTZXEgPSB0aGlzLnBvbGljeUhvbGRlci5hcHBudFNlcSArIDENCiAgICAgICAgICAgICAgdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRObyA9ICcnDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uY3VzdG9tTm9FcnJvck1zZycpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBzYXZlSW5zdXJlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnNbJ2luc3VyZWRGb3JtJ10udmFsaWRhdGUocGFzcyA9PiB7DQogICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgLy/mn6Xor6LlrqLmiLflj7cNCiAgICAgICAgICBxdWVyeUN1c3RvbWVyTm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHsNCiAgICAgICAgICAgICdzZXgnOiB0aGlzLmluc3VyZWQuaW5zdXJlZFNleCwNCiAgICAgICAgICAgICdhZ2UnOiB0aGlzLmluc3VyZWQuaW5zdXJlZEFwcEFnZQ0KICAgICAgICAgIH0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBsZXQgY3VzdG9tTm8gPSByZXMuZGF0YQ0KICAgICAgICAgICAgaWYgKGN1c3RvbU5vKSB7DQogICAgICAgICAgICAgIHRoaXMuaW5zdXJlZC5pbnN1cmVkTm8gPSByZXMuZGF0YQ0KICAgICAgICAgICAgICBpZiAodGhpcy5pbnN1cmVkVXBkYXRlRmxhZykgeyAvL+W9k+WJjeS4uuabtOaWsA0KICAgICAgICAgICAgICAgIGxldCBjdXJyZW50S2V5ID0gdGhpcy5pbnN1cmVkLnBLZXkNCiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5zdXJlZCkNCiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVycyA9IHRoaXMuY3VzdG9tZXJzLm1hcChpdGVtID0+IGl0ZW0ucEtleSA9PT0gY3VycmVudEtleSA/IHRlbXAgOiBpdGVtKQ0KICAgICAgICAgICAgICAgIHRoaXMuaW5zdXJlZFVwZGF0ZUZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaW5zdXJlZC5wS2V5ID0gJ2luc3VyZWQnICsgKHRoaXMuY3VzdG9tZXJzLmxlbmd0aCArIDEpDQogICAgICAgICAgICAgICAgdGhpcy5pbnN1cmVkLmN1c3RvbWVyUm9sZSA9ICfooqvkv53kuronDQogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluc3VyZWQpDQogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMucHVzaCh0ZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW5zdXJlZEZvcm0ucmVzZXRGaWVsZHMoKQ0KICAgICAgICAgICAgICB0aGlzLmluc3VyZWQuaW5zdXJlZFNlcSA9IHRoaXMuaW5zdXJlZC5pbnN1cmVkU2VxICsgMQ0KICAgICAgICAgICAgICB0aGlzLmluc3VyZWQuaW5zdXJlZE5vID0gJycNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi5jdXN0b21Ob0Vycm9yTXNnJykpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNob3dCZW5lZmljaWFyeUZvcm0oKSB7DQogICAgICB0aGlzLmJlbmVmaWNpYXJ5Rm9ybUZsYWcgPSAhdGhpcy5iZW5lZmljaWFyeUZvcm1GbGFnDQogICAgfSwNCiAgICBzaG93UG9saWN5SG9sZGVyRm9ybSgpIHsNCiAgICAgIHRoaXMucG9saWN5SG9sZGVyRm9ybUZsYWcgPSAhdGhpcy5wb2xpY3lIb2xkZXJGb3JtRmxhZw0KICAgIH0sDQogICAgc2F2ZUJlbmVmaWNpYXJ5KCkgew0KDQogICAgICBsZXQgaW5zdXJlZFNlcSA9IHRoaXMuYmVuZWZpY2lhcnkuYmVsVG9JbnN1cmVkU2VxDQoNCiAgICAgIHRoaXMuJHJlZnNbJ2JuZkZvcm0nXS52YWxpZGF0ZShwYXNzID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICAvL+agoemqjOiiq+S/neS6uuW6j+WIl+WtmOWcqA0KICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVycy5maWx0ZXIocmVzID0+IHJlcy5jdXN0b21lckNvZGUgPT09ICdpbnN1cmVkJyAmJiByZXMuaW5zdXJlZFNlcSA9PT0gaW5zdXJlZFNlcSkubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgLy/mn6Xor6LlrqLmiLflj7cNCiAgICAgICAgICAgIHF1ZXJ5Q3VzdG9tZXJObyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoew0KICAgICAgICAgICAgICAnc2V4JzogdGhpcy5iZW5lZmljaWFyeS5ibmZTZXgsDQogICAgICAgICAgICAgICdhZ2UnOiB0aGlzLmJlbmVmaWNpYXJ5LmJuZkFnZQ0KICAgICAgICAgICAgfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgbGV0IGN1c3RvbU5vID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgaWYgKGN1c3RvbU5vKSB7DQogICAgICAgICAgICAgICAgdGhpcy5iZW5lZmljaWFyeS5ibmZObyA9IHJlcy5kYXRhDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuYm5mVXBkYXRlRmxhZykgeyAvL+W9k+WJjeS4uuabtOaWsA0KICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRLZXkgPSB0aGlzLmJlbmVmaWNpYXJ5LnBLZXkNCiAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5iZW5lZmljaWFyeSkNCiAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJzID0gdGhpcy5jdXN0b21lcnMubWFwKGl0ZW0gPT4gaXRlbS5wS2V5ID09PSBjdXJyZW50S2V5ID8gdGVtcCA6IGl0ZW0pDQogICAgICAgICAgICAgICAgICB0aGlzLmJuZlVwZGF0ZUZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmJlbmVmaWNpYXJ5LnBLZXkgPSAnYm5mJyArICh0aGlzLmN1c3RvbWVycy5sZW5ndGggKyAxKQ0KICAgICAgICAgICAgICAgICAgdGhpcy5iZW5lZmljaWFyeS5jdXN0b21lclJvbGUgPSAn5Y+X55uK5Lq6Jw0KICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmJlbmVmaWNpYXJ5KQ0KICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMucHVzaCh0ZW1wKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmJuZkZvcm0ucmVzZXRGaWVsZHMoKQ0KICAgICAgICAgICAgICAgIHRoaXMuYmVuZWZpY2lhcnkuYm5mU2VxID0gdGhpcy5pbnN1cmVkLmJuZlNlcSArIDENCiAgICAgICAgICAgICAgICB0aGlzLmJlbmVmaWNpYXJ5LmJuZk5vID0gJycNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uY3VzdG9tTm9FcnJvck1zZycpKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3Byb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24ubm90RXhpc3RJbnN1cmVTZXFFcnJvck1zZycpKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbEN1c3RvbWVyKHJvdykgew0KICAgICAgdGhpcy5jdXN0b21lcnMgPSB0aGlzLmN1c3RvbWVycy5maWx0ZXIoZGF0YSA9PiBkYXRhLnBLZXkgIT09IHJvdy5wS2V5KQ0KICAgICAgdGhpcy4kcmVmcy5wb2xpY3lIb2xkZXIucmVzZXRGaWVsZHMoKQ0KICAgIH0sDQogICAgaGFuZGxlVXBkYXRlQ3VzdG9tZXIocm93KSB7DQogICAgICBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ3BvbGljeWhvbGRlcicpIHsNCiAgICAgICAgdGhpcy5wb2xpY3lIb2xkZXIgPSBPYmplY3QuYXNzaWduKHt9LCByb3cpDQogICAgICAgIHRoaXMucG9saWN5VXBkYXRlRmxhZyA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ2luc3VyZWQnKSB7DQogICAgICAgIHRoaXMuaW5zdXJlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJvdykNCiAgICAgICAgdGhpcy5pbnN1cmVkVXBkYXRlRmxhZyA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gJ2JlbmVmaWNpYXJ5Jykgew0KICAgICAgICB0aGlzLmJlbmVmaWNpYXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KQ0KICAgICAgICB0aGlzLmJuZlVwZGF0ZUZsYWcgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICBkb3dubG9hZENhc2VEZWYocm93KSB7DQogICAgICBsZXQgZmlsZU5hbWUgPSByb3cucGRUZXN0Q2FzZUNvZGUgKyAn5LiK5Lyg5a6a5LmJLnhsc20nDQogICAgICBkb3dubG9hZENhc2VEZWYodGhpcy5idWlsZFJlcXVlc3REYXRhKHsndGVzdENhc2VQYXRoJzogcm93LnBkVGVzdENhc2VQYXRofSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5kb3dubG9hZFJlc3BvbnNlRmlsZShyZXMsIGZpbGVOYW1lKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZUNhc2VEZWYoaWQpIHsNCiAgICAgIGRlbGV0ZUNhc2UoaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQ0KICAgICAgICB0aGlzLiRyZWZzLnBhZ2UxLnJlbG9hZCgpDQogICAgICAgIHRoaXMucmVzZXRDYXNlRGVmKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICByZXNldENhc2VEZWYoKSB7DQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLmlkID0gJycNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGRUZXN0Q2FzZURlc2MgPSAnJw0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi50ZXN0UG9pbnQgPSAnJw0KICAgICAgdGhpcy50ZXN0Q2FzZVVwZGF0ZUZsYWcgPSBmYWxzZQ0KICAgICAgdGhpcy5jdXN0b21lcnMgPSBbXQ0KICAgICAgdGhpcy5jdXJyZW50UGRQYWdlRGF0YSA9IHt9DQogICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcyA9IFtdDQogICAgICB0aGlzLmNvbmZpZ3MzID0gW10NCiAgICAgIHRoaXMudGFibGVGbGFnID0gZmFsc2UNCiAgICAgIHRoaXMucmVsYUVsZW1lbnRTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMuaW5pdEVsZW1lbnQodGhpcy5DYXNlRGVmaW5pdGlvbi5wZENvZGUsIHRoaXMuQ2FzZURlZmluaXRpb24ucGRJbmZvSWQpDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGVDYXNlKHJvdykgew0KICAgICAgdGhpcy50ZXN0Q2FzZVVwZGF0ZUZsYWcgPSB0cnVlDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLmlkID0gcm93LmlkDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkSW5mb0lkID0gcm93LnBkSW5mb0lkDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkQ29kZSA9IHJvdy5wZENvZGUNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGRFZGl0aW9uID0gcm93LnBkRWRpdGlvbg0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZE5hbWUgPSByb3cucGROYW1lDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkVGVzdENhc2VEZXNjID0gcm93LnBkVGVzdENhc2VEZXNjDQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnRlc3RQb2ludCA9IHJvdy5wZEZ1bmNEZXNjLm1hcChkYXRhID0+IGRhdGEucGRfdGVzdF9mdW5jX2lkKQ0KICAgICAgLy/lpITnkIZkYXRhDQogICAgICBsZXQgcGRUZXN0Q2FzZURhdGEgPSBKU09OLnBhcnNlKHJvdy5wZFRlc3RDYXNlRGF0YSkNCg0KICAgICAgbGV0IGRhdGEgPSBwZFRlc3RDYXNlRGF0YS50ZXN0RGF0YQ0KDQogICAgICB0aGlzLmN1c3RvbWVycyA9IGRhdGEuY3VzdG9tZXJzDQogICAgICB0aGlzLmN1cnJlbnRQZFBhZ2VEYXRhID0gZGF0YS5jdXJyZW50UGRQYWdlRGF0YQ0KICAgICAgdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMgPSBkYXRhLnJlbGFQZFBhZ2VEYXRhDQoNCiAgICAgIGlmICh0aGlzLnBkSW5mby5jb21tb2RpdHlUeXBlID09PSAnUicpIHsNCg0KICAgICAgICAvL+WbnuaYvumZqeenjeWumuS5iemhtemdoueahOagj+S9jQ0KDQogICAgICAgIC8v5LiN6IO955u05o6l6YGN5Y6G6LWL5YC8IOmcgOS9v+eUqOS4remXtOi9rOaNog0KICAgICAgICBsZXQgdGVtcCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5lbGVtZW50RGF0YXMpKQ0KICAgICAgICB0ZW1wLmZvckVhY2godGVtID0+IHsNCiAgICAgICAgICB0ZW0uY29uZmlnLmRlZmF1bHRWYWx1ZSA9IHRoaXMuY3VycmVudFBkUGFnZURhdGFbdGVtLnZNb2RlbF0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5lbGVtZW50RGF0YXMgPSB0ZW1wDQogICAgICAgIHRoaXMucXVlcnlSZWxhUGREYXRhKCkNCiAgICAgIH0NCg0KICAgIH0sDQogICAgaW5pdEVsZW1lbnQocGRDb2RlLCBwZEluZm9JZCkgew0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICdwZENvZGUnOiBwZENvZGUsDQogICAgICAgICdwZEluZm9JZCc6IHBkSW5mb0lkDQogICAgICB9DQogICAgICBpbml0RWxlbWVudCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmVsZW1lbnREYXRhcyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5lbGVtZW50RGF0YXNTaG93ID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHF1ZXJ5UmVsYVBkRGF0YSgpIHsNCiAgICAgIHRoaXMudGFibGVGbGFnID0gIXRoaXMudGFibGVGbGFnDQogICAgICBpZiAodGhpcy50YWJsZUZsYWcpIHsNCiAgICAgICAgbGV0IGRhdGEgPSB7J3BkSW5mb0lkJzogdGhpcy5wZEluZm8ucGRJbmZvSWR9DQogICAgICAgIHF1ZXJ5UmVsYVBkKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBsaXN0ID0gcmVzLmRhdGENCiAgICAgICAgICB0aGlzLnJlbGFQZExpc3QgPSByZXMuZGF0YQ0KICAgICAgICAgIHRoaXMucmVsYVBkU2VsZWN0ID0gW10NCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGxldCBkYXRhID0gbGlzdFtpXQ0KICAgICAgICAgICAgdGhpcy5yZWxhUGRTZWxlY3QucHVzaCh7DQogICAgICAgICAgICAgICdsYWJlbCc6IGRhdGEucGRSZWxhSXRlbVZhbCArICc6JyArIGRhdGEucGRSZWxhSXRlbU5hbWUsDQogICAgICAgICAgICAgICd2YWx1ZSc6IGRhdGEucGRSZWxhSXRlbVZhbA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvL+WbnuWhq+aVsOaNrg0KICAgICAgICAgIGlmICh0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcyAmJiB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLmNvbmZpZ3MzID0gW10NCiAgICAgICAgICAgIHRoaXMucmVsYVBkUGFnZUVsZURhdGFzLmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgICAgICAgIGxldCBwZENvZGUgPSBkYXRhLnJlbGFQZENvZGUNCiAgICAgICAgICAgICAgbGV0IHBkRWRpdGlvbiA9IGRhdGEucmVsYVBkRWRpdGlvbg0KICAgICAgICAgICAgICBsZXQgdGVtcERhdGEgPSB0aGlzLnJlbGFQZExpc3QuZmlsdGVyKGRhdGEyID0+IGRhdGEyLnBkUmVsYUl0ZW1WYWwgPT09IHBkQ29kZSAmJiBkYXRhMi5wZFJlbGFJdGVtRWRpdGlvbiA9PT0gcGRFZGl0aW9uKVswXQ0KICAgICAgICAgICAgICB0ZW1wRGF0YVsnZGVmU3RhdHVzJ10gPSAnWScNCiAgICAgICAgICAgICAgdGhpcy5jb25maWdzMy5wdXNoKHRlbXBEYXRhKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBxdWVyeVBkRWR0aW9uKHZhbCkgew0KICAgICAgdGhpcy5yZWxhUGRFZGl0aW9uU2VsZWN0ID0gW10NCiAgICAgIHRoaXMucmVsYVBkTGlzdC5maWx0ZXIoZGF0YSA9PiBkYXRhLnBkUmVsYUl0ZW1WYWwgPT09IHZhbCkuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgdGhpcy5yZWxhUGRFZGl0aW9uU2VsZWN0LnB1c2goeydsYWJlbCc6IGRhdGEucGRSZWxhSXRlbUVkaXRpb24sICd2YWx1ZSc6IGRhdGEucGRSZWxhSXRlbUVkaXRpb259KQ0KICAgICAgfSkNCiAgICAgIHRoaXMucmVsYVBkRm9ybS5yZWxhUGRFZGl0aW9uU2VkID0gJycNCiAgICB9LA0KICAgIGluaXRSZWxhUGRUYWJsZURhdGEoKSB7DQogICAgICB0aGlzLiRyZWZzLnJlbGFQZEZvcm0udmFsaWRhdGUocGFzcyA9PiB7DQogICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgbGV0IHBkQ29kZSA9IHRoaXMucmVsYVBkRm9ybS5yZWxhUGRTZWQNCiAgICAgICAgICBsZXQgcGRFZGl0aW9uID0gdGhpcy5yZWxhUGRGb3JtLnJlbGFQZEVkaXRpb25TZWQNCiAgICAgICAgICB0aGlzLnJlbGFFbGVtZW50U2hvdyA9IGZhbHNlDQogICAgICAgICAgbGV0IGZsYWcgPSB0aGlzLmNvbmZpZ3MzLnNvbWUoZGF0YSA9PiB7DQogICAgICAgICAgICByZXR1cm4gKGRhdGEucGRSZWxhSXRlbVZhbCA9PT0gcGRDb2RlICYmIGRhdGEucGRSZWxhSXRlbUVkaXRpb24gPT09IHBkRWRpdGlvbikNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgbGV0IHRlbXBEYXRhID0gdGhpcy5yZWxhUGRMaXN0LmZpbHRlcihkYXRhMiA9PiBkYXRhMi5wZFJlbGFJdGVtVmFsID09PSBwZENvZGUgJiYgZGF0YTIucGRSZWxhSXRlbUVkaXRpb24gPT09IHBkRWRpdGlvbilbMF0NCiAgICAgICAgICAgIHRlbXBEYXRhWydkZWZTdGF0dXMnXSA9ICdOJw0KICAgICAgICAgICAgdGhpcy5jb25maWdzMy5wdXNoKHRlbXBEYXRhKQ0KICAgICAgICAgICAgdGhpcy5zZWxlY3RDb25maWdzMyA9ICcnDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi5yZWxhQWRkTXNnJykpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsU2VsZWN0UmVsYVBkKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMucmVsYUVsZW1lbnRTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMuc2VsZWN0Q29uZmlnczMgPSAnJw0KICAgICAgdGhpcy5jb25maWdzMy5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcyA9IHRoaXMucmVsYVBkUGFnZUVsZURhdGFzLmZpbHRlcihkYXRhMiA9PiAhKHJvdy5wZFJlbGFJdGVtVmFsID09PSBkYXRhMi5yZWxhUGRDb2RlICYmIHJvdy5wZFJlbGFJdGVtRWRpdGlvbiA9PT0gZGF0YTIucmVsYVBkRWRpdGlvbikpDQogICAgfSwNCiAgICBzYXZlUmVsYVBkUGFnZUVsZW1lbnQoKSB7DQogICAgICBsZXQgZGF0YSA9IHt9DQogICAgICBsZXQgcmVzdWx0ID0ge30NCiAgICAgIGxldCBmbGFnID0gdHJ1ZQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGFFbGVtZW50RGF0YXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnJlbGFFbGVtZW50RGF0YXNbaV0NCiAgICAgICAgaWYgKGRhdGEucmVxdWlyZWQpIHsNCiAgICAgICAgICBpZiAoIWRhdGEuY29uZmlnLmRlZmF1bHRWYWx1ZSkgew0KICAgICAgICAgICAgZmxhZyA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfor7fovpPlhaUnICsgZGF0YS5sYWJlbCkNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJlc3VsdFtkYXRhLnZNb2RlbF0gPSBkYXRhLmNvbmZpZy5kZWZhdWx0VmFsdWUNCiAgICAgIH0NCiAgICAgIGlmIChmbGFnKSB7DQogICAgICAgIGRhdGFbJ3JlbGFQZENvZGUnXSA9IHRoaXMucmVsYVBkQ29kZQ0KICAgICAgICBkYXRhWydyZWxhUGRFZGl0aW9uJ10gPSB0aGlzLnJlbGFQZEVkaXRpb24NCiAgICAgICAgZGF0YVsncGFyYW0nXSA9IHJlc3VsdA0KICAgICAgICBpZiAodGhpcy5yZWxhVXBkYXRlRmxhZykgew0KICAgICAgICAgIHRoaXMucmVsYVBkUGFnZUVsZURhdGFzID0gdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMubWFwKGl0ZW0gPT4gKGl0ZW0ucmVsYVBkQ29kZSA9PT0gdGhpcy5yZWxhUGRDb2RlICYmDQogICAgICAgICAgICBpdGVtLnJlbGFQZEVkaXRpb24gPT09IHRoaXMucmVsYVBkRWRpdGlvbikgPyBkYXRhIDogaXRlbSkNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UudXBkYXRlJykpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMucHVzaChkYXRhKQ0KICAgICAgICAgIGxldCB0ZW1wQ29uZmlnczMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnczMpKQ0KICAgICAgICAgIHRlbXBDb25maWdzMy5mb3JFYWNoKGNvbiA9PiB7DQogICAgICAgICAgICBpZiAoY29uLnBkUmVsYUl0ZW1WYWwgPT09IHRoaXMucmVsYVBkQ29kZSAmJiBjb24ucGRSZWxhSXRlbUVkaXRpb24gPT09IHRoaXMucmVsYVBkRWRpdGlvbikgew0KICAgICAgICAgICAgICBjb24uZGVmU3RhdHVzID0gJ1knDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmNvbmZpZ3MzID0gdGVtcENvbmZpZ3MzDQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb25maWdzMykNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuYWRkJykpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5yZWxhVXBkYXRlRmxhZyA9IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVJlbGFQZChyb3cpIHsNCiAgICAgIHRoaXMucmVsYVBkRWRpdGlvbiA9IHJvdy5wZFJlbGFJdGVtRWRpdGlvbg0KICAgICAgdGhpcy5yZWxhUGRDb2RlID0gcm93LnBkUmVsYUl0ZW1WYWwNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAncGRDb2RlJzogcm93LnBkUmVsYUl0ZW1WYWwsDQogICAgICAgICdwZEluZm9JZCc6IHJvdy5wZFJlbGFJdGVtSWQNCiAgICAgIH0NCiAgICAgIHRoaXMucmVsYUVsZW1lbnRTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMucmVsYVVwZGF0ZUZsYWcgPSBmYWxzZQ0KICAgICAgaW5pdEVsZW1lbnQodGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5yZWxhRWxlbWVudERhdGFzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICBsZXQgdGVtcCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5yZWxhRWxlbWVudERhdGFzKSkgLy/mt7HlhYvpmoYNCiAgICAgICAgaWYgKHRoaXMucmVsYUVsZW1lbnREYXRhcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5yZWxhRWxlbWVudFNob3cgPSB0cnVlDQogICAgICAgICAgLy/lm57mmL7lvZPliY3mkK3phY3kuqflk4HkuIvpmannp43pobXpnaLnmoTmlbDmja4NCiAgICAgICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcy5maWx0ZXIocmVsYWRhdGEgPT4gcmVsYWRhdGEucmVsYVBkQ29kZSA9PT0gZGF0YS5wZENvZGUgJiYgcmVsYWRhdGEucmVsYVBkRWRpdGlvbiA9PT0gdGhpcy5yZWxhUGRFZGl0aW9uKS5mb3JFYWNoKHRlbXAyID0+IHsNCiAgICAgICAgICAgIGxldCBwYXJhbSA9IHRlbXAyLnBhcmFtDQogICAgICAgICAgICB0ZW1wLmZvckVhY2gocmVsYSA9PiB7DQogICAgICAgICAgICAgIHJlbGEuY29uZmlnLmRlZmF1bHRWYWx1ZSA9IHBhcmFtW3JlbGEudk1vZGVsXQ0KICAgICAgICAgICAgICB0aGlzLnJlbGFVcGRhdGVGbGFnID0gdHJ1ZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMucmVsYUVsZW1lbnREYXRhcyA9IHRlbXANCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNhdmVDYXNlRGVmKCkgew0KDQogICAgICB0aGlzLiRyZWZzLmNhc2VEZWZGb3JtLnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIGlmICh0aGlzLmN1c3RvbWVycyAmJiB0aGlzLmN1c3RvbWVycy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLkNhc2VEZWZpbml0aW9uWydwZFRlc3RNb2R1bGVDb2RlJ10gPSAnbmV3c2luZ2xldGVzdCcNCiAgICAgICAgICAgIHRoaXMuQ2FzZURlZmluaXRpb25bJ2RhdGEnXSA9IHt9DQogICAgICAgICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLmRhdGFbJ2N1c3RvbWVycyddID0gdGhpcy5jdXN0b21lcnMNCiAgICAgICAgICAgIC8v5L+d5a2Y5Lqn5ZOB6Zmp56eN5a6a5Yi26aG16Z2i5L+h5oGvDQogICAgICAgICAgICBsZXQgcmVzdWx0ID0ge30NCiAgICAgICAgICAgIGxldCBmbGFnID0gdHJ1ZQ0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnREYXRhcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZWxlbWVudERhdGFzW2ldDQogICAgICAgICAgICAgIGlmIChkYXRhLnJlcXVpcmVkKSB7DQogICAgICAgICAgICAgICAgaWYgKCFkYXRhLmNvbmZpZy5kZWZhdWx0VmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcign6K+36L6T5YWl5b2T5YmN5Lqn5ZOB5LiLJyArIGRhdGEubGFiZWwpDQogICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICByZXN1bHRbZGF0YS52TW9kZWxdID0gZGF0YS5jb25maWcuZGVmYXVsdFZhbHVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZmxhZykgew0KICAgICAgICAgICAgICByZXN1bHRbJ3Byb2R1Y3RDb2RlJ10gPSB0aGlzLkNhc2VEZWZpbml0aW9uLnBkQ29kZQ0KICAgICAgICAgICAgICByZXN1bHRbJ3Byb2R1Y3RWZXJzaW9uTm8nXSA9IHRoaXMuQ2FzZURlZmluaXRpb24ucGRFZGl0aW9uDQogICAgICAgICAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24uZGF0YVsnY3VycmVudFBkUGFnZURhdGEnXSA9IHJlc3VsdA0KICAgICAgICAgICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLmRhdGFbJ3JlbGFQZFBhZ2VEYXRhJ10gPSB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcw0KICAgICAgICAgICAgICAvL+S/neWtmOWFpeW6kw0KICAgICAgICAgICAgICBzYXZlQ2FzZURlZih0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5DYXNlRGVmaW5pdGlvbikpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZTEucmVsb2FkKCkNCiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Q2FzZURlZigpDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoJ+ivt+aWsOWinua1i+ivleahiOS+i+aVsOaNricpDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZm9jdXNJdGVtKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGluaXRUZXN0RnVuY1NlbGVjdCh0ZXN0TW9kdWxlQ29kZSwgcGRJbmZvSWQpIHsNCiAgICAgIHRoaXMuZnVuY1NlbGVjdCA9IFtdDQogICAgICBxdWVyeVBkVGVzdEZ1bmModGhpcy5idWlsZFJlcXVlc3REYXRhKHsndGVzdE1vZHVsZUNvZGUnOiB0ZXN0TW9kdWxlQ29kZSwgJ3BkSW5mb0lkJzogcGRJbmZvSWR9KSkudGhlbihyZXMgPT4gew0KICAgICAgICBsZXQgZnVuY3MgPSByZXMuZGF0YQ0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgbGV0IGRhdGEgPSBmdW5jc1tpXQ0KICAgICAgICAgIHRoaXMuZnVuY1NlbGVjdC5wdXNoKHsnbGFiZWwnOiBkYXRhLnBkVGVzdEZ1bmNDb2RlICsgJzonICsgZGF0YS5wZFRlc3RGdW5jRGVzYywgJ3ZhbHVlJzogZGF0YS5pZH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB0ZW1wbGF0ZURvd25sb2FkKCkgew0KICAgICAgZG93bmxvYWRDYXNlVGVtcGxhdGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHsndGVzdE1vZHVsZSc6ICduZXdzaW5nbGV0ZXN0J30pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuZG93bmxvYWRSZXNwb25zZUZpbGUocmVzLCAnTmV3U2luZ2xlVGVzdENhc2VUZW1wbGF0ZS54bHNtJykNCiAgICAgIH0pDQogICAgfSwNCiAgICBvcGVuVXBsb2FkRGlhbG9nKCkgew0KICAgICAgdGhpcy5kaWFsb2dUYWJsZVZpc2libGUxID0gdHJ1ZQ0KICAgIH0sDQogICAgdGVzdENhc2VVcGxvYWQoKSB7DQogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcign6K+36YCJ5oup5LiK5Lyg55qE5paH5Lu2JykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBmb3JtRGF0YSA9IHRoaXMudXBsb2FkVXRpbCh0aGlzLmZpbGVMaXN0KQ0KICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3BkSW5mb0lkJywgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZEluZm9JZCkNCiAgICAgICAgdXBsb2FkVGVzdENhc2UoZm9ybURhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ+S4iuS8oOaIkOWKnycpDQogICAgICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xlYXJGaWxlcygpDQogICAgICAgICAgdGhpcy5iYWNrMSgpDQogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlMS5yZWxvYWQoKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgYmFjazEoKSB7DQogICAgICB0aGlzLmRpYWxvZ1RhYmxlVmlzaWJsZTEgPSBmYWxzZQ0KICAgIH0sDQogICAgYmFja1BhZ2UoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9wcm9kdWN0LXRlc3RpbmcvbmV3LXNpbmdsZS10ZXN0L25ldy1zaW5nbGUtdGVzdC1kZXRhaWwnfSkNCiAgICB9LA0KICAgIC8v5paH5Lu254q25oCB5pS55Y+Y5pe255qE6ZKp5a2Q77yM5re75Yqg5paH5Lu244CB5LiK5Lyg5oiQ5Yqf5ZKM5LiK5Lyg5aSx6LSl5pe26YO95Lya6KKr6LCD55SoDQogICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMSkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVMaXN0Lmxlbmd0aCAtIDE7IGkrKykgew0KICAgICAgICAgIGlmIChmaWxlLm5hbWUgPT09IGZpbGVMaXN0W2ldLm5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOaWh+S7tuWQjeS4jeiDvemHjeWkjSEnLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZpbGVMaXN0LnBvcCgpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3QNCg0KICAgICAgLyoNCiAgICAgdmFyIG1zZyA9IGZpbGUubmFtZS5zdWJzdHJpbmcoZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKQ0KICAgICAvL+WIpOaWreaWh+S7tuagvOW8jw0KICAgICBpZiAoIShtc2cgPT09ICd4bHMnIHx8IG1zZyA9PT0gJ3hsc3gnKSkgew0KICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICB0aXRsZTogJ+mUmeivrycsDQogICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5paH5Lu25Y+q6IO95pivIHhsc+OAgXhsc3jmoLzlvI8hJywNCiAgICAgICAgIGR1cmF0aW9uOiAyMDANCiAgICAgICB9KQ0KICAgICAgIHJldHVybg0KICAgICB9Ki8NCiAgICAgIC8v5Yik5pat5paH5Lu25aSn5bCPDQogICAgICBpZiAoIShmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwKSkgew0KICAgICAgICAvLyB0aGlzLiRyZWZzLmZpbGVVcGxvYWQuY2xlYXJGaWxlcygpDQogICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgdGl0bGU6ICfplJnor68nLA0KICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmlofku7blpKflsI/kuI3og73otoXov4cgMTBNQiEnLA0KICAgICAgICAgIGR1cmF0aW9uOiA1MDANCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICB9LA0KICAgIC8v5paH5Lu26LaF5Ye65Liq5pWw6ZmQ5Yi25pe255qE6ZKp5a2QDQogICAgaGFuZGxlRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy4kbm90aWZ5Lndhcm5pbmcoew0KICAgICAgICB0aXRsZTogJ+aPkOekuicsDQogICAgICAgIG1lc3NhZ2U6ICfmnIDlpJrkuIrkvKDkuInkuKrmlofku7Ys5pu/5o2i6K+35YWI56e76Zmk77yBJywNCiAgICAgICAgZHVyYXRpb246IDEwMDANCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVSZXN1bHQocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykgew0KDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDkuIrkvKDmlofku7blpLHotKVgKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3QNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/new-single-test/casedef","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :label=\"$t('productTestingNewCaseDefinition.CaseDefinition')\" @backTo=\"backPage\"/>\r\n\r\n    <cus-commodity-info></cus-commodity-info>\r\n\r\n    <div style=\"margin: 20px 30px 30px 0px\">\r\n      <!-- 产品信息 -->\r\n      <el-row class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n        <el-col :span=\"6\">\r\n          <el-button icon=\"el-icon-cloudy\" size=\"small\" type=\"primary\" @click=\"openUploadDialog\">\r\n            {{ $t('productTestingNewCaseDefinition.testCaseUpload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <!--测试案例-->\r\n\r\n    <cus-table-title :label=\"$t('productTestingNewCaseDefinition.testCase')\"/>\r\n\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs1\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCase\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testPoint')\" align=\"center\"\r\n                       prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}、</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('productTestingNewDetails.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-if=\"scope.row.pdTestCaseDefinition === '2'\" v-auth=\"'new-single-test:downloadCase'\" class=\"filter-button\"\r\n                     icon=\"el-icon-download\" size=\"mini\" @click=\"downloadCaseDef(scope.row)\">\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'new-single-test:deleteCase'\" :disabled=\"scope.row.pdTestStatus==='1'\"\r\n                       @ok=\"deleteCaseDef(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page1\" v-model=\"configs1\" :pageSize=\"10\" :params=\"params1\"\r\n                    url=\"/new-single-test/base/queryPdTestCase\"/>\r\n\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('productTestingNewCaseDefinition.CaseDefinition')\"/>\r\n    <el-form ref=\"caseDefForm\" :model=\"CaseDefinition\" :rules=\"defRules\" class=\"demo-ruleForm\"\r\n             label-width=\"auto\" style=\"margin-left: 30px\">\r\n\r\n      <el-form-item :label=\"$t('productTestingNewCaseDefinition.testPoint')\" prop=\"testPoint\">\r\n        <el-select v-model=\"CaseDefinition.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\" clearable multiple\r\n                   style=\"width: 300px\">\r\n          <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\"\r\n                     :value=\"item.value\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item :label=\"$t('productTestingNewCaseDefinition.testCaseDesc')\" prop=\"pdTestCaseDesc\">\r\n        <el-input v-model=\"CaseDefinition.pdTestCaseDesc\" :autosize=\"{ minRows: 3, maxRows:6}\" maxlength=\"100\"\r\n                  :placeholder=\"$t('i18nView.pleInput')\" show-word-limit style=\"width: 300px\"\r\n                  type=\"textarea\"></el-input>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('productTestingNewCaseDefinition.customer')\"/>\r\n\r\n    <el-table :data=\"customers\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs2\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCustomer\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerrole')\" align=\"center\"\r\n                       prop=\"customerRole\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerseq')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterSeq(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerno')\" align=\"center\"\r\n      >\r\n        <template v-slot=\"scope\">{{ filterCustomerNo(scope.row) }}</template>\r\n\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customersex')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterSex(scope.row) | filterSexType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerage')\" align=\"center\" prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterAge(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"delCustomer(scope.row)\">-</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!--被保人资料-->\r\n\r\n    <cus-form-title :label=\"$t('productTestingNewDetails.insured')\"/>\r\n\r\n    <el-form ref=\"insuredForm\"  :model=\"insured\" :rules=\"insuredRules\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.insuredSeq')\" prop=\"insuredSeq\"\r\n                        required>\r\n            <el-input v-model.number=\"insured.insuredSeq\" clearable filterable type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <el-input v-model=\"insured.insuredNo\" clearable disabled readonly></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.salary')\">\r\n            <el-input v-model.number=\"insured.salary\" clearable type=\"number\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customersex')\" prop=\"insuredSex\">\r\n            <cus-select v-model=\"insured.insuredSex\" :codetype=\"'sex'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerage')\" prop=\"insuredAppAge\"\r\n                        required>\r\n            <el-input v-model.number=\"insured.insuredAppAge\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable>\r\n              <el-select slot=\"append\" v-model=\"insured.ageUnit\" class=\"cst\">\r\n                <el-option :label=\"$t('i18nView.ageY')\" value=\"Y\"/>\r\n                <el-option :label=\"$t('i18nView.dayD')\" value=\"D\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\"\r\n                        prop=\"occupationType\">\r\n            <cus-select v-model=\"insured.occupationType\" :codetype=\"'occupationtype'\" @change=\"\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <el-switch v-model=\"insured.smokeFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewDetails.relationshipWithPrincipalInsured')\"\r\n                        prop=\"relationToMInsured\">\r\n            <cus-select v-model=\"insured.relationToMInsured\" :codetype=\"'relagenttoins'\" clearable\r\n                        filterable>\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col  align=\"right\">\r\n          <el-button :icon=\"this.insuredUpdateFlag? 'el-icon-success': 'el-icon-plus'\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"saveInsured()\">\r\n            {{ this.insuredUpdateFlag ? $t('table.update') : $t('productTestingNewDetails.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-form>\r\n\r\n\r\n    <!--投保人资料-->\r\n    <cus-form-title :label=\"$t('productTestingNewDetails.policyholderInformation')\" :showArrow=\"true\"\r\n                    @show=\"showPolicyHolderForm\"/>\r\n\r\n    <el-form v-show=\"policyHolderFormFlag\" ref=\"policyForm\"  :model=\"policyHolder\" :rules=\"policyHolderRules\"\r\n             label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.policyholderSeq')\" prop=\"appntSeq\"\r\n                        required>\r\n            <el-input v-model.number=\"policyHolder.appntSeq\" clearable filterable type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <el-input v-model=\"policyHolder.appntNo\" clearable disabled readonly/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.salary')\">\r\n            <el-input v-model.number=\"policyHolder.salary\" clearable type=\"number\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customersex')\" prop=\"appntSex\">\r\n            <cus-select v-model=\"policyHolder.appntSex\" :codetype=\"'sex'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerage')\" prop=\"appntAge\"\r\n                        required>\r\n            <el-input v-model.number=\"policyHolder.appntAge\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable>\r\n              <el-select slot=\"append\" v-model=\"policyHolder.ageUnit\" class=\"cst\">\r\n                <el-option :label=\"$t('i18nView.ageY')\" value=\"Y\"/>\r\n                <el-option :label=\"$t('i18nView.dayD')\" value=\"D\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\"\r\n                        prop=\"occupationType\">\r\n            <cus-select v-model=\"policyHolder.occupationType\" :codetype=\"'occupationtype'\" @change=\"\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <el-switch v-model=\"policyHolder.smokeFlag\" active-value=\"Y\" inactive-value=\"N\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewDetails.relationshipWithTheInsured')\"\r\n                        prop=\"relationToInsured\">\r\n            <cus-select v-model=\"policyHolder.relationToInsured\" :codetype=\"'relagenttoins'\" clearable\r\n                        filterable>\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col align=\"right\">\r\n          <el-button :icon=\"this.policyUpdateFlag? 'el-icon-success': 'el-icon-plus'\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"savePolicyHolder\">\r\n            {{ this.policyUpdateFlag ? $t('table.update') : $t('productTestingNewDetails.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-form>\r\n\r\n\r\n    <br/>\r\n\r\n    <!--受益人资料-->\r\n    <cus-form-title :label=\"$t('productTestingNewCaseDefinition.beneficiary')\" :showArrow=\"true\"\r\n                    @show=\"showBeneficiaryForm\"/>\r\n\r\n    <el-form v-show=\"beneficiaryFormFlag\" ref=\"bnfForm\"  :model=\"beneficiary\" :rules=\"beneficiaryRules\"\r\n             label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.bnfSeq')\" prop=\"bnfSeq\" required>\r\n            <el-input v-model.number=\"beneficiary.bnfSeq\" clearable filterable type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.belToInsuredSeq')\" prop=\"bnfSeq\"\r\n                        required>\r\n            <el-input v-model.number=\"beneficiary.belToInsuredSeq\" clearable filterable type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <el-input v-model=\"beneficiary.bnfNo\" clearable disabled readonly></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.salary')\">\r\n            <el-input v-model.number=\"beneficiary.salary\" clearable type=\"number\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customersex')\" prop=\"bnfSex\">\r\n            <cus-select v-model=\"beneficiary.bnfSex\" :codetype=\"'sex'\" @change=\"\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerage')\" prop=\"bnfAge\"\r\n                        required>\r\n            <el-input v-model.number=\"beneficiary.bnfAge\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable>\r\n              <el-select slot=\"append\" v-model=\"beneficiary.ageUnit\" class=\"cst\">\r\n                <el-option :label=\"$t('i18nView.ageY')\" value=\"Y\"/>\r\n                <el-option :label=\"$t('i18nView.dayD')\" value=\"D\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\"\r\n                        prop=\"occupationType\">\r\n            <cus-select v-model=\"beneficiary.occupationType\" :codetype=\"'occupationtype'\" @change=\"\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <el-switch v-model=\"beneficiary.smokeFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewDetails.relationshipWithTheInsured')\"\r\n                        prop=\"relationToInsured\">\r\n            <cus-select v-model=\"beneficiary.relationToInsured\" :codetype=\"'relagenttoins'\" clearable\r\n                        filterable>\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col  align=\"right\">\r\n          <el-button :icon=\"this.bnfUpdateFlag? 'el-icon-success': 'el-icon-plus'\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"saveBeneficiary()\">\r\n            {{ this.bnfUpdateFlag ? $t('table.update') : $t('productTestingNewDetails.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-form>\r\n\r\n    <!--当前产品资料-->\r\n\r\n    <br/>\r\n\r\n    <cus-form-title :label=\"$t('productTestingNewCaseDefinition.currentProduct')\"/>\r\n\r\n\r\n    <custompage v-if=\"elementDatasShow\" :elementDatas=\"elementDatas\"></custompage>\r\n\r\n\r\n    <!-- 产品搭配 -->\r\n    <cus-form-title v-if=\"this.pdInfo.commodityType==='R'\" :label=\"$t('productTestingNewCaseDefinition.productRela')\" :showArrow=\"true\"\r\n                    @show=\"queryRelaPdData\"/>\r\n\r\n    <el-form\r\n      v-if=\"tableFlag\"\r\n      ref=\"relaPdForm\"\r\n\r\n      :model=\"relaPdForm\"\r\n      :rules=\"relaPdRules\"\r\n      label-position=\"right\"\r\n      label-width=\"auto\"\r\n      size=\"medium\"\r\n      style=\"margin-left: 13px;margin-top: 20px\"\r\n    >\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=7>\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.product')\" prop=\"relaPdSed\">\r\n            <el-select v-model=\"relaPdForm.relaPdSed\" clearable filterable @change=\"queryPdEdtion\">\r\n              <el-option v-for=\"item in relaPdSelect\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=7>\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"relaPdEditionSed\">\r\n            <el-select v-model=\"relaPdForm.relaPdEditionSed\" clearable filterable>\r\n              <el-option v-for=\"item in relaPdEditionSelect\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button icon=\"el-icon-plus\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"initRelaPdTableData\">\r\n            {{ $t('table.add') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n\r\n    </el-form>\r\n\r\n    <cus-table-title v-if=\"tableFlag\" :label=\"$t('productTestingNewCaseDefinition.relaPd')\"/>\r\n\r\n    <el-table v-if=\"tableFlag\" :data=\"configs3\" align=\"center\" border class=\"wraper-table\"\r\n              element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs3\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleRelaPd\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                       prop=\"pdRelaItemVal\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"\r\n                       prop=\"pdRelaItemName\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.defStatus')\" align=\"center\"\r\n                       prop=\"defStatus\">\r\n        <template v-slot=\"scope\">{{ scope.row.defStatus === 'Y' ? '已定义' : '未定义' }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.relation')\" align=\"center\"\r\n                       prop=\"pdRelaVal\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdRelaVal | filterRela }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"delSelectRelaPd(scope.$index,scope.row)\">-</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <cus-form-title v-if=\"relaElementShow\" :label=\"$t('productTestingNewCaseDefinition.relaPd')\"/>\r\n\r\n\r\n    <custompage v-if=\"relaElementShow\" :elementDatas=\"relaElementDatas\"></custompage>\r\n\r\n\r\n    <el-row v-if=\"relaElementShow\" style=\"margin-top: 30px\">\r\n      <el-col align=\"right\">\r\n        <el-button :icon=\"this.relaUpdateFlag? 'el-icon-success': 'el-icon-plus'\" size=\"small\"\r\n                   type=\"primary\"\r\n                   @click=\"saveRelaPdPageElement\">\r\n          {{ this.relaUpdateFlag ? $t('table.update') : $t('productTestingNewDetails.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col  align=\"right\">\r\n        <el-button icon=\"el-icon-success\" size=\"small\"\r\n                   type=\"primary\"\r\n                   @click=\"saveCaseDef\">\r\n          {{ this.testCaseUpdateFlag ? $t('table.update') : $t('table.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n\r\n    <!--测试案例上传弹窗-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"dialogTableVisible1\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <div>\r\n      <span style=\"cursor: pointer\" @click=\"back1\">\r\n        <i class=\"el-icon-back\" style=\"margin-right: 5px\">{{ $t('table.back') }}</i>\r\n      </span>\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <label>{{ $t('productTestingNewCaseDefinition.testCaseNewUpload') }}</label>\r\n      </div>\r\n      <hr>\r\n      <br/>\r\n      <cus-commodity-info></cus-commodity-info>\r\n\r\n      <el-row style=\"margin-top: 15px;margin-bottom: 15px\">\r\n        <el-col :span=\"24\" align=\"left\">\r\n          <el-button v-auth=\"'new-single-test:downloadTemplate'\" icon=\"el-icon-download\" size=\"small\"\r\n                     style=\"width: 130px\"\r\n                     type=\"primary\" @click=\"templateDownload\">\r\n            {{ $t('productTestingNewCaseDefinition.templateDownload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <div align=\"left\" class=\"divclass\">\r\n        <div style=\"margin-left: 18px;margin-top: 18px;margin-bottom: 18px\">\r\n          <el-form id=\"uploadForm\">\r\n            <el-form-item>\r\n              <el-upload ref=\"upload\" :auto-upload=\"false\" :file-list=\"fileList\" :limit=\"1\"\r\n                         :on-change=\"handleChange\" :on-remove=\"handleRemove\" action=\"\" drag multiple>\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.uploadText1')}}<em>{{$t('i18nView.uploadText2')}}</em></div>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.chooseOverClick')}}\"{{ $t('table.upload') }}\"{{$t('i18nView.button')}}</div>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">{{$t('i18nView.onlyUploadModelFile')}}</div>\r\n              </el-upload>\r\n\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <el-row style=\"margin-top: 35px\">\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon=\"el-icon-upload\" size=\"small\" style=\"width: 130px\" type=\"primary\" @click=\"testCaseUpload\">\r\n            {{ $t('productTestingNewCaseDefinition.upload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  deleteCase,\r\n  downloadCaseDef,\r\n  downloadCaseTemplate,\r\n  initElement,\r\n  queryCustomerNo,\r\n  queryPdTestFunc,\r\n  queryRelaPd,\r\n  saveCaseDef,\r\n  uploadTestCase\r\n} from '@/api/pdtest/productTestingNew'\r\n\r\nimport custompage from '@/views/product-testing/new-single-test/custompage'\r\n\r\n\r\nlet _this\r\nexport default {\r\n  name: 'productTestingNewCaseDefinition',\r\n  filters: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code]\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code]\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName('sex', code, true)\r\n    }, filterRela(code) {\r\n      return _this.getCodeName('insuranceRelationship', code)\r\n    },\r\n    filterRelationToInsured(code) {\r\n      return _this.getCodeName('relagenttoins', code)\r\n    }\r\n  },\r\n  data() {\r\n    let checkAge = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error(this.$t('productTestingNewCaseDefinition.AppntAgemsg')))\r\n      }\r\n      if (!Number.isInteger(value)) {\r\n        callback(new Error(this.$t(\"i18nView.pleaseInputNumValue\")))\r\n      } else {\r\n        if (value < 1) {\r\n          return callback(new Error(this.$t(\"i18nView.notAge\")))\r\n        } else {\r\n          callback()\r\n        }\r\n      }\r\n    }\r\n    let checkSeq = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error(this.$t('productTestingNewCaseDefinition.AppntSeqmsg')))\r\n      }\r\n      if (value < 1) {\r\n        return callback(new Error('不可小于1'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    _this = this\r\n    return {\r\n      testCaseType: {'1': '自动化测试', '2': '自定义测试'},\r\n      testCaseDefinition: {'1': '页面定义', '2': '上传定义'},\r\n      selectConfigs1: '',\r\n      selectConfigs2: '',\r\n      selectConfigs3: '',\r\n      funcSelect: [],\r\n      elementDatasShow: false,\r\n      elementDatas: {},\r\n      currentPdPageData: {},\r\n      elementRules: {},\r\n      configs1: [],\r\n      configs2: [],\r\n      configs3: [],\r\n      testCaseUpdateFlag: false,\r\n      relaPdList: [],\r\n      relaPdSelect: [],\r\n      relaPdEditionSelect: [],\r\n      relaPdPageEleDatas: [],\r\n      relaPdForm: {\r\n        relaPdSed: '',\r\n        relaPdEditionSed: ''\r\n      },\r\n      relaPdRules: {\r\n        relaPdSed: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.relaPdmsg'),\r\n          trigger: 'change'\r\n        }],\r\n        relaPdEditionSed: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.relaPdEditionmsg'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      relaPdCode: '',\r\n      relaPdEdition: '',\r\n      relaElementDatas: {},\r\n      relaElementShow: false,\r\n      tableFlag: false,\r\n      quickicon: 'el-icon-arrow-right',\r\n      fileList: [],\r\n      params1: {},\r\n      pdInfo: {\r\n        pdInfoId: '',\r\n        commodityType: ''\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: '',\r\n        pdTestCaseDesc: '',\r\n        testPoint: '',\r\n        pdTestModuleCode: ''\r\n\r\n      },\r\n      defRules: {\r\n        pdTestCaseDesc: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.casedescmsg'),\r\n          trigger: 'blur'\r\n        }],\r\n        testPoint: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.testpointmsg'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      CaseDetails: {},\r\n      customers: [],\r\n      policyUpdateFlag: false,\r\n      policyHolderFormFlag: false,\r\n      policyHolder: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'policyholder',\r\n        appntSeq: 1,\r\n        appntAge: '',\r\n        appntNo: '',\r\n        appntSex: '',\r\n        ageUnit: 'Y',\r\n        smokeFlag: 'N',\r\n        relationToInsured: '',\r\n        occupationType: '',\r\n        salary: ''\r\n      },\r\n      policyHolderRules: {\r\n        appntSeq: [{validator: checkSeq, trigger: 'blur'}],\r\n        appntAge: [\r\n          {validator: checkAge, trigger: 'blur'}\r\n        ],\r\n        appntSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t('productTestingNewCaseDefinition.AppntSexmsg'),\r\n            trigger: 'change'\r\n          }]\r\n      },\r\n      insuredUpdateFlag: false,\r\n      insured: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'insured',\r\n        insuredSeq: 1,\r\n        insuredAppAge: '',\r\n        ageUnit: 'Y',\r\n        insuredNo: '',\r\n        insuredSex: '',\r\n        smokeFlag: 'N',\r\n        relationToMInsured: '',\r\n        occupationType: '',\r\n        salary: ''\r\n      },\r\n      insuredRules: {\r\n        insuredSeq: [{validator: checkSeq, trigger: 'blur'}],\r\n        insuredAppAge: [{validator: checkAge, trigger: 'blur'}],\r\n        insuredSex: [{\r\n          required: true, message: this.$t('productTestingNewCaseDefinition.AppntSexmsg'), trigger: 'change'\r\n        }]\r\n      },\r\n      beneficiary: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'beneficiary',\r\n        bnfSeq: 1,\r\n        belToInsuredSeq: '',\r\n        bnfAge: '',\r\n        ageUnit: 'Y',\r\n        bnfNo: '',\r\n        bnfSex: '',\r\n        smokeFlag: 'N',\r\n        relationToInsured: '',\r\n        occupationType: '',\r\n        salary: ''\r\n      },\r\n      beneficiaryRules: {\r\n        bnfSeq: [{validator: checkSeq, trigger: 'blur'}],\r\n        belToInsuredSeq: [{validator: checkSeq, trigger: 'blur'}],\r\n        bnfAge: [\r\n          {validator: checkAge, trigger: 'blur'}\r\n        ],\r\n        bnfSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t('productTestingNewCaseDefinition.AppntSexmsg'),\r\n            trigger: 'change'\r\n          }]\r\n      },\r\n      beneficiaryFormFlag: false,\r\n      bnfUpdateFlag: false,\r\n      relaUpdateFlag: false,\r\n      dialogTableVisible1: false,\r\n      //检验规则\r\n      rules: {}\r\n    }\r\n  },\r\n  components: {\r\n    custompage\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdInfo = this.getJsonData('pdTestInfo')\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id\r\n      this.pdInfo.pdInfoId = pdInfo.id\r\n      this.pdInfo.commodityType = pdInfo.commodityType\r\n\r\n      this.CaseDefinition.pdInfoId = pdInfo.id\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode\r\n      this.CaseDefinition.pdName = pdInfo.pdName\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition\r\n\r\n      this.initTestFuncSelect('newsingletest', pdInfo.id)\r\n      this.initElement(pdInfo.pdCode, pdInfo.id)\r\n    }\r\n  },\r\n  methods: {\r\n    filterCustomerNo(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntNo\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredNo\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfNo\r\n      }\r\n    },\r\n    filterSeq(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSeq\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSeq\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSeq\r\n      }\r\n    },\r\n    filterSex(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSex\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSex\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSex\r\n      }\r\n    },\r\n    filterAge(row) {\r\n      let unit = ''\r\n      if (row.ageUnit === 'Y') {\r\n        unit = '(岁)'\r\n      }\r\n      if (row.ageUnit === 'D') {\r\n        unit = '(天)'\r\n      }\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntAge + unit\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredAppAge + unit\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfAge + unit\r\n      }\r\n    },\r\n    savePolicyHolder() {\r\n      this.$refs.policyForm.validate(pass => {\r\n        if (pass) {\r\n          //查询客户号\r\n          queryCustomerNo(this.buildRequestData({\r\n            'sex': this.policyHolder.appntSex,\r\n            'age': this.policyHolder.appntAge\r\n          })).then(res => {\r\n            let customNo = res.data\r\n            if (customNo) {\r\n              this.policyHolder.appntNo = res.data\r\n              if (this.policyUpdateFlag) { //当前为更新\r\n                let currentKey = this.policyHolder.pKey\r\n                let temp = Object.assign({}, this.policyHolder)\r\n                this.customers = this.customers.map(item => item.pKey === currentKey ? temp : item)\r\n                this.policyUpdateFlag = false\r\n              } else {\r\n                this.policyHolder.pKey = 'policy' + (this.customers.length + 1)\r\n                this.policyHolder.customerRole = '投保人'\r\n                let temp = Object.assign({}, this.policyHolder)\r\n                this.customers.push(temp)\r\n              }\r\n              this.$refs.policyForm.resetFields()\r\n              this.policyHolder.appntSeq = this.policyHolder.appntSeq + 1\r\n              this.policyHolder.appntNo = ''\r\n            } else {\r\n              this.notifyError(this.$t('productTestingNewCaseDefinition.customNoErrorMsg'))\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    saveInsured() {\r\n      this.$refs['insuredForm'].validate(pass => {\r\n        if (pass) {\r\n          //查询客户号\r\n          queryCustomerNo(this.buildRequestData({\r\n            'sex': this.insured.insuredSex,\r\n            'age': this.insured.insuredAppAge\r\n          })).then(res => {\r\n            let customNo = res.data\r\n            if (customNo) {\r\n              this.insured.insuredNo = res.data\r\n              if (this.insuredUpdateFlag) { //当前为更新\r\n                let currentKey = this.insured.pKey\r\n                let temp = Object.assign({}, this.insured)\r\n                this.customers = this.customers.map(item => item.pKey === currentKey ? temp : item)\r\n                this.insuredUpdateFlag = false\r\n              } else {\r\n                this.insured.pKey = 'insured' + (this.customers.length + 1)\r\n                this.insured.customerRole = '被保人'\r\n                let temp = Object.assign({}, this.insured)\r\n                this.customers.push(temp)\r\n              }\r\n              this.$refs.insuredForm.resetFields()\r\n              this.insured.insuredSeq = this.insured.insuredSeq + 1\r\n              this.insured.insuredNo = ''\r\n            } else {\r\n              this.notifyError(this.$t('productTestingNewCaseDefinition.customNoErrorMsg'))\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    showBeneficiaryForm() {\r\n      this.beneficiaryFormFlag = !this.beneficiaryFormFlag\r\n    },\r\n    showPolicyHolderForm() {\r\n      this.policyHolderFormFlag = !this.policyHolderFormFlag\r\n    },\r\n    saveBeneficiary() {\r\n\r\n      let insuredSeq = this.beneficiary.belToInsuredSeq\r\n\r\n      this.$refs['bnfForm'].validate(pass => {\r\n        if (pass) {\r\n          //校验被保人序列存在\r\n          if (this.customers.filter(res => res.customerCode === 'insured' && res.insuredSeq === insuredSeq).length > 0) {\r\n            //查询客户号\r\n            queryCustomerNo(this.buildRequestData({\r\n              'sex': this.beneficiary.bnfSex,\r\n              'age': this.beneficiary.bnfAge\r\n            })).then(res => {\r\n              let customNo = res.data\r\n              if (customNo) {\r\n                this.beneficiary.bnfNo = res.data\r\n                if (this.bnfUpdateFlag) { //当前为更新\r\n                  let currentKey = this.beneficiary.pKey\r\n                  let temp = Object.assign({}, this.beneficiary)\r\n                  this.customers = this.customers.map(item => item.pKey === currentKey ? temp : item)\r\n                  this.bnfUpdateFlag = false\r\n                } else {\r\n                  this.beneficiary.pKey = 'bnf' + (this.customers.length + 1)\r\n                  this.beneficiary.customerRole = '受益人'\r\n                  let temp = Object.assign({}, this.beneficiary)\r\n                  this.customers.push(temp)\r\n                }\r\n                this.$refs.bnfForm.resetFields()\r\n                this.beneficiary.bnfSeq = this.insured.bnfSeq + 1\r\n                this.beneficiary.bnfNo = ''\r\n              } else {\r\n                this.notifyError(this.$t('productTestingNewCaseDefinition.customNoErrorMsg'))\r\n              }\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('productTestingNewCaseDefinition.notExistInsureSeqErrorMsg'))\r\n          }\r\n        }\r\n      })\r\n    },\r\n    delCustomer(row) {\r\n      this.customers = this.customers.filter(data => data.pKey !== row.pKey)\r\n      this.$refs.policyHolder.resetFields()\r\n    },\r\n    handleUpdateCustomer(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        this.policyHolder = Object.assign({}, row)\r\n        this.policyUpdateFlag = true\r\n      } else if (row.customerCode === 'insured') {\r\n        this.insured = Object.assign({}, row)\r\n        this.insuredUpdateFlag = true\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        this.beneficiary = Object.assign({}, row)\r\n        this.bnfUpdateFlag = true\r\n      }\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + '上传定义.xlsm'\r\n      downloadCaseDef(this.buildRequestData({'testCasePath': row.pdTestCasePath})).then(res => {\r\n        this.downloadResponseFile(res, fileName)\r\n      })\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then(res => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$refs.page1.reload()\r\n        this.resetCaseDef()\r\n      })\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = ''\r\n      this.CaseDefinition.pdTestCaseDesc = ''\r\n      this.CaseDefinition.testPoint = ''\r\n      this.testCaseUpdateFlag = false\r\n      this.customers = []\r\n      this.currentPdPageData = {}\r\n      this.relaPdPageEleDatas = []\r\n      this.configs3 = []\r\n      this.tableFlag = false\r\n      this.relaElementShow = false\r\n      this.initElement(this.CaseDefinition.pdCode, this.CaseDefinition.pdInfoId)\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true\r\n      this.CaseDefinition.id = row.id\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId\r\n      this.CaseDefinition.pdCode = row.pdCode\r\n      this.CaseDefinition.pdEdition = row.pdEdition\r\n      this.CaseDefinition.pdName = row.pdName\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(data => data.pd_test_func_id)\r\n      //处理data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData)\r\n\r\n      let data = pdTestCaseData.testData\r\n\r\n      this.customers = data.customers\r\n      this.currentPdPageData = data.currentPdPageData\r\n      this.relaPdPageEleDatas = data.relaPdPageData\r\n\r\n      if (this.pdInfo.commodityType === 'R') {\r\n\r\n        //回显险种定义页面的栏位\r\n\r\n        //不能直接遍历赋值 需使用中间转换\r\n        let temp = JSON.parse(JSON.stringify(this.elementDatas))\r\n        temp.forEach(tem => {\r\n          tem.config.defaultValue = this.currentPdPageData[tem.vModel]\r\n        })\r\n        this.elementDatas = temp\r\n        this.queryRelaPdData()\r\n      }\r\n\r\n    },\r\n    initElement(pdCode, pdInfoId) {\r\n      let data = {\r\n        'pdCode': pdCode,\r\n        'pdInfoId': pdInfoId\r\n      }\r\n      initElement(this.buildRequestData(data)).then(response => {\r\n        this.elementDatas = response.data\r\n        this.elementDatasShow = true\r\n      })\r\n    },\r\n    queryRelaPdData() {\r\n      this.tableFlag = !this.tableFlag\r\n      if (this.tableFlag) {\r\n        let data = {'pdInfoId': this.pdInfo.pdInfoId}\r\n        queryRelaPd(this.buildRequestData(data)).then(res => {\r\n          let list = res.data\r\n          this.relaPdList = res.data\r\n          this.relaPdSelect = []\r\n          for (let i = 0; i < list.length; i++) {\r\n            let data = list[i]\r\n            this.relaPdSelect.push({\r\n              'label': data.pdRelaItemVal + ':' + data.pdRelaItemName,\r\n              'value': data.pdRelaItemVal\r\n            })\r\n          }\r\n\r\n          //回填数据\r\n          if (this.relaPdPageEleDatas && this.relaPdPageEleDatas.length > 0) {\r\n            this.configs3 = []\r\n            this.relaPdPageEleDatas.forEach(data => {\r\n              let pdCode = data.relaPdCode\r\n              let pdEdition = data.relaPdEdition\r\n              let tempData = this.relaPdList.filter(data2 => data2.pdRelaItemVal === pdCode && data2.pdRelaItemEdition === pdEdition)[0]\r\n              tempData['defStatus'] = 'Y'\r\n              this.configs3.push(tempData)\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    queryPdEdtion(val) {\r\n      this.relaPdEditionSelect = []\r\n      this.relaPdList.filter(data => data.pdRelaItemVal === val).forEach(data => {\r\n        this.relaPdEditionSelect.push({'label': data.pdRelaItemEdition, 'value': data.pdRelaItemEdition})\r\n      })\r\n      this.relaPdForm.relaPdEditionSed = ''\r\n    },\r\n    initRelaPdTableData() {\r\n      this.$refs.relaPdForm.validate(pass => {\r\n        if (pass) {\r\n          let pdCode = this.relaPdForm.relaPdSed\r\n          let pdEdition = this.relaPdForm.relaPdEditionSed\r\n          this.relaElementShow = false\r\n          let flag = this.configs3.some(data => {\r\n            return (data.pdRelaItemVal === pdCode && data.pdRelaItemEdition === pdEdition)\r\n          })\r\n          if (!flag) {\r\n            let tempData = this.relaPdList.filter(data2 => data2.pdRelaItemVal === pdCode && data2.pdRelaItemEdition === pdEdition)[0]\r\n            tempData['defStatus'] = 'N'\r\n            this.configs3.push(tempData)\r\n            this.selectConfigs3 = ''\r\n          } else {\r\n            this.notifyError(this.$t('productTestingNewCaseDefinition.relaAddMsg'))\r\n          }\r\n        }\r\n      })\r\n    },\r\n    delSelectRelaPd(index, row) {\r\n      this.relaElementShow = false\r\n      this.selectConfigs3 = ''\r\n      this.configs3.splice(index, 1)\r\n      this.relaPdPageEleDatas = this.relaPdPageEleDatas.filter(data2 => !(row.pdRelaItemVal === data2.relaPdCode && row.pdRelaItemEdition === data2.relaPdEdition))\r\n    },\r\n    saveRelaPdPageElement() {\r\n      let data = {}\r\n      let result = {}\r\n      let flag = true\r\n      for (let i = 0; i < this.relaElementDatas.length; i++) {\r\n        let data = this.relaElementDatas[i]\r\n        if (data.required) {\r\n          if (!data.config.defaultValue) {\r\n            flag = false\r\n            this.notifyError('请输入' + data.label)\r\n            break\r\n          }\r\n        }\r\n        result[data.vModel] = data.config.defaultValue\r\n      }\r\n      if (flag) {\r\n        data['relaPdCode'] = this.relaPdCode\r\n        data['relaPdEdition'] = this.relaPdEdition\r\n        data['param'] = result\r\n        if (this.relaUpdateFlag) {\r\n          this.relaPdPageEleDatas = this.relaPdPageEleDatas.map(item => (item.relaPdCode === this.relaPdCode &&\r\n            item.relaPdEdition === this.relaPdEdition) ? data : item)\r\n          this.notifySuccess(this.$t('successMessage.update'))\r\n        } else {\r\n          this.relaPdPageEleDatas.push(data)\r\n          let tempConfigs3 = JSON.parse(JSON.stringify(this.configs3))\r\n          tempConfigs3.forEach(con => {\r\n            if (con.pdRelaItemVal === this.relaPdCode && con.pdRelaItemEdition === this.relaPdEdition) {\r\n              con.defStatus = 'Y'\r\n            }\r\n          })\r\n          this.configs3 = tempConfigs3\r\n          console.log(this.configs3)\r\n          this.notifySuccess(this.$t('successMessage.add'))\r\n        }\r\n        this.relaUpdateFlag = true\r\n      }\r\n    },\r\n    handleRelaPd(row) {\r\n      this.relaPdEdition = row.pdRelaItemEdition\r\n      this.relaPdCode = row.pdRelaItemVal\r\n      let data = {\r\n        'pdCode': row.pdRelaItemVal,\r\n        'pdInfoId': row.pdRelaItemId\r\n      }\r\n      this.relaElementShow = false\r\n      this.relaUpdateFlag = false\r\n      initElement(this.buildRequestData(data)).then(response => {\r\n        this.relaElementDatas = response.data\r\n        let temp = JSON.parse(JSON.stringify(this.relaElementDatas)) //深克隆\r\n        if (this.relaElementDatas.length > 0) {\r\n          this.relaElementShow = true\r\n          //回显当前搭配产品下险种页面的数据\r\n          this.relaPdPageEleDatas.filter(reladata => reladata.relaPdCode === data.pdCode && reladata.relaPdEdition === this.relaPdEdition).forEach(temp2 => {\r\n            let param = temp2.param\r\n            temp.forEach(rela => {\r\n              rela.config.defaultValue = param[rela.vModel]\r\n              this.relaUpdateFlag = true\r\n            })\r\n          })\r\n          this.relaElementDatas = temp\r\n        }\r\n      })\r\n    },\r\n    saveCaseDef() {\r\n\r\n      this.$refs.caseDefForm.validate(pass => {\r\n        if (pass) {\r\n          if (this.customers && this.customers.length > 0) {\r\n            this.CaseDefinition['pdTestModuleCode'] = 'newsingletest'\r\n            this.CaseDefinition['data'] = {}\r\n            this.CaseDefinition.data['customers'] = this.customers\r\n            //保存产品险种定制页面信息\r\n            let result = {}\r\n            let flag = true\r\n            for (let i = 0; i < this.elementDatas.length; i++) {\r\n              let data = this.elementDatas[i]\r\n              if (data.required) {\r\n                if (!data.config.defaultValue) {\r\n                  flag = false\r\n                  this.notifyError('请输入当前产品下' + data.label)\r\n                  break\r\n                }\r\n              }\r\n              result[data.vModel] = data.config.defaultValue\r\n            }\r\n            if (flag) {\r\n              result['productCode'] = this.CaseDefinition.pdCode\r\n              result['productVersionNo'] = this.CaseDefinition.pdEdition\r\n              this.CaseDefinition.data['currentPdPageData'] = result\r\n              this.CaseDefinition.data['relaPdPageData'] = this.relaPdPageEleDatas\r\n              //保存入库\r\n              saveCaseDef(this.buildRequestData(this.CaseDefinition)).then(res => {\r\n                this.notifySuccess(this.$t('successMessage.save'))\r\n                this.$refs.page1.reload()\r\n                this.resetCaseDef()\r\n              })\r\n            }\r\n          } else {\r\n            this.notifyError('请新增测试案例数据')\r\n          }\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    initTestFuncSelect(testModuleCode, pdInfoId) {\r\n      this.funcSelect = []\r\n      queryPdTestFunc(this.buildRequestData({'testModuleCode': testModuleCode, 'pdInfoId': pdInfoId})).then(res => {\r\n        let funcs = res.data\r\n        for (let i = 0; i < funcs.length; i++) {\r\n          let data = funcs[i]\r\n          this.funcSelect.push({'label': data.pdTestFuncCode + ':' + data.pdTestFuncDesc, 'value': data.id})\r\n        }\r\n      })\r\n    },\r\n    templateDownload() {\r\n      downloadCaseTemplate(this.buildRequestData({'testModule': 'newsingletest'})).then(res => {\r\n        this.downloadResponseFile(res, 'NewSingleTestCaseTemplate.xlsm')\r\n      })\r\n    },\r\n    openUploadDialog() {\r\n      this.dialogTableVisible1 = true\r\n    },\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError('请选择上传的文件')\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList)\r\n        formData.append('pdInfoId', this.CaseDefinition.pdInfoId)\r\n        uploadTestCase(formData).then(res => {\r\n          this.notifySuccess('上传成功')\r\n          this.$refs.upload.clearFiles()\r\n          this.back1()\r\n          this.$refs.page1.reload()\r\n        })\r\n      }\r\n    },\r\n    back1() {\r\n      this.dialogTableVisible1 = false\r\n    },\r\n    backPage() {\r\n      this.$router.push({path: '/product-testing/new-single-test/new-single-test-detail'})\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: '上传文件名不能重复!',\r\n              duration: 2000\r\n            })\r\n            fileList.pop()\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList\r\n\r\n      /*\r\n     var msg = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n     //判断文件格式\r\n     if (!(msg === 'xls' || msg === 'xlsx')) {\r\n       this.$notify.error({\r\n         title: '错误',\r\n         message: '上传文件只能是 xls、xlsx格式!',\r\n         duration: 200\r\n       })\r\n       return\r\n     }*/\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '上传文件大小不能超过 10MB!',\r\n          duration: 500\r\n        })\r\n        return\r\n      }\r\n\r\n    },\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: '提示',\r\n        message: '最多上传三个文件,替换请先移除！',\r\n        duration: 1000\r\n      })\r\n    },\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n\r\n      } else {\r\n        this.$message.error(`上传文件失败`)\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.formtitle {\r\n  padding-top: 10px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n.cst {\r\n  width: 80px;\r\n  border: 0;\r\n}\r\n</style>\r\n\r\n"]}]}
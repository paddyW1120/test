{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\preservation-test\\detail\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\preservation-test\\detail\\index.vue","mtime":1610951030870},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBleGVjdXRlQXV0b1Rlc3QsDQogIGV4ZWN1dGVUZXN0LA0KICBxdWVyeUN1cnJlbnRQZFRlc3RDYXNlRGV0YWlsLA0KICBxdWVyeUN1cnJlbnRQZFRlc3RSZXMsDQogIHF1ZXJ5UGRGdW5jQ29uYywNCiAgc2F2ZUZ1bmNDb25jLA0KICB1cGRhdGVUZXN0SW5mbywNCn0gZnJvbSAnQC9hcGkvcGR0ZXN0L3ByZXNlcnZhdGlvblRlc3QnDQoNCmltcG9ydCBjYXNlcmVhZG9ubHkgZnJvbSAnQC92aWV3cy9wcm9kdWN0LXRlc3RpbmcvcHJlc2VydmF0aW9uLXRlc3QvY2FzZXJlYWRvbmx5Jw0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3ByZXNlcnZhdGlvblRlc3REZXRhaWxzJywNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9TdGF0dXMoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLnRlc3RDb25jU3RhdHVzW2NvZGVdDQogICAgfSwNCiAgICBmaWx0ZXJfQ2FzZVN0YXR1cyhjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMudGVzdENhc2VTdGF0dXNbY29kZV0NCiAgICB9LA0KICAgIGZpbHRlckNhc2VUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy50ZXN0Q2FzZVR5cGVbY29kZV0NCiAgICB9LA0KICAgIGZpbHRlckNhc2VEZWZpbml0aW9uKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy50ZXN0Q2FzZURlZmluaXRpb25bY29kZV0NCiAgICB9LA0KICAgIGZpbHRlckN1cnJlbmN5KGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnY3VycmVuY3kyJywgY29kZSwgdHJ1ZSkNCiAgICB9LCBmaWx0ZXJDYWxNZXRob2QoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2NhbF9tZXRob2QnLCBjb2RlLCB0cnVlKQ0KICAgIH0sDQogICAgZmlsdGVyQm5mdFR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdndWFyYW50ZWVEZXRhaWxzJywgY29kZSwgdHJ1ZSkNCiAgICB9LA0KICAgIGZpbHRlckZyZXFUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9mcmVxJywgY29kZSwgdHJ1ZSkNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBjYXNlcmVhZG9ubHkNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgdGVzdENvbmNTdGF0dXM6IHsnMCc6ICfmnKrmtYvor5UnLCAnMSc6ICfkuI3pgJrov4cnLCAnMic6ICfpgJrov4cnfSwNCiAgICAgIHRlc3RDYXNlU3RhdHVzOiB7JzAnOiAn5pyq5rWL6K+VJywgJzEnOiAn5bey5rWL6K+VJ30sDQogICAgICB0ZXN0Q2FzZVR5cGU6IHsnMSc6ICfoh6rliqjljJbmtYvor5UnLCAnMic6ICfoh6rlrprkuYnmtYvor5UnfSwNCiAgICAgIHRlc3RDYXNlRGVmaW5pdGlvbjogeycxJzogJ+mhtemdouWumuS5iScsICcyJzogJ+S4iuS8oOWumuS5iSd9LA0KICAgICAgcHJvcHM6IHt9LA0KICAgICAgY2hvb3NlQ29uZmlnczRNYXJrOiBmYWxzZSwNCiAgICAgIGNvbmZpZ3MxOiBbXSwNCiAgICAgIGNvbmZpZ3MyOiBbXSwNCiAgICAgIGNvbmZpZ3MzOiBbXSwNCiAgICAgIGNvbmZpZ3M0OiBbXSwNCiAgICAgIGNvbmZpZ3M1OiBbXSwNCiAgICAgIHNlbGVjdENvbmZpZ3M1OiBbXSwNCiAgICAgIGNvbmZpZ3M2OiBbXSwNCiAgICAgIHNlbGVjdENvbmZpZ3M2OiAnJywNCiAgICAgIGNvbmZpZ3M3OiBbXSwNCiAgICAgIGNvbmZpZ3M4OiBbXSwNCiAgICAgIGNvbmZpZ3M5OiBbXSwNCiAgICAgIGNvbmZpZ3MxMDogW10sDQogICAgICBjb25maWdzMTE6IFtdLA0KICAgICAgdGVzdERhdGE6IHt9LA0KICAgICAgY29uY0Zvcm06IHsnZnVuY0NvbmNEYXRhJzogW119LA0KICAgICAgdXBkYXRlRnVuY0NvbmNGbGFnOiBmYWxzZSwNCiAgICAgIHRhYmxlUnVsZXM6IHsNCiAgICAgICAgcGRUZXN0Q29uYzogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JyksIHRyaWdnZXI6ICdjaGFuZ2UnfQ0KICAgICAgICBdLA0KICAgICAgICBwZFRlc3RDb25jRGVzYzogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2VfZW50ZXInKSwgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgcGFyYW1zOiB7fSwNCiAgICAgIHBhcmFtczE6IHt9LA0KICAgICAgcGFyYW1zMzogeydwZEluZm9JZCc6ICcnfSwNCiAgICAgIHBhcmFtczQ6IHsncGRJbmZvSWQnOiAnJ30sDQogICAgICBwYXJhbXM1OiB7fSwNCiAgICAgIHBhcmFtczY6IHt9LA0KICAgICAgcGFyYW1zODoge30sDQogICAgICBwYXJhbXM5OiB7fSwNCiAgICAgIG5ld1Rlc3Q6IHsNCiAgICAgICAgcGRJbmZvSWQ6ICcnLA0KICAgICAgICBwZFRlc3RDb25jOiAnJywNCiAgICAgICAgcGRUZXN0Q29uY0Rlc2M6ICcnDQogICAgICB9LA0KICAgICAgbmV3VGVzdFJ1bGVzOiB7DQogICAgICAgIHBkVGVzdENvbmM6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX3NlbGVjdCcpLCB0cmlnZ2VyOiAnY2hhbmdlJ30NCiAgICAgICAgXSwNCiAgICAgICAgcGRUZXN0Q29uY0Rlc2M6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJyksIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIHJlc3VsdEljb246ICdlbC1pY29uLWFycm93LWRvd24nLA0KICAgICAgQ2FzZURldGFpbHM6IHt9LA0KICAgICAgc2VsZWN0ZUNvbmZpZ3M0OiB7fSwNCiAgICAgIHNlbGVjdGVkSWQ6ICcwJywNCiAgICAgIHNlbGVjdGVDb25maWdzNToge30sDQogICAgICBzZWxlY3RlQ29uZmlnczY6IHt9LA0KICAgICAgZGlhbG9nVGFibGVWaXNpYmxlMTogZmFsc2UsDQogICAgICBkaWFsb2dUYWJsZVZpc2libGUyOiBmYWxzZSwNCiAgICAgIHJlc3VsdFByb2R1Y3RUYWJsZTogZmFsc2UsDQogICAgICByZXN1bHRQbGFuVGFibGU6IGZhbHNlLA0KICAgICAgcmVzdWx0UGF5bWVudFRhYmxlOiBmYWxzZSwNCiAgICAgIHJlc3VsdEd1YXJhbnRlZVRhYmxlOiBmYWxzZSwNCiAgICAgIHJlc3VsdEFjY291bnRUYWJsZTogZmFsc2UsDQogICAgICByZXN1bHRBY2NvdW50RmVlc1RhYmxlOiBmYWxzZSwNCiAgICAgIHJlc3VsdEluc3VyYW5jZVJ1bGVzVGFibGU6IGZhbHNlLA0KICAgICAgY2FzZURlZlJvdzoge30sDQogICAgICAvL+ajgOmqjOinhOWImQ0KICAgICAgcnVsZXM6IHt9LA0KICAgICAgdGVzdENhc2VMaXN0OiBbXSwNCiAgICAgIHBkVGVzdElkOiAnJywNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygnMTExMScpDQogICAgdGhpcy5wZFRlc3RJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wZFRlc3RJZA0KICAgIGlmICh0aGlzLnBkVGVzdElkKSB7DQogICAgICB0aGlzLmNhY2hlU3RyRGF0YSgicGRUZXN0SWQiLCB0aGlzLnBkVGVzdElkKQ0KICAgIH0NCiAgICBsZXQgcGRJbmZvID0gdGhpcy5nZXRKc29uRGF0YSgncGRUZXN0SW5mbycpDQogICAgaWYgKHBkSW5mbykgew0KICAgICAgdGhpcy5uZXdUZXN0LnBkSW5mb0lkID0gcGRJbmZvLmlkDQogICAgICB0aGlzLnBhcmFtczMucGRJbmZvSWQgPSBwZEluZm8uaWQNCiAgICAgIHRoaXMucGFyYW1zNC5wZEluZm9JZCA9IHBkSW5mby5pZA0KICAgICAgdGhpcy5pbml0VGVzdFNwZWVkT2ZQcm9ncmVzcyhwZEluZm8uaWQpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmlsdGVyQm5mdERldGFpbFR5cGUoY29kZSwgc2VuY29kZSkgew0KICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZU5hbWUoJ2d1YXJhbnRlZURldGFpbHMuJyArIGNvZGUsIHNlbmNvZGUsIHRydWUpDQogICAgfSwNCiAgICB0ZXN0Q2FzZVJlY29yZCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL3Byb2R1Y3QtdGVzdGluZy9wcmVzZXJ2YXRpb24tdGVzdC9wcmVzZXJ2YXRpb24tdGVzdC1jYXNlcmVjb3JkJ30pDQogICAgfSwNCiAgICB0ZXN0UmVjb3JkKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcHJvZHVjdC10ZXN0aW5nL3ByZXNlcnZhdGlvbi10ZXN0L3ByZXNlcnZhdGlvbi10ZXN0LXRlc3RyZWNvcmQnfSkNCiAgICB9LA0KICAgIGNhc2VEZWZpbml0aW9uKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcHJvZHVjdC10ZXN0aW5nL3ByZXNlcnZhdGlvbi10ZXN0L3ByZXNlcnZhdGlvbi10ZXN0LWNhc2VkZWYnfSkNCiAgICB9LA0KICAgIGluaXRUZXN0U3BlZWRPZlByb2dyZXNzKHBkSW5mb0lkKSB7DQogICAgICBxdWVyeUN1cnJlbnRQZFRlc3RSZXModGhpcy5idWlsZFJlcXVlc3REYXRhKHsncGRJbmZvSWQnOiBwZEluZm9JZH0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuY29uZmlnczEgPSByZXMuZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHRlc3REZXRhaWxzKHJvdykgew0KICAgICAgdGhpcy5kaWFsb2dUYWJsZVZpc2libGUxID0gdHJ1ZQ0KICAgICAgcXVlcnlDdXJyZW50UGRUZXN0Q2FzZURldGFpbCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoew0KICAgICAgICAnZnVuY0lkJzogcm93LnBkVGVzdEZ1bmNJZCwNCiAgICAgICAgJ3BkSW5mb0lkJzogcm93LnBkSW5mb0lkDQogICAgICB9KSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmNvbmZpZ3MyID0gcmVzLmRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICB0ZXN0Q2FzZURldGFpbHMocm93KSB7DQogICAgICB0aGlzLmNhc2VEZWZSb3cgPSByb3cNCiAgICAgIHRoaXMuZGlhbG9nVGFibGVWaXNpYmxlMiA9IHRydWUNCiAgICB9LA0KICAgIHRlc3RDYXNlUmVzdWx0RGV0YWlscyhyb3cpIHsNCg0KICAgICAgLy8gdGhpcy5jaG9vc2VDb25maWdzNE1hcmsgPSB0cnVlDQogICAgICAvLyB0aGlzLnJlc3VsdEljb24gPSAnZWwtaWNvbi1hcnJvdy11cCcNCiAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IHJvdy5pZA0KDQogICAgICAvL+iOt+WPlua1i+ivleWKn+iDveeCuSDmoLnmja7lip/og73ngrnlsZXnpLrkuI3lkIznmoTooajmoLwNCiAgICAgIGxldCBmdW5jQ29kZXMgPSByb3cucGRGdW5jRGVzYy5tYXAoZGF0YSA9PiBkYXRhLnBkX3Rlc3RfZnVuY19jb2RlKS50b1N0cmluZygpDQogICAgICBpZiAoZnVuY0NvZGVzLmluZGV4T2YoJ1JOMDEnKSA+PSAwKSB7DQogICAgICAgIHRoaXMucmVzdWx0UHJvZHVjdFRhYmxlID0gdHJ1ZQ0KICAgICAgICB0aGlzLnJlc3VsdFBheW1lbnRUYWJsZSA9IHRydWUNCiAgICAgIH0NCg0KICAgICAgaWYgKGZ1bmNDb2Rlcy5pbmRleE9mKCdSTjAyJykgPj0gMCkgew0KICAgICAgICB0aGlzLnJlc3VsdFByb2R1Y3RUYWJsZSA9IHRydWUNCiAgICAgICAgdGhpcy5yZXN1bHRQbGFuVGFibGUgPSB0cnVlDQogICAgICAgIHRoaXMucmVzdWx0UGF5bWVudFRhYmxlID0gdHJ1ZQ0KICAgICAgICB0aGlzLnJlc3VsdEd1YXJhbnRlZVRhYmxlID0gdHJ1ZQ0KICAgICAgfQ0KICAgICAgLy/nu4Too4XmtYvor5Xnu5PmnpwNCiAgICAgIHRoaXMuYnVpbGRUZXN0UmVzdWx0KHJvdy5wZFRlc3RDYXNlRGF0YSkNCg0KICAgICAgLy/nu4Too4XmtYvor5Xnu5PorroNCiAgICAgIHRoaXMuYnVpbGRGdW5jVGVzdENvbmMocm93LmlkKQ0KICAgIH0sDQogICAgYnVpbGRUZXN0UmVzdWx0KHBkVGVzdENhc2VEYXRhKSB7DQogICAgICBsZXQgY2FzZURhdGEgPSBKU09OLnBhcnNlKHBkVGVzdENhc2VEYXRhKQ0KICAgICAgbGV0IHJlc3VsdCA9IGNhc2VEYXRhLnRlc3RSZXN1bHQNCiAgICAgIHRoaXMuY29uZmlnczUgPSByZXN1bHQucHJvZHVjdHMNCiAgICAgIHRoaXMudGVzdERhdGEgPSByZXN1bHQNCiAgICAgIHRoaXMuY29uZmlnczYgPSByZXN1bHQucGxhbnMNCiAgICAgIHRoaXMuY29uZmlnczcgPSByZXN1bHQucGF5bWVudHMNCiAgICAgIHRoaXMuY29uZmlnczggPSByZXN1bHQuYm5mdHMNCiAgICB9LA0KICAgIGJ1aWxkUGxhbkRhdGEocm93KSB7DQogICAgICB0aGlzLmNvbmZpZ3M2ID0gdGhpcy50ZXN0RGF0YS5wbGFucy5maWx0ZXIocGxhbiA9PiBwbGFuLnBkQ29kZSA9PT0gcm93LnBkQ29kZSkNCiAgICB9LA0KICAgIGJ1aWxkUGF5bWVudEFuZEJuZnREYXRhKHJvdykgew0KICAgICAgdGhpcy5jb25maWdzNyA9IHRoaXMudGVzdERhdGEucGF5bWVudHMuZmlsdGVyKHBheW1lbnQgPT4gcGF5bWVudC5wbGFuQ29kZSA9PT0gcm93LnBsYW5Db2RlKQ0KICAgICAgdGhpcy5jb25maWdzOCA9IHRoaXMudGVzdERhdGEuYm5mdHMuZmlsdGVyKHBheW1lbnQgPT4gcGF5bWVudC5wbGFuQ29kZSA9PT0gcm93LnBsYW5Db2RlKQ0KICAgIH0sDQogICAgYnVpbGRGdW5jVGVzdENvbmMocGRUZXN0Q2FzZUlkKSB7DQogICAgICB0aGlzLmNvbmNGb3JtLmZ1bmNDb25jRGF0YSA9IFtdDQogICAgICBxdWVyeVBkRnVuY0NvbmModGhpcy5idWlsZFJlcXVlc3REYXRhKHsncGRUZXN0Q2FzZUlkJzogcGRUZXN0Q2FzZUlkfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgbGV0IGZ1bmNMaXN0ID0gcmVzLmRhdGENCiAgICAgICAgdGhpcy5jb25jRm9ybS5mdW5jQ29uY0RhdGEgPSBmdW5jTGlzdA0KICAgICAgICBmdW5jTGlzdC5mb3JFYWNoKGRhdGEgPT4gew0KICAgICAgICAgIGlmIChkYXRhLnBkVGVzdENvbmMpIHsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVuY0NvbmNGbGFnID0gdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBzYXZlRnVuY0NvbmMoKSB7DQogICAgICB0aGlzLiRyZWZzLmNvbmNGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgc2F2ZUZ1bmNDb25jKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7ZnVuY0NvbmM6IHRoaXMuY29uY0Zvcm0uZnVuY0NvbmNEYXRhfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVuY0NvbmNGbGFnID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgICAgIHRoaXMuaW5pdFRlc3RTcGVlZE9mUHJvZ3Jlc3ModGhpcy5wYXJhbXMzLnBkSW5mb0lkKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBoaWRlVGVzdENhc2VSZXN1bHQoKSB7DQogICAgICAvL+aYvuekuue7k+aenA0KICAgICAgaWYgKHRoaXMucmVzdWx0SWNvbiA9PT0gJ2VsLWljb24tYXJyb3ctZG93bicpIHsNCiAgICAgICAgdGhpcy5jaG9vc2VDb25maWdzNE1hcmsgPSB0cnVlDQogICAgICAgIHRoaXMucmVzdWx0SWNvbiA9ICdlbC1pY29uLWFycm93LXVwJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3VsdEljb24gPT09ICdlbC1pY29uLWFycm93LXVwJykgew0KICAgICAgICB0aGlzLmNob29zZUNvbmZpZ3M0TWFyayA9IGZhbHNlDQogICAgICAgIHRoaXMucmVzdWx0SWNvbiA9ICdlbC1pY29uLWFycm93LWRvd24nDQogICAgICB9DQogICAgfSwNCiAgICBzYXZlVGVzdEluZm9Db25jKCkgew0KICAgICAgdGhpcy4kcmVmcy5uZXdUZXN0Rm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGxldCBwYXNzID0gZmFsc2UNCiAgICAgICAgICAvL+aJgOacieahiOS+i+W3sue7j+a1i+ivlQ0KICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ3M0Lmxlbmd0aCAhPT0gMCAmJiB0aGlzLmNvbmZpZ3MzLmxlbmd0aCA9PT0gdGhpcy5jb25maWdzNC5sZW5ndGgpIHsNCiAgICAgICAgICAgIHBhc3MgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgICB0aGlzLmZpbmlzaFRlc3RDb25jKCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5jb25maXJtV2FybmluZyh0aGlzLiR0KCdwcmVzZXJ2YXRpb25UZXN0RGV0YWlscy5jb25jQ29uZmlybScpKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5uZXdUZXN0WydkZWxDYXNlJ10gPSAnWScNCiAgICAgICAgICAgICAgdGhpcy5maW5pc2hUZXN0Q29uYygpDQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7DQoNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZmluaXNoVGVzdENvbmMoKSB7DQogICAgICB1cGRhdGVUZXN0SW5mbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5uZXdUZXN0KSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKQ0KICAgICAgICB0aGlzLmJhY2tQYWdlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBiYWNrMigpIHsNCiAgICAgIHRoaXMuZGlhbG9nVGFibGVWaXNpYmxlMiA9IGZhbHNlDQogICAgfSwNCiAgICBiYWNrMSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nVGFibGVWaXNpYmxlMSA9IGZhbHNlDQogICAgfSwNCiAgICBiYWNrUGFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL3Byb2R1Y3QtdGVzdGluZy9wcmVzZXJ2YXRpb24tdGVzdC9wcmVzZXJ2YXRpb24tdGVzdC1hcHBseSd9KQ0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy50ZXN0Q2FzZUxpc3QgPSB2YWwNCg0KICAgIH0sIGV4ZWN1dGVUZXN0KCkgew0KICAgICAgaWYgKHRoaXMudGVzdENhc2VMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgZXhlY3V0ZVRlc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHt0ZXN0Q2FzZTogdGhpcy50ZXN0Q2FzZUxpc3R9KSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuJHJlZnMucGFnZTMucmVsb2FkKCkNCiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2U0LnJlbG9hZCgpDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3ByZXNlcnZhdGlvblRlc3REZXRhaWxzLnRlc3RFcnJvcicpKQ0KICAgICAgfQ0KDQogICAgfSwNCiAgICBleGVjdXRlQXV0b1Rlc3QoKSB7DQogICAgICBleGVjdXRlQXV0b1Rlc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMubmV3VGVzdCkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLmNhc2VEZWZpbml0aW9uKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBjaG9vc2VDb25maWdzNCgpIHsNCiAgICAgIHRoaXMuY2hvb3NlQ29uZmlnczRNYXJrID0gdHJ1ZQ0KICAgIH0sDQogICAgY2hvb3NlQ29uZmlnczRSb3cocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnSU5QVVQnKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZUNvbmZpZ3M0LmlkKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlQ29uZmlnczQgPSB7fQ0KICAgICAgICAgIHRoaXMuY2hvb3NlQ29uZmlnczRNYXJrID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAidA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/preservation-test/detail","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :label=\"$t('route.preservationTest')\" @backTo=\"backPage\"/>\r\n    <!-- 商品信息 -->\r\n\r\n    <cus-commodity-info></cus-commodity-info>\r\n\r\n\r\n    <!--测试进度-->\r\n    <cus-form-title :first=\"true\" :label=\"$t('preservationTestDetails.testSurvey')\"></cus-form-title>\r\n\r\n    <cus-table-title :label=\"$t('preservationTestDetails.testProgress')\"></cus-table-title>\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testPoint')\" align=\"center\"\r\n                       prop=\"pdTestFuncDesc\" width=\"220px\"/>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testPointAllConclusion')\" align=\"center\"\r\n                       prop=\"pdTestConc\" width=\"220px\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestConc | filter_Status }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testPointAllConclusionDesc')\" align=\"center\"\r\n\r\n                       prop=\"pdTestConcDesc\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testDetails')\" align=\"center\" fixed=\"right\"\r\n                       width=\"220px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button class=\"filter-button\" icon=\"el-icon-info\" size=\"mini\" type=\"primary\"\r\n                     @click=\"testDetails(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-row class=\"row-bg\" justify=\"\" style=\"margin-top: 33px ;\" type=\"flex\">\r\n      <el-col :span=\"4\">\r\n        <el-button size=\"small\" type=\"primary\" @click=\"testRecord\"><i\r\n          class=\"el-icon-view el-icon-info\"></i>{{ $t('preservationTestDetails.historyTestRecord') }}\r\n        </el-button>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button size=\"small\" type=\"primary\" @click=\"testCaseRecord\"><i\r\n          class=\"el-icon-view el-icon-info\"></i>{{ $t('preservationTestDetails.testCaseStatistics') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n\r\n    <!--测试案例-->\r\n    <cus-form-title :first=\"true\" :label=\"$t('preservationTestDetails.testCase')\"></cus-form-title>\r\n    <el-row class=\"row-bg\" justify=\"\" style=\"margin-top: 13px ;\" type=\"flex\">\r\n      <el-col :span=\"4\">\r\n        <el-button icon=\"el-icon-edit\" size=\"small\" type=\"primary\" @click=\"caseDefinition\">\r\n          {{ $t('preservationTestDetails.testCaseDefinition') }}\r\n        </el-button>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button v-auth=\"'preservation-test:executeAutoTest'\" size=\"small\" type=\"primary\"\r\n                   @click=\"executeAutoTest\">\r\n          <svg-icon icon-class=\"autotest\"/>\r\n          {{ $t('productTestingNewDetails.automatedTest') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <cus-table-title :label=\"$t('preservationTestDetails.testCase')\"></cus-table-title>\r\n    <el-table :data=\"configs3\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testType')\" align=\"center\"\r\n                       prop=\"pdTestStatus\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestStatus | filter_CaseStatus }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testPoint')\" align=\"center\"\r\n                       prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}、</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('preservationTestDetails.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('preservationTestDetails.testCaseDetails')\" align=\"center\" fixed=\"right\"\r\n                      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button class=\"filter-button\" icon=\"el-icon-info\" size=\"mini\" type=\"primary\"\r\n                     @click=\"testCaseDetails(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page3\" v-model=\"configs3\" :pageSize=\"10\" :params=\"params3\"\r\n                    url=\"/preservation-test/base/queryPdTestCase\"/>\r\n    <el-row style=\"margin-top: 20px\">\r\n      <el-col :span=\"24\" align=\"left\">\r\n        <el-button v-auth=\"'preservation-test:executeTest'\" size=\"small\" style=\"width: 130px\" type=\"primary\"\r\n                   @click=\"executeTest\">\r\n          <svg-icon icon-class=\"autotest\"/>\r\n          {{ $t('route.test') }}\r\n        </el-button>\r\n\r\n      </el-col>\r\n    </el-row>\r\n    <!--测试结果-->\r\n\r\n    <cus-form-title :first=\"true\" :label=\" $t('preservationTestDetails.testResult')\"></cus-form-title>\r\n\r\n    <cus-table-title :label=\" $t('preservationTestDetails.testResult')\"></cus-table-title>\r\n    <el-table :data=\"configs4\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\"\r\n              @row-click=\"chooseConfigs4Row\">\r\n      <el-table-column align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selecteConfigs4\">\r\n                  <span>\r\n                <el-radio :label=\"scope.row\" @change=\"testCaseResultDetails\">{{ '' }}</el-radio>\r\n                  </span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\">\r\n\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.policyNumber')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testDate')\" align=\"center\"\r\n                       prop=\"pdTestDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestDetails.testResultDetails')\" align=\"center\" fixed=\"right\"\r\n                      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button :disabled=\"scope.row.id !== selectedId\" :icon=\"resultIcon\"\r\n                     class=\"filter-button\" size=\"mini\" @click=\"hideTestCaseResult(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page4\" v-model=\"configs4\" :pageSize=\"10\" :params=\"params4\"\r\n                    url=\"/preservation-test/base/queryTestedCase\"/>\r\n\r\n\r\n    <div v-if=\"chooseConfigs4Mark\">\r\n      <!--产品-->\r\n      <div v-if=\"resultProductTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.product')\"></cus-table-title>\r\n        <el-table :data=\"configs5\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs5\">\r\n                  <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPlanData\">{{ '' }}</el-radio>\r\n                  </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.effectiveDate')\" align=\"center\"\r\n                           prop=\"effectiveDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentDeadline')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n      <!--方案-->\r\n      <div v-if=\"resultPlanTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.programInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs6\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs6\">\r\n                  <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPaymentAndBnftData\">{{ '' }}</el-radio>\r\n                  </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\"  type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\"align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.programName')\" align=\"center\"\r\n                           prop=\"planName\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentDeadline')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n        </el-table>\r\n\r\n\r\n      </div>\r\n      <!--缴费信息-->\r\n      <div v-if=\"resultPaymentTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.paymentInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs7\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\"  type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentCode')\" align=\"center\"\r\n                           prop=\"paymentCode\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentName')\" align=\"center\"\r\n                           prop=\"paymentName\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.premiumCalculation')\" align=\"center\"\r\n                           prop=\"premiumCalMethod\">\r\n            <template v-slot=\"scope\">{{ scope.row.premiumCalMethod | filterCalMethod }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentBeginDate')\" align=\"center\"\r\n                           prop=\"payStartDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentEndDate')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.paymentMethod')\" align=\"center\"\r\n                           prop=\"paymentMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.paymentMode | filterFreqType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!--保障信息-->\r\n      <div v-if=\"resultGuaranteeTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.guaranteeInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs8\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\"\r\n                           prop=\"benefitCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftName')\" align=\"center\"\r\n                           prop=\"benefitName\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"\r\n                           prop=\"\">\r\n            <template v-slot=\"scope\">{{ scope.row.benefitType | filterBnftType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftDetailType')\" align=\"center\"\r\n                           prop=\"bnftDetailType\">\r\n            <template v-slot=\"scope\">{{ filterBnftDetailType(scope.row.benefitType, scope.row.bnftDetailType) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.startDateOfInsurance')\" align=\"center\"\r\n                           prop=\"starBnftDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.endDateOfInsurance')\" align=\"center\"\r\n                           prop=\"endBnftDate\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.startDateOfCollection')\" align=\"center\"\r\n                           prop=\"startDateOfCollection\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.endDateOfCollection')\" align=\"center\"\r\n                           prop=\"collectionDeadline\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.coverageForTheNextYear')\" align=\"center\"\r\n                           prop=\"nextYearAmount\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!--账户-->\r\n      <div v-if=\"resultAccountTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.account')\"></cus-table-title>\r\n        <el-table :data=\"configs8\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountCode')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountName')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountType')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountAmount')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountCreateDate')\" align=\"center\"\r\n                           prop=\"\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!--账户费用-->\r\n      <div v-if=\"resultAccountFeesTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.accountFees')\"/>\r\n        <el-table :data=\"configs8\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.accountCode')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.feesCode')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('i18nView.feeType')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.feesAmount')\" align=\"center\" prop=\"\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!--投保规则-->\r\n      <div v-if=\"resultInsuranceRulesTable\">\r\n        <cus-table-title :label=\"$t('preservationTestDetails.insuredRules')\"/>\r\n        <el-table :data=\"configs9\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('preservationTestDetails.ruleCode')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.ruleType')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.ruleContent')\" align=\"center\" prop=\"\"/>\r\n          <el-table-column :label=\"$t('preservationTestDetails.ruleResults')\" align=\"center\" prop=\"\"/>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n\r\n    <!--测试点结论-->\r\n    <cus-table-title :label=\"$t('preservationTestDetails.testPointConclusion')\"></cus-table-title>\r\n    <el-form ref=\"concForm\" :model=\"concForm\" :rules=\"tableRules\">\r\n      <el-table :data=\"concForm.funcConcData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"/>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testPoint')\" align=\"center\"\r\n                         prop=\"pdTestFuncDesc\" width=\"150px\"/>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testConclusion')\" align=\"center\"\r\n                         width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-form-item :prop=\"'funcConcData.' + scope.$index + '.pdTestConc'\" :rules=\"tableRules.pdTestConc\">\r\n              <el-select v-model=\"scope.row.pdTestConc\" clearable>\r\n                <el-option :label=\"$t('i18nView.pass1')\" value=\"1\"/>\r\n                <el-option :label=\"$t('i18nView.notpass2')\" value=\"2\"/>\r\n              </el-select>\r\n            </el-form-item>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.conclusionDetails')\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-form-item :prop=\"'funcConcData.' + scope.$index + '.pdTestConcDesc'\" :rules=\"tableRules.pdTestConcDesc\">\r\n              <el-input v-model=\"scope.row.pdTestConcDesc\" clearable maxlength=\"100\" :placeholder=\"$t('form.please_enter')\" show-word-limit\r\n                        type=\"textarea\"/>\r\n            </el-form-item>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-form>\r\n\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col :span=\"24\" align=\"right\">\r\n        <el-button v-auth=\"'preservation-test:saveFuncConc'\" icon=\"el-icon-success\" size=\"small\" style=\"width: 100px\"\r\n                   type=\"primary\"\r\n                   @click=\"saveFuncConc\">{{\r\n            this.updateFuncConcFlag ? $t('table.update') : $t('table.save')\r\n          }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <div v-if=\"this.configs4.length > 0\">\r\n\r\n      <cus-form-title :label=\"$t('preservationTestDetails.newTestConclusion')\"></cus-form-title>\r\n      <el-form ref=\"newTestForm\" :model=\"newTest\" :rules=\"newTestRules\" label-width=\"auto\" style=\"margin-left: 30px\">\r\n        <el-form-item :label=\"$t('preservationTestDetails.testConclusion')\" prop=\"pdTestConc\">\r\n          <el-radio-group v-model=\"newTest.pdTestConc\">\r\n            <el-radio label=\"2\" style=\"margin-left: 10px\">{{ $t('productTestingNew.pass') }}</el-radio>\r\n            <el-radio label=\"1\" style=\"margin-left: 10px\">{{ $t('productTestingNew.notpass') }}</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('preservationTestDetails.testIdea')\" prop=\"pdTestConcDesc\">\r\n          <el-input\r\n            v-model=\"newTest.pdTestConcDesc\"\r\n            :autosize=\"{ minRows: 3, maxRows: 10}\"\r\n            :placeholder=\"$t('i18nView.pleInput')\"\r\n            type=\"textarea\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-row style=\"margin-top: 35px\">\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button v-auth=\"'preservation-test:updateTestInfo'\" icon=\"el-icon-success\" size=\"small\" style=\"width: 130px\"\r\n                     type=\"primary\" @click=\"saveTestInfoConc\">\r\n            {{ $t('preservationTestDetails.testFinish') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <!--测试详情弹窗-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"dialogTableVisible1\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <div>\r\n      <span style=\"cursor: pointer\" @click=\"back1\">\r\n        <i class=\"el-icon-back\" style=\"margin-right: 5px\">{{ $t('table.back') }}</i>\r\n      </span>\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <label>{{ $t('preservationTestDetails.testDetails') }}</label>\r\n      </div>\r\n      <hr>\r\n      <br/>\r\n      <cus-table-title :label=\"$t('productTestingNewCaseDefinition.testCase')\"/>\r\n      <el-table :data=\"configs2\" align=\"center\"\r\n                border class=\"wraper-table\" element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testBatch')\" align=\"center\"\r\n                         prop=\"batchId\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testDate')\" align=\"center\"\r\n                         prop=\"pdTestDate\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testCaseCode')\" align=\"center\"\r\n                         prop=\"pdTestCaseCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testCaseDesc')\" align=\"center\"\r\n                         prop=\"pdTestCaseDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.policyNumber')\" align=\"center\"\r\n                         prop=\"pdTestCaseCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.testPointConclusion')\" align=\"center\"\r\n                         prop=\"pdTestConc\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdTestConc | filter_Status }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('preservationTestDetails.conclusionDetails')\" align=\"center\"\r\n                         prop=\"pdTestConcDesc\"></el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n\r\n    <!--测试案例详情弹窗-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :destroy-on-close=\"true\" :show-close=true :visible.sync=\"dialogTableVisible2\"\r\n               center top=\"8vh\" width=\"1200px\">\r\n      <div>\r\n      <span style=\"cursor: pointer\" @click=\"back2\">\r\n        <i class=\"el-icon-back\" style=\"margin-right: 5px\">{{ $t('table.back') }}</i>\r\n      </span>\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <label>{{ $t('preservationTestDetails.testCaseDetails') }}</label>\r\n      </div>\r\n      <hr>\r\n      <br/>\r\n      <casereadonly v-if=\"dialogTableVisible2\" :caseDef=\"caseDefRow\"></casereadonly>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  executeAutoTest,\r\n  executeTest,\r\n  queryCurrentPdTestCaseDetail,\r\n  queryCurrentPdTestRes,\r\n  queryPdFuncConc,\r\n  saveFuncConc,\r\n  updateTestInfo,\r\n} from '@/api/pdtest/preservationTest'\r\n\r\nimport casereadonly from '@/views/product-testing/preservation-test/casereadonly'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'preservationTestDetails',\r\n  filters: {\r\n    filter_Status(code) {\r\n      return _this.testConcStatus[code]\r\n    },\r\n    filter_CaseStatus(code) {\r\n      return _this.testCaseStatus[code]\r\n    },\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code]\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code]\r\n    },\r\n    filterCurrency(code) {\r\n      return _this.getCodeName('currency2', code, true)\r\n    }, filterCalMethod(code) {\r\n      return _this.getCodeName('pd_prem_cal_method', code, true)\r\n    },\r\n    filterBnftType(code) {\r\n      return _this.getCodeName('guaranteeDetails', code, true)\r\n    },\r\n    filterFreqType(code) {\r\n      return _this.getCodeName('pd_prem_freq', code, true)\r\n    }\r\n  },\r\n  components: {\r\n    casereadonly\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      testConcStatus: {'0': '未测试', '1': '不通过', '2': '通过'},\r\n      testCaseStatus: {'0': '未测试', '1': '已测试'},\r\n      testCaseType: {'1': '自动化测试', '2': '自定义测试'},\r\n      testCaseDefinition: {'1': '页面定义', '2': '上传定义'},\r\n      props: {},\r\n      chooseConfigs4Mark: false,\r\n      configs1: [],\r\n      configs2: [],\r\n      configs3: [],\r\n      configs4: [],\r\n      configs5: [],\r\n      selectConfigs5: [],\r\n      configs6: [],\r\n      selectConfigs6: '',\r\n      configs7: [],\r\n      configs8: [],\r\n      configs9: [],\r\n      configs10: [],\r\n      configs11: [],\r\n      testData: {},\r\n      concForm: {'funcConcData': []},\r\n      updateFuncConcFlag: false,\r\n      tableRules: {\r\n        pdTestConc: [\r\n          {required: true, message: this.$t('form.please_select'), trigger: 'change'}\r\n        ],\r\n        pdTestConcDesc: [\r\n          {required: true, message: this.$t('form.please_enter'), trigger: 'blur'}\r\n        ]\r\n      },\r\n      params: {},\r\n      params1: {},\r\n      params3: {'pdInfoId': ''},\r\n      params4: {'pdInfoId': ''},\r\n      params5: {},\r\n      params6: {},\r\n      params8: {},\r\n      params9: {},\r\n      newTest: {\r\n        pdInfoId: '',\r\n        pdTestConc: '',\r\n        pdTestConcDesc: ''\r\n      },\r\n      newTestRules: {\r\n        pdTestConc: [\r\n          {required: true, message: this.$t('form.please_select'), trigger: 'change'}\r\n        ],\r\n        pdTestConcDesc: [\r\n          {required: true, message: this.$t('form.please_enter'), trigger: 'blur'}\r\n        ]\r\n      },\r\n      resultIcon: 'el-icon-arrow-down',\r\n      CaseDetails: {},\r\n      selecteConfigs4: {},\r\n      selectedId: '0',\r\n      selecteConfigs5: {},\r\n      selecteConfigs6: {},\r\n      dialogTableVisible1: false,\r\n      dialogTableVisible2: false,\r\n      resultProductTable: false,\r\n      resultPlanTable: false,\r\n      resultPaymentTable: false,\r\n      resultGuaranteeTable: false,\r\n      resultAccountTable: false,\r\n      resultAccountFeesTable: false,\r\n      resultInsuranceRulesTable: false,\r\n      caseDefRow: {},\r\n      //检验规则\r\n      rules: {},\r\n      testCaseList: [],\r\n      pdTestId: '',\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    console.log('1111')\r\n    this.pdTestId = this.$route.params.pdTestId\r\n    if (this.pdTestId) {\r\n      this.cacheStrData(\"pdTestId\", this.pdTestId)\r\n    }\r\n    let pdInfo = this.getJsonData('pdTestInfo')\r\n    if (pdInfo) {\r\n      this.newTest.pdInfoId = pdInfo.id\r\n      this.params3.pdInfoId = pdInfo.id\r\n      this.params4.pdInfoId = pdInfo.id\r\n      this.initTestSpeedOfProgress(pdInfo.id)\r\n    }\r\n  },\r\n  methods: {\r\n    filterBnftDetailType(code, sencode) {\r\n      return this.getCodeName('guaranteeDetails.' + code, sencode, true)\r\n    },\r\n    testCaseRecord() {\r\n      this.$router.push({path: '/product-testing/preservation-test/preservation-test-caserecord'})\r\n    },\r\n    testRecord() {\r\n      this.$router.push({path: '/product-testing/preservation-test/preservation-test-testrecord'})\r\n    },\r\n    caseDefinition() {\r\n      this.$router.push({path: '/product-testing/preservation-test/preservation-test-casedef'})\r\n    },\r\n    initTestSpeedOfProgress(pdInfoId) {\r\n      queryCurrentPdTestRes(this.buildRequestData({'pdInfoId': pdInfoId})).then(res => {\r\n        this.configs1 = res.data\r\n      })\r\n    },\r\n    testDetails(row) {\r\n      this.dialogTableVisible1 = true\r\n      queryCurrentPdTestCaseDetail(this.buildRequestData({\r\n        'funcId': row.pdTestFuncId,\r\n        'pdInfoId': row.pdInfoId\r\n      })).then(res => {\r\n        this.configs2 = res.data\r\n      })\r\n    },\r\n    testCaseDetails(row) {\r\n      this.caseDefRow = row\r\n      this.dialogTableVisible2 = true\r\n    },\r\n    testCaseResultDetails(row) {\r\n\r\n      // this.chooseConfigs4Mark = true\r\n      // this.resultIcon = 'el-icon-arrow-up'\r\n      this.selectedId = row.id\r\n\r\n      //获取测试功能点 根据功能点展示不同的表格\r\n      let funcCodes = row.pdFuncDesc.map(data => data.pd_test_func_code).toString()\r\n      if (funcCodes.indexOf('RN01') >= 0) {\r\n        this.resultProductTable = true\r\n        this.resultPaymentTable = true\r\n      }\r\n\r\n      if (funcCodes.indexOf('RN02') >= 0) {\r\n        this.resultProductTable = true\r\n        this.resultPlanTable = true\r\n        this.resultPaymentTable = true\r\n        this.resultGuaranteeTable = true\r\n      }\r\n      //组装测试结果\r\n      this.buildTestResult(row.pdTestCaseData)\r\n\r\n      //组装测试结论\r\n      this.buildFuncTestConc(row.id)\r\n    },\r\n    buildTestResult(pdTestCaseData) {\r\n      let caseData = JSON.parse(pdTestCaseData)\r\n      let result = caseData.testResult\r\n      this.configs5 = result.products\r\n      this.testData = result\r\n      this.configs6 = result.plans\r\n      this.configs7 = result.payments\r\n      this.configs8 = result.bnfts\r\n    },\r\n    buildPlanData(row) {\r\n      this.configs6 = this.testData.plans.filter(plan => plan.pdCode === row.pdCode)\r\n    },\r\n    buildPaymentAndBnftData(row) {\r\n      this.configs7 = this.testData.payments.filter(payment => payment.planCode === row.planCode)\r\n      this.configs8 = this.testData.bnfts.filter(payment => payment.planCode === row.planCode)\r\n    },\r\n    buildFuncTestConc(pdTestCaseId) {\r\n      this.concForm.funcConcData = []\r\n      queryPdFuncConc(this.buildRequestData({'pdTestCaseId': pdTestCaseId})).then(res => {\r\n        let funcList = res.data\r\n        this.concForm.funcConcData = funcList\r\n        funcList.forEach(data => {\r\n          if (data.pdTestConc) {\r\n            this.updateFuncConcFlag = true\r\n          }\r\n        })\r\n      })\r\n    },\r\n    saveFuncConc() {\r\n      this.$refs.concForm.validate(valid => {\r\n        if (valid) {\r\n          saveFuncConc(this.buildRequestData({funcConc: this.concForm.funcConcData})).then(res => {\r\n            this.updateFuncConcFlag = true\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            this.initTestSpeedOfProgress(this.params3.pdInfoId)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    hideTestCaseResult() {\r\n      //显示结果\r\n      if (this.resultIcon === 'el-icon-arrow-down') {\r\n        this.chooseConfigs4Mark = true\r\n        this.resultIcon = 'el-icon-arrow-up'\r\n      } else if (this.resultIcon === 'el-icon-arrow-up') {\r\n        this.chooseConfigs4Mark = false\r\n        this.resultIcon = 'el-icon-arrow-down'\r\n      }\r\n    },\r\n    saveTestInfoConc() {\r\n      this.$refs.newTestForm.validate(valid => {\r\n        if (valid) {\r\n          let pass = false\r\n          //所有案例已经测试\r\n          if (this.configs4.length !== 0 && this.configs3.length === this.configs4.length) {\r\n            pass = true\r\n          }\r\n          if (pass) {\r\n            this.finishTestConc()\r\n          } else {\r\n            this.confirmWarning(this.$t('preservationTestDetails.concConfirm')).then(() => {\r\n              this.newTest['delCase'] = 'Y'\r\n              this.finishTestConc()\r\n            }).catch(() => {\r\n\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    finishTestConc() {\r\n      updateTestInfo(this.buildRequestData(this.newTest)).then(res => {\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.backPage()\r\n      })\r\n    },\r\n    back2() {\r\n      this.dialogTableVisible2 = false\r\n    },\r\n    back1() {\r\n      this.dialogTableVisible1 = false\r\n    },\r\n    backPage() {\r\n      this.$router.push({path: '/product-testing/preservation-test/preservation-test-apply'})\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.testCaseList = val\r\n\r\n    }, executeTest() {\r\n      if (this.testCaseList.length > 0) {\r\n        executeTest(this.buildRequestData({testCase: this.testCaseList})).then(res => {\r\n          this.$refs.page3.reload()\r\n          this.$refs.page4.reload()\r\n        })\r\n      } else {\r\n        this.notifyError(this.$t('preservationTestDetails.testError'))\r\n      }\r\n\r\n    },\r\n    executeAutoTest() {\r\n      executeAutoTest(this.buildRequestData(this.newTest)).then(res => {\r\n          this.caseDefinition()\r\n      })\r\n    },\r\n    chooseConfigs4() {\r\n      this.chooseConfigs4Mark = true\r\n    },\r\n    chooseConfigs4Row(row, column, event) {\r\n      if (event.target.nodeName === 'INPUT') {\r\n        if (row.id === this.selecteConfigs4.id) {\r\n          this.selecteConfigs4 = {}\r\n          this.chooseConfigs4Mark = false\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n"]}]}
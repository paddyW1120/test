{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-program-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-program-def\\index.vue","mtime":1609847107005},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwcm9nQm5mdCBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtcGFja2FnZS1kZWZpbml0aW9uL3BwLWZyYW1ld29yay1kZWYvcHAtaW5mby1kZWYvcGRwcHBkcHJvZ3NJbmZvL2luZGV4IgppbXBvcnQgUHJvZ3JhbW1lRGVmaW5pdGlvbiBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcHJvZ3JhbS1kZWYiCmltcG9ydCB7CiAgc2VhcmNoUHBQcm9nc0FsbCwKICBzYXZlQ2hlY2tlZE5vZGVzLAogIGZpbmRBbGxQcm9nUmVsYUJ5UHJvZHVjdElkLAogIGZpbmRBdHRyaWJ1dHJFbnRpdHksCiAgZGVsZXRlQ2hlY2tlZE5vZGVzLAogIGxvb2tQcm9nSW5mbywKICBmaW5kQWxsUHJvZ3JhbW1lVm9CeVByb2R1Y3RJZFBwCn0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL3BkcHBzY2hlbWUnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGRQcFNjaGVtZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkUHJvZzogJycsCiAgICAgIFByb2dJbmZvU2hvdzogZmFsc2UsCiAgICAgIHNob3dQYWdlRmxhZzonJywKICAgICAgc3BhbkFycjogW10sCiAgICAgIHBvczogMCwKICAgICAgQnV0dG9uRmxhZzogdHJ1ZSwKICAgICAgZGF0YUZsYWc6IHRydWUsCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIGNob29zZVJvd0lkOiBbXSwKICAgICAgcGRQcEluZm86IHsKICAgICAgICBpZDogJycsCiAgICAgICAgcHBDb2RlOiAnJywKICAgICAgICBwcE5hbWU6ICcnLAogICAgICAgIHBwVHlwZTogJycsLy/nsbvlnosKICAgICAgICBwcFBsYW5OYW1lOiAnJywKICAgICAgICBwcFBsYW5Db2RlOiAnJywKICAgICAgICBwcFBlcnNvbk51bTogJycsCiAgICAgIH0sCiAgICAgIHBkUHBJbmZvMjogewogICAgICAgIGlkOiAnJywKICAgICAgICBwcENvZGU6ICcnLAogICAgICAgIHBwTmFtZTogJycsCiAgICAgICAgcHBUeXBlOiAnJywvL+exu+WeiwogICAgICAgIHBwUGxhbk5hbWU6ICcnLAogICAgICAgIHBwUGxhbkNvZGU6ICcnLAogICAgICAgIHBwUGVyc29uTnVtOiAnJywKICAgICAgfSwKICAgICAgcGRQcFNjaGVtZXJlbGE6IFtdLAogICAgICBMaXN0UGRJbmZvczogW10sCiAgICAgIExpc3RQZEluZm9zUmVzdWx0OiBbXSwKICAgICAgTGlzdGRlZmF1bHRleHBhbmRlZEtleXM6IFtdLAogICAgICBwYXJhbXM6IHt9LAogICAgICBmb3JtOiB7ICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lAogICAgICB9LAogICAgICAvL+ajgOmqjOinhOWImQogICAgICBydWxlczogewogICAgICAgIHBwUGxhbkNvZGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkUHBTY2hlbWUud2FyaW5nLnBwc2NoZW1lQ29kZUlkZWEnKSwgdHJpZ2dlcjogJ2JsdXInfV0sCiAgICAgICAgcHBQbGFuTmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRQcFNjaGVtZS53YXJpbmcucHBzY2hlbWVOYW1lSWRlYScpLCB0cmlnZ2VyOiAnYmx1cid9XQogICAgICB9LAoKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBjb21wb25lbnRzOiB7cHJvZ0JuZnQsUHJvZ3JhbW1lRGVmaW5pdGlvbn0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnCiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlckNvbnRlbnQoaCx7bm9kZSxkYXRhLHN0b3JlfSl7CiAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPT0wKXsKICAgICAgICByZXR1cm4gKDxzcGFuPjxpIGNsYXNzPXtkYXRhLmNsYXNzTmFtZX0+PC9pPjxzcGFuPntub2RlLmxhYmVsfTwvc3Bhbj48aSBzdHlsZT0iY29sb3I6IzE4OTBmZiI+ID4+PC9pPjwvc3Bhbj4pOwogICAgICB9ZWxzZSB7CiAgICAgICAgcmV0dXJuICg8c3Bhbj48aSBjbGFzcz17ZGF0YS5jbGFzc05hbWV9PjwvaT48c3Bhbj57bm9kZS5sYWJlbH08L3NwYW4+PC9zcGFuPik7CiAgICAgIH0KICAgIH0sCiAgICBub2RlQ2xpY2sodmFsKXsKICAgICAgbGV0IF9mbGFnPXRydWU7CiAgICAgIGZvciAoY29uc3QgaXRlbSBpbiB0aGlzLkxpc3RQZEluZm9zUmVzdWx0KXsKICAgICAgICBpZiAodmFsLmNvZGU9PXRoaXMuTGlzdFBkSW5mb3NSZXN1bHRbaXRlbV0ucGRDb2RlKXsKICAgICAgICAgIF9mbGFnPWZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChfZmxhZykgewogICAgICAgIGxldCBtYXAgPSB7CiAgICAgICAgICAicHJvZ0NvZGUiOiB2YWwuY29kZSwKICAgICAgICAgICJwcm9nTmFtZSI6IHZhbC5sYWJlbAogICAgICAgIH0KCgogICAgICAgIGxvb2tQcm9nSW5mbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEobWFwKSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5jYWNoZUpzb25EYXRhKCJmb3JtX3Byb2dyYW1tZSIsIHJlcy5kYXRhLnBkUHJvZ1MpCiAgICAgICAgICB0aGlzLmNhY2hlQ3VyclBhZ2VQZERhdGEocmVzLmRhdGEucGRJbmZvUykKICAgICAgICAgIHRoaXMuY2FjaGVKc29uRGF0YSgidGFibGVEYXRhX3Byb2dyYW1tZSIsIHJlcy5kYXRhLnByb2dPbmVJbmZvUykKICAgICAgICAgIHRoaXMuY2FjaGVKc29uRGF0YSgiUmVhZFBwUHJvZ0luZm8iLHRydWUpOwogICAgICAgICAgbGV0IG1hcHMgPSB7CiAgICAgICAgICAgICJwcm9kdWN0SWQiOiByZXMuZGF0YS5wZEluZm9TLmlkLAogICAgICAgICAgICAibGlrZV9wZFByb2dOYW1lIjp2YWwubGFiZWwsCiAgICAgICAgICAgICJlcV9wZFByb2dDb2RlIjp2YWwuY29kZQogICAgICAgICAgfQogICAgICAgICAgZmluZEFsbFByb2dyYW1tZVZvQnlQcm9kdWN0SWRQcCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEobWFwcykpLnRoZW4ocmVzID0+ewogICAgICAgICAgICB0aGlzLmNhY2hlSnNvbkRhdGEoInByZW1pdW1MaXN0IiwgcmVzLmRhdGEucHJlbSk7CiAgICAgICAgICAgIHRoaXMuY2FjaGVKc29uRGF0YSgic3Vydml2YWxMaXN0IiwgcmVzLmRhdGEuc3Vydml2YWxMaXN0KTsKICAgICAgICAgICAgdGhpcy5jYWNoZUpzb25EYXRhKCJjbGFpbUxpc3QiLHJlcy5kYXRhLmNsYWltTGlzdCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5Qcm9nSW5mb1Nob3cgPSB0cnVlOwogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSwKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuUHJvZ0luZm9TaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0UHBJbmZvKCk7CiAgICAgIHRoaXMuZ2V0UHBJbmZvUmVsYVByb2coKTsKICAgICAgdGhpcy5oYW5kbGVDbGVhcigpOwogICAgICB0aGlzLmNyZWF0ZWRwZGluZm9zKCk7CiAgICB9LAogICAgZ2V0UHBJbmZvKCkgewogICAgICAvL+Wll+mkkOS/oeaBrwogICAgICB0aGlzLnBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKQogICAgICBmaW5kQXR0cmlidXRyRW50aXR5KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7J3BwSW5mb0F0dHInOiB0aGlzLnBkUHBJbmZvfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnBkUHBJbmZvID0gcmVzLmRhdGEucGRQcEluZm9BOwogICAgICAgIGlmICh0aGlzLnBkUHBJbmZvLnBwUGxhbkNvZGUpIHsKICAgICAgICAgIHRoaXMuQnV0dG9uRmxhZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLkJ1dHRvbkZsYWcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZXRQcEluZm9SZWxhUHJvZygpIHsKICAgICAgLy/lpZfppJDmlrnmoYjlhbPogZTlhbPns7sKICAgICAgZmluZEFsbFByb2dSZWxhQnlQcm9kdWN0SWQodGhpcy5idWlsZFJlcXVlc3REYXRhKHsncGRwcEluZm9SJzogdGhpcy5wZFBwSW5mb30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLnBkUHBTY2hlbWVyZWxhID0gcmVzLmRhdGEucHBzY2hlbWVzOwogICAgICAgICAgLy8gdGhpcy5nZXRTcGFuQXJyKHRoaXMucGRQcFNjaGVtZXJlbGEpOwogICAgICAgICAgdGhpcy5nZXRPcmRlck51bWJlcigpOwogICAgICAgIH0KICAgICAgKQogICAgfSwKICAgIGNyZWF0ZWRwZGluZm9zKCkgewogICAgICAvL+Wll+mkkOe7hOWQiOWGheWuueagkQogICAgICBzZWFyY2hQcFByb2dzQWxsKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7J3BkcHBJbmZvUic6IHRoaXMucGRQcEluZm99KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuTGlzdFBkSW5mb3NSZXN1bHQgPSByZXMuZGF0YS5wcFByb2dzUjsKICAgICAgICB0aGlzLmFwcGVuZCgpOwogICAgICB9KQogICAgfSwKICAgIGFwcGVuZCgpIHsKICAgICAgdGhpcy5MaXN0UGRJbmZvcyA9IFtdOwogICAgICBsZXQgYXJyYXlJbmZvID0gdGhpcy5MaXN0UGRJbmZvc1Jlc3VsdDsKICAgICAgbGV0IGFycmF5SW5mb051bSA9IDA7CiAgICAgIGxldCBhcnJheUluZm9OdW0yID0gMDsKICAgICAgZm9yIChhcnJheUluZm9OdW0gPSAwOyBhcnJheUluZm9OdW0gPCBhcnJheUluZm8ubGVuZ3RoOyBhcnJheUluZm9OdW0rKykgewogICAgICAgIGxldCBhcnJheUl0ZW1wcm9nID0gewogICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgY29kZTogJycsCiAgICAgICAgICBsYWJlbDogJycsCiAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICBjb2RlOiAnJywKICAgICAgICAgICAgbGFiZWw6ICcnCiAgICAgICAgICB9XQogICAgICAgIH07CiAgICAgICAgYXJyYXlJdGVtcHJvZy5pZCA9ICcnOwogICAgICAgIGFycmF5SXRlbXByb2cuY29kZSA9ICcnOwogICAgICAgIGFycmF5SXRlbXByb2cubGFiZWwgPSAnJzsKICAgICAgICBpZiAoYXJyYXlJdGVtcHJvZy5jaGlsZHJlbikgewogICAgICAgICAgYXJyYXlJdGVtcHJvZy5jaGlsZHJlbi5zcGxpY2UoMCwgYXJyYXlJdGVtcHJvZy5jaGlsZHJlbi5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICBmb3IgKGFycmF5SW5mb051bTIgPSAwOyBhcnJheUluZm9OdW0yIDwgYXJyYXlJbmZvW2FycmF5SW5mb051bV0ucGFyYW1ldGVycy5sZW5ndGg7IGFycmF5SW5mb051bTIrKykgewogICAgICAgICAgYXJyYXlJdGVtcHJvZy5pZCA9IGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBkVmVySWQ7CiAgICAgICAgICBhcnJheUl0ZW1wcm9nLmNvZGUgPSBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wZENvZGU7CiAgICAgICAgICBhcnJheUl0ZW1wcm9nLmxhYmVsID0gYXJyYXlJbmZvW2FycmF5SW5mb051bV0ucGROYW1lOwogICAgICAgICAgbGV0IG51bTEgPSBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wZENvZGU7CiAgICAgICAgICBsZXQgbnVtMiA9IGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBhcmFtZXRlcnNbYXJyYXlJbmZvTnVtMl0ucGRDb2RlOwogICAgICAgICAgaWYgKG51bTEgPT09IG51bTIpIHsKICAgICAgICAgICAgY29uc3QgbmV3Q2hpbGQgPSB7CiAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgIGNvZGU6ICcnLAogICAgICAgICAgICAgIGxhYmVsOiAnJwogICAgICAgICAgICB9OwogICAgICAgICAgICBuZXdDaGlsZC5pZCA9IGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBhcmFtZXRlcnNbYXJyYXlJbmZvTnVtMl0uaWQ7CiAgICAgICAgICAgIG5ld0NoaWxkLmxhYmVsID0gYXJyYXlJbmZvW2FycmF5SW5mb051bV0ucGFyYW1ldGVyc1thcnJheUluZm9OdW0yXS5wZFByb2dOYW1lOwogICAgICAgICAgICBuZXdDaGlsZC5jb2RlID0gYXJyYXlJbmZvW2FycmF5SW5mb051bV0ucGFyYW1ldGVyc1thcnJheUluZm9OdW0yXS5wZFByb2dDb2RlOwogICAgICAgICAgICBpZiAoIWFycmF5SXRlbXByb2cuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICB0aGlzLiRzZXQoYXJyYXlJdGVtcHJvZywgJ2NoaWxkcmVuJywgW10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFycmF5SXRlbXByb2cuY2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChhcnJheUl0ZW1wcm9nKSB7CiAgICAgICAgICB0aGlzLkxpc3RQZEluZm9zLnB1c2goYXJyYXlJdGVtcHJvZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWRQcm9nU2NoZW1lQ2hhbmdlZCh2YWwpIHsKICAgICAgdGhpcy5kYXRhRmxhZyA9IGZhbHNlOwogICAgICB0aGlzLmNob29zZVJvd0lkID0gdmFsOwogICAgICBpZiAodGhpcy5jaG9vc2VSb3dJZC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHJlZnMudHJlZVByb2cuc2V0Q2hlY2tlZE5vZGVzKFtdKTsKICAgICAgICB0aGlzLmRhdGFGbGFnID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNldFByb2dzU2hvdygpOwogICAgICAgIHRoaXMuJHJlZnMudHJlZVByb2cuc2V0Q2hlY2tlZE5vZGVzKHRoaXMuTGlzdGRlZmF1bHRleHBhbmRlZEtleXMpOwogICAgICB9CgogICAgfSwKICAgIHNldFByb2dzU2hvdygpIHsKICAgICAgdGhpcy5MaXN0ZGVmYXVsdGV4cGFuZGVkS2V5cyA9IFtdOwogICAgICBsZXQgYXJyYXlJbmZvID0gdGhpcy5MaXN0UGRJbmZvc1Jlc3VsdDsKICAgICAgbGV0IGFycmF5SW5mb051bSA9IDA7CiAgICAgIGxldCBhcnJheUluZm9OdW0yID0gMDsKICAgICAgbGV0IF9hcnJDaG9vc2VOdW0gPSAwOwogICAgICBsZXQgX2FycnBwU2NoZW1lTnVtID0gMDsKICAgICAgbGV0IF9hcnJDaG9vc2UgPSB0aGlzLmNob29zZVJvd0lkOwogICAgICBsZXQgX2FycnBwU2NoZW1lID0gdGhpcy5wZFBwU2NoZW1lcmVsYTsKICAgICAgbGV0IF9udW1BcnIgPVtdOwogICAgICBmb3IgKF9hcnJwcFNjaGVtZU51bT0wO19hcnJwcFNjaGVtZU51bTxfYXJycHBTY2hlbWUubGVuZ3RoO19hcnJwcFNjaGVtZU51bSsrKXsKICAgICAgICBmb3IgKF9hcnJDaG9vc2VOdW0gPSAwOyBfYXJyQ2hvb3NlTnVtIDwgX2FyckNob29zZS5sZW5ndGg7IF9hcnJDaG9vc2VOdW0rKyl7CiAgICAgICAgICBsZXQgbnVtMSA9IF9hcnJwcFNjaGVtZVtfYXJycHBTY2hlbWVOdW1dLnBkQ29kZTsKICAgICAgICAgIGxldCBudW00ID0gX2FyckNob29zZVtfYXJyQ2hvb3NlTnVtXS5wZENvZGU7CiAgICAgICAgICBpZiAobnVtMT09PW51bTQpewogICAgICAgICAgICBfbnVtQXJyLnB1c2goX2FycnBwU2NoZW1lW19hcnJwcFNjaGVtZU51bV0pOwogICAgICAgICAgfQoKICAgICAgICB9CiAgICAgIH0KICAgICAgX2FyckNob29zZSA9IF9udW1BcnI7CiAgICAgIGZvciAoX2FyckNob29zZU51bSA9IDA7IF9hcnJDaG9vc2VOdW0gPCBfYXJyQ2hvb3NlLmxlbmd0aDsgX2FyckNob29zZU51bSsrKSB7CiAgICAgICAgZm9yIChhcnJheUluZm9OdW0gPSAwOyBhcnJheUluZm9OdW0gPCBhcnJheUluZm8ubGVuZ3RoOyBhcnJheUluZm9OdW0rKykgewogICAgICAgICAgaWYgKGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBkQ29kZSA9PT0gX2FyckNob29zZVtfYXJyQ2hvb3NlTnVtXS5wZENvZGUpIHsKICAgICAgICAgICAgbGV0IGFycmF5SXRlbXByb2cgPSB7CiAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgIGNvZGU6ICcnLAogICAgICAgICAgICAgIGxhYmVsOiAnJwogICAgICAgICAgICB9OwogICAgICAgICAgICBhcnJheUl0ZW1wcm9nLmlkID0gJyc7CiAgICAgICAgICAgIGFycmF5SXRlbXByb2cuY29kZSA9ICcnOwogICAgICAgICAgICBhcnJheUl0ZW1wcm9nLmxhYmVsID0gJyc7CiAgICAgICAgICAgIGZvciAoYXJyYXlJbmZvTnVtMiA9IDA7IGFycmF5SW5mb051bTIgPCBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wYXJhbWV0ZXJzLmxlbmd0aDsgYXJyYXlJbmZvTnVtMisrKSB7CiAgICAgICAgICAgICAgbGV0IG51bTEgPSBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wZENvZGU7CiAgICAgICAgICAgICAgbGV0IG51bTIgPSBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wYXJhbWV0ZXJzW2FycmF5SW5mb051bTJdLnBkQ29kZTsKICAgICAgICAgICAgICBsZXQgbnVtMyA9IGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBhcmFtZXRlcnNbYXJyYXlJbmZvTnVtMl0ucGRQcm9nQ29kZTsKICAgICAgICAgICAgICBsZXQgbnVtNCA9IF9hcnJDaG9vc2VbX2FyckNob29zZU51bV0ucGRQcm9nQ29kZTsKICAgICAgICAgICAgICBpZiAobnVtMSA9PT0gbnVtMiAmJiBudW0zID09PSBudW00KSB7CiAgICAgICAgICAgICAgICBhcnJheUl0ZW1wcm9nLmlkID0gYXJyYXlJbmZvW2FycmF5SW5mb051bV0ucGFyYW1ldGVyc1thcnJheUluZm9OdW0yXS5pZDsKICAgICAgICAgICAgICAgIGFycmF5SXRlbXByb2cuY29kZSA9IGFycmF5SW5mb1thcnJheUluZm9OdW1dLnBhcmFtZXRlcnNbYXJyYXlJbmZvTnVtMl0ucGRQcm9nQ29kZTsKICAgICAgICAgICAgICAgIGFycmF5SXRlbXByb2cubGFiZWwgPSBhcnJheUluZm9bYXJyYXlJbmZvTnVtXS5wYXJhbWV0ZXJzW2FycmF5SW5mb051bTJdLnBkUHJvZ05hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhcnJheUl0ZW1wcm9nKSB7CiAgICAgICAgICAgICAgdGhpcy5MaXN0ZGVmYXVsdGV4cGFuZGVkS2V5cy5wdXNoKGFycmF5SXRlbXByb2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgfSwKICAgIGdldENoZWNrZWROb2RlcygpIHsKICAgICAgdGhpcy4kcmVmcy5wZFBwSW5mby52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsZXQgbWFwID0gewogICAgICAgICAgICAncHBJbmZvJzogdGhpcy5wZFBwSW5mbywKICAgICAgICAgICAgJ3BwU2NoZW1lSW5mb05hbWUnOiB0aGlzLnBkUHBJbmZvLnBwUGxhbk5hbWUsCiAgICAgICAgICAgICdwcFNjaGVtZUluZm9Db2RlJzogdGhpcy5wZFBwSW5mby5wcFBsYW5Db2RlLAogICAgICAgICAgICAicGRJbmZvQW5kUHJvZyI6IHRoaXMuJHJlZnMudHJlZVByb2cuZ2V0Q2hlY2tlZE5vZGVzKCkKICAgICAgICAgIH0KICAgICAgICAgIHNhdmVDaGVja2VkTm9kZXModGhpcy5idWlsZFJlcXVlc3REYXRhKG1hcCkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5zdWNjZXNzKTsKICAgICAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVDbGVhcigpIHsKICAgICAgIHRoaXMuY2hvb3NlUm93SWQ9W107CgogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy50cmVlUHJvZy5zZXRDaGVja2VkS2V5cyhbXSk7CiAgICAgICAgdGhpcy4kcmVmcy5wZFBwU2NoZW1lcmVsYS5jbGVhclNlbGVjdGlvbigpOwogICAgICB9KTsKCiAgICB9LAoKICAgIC8vIOiOt+WPluebuOWQjOe8luWPt+eahOaVsOe7hAogICAgZ2V0T3JkZXJOdW1iZXIoKSB7CiAgICAgIGxldCB0YWJsZURhdGEgPSB0aGlzLnBkUHBTY2hlbWVyZWxhCiAgICAgIGxldCBvcmRlckluZGV4QXJyID0gW10KICAgICAgLy8g5oyJ54WnIHBheW1lbnRJZCDmjpLluo/vvIzlsIYgcGF5bWVudElkIOebuOWQjOeahOaVsOaNrui/nuWcqOS4gOi1twogICAgICB0YWJsZURhdGEgPSB0aGlzLl8ub3JkZXJCeSh0YWJsZURhdGEsICdwZENvZGUnLCAnYXNjJykKICAgICAgdGhpcy5wZFBwU2NoZW1lcmVsYSA9IHRhYmxlRGF0YQogICAgICBsZXQgb3JkZXJPYmogPSB7fQogICAgICB0YWJsZURhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHsKICAgICAgICBlbGVtZW50LnJvd0luZGV4ID0gaW5kZXgKICAgICAgICBpZiAob3JkZXJPYmpbZWxlbWVudC5wZENvZGVdKSB7CiAgICAgICAgICBvcmRlck9ialtlbGVtZW50LnBkQ29kZV0ucHVzaChpbmRleCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3JkZXJPYmpbZWxlbWVudC5wZENvZGVdID0gW10KICAgICAgICAgIG9yZGVyT2JqW2VsZW1lbnQucGRDb2RlXS5wdXNoKGluZGV4KQogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8g6ZyA6KaB5ZCI5bm255qE6KGM55qEaW5kZXjlt7Lnu4/lrZjlnKjkuoblkIzkuIDkuKrmlbDnu4Tph4zvvIzmiorov5nkupvmlbDnu4TlrZjlgqjliLAgdGhpcy5vcmRlckluZGV4QXJyCiAgICAgIGZvciAobGV0IGsgaW4gb3JkZXJPYmopIHsKICAgICAgICBvcmRlckluZGV4QXJyLnB1c2gob3JkZXJPYmpba10pCiAgICAgIH0KICAgICAgdGhpcy5zcGFuQXJyID0gb3JkZXJJbmRleEFycgogICAgfSwKICAgIG9iamVjdFNwYW5NZXRob2QyKHtyb3csIGNvbHVtbiwgcm93SW5kZXgsIGNvbHVtbkluZGV4fSkgewogICAgICBpZiAoY29sdW1uSW5kZXggPT09IDAgfHwgY29sdW1uSW5kZXggPT09IDIgfHwgY29sdW1uSW5kZXggPT09IDQgfHwgY29sdW1uSW5kZXggPT09IDMpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3BhbkFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLnNwYW5BcnJbaV0KICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgICAgICAgICBsZXQgaXRlbSA9IGVsZW1lbnRbal0KICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSBpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKGogPT09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IGVsZW1lbnQubGVuZ3RoLAogICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IDAsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVDaGVja2VkTm9kZXMoKSB7CiAgICAgIGxldCBtYXAgPSB7CiAgICAgICAgJ3BwSW5mbyc6IHRoaXMucGRQcEluZm8sCiAgICAgICAgInBkSW5mb0FuZFByb2ciOiB0aGlzLmNob29zZVJvd0lkCiAgICAgIH0KICAgICAgZGVsZXRlQ2hlY2tlZE5vZGVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShtYXApKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgfSkKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-framework-def/pp-program-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :label=\"$t('pdPpScheme.titlt')\"/>\r\n    <el-form :disabled=\"showPageFlag=='1'\" label-width=\"auto\" :model=\"pdPpInfo\" :rules=\"rules\" ref=\"pdPpInfo\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item style=\"white-space: nowrap;\" :label=\"$t('pdPpScheme.pdppInfo')\" prop=\"ppCode\">\r\n            <el-tag type=\"info\">{{pdPpInfo.ppCode+\":\"+pdPpInfo.ppName}}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item style=\"white-space: nowrap;\" :label=\"$t('pdPpScheme.ppSchemeCode')\" prop=\"ppPlanCode\">\r\n            <el-tag type=\"info\" v-show=\"!ButtonFlag\">{{pdPpInfo.ppPlanCode}}</el-tag>\r\n            <el-input clearable  v-model=\"pdPpInfo.ppPlanCode\" v-show=\"ButtonFlag\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item style=\"white-space: nowrap;\" :label=\"$t('pdPpScheme.ppSchemeName')\" prop=\"ppPlanName\">\r\n            <el-input clearable  v-model=\"pdPpInfo.ppPlanName\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    <cus-table-title :label=\"$t('pdPpScheme.tableTitle')\"/>\r\n    <el-table :data=\"pdPpSchemerela\" size=\"mini\" fit element-loading-text=\"Loading\" border\r\n              align=\"center\" ref=\"pdPpSchemerela\" :span-method=\"objectSpanMethod2\"\r\n               @selection-change=\"selectedProgSchemeChanged\"\r\n              class=\"wraper-table\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\" type=\"selection\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\" type=\"index\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" prop=\"pdName\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPpScheme.opCode')\" prop=\"pdProgCode\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPpScheme.opName')\" prop=\"pdProgName\" align=\"center\"></el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <cus-form-title :label=\"$t('pdPpScheme.formTitle')\"></cus-form-title>\r\n    <div style=\"width: 80%; margin-left: 40px\">\r\n      <el-tree\r\n        highlight-current\r\n        :data=\"ListPdInfos\"\r\n        show-checkbox\r\n        ref=\"treeProg\"\r\n        default-expand-all\r\n        :render-content=\"renderContent\"\r\n        :default-checked-keys=\"ListdefaultexpandedKeys\"\r\n        node-key=\"id\" @node-click=\"nodeClick\"\r\n        :props=\"defaultProps\">\r\n      </el-tree>\r\n    </div>\r\n    <el-form :disabled=\"showPageFlag=='1'\" style=\"margin: 20px 0 0 0\">\r\n      <el-row >\r\n        <el-col :offset=\"18\" :span=\"24\">\r\n          <el-button  size=\"small\" @click=\"getCheckedNodes\" type=\"primary\" icon=\"el-icon-success\" v-show=\"ButtonFlag\" dialog-disable=\"disable\">\r\n            {{ $t('pdPpScheme.button.save') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" @click=\"getCheckedNodes\" type=\"primary\" icon=\"el-icon-success\" v-show=\"!ButtonFlag\" dialog-disable=\"disable\">\r\n            {{ $t('pdPpScheme.button.savechange') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" @click=\"deleteCheckedNodes\" type=\"danger\" icon=\"el-icon-delete\" v-show=\"!ButtonFlag\" dialog-disable=\"disable\">\r\n            {{ $t('table.delete') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" @click=\"handleClear\" type=\"primary\" icon=\"el-icon-refresh\" dialog-disable=\"disable\">\r\n            {{ $t('pdPpScheme.button.refresh') }}\r\n          </el-button>\r\n\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n<!--    <el-dialog :visible.sync=\"ProgInfoShow\" v-dialog-drag-->\r\n<!--               v-if=\"ProgInfoShow\" width=\"70%\">-->\r\n<!--      <progBnft :product=\"selectedProg\"></progBnft>-->\r\n<!--    </el-dialog>-->\r\n      <el-dialog  :visible.sync=\"ProgInfoShow\" v-dialog-drag\r\n                  v-if=\"ProgInfoShow\" width=\"70%\">\r\n        <ProgrammeDefinition :reaadOnlyPpProg=\"false\"></ProgrammeDefinition>\r\n      </el-dialog>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n  import progBnft from \"@/views/product-package-definition/pp-framework-def/pp-info-def/pdpppdprogsInfo/index\"\r\n  import ProgrammeDefinition from \"@/views/product-definition/pd-framework-def/pd-structure-def/program-def\"\r\n  import {\r\n    searchPpProgsAll,\r\n    saveCheckedNodes,\r\n    findAllProgRelaByProductId,\r\n    findAttributrEntity,\r\n    deleteCheckedNodes,\r\n    lookProgInfo,\r\n    findAllProgrammeVoByProductIdPp\r\n  } from '@/api/basicinfo/pdppscheme'\r\n  export default {\r\n    name: 'pdPpScheme',\r\n    data() {\r\n      return {\r\n        selectedProg: '',\r\n        ProgInfoShow: false,\r\n        showPageFlag:'',\r\n        spanArr: [],\r\n        pos: 0,\r\n        ButtonFlag: true,\r\n        dataFlag: true,\r\n        defaultProps: {\r\n          children: 'children',\r\n          label: 'label'\r\n        },\r\n        chooseRowId: [],\r\n        pdPpInfo: {\r\n          id: '',\r\n          ppCode: '',\r\n          ppName: '',\r\n          ppType: '',//类型\r\n          ppPlanName: '',\r\n          ppPlanCode: '',\r\n          ppPersonNum: '',\r\n        },\r\n        pdPpInfo2: {\r\n          id: '',\r\n          ppCode: '',\r\n          ppName: '',\r\n          ppType: '',//类型\r\n          ppPlanName: '',\r\n          ppPlanCode: '',\r\n          ppPersonNum: '',\r\n        },\r\n        pdPpSchemerela: [],\r\n        ListPdInfos: [],\r\n        ListPdInfosResult: [],\r\n        ListdefaultexpandedKeys: [],\r\n        params: {},\r\n        form: {  //表单数据与后端实体类对应\r\n        },\r\n        //检验规则\r\n        rules: {\r\n          ppPlanCode: [{required: true, message: this.$t('pdPpScheme.waring.ppschemeCodeIdea'), trigger: 'blur'}],\r\n          ppPlanName: [{required: true, message: this.$t('pdPpScheme.waring.ppschemeNameIdea'), trigger: 'blur'}]\r\n        },\r\n\r\n      }\r\n    },\r\n    computed: {},\r\n    components: {progBnft,ProgrammeDefinition},\r\n    created() {\r\n      this.showPageFlag = this.$route.query.showPageFlag\r\n      this.init();\r\n    },\r\n    methods: {\r\n      renderContent(h,{node,data,store}){\r\n        if (node.childNodes.length==0){\r\n          return (<span><i class={data.className}></i><span>{node.label}</span><i style=\"color:#1890ff\"> >></i></span>);\r\n        }else {\r\n          return (<span><i class={data.className}></i><span>{node.label}</span></span>);\r\n        }\r\n      },\r\n      nodeClick(val){\r\n        let _flag=true;\r\n        for (const item in this.ListPdInfosResult){\r\n          if (val.code==this.ListPdInfosResult[item].pdCode){\r\n            _flag=false;\r\n            break;\r\n          }\r\n        }\r\n        if (_flag) {\r\n          let map = {\r\n            \"progCode\": val.code,\r\n            \"progName\": val.label\r\n          }\r\n\r\n\r\n          lookProgInfo(this.buildRequestData(map)).then(res => {\r\n            this.cacheJsonData(\"form_programme\", res.data.pdProgS)\r\n            this.cacheCurrPagePdData(res.data.pdInfoS)\r\n            this.cacheJsonData(\"tableData_programme\", res.data.progOneInfoS)\r\n            this.cacheJsonData(\"ReadPpProgInfo\",true);\r\n            let maps = {\r\n              \"productId\": res.data.pdInfoS.id,\r\n              \"like_pdProgName\":val.label,\r\n              \"eq_pdProgCode\":val.code\r\n            }\r\n            findAllProgrammeVoByProductIdPp(this.buildRequestData(maps)).then(res =>{\r\n              this.cacheJsonData(\"premiumList\", res.data.prem);\r\n              this.cacheJsonData(\"survivalList\", res.data.survivalList);\r\n              this.cacheJsonData(\"claimList\",res.data.claimList);\r\n            });\r\n            this.$nextTick(() => {\r\n              this.ProgInfoShow = true;\r\n            })\r\n          })\r\n        } else {\r\n          return;\r\n        }\r\n      },\r\n      init() {\r\n        this.ProgInfoShow = false;\r\n        this.getPpInfo();\r\n        this.getPpInfoRelaProg();\r\n        this.handleClear();\r\n        this.createdpdinfos();\r\n      },\r\n      getPpInfo() {\r\n        //套餐信息\r\n        this.pdPpInfo = this.getPdData()\r\n        findAttributrEntity(this.buildRequestData({'ppInfoAttr': this.pdPpInfo})).then(res => {\r\n          this.pdPpInfo = res.data.pdPpInfoA;\r\n          if (this.pdPpInfo.ppPlanCode) {\r\n            this.ButtonFlag = false;\r\n          } else {\r\n            this.ButtonFlag = true;\r\n          }\r\n        })\r\n      },\r\n      getPpInfoRelaProg() {\r\n        //套餐方案关联关系\r\n        findAllProgRelaByProductId(this.buildRequestData({'pdppInfoR': this.pdPpInfo})).then(res => {\r\n            this.pdPpSchemerela = res.data.ppschemes;\r\n            // this.getSpanArr(this.pdPpSchemerela);\r\n            this.getOrderNumber();\r\n          }\r\n        )\r\n      },\r\n      createdpdinfos() {\r\n        //套餐组合内容树\r\n        searchPpProgsAll(this.buildRequestData({'pdppInfoR': this.pdPpInfo})).then(res => {\r\n          this.ListPdInfosResult = res.data.ppProgsR;\r\n          this.append();\r\n        })\r\n      },\r\n      append() {\r\n        this.ListPdInfos = [];\r\n        let arrayInfo = this.ListPdInfosResult;\r\n        let arrayInfoNum = 0;\r\n        let arrayInfoNum2 = 0;\r\n        for (arrayInfoNum = 0; arrayInfoNum < arrayInfo.length; arrayInfoNum++) {\r\n          let arrayItemprog = {\r\n            id: '',\r\n            code: '',\r\n            label: '',\r\n            children: [{\r\n              id: '',\r\n              code: '',\r\n              label: ''\r\n            }]\r\n          };\r\n          arrayItemprog.id = '';\r\n          arrayItemprog.code = '';\r\n          arrayItemprog.label = '';\r\n          if (arrayItemprog.children) {\r\n            arrayItemprog.children.splice(0, arrayItemprog.children.length);\r\n          }\r\n          for (arrayInfoNum2 = 0; arrayInfoNum2 < arrayInfo[arrayInfoNum].parameters.length; arrayInfoNum2++) {\r\n            arrayItemprog.id = arrayInfo[arrayInfoNum].pdVerId;\r\n            arrayItemprog.code = arrayInfo[arrayInfoNum].pdCode;\r\n            arrayItemprog.label = arrayInfo[arrayInfoNum].pdName;\r\n            let num1 = arrayInfo[arrayInfoNum].pdCode;\r\n            let num2 = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdCode;\r\n            if (num1 === num2) {\r\n              const newChild = {\r\n                id: '',\r\n                code: '',\r\n                label: ''\r\n              };\r\n              newChild.id = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].id;\r\n              newChild.label = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdProgName;\r\n              newChild.code = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdProgCode;\r\n              if (!arrayItemprog.children) {\r\n                this.$set(arrayItemprog, 'children', []);\r\n              }\r\n              arrayItemprog.children.push(newChild);\r\n            }\r\n          }\r\n          if (arrayItemprog) {\r\n            this.ListPdInfos.push(arrayItemprog);\r\n          }\r\n        }\r\n      },\r\n      selectedProgSchemeChanged(val) {\r\n        this.dataFlag = false;\r\n        this.chooseRowId = val;\r\n        if (this.chooseRowId.length == 0) {\r\n          this.$refs.treeProg.setCheckedNodes([]);\r\n          this.dataFlag = true;\r\n        } else {\r\n          this.setProgsShow();\r\n          this.$refs.treeProg.setCheckedNodes(this.ListdefaultexpandedKeys);\r\n        }\r\n\r\n      },\r\n      setProgsShow() {\r\n        this.ListdefaultexpandedKeys = [];\r\n        let arrayInfo = this.ListPdInfosResult;\r\n        let arrayInfoNum = 0;\r\n        let arrayInfoNum2 = 0;\r\n        let _arrChooseNum = 0;\r\n        let _arrppSchemeNum = 0;\r\n        let _arrChoose = this.chooseRowId;\r\n        let _arrppScheme = this.pdPpSchemerela;\r\n        let _numArr =[];\r\n        for (_arrppSchemeNum=0;_arrppSchemeNum<_arrppScheme.length;_arrppSchemeNum++){\r\n          for (_arrChooseNum = 0; _arrChooseNum < _arrChoose.length; _arrChooseNum++){\r\n            let num1 = _arrppScheme[_arrppSchemeNum].pdCode;\r\n            let num4 = _arrChoose[_arrChooseNum].pdCode;\r\n            if (num1===num4){\r\n              _numArr.push(_arrppScheme[_arrppSchemeNum]);\r\n            }\r\n\r\n          }\r\n        }\r\n        _arrChoose = _numArr;\r\n        for (_arrChooseNum = 0; _arrChooseNum < _arrChoose.length; _arrChooseNum++) {\r\n          for (arrayInfoNum = 0; arrayInfoNum < arrayInfo.length; arrayInfoNum++) {\r\n            if (arrayInfo[arrayInfoNum].pdCode === _arrChoose[_arrChooseNum].pdCode) {\r\n              let arrayItemprog = {\r\n                id: '',\r\n                code: '',\r\n                label: ''\r\n              };\r\n              arrayItemprog.id = '';\r\n              arrayItemprog.code = '';\r\n              arrayItemprog.label = '';\r\n              for (arrayInfoNum2 = 0; arrayInfoNum2 < arrayInfo[arrayInfoNum].parameters.length; arrayInfoNum2++) {\r\n                let num1 = arrayInfo[arrayInfoNum].pdCode;\r\n                let num2 = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdCode;\r\n                let num3 = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdProgCode;\r\n                let num4 = _arrChoose[_arrChooseNum].pdProgCode;\r\n                if (num1 === num2 && num3 === num4) {\r\n                  arrayItemprog.id = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].id;\r\n                  arrayItemprog.code = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdProgCode;\r\n                  arrayItemprog.label = arrayInfo[arrayInfoNum].parameters[arrayInfoNum2].pdProgName;\r\n                }\r\n              }\r\n              if (arrayItemprog) {\r\n                this.ListdefaultexpandedKeys.push(arrayItemprog);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n      },\r\n      getCheckedNodes() {\r\n        this.$refs.pdPpInfo.validate(valid => {\r\n          if (valid) {\r\n            let map = {\r\n              'ppInfo': this.pdPpInfo,\r\n              'ppSchemeInfoName': this.pdPpInfo.ppPlanName,\r\n              'ppSchemeInfoCode': this.pdPpInfo.ppPlanCode,\r\n              \"pdInfoAndProg\": this.$refs.treeProg.getCheckedNodes()\r\n            }\r\n            saveCheckedNodes(this.buildRequestData(map)).then(res => {\r\n              this.notifySuccess(res.success);\r\n              this.init();\r\n            })\r\n          }\r\n        })\r\n      },\r\n      handleClear() {\r\n         this.chooseRowId=[];\r\n\r\n        this.$nextTick(() => {\r\n          this.$refs.treeProg.setCheckedKeys([]);\r\n          this.$refs.pdPpSchemerela.clearSelection();\r\n        });\r\n\r\n      },\r\n\r\n      // 获取相同编号的数组\r\n      getOrderNumber() {\r\n        let tableData = this.pdPpSchemerela\r\n        let orderIndexArr = []\r\n        // 按照 paymentId 排序，将 paymentId 相同的数据连在一起\r\n        tableData = this._.orderBy(tableData, 'pdCode', 'asc')\r\n        this.pdPpSchemerela = tableData\r\n        let orderObj = {}\r\n        tableData.forEach((element, index) => {\r\n          element.rowIndex = index\r\n          if (orderObj[element.pdCode]) {\r\n            orderObj[element.pdCode].push(index)\r\n          } else {\r\n            orderObj[element.pdCode] = []\r\n            orderObj[element.pdCode].push(index)\r\n          }\r\n        })\r\n        // 需要合并的行的index已经存在了同一个数组里，把这些数组存储到 this.orderIndexArr\r\n        for (let k in orderObj) {\r\n          orderIndexArr.push(orderObj[k])\r\n        }\r\n        this.spanArr = orderIndexArr\r\n      },\r\n      objectSpanMethod2({row, column, rowIndex, columnIndex}) {\r\n        if (columnIndex === 0 || columnIndex === 2 || columnIndex === 4 || columnIndex === 3) {\r\n          for (let i = 0; i < this.spanArr.length; i++) {\r\n            let element = this.spanArr[i]\r\n            for (let j = 0; j < element.length; j++) {\r\n              let item = element[j]\r\n              if (rowIndex === item) {\r\n                if (j === 0) {\r\n                  return {\r\n                    rowspan: element.length,\r\n                    colspan: 1\r\n                  }\r\n                } else {\r\n                  return {\r\n                    rowspan: 0,\r\n                    colspan: 0\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      deleteCheckedNodes() {\r\n        let map = {\r\n          'ppInfo': this.pdPpInfo,\r\n          \"pdInfoAndProg\": this.chooseRowId\r\n        }\r\n        deleteCheckedNodes(this.buildRequestData(map)).then(res => {\r\n          this.notifySuccess(res.message);\r\n          this.init();\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\income-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\income-def\\index.vue","mtime":1609847106882},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBhZGRQZHRlbXBQZEludiwNCiAgZGVsZXRlUGR0ZW1wUGRJbnYsDQogIGZpbmRJbnZCeXBkSW52VHlwZSwNCiAgZ2V0UHJvZml0LA0KICB1cGRhdGVQZHRlbXBQZEludg0KfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRpbnYnDQppbXBvcnQge3BkdGVtcFBkQXRyc0luZm9MaXN0LCBwZHRlbXBQZENsc0xhYkxpc3R9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9Qcm9kdWN0QXR0cmlidXRlRGVmaW5pdGlvbiINCmltcG9ydCBpbnZSdWxlcyBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9pbnYtcnVsZS9pbnZSdWxlcyINCmltcG9ydCBpbnZSdWxlc1NlbGVjdCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9pbnYtcnVsZS9pbnZSdWxlc1NlbGVjdCINCmltcG9ydCBpbnZBbW91bnRGb3JtdWxhIGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL2ludi1mb3JtdWxhL2ludkFtb3VudEZvcm11bGEiDQppbXBvcnQgaW52QW1vdW50Rm9ybXVsYVNlbGVjdCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9pbnYtZm9ybXVsYS9pbnZBbW91bnRGb3JtdWxhU2VsZWN0Ig0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3BkdGVtcFBkSW52JywNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZHNibmZ0ZHkoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZHNibmZ0ZHknLCBjb2RlLCB0cnVlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkSW52U3RhcnREYXRlUnVsZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Bkc2JuZnRzdGFydHJ1bGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkSW52U3RhcnREYXRlTW9kZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Bkc2JuZnRzdGFydHR5cGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkSW52RW5kRGF0ZVJ1bGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZHNibmZ0ZW5kcnVsZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRJbnZFbmREYXRlTW9kZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Bkc2JuZnRlbmR0eXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZEJvbnVzTW9kZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ0JvbnVzVHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfZ2V0cGRJbnZEdXR5VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Bkc2JuZnRkdXR5dHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfZ2V0VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkaW52dHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfZ2V0V2F5KGNvZGUpIHsNCiAgICAgIGlmIChjb2RlICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGdldFdheSA9IEpTT04ucGFyc2UoY29kZSkNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZHNibmZ0Z2V0dHlwZScsIGdldFdheSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlcl9nZXRGcmVxdWVuY3koY29kZSkgew0KICAgICAgaWYgKGNvZGUgIT0gbnVsbCkgew0KICAgICAgICBsZXQgZ2V0RnJlcXVlbmN5ID0gSlNPTi5wYXJzZShjb2RlKQ0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Bkc2JuZnRnZXR0aW1lcycsIGdldEZyZXF1ZW5jeSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlcl9nZXRQZEJvbnVzRHdNb2RlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnRGl2aWRlbmRDb2xsZWN0aW9uVHlwZScsIGNvZGUpDQogICAgfQ0KICB9LA0KICBwcm9wczogew0KICAgIGludkNvZGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpcw0KICAgIHJldHVybiB7DQogICAgICBwcm9kdWN0T3JpZ2luYWxMaXN0OiBbXSwNCiAgICAgIHByb2R1Y3RMaXN0OiBbXSwNCiAgICAgIC8v5YWs5byPDQogICAgICB0YWJsZUNvdW50OiAwLA0KICAgICAgZGlhbG9nU2hvdzogew0KICAgICAgICBpbnZBbW91bnRGb3JtdWxhOiBmYWxzZSwNCiAgICAgICAgaW52QW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UNCiAgICAgIH0sDQogICAgICAvL+inhOWImQ0KICAgICAgZ2xvYmFsOiBmYWxzZSwNCiAgICAgIGd1YXJhbnRlZURldGFpbHM6ICcnLA0KICAgICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogJycsDQogICAgICBwZFV3U2lUeXBlT3B0aW9uczogJycsDQogICAgICBwZFV3U2lUeXBlRHRPcHRpb25zOiAnJywNCiAgICAgIGRpYWxvZ1J1bGVzU2hvdzogew0KICAgICAgICBpbnZSdWxlczogZmFsc2UsDQogICAgICAgIGludlJ1bGVzU2VsZWN0OiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIC8v6KGo5qC85pWw5o2uDQogICAgICB1blJlbGF0aW9uSW52VGFibGU6IFtdLA0KICAgICAgaW52VGFibGU6IFtdLA0KICAgICAgLy/mjqXlj5fmlLbnm4rooajmoLzmlbDmja4NCiAgICAgIHBkSW52RGF0YTogW10sDQogICAgICBmZWVUeXBlRmlsdGVyczogW10sDQogICAgICBmZWVUeXBlRmlsdGVyczE6IFtdLA0KICAgICAgZmVlVHlwZUZpbHRlcnMyOiBbXSwNCiAgICAgIC8vIOi/h+a7pOmhuQ0KICAgICAgZmluZWxpbmVzUmVnaW9uRmlsdGVySW52VHlwZTogJzEkOTkwMCQxNDAwJywNCiAgICAgIGZpbmVsaW5lc1JlZ2lvbkZpbHRlckJvbnVzOiAnJywNCiAgICAgIGZpbmVsaW5lc2Rlc2lnblR5cGVGaWx0ZXI6ICcnLA0KICAgICAgZmluZWxpbmVzVHlwZVJlZ2lvbkZpbHRlcjogJycsDQogICAgICAvL+WIneWni+WMlg0KICAgICAgaW52T3B0aW9uczogW10sDQogICAgICBzaG93UGFnZUZsYWc6IDAsDQogICAgICBzaG93TW9yZTogZmFsc2UsDQogICAgICBzaG93QmFjazogZmFsc2UsDQogICAgICBxdWlja3Nob3c6IGZhbHNlLA0KICAgICAgcXVpY2tpY29uOiAnZWwtaWNvbi1hcnJvdy1yaWdodCcsDQogICAgICAvL+WIhue6ouaWueW8j+WSjOmihuWPluaWueW8jw0KICAgICAgcGRCb251c01vZGU6ICcnLA0KICAgICAgcGRCb251c0R3TW9kZTogW10sDQogICAgICAvL+afpeivouWPguaVsA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIGVxX3BkSW5mb0lkOiB1bmRlZmluZWQsDQogICAgICAgIGZpbmVsaW5lc1JlZ2lvbjogJycsDQogICAgICAgIHByb2R1Y3Q6JycsDQogICAgICAgIGZpcnN0T3BlblBhZ2VGbGFnOiAnWScNCiAgICAgIH0sDQogICAgICBwcm9maXRQYXJhbXM6IHsNCiAgICAgICAgZXFfcHJvZHVjdDogJycsDQogICAgICAgIHByb2R1Y3Q6ICcnLA0KICAgICAgfSwNCiAgICAgIHNlbGVjdGVkSW52OiB7fSwNCiAgICAgIHNlbGVjdGVkSW52Qm5mdDoge30sDQogICAgICBmb3JtX2ludkFkZDoge30sDQogICAgICBmb3JtOiB7ICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lA0KICAgICAgICB0eXBlUmVnaW9uOiAnJywNCiAgICAgICAgZGVzaWduVHlwZTogJycsDQogICAgICAgIGZvcm1faW52OiB7DQogICAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICAgIHBkSW5mb0lkOiAnJywNCiAgICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICAgIHBkSW52Q29kZTogJycsDQogICAgICAgICAgcGRJbnZOYW1lOiAnJywNCiAgICAgICAgICBwZEludlR5cGU6ICcnLA0KICAgICAgICAgIHBkSW52UmVjbEZsYWc6ICdZJywNCiAgICAgICAgICBwZEludlN0YXJ0RGF0ZVJ1bGU6ICcxJywNCiAgICAgICAgICBwZEludlN0YXJ0RGF0ZU1vZGU6ICcwJywNCiAgICAgICAgICBwZEludlN0YXJ0UGVyaW9kOiAnJywNCiAgICAgICAgICBwZEludlN0YXJ0UGVyaW9kVW5pdDogJ1knLA0KICAgICAgICAgIHBkSW52RW5kRGF0ZVJ1bGU6ICcxJywNCiAgICAgICAgICBwZEludkVuZERhdGVNb2RlOiAnMCcsDQogICAgICAgICAgcGRJbnZFbmRQZXJpb2Q6ICcnLA0KICAgICAgICAgIHBkSW52RW5kUGVyaW9kVW5pdDogJ1knLA0KICAgICAgICAgIHBkSW52R3VhclBlcmlvZDogJycsDQogICAgICAgICAgcGRJbnZHdWFyUGVyaW9kVW5pdDogJ1knLA0KICAgICAgICAgIHBkSW52Q2FsY0NvZGU6ICcnLA0KICAgICAgICAgIHBkSW52RHdDZFJ1bGVDb2RlOiAnJywNCiAgICAgICAgICBwZEludlJ1bGVDb2RlOiAnJw0KICAgICAgICB9LA0KICAgICAgICBmb3JtX2F0cnNpbmZvX2Y6IHsNCiAgICAgICAgICAvKuS6p+WTgeWumuS5iS3kuqflk4HlsZ7mgKfkv6Hmga/ooaggIHBkdGVtcF9wZF9hdHJzX2luZm8qLw0KICAgICAgICAgIHBkYXRyc2NvZGU6ICdwZHNibmZ0Z2V0dHlwZScsIHBkYXRyc25hbWU6ICfpooblj5bmlrnlvI8nLCBwZGF0cnN2YWw6IFsnMSddLCBwZHZlcmlkOiAnJywgcGRpbmZvaWQ6ICcnLCBwZGNvZGU6ICcnLA0KICAgICAgICAgIHBkdHlwZTogJzEnLCAvKiAxLeS6p+WTgSAyLeS6p+WTgeiuoeWIkiAqLw0KICAgICAgICAgIHBkYXNjbGV2ZWw6ICdJbnZlJywgcGRhc2NsZXZlbGNvZGU6ICcnLCBwZGF0cnN0eXBlOiAnMScsDQogICAgICAgIH0sDQogICAgICAgIGZvcm1fYXRyc2luZm9fcDogew0KICAgICAgICAgIHBkYXRyc2NvZGU6ICdwZHNibmZ0Z2V0dGltZXMnLCBwZGF0cnNuYW1lOiAn6aKG5Y+W6aKR546HJywgcGRhdHJzdmFsOiBbXSwgcGR2ZXJpZDogJycsIHBkaW5mb2lkOiAnJywgcGRjb2RlOiAnJywNCiAgICAgICAgICBwZHR5cGU6ICcxJywgcGRhc2NsZXZlbDogJ0ludmUnLCBwZGFzY2xldmVsY29kZTogJycsIHBkYXRyc3R5cGU6ICcxJywNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIHBhZ2VGbGFnOiB7DQogICAgICAgIGFtb3VudEZsYWc6IGZhbHNlLA0KICAgICAgICBkZWxCdXR0b25TaG93OiBmYWxzZSwNCiAgICAgICAgYm9udXNNb2RlOiB0cnVlDQogICAgICB9LA0KICAgICAgLy/mo4Dpqozop4TliJkNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgICdmb3JtX2ludi5wZEludk5hbWUnOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkdGVtcFBkSW52Lm1lc3NhZ2UucGxlYXNlX2lucHV0JykgKyB0aGlzLiR0KCdwZHRlbXBQZEludi5wZF9pbnZfbmFtZScpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICAnZm9ybV9pbnYucGRJbnZDYWxjQ29kZSc6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGR0ZW1wUGRJbnYubWVzc2FnZS5wbGVhc2VfaW5wdXQnKSArIHRoaXMuJHQoJ3BkdGVtcFBkSW52LnBkSW52Q2FsY0NvZGUnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgICAgJ2Zvcm1faW52LnBkSW52VHlwZSc6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGR0ZW1wUGRJbnYubWVzc2FnZS5wbGVhc2VfY2hlY2snKSArIHRoaXMuJHQoJ3BkdGVtcFBkSW52LnBkX2ludl90eXBlJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgICdmb3JtX2ludi5wZEludlN0YXJ0RGF0ZVJ1bGUnOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkdGVtcFBkSW52Lm1lc3NhZ2UucGxlYXNlX2NoZWNrJykgKyB0aGlzLiR0KCdwZHRlbXBQZEludi5wZF9pbnZfc3RhcnRfZGF0ZV9ydWxlJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgICdmb3JtX2ludi5wZEludlN0YXJ0RGF0ZU1vZGUnOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkdGVtcFBkSW52Lm1lc3NhZ2UucGxlYXNlX2NoZWNrJykgKyB0aGlzLiR0KCdwZHRlbXBQZEludi5wZF9pbnZfc3RhcnRfZGF0ZV9tb2RlJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgICdmb3JtX2ludi5wZEludkVuZERhdGVSdWxlJzogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZHRlbXBQZEludi5tZXNzYWdlLnBsZWFzZV9jaGVjaycpICsgdGhpcy4kdCgncGR0ZW1wUGRJbnYucGRfaW52X2VuZF9kYXRlX3J1bGUnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgICAgJ2Zvcm1faW52LnBkSW52RW5kRGF0ZU1vZGUnOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkdGVtcFBkSW52Lm1lc3NhZ2UucGxlYXNlX2NoZWNrJykgKyB0aGlzLiR0KCdwZHRlbXBQZEludi5wZF9pbnZfZW5kX2RhdGVfbW9kZScpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICAnZm9ybV9hdHJzaW5mb19mLnBkYXRyc3ZhbCc6IFt7DQogICAgICAgICAgdHlwZTogJ2FycmF5JywNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZHRlbXBQZEludi5tZXNzYWdlLnBsZWFzZV9jaGVjaycpICsgdGhpcy4kdCgncGR0ZW1wUGRJbnYuZ2V0X3dheScpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICAvLyAnZm9ybV9hdHJzaW5mb19wLnBkYXRyc3ZhbCc6IFt7DQogICAgICAgIC8vICAgdHlwZTogJ2FycmF5JywNCiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgLy8gICBtZXNzYWdlOiB0aGlzLiR0KCdwZHRlbXBQZEludi5tZXNzYWdlLnBsZWFzZV9jaGVjaycpICsgdGhpcy4kdCgncGR0ZW1wUGRJbnYuZ2V0X2ZyZXF1ZW5jeScpLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIC8vIH1dLA0KICAgICAgfSwNCiAgICAgIHByb2R1Y3RydWxlczogew0KICAgICAgICBwcm9kdWN0OiB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlj4LogIPkuqflk4EnLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICBmaW5lbGluZXNSZWdpb246e3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Lqn5ZOB57uG57G7JywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHt9LA0KICBjb21wb25lbnRzOiB7DQogICAgaW52UnVsZXMsDQogICAgaW52UnVsZXNTZWxlY3QsDQogICAgaW52QW1vdW50Rm9ybXVsYSwNCiAgICBpbnZBbW91bnRGb3JtdWxhU2VsZWN0LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnDQogICAgdGhpcy5pbml0UHJvZHVjdFF1ZXJ5RGF0YSgpOw0KICAgIHRoaXMubGlua1RhYmxlKCkNCiAgICB0aGlzLmZpbmRUeXBlUmVnaW9uKCkNCiAgICB0aGlzLmdldFByb2ZpdCgpDQogICAgdGhpcy5maW5kRGVzaWduVHlwZSgpDQogICAgdGhpcy5maW5kUGRCb251c01vZGUoKQ0KICAgIHRoaXMuZmluZFBkQm9udXNEd01vZGUoKQ0KDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLmNsZWFyVmFsaWRhdGUoKQ0KICAgIH0pDQogIH0sDQogIG1vdW50ZWQoKSB7DQogIH0sDQogIHdhdGNoOiB7DQogICAgJ2Zvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZCcoKSB7DQogICAgICBpZiAodGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnRQZXJpb2QpIHsNCiAgICAgICAgaWYgKCF0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZFVuaXQpIHsNCiAgICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZFVuaXQgPSAnWScNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgJ2Zvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2QnKCkgew0KICAgICAgaWYgKHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZFBlcmlvZCkgew0KICAgICAgICBpZiAoIXRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZFBlcmlvZFVuaXQpIHsNCiAgICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2RVbml0ID0gJ1knDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgICdmb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZCcoKSB7DQogICAgICBpZiAodGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZCkgew0KICAgICAgICBpZiAoIXRoaXMuZm9ybS5mb3JtX2ludi5wZEludkd1YXJQZXJpb2RVbml0KSB7DQogICAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZFVuaXQgPSAnWScNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgJ3VuUmVsYXRpb25JbnZUYWJsZScoKSB7DQogICAgICBpZiAodGhpcy51blJlbGF0aW9uSW52VGFibGUubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmZlZVR5cGVGaWx0ZXJzMSA9IFtdOw0KICAgICAgICB0aGlzLnVuUmVsYXRpb25JbnZUYWJsZS5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgdGhpcy5mZWVUeXBlRmlsdGVyczEucHVzaCh7DQogICAgICAgICAgICB0ZXh0OiB0aGlzLmdldENvZGVOYW1lKCdwZGludnR5cGUnLCB2YWwucGRJbnZUeXBlKSwNCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRJbnZUeXBlDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLmZlZVR5cGVGaWx0ZXJzMSA9IHRoaXMuZmVlVHlwZUZpbHRlcnMxLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZWxlbWVudCkgew0KICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgew0KICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOw0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gcHJldjsNCiAgICAgICAgfSwgW10pOw0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy51blJlbGF0aW9uSW52VGFibGUubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmZlZVR5cGVGaWx0ZXJzMiA9IFtdOw0KICAgICAgICB0aGlzLnVuUmVsYXRpb25JbnZUYWJsZS5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgdGhpcy5mZWVUeXBlRmlsdGVyczIucHVzaCh7DQogICAgICAgICAgICB0ZXh0OiB2YWwucGRJbnZDb2RlLA0KICAgICAgICAgICAgdmFsdWU6IHZhbC5wZEludkNvZGUNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuZmVlVHlwZUZpbHRlcnMyID0gdGhpcy5mZWVUeXBlRmlsdGVyczIucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7DQogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQpKSB7DQogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBwcmV2Ow0KICAgICAgICB9LCBbXSk7DQogICAgICB9DQogICAgfSwNCiAgICAnaW52VGFibGUnKCkgew0KICAgICAgICBpZiAodGhpcy5pbnZUYWJsZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5mZWVUeXBlRmlsdGVycyA9IFtdOw0KICAgICAgICAgIHRoaXMuaW52VGFibGUuZm9yRWFjaCh2YWwgPT4gew0KICAgICAgICAgICAgdGhpcy5mZWVUeXBlRmlsdGVycy5wdXNoKHsNCiAgICAgICAgICAgICAgdGV4dDogdGhpcy5nZXRDb2RlTmFtZSgncGRpbnZ0eXBlJywgdmFsLnBkSW52VHlwZSksDQogICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRJbnZUeXBlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmZlZVR5cGVGaWx0ZXJzID0gdGhpcy5mZWVUeXBlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsNCiAgICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgew0KICAgICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gcHJldjsNCiAgICAgICAgICB9LCBbXSk7DQogICAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGFuZ2VBbW91bnRGbGFnKHZhbCl7DQogICAgICBsZXQgcGRJbnZUeXBlID0gdmFsOw0KICAgICAgaWYgKHRoaXMuZm9ybS5kZXNpZ25UeXBlID09ICcxJyAmJiBwZEludlR5cGUgPT0gJzEnIHx8IHBkSW52VHlwZSA9PSAnMicgfHwgcGRJbnZUeXBlID09ICczJykgew0KICAgICAgICB0aGlzLnBhZ2VGbGFnLmFtb3VudEZsYWcgPSB0cnVlDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzWyJmb3JtIl0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnBhZ2VGbGFnLmFtb3VudEZsYWcgPSBmYWxzZQ0KICAgICAgfQ0KDQogICAgICB0aGlzLmNoYW5nZUJvbnVzRmlsdGVyKCk7DQogICAgfSwNCiAgICBmaWx0ZXJIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgew0KICAgICAgaWYgKGNvbHVtbikgew0KICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsNCiAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lhazlvI8NCiAgICBnb0NsaWNrcyhudW0xLCBudW0yKSB7DQogICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBTdHJpbmcobnVtMSkgLy/kuJrliqHlpKfnsbsNCiAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IFN0cmluZyhudW0yKSAvL+S4muWKoee7huexuw0KICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuZm9ybS5mb3JtX2ludi5pZCA/IHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNvZGUgOiB0aGlzLmZvcm1faW52QWRkLnBkSW52Q29kZQ0KICAgICAgdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zID0gdGhpcy5mb3JtLmZvcm1faW52LmlkID8gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZSA6IHRoaXMuZm9ybV9pbnZBZGQucGRJbnZUeXBlDQogICAgICB0aGlzLmRpYWxvZ1Nob3cuaW52QW1vdW50Rm9ybXVsYSA9IHRydWUNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfaW52Rm9ybXVsYShmbGFnKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52Q29kZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnQgPSB7fQ0KICAgICAgICBsZXQgcGRJbnZDb2RlID0gU3RyaW5nKHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNvZGUpDQogICAgICAgIGxldCBzaG93QmFjayA9IEJvb2xlYW4odGhpcy5zaG93QmFjaykNCiAgICAgICAgaWYgKHBkSW52Q29kZSkgew0KICAgICAgICAgIHRoaXMuZ2V0UHJvZml0KCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5wZEludkRhdGEubGVuZ3RoID4gMTAgJiYgc2hvd0JhY2sgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW52VGFibGUsIGksIHRoaXMucGRJbnZEYXRhW2ldKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IgKGNvbnN0IGludiBvZiB0aGlzLmludlRhYmxlKSB7DQogICAgICAgICAgICAgIGlmIChpbnYucGRJbnZDb2RlID09PSBwZEludkNvZGUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52Qm5mdCA9IGludg0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZCbmZ0Q2hhbmdlZCgpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5pbnZBbW91bnRGb3JtdWxhID0gZmxhZw0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9pbnZGb3JtdWxhU2VsZWN0KGZsYWcsIGd1YXJhbnRlZURldGFpbHMsIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIHR5cGUsIGludikgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IGludg0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSB0eXBlDQogICAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGd1YXJhbnRlZURldGFpbHMNCiAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gY2FsY3VsYXRpb25Gb3JtdWxhVHlwZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kaWFsb2dTaG93LmludkFtb3VudEZvcm11bGEgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5kaWFsb2dTaG93LmludkFtb3VudEZvcm11bGEgPSB0cnVlDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Nob3cuaW52QW1vdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWcNCiAgICB9LA0KICAgIC8v6KeE5YiZDQogICAgZ29SdWxlcyhudW0xLCBudW0yKSB7DQogICAgICB0aGlzLmdsb2JhbCA9ICFudW0yDQogICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBudW0xLy/kuJrliqHlpKfnsbsNCiAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IG51bTIvL+S4muWKoee7huexuw0KICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuZm9ybS5mb3JtX2ludi5pZCA/IHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNvZGUgOiB0aGlzLmZvcm1faW52QWRkLnBkSW52Q29kZQ0KICAgICAgdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zID0gdGhpcy5mb3JtLmZvcm1faW52LmlkID8gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZSA6IHRoaXMuZm9ybV9pbnZBZGQucGRJbnZUeXBlDQogICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5pbnZSdWxlcyA9IHRydWUNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfaW52UnVsZXMoZmxhZykgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNvZGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBwZEludkNvZGUgPSBTdHJpbmcodGhpcy5mb3JtLmZvcm1faW52LnBkSW52Q29kZSkNCiAgICAgICAgbGV0IHNob3dCYWNrID0gQm9vbGVhbih0aGlzLnNob3dCYWNrKQ0KICAgICAgICBpZiAocGRJbnZDb2RlKSB7DQogICAgICAgICAgdGhpcy5nZXRQcm9maXQoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIGlmICh0aGlzLnBkSW52RGF0YS5sZW5ndGggPiAxMCAmJiBzaG93QmFjayA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pbnZUYWJsZSwgaSwgdGhpcy5wZEludkRhdGFbaV0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAoY29uc3QgaW52IG9mIHRoaXMuaW52VGFibGUpIHsNCiAgICAgICAgICAgICAgaWYgKGludi5wZEludkNvZGUgPT09IHBkSW52Q29kZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZCbmZ0ID0gaW52DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnRDaGFuZ2VkKCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dSdWxlc1Nob3cuaW52UnVsZXMgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2ludlJ1bGVzU2VsZWN0KGZsYWcsIGd1YXJhbnRlZURldGFpbHMsIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIHR5cGUsIGludikgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IGludg0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSB0eXBlDQogICAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGd1YXJhbnRlZURldGFpbHMNCiAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gY2FsY3VsYXRpb25Gb3JtdWxhVHlwZQ0KICAgICAgfSBlbHNlIGlmIChmbGFnID09PSBmYWxzZSkgew0KICAgICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5pbnZSdWxlcyA9IGZhbHNlDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5pbnZSdWxlcyA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nUnVsZXNTaG93LmludlJ1bGVzU2VsZWN0ID0gZmxhZw0KICAgIH0sDQogICAgZ2V0UHJvZml0KCkgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gew0KICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICBwYWdlOiBudWxsLA0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgZXFfcGRJbmZvSWQ6IHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkDQogICAgICAgICAgfSwNCiAgICAgICAgICBsaW1pdDogbnVsbA0KICAgICAgICB9DQogICAgICAgIGdldFByb2ZpdChkYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5wZEludkRhdGEgPSByZXMuZGF0YS5yZWNvcmRzDQogICAgICAgICAgdGhpcy5pbnZUYWJsZSA9IFtdDQogICAgICAgICAgaWYgKHRoaXMucGRJbnZEYXRhLmxlbmd0aCA+IDEwKSB7DQogICAgICAgICAgICB0aGlzLnNob3dNb3JlID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5zaG93QmFjayA9IGZhbHNlDQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW52VGFibGUsIGksIHRoaXMucGRJbnZEYXRhW2ldKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnNob3dNb3JlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuc2hvd0JhY2sgPSBmYWxzZQ0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBkSW52RGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pbnZUYWJsZSwgaSwgdGhpcy5wZEludkRhdGFbaV0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIOW4puWFpemcgOimgeaYvuekuueahOaUtuebiuS/oeaBrw0KICAgICAgICAgIGlmICghIXRoaXMuaW52Q29kZSkgew0KICAgICAgICAgICAgbGV0IGZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgZm9yIChjb25zdCBpbnYgb2YgdGhpcy5wZEludkRhdGEpIHsNCiAgICAgICAgICAgICAgaWYgKGludi5wZEludkNvZGUgPT09IHRoaXMuaW52Q29kZSkgew0KICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnQgPSBpbnYNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52Qm5mdENoYW5nZWQoKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gZmxhZykgew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfmnKrmib7liLDljLnphY3nmoTmlLbnm4rkv6Hmga8nKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXNvbHZlKCkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBpc1Nob3dNb3JlKCkgew0KICAgICAgdGhpcy5zaG93TW9yZSA9IGZhbHNlDQogICAgICB0aGlzLnNob3dCYWNrID0gdHJ1ZQ0KICAgICAgdGhpcy5pbnZUYWJsZSA9IFtdDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGRJbnZEYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLmludlRhYmxlLCBpLCB0aGlzLnBkSW52RGF0YVtpXSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzU2hvd0JhY2soKSB7DQogICAgICB0aGlzLnNob3dNb3JlID0gdHJ1ZQ0KICAgICAgdGhpcy5zaG93QmFjayA9IGZhbHNlDQogICAgICB0aGlzLmludlRhYmxlID0gW10NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5pbnZUYWJsZSwgaSwgdGhpcy5wZEludkRhdGFbaV0pDQogICAgICB9DQogICAgfSwNCiAgICAvL+W/q+aNt+WumuS5iQ0KICAgIGlzU2hvd1F1aWNrKCkgew0KICAgICAgaWYgKCF0aGlzLnF1aWNrc2hvdykgew0KICAgICAgICB0aGlzLnF1aWNraWNvbiA9ICdlbC1pY29uLWFycm93LWRvd24nDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnF1aWNraWNvbiA9ICdlbC1pY29uLWFycm93LXJpZ2h0Jw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRoaXMucXVpY2tzaG93ID0gIXRoaXMucXVpY2tzaG93DQogICAgfSwNCiAgICAvL+aQnOe0ouaMiemSrg0KICAgIGhhbmRsZVNlYXJjaEluQ3VycmVudFByb2R1Y3QoKSB7DQogICAgICB0aGlzLiRyZWZzLnByb2ZpdFBhcmFtcy52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdGhpcy5wYXJhbXMuZmlyc3RPcGVuUGFnZUZsYWcgPSAnTicNCiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5p+l5om+5Lqn5ZOB5YiG57qi5pa55byPDQogICAgZmluZFBkQm9udXNNb2RlKCkgew0KICAgICAgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09PSAnMScpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5wZEJvbnVzTW9kZSA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMxMA0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNoYW5nZUJvbnVzRmlsdGVyKCl7DQogICAgICBsZXQgdmFsID0gdGhpcy5mb3JtLnBkQm9udXNNb2RlDQogICAgICBjb25zb2xlLmxvZygnYm9udXNNb2RlOicrdmFsKQ0KICAgICAgaWYgKHZhbCA9PSAnMScpIHsNCiAgICAgICAgdGhpcy5maW5lbGluZXNSZWdpb25GaWx0ZXJCb251cyA9ICcxJDUnDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmZvcm0ucGRCb251c0R3TW9kZSA9IFsnNSddDQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PSAnMicpIHsNCiAgICAgICAgdGhpcy5maW5lbGluZXNSZWdpb25GaWx0ZXJCb251cyA9ICcxJDEkMiQzJDQnDQogICAgICAgIGxldCBwZEJvbnVzRHdNb2RlID0gdGhpcy5mb3JtLnBkQm9udXNEd01vZGUNCg0KICAgICAgICBpZiAocGRCb251c0R3TW9kZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5mb3JtLnBkQm9udXNEd01vZGUgPSBwZEJvbnVzRHdNb2RlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5maW5lbGluZXNSZWdpb25GaWx0ZXJCb251cyA9ICcnDQogICAgICB9DQogICAgfSwNCiAgICAvL+afpeaJvuS6p+WTgeWIhue6oumihuWPluaWueW8jw0KICAgIGZpbmRQZEJvbnVzRHdNb2RlKCkgew0KICAgICAgcGR0ZW1wUGRBdHJzSW5mb0xpc3QodGhpcy5wYXJhbXMuZXFfcGRJbmZvSWQpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmZvcm0ucGRCb251c0R3TW9kZSA9IFtdDQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhW2ldLnBkQXRyc0NvZGUgPT09ICdEaXZpZGVuZENvbGxlY3Rpb24nKSB7DQogICAgICAgICAgICB0aGlzLmZvcm0ucGRCb251c0R3TW9kZS5wdXNoKA0KICAgICAgICAgICAgICByZXNwb25zZS5kYXRhW2ldLnBkQXRyc1ZhbCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+afpeaJvuS6p+WTgeiuvuiuoeexu+Weiw0KICAgIGZpbmREZXNpZ25UeXBlKCkgew0KICAgICAgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09PSAnMScpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5kZXNpZ25UeXBlID0gcmVzcG9uc2UuZGF0YVtpXS5wZENsczQNCg0KICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMuZm9ybS5kZXNpZ25UeXBlDQogICAgICAgICAgICBpZiAodmFsICE9ICcxJykgew0KICAgICAgICAgICAgICB0aGlzLmZpbmVsaW5lc2Rlc2lnblR5cGVGaWx0ZXIgPSAiMSQ0JDUkNiQ3JDgkOSINCiAgICAgICAgICAgICAgdGhpcy5wYWdlRmxhZy5hbW91bnRGbGFnID0gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+afpeaJvuS6p+WTgeexu+Weiw0KICAgIGZpbmRUeXBlUmVnaW9uKCkgew0KICAgICAgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09PSAnMScpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS50eXBlUmVnaW9uID0gcmVzcG9uc2UuZGF0YVtpXS5wZENsczENCiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmZvcm0udHlwZVJlZ2lvbg0KICAgICAgICAgICAgaWYgKHZhbCA9PT0gIkwiKSB7DQogICAgICAgICAgICAgIHRoaXMuZmluZWxpbmVzVHlwZVJlZ2lvbkZpbHRlciA9ICIxJEwiDQogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gIlIiKSB7DQogICAgICAgICAgICAgIHRoaXMuZmluZWxpbmVzVHlwZVJlZ2lvbkZpbHRlciA9ICIxJFIiDQogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gIkgiKSB7DQogICAgICAgICAgICAgIHRoaXMuZmluZWxpbmVzVHlwZVJlZ2lvbkZpbHRlciA9ICIxJEgiDQogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gIkEiKSB7DQogICAgICAgICAgICAgIHRoaXMuZmluZWxpbmVzVHlwZVJlZ2lvbkZpbHRlciA9ICIxJEEiDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLmZpbmVsaW5lc1R5cGVSZWdpb25GaWx0ZXIgPSAiIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5Lqn5ZOB5L+h5oGvDQogICAgZmluZFJlZmVyZW5jZVByb2R1Y3RzKHZhbCkgew0KICAgICAgdGhpcy5wYXJhbXMuZXFfcGRJbmZvSWQgPSAnJw0KICAgICAgdmFsID09PSAnJyA/IHRoaXMuaW5pdFByb2R1Y3RRdWVyeURhdGEoKSA6IHRoaXMuZmlsdGVyUHJvZHVjdEJ5Q2F0ZWdvcnkodGhpcywgdmFsKQ0KICAgIH0sDQogICAgaW5pdFByb2R1Y3RRdWVyeURhdGEoKSB7DQogICAgICB0aGlzLmZpbHRlclByb2R1Y3RCeU5vZGUodGhpcywgJzEnKQ0KICAgIH0sDQogICAgLy/mlLbnm4rkv6Hmga8NCiAgICBmaW5kSW52KHZhbCkgew0KICAgICAgbGV0IHBhcmFtc2ludiA9IHsNCiAgICAgICAgcHJvZHVjdElkOiB0aGlzLnByb2ZpdFBhcmFtcy5wcm9kdWN0LA0KICAgICAgICBwZEludlR5cGU6IHZhbA0KICAgICAgfQ0KICAgICAgZmluZEludkJ5cGRJbnZUeXBlKHBhcmFtc2ludikudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmludk9wdGlvbnMgPSBbXQ0KICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGludiA9PiB7DQogICAgICAgICAgdGhpcy5pbnZPcHRpb25zLnB1c2goew0KICAgICAgICAgICAgdmFsdWU6IGludi5pZCwNCiAgICAgICAgICAgIGxhYmVsOiBpbnYucGRJbnZDb2RlICsgJzonICsgaW52LnBkSW52TmFtZQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgLyrmlLbnm4rotbfmnJ8t5q2i5pyf5YWz6IGUKi8NCiAgICBjaGFuZ2VSdWxlU0Uoc3RhcnRDb2RlKSB7DQogICAgICBpZiAoc3RhcnRDb2RlID09PSAnMScgfHwgc3RhcnRDb2RlID09PSAnMicgfHwgc3RhcnRDb2RlID09PSAnMycpIHsNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kRGF0ZVJ1bGUgPSBzdGFydENvZGUNCiAgICAgIH0gZWxzZSBpZiAoc3RhcnRDb2RlID09PSAnNCcgfHwgc3RhcnRDb2RlID09PSAnNScgfHwgc3RhcnRDb2RlID09PSAnNicpIHsNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kRGF0ZVJ1bGUgPSAnMycNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZERhdGVSdWxlID0gJycNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5YWz6IGU6KGo5Yid5aeL5YyW5YC8DQogICAgbGlua1RhYmxlKCkgew0KICAgICAgbGV0IHBkdGVtcFBkSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCkNCiAgICAgIC8v6aG16Z2i5Lyg5YC857uZ5YWz6IGU6KGo6LWL5YC8DQogICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHBkdGVtcFBkSW5mby5pZA0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW5mb0lkID0gcGR0ZW1wUGRJbmZvLmlkDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRDb2RlID0gcGR0ZW1wUGRJbmZvLnBkQ29kZQ0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkVmVySWQgPSBwZHRlbXBQZEluZm8ucGRWZXJJZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZGluZm9pZCA9IHBkdGVtcFBkSW5mby5pZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGluZm9pZCA9IHBkdGVtcFBkSW5mby5pZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZHZlcmlkID0gcGR0ZW1wUGRJbmZvLnBkVmVySWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGR2ZXJpZCA9IHBkdGVtcFBkSW5mby5wZFZlcklkDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkY29kZSA9IHBkdGVtcFBkSW5mby5wZENvZGUNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRjb2RlID0gcGR0ZW1wUGRJbmZvLnBkQ29kZQ0KICAgICAgdGhpcy5wcm9maXRQYXJhbXMuZXFfcHJvZHVjdCA9IHRoaXMuZ2V0UGREYXRhKCkuY1R5cGUNCiAgICB9LA0KICAgIC8v5aSN5Yi25pS255uKDQogICAgY29weUludihyb3cpIHsNCiAgICAgIGxldCBwZHRlbXBQZEluZm8gPSB0aGlzLmdldFBkRGF0YSgpDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbmZvSWQgPSBwZHRlbXBQZEluZm8uaWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZENvZGUgPSBwZHRlbXBQZEluZm8ucGRDb2RlDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRWZXJJZCA9IHBkdGVtcFBkSW5mby5wZFZlcklkDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZOYW1lID0gcm93LnBkSW52TmFtZQ0KICAgICAgLyrmlLbnm4rlkI3np7AqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZSA9IHJvdy5wZEludlR5cGUNCiAgICAgIC8q5pS255uK57G75Z6LKi8NCiAgICAgIC8vIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkR1dHlUeXBlID0gcm93LnBkSW52RHV0eVR5cGUvL+S6uui6q+mZqei0o+S7u+exu+Weiw0KICAgICAgLy/lpI3pgInmoYbmlbDmja4NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRhdHJzdmFsID0gSlNPTi5wYXJzZShyb3cuZ2V0V2F5KQ0KICAgICAgLyrpooblj5bmlrnlvI8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGF0cnN2YWwgPSBKU09OLnBhcnNlKHJvdy5nZXRGcmVxdWVuY3kpDQogICAgICAvKumihuWPlumikeeOhyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZHdWFyUGVyaW9kID0gcm93LnBkSW52R3VhclBlcmlvZA0KICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7QqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZFVuaXQgPSByb3cucGRJbnZHdWFyUGVyaW9kVW5pdA0KICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7TljZXkvY0qLw0KICAgICAgLyogICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlJlY2xGbGFnID0gcm93LnBkSW52UmVjbEZsYWcNCiAgICAgICAgICAgLyEq6aKG5Y+W5pe26YeN5paw6K6h566XKiEvKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0RGF0ZVJ1bGUgPSByb3cucGRJbnZTdGFydERhdGVSdWxlDQogICAgICAvKuaUtuebiui1t+acn+iuoeeul+inhOWImSovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydERhdGVNb2RlID0gcm93LnBkSW52U3RhcnREYXRlTW9kZQ0KICAgICAgLyrmlLbnm4rotbfmnJ/orqHnrpfmlrnlvI8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnRQZXJpb2QgPSByb3cucGRJbnZTdGFydFBlcmlvZA0KICAgICAgLyrmlLbnm4rotbfmnJ8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnRQZXJpb2RVbml0ID0gcm93LnBkSW52U3RhcnRQZXJpb2RVbml0DQogICAgICAvKuaUtuebiui1t+acn+WNleS9jSovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmREYXRlUnVsZSA9IHJvdy5wZEludkVuZERhdGVSdWxlDQogICAgICAvKuaUtuebiuatouacn+iuoeeul+inhOWImSovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmREYXRlTW9kZSA9IHJvdy5wZEludkVuZERhdGVNb2RlDQogICAgICAvKuaUtuebiuatouacn+iuoeeul+aWueW8jyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2QgPSByb3cucGRJbnZFbmRQZXJpb2QNCiAgICAgIC8q5pS255uK5q2i5pyfKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZFBlcmlvZFVuaXQgPSByb3cucGRJbnZFbmRQZXJpb2RVbml0DQogICAgICAvKuaUtuebiuatouacn+WNleS9jSovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZDYWxjQ29kZSA9IHJvdy5wZEludkNhbGNDb2RlDQogICAgICAvKuaUtuebiuiuoeeul+WFrOW8jyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkaW5mb2lkID0gcGR0ZW1wUGRJbmZvLmlkDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkaW5mb2lkID0gcGR0ZW1wUGRJbmZvLmlkDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkdmVyaWQgPSBwZHRlbXBQZEluZm8ucGRWZXJJZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZHZlcmlkID0gcGR0ZW1wUGRJbmZvLnBkVmVySWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRjb2RlID0gcGR0ZW1wUGRJbmZvLnBkQ29kZQ0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGNvZGUgPSBwZHRlbXBQZEluZm8ucGRDb2RlDQogICAgICBsZXQgcGRJbnZUeXBlID0gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZQ0KICAgICAgaWYgKHRoaXMuZm9ybS5kZXNpZ25UeXBlICE9PSAnMScgJiYgKHBkSW52VHlwZSA9PT0gJzEnIHx8IHBkSW52VHlwZSA9PT0gJzInIHx8IHBkSW52VHlwZSA9PT0gJzMnKSkgew0KICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEludi5tZXNzYWdlLmludl9wcm9kdWN0X3dhcm5pbmcnKSkNCiAgICAgICAgdGhpcy5jbGVhckZvcm1JbnYoKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGlmIChwZEludlR5cGUgIT09ICcxJyAmJiBwZEludlR5cGUgIT09ICcyJyAmJiBwZEludlR5cGUgIT09ICczJykgew0KICAgICAgICB0aGlzLnBhZ2VGbGFnLmFtb3VudEZsYWcgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgYWRkUGR0ZW1wUGRJbnYodGhpcy5mb3JtKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5wYWdlRmxhZy5hbW91bnRGbGFnID0gdHJ1ZQ0KICAgICAgICAvKuS6p+WTgeWumuS5iS3kuqflk4HlsZ7mgKfkv6Hmga/ooaggIHBkdGVtcF9wZF9hdHJzX2luZm8qLw0KICAgICAgICB0aGlzLmNsZWFyRm9ybUludigpDQogICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQ0KICAgICAgICB0aGlzLmdldFByb2ZpdCgpDQogICAgICAgIHRoaXMuZmluZFBkQm9udXNNb2RlKCkNCiAgICAgICAgdGhpcy5maW5kUGRCb251c0R3TW9kZSgpDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5hZGQnKSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBsaWtlSW52KCkgew0KICAgICAgdGhpcy5zZWxlY3RlZEludkNoYW5nZWQoKQ0KICAgICAgbGV0IHBkSW52VHlwZSA9IHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlR5cGUNCiAgICAgIGlmICh0aGlzLmZvcm0uZGVzaWduVHlwZSAhPT0gJzEnICYmIChwZEludlR5cGUgPT09ICcxJyB8fCBwZEludlR5cGUgPT09ICcyJyB8fCBwZEludlR5cGUgPT09ICczJykpIHsNCiAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IodGhpcy4kdCgncGR0ZW1wUGRJbnYubWVzc2FnZS5pbnZfcHJvZHVjdF93YXJuaW5nJykpDQogICAgICAgIHRoaXMuY2xlYXJGb3JtSW52KCkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAocGRJbnZUeXBlICE9PSAnMScgJiYgcGRJbnZUeXBlICE9PSAnMicgJiYgcGRJbnZUeXBlICE9PSAnMycpIHsNCiAgICAgICAgdGhpcy5wYWdlRmxhZy5hbW91bnRGbGFnID0gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdGVkSW52Q2hhbmdlZCgpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbnZCbmZ0ID0gJycNCiAgICAgIHRoaXMucmVzZXRGb3JtSW52KCkNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICAgIC8v6I635Y+W5b2T5YmN5Lqn5ZOB5L+h5oGvDQogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgICAgbGV0IHJvdyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2VsZWN0ZWRJbnYpDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbmZvSWQgPSBwZHRlbXBQZEluZm8uaWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZENvZGUgPSBwZHRlbXBQZEluZm8ucGRDb2RlDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRWZXJJZCA9IHBkdGVtcFBkSW5mby5wZFZlcklkDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZOYW1lID0gcm93LnBkSW52TmFtZQ0KICAgICAgLyrmlLbnm4rlkI3np7AqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZSA9IHJvdy5wZEludlR5cGUNCiAgICAgIC8q5pS255uK57G75Z6LKi8NCiAgICAgIC8vIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkR1dHlUeXBlID0gcm93LnBkSW52RHV0eVR5cGUvL+S6uui6q+mZqei0o+S7u+exu+Weiw0KICAgICAgLy/lpI3pgInmoYbmlbDmja4NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRhdHJzdmFsID0gSlNPTi5wYXJzZShyb3cuZ2V0V2F5KQ0KICAgICAgLyrpooblj5bmlrnlvI8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGF0cnN2YWwgPSBKU09OLnBhcnNlKHJvdy5nZXRGcmVxdWVuY3kpDQogICAgICAvKumihuWPlumikeeOhyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZHdWFyUGVyaW9kID0gcm93LnBkSW52R3VhclBlcmlvZA0KICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7QqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZFVuaXQgPSByb3cucGRJbnZHdWFyUGVyaW9kVW5pdA0KICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7TljZXkvY0qLw0KICAgICAgLyogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZSZWNsRmxhZyA9IHJvdy5wZEludlJlY2xGbGFnDQogICAgICAgICAgICAvISrpooblj5bml7bph43mlrDorqHnrpcqIS8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnREYXRlUnVsZSA9IHJvdy5wZEludlN0YXJ0RGF0ZVJ1bGUNCiAgICAgIC8q5pS255uK6LW35pyf6K6h566X6KeE5YiZKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0RGF0ZU1vZGUgPSByb3cucGRJbnZTdGFydERhdGVNb2RlDQogICAgICAvKuaUtuebiui1t+acn+iuoeeul+aWueW8jyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZCA9IHJvdy5wZEludlN0YXJ0UGVyaW9kDQogICAgICAvKuaUtuebiui1t+acnyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZFVuaXQgPSByb3cucGRJbnZTdGFydFBlcmlvZFVuaXQNCiAgICAgIC8q5pS255uK6LW35pyf5Y2V5L2NKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZERhdGVSdWxlID0gcm93LnBkSW52RW5kRGF0ZVJ1bGUNCiAgICAgIC8q5pS255uK5q2i5pyf6K6h566X6KeE5YiZKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZERhdGVNb2RlID0gcm93LnBkSW52RW5kRGF0ZU1vZGUNCiAgICAgIC8q5pS255uK5q2i5pyf6K6h566X5pa55byPKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZFBlcmlvZCA9IHJvdy5wZEludkVuZFBlcmlvZA0KICAgICAgLyrmlLbnm4rmraLmnJ8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kUGVyaW9kVW5pdCA9IHJvdy5wZEludkVuZFBlcmlvZFVuaXQNCiAgICAgIC8q5pS255uK5q2i5pyf5Y2V5L2NKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNhbGNDb2RlID0gcm93LnBkSW52Q2FsY0NvZGUNCiAgICAgIC8q5pS255uK6K6h566X5YWs5byPKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRpbmZvaWQgPSBwZHRlbXBQZEluZm8uaWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRpbmZvaWQgPSBwZHRlbXBQZEluZm8uaWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGR2ZXJpZCA9IHBkdGVtcFBkSW5mby5wZFZlcklkDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkdmVyaWQgPSBwZHRlbXBQZEluZm8ucGRWZXJJZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZGNvZGUgPSBwZHRlbXBQZEluZm8ucGRDb2RlDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkY29kZSA9IHBkdGVtcFBkSW5mby5wZENvZGUNCiAgICB9LA0KICAgIHJvd0NsaWNrX2ludihyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgdGhpcy5wYWdlRmxhZy5kZWxCdXR0b25TaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnQgPSAnJw0KICAgICAgICB0aGlzLnJlc2V0Rm9ybUludigpDQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRJbnYuaWQpIHsNCiAgICAgICAgICB0aGlzLmNsZWFyRm9ybUludigpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5YWz6IGU5pS255uK6YCJ5Lit5pWw5o2u5Zue5pi+DQogICAgc2VsZWN0ZWRJbnZCbmZ0Q2hhbmdlZCgpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbnYgPSAnJw0KICAgICAgdGhpcy5yZXNldEZvcm1JbnYoKQ0KICAgICAgdGhpcy5wYWdlRmxhZy5kZWxCdXR0b25TaG93ID0gdHJ1ZQ0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RHdDZFJ1bGVDb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZEd0NkUnVsZUNvZGUNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlJ1bGVDb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZSdWxlQ29kZQ0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LmlkID0gdGhpcy5zZWxlY3RlZEludkJuZnQuaWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEluZm9JZCA9IHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LnBkSW5mb0lkDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRDb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRDb2RlDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRWZXJJZCA9IHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LnBkVmVySWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNvZGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludkNvZGUNCiAgICAgIC8q5pS255uK57yW56CBKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludk5hbWUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludk5hbWUNCiAgICAgIC8q5pS255uK5ZCN56ewKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlR5cGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludlR5cGUNCiAgICAgIC8q5pS255uK57G75Z6LKi8NCiAgICAgIC8vIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkR1dHlUeXBlID0gcm93LnBkSW52RHV0eVR5cGUvL+S6uui6q+mZqei0o+S7u+exu+Weiw0KICAgICAgLy/lpI3pgInmoYbmlbDmja4NCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW52Qm5mdC5nZXRXYXkpIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRhdHJzdmFsID0gSlNPTi5wYXJzZSh0aGlzLnNlbGVjdGVkSW52Qm5mdC5nZXRXYXkpDQogICAgICAvKumihuWPluaWueW8jyovDQogICAgICBpZiAodGhpcy5zZWxlY3RlZEludkJuZnQuZ2V0RnJlcXVlbmN5KSB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkYXRyc3ZhbCA9IEpTT04ucGFyc2UodGhpcy5zZWxlY3RlZEludkJuZnQuZ2V0RnJlcXVlbmN5KQ0KICAgICAgLyrpooblj5bpopHnjocqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZCA9IHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LnBkSW52R3VhclBlcmlvZA0KICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7QqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZFVuaXQgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludkd1YXJQZXJpb2RVbml0DQogICAgICAvKuS/neivgeaUtuebiuacn+mXtOWNleS9jSovDQogICAgICAvKiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlJlY2xGbGFnID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZSZWNsRmxhZw0KICAgICAgICAgICAgLyEq6aKG5Y+W5pe26YeN5paw6K6h566XKiEvKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0RGF0ZVJ1bGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludlN0YXJ0RGF0ZVJ1bGUNCiAgICAgIC8q5pS255uK6LW35pyf6K6h566X6KeE5YiZKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0RGF0ZU1vZGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludlN0YXJ0RGF0ZU1vZGUNCiAgICAgIC8q5pS255uK6LW35pyf6K6h566X5pa55byPKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0UGVyaW9kID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZTdGFydFBlcmlvZA0KICAgICAgLyrmlLbnm4rotbfmnJ8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnRQZXJpb2RVbml0ID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZTdGFydFBlcmlvZFVuaXQNCiAgICAgIC8q5pS255uK6LW35pyf5Y2V5L2NKi8NCiAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZERhdGVSdWxlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZFbmREYXRlUnVsZQ0KICAgICAgLyrmlLbnm4rmraLmnJ/orqHnrpfop4TliJkqLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kRGF0ZU1vZGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludkVuZERhdGVNb2RlDQogICAgICAvKuaUtuebiuatouacn+iuoeeul+aWueW8jyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2QgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludkVuZFBlcmlvZA0KICAgICAgLyrmlLbnm4rmraLmnJ8qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kUGVyaW9kVW5pdCA9IHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LnBkSW52RW5kUGVyaW9kVW5pdA0KICAgICAgLyrmlLbnm4rmraLmnJ/ljZXkvY0qLw0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52Q2FsY0NvZGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEludkNhbGNDb2RlDQogICAgICAvKuaUtuebiuiuoeeul+WFrOW8jyovDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkaW5mb2lkID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbmZvSWQNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRpbmZvaWQgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZEluZm9JZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZHZlcmlkID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRWZXJJZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZHZlcmlkID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRWZXJJZA0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZGNvZGUgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdC5wZENvZGUNCiAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRjb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRDb2RlDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkYXNjbGV2ZWxjb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZDb2RlDQogICAgICAvKuaUtuebiue8lueggSovDQogICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkYXNjbGV2ZWxjb2RlID0gdGhpcy5zZWxlY3RlZEludkJuZnQucGRJbnZDb2RlDQoNCiAgICAgIHRoaXMuY2hhbmdlQW1vdW50RmxhZyh0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZUeXBlKTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJvd0NsaWNrX2ludmJuZnQocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIHRoaXMucGFnZUZsYWcuZGVsQnV0dG9uU2hvdyA9IHRydWUNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZEludkJuZnQuaWQpIHsNCiAgICAgICAgICB0aGlzLnJlc2V0Rm9ybUludigpDQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5zZWxlY3RlZEludiA9ICcnDQogICAgICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnQgPSAnJw0KICAgICAgICAgIHRoaXMucGFnZUZsYWcuZGVsQnV0dG9uU2hvdyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5pu05paw5pa55rOVDQogICAgaGFuZGxlVXBkYXRlSW52KCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB2YXIgcm93SWQgPSB0aGlzLmZvcm0uZm9ybV9pbnYuaWQNCiAgICAgICAgICBsZXQgcGRJbnZUeXBlID0gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52VHlwZQ0KICAgICAgICAgIGlmIChwZEludlR5cGUgIT09ICcxJyAmJiBwZEludlR5cGUgIT09ICcyJyAmJiBwZEludlR5cGUgIT09ICczJykgew0KICAgICAgICAgICAgdGhpcy5wYWdlRmxhZy5hbW91bnRGbGFnID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgICAgdXBkYXRlUGR0ZW1wUGRJbnYodGhpcy5mb3JtKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtSW52KCkNCiAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5idWlsZERhdGEoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cocm93SWQpOw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuZ2V0UHJvZml0KCkNCiAgICAgICAgICAgIHRoaXMuZmluZFBkQm9udXNNb2RlKCkNCiAgICAgICAgICAgIHRoaXMuZmluZFBkQm9udXNEd01vZGUoKQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hpbGRGbicsIHRydWUpDQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UudXBkYXRlJykpDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v6YCJ5Lit5L+u5pS56aG5DQogICAgc2VsZWN0ZWRSb3coaWQpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZS5idWlsZERhdGEoKS50aGVuKCgpID0+IHsNCiAgICAgICAgaWYgKGlkKSB7DQogICAgICAgICAgdmFyIGlkUm93ID0gaWQ7DQogICAgICAgICAgbGV0IG51bSA9IDA7DQogICAgICAgICAgZm9yIChudW0gPSAwOyBudW0gPCB0aGlzLmludlRhYmxlLmxlbmd0aDsgbnVtKyspIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmludlRhYmxlW251bV0uaWQgPT09IGlkUm93KSB7DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW52VGFibGUuc2V0Q3VycmVudFJvdyh0aGlzLmludlRhYmxlW251bV0pDQogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZCbmZ0ID0gdGhpcy5pbnZUYWJsZVtudW1dDQogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZCbmZ0Q2hhbmdlZCgpDQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmludlRhYmxlLnNldEN1cnJlbnRSb3codGhpcy5pbnZUYWJsZVswXSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52Qm5mdCA9IHRoaXMuaW52VGFibGVbMF0NCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52Qm5mdENoYW5nZWQoKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvL+aWsOWinuaWueazlQ0KICAgIGhhbmRsZUFkZEludigpIHsNCiAgICAgIHRoaXMubGlua1RhYmxlKCkNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgbGV0IHBkSW52VHlwZSA9IHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlR5cGUNCiAgICAgICAgICBpZiAocGRJbnZUeXBlICE9PSAnMScgJiYgcGRJbnZUeXBlICE9PSAnMicgJiYgcGRJbnZUeXBlICE9PSAnMycpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZUZsYWcuYW1vdW50RmxhZyA9IGZhbHNlDQogICAgICAgICAgfQ0KICAgICAgICAgIGFkZFBkdGVtcFBkSW52KHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICB0aGlzLmZvcm1faW52QWRkID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgLyrkuqflk4HlrprkuYkt5Lqn5ZOB5bGe5oCn5L+h5oGv6KGoICBwZHRlbXBfcGRfYXRyc19pbmZvKi8NCiAgICAgICAgICAgIHRoaXMuY2xlYXJGb3JtSW52KCkNCiAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5idWlsZERhdGEoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3coKTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLmdldFByb2ZpdCgpDQogICAgICAgICAgICB0aGlzLmZpbmRQZEJvbnVzTW9kZSgpDQogICAgICAgICAgICB0aGlzLmZpbmRQZEJvbnVzRHdNb2RlKCkNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoaWxkRm4nLCB0cnVlKQ0KICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmFkZCcpKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy50YWJsZUNvdW50Kys7DQoNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5Yig6Zmk5pa55rOVDQogICAgaGFuZGxlRGVsZXRlSW52KCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LmlkID4gMCkgew0KICAgICAgICBkZWxldGVQZHRlbXBQZEludih0aGlzLnNlbGVjdGVkSW52Qm5mdC5pZCkudGhlbigoKSA9PiB7DQogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbnZCbmZ0LmlkID09PSB0aGlzLmZvcm1faW52QWRkLmlkKSB7DQogICAgICAgICAgICB0aGlzLmZvcm1faW52QWRkID0ge30NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlLmJ1aWxkRGF0YSgpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5jbGVhckZvcm1JbnYxKCkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuZ2V0UHJvZml0KCkNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEludi5tZXNzYWdlLmRlbGV0ZV93YXJuaW5nJykpDQogICAgICB9DQogICAgfSwNCiAgICBjbGVhckZvcm1JbnYxKCkgew0KICAgICAgdGhpcy5wYWdlRmxhZy5kZWxCdXR0b25TaG93ID0gZmFsc2UNCiAgICAgIHRoaXMucmVzZXRGb3JtSW52KCkNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbnYgPSAnJw0KICAgICAgdGhpcy5zZWxlY3RlZEludkJuZnQgPSAnJw0KICAgIH0sDQogICAgLy8g5riF56m65pS255uK5a6a5LmJ6KGo5Y2VDQogICAgY2xlYXJGb3JtSW52KCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbnZCbmZ0ICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZEludkJuZnQgIT0gJycgJiYgdGhpcy5zZWxlY3RlZEludkJuZnQgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHZhciByb3cgPSB0aGlzLnNlbGVjdGVkSW52Qm5mdDsNCiAgICAgICAgdGhpcy5zZWxlY3RlZEludiA9ICcnDQogICAgICAgIHRoaXMucmVzZXRGb3JtSW52KCkNCiAgICAgICAgdGhpcy5wYWdlRmxhZy5kZWxCdXR0b25TaG93ID0gdHJ1ZQ0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZEd0NkUnVsZUNvZGUgPSByb3cucGRJbnZEd0NkUnVsZUNvZGUNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52UnVsZUNvZGUgPSByb3cucGRJbnZSdWxlQ29kZQ0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYuaWQgPSByb3cuaWQNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW5mb0lkID0gcm93LnBkSW5mb0lkDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZENvZGUgPSByb3cucGRDb2RlDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZFZlcklkID0gcm93LnBkVmVySWQNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52Q29kZSA9IHJvdy5wZEludkNvZGUNCiAgICAgICAgLyrmlLbnm4rnvJbnoIEqLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZOYW1lID0gcm93LnBkSW52TmFtZQ0KICAgICAgICAvKuaUtuebiuWQjeensCovDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlR5cGUgPSByb3cucGRJbnZUeXBlDQogICAgICAgIC8q5pS255uK57G75Z6LKi8NCiAgICAgICAgLy8gdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RHV0eVR5cGUgPSByb3cucGRJbnZEdXR5VHlwZS8v5Lq66Lqr6Zmp6LSj5Lu757G75Z6LDQogICAgICAgIC8v5aSN6YCJ5qGG5pWw5o2uDQogICAgICAgIGlmIChyb3cuZ2V0V2F5KSB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkYXRyc3ZhbCA9IEpTT04ucGFyc2Uocm93LmdldFdheSkNCiAgICAgICAgLyrpooblj5bmlrnlvI8qLw0KICAgICAgICBpZiAocm93LmdldEZyZXF1ZW5jeSkgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGF0cnN2YWwgPSBKU09OLnBhcnNlKHJvdy5nZXRGcmVxdWVuY3kpDQogICAgICAgIC8q6aKG5Y+W6aKR546HKi8NCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52R3VhclBlcmlvZCA9IHJvdy5wZEludkd1YXJQZXJpb2QNCiAgICAgICAgLyrkv53or4HmlLbnm4rmnJ/pl7QqLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZHdWFyUGVyaW9kVW5pdCA9IHJvdy5wZEludkd1YXJQZXJpb2RVbml0DQogICAgICAgIC8q5L+d6K+B5pS255uK5pyf6Ze05Y2V5L2NKi8NCiAgICAgICAgLyogICAgICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZSZWNsRmxhZyA9IHJvdy5wZEludlJlY2xGbGFnDQogICAgICAgICAgICAgICAgICAgIC8hKumihuWPluaXtumHjeaWsOiuoeeulyohLyovDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludlN0YXJ0RGF0ZVJ1bGUgPSByb3cucGRJbnZTdGFydERhdGVSdWxlDQogICAgICAgIC8q5pS255uK6LW35pyf6K6h566X6KeE5YiZKi8NCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnREYXRlTW9kZSA9IHJvdy5wZEludlN0YXJ0RGF0ZU1vZGUNCiAgICAgICAgLyrmlLbnm4rotbfmnJ/orqHnrpfmlrnlvI8qLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZTdGFydFBlcmlvZCA9IHJvdy5wZEludlN0YXJ0UGVyaW9kDQogICAgICAgIC8q5pS255uK6LW35pyfKi8NCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52U3RhcnRQZXJpb2RVbml0ID0gcm93LnBkSW52U3RhcnRQZXJpb2RVbml0DQogICAgICAgIC8q5pS255uK6LW35pyf5Y2V5L2NKi8NCiAgICAgICAgdGhpcy5mb3JtLmZvcm1faW52LnBkSW52RW5kRGF0ZVJ1bGUgPSByb3cucGRJbnZFbmREYXRlUnVsZQ0KICAgICAgICAvKuaUtuebiuatouacn+iuoeeul+inhOWImSovDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkVuZERhdGVNb2RlID0gcm93LnBkSW52RW5kRGF0ZU1vZGUNCiAgICAgICAgLyrmlLbnm4rmraLmnJ/orqHnrpfmlrnlvI8qLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2QgPSByb3cucGRJbnZFbmRQZXJpb2QNCiAgICAgICAgLyrmlLbnm4rmraLmnJ8qLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9pbnYucGRJbnZFbmRQZXJpb2RVbml0ID0gcm93LnBkSW52RW5kUGVyaW9kVW5pdA0KICAgICAgICAvKuaUtuebiuatouacn+WNleS9jSovDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2ludi5wZEludkNhbGNDb2RlID0gcm93LnBkSW52Q2FsY0NvZGUNCiAgICAgICAgLyrmlLbnm4rorqHnrpflhazlvI8qLw0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19mLnBkaW5mb2lkID0gcm93LnBkSW5mb0lkDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRpbmZvaWQgPSByb3cucGRJbmZvSWQNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZHZlcmlkID0gcm93LnBkVmVySWQNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZHZlcmlkID0gcm93LnBkVmVySWQNCiAgICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZGNvZGUgPSByb3cucGRDb2RlDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX3AucGRjb2RlID0gcm93LnBkQ29kZQ0KICAgICAgICB0aGlzLmZvcm0uZm9ybV9hdHJzaW5mb19wLnBkYXNjbGV2ZWxjb2RlID0gcm93LnBkSW52Q29kZQ0KICAgICAgICAvKuaUtuebiue8lueggSovDQogICAgICAgIHRoaXMuZm9ybS5mb3JtX2F0cnNpbmZvX2YucGRhc2NsZXZlbGNvZGUgPSByb3cucGRJbnZDb2RlDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlc2V0Rm9ybUludigpDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzWyJmb3JtIl0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuc2VsZWN0ZWRJbnYgPSAnJw0KICAgICAgICB0aGlzLnNlbGVjdGVkSW52Qm5mdCA9ICcnDQogICAgICB9DQoNCiAgICB9LA0KICAgIC8vIOmHjee9ruaUtuebiuWvueixoe+8iOebuOW9k+S6jiBuZXcg5LqG5LiA5Liq5a+56LGh77yM5YW35pyJ6Kej6Zmk5Y+M5ZCR57uR5a6a55qE5pWI5p6c77yJDQogICAgcmVzZXRGb3JtSW52KCkgew0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWyJmb3JtIl0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICB9KQ0KICAgICAgdGhpcy5mb3JtLmZvcm1faW52ID0gew0KICAgICAgICBwZEludkNvZGU6ICcnLA0KICAgICAgICBwZEludk5hbWU6ICcnLA0KICAgICAgICBwZEludlR5cGU6ICcnLA0KICAgICAgICBwZEludlJlY2xGbGFnOiAnWScsDQogICAgICAgIHBkQm9udXNNb2RlOiB0aGlzLmZvcm0uZm9ybV9pbnYucGRCb251c01vZGUsDQogICAgICAgIHBkQm9udXNEd01vZGU6IHRoaXMuZm9ybS5mb3JtX2ludi5wZEJvbnVzRHdNb2RlLA0KICAgICAgICBwZEludlN0YXJ0RGF0ZVJ1bGU6ICcxJywNCiAgICAgICAgcGRJbnZTdGFydERhdGVNb2RlOiAnMCcsDQogICAgICAgIHBkSW52U3RhcnRQZXJpb2Q6ICcnLA0KICAgICAgICBwZEludlN0YXJ0UGVyaW9kVW5pdDogJ1knLA0KICAgICAgICBwZEludkVuZERhdGVSdWxlOiAnMScsDQogICAgICAgIHBkSW52RW5kRGF0ZU1vZGU6ICcwJywNCiAgICAgICAgcGRJbnZFbmRQZXJpb2Q6ICcnLA0KICAgICAgICBwZEludkVuZFBlcmlvZFVuaXQ6ICdZJywNCiAgICAgICAgcGRJbnZHdWFyUGVyaW9kOiAnJywNCiAgICAgICAgcGRJbnZHdWFyUGVyaW9kVW5pdDogJ1knLA0KICAgICAgICBwZEludkNhbGNDb2RlOiAnJywNCiAgICAgICAgcGRJbnZEd0NkUnVsZUNvZGU6ICcnLA0KICAgICAgICBwZEludlJ1bGVDb2RlOiAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fZi5wZGF0cnN2YWwgPSBbJzEnXQ0KICAgICAgdGhpcy5mb3JtLmZvcm1fYXRyc2luZm9fcC5wZGF0cnN2YWwgPSBbXQ0KDQogICAgICB0aGlzLnBhZ2VGbGFnLmFtb3VudEZsYWcgPSBmYWxzZTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/income-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :first=\"true\" :label=\"$t('pdtempPdInv.firstTitle')\"></cus-page-title>\r\n    <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n    <cus-product-info></cus-product-info>\r\n    <el-form ref=\"form\" :disabled=\"!!invCode\" :model=\"form\" :rules=\"rules\" label-position=\"right\" label-width=\"160px\">\r\n      <cus-filter-wraper>\r\n        <div>\r\n          <el-button size=\"small\" type=\"text\" @click=\"isShowQuick\" dialog-disable=\"disable\">{{ $t('pdtempPdInv.quick_inv') }}<i\r\n            :class=\"quickicon\"></i>\r\n          </el-button>\r\n        </div>\r\n        <div>\r\n          <el-collapse-transition>\r\n            <div v-show=\"quickshow\">\r\n              <cus-form-title :first=\"true\" :label=\"$t('pdtempPdInv.profit_library')\"></cus-form-title>\r\n              <el-form ref=\"profitParams\" :model=\"params\" :rules=\"productrules\" label-width=\"auto\">\r\n                <el-row :gutter=\"10\">\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pay_def.finelinesRegion')\" prop=\"finelinesRegion\">\r\n                      <cus-select v-model=\"params.finelinesRegion\" @change=\"findReferenceProducts\"\r\n                                  :codetype=\"'ProductCategory'\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdInv.product_id')\" prop=\"eq_pdInfoId\">\r\n                      <el-select v-model=\"params.product\"\r\n                                 :placeholder=\"$t('pay_def.message.typeRegion_finelinesRegion_first')\" clearable\r\n                                 filterable>\r\n                        <el-option v-for=\"product in productList\" :label=\"product.pdCode + ':' + product.pdName\"\r\n                                   :value=\"product.id\"></el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-button size=\"small\" icon=\"el-icon-search\"\r\n                               type=\"primary\"\r\n                               @click=\"handleSearchInCurrentProduct\">\r\n                      {{ $t('table.search') }}\r\n                    </el-button>\r\n                  </el-col>\r\n                </el-row>\r\n                <div>\r\n                  <cus-table-title :label=\"$t('pdtempPdInv.profit')\"/>\r\n                  <el-table :data=\"unRelationInvTable\" border class=\"wraper-table\" size=\"mini\"\r\n                            @row-click=\"rowClick_inv\">\r\n\r\n                    <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"60px\">\r\n                      <template v-slot=\"scope\">\r\n                        {{ initTableIndex('page', scope.$index) }}\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.details')\" type=\"expand\">\r\n                      <template slot-scope=\"props\">\r\n                        <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                          <el-form-item :label=\"$t('i18nView.pdCode')\">\r\n                            <span>{{ props.row.pdCode }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('i18nView.pdName')\">\r\n                            <span>{{ props.row.pdName }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.pd_bonus_mode')\">\r\n                            <span>{{ form.pdBonusMode | filter_pdBonusMode }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.get_pd_bonus_dw_mode')\">\r\n                            <span>{{ form.pdBonusDwMode | filter_getPdBonusDwMode }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.get_way')\">\r\n                            <span>{{ props.row.getWay | filter_getWay }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.get_frequency')\">\r\n                            <span>{{ props.row.getFrequency | filter_getFrequency }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.pdInvCalcCode')\">\r\n                            <span>{{ props.row.pdInvCalcCode }}</span>\r\n                          </el-form-item>\r\n                          <el-form-item :label=\"$t('pdtempPdInv.pdSrvlDwCdRule')\">\r\n                            <span>{{ props.row.pdInvDwCdRuleCode }}</span>\r\n                          </el-form-item>\r\n                        </el-form>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column :filter-method=\"filterHandler\" :filters=\"feeTypeFilters2\"\r\n                                     :label=\"$t('pdtempPdInv.pd_inv_code')\"\r\n                                     align=\"center\" prop=\"pdInvCode\" sortable width=\"105px\">\r\n                      <template v-slot=\"scope\">{{ scope.row.pdInvCode }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.pd_inv_name')\" align=\"center\"\r\n                                     prop=\"pdInvName\"></el-table-column>\r\n                    <el-table-column :filter-method=\"filterHandler\" :filters=\"feeTypeFilters1\"\r\n                                     :label=\"$t('pdtempPdInv.pd_inv_type')\"\r\n                                     align=\"center\" prop=\"pdInvType\" sortable width=\"105px\">\r\n                      <template v-slot=\"scope\">{{ scope.row.pdInvType | filter_getType }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.pd_inv_start_period')\" align=\"center\" prop=\"pdInvStartPeriod\">\r\n                      <template v-slot=\"scope\">{{ scope.row.pdInvStartPeriod }}{{ scope.row.pdInvStartPeriodUnit |filter_pdsbnftdy }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.pd_inv_end_period')\" align=\"center\" prop=\"pdInvEndPeriod\">\r\n                      <template v-slot=\"scope\">{{ scope.row.pdInvEndPeriod }}{{ scope.row.pdInvEndPeriodUnit |filter_pdsbnftdy }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.pd_inv_guar_period')\" align=\"center\" prop=\"pdInvGuarPeriod\">\r\n                      <template v-slot=\"scope\">{{ scope.row.pdInvGuarPeriod }}{{ scope.row.pdInvGuarPeriodUnit |filter_pdsbnftdy }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdtempPdInv.operation')\" align=\"center\" width=\"120px\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"copyInv(scope.row)\"><i\r\n                          class=\"el-icon-document-copy\"></i>{{ $t('pdtempPdInv.invCopy') }}\r\n                        </el-button>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                  <cus-pagination ref=\"page\" v-model=\"unRelationInvTable\" :pageSize=\"5\" :params=\"params\"\r\n                                  url=\"/pdtemp-pd-inv/base/getInvConn\"/>\r\n                  <!--<el-row>\r\n                      <el-button  size=\"small\" :disabled=\"pageFlag.copyRadio\" @click=\"copyInv\" type=\"primary\">\r\n                        <i class=\"el-icon-document-copy\"></i>{{$t('pdtempPdInv.copy_inv') }}\r\n                      </el-button>\r\n                      <el-button  size=\"small\" :disabled=\"pageFlag.copyRadio\" @click=\"likeInv\" type=\"primary\">\r\n                        <i class=\"el-icon-s-help\"></i>{{$t('pdtempPdInv.reference_inv') }}\r\n                      </el-button>\r\n                  </el-row>-->\r\n                </div>\r\n              </el-form>\r\n            </div>\r\n          </el-collapse-transition>\r\n        </div>\r\n      </cus-filter-wraper>\r\n      <div>\r\n        <cus-table-title :label=\"$t('pdtempPdInv.product_inv')\"/>\r\n        <el-table ref=\"invTable\" :data=\"invTable\" align=\"center\" border class=\"wraper-table\"\r\n                  element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\" @row-click=\"rowClick_invbnft\">\r\n          <el-table-column :label=\"$t('pdtempPdInv.selection')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedInvBnft\" @change=\"selectedInvBnftChanged\">\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.details')\" type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                <el-form-item :label=\"$t('pdtempPdInv.pd_bonus_mode')\">\r\n                  <span>{{ form.pdBonusMode | filter_pdBonusMode }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdInv.get_pd_bonus_dw_mode')\">\r\n                  <span>{{ form.pdBonusDwMode | filter_getPdBonusDwMode }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdInv.get_way')\">\r\n                  <span>{{ props.row.getWay | filter_getWay }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdInv.get_frequency')\">\r\n                  <span>{{ props.row.getFrequency | filter_getFrequency }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdInv.pdInvCalcCode')\">\r\n                  <span>{{ props.row.pdInvCalcCode }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdInv.pdSrvlDwCdRule')\">\r\n                  <span>{{ props.row.pdInvDwCdRuleCode }}</span>\r\n                </el-form-item>\r\n              </el-form>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.pd_inv_code')\" align=\"center\" prop=\"pdInvCode\"\r\n                           sortable>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.pd_inv_name')\" align=\"center\" prop=\"pdInvName\"></el-table-column>\r\n          <el-table-column :filter-method=\"filterHandler\" :filters=\"feeTypeFilters\"\r\n                           :label=\"$t('pdtempPdInv.pd_inv_type')\"\r\n                           align=\"center\" prop=\"pdInvType\" sortable width=\"120px\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdInvType | filter_getType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.pd_inv_start_period')\" align=\"center\" prop=\"pdInvStartPeriod\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdInvStartPeriod }}{{ scope.row.pdInvStartPeriodUnit |filter_pdsbnftdy }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.pd_inv_end_period')\" align=\"center\" prop=\"pdInvEndPeriod\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdInvEndPeriod }}{{ scope.row.pdInvEndPeriodUnit |filter_pdsbnftdy }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.pd_inv_guar_period')\" align=\"center\" prop=\"pdInvGuarPeriod\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdInvGuarPeriod }}{{ scope.row.pdInvGuarPeriodUnit |filter_pdsbnftdy }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdInv.operation')\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-del-btn v-auth=\"'pdtemp-pd-inv:delete'\"\r\n                           @ok=\"handleDeleteInv\"></cus-del-btn>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-button v-if=\"showMore\" size=\"small\" type=\"text\" @click=\"isShowMore\">\r\n          {{ $t('pdtempPdInv.inv_more') }}\r\n          <i class=\"el-icon-arrow-down\"></i>\r\n        </el-button>\r\n        <el-button v-if=\"showBack\" size=\"small\" type=\"text\" @click=\"isShowBack\">\r\n          {{ $t('pdtempPdInv.inv_retract') }}\r\n          <i class=\"el-icon-arrow-up\"></i>\r\n        </el-button>\r\n      </div>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <cus-form-title :first=\"true\" :label=\"$t('pdtempPdInv.inv_definition')\"></cus-form-title>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"16\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_name')\" prop=\"form_inv.pdInvName\">\r\n            <el-input v-model=\"form.form_inv.pdInvName\" clearable maxlength=\"60\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n           <el-form-item :label=\"$t('pdtempPdInv.pd_inv_type')\" prop=\"form_inv.pdInvType\">\r\n            <cus-select v-model=\"form.form_inv.pdInvType\" :codetype=\"'pdinvtype'\" @change=\"changeAmountFlag\"\r\n                        :filter=\"finelinesdesignTypeFilter\" :placeholder=\"$t('pdtempPdInv.message.please_check')\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <div v-if=\"pageFlag.amountFlag\">\r\n        <el-row>\r\n          <el-col :span=\"16\">\r\n            <el-form-item :label=\"$t('pdtempPdInv.get_pd_bonus_dw_mode')\">\r\n              <cus-checkbox v-model=\"form.pdBonusDwMode\" :codetype=\"'DividendCollectionType'\"\r\n                            :disabled=\"pageFlag.bonusMode\"\r\n                            :filter=\"finelinesRegionFilterBonus\"></cus-checkbox>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('pdtempPdInv.pd_bonus_mode')\">\r\n              <cus-radio v-model=\"form.pdBonusMode\" :codetype=\"'BonusType'\" :disabled=\"pageFlag.bonusMode\">\r\n              </cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n        </el-row>\r\n      </div>\r\n       <el-row>\r\n        <!--        <el-col :span=\"8\">\r\n                  <el-form-item  v-if=\"false\" :label=\"$t('pdtempPdInv.pd_duty_type')\" prop=\"form_inv.pdInvDutyType\">\r\n                    <cus-select :codetype=\"'pdsbnftdutytype'\" :filter=\"finelinesRegionFilterInvType\"\r\n                                :placeholder=\"$t('pdtempPdInv.message.please_check')\"\r\n                                style=\"width: 220px\" v-model=\"form.form_inv.pdInvDutyType\"></cus-select>\r\n                  </el-form-item>\r\n                </el-col>-->\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_start_period')\">\r\n            <el-input v-model=\"form.form_inv.pdInvStartPeriod\" :placeholder=\"$t('pdtempPdInv.message.please_input')\"\r\n                      type=\"number\">\r\n              <cus-select slot=\"append\" v-model=\"form.form_inv.pdInvStartPeriodUnit\" :codetype=\"'pdsbnftdy'\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_end_period')\">\r\n            <el-input v-model=\"form.form_inv.pdInvEndPeriod\"\r\n                      :placeholder=\"$t('pdtempPdInv.message.please_input')\" type=\"number\">\r\n              <cus-select slot=\"append\" v-model=\"form.form_inv.pdInvEndPeriodUnit\" :codetype=\"'pdsbnftdy'\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_guar_period')\">\r\n            <el-input v-model=\"form.form_inv.pdInvGuarPeriod\" :placeholder=\"$t('pdtempPdInv.message.please_input')\"\r\n                       type=\"number\">\r\n              <cus-select slot=\"append\" v-model=\"form.form_inv.pdInvGuarPeriodUnit\" :codetype=\"'pdsbnftdy'\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <!--   <el-col :span=\"8\">\r\n             <el-form-item :label=\"$t('pdtempPdInv.pd_inv_recl_flag')\">\r\n               <el-switch\r\n                          active-value=\"Y\"\r\n                          inactive-value=\"N\"\r\n                          v-model=\"form.form_inv.pdInvReclFlag\">\r\n               </el-switch>\r\n             </el-form-item>\r\n\r\n           </el-col>-->\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_start_date_rule')\" prop=\"form_inv.pdInvStartDateRule\">\r\n            <cus-radio v-model=\"form.form_inv.pdInvStartDateRule\"\r\n                       :changeMethod=\"changeRuleSE(form.form_inv.pdInvStartDateRule)\"\r\n                       :codetype=\"'pdsbnftstartrule'\" :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_start_date_mode')\" prop=\"form_inv.pdInvStartDateMode\">\r\n            <cus-radio v-model=\"form.form_inv.pdInvStartDateMode\" :codetype=\"'pdsbnftstarttype'\"\r\n                        :placeholder=\"$t('pdtempPdInv.message.please_check')\"\r\n                        :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_end_date_rule')\" prop=\"form_inv.pdInvEndDateRule\">\r\n            <cus-radio v-model=\"form.form_inv.pdInvEndDateRule\" :codetype=\"'pdsbnftendrule'\"\r\n                       :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_end_date_mode')\" prop=\"form_inv.pdInvEndDateMode\">\r\n            <cus-radio v-model=\"form.form_inv.pdInvEndDateMode\" :codetype=\"'pdsbnftendtype'\"\r\n                        :placeholder=\"$t('pdtempPdInv.message.please_check')\"\r\n                        :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.get_way')\" prop=\"form_atrsinfo_f.pdatrsval\">\r\n            <cus-checkbox v-model=\"form.form_atrsinfo_f.pdatrsval\" :codetype=\"'pdsbnftgettype'\"></cus-checkbox>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n      </el-row>\r\n      <el-row>\r\n      <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.get_frequency')\" prop=\"form_atrsinfo_p.pdatrsval\">\r\n            <cus-checkbox v-model=\"form.form_atrsinfo_p.pdatrsval\" :codetype=\"'pdsbnftgettimes'\"></cus-checkbox>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-form-item style=\"float: right\">\r\n          <el-button v-if=\"selectedInvBnft.id\" v-auth=\"'pdtemp-pd-inv:update'\" icon=\"el-icon-success\" size=\"small\" dialog-disable=\"disable\"\r\n                     style=\"margin-right: 5px\"\r\n                     type=\"primary\"\r\n                     @click=\"handleUpdateInv\">{{ $t('pdtempPdInv.inv_update') }}\r\n          </el-button>\r\n          <el-button v-if=\"!selectedInvBnft.id\" v-auth=\"'pdtemp-pd-inv:add'\" icon=\"el-icon-success\" size=\"small\" dialog-disable=\"disable\"\r\n                     style=\"margin-right: 5px\"\r\n                     type=\"primary\"\r\n                     @click=\"handleAddInv\">{{ $t('pdtempPdInv.inv_add') }}\r\n          </el-button>\r\n\r\n          <el-button icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"primary\" @click=\"clearFormInv\" dialog-disable=\"disable\">\r\n            {{ $t('pdtempPdInv.inv_refresh') }}\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-row>\r\n\r\n      <cus-form-title :label=\"$t('pdtempPdInv.profitRulesFormulaDef')\"></cus-form-title>\r\n      <el-row :gutter=\"100\" class=\"row-bg\" justify=\"space-between\" type=\"flex\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pd_inv_code')\">\r\n            <el-tag type=\"info\">{{ form.form_inv.pdInvCode || form_invAdd.pdInvCode }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"9\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pdInvCalcCode')\">\r\n            <el-input v-model=\"form.form_inv.pdInvCalcCode\" readonly >\r\n              <el-tooltip\r\n                slot=\"suffix\"\r\n                :content=\"invCode?$t('pay_def.message.readonly'):(Object.keys(selectedInvBnft).length===0&&Object.keys(form_invAdd).length===0?$t('pdtempPdInv.message.pleaseSelectInv'):'')\"\r\n                :disabled=\"!invCode&&(Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0)\"\r\n                effect=\"dark\" placement=\"top\">\r\n                <svg-icon\r\n                  :style=\"{cursor:!invCode&&(Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0)?'pointer':'not-allowed'}\"\r\n                  icon-class=\"calc\"\r\n                  style=\"color: #606266;font-size: 18px\"\r\n                  @click=\"!invCode && (Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0) && goClicks(3,32)\"/>\r\n              </el-tooltip>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"9\">\r\n          <el-form-item :label=\"$t('pdtempPdInv.pdSrvlDwCdRuleCode')\">\r\n            <el-input v-model=\"form.form_inv.pdInvDwCdRuleCode\" readonly >\r\n              <el-tooltip\r\n                slot=\"suffix\"\r\n                :content=\"invCode?$t('pay_def.message.readonly'):(Object.keys(selectedInvBnft).length===0&&Object.keys(form_invAdd).length===0?$t('pdtempPdInv.message.pleaseSelectInv'):'')\"\r\n                :disabled=\"!invCode&&(Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0)\"\r\n                effect=\"dark\" placement=\"top\">\r\n                <i\r\n                  :style=\"{cursor:!invCode&&(Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0)?'pointer':'not-allowed'}\"\r\n                  class=\"el-icon-monitor\"\r\n                  style=\"color: #606266;font-size: 18px\"\r\n                  @click=\"!invCode && (Object.keys(selectedInvBnft).length>0||Object.keys(form_invAdd).length>0) && goRules('3','7')\"></i>\r\n              </el-tooltip>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <br/>\r\n      <br/>\r\n      <el-row v-if=\"false\">\r\n        <el-button icon=\"el-icon-monitor\" size=\"small\" type=\"primary\" @click=\"goRules('3',undefined)\">\r\n          收益规则定义\r\n        </el-button>\r\n      </el-row>\r\n      <br/>\r\n    </el-form>\r\n    <!-- 弹窗（规则定义） -->\r\n    <el-dialog v-if=\"dialogRulesShow.invRules\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogRulesShow.invRules\"\r\n               center width=\"80%\" @close=\"changeDialogVisible_invRules(false)\">\r\n      <invRules :calculationFormulaType=\"calculationFormulaType\"\r\n                :global=\"global\" :guaranteeDetails=\"guaranteeDetails\"\r\n                :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                :pdUwSiTypeOptions=\"pdUwSiTypeOptions\" @changeDialogVisible_invRules=\"changeDialogVisible_invRules\"\r\n                @changeDialogVisible_invRulesSelect=\"changeDialogVisible_invRulesSelect\"></invRules>\r\n      <!-- 弹窗（规则选择） -->\r\n      <el-dialog v-if=\"dialogRulesShow.invRulesSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogRulesShow.invRulesSelect\" append-to-body\r\n                 center width=\"70%\" @close=\"changeDialogVisible_invRulesSelect(false)\">\r\n        <invRulesSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                        :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                        @changeDialogVisible_invRulesSelect=\"changeDialogVisible_invRulesSelect\"></invRulesSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n    <!-- 弹窗（公式定义） -->\r\n    <el-dialog v-if=\"dialogShow.invAmountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogShow.invAmountFormula\"\r\n               center width=\"80%\" @close=\"changeDialogVisible_invFormula(false)\">\r\n      <invAmountFormula :calculationFormulaType=\"calculationFormulaType\"\r\n                        :guaranteeDetails=\"guaranteeDetails\"\r\n                        :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                        :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                        @changeDialogVisible_invFormula=\"changeDialogVisible_invFormula\"\r\n                        @changeDialogVisible_invFormulaSelect=\"changeDialogVisible_invFormulaSelect\"></invAmountFormula>\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogShow.invAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogShow.invAmountFormulaSelect\"\r\n                 append-to-body\r\n                 center\r\n                 width=\"70%\"\r\n                 @close=\"changeDialogVisible_invFormulaSelect(false)\">\r\n        <invAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                                :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                                :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                @changeDialogVisible_invFormulaSelect=\"changeDialogVisible_invFormulaSelect\">\r\n        </invAmountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addPdtempPdInv,\r\n  deletePdtempPdInv,\r\n  findInvBypdInvType,\r\n  getProfit,\r\n  updatePdtempPdInv\r\n} from '@/api/basicinfo/pdtemppdinv'\r\nimport {pdtempPdAtrsInfoList, pdtempPdClsLabList} from \"@/api/basicinfo/ProductAttributeDefinition\"\r\nimport invRules from \"@/views/basicinfo/inv-rule/invRules\"\r\nimport invRulesSelect from \"@/views/basicinfo/inv-rule/invRulesSelect\"\r\nimport invAmountFormula from \"@/views/basicinfo/inv-formula/invAmountFormula\"\r\nimport invAmountFormulaSelect from \"@/views/basicinfo/inv-formula/invAmountFormulaSelect\"\r\n\r\nlet _this\r\nexport default {\r\n  name: 'pdtempPdInv',\r\n  filters: {\r\n    filter_pdsbnftdy(code) {\r\n      return _this.getCodeName('pdsbnftdy', code, true)\r\n    },\r\n    filter_pdInvStartDateRule(code) {\r\n      return _this.getCodeName('pdsbnftstartrule', code)\r\n    },\r\n    filter_pdInvStartDateMode(code) {\r\n      return _this.getCodeName('pdsbnftstarttype', code)\r\n    },\r\n    filter_pdInvEndDateRule(code) {\r\n      return _this.getCodeName('pdsbnftendrule', code)\r\n    },\r\n    filter_pdInvEndDateMode(code) {\r\n      return _this.getCodeName('pdsbnftendtype', code)\r\n    },\r\n    filter_pdBonusMode(code) {\r\n      return _this.getCodeName('BonusType', code)\r\n    },\r\n    filter_getpdInvDutyType(code) {\r\n      return _this.getCodeName('pdsbnftdutytype', code)\r\n    },\r\n    filter_getType(code) {\r\n      return _this.getCodeName('pdinvtype', code)\r\n    },\r\n    filter_getWay(code) {\r\n      if (code != null) {\r\n        let getWay = JSON.parse(code)\r\n        return _this.getCodeName('pdsbnftgettype', getWay)\r\n      }\r\n    },\r\n    filter_getFrequency(code) {\r\n      if (code != null) {\r\n        let getFrequency = JSON.parse(code)\r\n        return _this.getCodeName('pdsbnftgettimes', getFrequency)\r\n      }\r\n    },\r\n    filter_getPdBonusDwMode(code) {\r\n      return _this.getCodeName('DividendCollectionType', code)\r\n    }\r\n  },\r\n  props: {\r\n    invCode: {\r\n      required: false,\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      productOriginalList: [],\r\n      productList: [],\r\n      //公式\r\n      tableCount: 0,\r\n      dialogShow: {\r\n        invAmountFormula: false,\r\n        invAmountFormulaSelect: false\r\n      },\r\n      //规则\r\n      global: false,\r\n      guaranteeDetails: '',\r\n      calculationFormulaType: '',\r\n      pdUwSiTypeOptions: '',\r\n      pdUwSiTypeDtOptions: '',\r\n      dialogRulesShow: {\r\n        invRules: false,\r\n        invRulesSelect: false\r\n      },\r\n      //表格数据\r\n      unRelationInvTable: [],\r\n      invTable: [],\r\n      //接受收益表格数据\r\n      pdInvData: [],\r\n      feeTypeFilters: [],\r\n      feeTypeFilters1: [],\r\n      feeTypeFilters2: [],\r\n      // 过滤项\r\n      finelinesRegionFilterInvType: '1$9900$1400',\r\n      finelinesRegionFilterBonus: '',\r\n      finelinesdesignTypeFilter: '',\r\n      finelinesTypeRegionFilter: '',\r\n      //初始化\r\n      invOptions: [],\r\n      showPageFlag: 0,\r\n      showMore: false,\r\n      showBack: false,\r\n      quickshow: false,\r\n      quickicon: 'el-icon-arrow-right',\r\n      //分红方式和领取方式\r\n      pdBonusMode: '',\r\n      pdBonusDwMode: [],\r\n      //查询参数\r\n      params: {\r\n        eq_pdInfoId: undefined,\r\n        finelinesRegion: '',\r\n        product:'',\r\n        firstOpenPageFlag: 'Y'\r\n      },\r\n      profitParams: {\r\n        eq_product: '',\r\n        product: '',\r\n      },\r\n      selectedInv: {},\r\n      selectedInvBnft: {},\r\n      form_invAdd: {},\r\n      form: {  //表单数据与后端实体类对应\r\n        typeRegion: '',\r\n        designType: '',\r\n        form_inv: {\r\n          id: undefined,\r\n          pdVerId: undefined,\r\n          operator: '',\r\n          pdInfoId: '',\r\n          pdCode: '',\r\n          pdInvCode: '',\r\n          pdInvName: '',\r\n          pdInvType: '',\r\n          pdInvReclFlag: 'Y',\r\n          pdInvStartDateRule: '1',\r\n          pdInvStartDateMode: '0',\r\n          pdInvStartPeriod: '',\r\n          pdInvStartPeriodUnit: 'Y',\r\n          pdInvEndDateRule: '1',\r\n          pdInvEndDateMode: '0',\r\n          pdInvEndPeriod: '',\r\n          pdInvEndPeriodUnit: 'Y',\r\n          pdInvGuarPeriod: '',\r\n          pdInvGuarPeriodUnit: 'Y',\r\n          pdInvCalcCode: '',\r\n          pdInvDwCdRuleCode: '',\r\n          pdInvRuleCode: ''\r\n        },\r\n        form_atrsinfo_f: {\r\n          /*产品定义-产品属性信息表  pdtemp_pd_atrs_info*/\r\n          pdatrscode: 'pdsbnftgettype', pdatrsname: '领取方式', pdatrsval: ['1'], pdverid: '', pdinfoid: '', pdcode: '',\r\n          pdtype: '1', /* 1-产品 2-产品计划 */\r\n          pdasclevel: 'Inve', pdasclevelcode: '', pdatrstype: '1',\r\n        },\r\n        form_atrsinfo_p: {\r\n          pdatrscode: 'pdsbnftgettimes', pdatrsname: '领取频率', pdatrsval: [], pdverid: '', pdinfoid: '', pdcode: '',\r\n          pdtype: '1', pdasclevel: 'Inve', pdasclevelcode: '', pdatrstype: '1',\r\n        }\r\n      },\r\n      pageFlag: {\r\n        amountFlag: false,\r\n        delButtonShow: false,\r\n        bonusMode: true\r\n      },\r\n      //检验规则\r\n      rules: {\r\n        'form_inv.pdInvName': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_input') + this.$t('pdtempPdInv.pd_inv_name'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvCalcCode': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_input') + this.$t('pdtempPdInv.pdInvCalcCode'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvType': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.pd_inv_type'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvStartDateRule': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.pd_inv_start_date_rule'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvStartDateMode': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.pd_inv_start_date_mode'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvEndDateRule': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.pd_inv_end_date_rule'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_inv.pdInvEndDateMode': [{\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.pd_inv_end_date_mode'),\r\n          trigger: 'change'\r\n        }],\r\n        'form_atrsinfo_f.pdatrsval': [{\r\n          type: 'array',\r\n          required: true,\r\n          message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.get_way'),\r\n          trigger: 'change'\r\n        }],\r\n        // 'form_atrsinfo_p.pdatrsval': [{\r\n        //   type: 'array',\r\n        //   required: true,\r\n        //   message: this.$t('pdtempPdInv.message.please_check') + this.$t('pdtempPdInv.get_frequency'),\r\n        //   trigger: 'change'\r\n        // }],\r\n      },\r\n      productrules: {\r\n        product: {required: true, message: '请选择参考产品', trigger: 'blur'},\r\n        finelinesRegion:{required: true, message: '请选择产品细类', trigger: 'blur'}\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {\r\n    invRules,\r\n    invRulesSelect,\r\n    invAmountFormula,\r\n    invAmountFormulaSelect,\r\n  },\r\n  created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    this.initProductQueryData();\r\n    this.linkTable()\r\n    this.findTypeRegion()\r\n    this.getProfit()\r\n    this.findDesignType()\r\n    this.findPdBonusMode()\r\n    this.findPdBonusDwMode()\r\n\r\n    this.$nextTick(() => {\r\n      this.$refs[\"form\"].clearValidate()\r\n    })\r\n  },\r\n  mounted() {\r\n  },\r\n  watch: {\r\n    'form.form_inv.pdInvStartPeriod'() {\r\n      if (this.form.form_inv.pdInvStartPeriod) {\r\n        if (!this.form.form_inv.pdInvStartPeriodUnit) {\r\n          this.form.form_inv.pdInvStartPeriodUnit = 'Y'\r\n        }\r\n      }\r\n    },\r\n    'form.form_inv.pdInvEndPeriod'() {\r\n      if (this.form.form_inv.pdInvEndPeriod) {\r\n        if (!this.form.form_inv.pdInvEndPeriodUnit) {\r\n          this.form.form_inv.pdInvEndPeriodUnit = 'Y'\r\n        }\r\n      }\r\n    },\r\n    'form.form_inv.pdInvGuarPeriod'() {\r\n      if (this.form.form_inv.pdInvGuarPeriod) {\r\n        if (!this.form.form_inv.pdInvGuarPeriodUnit) {\r\n          this.form.form_inv.pdInvGuarPeriodUnit = 'Y'\r\n        }\r\n      }\r\n    },\r\n    'unRelationInvTable'() {\r\n      if (this.unRelationInvTable.length > 0) {\r\n        this.feeTypeFilters1 = [];\r\n        this.unRelationInvTable.forEach(val => {\r\n          this.feeTypeFilters1.push({\r\n            text: this.getCodeName('pdinvtype', val.pdInvType),\r\n            value: val.pdInvType\r\n          });\r\n        });\r\n        this.feeTypeFilters1 = this.feeTypeFilters1.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n      }\r\n\r\n      if (this.unRelationInvTable.length > 0) {\r\n        this.feeTypeFilters2 = [];\r\n        this.unRelationInvTable.forEach(val => {\r\n          this.feeTypeFilters2.push({\r\n            text: val.pdInvCode,\r\n            value: val.pdInvCode\r\n          });\r\n        });\r\n        this.feeTypeFilters2 = this.feeTypeFilters2.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n      }\r\n    },\r\n    'invTable'() {\r\n        if (this.invTable.length > 0) {\r\n          this.feeTypeFilters = [];\r\n          this.invTable.forEach(val => {\r\n            this.feeTypeFilters.push({\r\n              text: this.getCodeName('pdinvtype', val.pdInvType),\r\n              value: val.pdInvType\r\n            });\r\n          });\r\n          this.feeTypeFilters = this.feeTypeFilters.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    changeAmountFlag(val){\r\n      let pdInvType = val;\r\n      if (this.form.designType == '1' && pdInvType == '1' || pdInvType == '2' || pdInvType == '3') {\r\n        this.pageFlag.amountFlag = true\r\n        this.$nextTick(() => {\r\n          this.$refs[\"form\"].clearValidate()\r\n        })\r\n      } else {\r\n        this.pageFlag.amountFlag = false\r\n      }\r\n\r\n      this.changeBonusFilter();\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row[property] === value;\r\n      }\r\n    },\r\n    //公式\r\n    goClicks(num1, num2) {\r\n      this.guaranteeDetails = String(num1) //业务大类\r\n      this.calculationFormulaType = String(num2) //业务细类\r\n      this.pdUwSiTypeOptions = this.form.form_inv.id ? this.form.form_inv.pdInvCode : this.form_invAdd.pdInvCode\r\n      this.pdUwSiTypeDtOptions = this.form.form_inv.id ? this.form.form_inv.pdInvType : this.form_invAdd.pdInvType\r\n      this.dialogShow.invAmountFormula = true\r\n    },\r\n    changeDialogVisible_invFormula(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.form.form_inv.pdInvCode\r\n      } else {\r\n        this.selectedInvBnft = {}\r\n        let pdInvCode = String(this.form.form_inv.pdInvCode)\r\n        let showBack = Boolean(this.showBack)\r\n        if (pdInvCode) {\r\n          this.getProfit().then(() => {\r\n            if (this.pdInvData.length > 10 && showBack === true) {\r\n              for (let i = 0; i < 10; i++) {\r\n                this.$set(this.invTable, i, this.pdInvData[i])\r\n              }\r\n            }\r\n            for (const inv of this.invTable) {\r\n              if (inv.pdInvCode === pdInvCode) {\r\n                this.selectedInvBnft = inv\r\n                this.selectedInvBnftChanged()\r\n                break\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n      this.dialogShow.invAmountFormula = flag\r\n    },\r\n    changeDialogVisible_invFormulaSelect(flag, guaranteeDetails, calculationFormulaType, type, inv) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = inv\r\n        this.pdUwSiTypeDtOptions = type\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.invAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.invAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.invAmountFormulaSelect = flag\r\n    },\r\n    //规则\r\n    goRules(num1, num2) {\r\n      this.global = !num2\r\n      this.guaranteeDetails = num1//业务大类\r\n      this.calculationFormulaType = num2//业务细类\r\n      this.pdUwSiTypeOptions = this.form.form_inv.id ? this.form.form_inv.pdInvCode : this.form_invAdd.pdInvCode\r\n      this.pdUwSiTypeDtOptions = this.form.form_inv.id ? this.form.form_inv.pdInvType : this.form_invAdd.pdInvType\r\n      this.dialogRulesShow.invRules = true\r\n    },\r\n    changeDialogVisible_invRules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.form.form_inv.pdInvCode\r\n      } else {\r\n        let pdInvCode = String(this.form.form_inv.pdInvCode)\r\n        let showBack = Boolean(this.showBack)\r\n        if (pdInvCode) {\r\n          this.getProfit().then(() => {\r\n            if (this.pdInvData.length > 10 && showBack === true) {\r\n              for (let i = 0; i < 10; i++) {\r\n                this.$set(this.invTable, i, this.pdInvData[i])\r\n              }\r\n            }\r\n            for (const inv of this.invTable) {\r\n              if (inv.pdInvCode === pdInvCode) {\r\n                this.selectedInvBnft = inv\r\n                this.selectedInvBnftChanged()\r\n                break\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n      this.dialogRulesShow.invRules = flag\r\n    },\r\n    changeDialogVisible_invRulesSelect(flag, guaranteeDetails, calculationFormulaType, type, inv) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = inv\r\n        this.pdUwSiTypeDtOptions = type\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else if (flag === false) {\r\n        this.dialogRulesShow.invRules = false\r\n        this.$nextTick(() => {\r\n          this.dialogRulesShow.invRules = true\r\n        })\r\n      }\r\n      this.dialogRulesShow.invRulesSelect = flag\r\n    },\r\n    getProfit() {\r\n      return new Promise(resolve => {\r\n        let data = {\r\n          page: null,\r\n          params: {\r\n            eq_pdInfoId: this.params.eq_pdInfoId\r\n          },\r\n          limit: null\r\n        }\r\n        getProfit(data).then(res => {\r\n          this.pdInvData = res.data.records\r\n          this.invTable = []\r\n          if (this.pdInvData.length > 10) {\r\n            this.showMore = true\r\n            this.showBack = false\r\n            for (let i = 0; i < 10; i++) {\r\n              this.$set(this.invTable, i, this.pdInvData[i])\r\n            }\r\n          } else {\r\n            this.showMore = false\r\n            this.showBack = false\r\n            for (let i = 0; i < this.pdInvData.length; i++) {\r\n              this.$set(this.invTable, i, this.pdInvData[i])\r\n            }\r\n          }\r\n          // 带入需要显示的收益信息\r\n          if (!!this.invCode) {\r\n            let flag = false\r\n            for (const inv of this.pdInvData) {\r\n              if (inv.pdInvCode === this.invCode) {\r\n                flag = true\r\n                this.selectedInvBnft = inv\r\n                this.selectedInvBnftChanged()\r\n                break\r\n              }\r\n            }\r\n            if (false === flag) {\r\n              this.notifyError('未找到匹配的收益信息')\r\n            }\r\n          }\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    isShowMore() {\r\n      this.showMore = false\r\n      this.showBack = true\r\n      this.invTable = []\r\n      for (let i = 0; i < this.pdInvData.length; i++) {\r\n        this.$set(this.invTable, i, this.pdInvData[i])\r\n      }\r\n    },\r\n    isShowBack() {\r\n      this.showMore = true\r\n      this.showBack = false\r\n      this.invTable = []\r\n      for (let i = 0; i < 10; i++) {\r\n        this.$set(this.invTable, i, this.pdInvData[i])\r\n      }\r\n    },\r\n    //快捷定义\r\n    isShowQuick() {\r\n      if (!this.quickshow) {\r\n        this.quickicon = 'el-icon-arrow-down'\r\n      } else {\r\n        this.quickicon = 'el-icon-arrow-right'\r\n      }\r\n      return this.quickshow = !this.quickshow\r\n    },\r\n    //搜索按钮\r\n    handleSearchInCurrentProduct() {\r\n      this.$refs.profitParams.validate((valid) => {\r\n        if (valid) {\r\n          this.params.firstOpenPageFlag = 'N'\r\n          this.$refs.page.reload()\r\n        }\r\n      })\r\n    },\r\n    //查找产品分红方式\r\n    findPdBonusMode() {\r\n      pdtempPdClsLabList(this.params.eq_pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType === '1') {\r\n            this.form.pdBonusMode = response.data[i].pdCls10\r\n          }\r\n        }\r\n      })\r\n    },\r\n    changeBonusFilter(){\r\n      let val = this.form.pdBonusMode\r\n      console.log('bonusMode:'+val)\r\n      if (val == '1') {\r\n        this.finelinesRegionFilterBonus = '1$5'\r\n        this.$nextTick(() => {\r\n          this.form.pdBonusDwMode = ['5']\r\n        })\r\n      } else if (val == '2') {\r\n        this.finelinesRegionFilterBonus = '1$1$2$3$4'\r\n        let pdBonusDwMode = this.form.pdBonusDwMode\r\n\r\n        if (pdBonusDwMode.length > 0) {\r\n          this.$nextTick(() => {\r\n            this.form.pdBonusDwMode = pdBonusDwMode\r\n          })\r\n        }\r\n      } else {\r\n        this.finelinesRegionFilterBonus = ''\r\n      }\r\n    },\r\n    //查找产品分红领取方式\r\n    findPdBonusDwMode() {\r\n      pdtempPdAtrsInfoList(this.params.eq_pdInfoId).then(response => {\r\n        this.form.pdBonusDwMode = []\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdAtrsCode === 'DividendCollection') {\r\n            this.form.pdBonusDwMode.push(\r\n              response.data[i].pdAtrsVal,\r\n            )\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //查找产品设计类型\r\n    findDesignType() {\r\n      pdtempPdClsLabList(this.params.eq_pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType === '1') {\r\n            this.form.designType = response.data[i].pdCls4\r\n\r\n            let val = this.form.designType\r\n            if (val != '1') {\r\n              this.finelinesdesignTypeFilter = \"1$4$5$6$7$8$9\"\r\n              this.pageFlag.amountFlag = false\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //查找产品类型\r\n    findTypeRegion() {\r\n      pdtempPdClsLabList(this.params.eq_pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType === '1') {\r\n            this.form.typeRegion = response.data[i].pdCls1\r\n            let val = this.form.typeRegion\r\n            if (val === \"L\") {\r\n              this.finelinesTypeRegionFilter = \"1$L\"\r\n            } else if (val === \"R\") {\r\n              this.finelinesTypeRegionFilter = \"1$R\"\r\n            } else if (val === \"H\") {\r\n              this.finelinesTypeRegionFilter = \"1$H\"\r\n            } else if (val === \"A\") {\r\n              this.finelinesTypeRegionFilter = \"1$A\"\r\n            } else {\r\n              this.finelinesTypeRegionFilter = \"\"\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //产品信息\r\n    findReferenceProducts(val) {\r\n      this.params.eq_pdInfoId = ''\r\n      val === '' ? this.initProductQueryData() : this.filterProductByCategory(this, val)\r\n    },\r\n    initProductQueryData() {\r\n      this.filterProductByNode(this, '1')\r\n    },\r\n    //收益信息\r\n    findInv(val) {\r\n      let paramsinv = {\r\n        productId: this.profitParams.product,\r\n        pdInvType: val\r\n      }\r\n      findInvBypdInvType(paramsinv).then(res => {\r\n        this.invOptions = []\r\n        res.data.forEach(inv => {\r\n          this.invOptions.push({\r\n            value: inv.id,\r\n            label: inv.pdInvCode + ':' + inv.pdInvName\r\n          })\r\n        })\r\n      })\r\n    },\r\n    /*收益起期-止期关联*/\r\n    changeRuleSE(startCode) {\r\n      if (startCode === '1' || startCode === '2' || startCode === '3') {\r\n        this.form.form_inv.pdInvEndDateRule = startCode\r\n      } else if (startCode === '4' || startCode === '5' || startCode === '6') {\r\n        this.form.form_inv.pdInvEndDateRule = '3'\r\n      } else {\r\n        this.form.form_inv.pdInvEndDateRule = ''\r\n      }\r\n    },\r\n    //关联表初始化值\r\n    linkTable() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      //页面传值给关联表赋值\r\n      this.params.eq_pdInfoId = pdtempPdInfo.id\r\n      this.form.form_inv.pdInfoId = pdtempPdInfo.id\r\n      this.form.form_inv.pdCode = pdtempPdInfo.pdCode\r\n      this.form.form_inv.pdVerId = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_f.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_p.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_f.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_p.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_f.pdcode = pdtempPdInfo.pdCode\r\n      this.form.form_atrsinfo_p.pdcode = pdtempPdInfo.pdCode\r\n      this.profitParams.eq_product = this.getPdData().cType\r\n    },\r\n    //复制收益\r\n    copyInv(row) {\r\n      let pdtempPdInfo = this.getPdData()\r\n      this.form.form_inv.pdInfoId = pdtempPdInfo.id\r\n      this.form.form_inv.pdCode = pdtempPdInfo.pdCode\r\n      this.form.form_inv.pdVerId = pdtempPdInfo.pdVerId\r\n      this.form.form_inv.pdInvName = row.pdInvName\r\n      /*收益名称*/\r\n      this.form.form_inv.pdInvType = row.pdInvType\r\n      /*收益类型*/\r\n      // this.form.form_inv.pdInvDutyType = row.pdInvDutyType//人身险责任类型\r\n      //复选框数据\r\n      this.form.form_atrsinfo_f.pdatrsval = JSON.parse(row.getWay)\r\n      /*领取方式*/\r\n      this.form.form_atrsinfo_p.pdatrsval = JSON.parse(row.getFrequency)\r\n      /*领取频率*/\r\n      this.form.form_inv.pdInvGuarPeriod = row.pdInvGuarPeriod\r\n      /*保证收益期间*/\r\n      this.form.form_inv.pdInvGuarPeriodUnit = row.pdInvGuarPeriodUnit\r\n      /*保证收益期间单位*/\r\n      /*     this.form.form_inv.pdInvReclFlag = row.pdInvReclFlag\r\n           /!*领取时重新计算*!/*/\r\n      this.form.form_inv.pdInvStartDateRule = row.pdInvStartDateRule\r\n      /*收益起期计算规则*/\r\n      this.form.form_inv.pdInvStartDateMode = row.pdInvStartDateMode\r\n      /*收益起期计算方式*/\r\n      this.form.form_inv.pdInvStartPeriod = row.pdInvStartPeriod\r\n      /*收益起期*/\r\n      this.form.form_inv.pdInvStartPeriodUnit = row.pdInvStartPeriodUnit\r\n      /*收益起期单位*/\r\n      this.form.form_inv.pdInvEndDateRule = row.pdInvEndDateRule\r\n      /*收益止期计算规则*/\r\n      this.form.form_inv.pdInvEndDateMode = row.pdInvEndDateMode\r\n      /*收益止期计算方式*/\r\n      this.form.form_inv.pdInvEndPeriod = row.pdInvEndPeriod\r\n      /*收益止期*/\r\n      this.form.form_inv.pdInvEndPeriodUnit = row.pdInvEndPeriodUnit\r\n      /*收益止期单位*/\r\n      this.form.form_inv.pdInvCalcCode = row.pdInvCalcCode\r\n      /*收益计算公式*/\r\n      this.form.form_atrsinfo_f.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_p.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_f.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_p.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_f.pdcode = pdtempPdInfo.pdCode\r\n      this.form.form_atrsinfo_p.pdcode = pdtempPdInfo.pdCode\r\n      let pdInvType = this.form.form_inv.pdInvType\r\n      if (this.form.designType !== '1' && (pdInvType === '1' || pdInvType === '2' || pdInvType === '3')) {\r\n        this.messageError(this.$t('pdtempPdInv.message.inv_product_warning'))\r\n        this.clearFormInv()\r\n        return\r\n      }\r\n      if (pdInvType !== '1' && pdInvType !== '2' && pdInvType !== '3') {\r\n        this.pageFlag.amountFlag = false\r\n      }\r\n      addPdtempPdInv(this.form).then(() => {\r\n        this.pageFlag.amountFlag = true\r\n        /*产品定义-产品属性信息表  pdtemp_pd_atrs_info*/\r\n        this.clearFormInv()\r\n        this.$refs.page.reload()\r\n        this.getProfit()\r\n        this.findPdBonusMode()\r\n        this.findPdBonusDwMode()\r\n        this.notifySuccess(this.$t('successMessage.add'))\r\n      })\r\n    },\r\n    likeInv() {\r\n      this.selectedInvChanged()\r\n      let pdInvType = this.form.form_inv.pdInvType\r\n      if (this.form.designType !== '1' && (pdInvType === '1' || pdInvType === '2' || pdInvType === '3')) {\r\n        this.messageError(this.$t('pdtempPdInv.message.inv_product_warning'))\r\n        this.clearFormInv()\r\n        return\r\n      }\r\n      if (pdInvType !== '1' && pdInvType !== '2' && pdInvType !== '3') {\r\n        this.pageFlag.amountFlag = false\r\n      }\r\n    },\r\n    selectedInvChanged() {\r\n      this.selectedInvBnft = ''\r\n      this.resetFormInv()\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form\"].clearValidate()\r\n      })\r\n      //获取当前产品信息\r\n      let pdtempPdInfo = this.getPdData()\r\n      let row = Object.assign({}, this.selectedInv)\r\n      this.form.form_inv.pdInfoId = pdtempPdInfo.id\r\n      this.form.form_inv.pdCode = pdtempPdInfo.pdCode\r\n      this.form.form_inv.pdVerId = pdtempPdInfo.pdVerId\r\n      this.form.form_inv.pdInvName = row.pdInvName\r\n      /*收益名称*/\r\n      this.form.form_inv.pdInvType = row.pdInvType\r\n      /*收益类型*/\r\n      // this.form.form_inv.pdInvDutyType = row.pdInvDutyType//人身险责任类型\r\n      //复选框数据\r\n      this.form.form_atrsinfo_f.pdatrsval = JSON.parse(row.getWay)\r\n      /*领取方式*/\r\n      this.form.form_atrsinfo_p.pdatrsval = JSON.parse(row.getFrequency)\r\n      /*领取频率*/\r\n      this.form.form_inv.pdInvGuarPeriod = row.pdInvGuarPeriod\r\n      /*保证收益期间*/\r\n      this.form.form_inv.pdInvGuarPeriodUnit = row.pdInvGuarPeriodUnit\r\n      /*保证收益期间单位*/\r\n      /*      this.form.form_inv.pdInvReclFlag = row.pdInvReclFlag\r\n            /!*领取时重新计算*!/*/\r\n      this.form.form_inv.pdInvStartDateRule = row.pdInvStartDateRule\r\n      /*收益起期计算规则*/\r\n      this.form.form_inv.pdInvStartDateMode = row.pdInvStartDateMode\r\n      /*收益起期计算方式*/\r\n      this.form.form_inv.pdInvStartPeriod = row.pdInvStartPeriod\r\n      /*收益起期*/\r\n      this.form.form_inv.pdInvStartPeriodUnit = row.pdInvStartPeriodUnit\r\n      /*收益起期单位*/\r\n      this.form.form_inv.pdInvEndDateRule = row.pdInvEndDateRule\r\n      /*收益止期计算规则*/\r\n      this.form.form_inv.pdInvEndDateMode = row.pdInvEndDateMode\r\n      /*收益止期计算方式*/\r\n      this.form.form_inv.pdInvEndPeriod = row.pdInvEndPeriod\r\n      /*收益止期*/\r\n      this.form.form_inv.pdInvEndPeriodUnit = row.pdInvEndPeriodUnit\r\n      /*收益止期单位*/\r\n      this.form.form_inv.pdInvCalcCode = row.pdInvCalcCode\r\n      /*收益计算公式*/\r\n      this.form.form_atrsinfo_f.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_p.pdinfoid = pdtempPdInfo.id\r\n      this.form.form_atrsinfo_f.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_p.pdverid = pdtempPdInfo.pdVerId\r\n      this.form.form_atrsinfo_f.pdcode = pdtempPdInfo.pdCode\r\n      this.form.form_atrsinfo_p.pdcode = pdtempPdInfo.pdCode\r\n    },\r\n    rowClick_inv(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        this.pageFlag.delButtonShow = false\r\n        this.selectedInvBnft = ''\r\n        this.resetFormInv()\r\n        if (row.id === this.selectedInv.id) {\r\n          this.clearFormInv()\r\n        }\r\n      }\r\n    },\r\n    //关联收益选中数据回显\r\n    selectedInvBnftChanged() {\r\n      this.selectedInv = ''\r\n      this.resetFormInv()\r\n      this.pageFlag.delButtonShow = true\r\n      this.form.form_inv.pdInvDwCdRuleCode = this.selectedInvBnft.pdInvDwCdRuleCode\r\n      this.form.form_inv.pdInvRuleCode = this.selectedInvBnft.pdInvRuleCode\r\n      this.form.form_inv.id = this.selectedInvBnft.id\r\n      this.form.form_inv.pdInfoId = this.selectedInvBnft.pdInfoId\r\n      this.form.form_inv.pdCode = this.selectedInvBnft.pdCode\r\n      this.form.form_inv.pdVerId = this.selectedInvBnft.pdVerId\r\n      this.form.form_inv.pdInvCode = this.selectedInvBnft.pdInvCode\r\n      /*收益编码*/\r\n      this.form.form_inv.pdInvName = this.selectedInvBnft.pdInvName\r\n      /*收益名称*/\r\n      this.form.form_inv.pdInvType = this.selectedInvBnft.pdInvType\r\n      /*收益类型*/\r\n      // this.form.form_inv.pdInvDutyType = row.pdInvDutyType//人身险责任类型\r\n      //复选框数据\r\n      if (this.selectedInvBnft.getWay) this.form.form_atrsinfo_f.pdatrsval = JSON.parse(this.selectedInvBnft.getWay)\r\n      /*领取方式*/\r\n      if (this.selectedInvBnft.getFrequency) this.form.form_atrsinfo_p.pdatrsval = JSON.parse(this.selectedInvBnft.getFrequency)\r\n      /*领取频率*/\r\n      this.form.form_inv.pdInvGuarPeriod = this.selectedInvBnft.pdInvGuarPeriod\r\n      /*保证收益期间*/\r\n      this.form.form_inv.pdInvGuarPeriodUnit = this.selectedInvBnft.pdInvGuarPeriodUnit\r\n      /*保证收益期间单位*/\r\n      /*      this.form.form_inv.pdInvReclFlag = this.selectedInvBnft.pdInvReclFlag\r\n            /!*领取时重新计算*!/*/\r\n      this.form.form_inv.pdInvStartDateRule = this.selectedInvBnft.pdInvStartDateRule\r\n      /*收益起期计算规则*/\r\n      this.form.form_inv.pdInvStartDateMode = this.selectedInvBnft.pdInvStartDateMode\r\n      /*收益起期计算方式*/\r\n      this.form.form_inv.pdInvStartPeriod = this.selectedInvBnft.pdInvStartPeriod\r\n      /*收益起期*/\r\n      this.form.form_inv.pdInvStartPeriodUnit = this.selectedInvBnft.pdInvStartPeriodUnit\r\n      /*收益起期单位*/\r\n      this.form.form_inv.pdInvEndDateRule = this.selectedInvBnft.pdInvEndDateRule\r\n      /*收益止期计算规则*/\r\n      this.form.form_inv.pdInvEndDateMode = this.selectedInvBnft.pdInvEndDateMode\r\n      /*收益止期计算方式*/\r\n      this.form.form_inv.pdInvEndPeriod = this.selectedInvBnft.pdInvEndPeriod\r\n      /*收益止期*/\r\n      this.form.form_inv.pdInvEndPeriodUnit = this.selectedInvBnft.pdInvEndPeriodUnit\r\n      /*收益止期单位*/\r\n      this.form.form_inv.pdInvCalcCode = this.selectedInvBnft.pdInvCalcCode\r\n      /*收益计算公式*/\r\n      this.form.form_atrsinfo_f.pdinfoid = this.selectedInvBnft.pdInfoId\r\n      this.form.form_atrsinfo_p.pdinfoid = this.selectedInvBnft.pdInfoId\r\n      this.form.form_atrsinfo_f.pdverid = this.selectedInvBnft.pdVerId\r\n      this.form.form_atrsinfo_p.pdverid = this.selectedInvBnft.pdVerId\r\n      this.form.form_atrsinfo_f.pdcode = this.selectedInvBnft.pdCode\r\n      this.form.form_atrsinfo_p.pdcode = this.selectedInvBnft.pdCode\r\n      this.form.form_atrsinfo_p.pdasclevelcode = this.selectedInvBnft.pdInvCode\r\n      /*收益编码*/\r\n      this.form.form_atrsinfo_f.pdasclevelcode = this.selectedInvBnft.pdInvCode\r\n\r\n      this.changeAmountFlag(this.form.form_inv.pdInvType);\r\n      this.$nextTick(() => {\r\n        this.$refs.form.clearValidate()\r\n      })\r\n    },\r\n    rowClick_invbnft(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        this.pageFlag.delButtonShow = true\r\n        if (row.id === this.selectedInvBnft.id) {\r\n          this.resetFormInv()\r\n          this.$nextTick(() => {\r\n            this.$refs[\"form\"].clearValidate()\r\n          })\r\n          this.selectedInv = ''\r\n          this.selectedInvBnft = ''\r\n          this.pageFlag.delButtonShow = false\r\n        }\r\n      }\r\n    },\r\n    //更新方法\r\n    handleUpdateInv() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          var rowId = this.form.form_inv.id\r\n          let pdInvType = this.form.form_inv.pdInvType\r\n          if (pdInvType !== '1' && pdInvType !== '2' && pdInvType !== '3') {\r\n            this.pageFlag.amountFlag = false\r\n          }\r\n          updatePdtempPdInv(this.form).then(() => {\r\n            this.resetFormInv()\r\n            this.$refs.page.buildData().then(() => {\r\n              this.$nextTick(() => {\r\n                this.selectedRow(rowId);\r\n              })\r\n            })\r\n            this.getProfit()\r\n            this.findPdBonusMode()\r\n            this.findPdBonusDwMode()\r\n            this.$emit('childFn', true)\r\n            this.notifySuccess(this.$t('successMessage.update'))\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //选中修改项\r\n    selectedRow(id) {\r\n      this.$refs.page.buildData().then(() => {\r\n        if (id) {\r\n          var idRow = id;\r\n          let num = 0;\r\n          for (num = 0; num < this.invTable.length; num++) {\r\n            if (this.invTable[num].id === idRow) {\r\n              this.$refs.invTable.setCurrentRow(this.invTable[num])\r\n              this.selectedInvBnft = this.invTable[num]\r\n              this.selectedInvBnftChanged()\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          this.$refs.invTable.setCurrentRow(this.invTable[0])\r\n          this.selectedInvBnft = this.invTable[0]\r\n          this.selectedInvBnftChanged()\r\n        }\r\n      })\r\n    },\r\n\r\n    //新增方法\r\n    handleAddInv() {\r\n      this.linkTable()\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          let pdInvType = this.form.form_inv.pdInvType\r\n          if (pdInvType !== '1' && pdInvType !== '2' && pdInvType !== '3') {\r\n            this.pageFlag.amountFlag = false\r\n          }\r\n          addPdtempPdInv(this.form).then(response => {\r\n            this.form_invAdd = response.data\r\n            /*产品定义-产品属性信息表  pdtemp_pd_atrs_info*/\r\n            this.clearFormInv()\r\n            this.$refs.page.buildData().then(() => {\r\n              this.$nextTick(() => {\r\n                this.selectedRow();\r\n              })\r\n            })\r\n            this.getProfit()\r\n            this.findPdBonusMode()\r\n            this.findPdBonusDwMode()\r\n            this.$emit('childFn', true)\r\n            this.notifySuccess(this.$t('successMessage.add'))\r\n          })\r\n          this.tableCount++;\r\n\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    //删除方法\r\n    handleDeleteInv() {\r\n      if (this.selectedInvBnft.id > 0) {\r\n        deletePdtempPdInv(this.selectedInvBnft.id).then(() => {\r\n          if (this.selectedInvBnft.id === this.form_invAdd.id) {\r\n            this.form_invAdd = {}\r\n          }\r\n          this.$refs.page.buildData().then(() => {\r\n            this.clearFormInv1()\r\n          })\r\n          this.getProfit()\r\n          this.notifySuccess(this.$t('successMessage.delete'))\r\n        })\r\n      } else {\r\n        this.messageError(this.$t('pdtempPdInv.message.delete_warning'))\r\n      }\r\n    },\r\n    clearFormInv1() {\r\n      this.pageFlag.delButtonShow = false\r\n      this.resetFormInv()\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form\"].clearValidate()\r\n      })\r\n      this.selectedInv = ''\r\n      this.selectedInvBnft = ''\r\n    },\r\n    // 清空收益定义表单\r\n    clearFormInv() {\r\n      if (this.selectedInvBnft != null && this.selectedInvBnft != '' && this.selectedInvBnft != undefined) {\r\n        var row = this.selectedInvBnft;\r\n        this.selectedInv = ''\r\n        this.resetFormInv()\r\n        this.pageFlag.delButtonShow = true\r\n        this.form.form_inv.pdInvDwCdRuleCode = row.pdInvDwCdRuleCode\r\n        this.form.form_inv.pdInvRuleCode = row.pdInvRuleCode\r\n        this.form.form_inv.id = row.id\r\n        this.form.form_inv.pdInfoId = row.pdInfoId\r\n        this.form.form_inv.pdCode = row.pdCode\r\n        this.form.form_inv.pdVerId = row.pdVerId\r\n        this.form.form_inv.pdInvCode = row.pdInvCode\r\n        /*收益编码*/\r\n        this.form.form_inv.pdInvName = row.pdInvName\r\n        /*收益名称*/\r\n        this.form.form_inv.pdInvType = row.pdInvType\r\n        /*收益类型*/\r\n        // this.form.form_inv.pdInvDutyType = row.pdInvDutyType//人身险责任类型\r\n        //复选框数据\r\n        if (row.getWay) this.form.form_atrsinfo_f.pdatrsval = JSON.parse(row.getWay)\r\n        /*领取方式*/\r\n        if (row.getFrequency) this.form.form_atrsinfo_p.pdatrsval = JSON.parse(row.getFrequency)\r\n        /*领取频率*/\r\n        this.form.form_inv.pdInvGuarPeriod = row.pdInvGuarPeriod\r\n        /*保证收益期间*/\r\n        this.form.form_inv.pdInvGuarPeriodUnit = row.pdInvGuarPeriodUnit\r\n        /*保证收益期间单位*/\r\n        /*            this.form.form_inv.pdInvReclFlag = row.pdInvReclFlag\r\n                    /!*领取时重新计算*!/*/\r\n        this.form.form_inv.pdInvStartDateRule = row.pdInvStartDateRule\r\n        /*收益起期计算规则*/\r\n        this.form.form_inv.pdInvStartDateMode = row.pdInvStartDateMode\r\n        /*收益起期计算方式*/\r\n        this.form.form_inv.pdInvStartPeriod = row.pdInvStartPeriod\r\n        /*收益起期*/\r\n        this.form.form_inv.pdInvStartPeriodUnit = row.pdInvStartPeriodUnit\r\n        /*收益起期单位*/\r\n        this.form.form_inv.pdInvEndDateRule = row.pdInvEndDateRule\r\n        /*收益止期计算规则*/\r\n        this.form.form_inv.pdInvEndDateMode = row.pdInvEndDateMode\r\n        /*收益止期计算方式*/\r\n        this.form.form_inv.pdInvEndPeriod = row.pdInvEndPeriod\r\n        /*收益止期*/\r\n        this.form.form_inv.pdInvEndPeriodUnit = row.pdInvEndPeriodUnit\r\n        /*收益止期单位*/\r\n        this.form.form_inv.pdInvCalcCode = row.pdInvCalcCode\r\n        /*收益计算公式*/\r\n        this.form.form_atrsinfo_f.pdinfoid = row.pdInfoId\r\n        this.form.form_atrsinfo_p.pdinfoid = row.pdInfoId\r\n        this.form.form_atrsinfo_f.pdverid = row.pdVerId\r\n        this.form.form_atrsinfo_p.pdverid = row.pdVerId\r\n        this.form.form_atrsinfo_f.pdcode = row.pdCode\r\n        this.form.form_atrsinfo_p.pdcode = row.pdCode\r\n        this.form.form_atrsinfo_p.pdasclevelcode = row.pdInvCode\r\n        /*收益编码*/\r\n        this.form.form_atrsinfo_f.pdasclevelcode = row.pdInvCode\r\n        this.$nextTick(() => {\r\n          this.$refs.form.clearValidate()\r\n        })\r\n      } else {\r\n        this.resetFormInv()\r\n        this.$nextTick(() => {\r\n          this.$refs[\"form\"].clearValidate()\r\n        })\r\n        this.selectedInv = ''\r\n        this.selectedInvBnft = ''\r\n      }\r\n\r\n    },\r\n    // 重置收益对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormInv() {\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form\"].clearValidate()\r\n      })\r\n      this.form.form_inv = {\r\n        pdInvCode: '',\r\n        pdInvName: '',\r\n        pdInvType: '',\r\n        pdInvReclFlag: 'Y',\r\n        pdBonusMode: this.form.form_inv.pdBonusMode,\r\n        pdBonusDwMode: this.form.form_inv.pdBonusDwMode,\r\n        pdInvStartDateRule: '1',\r\n        pdInvStartDateMode: '0',\r\n        pdInvStartPeriod: '',\r\n        pdInvStartPeriodUnit: 'Y',\r\n        pdInvEndDateRule: '1',\r\n        pdInvEndDateMode: '0',\r\n        pdInvEndPeriod: '',\r\n        pdInvEndPeriodUnit: 'Y',\r\n        pdInvGuarPeriod: '',\r\n        pdInvGuarPeriodUnit: 'Y',\r\n        pdInvCalcCode: '',\r\n        pdInvDwCdRuleCode: '',\r\n        pdInvRuleCode: ''\r\n      }\r\n      this.form.form_atrsinfo_f.pdatrsval = ['1']\r\n      this.form.form_atrsinfo_p.pdatrsval = []\r\n\r\n      this.pageFlag.amountFlag = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n\r\n.el-row {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n\r\n.demo-table-expand label {\r\n  width: 150px;\r\n  color: #99a9bf;\r\n}\r\n\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n\r\n.el-table-column {\r\n  width: 120px;\r\n}\r\n\r\n.showDiv {\r\n  width: 90%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n</style>\r\n"]}]}
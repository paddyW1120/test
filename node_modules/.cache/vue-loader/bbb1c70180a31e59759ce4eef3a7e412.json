{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlcmpninfo\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlcmpninfo\\index.vue","mtime":1609847106584},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogaW1wb3J0IHthZGRQZGdlbmxDbXBuSW5mbywgZGVsZXRlUGRnZW5sQ21wbkluZm8sIGdldFBkQ29kZU5hbWUsIGdldFBkZ2VubENtcG5JbmZvLCBnZXRQb2xDdXJyfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vcGRnZW5sY21wbmluZm8nCiBpbXBvcnQgcGRnZW5sRGlzY291bnRGb3JtdWxhIGZyb20gJ0Avdmlld3MvYnVzaW5lc3MtZ2VuZXJhbC1jb25mL3BkZ2VubGNtcG5pbmZvL2Rpc2NvdW50LWZvcm11bGEnCiBpbXBvcnQgcGRnZW5sRGlzY291bnRGb3JtdWxhU2VsZWN0IGZyb20gJ0Avdmlld3MvYnVzaW5lc3MtZ2VuZXJhbC1jb25mL3BkZ2VubGNtcG5pbmZvL2Rpc2NvdW50LWZvcm11bGEtc2VsZWN0JwpsZXQgX3RoaXM7CiAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICBuYW1lOiAncGRnZW5sQ21wbkluZm8nLAogICAgIGNvbXBvbmVudHM6IHsKICAgICAgIHBkZ2VubERpc2NvdW50Rm9ybXVsYSwgcGRnZW5sRGlzY291bnRGb3JtdWxhU2VsZWN0fSwKICAgICBmaWx0ZXJzOiB7CiAgICAgICBmaWx0ZXJfdHlwZShjb2RlLHZhbHVlKXsKICAgICAgICAgaWYgKHZhbHVlID09ICdjbXBuVHlwZScpewogICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCd5aHR5cGUnLCBjb2RlKTsKICAgICAgICAgfQogICAgICAgfSwKCiAgICAgfSwKICAgICAgIGRhdGEoKSB7CiAgICAgICAgIF90aGlzID0gdGhpczsKICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgZGlzY291bnREZWZGbGFnOiBmYWxzZSwKICAgICAgICAgICAgIGlucHV0OicnLAogICAgICAgICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgICAgICAgIGZvcm11bGFWaXNpYmxlOmZhbHNlLAogICAgICAgICAgICAgZm9ybXVsYVNlbGVjdFZpc2libGU6ZmFsc2UsCiAgICAgICAgICAgICBnZW5lcmFsRGlzY291bnQ6e30sCiAgICAgICAgICAgICBjaG9vc2VSb3dJZDonJywKICAgICAgICAgICAgICAgLy/ooajmoLzmlbDmja4KICAgICAgICAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgICAgICAgICBtcGRjb2RlOicnLAogICAgICAgICAgICAgb3B0aW9uczpbXSwKICAgICAgICAgICAgIHBkQ3VycjpbXSwKICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICBjbXBuQ29kZTonJywKICAgICAgICAgICAgICAgY21wblR5cGU6ICcnCiAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgIGZvcm1QZENvZGVOYW1lOltdLAogICAgICAgICAgICAgZm9ybTogeyAgLy/ooajljZXmlbDmja7kuI7lkI7nq6/lrp7kvZPnsbvlr7nlupQKICAgICAgICAgICAgICAgaWQ6ICcnLCAvL+S4u+mUrklECiAgICAgICAgICAgICAgIGNtcG5Db2RlOicnLCBjbXBuVHlwZTonJywgY21wbkNoTmFtZTonJywgY21wbkVuTmFtZTonJywgY21wblN0YXJ0RGF0ZTonJywKICAgICAgICAgICAgICAgY21wbkVuZERhdGU6JycsIGNtcG5DYWxjTW9kZTonMScsIGNtcG5WYWw6JycsIGNtcG5DYWxjQ29kZTonJywgY2FsY0NvbXNGbGFnOicnLAogICAgICAgICAgICAgICBjYWxjQ29tc0Jhc2ljOicnLCBjbXBuU2ROb3RpY2U6JycsIGNtcG5EZXNjOicnLCBjbXBuUGF5Q3VycjonJywgY21wblBvbEN1cnI6JycsCiAgICAgICAgICAgICB9LAogICAgICAgICAgICAgYmNmb3JtOiB7ICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lAogICAgICAgICAgICAgICBpZDogJycsIC8v5Li76ZSuSUQKICAgICAgICAgICAgICAgY21wbkNvZGU6JycsIGNtcG5UeXBlOicnLCBjbXBuQ2hOYW1lOicnLCBjbXBuRW5OYW1lOicnLCBjbXBuU3RhcnREYXRlOicnLAogICAgICAgICAgICAgICBjbXBuRW5kRGF0ZTonJywgY21wbkNhbGNNb2RlOicxJywgY21wblZhbDonJywgY21wbkNhbGNDb2RlOicnLCBjYWxjQ29tc0ZsYWc6JycsCiAgICAgICAgICAgICAgIGNhbGNDb21zQmFzaWM6JycsIGNtcG5TZE5vdGljZTonJywgY21wbkRlc2M6JycsY21wblBheUN1cnI6JycsIGNtcG5Qb2xDdXJyOicnLAogICAgICAgICAgICAgfSwKICAgICAgICAgICAgIC8v5qOA6aqM6KeE5YiZCiAgICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICBjbXBuVHlwZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRnZW5sQ21wbkluZm8uc2VsZW1zZycpLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLAogICAgICAgICAgICAgICBjbXBuQ2hOYW1lOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdwZGdlbmxDbXBuSW5mby5pbXBtc2cnKSwgdHJpZ2dlcjogJ2JsdXInfV0sCiAgICAgICAgICAgICAgIGNtcG5Fbk5hbWU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkZ2VubENtcG5JbmZvLmltcG1zZycpLCB0cmlnZ2VyOiAnYmx1cid9XSwKICAgICAgICAgICAgICAgY21wblN0YXJ0RGF0ZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnaTE4blZpZXcuZGF0ZVBsYWNlaG9sZGVyJyksIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgICAgICAgICBjbXBuRW5kRGF0ZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnaTE4blZpZXcuZGF0ZVBsYWNlaG9sZGVyJyksIHRyaWdnZXI6ICdibHVyJ30sCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8dGhpcy5mb3JtLmNtcG5TdGFydERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kdCgncGRnZW5sQ21wbkluZm8udGltZUludGVydmFsVmVyaWZpY2F0aW9uJykpKQogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICBjbXBuVmFsOlt7IHJlcXVpcmVkOiB0cnVlLG1lc3NhZ2U6IHRoaXMuJHQoJ3BkZ2VubENtcG5JbmZvLmltcHV0bXMnKSwgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICBjbXBuQ2FsY0NvZGU6W3sgcmVxdWlyZWQ6IHRydWUsbWVzc2FnZTogdGhpcy4kdCgncGRnZW5sQ21wbkluZm8ucGxlYXNlSW5wdXQnKSt0aGlzLiR0KCdwZGdlbmxDbXBuSW5mby5jbXBuQ2FsY0NvZGUnKSwgdHJpZ2dlcjogJ2JsdXInIH1dCiAgICAgICAgICAgICB9LAogICAgICAgICAgIH0KICAgICAgIH0sCiAgICAgICBjb21wdXRlZDoge30sCiAgICAgICBjcmVhdGVkKCkgewogICAgICAgICAvKmxldCBwZHRlbXBQZEluZm8gPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInBkSW5mbyIpKTsKICAgICAgICAgdGhpcy5tcGRjb2RlID0gcGR0ZW1wUGRJbmZvLnBkQ29kZTsqLwogICAgICAgICB0aGlzLm1wZGNvZGUgPSAnMTAwMTEyJzsKICAgICAgIH0sCiAgICAgICBtb3VudGVkKCkgewogICAgICAgICB0aGlzLmdldFBvbEN1cnIodGhpcy5tcGRjb2RlKTsKICAgICAgICAgdGhpcy5pbml0UXVlcnlEYXRhcygpOwogICAgICAgIC8vIHRoaXMuZm9ybS5jbXBuU3RhcnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgLy8gaGlzLmJjZm9ybSA9IHRoaXMuZm9ybTsKICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmJjZm9ybSx0aGlzLmZvcm0pCiAgICAgICB9LAogICAgICAgbWV0aG9kczogewogICAgICAgICAvKuaOp+WItuaKveWxieaYr+WQpuaYvuekuiovCiAgICAgICAgIHNob3dEcmF3ZXIodmFsKXsKICAgICAgICAgICBnZXRQZENvZGVOYW1lKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkQ21ucENvZGUiOnZhbH0pKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApewogICAgICAgICAgICAgICB0aGlzLmZvcm1QZENvZGVOYW1lID0gcmVzLmRhdGE7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgfSk7CiAgICAgICAgICAgaWYgKHRoaXMuZHJhd2VyKXsKICAgICAgICAgICAgIHRoaXMuZHJhd2VyPWZhbHNlOwogICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgdGhpcy5kcmF3ZXI9dHJ1ZTsKICAgICAgICAgICB9CiAgICAgICAgIH0sCiAgICAgICAgIGJyaW5nSW5DYWxjQ29kZShjbXBuVHlwZSwgY2FsY0NvZGUpIHsKICAgICAgICAgICBkZWJ1Z2dlcgogICAgICAgICAgIGNvbnNvbGUubG9nKGNtcG5UeXBlK2NhbGNDb2RlKQogICAgICAgICAgIGlmICh0aGlzLmZvcm0uY21wblR5cGUgPT09IGNtcG5UeXBlKSB7CiAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAnY21wbkNhbGNDb2RlJywgY2FsY0NvZGUpCiAgICAgICAgICAgfQogICAgICAgICB9LAogICAgICAgICB0b0Zvcm11bGFEZWYoKSB7CiAgICAgICAgICAgaWYodGhpcy5mb3JtLmNtcG5DYWxjTW9kZT09JzInKXsKICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uY21wblR5cGUgPT0gJycgfHwgdGhpcy5mb3JtLmNtcG5UeXBlID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7fpgInmi6nkvJjmg6DnsbvlnosiKTsKICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICB9CiAgICAgICAgICAgICB0aGlzLnBkQnVzc0RldGFpbFR5cGUgPSAnNDAnOwogICAgICAgICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICB0aGlzLmdlbmVyYWxEaXNjb3VudCA9IHRoaXMuZm9ybQogICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+36YCJ5oup5q2j56Gu55qE5LyY5oOg6K6h566X5pa55byPIik7CiAgICAgICAgICAgfQogICAgICAgICB9LAogICAgICAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX0dlbkRpc2NvdW50Rm9ybXVsYSh2aXNpYmxlKSB7CiAgICAgICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHZpc2libGUKICAgICAgICAgfSwKICAgICAgICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9HZW5EaXNjb3VudEZvcm11bGFTZWxlY3QodmlzaWJsZSkgewogICAgICAgICAgIHRoaXMuZm9ybXVsYVNlbGVjdFZpc2libGUgPSB2aXNpYmxlCiAgICAgICAgICAgaWYgKHZpc2libGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgIHRoaXMuZm9ybXVsYVZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICB9KQogICAgICAgICAgIH0KICAgICAgICAgfSwKICAgICAgICAgZXhlY3V0ZUNvbXNGbGFnKGZsYWcpewogICAgICAgICAgIGlmIChmbGFnPT0wKXsKICAgICAgICAgICAgIHRoaXMuZm9ybS5jYWxjQ29tc0Jhc2ljID0gJyc7CiAgICAgICAgICAgfQogICAgICAgICB9LAogICAgICAgICBjaGFuZ2VFeFdheSh3YXkpewogICAgICAgICAgIGlmICh3YXkgPT0gMil7CiAgICAgICAgICAgICB0aGlzLmZvcm0uY21wblZhbCA9ICcnCiAgICAgICAgICAgfWVsc2UgaWYgKHdheT09MSl7CiAgICAgICAgICAgICB0aGlzLmZvcm0uY21wbkNhbGNDb2RlID0gJycKICAgICAgICAgICB9CiAgICAgICAgIH0sCiAgICAgICAgIC8q6KGo5Y2V5pCc57Si5Yqf6IO9Ki8KICAgICAgICAgc2VhcmNoRGF0YUJ5Q29uZGl0aW9uKCl7CiAgICAgICAgICAgZ2V0UGRnZW5sQ21wbkluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXM9PnsKICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucz1yZXMuZGF0YQogICAgICAgICAgICAgfQogICAgICAgICAgIH0pCiAgICAgICAgIH0sCgogICAgICAgICAvKuihqOagvOmAieaLqeS4gOadoeaVsOaNru+8jOWbnuaYvuWIsOihqOWNlSovCiAgICAgICAgIGNob29zZVJvdyhyb3csIGNvbHVtbiwgZXZlbnQpewogICAgICAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsKICAgICAgICAgICAgIGlmIChyb3cuaWQgPT0gdGhpcy5jaG9vc2VSb3dJZCkgewogICAgICAgICAgICAgICB0aGlzLmNob29zZVJvd0lkID0gJyc7CiAgICAgICAgICAgICAgIHRoaXMuZm9ybT0gdGhpcy5iY2Zvcm07CiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICB0aGlzLmNob29zZVJvd0lkID0gcm93LmlkOwogICAgICAgICAgICAgICB0aGlzLmZvcm0gPU9iamVjdC5hc3NpZ24oe30scm93KTsKCiAgICAgICAgICAgICAgIHRoaXMuZm9ybS5jbXBuUG9sQ3VyciA9IF90aGlzLmdldENvZGVOYW1lKCdwcm9kdWN0Q3VycmVuY3knLCByb3cuY21wblBvbEN1cnIsKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICB9CiAgICAgICAgICAgdGhpcy5kaXNjb3VudERlZkZsYWcgPSB0cnVlCiAgICAgICAgIH0sCgogICAgICAgICAvKuiOt+WPluS6p+WTgeS/neWNleW4geenjSovCiAgICAgICAgIGdldFBvbEN1cnIobXBkQ29kZSl7CgogICAgICAgICAgIGdldFBvbEN1cnIobXBkQ29kZSkudGhlbihyZXM9PnsKICAgICAgICAgICAgIGZvcihsZXQgbiA9IDAgO24gPCByZXMuZGF0YS5sZW5ndGg7bisrKXsKICAgICAgICAgICAgICAgbGV0IGNvZGUgPSByZXMuZGF0YVtuXTsKICAgICAgICAgICAgICAgbGV0IGNvZGVOYW1lID0gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Byb2R1Y3RDdXJyZW5jeScsIGNvZGUsdHJ1ZSk7CiAgICAgICAgICAgICAgIGxldCBtcGRDdXJyID0ge307CiAgICAgICAgICAgICAgIG1wZEN1cnIuY29kZSA9IGNvZGU7CiAgICAgICAgICAgICAgIG1wZEN1cnIubmFtZSA9IGNvZGVOYW1lOwogICAgICAgICAgICAgICB0aGlzLnBkQ3Vyci5wdXNoKG1wZEN1cnIpOwogICAgICAgICAgICAgfQogICAgICAgICAgIH0pCiAgICAgICAgIH0sCgogICAgICAgICAvKuihqOagvOWIneWni+WMluaVsOaNriovCiAgICAgICAgIGluaXRRdWVyeURhdGFzKCl7CiAgICAgICAgICAgZ2V0UGRnZW5sQ21wbkluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXM9PnsKICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApewogICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICB0aGlzLm9wdGlvbnM9cmVzLmRhdGEKICAgICAgICAgICAgIH0KICAgICAgICAgICB9KQogICAgICAgICB9LAogICAgICAgICBzdWJtaXRGb3JtKCkgewogICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5jbXBuQ2FsY0NvZGUpCiAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgIGFkZFBkZ2VubENtcG5JbmZvKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRRdWVyeURhdGFzKCk7CiAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgIH0KICAgICAgICAgICB9KQogICAgICAgICB9LAogICAgICAgICBkZWxldGVEYXRhKCkgewogICAgICAgICAgIGlmICh0aGlzLmNob29zZVJvd0lkIT1udWxsICYmICcnIT10aGlzLmNob29zZVJvd0lkKXsKCiAgICAgICAgICAgICBkZWxldGVQZGdlbmxDbXBuSW5mbyh0aGlzLmNob29zZVJvd0lkKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgdGhpcy5pbml0UXVlcnlEYXRhcygpOwogICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgIH10aGlzLnJlc2V0Rm9ybSgnZm9ybScpCiAgICAgICAgICAgICB9KQogICAgICAgICAgIH0KICAgICAgICAgfSwKICAgICAgICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICB0aGlzLmZvcm09IHRoaXMuYmNmb3JtOwogICAgICAgICAgIHRoaXMuY2hvb3NlUm93SWQ9Jyc7CiAgICAgICAgIH0KCiAgICAgICB9CiAgIH0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/business-general-conf/pdgenlcmpninfo","sourcesContent":["<template>\r\n  <el-main>\r\n\r\n    <el-form label-width=\"auto\" ref=\"params\">\r\n      <el-row type=\"flex\"  class=\"row-bg\" justify=\"right\">\r\n        <el-col :span=\"6\" >\r\n          <el-form-item :label=\"$t('i18nView.cmpnType')\">\r\n            <cus-select :codetype=\"'yhtype'\" :placeholder=\"$t('pdgenlCmpnInfo.cmpnType')\" v-model=\"params.cmpnType\" clearable></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('i18nView.codename')\">\r\n            <el-select v-model=\"params.cmpnCode\" :placeholder=\"$t('form.please_select')\"  clearable>\r\n              <el-option :key=\"item.id\" :label=\"item.cmpnCode+':'+item.cmpnChName\" :value=\"item.cmpnCode\"\r\n                         v-for=\"item in options\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"searchDataByCondition()\" >{{$t('pdgenlCmpnInfo.search') }}</el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n\r\n      <cus-table-title :label=\"$t('i18nView.codename')\"></cus-table-title>\r\n      <el-table  :data=\"tableData\" size=\"mini\" fit element-loading-text=\"Loading\" border highlight-current-row align=\"center\"  class=\"wraper-table\" style=\"width: 95%\" @row-click=\"chooseRow\">\r\n          <el-table-column width=\"50px\" :label=\"$t('table.select')\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio v-model=\"chooseRowId\" :label=\"scope.row.id\">\r\n                <span class=\"el-radio__label\"></span>\r\n              </el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"index\" width=\"80\"  :label=\"$t('table.id')\" align=\"center\" type=\"index\" sortable ></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnCode')\" prop=\"cmpnCode\" align=\"center\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnName')\" prop=\"cmpnChName\" align=\"center\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnType')\" prop=\"cmpnType\" align=\"center\">\r\n            <template v-slot=\"scope\">{{scope.row.cmpnType | filter_type('cmpnType')}}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnStartDate')\" prop=\"cmpnStartDate\" align=\"center\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnEndDate')\" prop=\"cmpnEndDate\" align=\"center\"></el-table-column>\r\n          <el-table-column width=\"88px\" :label=\"$t('i18nView.pdRelated')\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button  size=\"small\" type=\"text\" @click=\"showDrawer(scope.row.cmpnCode)\" >>></el-button>\r\n              <el-dialog  :visible.sync=\"drawer\" :modal-append-to-body=\"false\">\r\n                <cus-page-title-back :isDialog=\"true\" @backTo=\"drawer=false\" :label=\"$t('pdgenlCmpnInfo.aboutPd')\"/>\r\n                <el-table :data=\"formPdCodeName\" border size=\"88%\">\r\n                  <el-table-column :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\" align=\"center\"></el-table-column>\r\n                  <el-table-column :label=\"$t('i18nView.pdName')\" prop=\"pdName\" align=\"center\"></el-table-column>\r\n                </el-table>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                  <el-button  size=\"small\" @click=\"drawer = false\" type=\"primary\">{{$t('pdtempsaledes.close')}}</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </template>\r\n          </el-table-column>\r\n      </el-table>\r\n    </el-form>\r\n\r\n\r\n    <cus-form-title :label=\"$t('pdgenlCmpnInfo.offerDefinition')\" :showArrow=\"true\" :display=\"discountDefFlag\" @show=\"discountDefFlag = !discountDefFlag\"/>\r\n      <el-form v-if=\"discountDefFlag\"  ref=\"form\" :model=\"form\" label-width=\"auto\"  :rules=\"rules\" >\r\n        <el-row type=\"flex\" :gutter=\"10\" class=\"row-bg\" >\r\n         <!-- <el-col :span=\"6\">\r\n            <el-form-item label=\"优惠编码\" align=\"right\" :label=\"$t('pdgenlCmpnInfo.cmpnCode')\">\r\n              <el-input :placeholder=\"$t('pdgenlCmpnInfo.cmpnCode')\" v-model=\"form.cmpnCode\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-col>-->\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnType')\" prop=\"cmpnType\">\r\n              <cus-select :codetype=\"'yhtype'\" :placeholder=\"$t('pdgenlCmpnInfo.cmpnType')\" v-model=\"form.cmpnType\" clearable></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row type=\"flex\" :gutter=\"10\" class=\"row-bg\" justify=\"center\">\r\n          <el-col :span=\"12\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnChName')\" prop=\"cmpnChName\">\r\n              <el-input type=\"text\" :placeholder=\"$t('i18nView.cmpnChName')\" v-model=\"form.cmpnChName\" maxlength=\"60\" show-word-limit class=\"namestyle\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" ></el-col>\r\n        </el-row>\r\n<!--        <el-row type=\"flex\" :gutter=\"10\" class=\"row-bg\" justify=\"center\">-->\r\n<!--          <el-col :span=\"12\" >-->\r\n<!--            <el-form-item :label=\"$t('i18nView.cmpnEnName')\" prop=\"cmpnEnName\">-->\r\n<!--              <el-input type=\"text\" :placeholder=\"$t('pdgenlCmpnInfo.cmpnEnName')\" v-model=\"form.cmpnEnName\" maxlength=\"120\" show-word-limit class=\"namestyle\"></el-input>-->\r\n<!--            </el-form-item>-->\r\n<!--          </el-col>-->\r\n<!--          <el-col :span=\"12\" ></el-col>-->\r\n<!--        </el-row>-->\r\n        <el-row v-if=\"form.cmpnType=='H'\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('i18nView.cmpnPayCurr')\" prop=\"pdPolCurr\" >\r\n              <cus-select :codetype=\"'productCurrency'\" v-model=\"form.cmpnPayCurr\" ></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('i18nView.cmpnPolCurr')\" prop=\"pdPolYear\" >\r\n              <cus-select :codetype=\"'productCurrency'\" v-model=\"form.cmpnPolCurr\" :placeholder=\"$t('form.please_select')\" clearable>\r\n                <el-option\r\n                  v-for=\"item in pdCurr\"\r\n                  :key=\"item.code\"\r\n                  :label=\"item.code+'  :  '+item.name\"\r\n                  :value=\"item.code\">\r\n              </el-option>\r\n              </cus-select>\r\n             <!-- <cus-select :codetype=\"'productCurrency'\" v-model=\"form.cmpnPolCurr\" ></cus-select>-->\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row  :gutter=\"10\">\r\n          <el-col :span=\"6\" >\r\n            <el-form-item align=\"right\" :label=\"$t('i18nView.cmpnStartDate')\" prop=\"cmpnStartDate\">\r\n              <el-date-picker type=\"date\" :placeholder=\"$t('i18nView.selectDate')\" v-model=\"form.cmpnStartDate\"  ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnEndDate')\" prop=\"cmpnEndDate\">\r\n              <el-date-picker  type=\"date\" :placeholder=\"$t('i18nView.selectDate')\" v-model=\"form.cmpnEndDate\"  ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnSdNotice')\">\r\n              <el-switch v-model=\"form.cmpnSdNotice\"  active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" >\r\n          <el-col :span=\"6\">\r\n            <el-form-item  :label=\"$t('i18nView.cmpnCalcMode')\">\r\n              <cus-radio :codetype=\"'yhjsfs'\" :placeholder=\"$t('pdgenlCmpnInfo.cmpnCalcMode')\" v-model=\"form.cmpnCalcMode\" :changeMethod=\"changeExWay\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\" :label=\"$t('pdgenlCmpnInfo.cmpnVal')\">\r\n            <el-form-item :label=\"$t('i18nView.cmpnVal')\" prop=\"cmpnVal\" :rules=\"this.form.cmpnCalcMode==1?rules.cmpnVal:[{ required: false, trigger: 'blur' }]\">\r\n              <el-input :placeholder=\"$t('pdgenlCmpnInfo.cmpnVal')\" v-model=\"form.cmpnVal\" clearable :disabled=\"form.cmpnCalcMode==2\" >\r\n                <template slot=\"suffix\">{{$t('i18nView.yuan')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" >\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.calcComsFlag')\">\r\n              <el-switch v-model=\"form.calcComsFlag\"  active-value='Y' inactive-value='N' @change=\"executeComsFlag(form.calcComsFlag)\"></el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.calcComsBasic')\">\r\n              <cus-select :codetype=\"'pd_prem_cal_method'\" :placeholder=\"$t('pdgenlCmpnInfo.calcComsBasic')\" :disabled=\"form.calcComsFlag=='N'\"\r\n                          v-model=\"form.calcComsBasic\" clearable></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\" ></el-col>\r\n        </el-row>\r\n\r\n        <el-row type=\"flex\" :gutter=\"10\" class=\"row-bg\" justify=\"center\">\r\n          <el-col :span=\"24\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnSdNotice')\">\r\n              <el-input type=\"textarea\" :placeholder=\"$t('i18nView.pleInput')\" v-model=\"form.cmpnDesc\" maxlength=\"100\" show-word-limit></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <cus-form-title :label=\"$t('pdgenlCmpnInfo.cmpnCalcMode')\" />\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"6\" >\r\n            <el-form-item :label=\"$t('i18nView.cmpnCalcFormula')\" prop=\"cmpnCalcCode\" :rules=\"this.form.cmpnCalcMode==2?rules.cmpnCalcCode:[{ required: false, trigger: 'blur' }]\">\r\n              <el-input readonly v-model=\"form.cmpnCalcCode\">\r\n                <svg-icon @click=\"toFormulaDef()\" icon-class=\"calc\" slot=\"suffix\"\r\n                          style=\"color: #606266;font-size: 18px;cursor: pointer\"/>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n\r\n        <el-form-item id=\"boxFixed\"  style=\"float: right\">\r\n          <el-button  size=\"small\"  icon=\"el-icon-success\"  style=\"margin-right: 5px;margin-left: 5px\"  type=\"primary\" v-auth=\"'pdgenl-cmpn-info:add'\" @click=\"submitForm\"  v-show=\"!this.chooseRowId\">{{$t('pdtempsaledes.submit')}}</el-button>\r\n          <el-button  size=\"small\" icon=\"el-icon-success\" style=\"margin-left: 5px\"  type=\"primary\" v-auth=\"'pdgenl-cmpn-info:add'\" @click=\"submitForm\"  v-show=\"this.chooseRowId\">{{$t('pdtempsaledes.update')}}</el-button>\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deleteData\" icon=\"el-icon-delete\" style=\"margin-left: 5px\" type=\"danger\"\r\n            v-show=\"this.chooseRowId\"\r\n            :content=\"$t('pdgenlCmpnInfo.deleteContent')\">\r\n          </cus-popover>\r\n          <el-button  icon=\"el-icon-refresh\" size=\"small\" style=\"margin-left: 5px\"  type=\"primary\"  @click=\"resetForm('form')\">{{$t('pdtempsaledes.clear')}}</el-button>\r\n        </el-form-item>\r\n\r\n\r\n      </el-form>\r\n    <!-- 弹窗（已关联公式列表） -->\r\n    <el-dialog :close-on-click-modal=\"false\" :visible.sync=\"formulaVisible\" append-to-body center\r\n               v-dialog-drag v-if=\"formulaVisible\" width=\"80%\">\r\n      <pdgenlDiscountFormula :pdBussDetailType=\"this.pdBussDetailType\"  :generalDiscount =\"generalDiscount\"\r\n                        @bringInCalcCode=\"bringInCalcCode\"\r\n                        @changeDialogVisible_GenDiscountFormula=\"changeDialogVisible_GenDiscountFormula\"\r\n                        @changeDialogVisible_GenDiscountFormulaSelect=\"changeDialogVisible_GenDiscountFormulaSelect\"></pdgenlDiscountFormula>\r\n    </el-dialog>\r\n\r\n    <!-- 弹窗（公式关联） -->\r\n    <el-dialog :close-on-click-modal=\"false\" :visible.sync=\"formulaSelectVisible\" append-to-body\r\n               center v-dialog-drag v-if=\"formulaSelectVisible\" width=\"70%\">\r\n      <pdgenlDiscountFormulaSelect :pdBussDetailType=\"this.pdBussDetailType\"  :generalDiscount =\"generalDiscount\"\r\n                              @bringInCalcCode=\"bringInCalcCode\"\r\n                              @changeDialogVisible_GenDiscountFormulaSelect=\"changeDialogVisible_GenDiscountFormulaSelect\"></pdgenlDiscountFormulaSelect>\r\n    </el-dialog>\r\n\r\n  </el-main>\r\n</template>\r\n<script>\r\n\r\n  import {addPdgenlCmpnInfo, deletePdgenlCmpnInfo, getPdCodeName, getPdgenlCmpnInfo, getPolCurr} from '@/api/basicinfo/pdgenlcmpninfo'\r\n  import pdgenlDiscountFormula from '@/views/business-general-conf/pdgenlcmpninfo/discount-formula'\r\n  import pdgenlDiscountFormulaSelect from '@/views/business-general-conf/pdgenlcmpninfo/discount-formula-select'\r\n let _this;\r\n    export default {\r\n      name: 'pdgenlCmpnInfo',\r\n      components: {\r\n        pdgenlDiscountFormula, pdgenlDiscountFormulaSelect},\r\n      filters: {\r\n        filter_type(code,value){\r\n          if (value == 'cmpnType'){\r\n              return _this.getCodeName('yhtype', code);\r\n          }\r\n        },\r\n\r\n      },\r\n        data() {\r\n          _this = this;\r\n            return {\r\n              discountDefFlag: false,\r\n              input:'',\r\n              drawer: false,\r\n              formulaVisible:false,\r\n              formulaSelectVisible:false,\r\n              generalDiscount:{},\r\n              chooseRowId:'',\r\n                //表格数据\r\n              tableData: [],\r\n              mpdcode:'',\r\n              options:[],\r\n              pdCurr:[],\r\n              params: {\r\n                cmpnCode:'',\r\n                cmpnType: ''\r\n              },\r\n\r\n              formPdCodeName:[],\r\n              form: {  //表单数据与后端实体类对应\r\n                id: '', //主键ID\r\n                cmpnCode:'', cmpnType:'', cmpnChName:'', cmpnEnName:'', cmpnStartDate:'',\r\n                cmpnEndDate:'', cmpnCalcMode:'1', cmpnVal:'', cmpnCalcCode:'', calcComsFlag:'',\r\n                calcComsBasic:'', cmpnSdNotice:'', cmpnDesc:'', cmpnPayCurr:'', cmpnPolCurr:'',\r\n              },\r\n              bcform: {  //表单数据与后端实体类对应\r\n                id: '', //主键ID\r\n                cmpnCode:'', cmpnType:'', cmpnChName:'', cmpnEnName:'', cmpnStartDate:'',\r\n                cmpnEndDate:'', cmpnCalcMode:'1', cmpnVal:'', cmpnCalcCode:'', calcComsFlag:'',\r\n                calcComsBasic:'', cmpnSdNotice:'', cmpnDesc:'',cmpnPayCurr:'', cmpnPolCurr:'',\r\n              },\r\n              //检验规则\r\n              rules: {\r\n                cmpnType: [{required: true, message: this.$t('pdgenlCmpnInfo.selemsg'), trigger: 'change'}],\r\n                cmpnChName: [{required: true, message: this.$t('pdgenlCmpnInfo.impmsg'), trigger: 'blur'}],\r\n                cmpnEnName: [{required: true, message: this.$t('pdgenlCmpnInfo.impmsg'), trigger: 'blur'}],\r\n                cmpnStartDate: [{required: true, message: this.$t('i18nView.datePlaceholder'), trigger: 'blur'}],\r\n                cmpnEndDate: [{required: true, message: this.$t('i18nView.datePlaceholder'), trigger: 'blur'},\r\n                  {\r\n                    validator: (rule, value, callback) => {\r\n                      if (value <this.form.cmpnStartDate) {\r\n                        callback(new Error(this.$t('pdgenlCmpnInfo.timeIntervalVerification')))\r\n                      } else {\r\n                        callback()\r\n                      }\r\n                    }\r\n                  }],\r\n                cmpnVal:[{ required: true,message: this.$t('pdgenlCmpnInfo.imputms'), trigger: 'blur' }],\r\n                cmpnCalcCode:[{ required: true,message: this.$t('pdgenlCmpnInfo.pleaseInput')+this.$t('pdgenlCmpnInfo.cmpnCalcCode'), trigger: 'blur' }]\r\n              },\r\n            }\r\n        },\r\n        computed: {},\r\n        created() {\r\n          /*let pdtempPdInfo = JSON.parse(sessionStorage.getItem(\"pdInfo\"));\r\n          this.mpdcode = pdtempPdInfo.pdCode;*/\r\n          this.mpdcode = '100112';\r\n        },\r\n        mounted() {\r\n          this.getPolCurr(this.mpdcode);\r\n          this.initQueryDatas();\r\n         // this.form.cmpnStartDate = new Date();\r\n          // his.bcform = this.form;\r\n          Object.assign(this.bcform,this.form)\r\n        },\r\n        methods: {\r\n          /*控制抽屉是否显示*/\r\n          showDrawer(val){\r\n            getPdCodeName(this.buildRequestData({\"pdCmnpCode\":val})).then(res=>{\r\n              if (res.code === 200){\r\n                this.formPdCodeName = res.data;\r\n              }\r\n            });\r\n            if (this.drawer){\r\n              this.drawer=false;\r\n            }else{\r\n              this.drawer=true;\r\n            }\r\n          },\r\n          bringInCalcCode(cmpnType, calcCode) {\r\n            debugger\r\n            console.log(cmpnType+calcCode)\r\n            if (this.form.cmpnType === cmpnType) {\r\n              this.$set(this.form, 'cmpnCalcCode', calcCode)\r\n            }\r\n          },\r\n          toFormulaDef() {\r\n            if(this.form.cmpnCalcMode=='2'){\r\n              if (this.form.cmpnType == '' || this.form.cmpnType == undefined) {\r\n                this.notifyError(\"请选择优惠类型\");\r\n                return\r\n              }\r\n              this.pdBussDetailType = '40';\r\n              this.formulaVisible = true;\r\n              this.generalDiscount = this.form\r\n            }else{\r\n              this.notifyError(\"请选择正确的优惠计算方式\");\r\n            }\r\n          },\r\n          changeDialogVisible_GenDiscountFormula(visible) {\r\n            this.formulaVisible = visible\r\n          },\r\n          changeDialogVisible_GenDiscountFormulaSelect(visible) {\r\n            this.formulaSelectVisible = visible\r\n            if (visible === false) {\r\n              this.formulaVisible = false;\r\n              this.$nextTick(() => {\r\n                this.formulaVisible = true\r\n              })\r\n            }\r\n          },\r\n          executeComsFlag(flag){\r\n            if (flag==0){\r\n              this.form.calcComsBasic = '';\r\n            }\r\n          },\r\n          changeExWay(way){\r\n            if (way == 2){\r\n              this.form.cmpnVal = ''\r\n            }else if (way==1){\r\n              this.form.cmpnCalcCode = ''\r\n            }\r\n          },\r\n          /*表单搜索功能*/\r\n          searchDataByCondition(){\r\n            getPdgenlCmpnInfo(this.buildRequestData(this.params)).then(res=>{\r\n              if (res.code === 200) {\r\n                this.tableData = res.data;\r\n                this.options=res.data\r\n              }\r\n            })\r\n          },\r\n\r\n          /*表格选择一条数据，回显到表单*/\r\n          chooseRow(row, column, event){\r\n            if (event.target.nodeName === \"INPUT\") {\r\n              if (row.id == this.chooseRowId) {\r\n                this.chooseRowId = '';\r\n                this.form= this.bcform;\r\n              } else {\r\n                this.chooseRowId = row.id;\r\n                this.form =Object.assign({},row);\r\n\r\n                this.form.cmpnPolCurr = _this.getCodeName('productCurrency', row.cmpnPolCurr,);\r\n              }\r\n            }\r\n            this.discountDefFlag = true\r\n          },\r\n\r\n          /*获取产品保单币种*/\r\n          getPolCurr(mpdCode){\r\n\r\n            getPolCurr(mpdCode).then(res=>{\r\n              for(let n = 0 ;n < res.data.length;n++){\r\n                let code = res.data[n];\r\n                let codeName = _this.getCodeName('productCurrency', code,true);\r\n                let mpdCurr = {};\r\n                mpdCurr.code = code;\r\n                mpdCurr.name = codeName;\r\n                this.pdCurr.push(mpdCurr);\r\n              }\r\n            })\r\n          },\r\n\r\n          /*表格初始化数据*/\r\n          initQueryDatas(){\r\n            getPdgenlCmpnInfo(this.buildRequestData(this.params)).then(res=>{\r\n              if (res.code == 200){\r\n                this.tableData = res.data;\r\n                this.options=res.data\r\n              }\r\n            })\r\n          },\r\n          submitForm() {\r\n            console.log(this.form.cmpnCalcCode)\r\n            this.$refs.form.validate((valid) => {\r\n              if (valid) {\r\n                addPdgenlCmpnInfo(this.form).then(res => {\r\n                  if (res.code === 200) {\r\n                    this.initQueryDatas();\r\n                    this.notifySuccess(res.message);\r\n                  }\r\n                })\r\n              }\r\n            })\r\n          },\r\n          deleteData() {\r\n            if (this.chooseRowId!=null && ''!=this.chooseRowId){\r\n\r\n              deletePdgenlCmpnInfo(this.chooseRowId).then(res=>{\r\n                if (res.code == 200) {\r\n                  this.initQueryDatas();\r\n                  this.notifySuccess(res.message);\r\n                }this.resetForm('form')\r\n              })\r\n            }\r\n          },\r\n          resetForm(formName) {\r\n            this.$refs[formName].resetFields();\r\n            this.form= this.bcform;\r\n            this.chooseRowId='';\r\n          }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .namestyle{\r\n    width: 633px;\r\n  }\r\n</style>\r\n"]}]}
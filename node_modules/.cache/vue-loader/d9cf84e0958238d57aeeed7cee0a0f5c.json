{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-attr-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-attr-def\\index.vue","mtime":1609847107044},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge2FkZFBkdGVtcFBkU2xJbmZvLCBkZWxldGVQZHRlbXBQZFNsSW5mbywgdXBkYXRlUGR0ZW1wUGRTbEluZm8sdXBkYXRlUGR0ZW1wUHBJbmZvCiAgLGdldEFsbFN5c1NsTWdjLGdldFBkQXR0ckluZm8scXVlcnlQZFJwdEluZm9CeVByb2R1Y3RJZH0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3NhbGVBdHRyaWJ1dGVEZWZpbml0aW9uIgppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiCgpsZXQgX3RoaXMKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzYWxlQXR0cmlidXRlRGVmaW5pdGlvbicsCiAgZmlsdGVyczogewogICAgZmlsdGVyX3BkU2xNZ2MoY29kZSkgewogICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgX3RoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICBpZiAocGRTbE1nYy5zbE1nY0NvZGUgPT09IGNvZGUpIHsKICAgICAgICAgIHJldHVybiBwZFNsTWdjLnNsTWdjQ29kZSArICc6JyArIHBkU2xNZ2Muc2xNZ2NOYW1lCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBjb2RlCiAgICB9LAogICAgZmlsdGVyX3BkU2xDaGFubChjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRTbENoYW5sJywgY29kZSkKICAgIH0sCiAgICBmaWx0ZXJfcGRTbEN1cnIoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Byb2R1Y3RDdXJyZW5jeScsIGNvZGUpCiAgICB9LAogICAgZmlsdGVyX3BkU2xTdGF0ZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRTbFN0YXRlJywgY29kZSkKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXMKICAgIGNvbnN0IHZhbGlkYXRlRW5kRGF0ZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2YWx1ZSA9IHRoaXMucGFyc2UodmFsdWUsICd5eXl5LU1NLWRkJykKICAgICAgfQogICAgICBpZiAodHlwZW9mIHRoaXMuZm9ybV9zYWxlX2luaXQucGRTbEVuZERhdGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsRW5kRGF0ZSA9IHRoaXMucGFyc2UodGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsRW5kRGF0ZSwgJ3l5eXktTU0tZGQnKQogICAgICB9CiAgICAgIGlmICh0eXBlb2YgdGhpcy5mb3JtX3NhbGUucGRTbFN0YXJ0RGF0ZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0aGlzLmZvcm1fc2FsZS5wZFNsU3RhcnREYXRlID0gdGhpcy5wYXJzZSh0aGlzLmZvcm1fc2FsZS5wZFNsU3RhcnREYXRlLCAneXl5eS1NTS1kZCcpCiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybV9zYWxlX2luaXQucGRTbEVuZERhdGUgJiYgdmFsdWUuZ2V0VGltZSgpID4gdGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsRW5kRGF0ZS5nZXRUaW1lKCkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kdCgnc2FsZUF0dHJpYnV0ZURlZmluaXRpb24ubWVzc2FnZS50b29MYXRlJykgKyAn77yaJyArIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmZvcm1fc2FsZV9pbml0LnBkU2xFbmREYXRlLCAneXl5eS1NTS1kZCcpKSkKICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1fc2FsZS5wZFNsU3RhcnREYXRlICYmIHZhbHVlLmdldFRpbWUoKSA8IHRoaXMuZm9ybV9zYWxlLnBkU2xTdGFydERhdGUuZ2V0VGltZSgpKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJHQoJ3NhbGVBdHRyaWJ1dGVEZWZpbml0aW9uLm1lc3NhZ2UuZWFybGllclRoYW5TdGFydCcpKSkKICAgICAgfQogICAgICBjYWxsYmFjaygpCiAgICB9OwogICAgY29uc3QgdmFsaWRhdGVTdGFydERhdGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlKHZhbHVlLCAneXl5eS1NTS1kZCcpCiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvcm1fc2FsZV9pbml0LnBkU2xTdGFydERhdGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsU3RhcnREYXRlID0gdGhpcy5wYXJzZSh0aGlzLmZvcm1fc2FsZV9pbml0LnBkU2xTdGFydERhdGUsICd5eXl5LU1NLWRkJykKICAgICAgfQogICAgICBpZiAodGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsU3RhcnREYXRlICYmIHZhbHVlLmdldFRpbWUoKSA8IHRoaXMuZm9ybV9zYWxlX2luaXQucGRTbFN0YXJ0RGF0ZS5nZXRUaW1lKCkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kdCgnc2FsZUF0dHJpYnV0ZURlZmluaXRpb24ubWVzc2FnZS50b29FYXJseScpICsgJ++8micgKyB0aGlzLmZvcm1hdERhdGUodGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsU3RhcnREYXRlLCAneXl5eS1NTS1kZCcpKSkKICAgICAgfQogICAgICBjYWxsYmFjaygpCiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgLy8g5Lqn5ZOB5L+h5oGvCiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkVmVySWQ6JzEnLAogICAgICAgIHBkSW5mb0lkOicnLAogICAgICAgIHBkQ29kZTonJywKICAgICAgICBwZE5hbWU6JycKICAgICAgfSwKICAgICAgLy/liJ3lp4vljJbkuIvmi4npgIkKICAgICAgcGRTbE1nY0ZpbHRlcnM6W10sCiAgICAgIHBkU2xDaGFubEZpbHRlcnM6W10sCiAgICAgIGNoZWNrU2FsZUF0dHJpYnV0ZTpbXSwKICAgICAgcHJvZHVjdF9leHRyYToge30sCiAgICAgIHNob3dQYWdlRmxhZzonJywKICAgICAgLy8g55uR566h5a+56LGhCiAgICAgIHBkdGVtcFBkUnB0SW5mbzoge30sCiAgICAgIC8vIOWCqOWtmOW4puWFpeeahOaVsOaNrgogICAgICBmb3JtX3NhbGVfaW5pdDogewogICAgICAgIHBkU2xNZ2M6IFsiMDAwMCJdLAogICAgICAgIHBkU2xDaGFubDogWyIwMCJdLAogICAgICAgIHBkU2xDdXJyOiBbXSwKICAgICAgICBwZFNsU3RhcnREYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRTbEVuZERhdGU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZUKICAgICAgZm9ybV9zYWxlOiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBvcGVyYXRvcjogJycsCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRUeXBlOiAnJywKICAgICAgICBwZENvZGU6ICcnLAogICAgICAgIHBkTmFtZTonJywKICAgICAgICBwZFNsTWdjOiBbXSwKICAgICAgICBwZFNsTWdjTGV2OiAnJywKICAgICAgICBwZFNsQ2hhbmw6IFtdLAogICAgICAgIHBkU2xDdXJyOiBbXSwKICAgICAgICBwZFNsU3RhdGU6ICdZJywKICAgICAgICBwZFNsU3RhcnREYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRTbEVuZERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCgogICAgICB9LAogICAgICBmb3JtX3NhbGVfdXBkYXRlOiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkLAogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFR5cGU6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOicnLAogICAgICAgIHBkU2xNZ2M6ICcnLAogICAgICAgIHBkU2xNZ2NMZXY6ICcnLAogICAgICAgIHBkU2xDaGFubDogJycsCiAgICAgICAgcGRTbEN1cnI6ICcnLAogICAgICAgIHBkU2xTdGF0ZTogJ1knLAogICAgICAgIHBkU2xTdGFydERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBwZFNsRW5kRGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgb3BlcmF0b3I6ICcnCiAgICAgIH0sCiAgICAgIC8vIOihqOagvOaVsOaNrgogICAgICB0YWJsZURhdGFfc2FsZTogW10sCiAgICAgIHBhcmFtc19zYWxlOiB7CiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBzZWxlY3RlZFNhbGU6IHt9LAogICAgICBwZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheTogW10sCiAgICAgIHBkU2xNZ2NPcHRpb25zOiBbXSwKCiAgICAgIC8vIOihqOWNlemqjOivgQogICAgICBydWxlczogewogICAgICAgIHBkU2xNZ2M6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdzYWxlQXR0cmlidXRlRGVmaW5pdGlvbi5wZFNsTWdjJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHBkU2xDaGFubDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdzYWxlQXR0cmlidXRlRGVmaW5pdGlvbi5wZFNsQ2hhbmwnKSwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgcGRTbEN1cnI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgnc2FsZUF0dHJpYnV0ZURlZmluaXRpb24ucGRTbEN1cnInKSwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgcGRTbFN0YXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3NhbGVBdHRyaWJ1dGVEZWZpbml0aW9uLnBkU2xTdGF0ZScpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBwZFNsU3RhcnREYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3NhbGVBdHRyaWJ1dGVEZWZpbml0aW9uLnBkU2xTdGFydERhdGUnKSwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfSwge3ZhbGlkYXRvcjogdmFsaWRhdGVTdGFydERhdGUsIHRyaWdnZXI6ICdjaGFuZ2UnfV0sCiAgICAgICAgcGRTbEVuZERhdGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgnc2FsZUF0dHJpYnV0ZURlZmluaXRpb24ucGRTbEVuZERhdGUnKSwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfSwge3ZhbGlkYXRvcjogdmFsaWRhdGVFbmREYXRlLCB0cmlnZ2VyOiAnY2hhbmdlJ31dCiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB0YWJsZURhdGFfc2FsZTpmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMudGFibGVEYXRhX3NhbGUubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucGRTbE1nY0ZpbHRlcnMgPSBbXTsKICAgICAgICB0aGlzLnBkU2xDaGFubEZpbHRlcnM9W107CiAgICAgICAgdGhpcy50YWJsZURhdGFfc2FsZS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICB0aGlzLnBkU2xNZ2NGaWx0ZXJzLnB1c2goewogICAgICAgICAgICB0ZXh0OiB0aGlzLmZpbHRlcnNfcGRTbE1nYyh2YWwucGRTbE1nYyksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRTbE1nYwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnBkU2xDaGFubEZpbHRlcnMucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0Q29kZU5hbWUoJ3BkU2xDaGFubCcsIHZhbC5wZFNsQ2hhbmwpLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkU2xDaGFubAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgLy/plIDllK7mnLrmnoQKICAgICAgICB0aGlzLnBkU2xNZ2NGaWx0ZXJzID0gdGhpcy5wZFNsTWdjRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgZWxlbWVudCkgewogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQpKSB7CiAgICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgIH0sIFtdKTsKICAgICAgICAvL+mUgOWUrua4oOmBkwogICAgICAgIHRoaXMucGRTbENoYW5sRmlsdGVycyA9IHRoaXMucGRTbENoYW5sRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgZWxlbWVudCkgewogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQpKSB7CiAgICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgIH0sIFtdKTsKICAgICAgfQogICAgfSwKICAgICdmb3JtX3NhbGUucGRTbE1nYycoc2VsZWN0ZWRDb2RlcykgewogICAgICBpZiAoc2VsZWN0ZWRDb2Rlcy5sZW5ndGggPT09IDApIHsKICAgICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgdGhpcy5wZFNsTWdjT3B0aW9ucykgewogICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLl8uaW5jbHVkZXMoc2VsZWN0ZWRDb2RlcywgJzAwMDAnKSkgewogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlICE9PSAnMDAwMCcKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlID09PSAnMDAwMCcKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAnZm9ybV9zYWxlLnBkU2xDaGFubCcoc2VsZWN0ZWRDb2RlcykgewogICAgICBpZiAoc2VsZWN0ZWRDb2Rlcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gW10KICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgYWxsQ29kZXMgPSB0aGlzLl8ubWFwKHRoaXMubGRjb2Rlc1sncGRTbENoYW5sJ10sICdjb2RlJyk7CiAgICAgICAgaWYgKHRoaXMuXy5pbmNsdWRlcyhzZWxlY3RlZENvZGVzLCAnMDAnKSkgewogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7CiAgICAgICAgICAgIHJldHVybiBjb2RlICE9PSAnMDAnCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gewogICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gJzAwJwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMucGRTbENoYW5sRGlzYWJsZWRDb2RlQXJyYXkgPSBhbGxDb2RlcwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICdmb3JtX3NhbGUucGRTbFN0YXJ0RGF0ZScoKSB7CiAgICAgIGNvbnN0IHZhbCA9dGhpcy5mb3JtX3NhbGUucGRTbFN0YXRlOwogICAgICBpZih2YWw9PSdZJyl7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fc2FsZS52YWxpZGF0ZUZpZWxkKCdwZFNsRW5kRGF0ZScpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgICdmb3JtX3NhbGVfdXBkYXRlLnBkU2xTdGFydERhdGUnKCkgewogICAgICBjb25zdCB2YWwgPXRoaXMuZm9ybV9zYWxlX3VwZGF0ZS5wZFNsU3RhcnREYXRlOwogICAgICBpZih2YWw9PSdZJyl7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fc2FsZV91cGRhdGUudmFsaWRhdGVGaWVsZCgncGRTbEVuZERhdGUnKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAnZm9ybV9zYWxlLnBkU2xTdGF0ZScoKXsKICAgICAgY29uc3QgdmFsID10aGlzLmZvcm1fc2FsZS5wZFNsU3RhdGU7CiAgICAgIGlmKHZhbD09J04nKXsKICAgICAgICB0aGlzLnJ1bGVzLnBkU2xTdGFydERhdGU9IFt7cmVxdWlyZWQ6IGZhbHNlfV0KICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5ydWxlcy5wZFNsU3RhcnREYXRlPSBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3NhbGVBdHRyaWJ1dGVEZWZpbml0aW9uLnBkU2xTdGFydERhdGUnKSwgdHJpZ2dlcjogJ2NoYW5nZSd9XQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdsZGNvZGVzJwogICAgXSkKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5wcm9kdWN0LmlkKSB7CiAgICAgIHRoaXMuaW5pdFRhYmxlRGF0YVNhbGUoKQogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnCiAgICBhd2FpdCB0aGlzLmluaXQoKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdCgpIHsKICAgICAgdGhpcy5pbml0UHJvZHVjdEluZm8oKTsKICAgICAgYXdhaXQgdGhpcy5pbml0T3RoZXJJbmZvKCk7CiAgICAgIGF3YWl0IHRoaXMuaW5pdE1nY0luZm8oKTsKICAgICAgLy8g5bCG5bim5YWl55qE5L+h5oGv5aSN5Yi25YiwIGZvcm0g5a+56LGh5LiKCiAgICAgIC8vT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fc2FsZSwgdGhpcy5mb3JtX3NhbGVfaW5pdCkKICAgIH0sCiAgICAvL+WIneWni+WMluihqOagvOS/oeaBrwogICAgaW5pdFRhYmxlRGF0YVNhbGUoKSB7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9zYWxlLmJ1aWxkRGF0YSgpCiAgICB9LAogICAgLy8g5Yid5aeL5YyW5Lqn5ZOB5L+h5oGvCiAgICBpbml0UHJvZHVjdEluZm8oKSB7CiAgICAgIGxldCBwZFBwSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCk7CiAgICAgIHRoaXMucHJvZHVjdC5pZD1wZFBwSW5mby5pZDsKICAgICAgdGhpcy5wcm9kdWN0LnBkSW5mb0lkPXBkUHBJbmZvLnBkSW5mb0lkOwogICAgICB0aGlzLnByb2R1Y3QucGRDb2RlPXBkUHBJbmZvLnBwQ29kZTsKICAgICAgdGhpcy5wcm9kdWN0LnBkTmFtZT1wZFBwSW5mby5wcE5hbWU7CiAgICAgIHRoaXMucGFyYW1zX3NhbGUucGRJbmZvSWQgPSBwZFBwSW5mby5pZDsKICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICBpZiAoY29sdW1uKSB7CiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bInByb3BlcnR5Il07CiAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyc19wZFNsTWdjKGNvZGUpIHsKICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICBpZiAocGRTbE1nYy5zbE1nY0NvZGUgPT09IGNvZGUpIHsKICAgICAgICAgIHJldHVybiBwZFNsTWdjLnNsTWdjQ29kZSArICc6JyArIHBkU2xNZ2Muc2xNZ2NOYW1lCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBjb2RlCiAgICB9LAogICAgLy8g5Yid5aeL5YyW5YW25a6D6ZyA6KaB5bim5YWl55qE5L+h5oGvCiAgICBhc3luYyBpbml0T3RoZXJJbmZvKCkgewogICAgICBpZiAodGhpcy5wcm9kdWN0LnBkSW5mb0lkKSB7CiAgICAgICAgLy8g5bim5YWl5L+d5Y2V5biB56eNCiAgICAgICAgY29uc3QgcGFyYW1zTWFwID0gewogICAgICAgICAgcGRfaW5mb19pZDogdGhpcy5wcm9kdWN0LnBkSW5mb0lkLAogICAgICAgICAgcGRfYXRyc19jb2RlOiAncHJvZHVjdEN1cnJlbmN5JwogICAgICAgIH0KICAgICAgICBjb25zdCBwZHRlbXBQZEF0cnNJbmZvID0gKGF3YWl0IGdldFBkQXR0ckluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtc01hcCkpKS5kYXRhCiAgICAgICAgaWYgKCEhcGR0ZW1wUGRBdHJzSW5mbykgewogICAgICAgICAgdGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsQ3VyciA9IHRoaXMuXy5tYXAocGR0ZW1wUGRBdHJzSW5mbywgJ3BkQXRyc1ZhbCcpCiAgICAgICAgfQogICAgICAgIC8vIOW4puWFpeS6p+WTgei1t+WUruaXpeacn+WSjOWBnOWUruaXpeacnwogICAgICAgIHRoaXMucGR0ZW1wUGRScHRJbmZvID0gKGF3YWl0IHF1ZXJ5UGRScHRJbmZvQnlQcm9kdWN0SWQodGhpcy5wcm9kdWN0LnBkSW5mb0lkKSkuZGF0YQogICAgICAgIGlmICghIXRoaXMucGR0ZW1wUGRScHRJbmZvKSB7CiAgICAgICAgICB0aGlzLmZvcm1fc2FsZV9pbml0LnBkU2xTdGFydERhdGUgPSB0aGlzLnBkdGVtcFBkUnB0SW5mby5wZFN0YXJ0RGF0ZTsKICAgICAgICAgIHRoaXMuZm9ybV9zYWxlX2luaXQucGRTbEVuZERhdGUgPSB0aGlzLnBkdGVtcFBkUnB0SW5mby5wZFN0b3BEYXRlCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgaW5pdE1nY0luZm8oKSB7CiAgICAgIGlmICghdGhpcy5wcm9kdWN0LnBkSW5mb0lkKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5wZFNsTWdjT3B0aW9ucz1bXTsKICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIChhd2FpdCBnZXRBbGxTeXNTbE1nYygpKS5kYXRhKSB7CiAgICAgICAgdGhpcy5wZFNsTWdjT3B0aW9ucy5wdXNoKHBkU2xNZ2MpCiAgICAgIH0KICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICB0aGlzLiRzZXQocGRTbE1nYywgJ2Rpc2FibGVkJywgZmFsc2UpCiAgICAgIH0KICAgIH0sCiAgICBjaGVja1NhbGVBdHRyaWJ1dGVUYWJsZSh2YWwpewogICAgICB0aGlzLmNoZWNrU2FsZUF0dHJpYnV0ZT12YWwKICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsKICAgICAgICBpZih0aGlzLmNoZWNrU2FsZUF0dHJpYnV0ZS5sZW5ndGg9PTEpewogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fc2FsZV91cGRhdGUsdmFsWzBdKTsKICAgICAgICAgIC8vIOe9rueBsOWFqOacuuaehOWSjOWFqOa4oOmBkwogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlID09PSAnMDAwMCc7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gWycwMCddCiAgICAgICAgfWVsc2UgaWYodGhpcy5jaGVja1NhbGVBdHRyaWJ1dGUubGVuZ3RoPT0wKXsKICAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlTW9yZVRheCgpewogICAgICB0aGlzLmhhbmRsZURlbGV0ZSgpCiAgICB9LAogICAgY2FuY2VsVXBkYXRlU2FsZSgpIHsKICAgICAgdGhpcy5zZWxlY3RlZFNhbGUgPSB7fTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMucmVzZXRGb3JtU2FsZSgpOwogICAgICAgIHRoaXMucmVzZXRGb3JtU2FsZVVwZGF0ZSgpCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm1fc2FsZS52YWxpZGF0ZShhc3luYyBwYXNzID0+IHsKICAgICAgICBpZiAocGFzcykgewogICAgICAgICAgdGhpcy5mb3JtX3NhbGUucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7CiAgICAgICAgICB0aGlzLmZvcm1fc2FsZS5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQ7CiAgICAgICAgICB0aGlzLmZvcm1fc2FsZS5wZENvZGUgPSB0aGlzLnByb2R1Y3QucGRDb2RlOwogICAgICAgICAgdGhpcy5mb3JtX3NhbGUucGROYW1lID0gdGhpcy5wcm9kdWN0LnBkTmFtZTsKICAgICAgICAgIHRoaXMuZm9ybV9zYWxlLnBkVHlwZSA9ICcyJzsKICAgICAgICAgIGxldCBtYXAgPSB7CiAgICAgICAgICAgICdwZHRlbXBQZFNsSW5mbyc6IHRoaXMuZm9ybV9zYWxlCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyhtYXApCiAgICAgICAgICAvLyDmlrDlop4KICAgICAgICAgIGFkZFBkdGVtcFBkU2xJbmZvKHRoaXMuZm9ybV9zYWxlKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkKICAgICAgICAgICAgdXBkYXRlUGR0ZW1wUHBJbmZvKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShtYXApKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5yZXNldEZvcm1TYWxlKCk7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9zYWxlLnJlbG9hZCgpOwogICAgICAgICAgICAvL+WRiuefpeeItumhtemdouW3sue7j+S/neWtmAogICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGlsZEZuJywgdHJ1ZSk7CgogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdmb3JtLmZvcm1fdmFsaWRhdGlvbl9mYWlsZWQnKSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlVXBkYXRlKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm1fc2FsZV91cGRhdGUudmFsaWRhdGUoYXN5bmMgcGFzcyA9PiB7CiAgICAgICAgaWYgKHBhc3MpIHsKICAgICAgICAgIC8vIOabtOaWsAogICAgICAgICAgdXBkYXRlUGR0ZW1wUGRTbEluZm8odGhpcy5mb3JtX3NhbGVfdXBkYXRlKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnVwZGF0ZScpKQogICAgICAgICAgICB0aGlzLmNhbmNlbFVwZGF0ZVNhbGUoKTsKICAgICAgICAgICAgLy/lkYrnn6XniLbpobXpnaLlt7Lnu4/kv53lrZgKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hpbGRGbicsIHRydWUpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2Vfc2FsZS5idWlsZERhdGEoKQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdmb3JtLmZvcm1fdmFsaWRhdGlvbl9mYWlsZWQnKSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRGVsZXRlKCkgewogICAgICAvLyDliKDpmaQKICAgICAgbGV0IGRlbEtleXMgPSAgdGhpcy5jaGVja1NhbGVBdHRyaWJ1dGUubWFwKHNhbGUgPT4gc2FsZS5pZCkKICAgICAgZGVsZXRlUGR0ZW1wUGRTbEluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHsiZGVsS2V5cyI6IGRlbEtleXN9KSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQogICAgICAgIHRoaXMuY2FuY2VsVXBkYXRlU2FsZSgpOwogICAgICAgIHRoaXMuJHJlZnMucGFnZV9zYWxlLnJlbG9hZCgpCiAgICAgIH0pCiAgICB9LAogICAgY2xlYXJGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICB0aGlzLnJlc2V0Rm9ybVNhbGVVcGRhdGUoKQogICAgICAgIHRoaXMucmVzZXRGb3JtU2FsZSgpCgogICAgfSwKICAgIHJlc2V0Rm9ybVNhbGUoKSB7CiAgICAgIHRoaXMuZm9ybV9zYWxlID0gewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRUeXBlOiAnJywKICAgICAgICBwZENvZGU6ICcnLAogICAgICAgIHBkU2xNZ2M6IFtdLAogICAgICAgIHBkU2xNZ2NMZXY6ICcnLAogICAgICAgIHBkU2xDaGFubDogW10sCiAgICAgICAgcGRTbEN1cnI6IFtdLAogICAgICAgIHBkU2xTdGF0ZTogJ1knLAogICAgICAgIHBkU2xTdGFydERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBwZFNsRW5kRGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgb3BlcmF0b3I6ICcnCiAgICAgIH07CiAgICAgIC8vIOWwhuW4puWFpeeahOS/oeaBr+WkjeWItuWIsCBmb3JtIOWvueixoeS4igogICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9zYWxlLCB0aGlzLmZvcm1fc2FsZV9pbml0KTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9zYWxlLmNsZWFyVmFsaWRhdGUoKQogICAgICB9KQogICAgfSwKICAgIHJlc2V0Rm9ybVNhbGVVcGRhdGUoKSB7CiAgICAgIHRoaXMuZm9ybV9zYWxlX3VwZGF0ZS5wZFNsTWdjID0gJyc7CiAgICAgIHRoaXMuZm9ybV9zYWxlX3VwZGF0ZS5wZFNsQ2hhbmwgPSAnJzsKICAgICAgdGhpcy5mb3JtX3NhbGVfdXBkYXRlLnBkU2xDdXJyID0gJyc7CiAgICAgIHRoaXMuZm9ybV9zYWxlX3VwZGF0ZS5wZFNsU3RhdGUgPSAnWSc7CiAgICAgIHRoaXMuZm9ybV9zYWxlX3VwZGF0ZS5wZFNsU3RhcnREYXRlID0gdGhpcy5mb3JtX3NhbGVfaW5pdC5wZFNsU3RhcnREYXRlOwogICAgICB0aGlzLmZvcm1fc2FsZV91cGRhdGUucGRTbEVuZERhdGUgPSB0aGlzLmZvcm1fc2FsZV9pbml0LnBkU2xFbmREYXRlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtX3NhbGVfdXBkYXRlLmNsZWFyVmFsaWRhdGUoKQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-sales-def/sale-attr-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n    <!-- 产品套餐销售属性表格 -->\r\n    <cus-table-title :label=\"$t('saleAttributeDefinition.product_sales_attribute_information')\"></cus-table-title>\r\n    <el-table :data=\"tableData_sale\"  ref=\"multipleTable\" @selection-change=\"checkSaleAttributeTable\" border element-loading-text=\"Loading\" fit size=\"mini\">\r\n      <el-table-column :label=\"$t('productValueAddedTax.select')\" type=\"selection\" align=\"center\" width=\"50px\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('saleAttributeDefinition.pdSlMgc')\" align=\"center\" prop=\"pdSlMgc\" :filter-method=\"filterHandler\" :filters=\"pdSlMgcFilters\">\r\n        <template v-slot=\"scope\">{{scope.row.pdSlMgc | filter_pdSlMgc}}</template>\r\n      </el-table-column>\r\n      <el-table-column  :filter-method=\"filterHandler\" :filters=\"pdSlChanlFilters\"\r\n                       :label=\"$t('saleAttributeDefinition.pdSlChanl')\" align=\"center\" prop=\"pdSlChanl\">\r\n        <template v-slot=\"scope\">{{scope.row.pdSlChanl | filter_pdSlChanl}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('saleAttributeDefinition.pdSlCurr')\" align=\"center\" prop=\"pdSlCurr\">\r\n        <template v-slot=\"scope\">{{scope.row.pdSlCurr | filter_pdSlCurr}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('saleAttributeDefinition.pdSlState')\" align=\"center\" prop=\"pdSlState\">\r\n        <template v-slot=\"scope\">{{scope.row.pdSlState | filter_pdSlState}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('saleAttributeDefinition.pdSlStartDate')\" align=\"center\"\r\n                       prop=\"pdSlStartDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('saleAttributeDefinition.pdSlEndDate')\" align=\"center\"\r\n                       prop=\"pdSlEndDate\"></el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :autoBuild=\"false\" :pageSize=\"10\" :params=\"params_sale\" ref=\"page_sale\"\r\n                    url=\"/pd-package-sale-def/base/list\" v-model=\"tableData_sale\"/>\r\n    <el-row v-if=\"this.checkSaleAttribute.length>1\" style=\"float: right\">\r\n      <el-button  size=\"small\"  @click=\"deleteMoreTax\" v-auth=\"'pdtemp-pd-value-added-tax:delete'\" icon=\"el-icon-delete\" type=\"danger\" dialog-disable=\"disable\">{{$t('table.delete')}}</el-button>\r\n    </el-row>\r\n    <div v-if=\"this.checkSaleAttribute.length<2\" >\r\n    <!-- 产品销售基本信息表单（新增） -->\r\n    <el-form :model=\"form_sale\" :rules=\"rules\" label-position=\"right\" label-width=\"118px\"\r\n             ref=\"form_sale\" style=\"margin: 50px 0 0 0\" v-show=\"this.checkSaleAttribute.length=='0'\">\r\n      <cus-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlMgc')\" prop=\"pdSlMgc\">\r\n            <el-select :placeholder=\"$t('form.please_select')\" clearable filterable multiple\r\n                       v-model=\"form_sale.pdSlMgc\">\r\n              <el-option :disabled=\"pdSlMgc.disabled\" :key=\"pdSlMgc.slMgcCode\"\r\n                         :label=\"pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\"\r\n                         :value=\"pdSlMgc.slMgcCode\" v-for=\"pdSlMgc in pdSlMgcOptions\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlChanl')\" prop=\"pdSlChanl\">\r\n            <cus-multi-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                              v-model=\"form_sale.pdSlChanl\"></cus-multi-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlCurr')\" prop=\"pdSlCurr\">\r\n            <cus-multi-select :codetype=\"'productCurrency'\" v-model=\"form_sale.pdSlCurr\"></cus-multi-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n      <cus-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlState')\" prop=\"pdSlState\">\r\n            <cus-radio :codetype=\"'pdSlState'\" v-model=\"form_sale.pdSlState\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlStartDate')\" prop=\"pdSlStartDate\">\r\n            <el-date-picker :placeholder=\"$t('form.please_select')\" clearable  :disabled=\"form_sale.pdSlState=='N'\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            v-model=\"form_sale.pdSlStartDate\" ></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlEndDate')\" prop=\"pdSlEndDate\">\r\n            <el-date-picker :placeholder=\"$t('form.please_select')\" clearable\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            v-model=\"form_sale.pdSlEndDate\" ></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n    </el-form>\r\n    <!-- 产品销售基本信息表单（修改） -->\r\n    <el-form  :model=\"form_sale_update\" :rules=\"rules\" label-position=\"right\" label-width=\"118px\"\r\n             ref=\"form_sale_update\" style=\"margin: 50px 0 0 0\" v-show=\"this.checkSaleAttribute.length=='1'\">\r\n      <cus-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlMgc')\" prop=\"pdSlMgc\">\r\n            <el-select :placeholder=\"$t('form.please_select')\" clearable filterable v-model=\"form_sale_update.pdSlMgc\">\r\n              <el-option :disabled=\"pdSlMgc.disabled\" :key=\"pdSlMgc.slMgcCode\"\r\n                         :label=\"pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\" :value=\"pdSlMgc.slMgcCode\"\r\n                         v-for=\"pdSlMgc in pdSlMgcOptions\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlChanl')\" prop=\"pdSlChanl\">\r\n            <cus-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                        v-model=\"form_sale_update.pdSlChanl\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlCurr')\" prop=\"pdSlCurr\">\r\n            <cus-select :codetype=\"'productCurrency'\" v-model=\"form_sale_update.pdSlCurr\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n      <cus-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlState')\" prop=\"pdSlState\">\r\n            <cus-radio :codetype=\"'pdSlState'\" v-model=\"form_sale_update.pdSlState\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlStartDate')\" prop=\"pdSlStartDate\">\r\n            <el-date-picker :placeholder=\"$t('form.please_select')\" clearable  :disabled=\"form_sale_update.pdSlState=='N'\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            v-model=\"form_sale_update.pdSlStartDate\" ></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('saleAttributeDefinition.pdSlEndDate')\" prop=\"pdSlEndDate\">\r\n            <el-date-picker :placeholder=\"$t('form.please_select')\" clearable\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            v-model=\"form_sale_update.pdSlEndDate\" ></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n    </el-form>\r\n    <!--按钮 -->\r\n    <el-row style=\"float: right;margin: 50px 0 50px 0\">\r\n      <el-button  size=\"small\" @click=\"handleAdd\" icon=\"el-icon-success\" v-auth=\"'pd-package-sale-def:add'\" dialog-disable=\"disable\"\r\n                 type=\"primary\" v-if=\"this.checkSaleAttribute.length=='0'\">{{ $t('saleAttributeDefinition.save') }}</el-button>\r\n      <el-button  size=\"small\" @click=\"handleUpdate\"  type=\"primary\" v-auth=\"'pd-package-sale-def:update'\" dialog-disable=\"disable\"\r\n                 icon=\"el-icon-success\" v-if=\"this.checkSaleAttribute.length=='1'\">{{ $t('saleAttributeDefinition.update') }}\r\n      </el-button>\r\n      <el-button  size=\"small\" :content=\"$t('confirmMessage.delete')\" @click=\"handleDelete\" icon=\"el-icon-delete\" dialog-disable=\"disable\"\r\n                type=\"danger\" v-auth=\"'pd-package-sale-def:delete'\" v-if=\"this.checkSaleAttribute.length=='1'\">{{ $t('saleAttributeDefinition.delete')}}\r\n      </el-button>\r\n      <el-button  size=\"small\" @click=\"clearForm\" icon=\"el-icon-refresh\" dialog-disable=\"disable\" type=\"primary\">{{ $t('saleAttributeDefinition.refresh') }}</el-button>\r\n    </el-row>\r\n    </div>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\n  import {addPdtempPdSlInfo, deletePdtempPdSlInfo, updatePdtempPdSlInfo,updatePdtempPpInfo\r\n    ,getAllSysSlMgc,getPdAttrInfo,queryPdRptInfoByProductId} from \"@/api/basicinfo/saleAttributeDefinition\"\r\n  import {mapGetters} from \"vuex\"\r\n\r\n  let _this\r\n  export default {\r\n    name: 'saleAttributeDefinition',\r\n    filters: {\r\n      filter_pdSlMgc(code) {\r\n        for (const pdSlMgc of _this.pdSlMgcOptions) {\r\n          if (pdSlMgc.slMgcCode === code) {\r\n            return pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\r\n          }\r\n        }\r\n        return code\r\n      },\r\n      filter_pdSlChanl(code) {\r\n        return _this.getCodeName('pdSlChanl', code)\r\n      },\r\n      filter_pdSlCurr(code) {\r\n        return _this.getCodeName('productCurrency', code)\r\n      },\r\n      filter_pdSlState(code) {\r\n        return _this.getCodeName('pdSlState', code)\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n      const validateEndDate = (rule, value, callback) => {\r\n        if (typeof value === 'string') {\r\n          value = this.parse(value, 'yyyy-MM-dd')\r\n        }\r\n        if (typeof this.form_sale_init.pdSlEndDate === 'string') {\r\n          this.form_sale_init.pdSlEndDate = this.parse(this.form_sale_init.pdSlEndDate, 'yyyy-MM-dd')\r\n        }\r\n        if (typeof this.form_sale.pdSlStartDate === 'string') {\r\n          this.form_sale.pdSlStartDate = this.parse(this.form_sale.pdSlStartDate, 'yyyy-MM-dd')\r\n        }\r\n        if (this.form_sale_init.pdSlEndDate && value.getTime() > this.form_sale_init.pdSlEndDate.getTime()) {\r\n          callback(new Error(this.$t('saleAttributeDefinition.message.tooLate') + '：' + this.formatDate(this.form_sale_init.pdSlEndDate, 'yyyy-MM-dd')))\r\n        } else if (this.form_sale.pdSlStartDate && value.getTime() < this.form_sale.pdSlStartDate.getTime()) {\r\n          callback(new Error(this.$t('saleAttributeDefinition.message.earlierThanStart')))\r\n        }\r\n        callback()\r\n      };\r\n      const validateStartDate = (rule, value, callback) => {\r\n        if (typeof value === 'string') {\r\n          value = this.parse(value, 'yyyy-MM-dd')\r\n        }\r\n        if (typeof this.form_sale_init.pdSlStartDate === 'string') {\r\n          this.form_sale_init.pdSlStartDate = this.parse(this.form_sale_init.pdSlStartDate, 'yyyy-MM-dd')\r\n        }\r\n        if (this.form_sale_init.pdSlStartDate && value.getTime() < this.form_sale_init.pdSlStartDate.getTime()) {\r\n          callback(new Error(this.$t('saleAttributeDefinition.message.tooEarly') + '：' + this.formatDate(this.form_sale_init.pdSlStartDate, 'yyyy-MM-dd')))\r\n        }\r\n        callback()\r\n      };\r\n      return {\r\n        // 产品信息\r\n        product: {\r\n          id: undefined,\r\n          pdVerId:'1',\r\n          pdInfoId:'',\r\n          pdCode:'',\r\n          pdName:''\r\n        },\r\n        //初始化下拉选\r\n        pdSlMgcFilters:[],\r\n        pdSlChanlFilters:[],\r\n        checkSaleAttribute:[],\r\n        product_extra: {},\r\n        showPageFlag:'',\r\n        // 监管对象\r\n        pdtempPdRptInfo: {},\r\n        // 储存带入的数据\r\n        form_sale_init: {\r\n          pdSlMgc: [\"0000\"],\r\n          pdSlChanl: [\"00\"],\r\n          pdSlCurr: [],\r\n          pdSlStartDate: undefined,\r\n          pdSlEndDate: undefined\r\n        },\r\n        // 表单\r\n        form_sale: {\r\n          id: undefined,\r\n          operator: '',\r\n          pdInfoId: undefined,\r\n          pdVerId: undefined,\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdName:'',\r\n          pdSlMgc: [],\r\n          pdSlMgcLev: '',\r\n          pdSlChanl: [],\r\n          pdSlCurr: [],\r\n          pdSlState: 'Y',\r\n          pdSlStartDate: undefined,\r\n          pdSlEndDate: undefined,\r\n          createTime: undefined,\r\n          updateTime: undefined\r\n\r\n        },\r\n        form_sale_update: {\r\n          id: undefined,\r\n          pdInfoId: undefined,\r\n          pdVerId: undefined,\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdName:'',\r\n          pdSlMgc: '',\r\n          pdSlMgcLev: '',\r\n          pdSlChanl: '',\r\n          pdSlCurr: '',\r\n          pdSlState: 'Y',\r\n          pdSlStartDate: undefined,\r\n          pdSlEndDate: undefined,\r\n          createTime: undefined,\r\n          updateTime: undefined,\r\n          operator: ''\r\n        },\r\n        // 表格数据\r\n        tableData_sale: [],\r\n        params_sale: {\r\n          eq_pdInfoId: undefined\r\n        },\r\n        selectedSale: {},\r\n        pdSlChanlDisabledCodeArray: [],\r\n        pdSlMgcOptions: [],\r\n\r\n        // 表单验证\r\n        rules: {\r\n          pdSlMgc: [{\r\n            required: true,\r\n            message: this.$t('form.please_enter') + this.$t('saleAttributeDefinition.pdSlMgc'),\r\n            trigger: 'change'\r\n          }],\r\n          pdSlChanl: [{\r\n            required: true,\r\n            message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlChanl'),\r\n            trigger: 'change'\r\n          }],\r\n          pdSlCurr: [{\r\n            required: true,\r\n            message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlCurr'),\r\n            trigger: 'change'\r\n          }],\r\n          pdSlState: [{\r\n            required: true,\r\n            message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlState'),\r\n            trigger: 'change'\r\n          }],\r\n          pdSlStartDate: [{\r\n            required: true,\r\n            message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlStartDate'),\r\n            trigger: 'change'\r\n          }, {validator: validateStartDate, trigger: 'change'}],\r\n          pdSlEndDate: [{\r\n            required: true,\r\n            message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlEndDate'),\r\n            trigger: 'change'\r\n          }, {validator: validateEndDate, trigger: 'change'}]\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      tableData_sale:function() {\r\n        if (this.tableData_sale.length > 0) {\r\n          this.pdSlMgcFilters = [];\r\n          this.pdSlChanlFilters=[];\r\n          this.tableData_sale.forEach(val => {\r\n            this.pdSlMgcFilters.push({\r\n              text: this.filters_pdSlMgc(val.pdSlMgc),\r\n              value: val.pdSlMgc\r\n            });\r\n            this.pdSlChanlFilters.push({\r\n              text: this.getCodeName('pdSlChanl', val.pdSlChanl),\r\n              value: val.pdSlChanl\r\n            });\r\n          });\r\n          //销售机构\r\n          this.pdSlMgcFilters = this.pdSlMgcFilters.reduce(function(prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n          //销售渠道\r\n          this.pdSlChanlFilters = this.pdSlChanlFilters.reduce(function(prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n      },\r\n      'form_sale.pdSlMgc'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = false\r\n          }\r\n        } else {\r\n          if (this._.includes(selectedCodes, '0000')) {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode !== '0000'\r\n            }\r\n          } else {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'form_sale.pdSlChanl'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          this.pdSlChanlDisabledCodeArray = []\r\n        } else {\r\n          let allCodes = this._.map(this.ldcodes['pdSlChanl'], 'code');\r\n          if (this._.includes(selectedCodes, '00')) {\r\n            allCodes = allCodes.filter(code => {\r\n              return code !== '00'\r\n            })\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          } else {\r\n            allCodes = allCodes.filter(code => {\r\n              return code === '00'\r\n            })\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          }\r\n        }\r\n      },\r\n      'form_sale.pdSlStartDate'() {\r\n        const val =this.form_sale.pdSlState;\r\n        if(val=='Y'){\r\n          this.$nextTick(() => {\r\n              this.$refs.form_sale.validateField('pdSlEndDate')\r\n          })\r\n        }\r\n      },\r\n      'form_sale_update.pdSlStartDate'() {\r\n        const val =this.form_sale_update.pdSlStartDate;\r\n        if(val=='Y'){\r\n          this.$nextTick(() => {\r\n              this.$refs.form_sale_update.validateField('pdSlEndDate')\r\n          })\r\n        }\r\n      },\r\n      'form_sale.pdSlState'(){\r\n        const val =this.form_sale.pdSlState;\r\n        if(val=='N'){\r\n          this.rules.pdSlStartDate= [{required: false}]\r\n        }else{\r\n          this.rules.pdSlStartDate= [{required: true, message: this.$t('form.please_select') + this.$t('saleAttributeDefinition.pdSlStartDate'), trigger: 'change'}]\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'ldcodes'\r\n      ])\r\n    },\r\n    mounted() {\r\n      if (this.product.id) {\r\n        this.initTableDataSale()\r\n      }\r\n    },\r\n    async created() {\r\n      this.showPageFlag = this.$route.query.showPageFlag\r\n      await this.init()\r\n    },\r\n    methods: {\r\n      async init() {\r\n        this.initProductInfo();\r\n        await this.initOtherInfo();\r\n        await this.initMgcInfo();\r\n        // 将带入的信息复制到 form 对象上\r\n        //Object.assign(this.form_sale, this.form_sale_init)\r\n      },\r\n      //初始化表格信息\r\n      initTableDataSale() {\r\n        this.$refs.page_sale.buildData()\r\n      },\r\n      // 初始化产品信息\r\n      initProductInfo() {\r\n        let pdPpInfo = this.getPdData();\r\n        this.product.id=pdPpInfo.id;\r\n        this.product.pdInfoId=pdPpInfo.pdInfoId;\r\n        this.product.pdCode=pdPpInfo.ppCode;\r\n        this.product.pdName=pdPpInfo.ppName;\r\n        this.params_sale.pdInfoId = pdPpInfo.id;\r\n      },\r\n      filterHandler(value, row, column) {\r\n        if (column) {\r\n          const property = column[\"property\"];\r\n          return row[property] === value;\r\n        }\r\n      },\r\n      filters_pdSlMgc(code) {\r\n        for (const pdSlMgc of this.pdSlMgcOptions) {\r\n          if (pdSlMgc.slMgcCode === code) {\r\n            return pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\r\n          }\r\n        }\r\n        return code\r\n      },\r\n      // 初始化其它需要带入的信息\r\n      async initOtherInfo() {\r\n        if (this.product.pdInfoId) {\r\n          // 带入保单币种\r\n          const paramsMap = {\r\n            pd_info_id: this.product.pdInfoId,\r\n            pd_atrs_code: 'productCurrency'\r\n          }\r\n          const pdtempPdAtrsInfo = (await getPdAttrInfo(this.buildRequestData(paramsMap))).data\r\n          if (!!pdtempPdAtrsInfo) {\r\n            this.form_sale_init.pdSlCurr = this._.map(pdtempPdAtrsInfo, 'pdAtrsVal')\r\n          }\r\n          // 带入产品起售日期和停售日期\r\n          this.pdtempPdRptInfo = (await queryPdRptInfoByProductId(this.product.pdInfoId)).data\r\n          if (!!this.pdtempPdRptInfo) {\r\n            this.form_sale_init.pdSlStartDate = this.pdtempPdRptInfo.pdStartDate;\r\n            this.form_sale_init.pdSlEndDate = this.pdtempPdRptInfo.pdStopDate\r\n          }\r\n        }\r\n      },\r\n      async initMgcInfo() {\r\n        if (!this.product.pdInfoId) {\r\n          return\r\n        }\r\n        this.pdSlMgcOptions=[];\r\n        for (const pdSlMgc of (await getAllSysSlMgc()).data) {\r\n          this.pdSlMgcOptions.push(pdSlMgc)\r\n        }\r\n        for (const pdSlMgc of this.pdSlMgcOptions) {\r\n          this.$set(pdSlMgc, 'disabled', false)\r\n        }\r\n      },\r\n      checkSaleAttributeTable(val){\r\n        this.checkSaleAttribute=val\r\n        this.$nextTick(()=>{\r\n          if(this.checkSaleAttribute.length==1){\r\n            Object.assign(this.form_sale_update,val[0]);\r\n            // 置灰全机构和全渠道\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000';\r\n            }\r\n            this.pdSlChanlDisabledCodeArray = ['00']\r\n          }else if(this.checkSaleAttribute.length==0){\r\n            this.clearForm()\r\n          }\r\n        })\r\n      },\r\n      deleteMoreTax(){\r\n        this.handleDelete()\r\n      },\r\n      cancelUpdateSale() {\r\n        this.selectedSale = {};\r\n        this.$nextTick(() => {\r\n          this.resetFormSale();\r\n          this.resetFormSaleUpdate()\r\n        })\r\n      },\r\n      handleAdd() {\r\n        this.$refs.form_sale.validate(async pass => {\r\n          if (pass) {\r\n            this.form_sale.pdInfoId = this.product.id;\r\n            this.form_sale.pdVerId = this.product.pdVerId;\r\n            this.form_sale.pdCode = this.product.pdCode;\r\n            this.form_sale.pdName = this.product.pdName;\r\n            this.form_sale.pdType = '2';\r\n            let map = {\r\n              'pdtempPdSlInfo': this.form_sale\r\n            }\r\n            console.log(map)\r\n            // 新增\r\n            addPdtempPdSlInfo(this.form_sale).then(() => {\r\n              this.notifySuccess(this.$t('successMessage.save'))\r\n              updatePdtempPpInfo(this.buildRequestData(map)).then(() => {\r\n              })\r\n              this.resetFormSale();\r\n              this.$refs.page_sale.reload();\r\n              //告知父页面已经保存\r\n              this.$emit('childFn', true);\r\n\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('form.form_validation_failed'))\r\n          }\r\n        })\r\n      },\r\n      handleUpdate() {\r\n        this.$refs.form_sale_update.validate(async pass => {\r\n          if (pass) {\r\n            // 更新\r\n            updatePdtempPdSlInfo(this.form_sale_update).then(() => {\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n              this.cancelUpdateSale();\r\n              //告知父页面已经保存\r\n              this.$emit('childFn', true);\r\n              this.$refs.page_sale.buildData()\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('form.form_validation_failed'))\r\n          }\r\n        })\r\n      },\r\n      handleDelete() {\r\n        // 删除\r\n        let delKeys =  this.checkSaleAttribute.map(sale => sale.id)\r\n        deletePdtempPdSlInfo(this.buildRequestData({\"delKeys\": delKeys})).then(() => {\r\n          this.notifySuccess(this.$t('successMessage.delete'))\r\n          this.cancelUpdateSale();\r\n          this.$refs.page_sale.reload()\r\n        })\r\n      },\r\n      clearForm() {\r\n        this.$refs.multipleTable.clearSelection();\r\n          this.resetFormSaleUpdate()\r\n          this.resetFormSale()\r\n\r\n      },\r\n      resetFormSale() {\r\n        this.form_sale = {\r\n          id: undefined,\r\n          pdInfoId: undefined,\r\n          pdVerId: undefined,\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdSlMgc: [],\r\n          pdSlMgcLev: '',\r\n          pdSlChanl: [],\r\n          pdSlCurr: [],\r\n          pdSlState: 'Y',\r\n          pdSlStartDate: undefined,\r\n          pdSlEndDate: undefined,\r\n          createTime: undefined,\r\n          updateTime: undefined,\r\n          operator: ''\r\n        };\r\n        // 将带入的信息复制到 form 对象上\r\n        Object.assign(this.form_sale, this.form_sale_init);\r\n        this.$nextTick(() => {\r\n          this.$refs.form_sale.clearValidate()\r\n        })\r\n      },\r\n      resetFormSaleUpdate() {\r\n        this.form_sale_update.pdSlMgc = '';\r\n        this.form_sale_update.pdSlChanl = '';\r\n        this.form_sale_update.pdSlCurr = '';\r\n        this.form_sale_update.pdSlState = 'Y';\r\n        this.form_sale_update.pdSlStartDate = this.form_sale_init.pdSlStartDate;\r\n        this.form_sale_update.pdSlEndDate = this.form_sale_init.pdSlEndDate;\r\n        this.$nextTick(() => {\r\n          this.$refs.form_sale_update.clearValidate()\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .showDiv {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-top: -40px;\r\n    margin-left: -40px;\r\n    position: absolute;\r\n    background: #ffffff00;\r\n    z-index: 999;\r\n  }\r\n\r\n</style>\r\n"]}]}
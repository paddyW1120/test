{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-acceptance-info-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-acceptance-info-def\\index.vue","mtime":1609847106913},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBhZGRQZHRlbXBQZE5iSW5mbywNCiAgYWRkQWxsUGR0ZW1wUGROYkluZm8sDQogIHVwZGF0ZVBkdGVtcFBkTmJJbmZvLA0KICBhZGRQZHRlbXBQZFJlbGEsDQogIGRlbGV0ZVBkdGVtcFBkTmJJbmZvLA0KICBkZWxldGVQZHRlbXBQZFJlbGEsDQogIHBkdGVtcFBkQm5mdFF1ZXJ5LA0KICBwZHRlbXBQZENsbUJuZnRRdWVyeSwNCiAgcGR0ZW1wUGRDbHNMYWJMaXN0LA0KICBwcm9ncmFtbWVRdWVyeSwNCiAgc2VsZWN0QWxsSW5mbywNCiAgdXBkYXRlUGR0ZW1wUGRSZWxhLA0KICBpbml0aWFsaXphdGlvblNob3csDQogIGdldE9uZVNlbGVjdCwNCiAgZGVsZXRlUGR0ZW1wTGFiZWxEZWYsDQogIHVwZGF0ZVBkdGVtcFBkTGFiZWxEZWYsDQogIGFkZFBkdGVtcFBkTGFiZWxEZWYsDQogIGF0dHJpYnV0ZUNoYW5nZSwNCiAgdHlwZUNoYW5nZSwNCiAgZGVsZXRlUGR0ZW1wUGROYkluZm9MaXN0LA0KICBpbml0UGR0ZW1wTGFiZWxEZWYNCn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkbmJpbmZvIjsNCg0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IG9wZXJhdGlvbmJ1dHRvbiBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9vcGVyYXRpb25lbmQvaW5kZXgiOw0KaW1wb3J0IHsgZmluZEFsbFByb2R1Y3RCeVBkRGV0YWlsVHlwZSB9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZGNsYWltdmVyaWZpY2F0aW9uIjsNCg0KbGV0IF90aGlzOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicGR0ZW1wUGROYkluZm8iLA0KICBjb21wb25lbnRzOiB7IG9wZXJhdGlvbmJ1dHRvbiB9LA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyX2NvZGVUeXBlKGNvZGUsIHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgPT09ICJwZEN2bGlEYXRlTW9kZSIpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJyZW5ld2FsRWZmZWN0aXZlRGF0ZSIsIGNvZGUpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAicGRRdWVzdEVkaXQiKSB7DQogICAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgiRGVtYW5kUXVlc3Rpb25uYWlyZVNlY3Rpb24iLCBjb2RlKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gInBkSW1wYXJ0RWRpdCIpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJJbmZvcm1WZXJzaW9uIiwgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJwZFJlbGFWYWwiKSB7DQogICAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgiaW5zdXJhbmNlUmVsYXRpb25zaGlwIiwgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJwZFJlbGFDYXRlIikgew0KICAgICAgICAvL+ixgeWFjeexu+Weiw0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoImV4ZW1wdGlvblR5cGUiLCBjb2RlKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gInBkZXhwdHNjcHR5cGUiKSB7DQogICAgICAgIC8v6LGB5YWN57G75Z6LDQogICAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGRleHB0c2NwdHlwZSIsIGNvZGUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyTGFiZWxBdHRyKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgibGFiZWwtYXR0ciIsIGNvZGUpOw0KICAgIH0sDQogICAgZmlsdGVyTGFiZWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgibGFiZWwtdHlwZSIsIGNvZGUpOw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXM7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhclNob3c6ICIxIiwNCiAgICAgIGRpYWxvZ1Nob3c6IGZhbHNlLA0KICAgICAgZGlhbG9nVGl0bGU6ICIiLA0KICAgICAgZGlhbG9nQ29tcG9uZW50OiAiIiwNCiAgICAgIHBkSW5mbzoge30sDQogICAgICBwcm9kdWN0T3B0aW9uTGlzdDogW10sDQogICAgICBlZGl0aW9uT3B0aW9uTGlzdDogW10sDQogICAgICB0eXBlOiAicHJvZHVjdENvdmVyRmxhZyIsDQogICAgICBwZFByb2Nlc3NJZDogIiIsDQogICAgICBzaG93UGFnZUZsYWc6IDAsDQogICAgICBzaG93QnV0dG9uOiBmYWxzZSwNCiAgICAgIHNob3dCdXR0b24yOiBmYWxzZSwNCiAgICAgIHNob3dCdXR0b24zOiBmYWxzZSwNCiAgICAgIHNob3dUYWJsZTpmYWxzZSwNCiAgICAgIC8vIOS6p+WTgeS/oeaBrw0KICAgICAgcHJvZHVjdDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZENvZGU6ICIiLA0KICAgICAgICBwZEVkaXRpb246ICIiLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkU2FsZWNobmw6ICIiLA0KICAgICAgICBwZE5hbWU6ICIiLA0KICAgICAgICBwZFNob3J0bmFtZTogIiIsDQogICAgICAgIHBkRW5OYW1lOiAiIiwNCiAgICAgICAgcGRTaG9ydEVuTmFtZTogIiIsDQogICAgICAgIG9wZXJhdG9yOiAiIiwNCiAgICAgICAgcGRBcHBsRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIHBkU2FsZUNoYW5sOiBbIjAwIl0sDQogICAgICB1cGRhdGVfcGRTYWxlQ2hhbmw6ICIiLA0KICAgICAgcGRTYWxlQ2hhbmxEaXNhYmxlZENvZGVBcnJheTogW10sDQogICAgICBxdWVzdEVkaXRfcGRTYWxlQ2hhbmw6IFsiMDAiXSwNCiAgICAgIHF1ZXN0RWRpdEFycmF5OiBbXSwNCiAgICAgIHVwZGF0ZV9xdWVzdEVkaXRfcGRTYWxlQ2hhbmw6ICIiLA0KICAgICAgc2VsZWN0ZWRRdWVzdEVkaXQ6IFtdLA0KICAgICAgcXVlc3RFZGl0RGF0YUFycmF5OiBbXSwNCiAgICAgIC8v5Lqn5ZOB5om/5L+dDQogICAgICBzZWFyY2hGb3JtMTogew0KICAgICAgICBxdWVzdEVkaXRJZDogIiIsDQogICAgICAgIGltcGFydEVkaXRJZDogIiIsDQogICAgICAgIHBkc2xDaGFubDogIiIsDQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgcGRWZXJJZDogIiIsDQogICAgICAgIG9wZXJhdG9yOiAiIiwNCiAgICAgICAgcGRUeXBlOiAiIiwNCiAgICAgICAgcGRJbmZvSWQ6ICIiLA0KICAgICAgICBwZENvZGU6ICIiLA0KICAgICAgICBwZE5hbWU6ICIiLA0KICAgICAgICBwZE5iQ2hvVHlwZTogIiIsDQogICAgICAgIHBkTmJDaG9WYWw6ICIiDQogICAgICB9LA0KICAgICAgc2VsZWN0ZWRJbXBhcnRFZGl0OiBbXSwNCiAgICAgIHBkQ3ZsaURhdGVNb2RlOiAiMSIsIC8v5L+d5Y2V55Sf5pWI5pel6K6h566X5pa55byPDQogICAgICBwZFF1ZXN0RWRpdDogW10sIC8v6ZyA5rGC6Zeu5Y235pWw57uEDQogICAgICBwZFF1ZXN0VXBkYXRlOiAiIiwgLy/pnIDmsYLpl67ljbcNCiAgICAgIHBkUXVlc3REZXNjcmliZTogIiIsIC8v6ZyA5rGC6Zeu5Y235o+P6L+wDQogICAgICBwZEltcGFydEVkaXQ6IFtdLCAvL+WRiuefpeeJiOWIq+aVsOe7hA0KICAgICAgcGRJbXBhcnRVcGRhdGU6ICIiLCAvL+WRiuefpeeJiOWIqw0KICAgICAgcGRJbXBhcnREZXNjcmliZTogIiIsIC8v5ZGK55+l54mI5Yir5o+P6L+wDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgc2VsZWN0ZWREZWYxOiAiIiwgLy/ooajmoLzljZXpgInmjInpkq4NCiAgICAgIC8v6KGo5qC85pWw5o2uDQogICAgICBxdWVzdEVkaXRUYWJsZTogW10sDQogICAgICBpbXBhcnRFZGl0VGFibGU6IFtdLA0KICAgICAgcG9saWN5RWZmZWN0aXZlRGF0ZVRhYmxlOiBbXSwNCiAgICAgIHBvbGljeUVmZmVjdGl2ZURhdGVKc29uOiB7fSwNCiAgICAgIHNlbGVjdGVkUG9saWN5RWZmZWN0aXZlRGF0ZTogW10sDQogICAgICBwb2xpY3lFZmZlY3RpdmVEYXRlUGFyYW1zOiB7DQogICAgICAgIGVxX3BkSW5mb0lkOiAiIiwNCiAgICAgICAgZXFfcGROYkNob1R5cGU6ICIwMCINCiAgICAgIH0sDQogICAgICBxdWVzdEVkaXRQYXJhbXM6IHsNCiAgICAgICAgZXFfcGRJbmZvSWQ6ICIiLA0KICAgICAgICBlcV9wZE5iQ2hvVHlwZTogIjAxIg0KICAgICAgfSwNCiAgICAgIGltcGFydEVkaXRBcnJheTogW10sDQogICAgICBpbXBhcnRFZGl0X3BkU2FsZUNoYW5sOiBbIjAwIl0sDQogICAgICB1cGRhdGVfaW1wYXJ0RWRpdF9wZFNhbGVDaGFubDogIiIsDQogICAgICBpbXBhcnRFZGl0SnNvbjoge30sDQogICAgICBpbXBhcnRFZGl0UGFyYW1zOiB7DQogICAgICAgIGVxX3BkSW5mb0lkOiAiIiwNCiAgICAgICAgZXFfcGROYkNob1R5cGU6ICIwMiINCiAgICAgIH0sDQogICAgICBxdWVzdEVkaXRKc29uOiB7fSwNCiAgICAgIGNvbmZpZ3M6IFtdLA0KICAgICAgLy/ooajmoLznrZvpgIkNCiAgICAgIHBkUmVsYVZhbEZpbHRlcnM6IFtdLA0KICAgICAgLy/mn6Xor6Llj4LmlbANCiAgICAgIHBhcmFtczogew0KICAgICAgICBlcV9wZEluZm9JZDogIiINCiAgICAgIH0sDQogICAgICAvL+S6p+WTgeWFs+iBlOWFs+ezuw0KICAgICAgc2VhcmNoRm9ybTI6IHsNCiAgICAgICAgcGRDb2RlOiAiIiwgLy/kuqflk4HnvJbnoIENCiAgICAgICAgcGROYW1lOiAiIiwgLy/kuqflk4HlkI3np7ANCiAgICAgICAgcGRJbmZvSWQ6ICIiLCAvL+S6p+WTgWlkDQogICAgICAgIElkOiAiIiwNCiAgICAgICAgZmxhZzogdHJ1ZSwgLy/ni6znq4votbTnuqbnmoTmmK/lkKblj6/mk43kvZwNCiAgICAgICAgZGV0YWlsc1Nob3c6IGZhbHNlLCAvL+abtOWkmumhueeahOaYvuekuuS4jumakOiXjw0KICAgICAgICBpbnN1cmFuY2VNYXJrOiAiIiwgLy/kuLvpmYTpmanmoIforrANCiAgICAgICAgc2hvd0ZsYWc6IGZhbHNlLA0KICAgICAgICBhY2NmZWU6IHRydWUsDQogICAgICAgIHBkUmVsYUNhdGU6ICIiLA0KICAgICAgICBwZEl0ZW1DYXRlOiAiIiwNCiAgICAgICAgcGRJdGVtVmFsOiAiIiwNCiAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICIiLA0KICAgICAgICBwZFJlbGFJdGVtVmFsOiAiIiwgLy/lhbPogZTpobnlgLwgLS0g5pCt6YWN6Zmp56eN5YC8DQogICAgICAgIHBkUmVsYVZhbDogIiIsIC8v6Zmp56eN5YWz57O7DQogICAgICAgIHBkUmVsYURlc2M6ICIiLA0KICAgICAgICBwZEluZHBSaWRlcjogZmFsc2UgLy/ni6znq4vpmYTnuqYNCiAgICAgIH0sDQogICAgICBncmlkRGF0YTogW10sIC8v5pu05aSa6aG555qE6KGo5qC8DQogICAgICBncmlkUGFyYW1zOiB7DQogICAgICAgIGVxX3BkRGV0YWlsVHlwZTogIiIsDQogICAgICAgIGVxX3BkRWRpdGlvbjogIiIsDQogICAgICAgIGVxX3BkQ29kZTogIiIsDQogICAgICAgIGVxX3BkSW5mb0lkOiAiIiwNCiAgICAgICAgcGRPblNhbGU6ICIiLA0KICAgICAgICBwZFN0YXJ0RGF0ZTogIiIsDQogICAgICAgIHBkU3RvcERhdGU6ICIiLA0KICAgICAgICBwZE1haW5TdWJGbGFnOiAiIiwNCiAgICAgICAgZGVzaWduVHlwZTogIiINCiAgICAgIH0sIC8v5p+l6K+i5Y+C5pWwDQogICAgICBncmlkU2VsZWN0ZWREZWYxOiAiIiwNCiAgICAgIHNlbGVjdGVkRGVmMjoge30sIC8v6KGo5qC85Y2V6YCJ5oyJ6ZKuDQogICAgICAvL+ihqOagvOaVsOaNrg0KICAgICAgY29uZmlnczI6IFtdLA0KICAgICAgLy/mn6Xor6Llj4LmlbANCiAgICAgIHBhcmFtczI6IHsNCiAgICAgICAgZXFfcGRJbmZvSWQ6ICIiLA0KICAgICAgICBlcV9wZFJlbGFDYXRlOiAiUmlza1JlbGEiDQogICAgICB9LA0KICAgICAgb3B0aW9uczE6IFtdLCAvL+iHquWumuS5ieS4i+aLiemAieWAvA0KICAgICAgb3B0aW9uczI6IFtdLCAvL+iHquWumuS5ieS4i+aLiemAieWAvA0KICAgICAgLy/kuqflk4HosYHlhY0NCiAgICAgIHNlYXJjaEZvcm0zOiB7DQogICAgICAgIHBkQ29kZTogIiIsIC8v5Lqn5ZOB57yW56CBDQogICAgICAgIHBkTmFtZTogIiIsIC8v5Lqn5ZOB5ZCN56ewDQogICAgICAgIHBkSW5mb0lkOiAiIiwgLy/kuqflk4FpZA0KICAgICAgICBJZDogIiIsDQogICAgICAgIGZsYWc6IHRydWUsIC8v54us56uL6LW057qm55qE5piv5ZCm5Y+v5pON5L2cDQogICAgICAgIGRldGFpbHNTaG93OiBmYWxzZSwgLy/mm7TlpJrpobnnmoTmmL7npLrkuI7pmpDol48NCiAgICAgICAgaW5zdXJhbmNlTWFyazogIiIsIC8v5Li76ZmE6Zmp5qCH6K6wDQogICAgICAgIHNob3dGbGFnOiBmYWxzZSwNCiAgICAgICAgYWNjZmVlOiB0cnVlLA0KICAgICAgICBwZFJlbGFDYXRlOiAiIiwgLy/osYHlhY3nsbvlnosNCiAgICAgICAgcGRJdGVtQ2F0ZTogIiIsDQogICAgICAgIHBkSXRlbVZhbDogIiIsIC8v6LGB5YWN5pa55qGIL+S/nemanGNvZGUNCiAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICIiLA0KICAgICAgICBwZFJlbGFJdGVtVmFsOiAiIiwgLy/lhbPogZTpobnlgLwgLS0g5pCt6YWN6Zmp56eN5YC8DQogICAgICAgIHBkUmVsYVZhbDogIiIsIC8v6KKr6LGB5YWN57G75Z6LDQogICAgICAgIHBkUmVsYURlc2M6ICIiLA0KICAgICAgICBwZEluZHBSaWRlcjogZmFsc2UgLy/ni6znq4vpmYTnuqYNCiAgICAgIH0sDQogICAgICBncmlkRGF0YTI6IFtdLCAvL+abtOWkmumhueeahOihqOagvA0KICAgICAgZ3JpZFBhcmFtczI6IHsNCiAgICAgICAgZXFfcGREZXRhaWxUeXBlOiAiIiwNCiAgICAgICAgZXFfcGRFZGl0aW9uOiAiIiwNCiAgICAgICAgZXFfcGRDb2RlOiAiIiwNCiAgICAgICAgZXFfcGRJbmZvSWQ6ICIiLA0KICAgICAgICBkZXNpZ25UeXBlOiAiIiwNCiAgICAgICAgcGRNYWluU3ViRmxhZzogIiINCiAgICAgIH0sIC8v5p+l6K+i5Y+C5pWwDQogICAgICBleGVtcHRpb25Db250ZW50OiAiIiwNCiAgICAgIGdyaWRTZWxlY3RlZERlZjI6ICIiLA0KICAgICAgZ3JpZERhdGEzOiBbXSwgLy/mm7TlpJrpobnnmoTooajmoLwNCiAgICAgIGdyaWRQYXJhbXMzOiB7DQogICAgICAgIGVxX3BkRGV0YWlsVHlwZTogIiIsDQogICAgICAgIGVxX3BkRWRpdGlvbjogIiIsDQogICAgICAgIGVxX3BkQ29kZTogIiIsDQogICAgICAgIGVxX3BkSW5mb0lkOiAiIiwNCiAgICAgICAgZXFfcGREZXNUeXBlOiAiIiwNCiAgICAgICAgZXFfcGRNYWluU3ViRmxhZzogIiIsDQogICAgICAgIGVxX3BkU3RvcERhdGU6ICIiLA0KICAgICAgICBlcV9wZFN0YXJ0RGF0ZTogIiINCiAgICAgIH0sIC8v5p+l6K+i5Y+C5pWwDQogICAgICBncmlkU2VsZWN0ZWREZWYzOiAiIiwNCiAgICAgIHNlbGVjdGVkRGVmMzoge30sIC8v6KGo5qC85Y2V6YCJ5oyJ6ZKuDQogICAgICAvL+ihqOagvOaVsOaNrg0KICAgICAgY29uZmlnczM6IFtdLA0KICAgICAgLy/mn6Xor6Llj4LmlbANCiAgICAgIHBhcmFtczM6IHsNCiAgICAgICAgZXFfcGRJbmZvSWQ6ICIiLA0KICAgICAgICBsaWtlX3BkUmVsYUNhdGU6ICJFeGVtcHQiDQogICAgICB9LA0KICAgICAgb3B0aW9uczM6IFtdLCAvL+iHquWumuS5ieS4i+aLiemAieWAvA0KICAgICAgb3B0aW9uczQ6IFtdLCAvL+iHquWumuS5ieS4i+aLiemAieWAvA0KICAgICAgYXJyOiBbXSwgLy/lrZjlgqjmlrnmoYjkuIvnmoTov5Tlm57lgLwNCiAgICAgIC8vIOagh+etvuihqOagvOaVsOaNrg0KICAgICAgY29uZmlnczQ6IFtdLA0KICAgICAgLy8g5qCH562+6KGo5qC86YCJ5Y+W5pWw5o2uDQogICAgICBzZWxlY3RSb3c6IHt9LA0KICAgICAgLy/ooajljZXmlbDmja7kuI7lkI7nq6/lrp7kvZPnsbvlr7nlupQNCiAgICAgIGZvcm1EYXRhOiB7DQogICAgICAgIGlkOiAiIiwgLy/kuLvplK5JRA0KICAgICAgICBwZExhYmVsQXR0cmlidXRlOiAiIiwNCiAgICAgICAgcGRMYWJlbFR5cGU6ICIiLA0KICAgICAgICBwZExhYmVsRGVzYzogIiINCiAgICAgIH0sDQogICAgICBsYWJlbENvbnRlbnRzOiBbXSwNCiAgICAgIC8v5Lqn5ZOB5qCH562+5p+l6K+i5Y+C5pWwDQogICAgICBwYXJhbXM0OiB7DQogICAgICAgIGVxX3BkSW5mb0lkOiAiIg0KICAgICAgfSwNCiAgICAgIHVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgbGFiZWxEZWZEaXNhYmxlZDogZmFsc2UsDQogICAgICBpbnB1dFZpc2libGU6IGZhbHNlLA0KICAgICAgaW5wdXRWYWx1ZTogIiIsDQogICAgICBhdHRyaUZpbHRlcjogIiIsDQogICAgICBwZEN2bGlEYXRlTW9kQXJyYXk6IFtdLA0KICAgICAgcGRTbENoYW5sQXJyYXk6IFtdLA0KICAgICAgcGRJbXBhcnREYXRhQXJyYXk6IFtdLA0KICAgICAgcGREZXRhaWxUeXBlQXJyYXk6IFtdLA0KICAgICAgZGVzaWduVHlwZUFycmF5OiBbXSwNCiAgICAgIHBkTWFpblN1YkZsYWdBcnJheTogW10sDQogICAgICBwaWNrZXJPcHRpb25zOiB7DQogICAgICAgIHNob3J0Y3V0czogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDlkagiLA0KICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsNCiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDkuKrmnIgiLA0KICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7DQogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiJ5Liq5pyIIiwNCiAgICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApOw0KICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIC8v5qOA6aqM6KeE5YiZDQogICAgICBydWxlczogew0KICAgICAgICBwZEN2bGlEYXRlTW9kZTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTEiKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGRSZWxhQ2F0ZTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTIiKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGRJdGVtVmFsOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlMyIpLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBwZFJlbGFJdGVtVmFsOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlNCIpLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBwZFJlbGFJdGVtVmFsMjogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTUiKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGRTYWxlQ2hhbmw6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2U4IiksDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWyJsZGNvZGVzIl0pDQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5zaG93UGFnZUZsYWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zaG93UGFnZUZsYWc7DQogICAgYXdhaXQgdGhpcy5pbml0UHJvZHVjdEluZm8oKTsNCiAgICB0aGlzLmluaXRpYWxpemF0aW9uU2hvdygpOw0KICAgIHRoaXMuZ3JpZFBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucHJvZHVjdC5pZDsNCiAgICB0aGlzLmdyaWRQYXJhbXMyLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgdGhpcy5wYXJhbXMuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgdGhpcy5wYXJhbXMyLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgIHRoaXMucGFyYW1zMy5lcV9wZEluZm9JZCA9IHRoaXMucHJvZHVjdC5pZDsNCiAgICB0aGlzLnBhcmFtczQuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgdGhpcy5wb2xpY3lFZmZlY3RpdmVEYXRlUGFyYW1zLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgIHRoaXMucXVlc3RFZGl0UGFyYW1zLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgIHRoaXMuaW1wYXJ0RWRpdFBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucHJvZHVjdC5pZDsNCiAgICB0aGlzLnBkQ3ZsaURhdGVNb2RBcnJheSA9IHRoaXMubGRjb2Rlc1sicmVuZXdhbEVmZmVjdGl2ZURhdGUiXTsNCiAgICB0aGlzLnBkU2xDaGFubEFycmF5ID0gdGhpcy5sZGNvZGVzWyJwZFNsQ2hhbmwiXTsNCiAgICB0aGlzLnF1ZXN0RWRpdERhdGFBcnJheSA9IHRoaXMubGRjb2Rlc1siRGVtYW5kUXVlc3Rpb25uYWlyZVNlY3Rpb24iXTsNCiAgICB0aGlzLnBkSW1wYXJ0RGF0YUFycmF5ID0gdGhpcy5sZGNvZGVzWyJJbmZvcm1WZXJzaW9uIl07DQoNCiAgICB0aGlzLnBkRGV0YWlsVHlwZUFycmF5ID0gdGhpcy5sZGNvZGVzWyJQcm9kdWN0Q2F0ZWdvcnkiXTsNCiAgICB0aGlzLmRlc2lnblR5cGVBcnJheSA9IHRoaXMubGRjb2Rlc1siUHJvZHVjdERlc2lnblR5cGUiXTsNCiAgICB0aGlzLnBkTWFpblN1YkZsYWdBcnJheSA9IHRoaXMubGRjb2Rlc1sicHJpbmNpcGFsUmlza0ZsYWciXTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNsb3NlRGlhbG9nKCkgew0KICAgICAgLy8gICBsZXQgZGF0YSA9IHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAvLyAgICAgZXFfcGRJbmZvSWQ6IHRoaXMuZ3JpZFBhcmFtcy5lcV9wZEluZm9JZCwNCiAgICAgIC8vICAgICBlcV9wZERldGFpbFR5cGU6IHRoaXMuZ3JpZFBhcmFtcy5lcV9wZERldGFpbFR5cGUsDQogICAgICAvLyAgICAgZXFfcGRDb2RlOiB0aGlzLmdyaWRQYXJhbXMuZXFfcGRDb2RlLA0KICAgICAgLy8gICAgIGVxX3BkRWRpdGlvbjogdGhpcy5ncmlkUGFyYW1zLmVxX3BkRWRpdGlvbiwNCiAgICAgIC8vICAgfSkNCiAgICAgIC8vDQogICAgICAvLyBnZXRPbmVTZWxlY3QoZGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgLy8gICBpZiAocmVzLmRhdGEucmVjb3Jkcy5sZW5ndGggPT09IDEpew0KICAgICAgLy8gICAgIHRoaXMub3B0aW9uczEucHVzaCh7DQogICAgICAvLyAgICAgICBrZXk6IHJlcy5kYXRhLnJlY29yZHNbMF0ucGRDb2RlLA0KICAgICAgLy8gICAgICAgdmFsdWU6IHJlcy5kYXRhLnJlY29yZHNbMF0ucGROYW1lLA0KICAgICAgLy8gICAgIH0pOw0KICAgICAgLy8gICAgIHRoaXMuc2VhcmNoRm9ybTIucGRJbmZvSWQgPSByZXMuZGF0YS5yZWNvcmRzWzBdLmlkOw0KICAgICAgLy8gICAgIHRoaXMuc2VhcmNoRm9ybTIucGRSZWxhSXRlbVZhbCA9IHJlcy5kYXRhLnJlY29yZHNbMF0ucGRDb2RlOw0KICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJlY29yZHNbMF0uaWQpDQogICAgICAvLyAgICAgdGhpcy5zZWFyY2hGb3JtMi5kZXRhaWxzU2hvdyA9IGZhbHNlOw0KICAgICAgLy8gICB9ZWxzZSB7DQogICAgIC8qIGxldCAgcGFyYW1zPcKgew0KICAgICAgICDCoMKgwqDCoMKgwqDCoMKgZXFfcGREZXRhaWxUeXBlOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBlcV9wZEVkaXRpb246wqAiIiwNCiAgICAgICAgwqDCoMKgwqDCoMKgwqDCoGVxX3BkQ29kZTrCoCIiLA0KICAgICAgICDCoMKgwqDCoMKgwqDCoMKgcGRPblNhbGU6wqAiIiwNCiAgICAgICAgwqDCoMKgwqDCoMKgwqDCoHBkU3RhcnREYXRlOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBwZFN0b3BEYXRlOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBwZE1haW5TdWJGbGFnOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBkZXNpZ25UeXBlOsKgIiINCiAgICAgICAgwqDCoMKgwqDCoMKgfQ0KICAgICDCoE9iamVjdC5hc3NpZ24odGhpcy5ncmlkUGFyYW1zLMKgcGFyYW1zKTsqLw0KICAgICAgdGhpcy5ncmlkRGF0YT1bXTsNCiAgICAgIHRoaXMuJHJlZnMuZ3JpZFBhZ2UuY2xlYXJEYXRhKCk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0yLmRldGFpbHNTaG93ID0gZmFsc2U7DQogICAgICAvLyAgIH0NCiAgICAgIC8vIH0pDQogICAgfSwNCiAgICBDaGFuZ2VSKCkgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZEl0ZW1WYWwgPSAiIjsNCiAgICB9LA0KDQogICAgQ2hhbmdlUjIoKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUl0ZW1WYWwgPSAiIjsNCiAgICB9LA0KICAgIHNlbGVjdGVkRGV0YWlsVHlwZUNoYW5nZWQocGRSZWdpb25UeXBlKSB7DQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIHBkUmVnaW9uVHlwZTogcGRSZWdpb25UeXBlDQogICAgICB9Ow0KICAgICAgaWYgKCIiLmVuZHNXaXRoKHBkUmVnaW9uVHlwZSkgfHwgcGRSZWdpb25UeXBlID09IHVuZGVmaW5lZCkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBmaW5kQWxsUHJvZHVjdEJ5UGREZXRhaWxUeXBlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oDQogICAgICAgIHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICB0aGlzLmVkaXRpb25PcHRpb25MaXN0ID0gW107DQogICAgICAgIH0NCiAgICAgICk7DQogICAgfSwNCiAgICBhc3luYyBzZWxlY3RlZFBkQ29kZUNoYW5nZWQocGRDb2RlKSB7DQogICAgICB0aGlzLmdyaWRQYXJhbXMuZXFfcGRFZGl0aW9uID0gIiI7DQogICAgICBjb25zdCBwcm9kdWN0T3B0aW9uTGlzdF9maWx0ZXIgPSB0aGlzLl8uZmlsdGVyKHRoaXMucHJvZHVjdE9wdGlvbkxpc3QsIHsNCiAgICAgICAgcGRDb2RlOiBwZENvZGUNCiAgICAgIH0pOw0KICAgICAgdGhpcy5lZGl0aW9uT3B0aW9uTGlzdCA9IHRoaXMuXy5tYXAoDQogICAgICAgIHByb2R1Y3RPcHRpb25MaXN0X2ZpbHRlciwNCiAgICAgICAgInBkRWRpdGlvbiINCiAgICAgICk7DQogICAgICBpZiAodGhpcy5lZGl0aW9uT3B0aW9uTGlzdC5sZW5ndGggPT0gMSkgew0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMuZXFfcGRFZGl0aW9uID0gdGhpcy5lZGl0aW9uT3B0aW9uTGlzdFswXS5wZEVkaXRpb247DQogICAgICAgIGxldCBkYXRhID0gdGhpcy5idWlsZFJlcXVlc3REYXRhKHsNCiAgICAgICAgICBlcV9wZEluZm9JZDogdGhpcy5ncmlkUGFyYW1zLmVxX3BkSW5mb0lkLA0KICAgICAgICAgIGVxX3BkRGV0YWlsVHlwZTogdGhpcy5ncmlkUGFyYW1zLmVxX3BkRGV0YWlsVHlwZSwNCiAgICAgICAgICBlcV9wZENvZGU6IHRoaXMuZ3JpZFBhcmFtcy5lcV9wZENvZGUsDQogICAgICAgICAgZXFfcGRFZGl0aW9uOiB0aGlzLmdyaWRQYXJhbXMuZXFfcGRFZGl0aW9uDQogICAgICAgIH0pOw0KICAgICAgICBhd2FpdCBnZXRPbmVTZWxlY3QoZGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5yZWNvcmRzLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICAgICAgdGhpcy5vcHRpb25zMS5wdXNoKHsNCiAgICAgICAgICAgICAga2V5OiByZXMuZGF0YS5yZWNvcmRzWzBdLnBkQ29kZSwNCiAgICAgICAgICAgICAgdmFsdWU6IHJlcy5kYXRhLnJlY29yZHNbMF0ucGROYW1lDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGRJbmZvSWQgPSByZXMuZGF0YS5yZWNvcmRzWzBdLmlkOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFJdGVtVmFsID0gcmVzLmRhdGEucmVjb3Jkc1swXS5wZENvZGU7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkQ29kZSA9IHJlcy5kYXRhLnJlY29yZHNbMF0ucGRDb2RlOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5kZXRhaWxzU2hvdyA9IGZhbHNlOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLmRldGFpbHNTaG93ID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlZnJlc2hzZWFyY2hGb3JtMygpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSA9ICJFeGVtcHRQcm9nIjsNCiAgICB9LA0KICAgIC8vIOWIneWni+WMluS6p+WTgeS/oeaBryAtLSDku45zZXNzaW9uDQogICAgYXN5bmMgaW5pdFByb2R1Y3RJbmZvKCkgew0KICAgICAgbGV0IHBkdGVtcFBkSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkSW5mb0lkID0gcGR0ZW1wUGRJbmZvLmlkOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZFZlcklkID0gcGR0ZW1wUGRJbmZvLnBkVmVySWQ7DQogICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkQ29kZSA9IHBkdGVtcFBkSW5mby5wZENvZGU7DQogICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkTmFtZSA9IHBkdGVtcFBkSW5mby5wZE5hbWU7DQogICAgICBpZiAocGR0ZW1wUGRJbmZvKSB7DQogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wcm9kdWN0LCBwZHRlbXBQZEluZm8pOw0KICAgICAgICB0aGlzLnBkUHJvY2Vzc0lkID0gcGR0ZW1wUGRJbmZvLnBkUHJvY2Vzc0lkOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpOw0KICAgIH0sDQogICAgLy/ljLrln5/liJ3lp4vljJYNCiAgICBpbml0aWFsaXphdGlvblNob3coKSB7DQogICAgICAvL+WIhuexu+agh+iusOihqA0KICAgICAgbGV0IGJhY2syID0gIiI7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsDQogICAgICAgIHBkRWRpdGlvbjogdGhpcy5wcm9kdWN0LnBkRWRpdGlvbiwNCiAgICAgICAgcGROYW1lOiB0aGlzLnByb2R1Y3QucGROYW1lDQogICAgICB9Ow0KICAgICAgYmFjazIgPSBpbml0aWFsaXphdGlvblNob3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpOw0KICAgICAgYmFjazIudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucmVjb3Jkc1tpXS5wZENsczUgPT0gIlIiIHx8DQogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucmVjb3Jkc1tpXS5wZENsczUgPT0gIk4iDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgLy/kuLvpmYTpmanmoIforrANCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5pbnN1cmFuY2VNYXJrID0gdHJ1ZTsgLy/mraTml7bmmK/pmYTliqDpmakNCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5zaG93RmxhZyA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5pbnN1cmFuY2VNYXJrID0gZmFsc2U7IC8v5q2k5pe25piv5Li76ZmpDQogICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIuc2hvd0ZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlY29yZHNbaV0ucGRDbHM1ID09ICJSIiB8fA0KICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlY29yZHNbaV0ucGRDbHM1ID09ICJOIiB8fA0KICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlY29yZHNbaV0ucGRDbHM1ID09ICJZIg0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIuc2hvd0ZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlY29yZHNbaV0ucGRBdHJzVmFsID09ICIiIHx8DQogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucmVjb3Jkc1tpXS5wZEF0cnNWYWwgPT0gdW5kZWZpbmVkDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5zaG93RmxhZyA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5zaG93RmxhZyA9IHRydWU7DQogICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSA9ICJFeGVtcHRQcm9nIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/liJ3lp4vljJbmib/kv53pgInpobnnmoTlgLwNCiAgICBpbml0UGROYkNob1R5cGUoKSB7DQogICAgICAvKiBzZWxlY3RBbGxJbmZvKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkSW5mb0lkIjogdGhpcy5zZWFyY2hGb3JtMS5wZEluZm9JZH0pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhDQogICAgICAgIC8v5Yid5aeL5YyW6KGo5qC8DQogICAgICAgIHRoaXMucXVlc3RFZGl0VGFibGUgPSBbXTsNCiAgICAgICAgdGhpcy5pbXBhcnRFZGl0VGFibGUgPSBbXTsNCiAgICAgICAgdGhpcy5wb2xpY3lFZmZlY3RpdmVEYXRlVGFibGU9W107DQogICAgICAgIHRoaXMucGRTYWxlQ2hhbmwgPSBbXTsNCiAgICAgICAgdGhpcy5wZEN2bGlEYXRlTW9kZSA9Jyc7DQogICAgICAgIHRoaXMudmFyU2hvdyA9IGZhbHNlOw0KICAgICAgICBmb3IgKGNvbnN0IHBkTmJJbmZvIG9mIHRoaXMudGFibGVEYXRhKSB7DQogICAgICAgICAgICBpZiAocGROYkluZm8ucGROYkNob1R5cGUgPT0gJzAwJykgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTEgPSBwZE5iSW5mbzsNCiAgICAgICAgICAgICAgICBwZE5iSW5mb1sncGRDdmxpRGF0ZU1vZGUnXT1wZE5iSW5mby5wZE5iQ2hvVmFsOw0KICAgICAgICAgICAgICAgIHRoaXMucG9saWN5RWZmZWN0aXZlRGF0ZVRhYmxlLnB1c2gocGROYkluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIGlmIChwZE5iSW5mby5wZE5iQ2hvVHlwZSA9PSAnMDEnKSB7DQogICAgICAgICAgICAgICB0aGlzLnF1ZXN0RWRpdFRhYmxlLnB1c2gocGROYkluZm8pOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAocGROYkluZm8ucGROYkNob1R5cGUgPT0gJzAyJykgew0KICAgICAgICAgICAgICAgdGhpcy5pbXBhcnRFZGl0VGFibGUucHVzaChwZE5iSW5mbyk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KSovDQogICAgfSwNCiAgICBvcHRpb25DbGljazEodmFsKSB7DQogICAgICAgdGhpcy5zZWFyY2hGb3JtMi5kZXRhaWxzU2hvdyA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2gyKCkgew0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMuZXFfcGRDb2RlIHx8DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtcy5lcV9wZERldGFpbFR5cGUgfHwNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zLmVxX3BkRWRpdGlvbiB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMucGRPblNhbGUgfHwNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zLmRlc2lnblR5cGUgfHwNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zLnBkTWFpblN1YkZsYWcNCiAgICAgICkgew0KICAgICAgICB0aGlzLiRyZWZzLmdyaWRQYWdlLnJlbG9hZCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTEzIikpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/kuqflk4HmkK3phY3lhbPns7sgLSDmm7TlpJrooajmoLzljZXpgInmjInpkq4NCiAgICBncmlkU2VsZWN0ZWRDaGFuZ2VkMShyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PSB0aGlzLmdyaWRTZWxlY3RlZERlZjEpIHsNCiAgICAgICAgICB0aGlzLmdyaWRTZWxlY3RlZERlZjEgPSAiIjsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkQ29kZSA9ICIiOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGROYW1lID0gIiI7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZEluZm9JZCA9ICIiOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGRJbmZvSWQgPSByb3cuaWQ7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZENvZGUgPSByb3cucGRDb2RlOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGROYW1lID0gcm93LnBkTmFtZTsNCiAgICAgICAgICB0aGlzLm9wdGlvbnMxID0gW107DQogICAgICAgICAgdGhpcy5vcHRpb25zMS5wdXNoKHsNCiAgICAgICAgICAgIGtleTogdGhpcy5zZWFyY2hGb3JtMi5wZENvZGUsDQogICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWFyY2hGb3JtMi5wZE5hbWUNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkUmVsYUl0ZW1WYWwgPSB0aGlzLnNlYXJjaEZvcm0yLnBkQ29kZTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLmRldGFpbHNTaG93ID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZUNyZWF0ZTIoc2VhcmNoRm9ybTIpIHsNCiAgICAgIHRoaXMuJHJlZnNbc2VhcmNoRm9ybTJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgbGV0IHBkdGVtcFBkUmVsYSA9IHsNCiAgICAgICAgICAgIHBkVHlwZTogIiIsDQogICAgICAgICAgICBwZFZlcklkOiAiIiwNCiAgICAgICAgICAgIHBkSW5mb0lkOiAiIiwNCiAgICAgICAgICAgIHBkQ29kZTogIiIsDQogICAgICAgICAgICBwZFJlbGFDYXRlOiAiUmlza1JlbGEiLCAvL1Jpc2tSZWxhDQogICAgICAgICAgICBwZEl0ZW1DYXRlOiAiUmlzayIsIC8vUmlzaw0KICAgICAgICAgICAgcGRJdGVtVmFsOiAiIiwgLy/mnKzpobnlgLznsbvliKvkuLrpmannp43nvJbnoIHliJnmnKzpobnlgLzlrZjmlL7pmannp43nvJbnoIENCiAgICAgICAgICAgIHBkUmVsYUl0ZW1DYXRlOiAiUmlzayIsIC8vUmlzaw0KICAgICAgICAgICAgcGRSZWxhSXRlbUlkOiAiIiwgLy8NCiAgICAgICAgICAgIHBkUmVsYUl0ZW1WYWw6ICIiLCAvL+WFs+iBlOmhueWAvA0KICAgICAgICAgICAgcGRSZWxhVmFsOiAiIiwgLy8wMS3kuLvpmYQgMDIt5Li75Li7DQogICAgICAgICAgICBwZFJlbGFEZXNjOiAiIiwgLy/lhbPogZTlhbPns7vor7TmmI4NCiAgICAgICAgICAgIHBkSW5kcFJpZGVyOiAiIiAvL+eLrOeri+mZhOe6pg0KICAgICAgICAgIH07DQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkVmVySWQgPSB0aGlzLnByb2R1Y3QucGRWZXJJZDsgLy8NCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7IC8vDQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkQ29kZSA9IHRoaXMucHJvZHVjdC5wZENvZGU7IC8vDQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWU7IC8vDQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkVHlwZSA9ICIxIjsgLy8NCiAgICAgICAgICBkZWJ1Z2dlcjsNCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRJdGVtVmFsID0gdGhpcy5wcm9kdWN0LnBkQ29kZTsgLy8NCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbVZhbCA9IHRoaXMuc2VhcmNoRm9ybTIucGRDb2RlOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtSWQgPSB0aGlzLnNlYXJjaEZvcm0yLnBkSW5mb0lkOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFWYWwgPSB0aGlzLnNlYXJjaEZvcm0yLnBkUmVsYVZhbDsgLy8NCiAgICAgICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFWYWwgPT0gIjAyIikgew0KICAgICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5kcFJpZGVyID0gIiI7IC8vDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0yLnBkSW5kcFJpZGVyID09IHRydWUpIHsNCiAgICAgICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5kcFJpZGVyID0gIlkiOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5kcFJpZGVyID0gIk4iOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgYmFjayA9ICIiOw0KICAgICAgICAgIGJhY2sgPSBhZGRQZHRlbXBQZFJlbGEocGR0ZW1wUGRSZWxhKTsNCiAgICAgICAgICBiYWNrLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgdGhpcy5wYXJhbXMyLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2UyLmJ1aWxkRGF0YSgpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFuZ2VkMkNoYW5nZSh0aGlzLmNvbmZpZ3MyWzBdKTsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVmMiA9IHRoaXMuY29uZmlnczJbMF0ucGR0ZW1wUGRSZWxhOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZWxlY3RlZENoYW5nZWQyQ2hhbmdlKHJvdykgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtMi5JZCA9IHJvdy5wZHRlbXBQZFJlbGEuaWQ7DQogICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkSW5mb0lkID0gcm93LnBkSUQ7DQogICAgICB0aGlzLm9wdGlvbnMxID0gW107DQogICAgICB0aGlzLm9wdGlvbnMxLnB1c2goew0KICAgICAgICBrZXk6IHJvdy5wZHRlbXBQZFJlbGEucGRSZWxhSXRlbVZhbCwNCiAgICAgICAgdmFsdWU6IHJvdy5wZE5hbWUNCiAgICAgIH0pOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFJdGVtVmFsID0gcm93LnBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtVmFsOw0KICAgICAgaWYgKHJvdy5wZHRlbXBQZFJlbGEucGRJbmRwUmlkZXIgPT0gIlkiKSB7DQogICAgICAgIC8v54us56uL6ZmE57qmDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGRJbmRwUmlkZXIgPSB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZEluZHBSaWRlciA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0ZWRDaGFuZ2VkMihyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5wZHRlbXBQZFJlbGEuaWQgPT0gdGhpcy5zZWxlY3RlZERlZjIuaWQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVmMiA9IHt9Ow0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtRGF0YTIoKTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkSW5mb0lkID0gIiI7DQogICAgICAgICAgdGhpcy5vcHRpb25zMSA9IFtdOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1EYXRhMigpIHsNCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICBsZXQgc2VhcmNoRm9ybUNvcHkyID0gew0KICAgICAgICAgIHBkQ29kZTogIiIsIC8v5Lqn5ZOB57yW56CBDQogICAgICAgICAgcGROYW1lOiAiIiwgLy/kuqflk4HlkI3np7ANCiAgICAgICAgICBwZEluZm9JZDogIiIsIC8v5Lqn5ZOBaWQNCiAgICAgICAgICBJZDogIiIsDQogICAgICAgICAgZmxhZzogdHJ1ZSwgLy/ni6znq4votbTnuqbnmoTmmK/lkKblj6/mk43kvZwNCiAgICAgICAgICBzaG93RmxhZzogdHJ1ZSwNCiAgICAgICAgICBkZXRhaWxzU2hvdzogZmFsc2UsIC8v5pu05aSa6aG555qE5pi+56S65LiO6ZqQ6JePDQogICAgICAgICAgaW5zdXJhbmNlTWFyazogIiIsIC8v5Li76ZmE6Zmp5qCH6K6wDQogICAgICAgICAgYWNjZmVlOiB0cnVlLA0KICAgICAgICAgIHBkUmVsYUNhdGU6ICIiLA0KICAgICAgICAgIHBkSXRlbUNhdGU6ICIiLA0KICAgICAgICAgIHBkSXRlbVZhbDogIiIsDQogICAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICIiLA0KICAgICAgICAgIHBkUmVsYUl0ZW1WYWw6ICIiLCAvL+WFs+iBlOmhueWAvCAtLSDmkK3phY3pmannp43lgLwNCiAgICAgICAgICBwZFJlbGFWYWw6ICIiLCAvL+mZqeenjeWFs+ezuw0KICAgICAgICAgIHBkUmVsYURlc2M6ICIiLA0KICAgICAgICAgIHBkSW5kcFJpZGVyOiBmYWxzZSAvL+eLrOeri+mZhOe6pg0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLm9wdGlvbnMxID0gW107DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTIgPSBzZWFyY2hGb3JtQ29weTI7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZTIoKSB7DQogICAgICBsZXQgcGR0ZW1wUGRSZWxhID0gew0KICAgICAgICBpZDogIiIsDQogICAgICAgIHBkSW5mb0lkOiAiIiwNCiAgICAgICAgcGRUeXBlOiAiIiwNCiAgICAgICAgcGRWZXJJZDogIiIsDQogICAgICAgIHBkQ29kZTogIiIsDQogICAgICAgIHBkSXRlbUNhdGU6ICJSaXNrIiwgLy9SaXNrUmVsYQ0KICAgICAgICBwZEl0ZW1WYWw6ICIiLCAvL1Jpc2tSZWxhDQogICAgICAgIHBkUmVsYUNhdGU6ICJSaXNrUmVsYSIsIC8vUmlza1JlbGENCiAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICJSaXNrIiwgLy9SaXNrDQogICAgICAgIHBkUmVsYUl0ZW1WYWw6ICIiLCAvL+WFs+iBlOmhueWAvA0KICAgICAgICBwZFJlbGFJdGVtSWQ6ICIiLCAvLw0KICAgICAgICBwZFJlbGFWYWw6ICIiLCAvLzAxLeS4u+mZhCAwMi3kuLvkuLsNCiAgICAgICAgcGRSZWxhRGVzYzogIiIsIC8v5YWz6IGU5YWz57O76K+05piODQogICAgICAgIHBkSW5kcFJpZGVyOiAiIiAvL+eLrOeri+mZhOe6pg0KICAgICAgfTsNCiAgICAgIHBkdGVtcFBkUmVsYS5pZCA9IHRoaXMuc2VhcmNoRm9ybTIuSWQ7DQogICAgICBwZHRlbXBQZFJlbGEucGRUeXBlID0gIjEiOw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkVmVySWQgPSB0aGlzLnByb2R1Y3QucGRWZXJJZDsgLy8NCiAgICAgIHBkdGVtcFBkUmVsYS5wZENvZGUgPSB0aGlzLnByb2R1Y3QucGRDb2RlOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWU7IC8vDQoNCiAgICAgIHBkdGVtcFBkUmVsYS5wZEl0ZW1WYWwgPSB0aGlzLnByb2R1Y3QucGRDb2RlOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkUmVsYUl0ZW1WYWwgPSB0aGlzLnNlYXJjaEZvcm0yLnBkUmVsYUl0ZW1WYWw7IC8vDQogICAgICBwZHRlbXBQZFJlbGEucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbUlkID0gdGhpcy5zZWFyY2hGb3JtMi5wZEluZm9JZDsgLy8NCiAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFWYWwgPSB0aGlzLnNlYXJjaEZvcm0yLnBkUmVsYVZhbDsgLy8NCg0KICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybTIucGRSZWxhVmFsID09ICIwMiIpIHsNCiAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5kcFJpZGVyID0gIiI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMi5wZEluZHBSaWRlciA9PSB0cnVlKSB7DQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5kcFJpZGVyID0gIlkiOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZEluZHBSaWRlciA9ICJOIjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgbGV0IGJhY2sgPSAiIjsNCiAgICAgIGJhY2sgPSB1cGRhdGVQZHRlbXBQZFJlbGEocGR0ZW1wUGRSZWxhKTsNCiAgICAgIGJhY2sudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsNCiAgICAgICAgICB0aGlzLnBhcmFtczIuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgICAgICAgdGhpcy5yZXNldEZvcm0yQ29weSgpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZTIocm93KSB7DQogICAgICBsZXQgaWQgPSByb3cuaWQ7DQogICAgICBsZXQgYmFjayA9ICIiOw0KICAgICAgYmFjayA9IGRlbGV0ZVBkdGVtcFBkUmVsYShpZCk7DQogICAgICBiYWNrLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7DQogICAgICAgICAgdGhpcy5wYXJhbXMyLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgICAgICAgIHRoaXMuJHJlZnMucGFnZTIucmVsb2FkKCk7DQogICAgICAgICAgdGhpcy5yZXNldEZvcm1EYXRhMigpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHJlc2V0Rm9ybTJDb3B5KCkgew0KICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybTIuSWQpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlMi5idWlsZERhdGEoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb25maWdzMikgew0KICAgICAgICAgICAgaWYgKGl0ZW0ucGR0ZW1wUGRSZWxhLmlkID09IHRoaXMuc2VhcmNoRm9ybTIuSWQpIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoYW5nZWQyQ2hhbmdlKGl0ZW0pOw0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVmMiA9IGl0ZW0ucGR0ZW1wUGRSZWxhOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZERlZjIgPSB7fTsNCiAgICAgICAgdGhpcy5ncmlkU2VsZWN0ZWREZWYxID0gIiI7DQogICAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybTIucmVzZXRGaWVsZHMoKTsNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlMi5yZWxvYWQoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5riF56m6DQogICAgcmVzZXRGb3JtMigpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWREZWYyID0ge307DQogICAgICB0aGlzLmdyaWRTZWxlY3RlZERlZjEgPSAiIjsNCiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybTIucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMuJHJlZnMucGFnZTIucmVsb2FkKCk7DQogICAgfSwNCiAgICAvL+S6p+WTgeixgeWFjeiMg+WbtA0KICAgIG9wdGlvbkNsaWNrMigpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5kZXRhaWxzU2hvdyA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2gzKCkgew0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLmVxX3BkQ29kZSB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLmVxX3BkRGV0YWlsVHlwZSB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLmVxX3BkRWRpdGlvbiB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLnBkT25TYWxlIHx8DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczIuZGVzaWduVHlwZSB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLnBkTWFpblN1YkZsYWcNCiAgICAgICkgew0KICAgICAgICB0aGlzLiRyZWZzLmdyaWRQYWdlMi5yZWxvYWQoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxMyIpKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5Lqn5ZOB6LGB5YWN6IyD5Zu0IC0g5pu05aSa6KGo5qC85Y2V6YCJ5oyJ6ZKuDQogICAgZ3JpZFNlbGVjdGVkQ2hhbmdlZDIocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT0gdGhpcy5ncmlkU2VsZWN0ZWREZWYyKSB7DQogICAgICAgICAgdGhpcy5ncmlkU2VsZWN0ZWREZWYyID0gIiI7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZENvZGUgPSAiIjsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkTmFtZSA9ICIiOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRJbmZvSWQgPSAiIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkSW5mb0lkID0gcm93LmlkOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRDb2RlID0gcm93LnBkQ29kZTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkTmFtZSA9IHJvdy5wZE5hbWU7DQogICAgICAgICAgdGhpcy5vcHRpb25zNCA9IFtdOw0KICAgICAgICAgIHRoaXMub3B0aW9uczQucHVzaCh7DQogICAgICAgICAgICBrZXk6IHRoaXMuc2VhcmNoRm9ybTMucGRDb2RlLA0KICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VhcmNoRm9ybTMucGROYW1lDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFJdGVtVmFsID0gdGhpcy5zZWFyY2hGb3JtMy5wZENvZGU7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5kZXRhaWxzU2hvdyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2g0KCkgew0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkQ29kZSB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkRGV0YWlsVHlwZSB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkRWRpdGlvbiB8fA0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkT25TYWxlIHx8DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGREZXNUeXBlIHx8DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGRNYWluU3ViRmxhZw0KICAgICAgKSB7DQogICAgICAgIHRoaXMuJHJlZnMuZ3JpZFBhZ2UzLnJlbG9hZCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTEzIikpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/kuqflk4HosYHlhY3ojIPlm7QgLSDmm7TlpJrooajmoLzljZXpgInmjInpkq4NCiAgICBncmlkU2VsZWN0ZWRDaGFuZ2VkNChyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGRlYnVnZ2VyOw0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMuZ3JpZFNlbGVjdGVkRGVmMykgew0KICAgICAgICAgIHRoaXMuZ3JpZFNlbGVjdGVkRGVmMyA9ICIiOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRDb2RlID0gIiI7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZE5hbWUgPSAiIjsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkSW5mb0lkID0gIiI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZEluZm9JZCA9IHJvdy5wZEluZm9JZDsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkQ29kZSA9IHJvdy5wZFByb2dDb2RlOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGROYW1lID0gcm93LnBkUHJvZ05hbWU7DQogICAgICAgICAgdGhpcy5vcHRpb25zNCA9IFtdOw0KICAgICAgICAgIHRoaXMub3B0aW9uczQucHVzaCh7DQogICAgICAgICAgICBrZXk6IHRoaXMuc2VhcmNoRm9ybTMucGRDb2RlLA0KICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VhcmNoRm9ybTMucGROYW1lDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFJdGVtVmFsMTEgPSByb3cucGRDb2RlKyI6Iisgcm93LnBkTmFtZTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUl0ZW1WYWwgPSB0aGlzLnNlYXJjaEZvcm0zLnBkQ29kZTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLmRldGFpbHNTaG93ID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZUNyZWF0ZTMoc2VhcmNoRm9ybTIpIHsNCiAgICAgIHRoaXMuJHJlZnNbc2VhcmNoRm9ybTJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgbGV0IHBkdGVtcFBkUmVsYSA9IHsNCiAgICAgICAgICAgIHBkVHlwZTogIiIsDQogICAgICAgICAgICBwZFZlcklkOiAiIiwNCiAgICAgICAgICAgIHBkSW5mb0lkOiAiIiwNCiAgICAgICAgICAgIHBkQ29kZTogIiIsDQogICAgICAgICAgICBwZFJlbGFDYXRlOiAiIiwgLy9FeGVtcHRQcm9n6LGB5YWN5pa55qGIIEV4ZW1wdEdldDrosYHlhY3kv53pmpwNCiAgICAgICAgICAgIHBkSXRlbUNhdGU6ICIiLCAvL1Jpc2st6Zmp56eN57yW56CBIFByb2ct5pa55qGI57yW56CBIEJuZnQt5L+d6Zqc57yW56CBDQogICAgICAgICAgICBwZEl0ZW1WYWw6ICIiLCAvL+acrOmhueWAvOexu+WIq+S4uumZqeenjee8lueggeWImeacrOmhueWAvOWtmOaUvumZqeenjee8lueggQ0KICAgICAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICIiLCAvL1Jpc2st6Zmp56eN57yW56CBIFByb2ct5pa55qGI57yW56CBDQogICAgICAgICAgICBwZFJlbGFJdGVtSWQ6ICIiLCAvLw0KICAgICAgICAgICAgcGRSZWxhSXRlbVZhbDogIiIsIC8v5YWz6IGU6aG55YC8DQogICAgICAgICAgICBwZFJlbGFWYWw6ICIiLCAvLzA1IC3osYHlhY3pmannp40gMDYt6LGB5YWN5pa55qGIIDA3LeixgeWFjeWutuW6reWNlQ0KICAgICAgICAgICAgcGRSZWxhRGVzYzogIiIsIC8v5YWz6IGU5YWz57O76K+05piODQogICAgICAgICAgICBwZEluZHBSaWRlcjogIiIgLy/ni6znq4vpmYTnuqYNCiAgICAgICAgICB9Ow0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQ7IC8vDQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZENvZGUgPSB0aGlzLnByb2R1Y3QucGRDb2RlOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZE5hbWUgPSB0aGlzLnByb2R1Y3QucGROYW1lOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFR5cGUgPSAiMSI7IC8vDQoNCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhQ2F0ZSA9IHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZTsgLy8NCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRJdGVtVmFsID0gdGhpcy5zZWFyY2hGb3JtMy5wZEl0ZW1WYWw7IC8vDQoNCg0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtSWQgPSB0aGlzLnNlYXJjaEZvcm0zLnBkSW5mb0lkOyAvLw0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFWYWwgPSB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYVZhbDsgLy8NCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbVZhbCA9IHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhSXRlbVZhbDsgLy8NCiAgICAgICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFDYXRlID09ICJFeGVtcHRQcm9nIikgew0KICAgICAgICAgICAgLy/lvZPliY3mmK/mlrnmoYgNCiAgICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZEl0ZW1DYXRlID0gIlByb2ciOyAvLw0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhVmFsID09ICJFeGVtcHRQcm9nIikgew0KICAgICAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbUNhdGUgPSAiUHJvZyI7IC8vDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbUNhdGUgPSAiUmlzayI7IC8vDQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUNhdGUgPT0gIkV4ZW1wdEJuZnQiKSB7DQogICAgICAgICAgICAvL+S/nemanA0KICAgICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSXRlbUNhdGUgPSAiQm5mdCI7IC8vDQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFWYWwgPT0gIkV4ZW1wdFByb2ciKSB7DQogICAgICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtQ2F0ZSA9ICJQcm9nIjsgLy8NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtQ2F0ZSA9ICJSaXNrIjsgLy8NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGJhY2sgPSAiIjsNCiAgICAgICAgICBiYWNrID0gYWRkUGR0ZW1wUGRSZWxhKHBkdGVtcFBkUmVsYSk7DQogICAgICAgICAgYmFjay50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7DQogICAgICAgICAgICAgIHRoaXMucGFyYW1zMy5lcV9wZEluZm9JZCA9IHRoaXMucHJvZHVjdC5pZDsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RSb3dIVU9NKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2VsZWN0Um93SFVPTShpZCkgew0KICAgICAgdGhpcy4kcmVmcy5wYWdlMy5idWlsZERhdGEoKS50aGVuKCgpID0+IHsNCiAgICAgICAgaWYgKGlkKSB7DQogICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuY29uZmlnczMpIHsNCiAgICAgICAgICAgIGlmIChpdGVtLnBkdGVtcFBkUmVsYS5pZCA9PT0gaWQpIHsNCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5jb25maWdzMy5zZXRDdXJyZW50Um93KGl0ZW0pOw0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUGROYklOZm9DaGFuZ2VkKGl0ZW0pOw0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVmMyA9IGl0ZW0ucGR0ZW1wUGRSZWxhOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5jb25maWdzMy5zZXRDdXJyZW50Um93KHRoaXMuY29uZmlnczNbMF0pOw0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQZE5iSU5mb0NoYW5nZWQodGhpcy5jb25maWdzM1swXSk7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZERlZjMgPSB0aGlzLmNvbmZpZ3MzWzBdLnBkdGVtcFBkUmVsYTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZWxlY3RlZENoYW5nZWQzKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LnBkdGVtcFBkUmVsYS5pZCA9PSB0aGlzLnNlbGVjdGVkRGVmMy5pZCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWYzID0ge307DQogICAgICAgICAgdGhpcy5yZXNldEZvcm1EYXRhMygpOw0KICAgICAgICAgIHRoaXMucmVmcmVzaHNlYXJjaEZvcm0zKCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdGVkUGROYklOZm9DaGFuZ2VkKHJvdykgew0KICAgICAgZGVidWdnZXINCiAgICAgIHRoaXMuc2VhcmNoRm9ybTMuSWQgPSByb3cucGR0ZW1wUGRSZWxhLmlkOw0KICAgICAgdGhpcy5vcHRpb25zNCA9IFtdOw0KICAgICAgdGhpcy5vcHRpb25zNC5wdXNoKHsNCiAgICAgICAga2V5OiByb3cucGR0ZW1wUGRSZWxhLnBkUmVsYUl0ZW1WYWwsDQogICAgICAgIHZhbHVlOiByb3cucGRSZWxhSXRlbU5hbWUNCiAgICAgIH0pOw0KwqANCiAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSA9IHJvdy5wZHRlbXBQZFJlbGEucGRSZWxhQ2F0ZTsgLy8NCiAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhSXRlbVZhbCA9IHJvdy5wZHRlbXBQZFJlbGEucGRSZWxhSXRlbVZhbDsgLy8NCiAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRJdGVtVmFsID0gcm93LnBkdGVtcFBkUmVsYS5wZEl0ZW1WYWw7IC8vDQogICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYVZhbCA9IHJvdy5wZHRlbXBQZFJlbGEucGRSZWxhVmFsOyAvLw0KICAgICBpZihyb3cucGR0ZW1wUGRSZWxhLnBkUmVsYVZhbCA9PcKgIkV4ZW1wdFByb2ciKXsNCsKgwqDCoMKgwqDCoMKgwqDCoHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhSXRlbVZhbDExwqA9wqByb3cucGR0ZW1wUGRSZWxhLnBkQ29kZSsiOiIrcm93LnBkdGVtcFBkUmVsYS5wZE5hbWUNCsKgwqDCoMKgwqDCoH0NCiAgICAgIHRoaXMub3B0aW9uczQgPSBbXTsNCiAgICB9LA0KICAgIHJvd0NsaWNrUXVlc3RFZGl0KHZhbCkgew0KICAgICAgdGhpcy5zZWxlY3RlZFF1ZXN0RWRpdCA9IHZhbDsNCiAgICAgIHRoaXMucGRRdWVzdFVwZGF0ZSA9ICIiOw0KICAgICAgdGhpcy5xdWVzdEVkaXRfcGRTYWxlQ2hhbmwgPSBbXTsNCiAgICAgIHRoaXMudXBkYXRlX3F1ZXN0RWRpdF9wZFNhbGVDaGFubCA9ICIiOw0KICAgICAgdGhpcy5wZFF1ZXN0RGVzY3JpYmUgPSAiIjsNCiAgICAgIHRoaXMucXVlc3RFZGl0SnNvbiA9IHt9Ow0KICAgICAgaWYgKHZhbC5sZW5ndGggPT0gMSkgew0KICAgICAgICB0aGlzLnF1ZXN0RWRpdEpzb24gPSB2YWxbMF07DQogICAgICAgIHRoaXMucGRRdWVzdFVwZGF0ZSA9IHZhbFswXS5wZE5iQ2hvVmFsOw0KICAgICAgICB0aGlzLnVwZGF0ZV9xdWVzdEVkaXRfcGRTYWxlQ2hhbmwgPSB2YWxbMF0ucGRTbENoYW5sOw0KICAgICAgICB0aGlzLnBkUXVlc3REZXNjcmliZSA9IHZhbFswXS5wZE5iQ2hvRGVzY3JpYmU7DQogICAgICAgIC8v572u54GwIDAwDQogICAgICAgIHRoaXMucXVlc3RFZGl0QXJyYXkgPSBbIjAwIl07DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9LA0KICAgIHJvd0NsaWNrUXVlc3RFZGl0Q2hhbmdlKHJvdykgew0KICAgICAgdGhpcy5wZFF1ZXN0RWRpdCA9IFtyb3cucGROYkNob1ZhbF07DQogICAgICB0aGlzLnBkUXVlc3RVcGRhdGUgPSByb3cucGROYkNob1ZhbDsNCiAgICAgIHRoaXMucGRRdWVzdERlc2NyaWJlID0gcm93LnBkTmJDaG9EZXNjcmliZTsNCiAgICB9LA0KICAgIHJvd0NsaWNrSW1wYXJ0RWRpdENoYW5nZShyb3cpIHsNCiAgICAgIHRoaXMucGRJbXBhcnRFZGl0ID0gW3Jvdy5wZE5iQ2hvVmFsXTsNCiAgICAgIHRoaXMucGRJbXBhcnRVcGRhdGUgPSByb3cucGROYkNob1ZhbDsNCiAgICAgIHRoaXMucGRJbXBhcnREZXNjcmliZSA9IHJvdy5wZE5iQ2hvRGVzY3JpYmU7DQogICAgfSwNCiAgICByb3dDbGlja0ltcGFydEVkaXQodmFsKSB7DQogICAgICB0aGlzLnNlbGVjdGVkSW1wYXJ0RWRpdCA9IHZhbDsNCiAgICAgIHRoaXMucGRJbXBhcnRVcGRhdGUgPSAiIjsNCiAgICAgIHRoaXMucXVlc3RFZGl0X3BkU2FsZUNoYW5sID0gW107DQogICAgICB0aGlzLnVwZGF0ZV9pbXBhcnRFZGl0X3BkU2FsZUNoYW5sID0gIiI7DQogICAgICB0aGlzLnBkSW1wYXJ0RGVzY3JpYmUgPSAiIjsNCiAgICAgIHRoaXMuaW1wYXJ0RWRpdEpzb24gPSB7fTsNCiAgICAgIGlmICh2YWwubGVuZ3RoID09IDEpIHsNCiAgICAgICAgdGhpcy5pbXBhcnRFZGl0SnNvbiA9IHZhbFswXTsNCiAgICAgICAgdGhpcy5wZEltcGFydFVwZGF0ZSA9IHZhbFswXS5wZE5iQ2hvVmFsOw0KICAgICAgICB0aGlzLnVwZGF0ZV9pbXBhcnRFZGl0X3BkU2FsZUNoYW5sID0gdmFsWzBdLnBkU2xDaGFubDsNCiAgICAgICAgdGhpcy5wZEltcGFydERlc2NyaWJlID0gdmFsWzBdLnBkTmJDaG9EZXNjcmliZTsNCiAgICAgICAgLy/nva7ngbAgMDANCiAgICAgICAgdGhpcy5pbXBhcnRFZGl0QXJyYXkgPSBbIjAwIl07DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlckhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7DQogICAgICBpZiAoY29sdW1uKSB7DQogICAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWyJwcm9wZXJ0eSJdOw0KICAgICAgICByZXR1cm4gcm93LnBkdGVtcFBkUmVsYVtwcm9wZXJ0eV0gPT09IHZhbHVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/mt7vliqDmib/kv53pgInpobnnsbvlnovnmoTlgLwNCiAgICBhZGRDdmxpRGF0ZSgpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGROYkNob1R5cGUgPSAiMDAiOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5pZCA9IG51bGw7DQogICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkTmJDaG9WYWwgPSB0aGlzLnBkQ3ZsaURhdGVNb2RlOw0KICAgICAgaWYgKCF0aGlzLnBvbGljeUVmZmVjdGl2ZURhdGVKc29uLmlkKSB7DQogICAgICAgIGlmICghdGhpcy5wZEN2bGlEYXRlTW9kZSB8fCB0aGlzLnBkU2FsZUNoYW5sLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxIikpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRTbENoYW5sID0gdGhpcy5wZFNhbGVDaGFubDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICghdGhpcy51cGRhdGVfcGRTYWxlQ2hhbmwgfHwgIXRoaXMucGRDdmxpRGF0ZU1vZGUpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlRXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTEiKSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5pZCA9IHRoaXMucG9saWN5RWZmZWN0aXZlRGF0ZUpzb24uaWQ7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRTbENoYW5sID0gdGhpcy51cGRhdGVfcGRTYWxlQ2hhbmw7DQogICAgICB9DQogICAgICBhZGRQZHRlbXBQZE5iSW5mbygNCiAgICAgICAgdGhpcy5idWlsZFJlcXVlc3REYXRhKHsgcGR0ZW1wUGROYkluZm86IHRoaXMuc2VhcmNoRm9ybTEgfSkNCiAgICAgICkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEubWVzc2FnZV90eXBlID09ICJhZGQiKSB7DQogICAgICAgICAgdGhpcy5yZXNldEN2bGlEYXRlKCk7DQogICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsIHRydWUpOw0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlNiIpKTsNCiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5tZXNzYWdlX3R5cGUgPT0gInVwZGF0ZSIpIHsNCiAgICAgICAgICB0aGlzLnJlc2V0Q3ZsaURhdGUoKTsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJjaGlsZEZuIiwgdHJ1ZSk7DQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2U3IikpOw0KICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLm1lc3NhZ2VfdHlwZSA9PSAiZXhpc3RlbmNlIikgew0KICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTEwIikpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubWVzc2FnZTkiKSk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFkZFF1ZXN0RWRpdCgpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRUeXBlID0gIjAiOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZE5iQ2hvVHlwZSA9ICIwMSI7DQogICAgICBpZiAoIXRoaXMucXVlc3RFZGl0SnNvbi5pZCkgew0KICAgICAgICBpZiAoDQogICAgICAgICAgdGhpcy5wZFF1ZXN0RWRpdC5sZW5ndGggPT0gMCB8fA0KICAgICAgICAgIHRoaXMucXVlc3RFZGl0X3BkU2FsZUNoYW5sLmxlbmd0aCA9PSAwDQogICAgICAgICkgew0KICAgICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VFcnJvcih0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlMTEiKSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5pZCA9IG51bGw7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGROYkNob1ZhbCA9IHRoaXMucGRRdWVzdEVkaXQ7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRTbENoYW5sID0gdGhpcy5xdWVzdEVkaXRfcGRTYWxlQ2hhbmw7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoIXRoaXMucGRRdWVzdFVwZGF0ZSB8fCAhdGhpcy51cGRhdGVfcXVlc3RFZGl0X3BkU2FsZUNoYW5sKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxMSIpKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLmlkID0gdGhpcy5xdWVzdEVkaXRKc29uLmlkOw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkTmJDaG9WYWwgPSB0aGlzLnBkUXVlc3RVcGRhdGU7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRTbENoYW5sID0gdGhpcy51cGRhdGVfcXVlc3RFZGl0X3BkU2FsZUNoYW5sOw0KICAgICAgfQ0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZE5iQ2hvRGVzY3JpYmUgPSB0aGlzLnBkUXVlc3REZXNjcmliZTsNCiAgICAgIGFkZFBkdGVtcFBkTmJJbmZvKA0KICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyBwZHRlbXBQZE5iSW5mbzogdGhpcy5zZWFyY2hGb3JtMSB9KQ0KICAgICAgKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YS5tZXNzYWdlX3R5cGUgPT0gImFkZCIpIHsNCiAgICAgICAgICB0aGlzLnJlc2V0UXVlc3RFZGl0KCk7DQogICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsIHRydWUpOw0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlNiIpKTsNCiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5tZXNzYWdlX3R5cGUgPT0gInVwZGF0ZSIpIHsNCiAgICAgICAgICB0aGlzLnJlc2V0UXVlc3RFZGl0KCk7DQogICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsIHRydWUpOw0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlNyIpKTsNCiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5tZXNzYWdlX3R5cGUgPT0gImV4aXN0ZW5jZSIpIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxMCIpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2U5IikpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICByZXNldFF1ZXN0RWRpdENvcHkoaWQpIHt9LA0KICAgIGFkZEltcGFydEVkaXQoKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0xLnBkVHlwZSA9ICIwIjsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGROYkNob1R5cGUgPSAiMDIiOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5pZCA9IG51bGw7DQogICAgICBpZiAoIXRoaXMuaW1wYXJ0RWRpdEpzb24uaWQpIHsNCiAgICAgICAgaWYgKA0KICAgICAgICAgIHRoaXMucGRJbXBhcnRFZGl0Lmxlbmd0aCA9PSAwIHx8DQogICAgICAgICAgdGhpcy5pbXBhcnRFZGl0X3BkU2FsZUNoYW5sLmxlbmd0aCA9PSAwDQogICAgICAgICkgew0KICAgICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VFcnJvcih0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlMTIiKSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZE5iQ2hvVmFsID0gdGhpcy5wZEltcGFydEVkaXQ7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRTbENoYW5sID0gdGhpcy5pbXBhcnRFZGl0X3BkU2FsZUNoYW5sOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKCF0aGlzLnBkSW1wYXJ0VXBkYXRlIHx8ICF0aGlzLnVwZGF0ZV9pbXBhcnRFZGl0X3BkU2FsZUNoYW5sKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxMiIpKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLmlkID0gdGhpcy5pbXBhcnRFZGl0SnNvbi5pZDsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZE5iQ2hvVmFsID0gdGhpcy5wZEltcGFydFVwZGF0ZTsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZFNsQ2hhbmwgPSB0aGlzLnVwZGF0ZV9pbXBhcnRFZGl0X3BkU2FsZUNoYW5sOw0KICAgICAgfQ0KICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wZE5iQ2hvRGVzY3JpYmUgPSB0aGlzLnBkSW1wYXJ0RGVzY3JpYmU7DQogICAgICBhZGRQZHRlbXBQZE5iSW5mbygNCiAgICAgICAgdGhpcy5idWlsZFJlcXVlc3REYXRhKHsgcGR0ZW1wUGROYkluZm86IHRoaXMuc2VhcmNoRm9ybTEgfSkNCiAgICAgICkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEubWVzc2FnZV90eXBlID09ICJhZGQiKSB7DQogICAgICAgICAgdGhpcy5yZXNldEltcGFydEVkaXQoKTsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJjaGlsZEZuIiwgdHJ1ZSk7DQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2U2IikpOw0KICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLm1lc3NhZ2VfdHlwZSA9PSAidXBkYXRlIikgew0KICAgICAgICAgIHRoaXMucmVzZXRJbXBhcnRFZGl0KCk7DQogICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsIHRydWUpOw0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby5tZXNzYWdlNyIpKTsNCiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5tZXNzYWdlX3R5cGUgPT0gImV4aXN0ZW5jZSIpIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2UxMCIpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoInBkdGVtcFBkTmJJbmZvLm1lc3NhZ2U5IikpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBkZWxldGVRdWVzdEVkaXQocm93KSB7DQogICAgICBsZXQgZGVsS2V5cyA9IHRoaXMuc2VsZWN0ZWRRdWVzdEVkaXQubWFwKHNhbGUgPT4gc2FsZS5pZCk7DQogICAgICBkZWxldGVQZHRlbXBQZE5iSW5mb0xpc3QoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7IGRlbEtleXM6IGRlbEtleXMgfSkNCiAgICAgICkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMucmVzZXRRdWVzdEVkaXQoKTsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoInN1Y2Nlc3NNZXNzYWdlLmRlbGV0ZSIpKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsZXRlSW1wYXJ0RWRpdChyb3cpIHsNCiAgICAgIGxldCBkZWxLZXlzID0gdGhpcy5zZWxlY3RlZEltcGFydEVkaXQubWFwKHNhbGUgPT4gc2FsZS5pZCk7DQogICAgICBkZWxldGVQZHRlbXBQZE5iSW5mb0xpc3QoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7IGRlbEtleXM6IGRlbEtleXMgfSkNCiAgICAgICkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMucmVzZXRJbXBhcnRFZGl0KCk7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJzdWNjZXNzTWVzc2FnZS5kZWxldGUiKSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v6YeN572u5om/5L+d6YCJ6aG557G75Z6L55qE5YC8DQogICAgcmVzZXRDdmxpRGF0ZSgpIHsNCiAgICAgIHRoaXMucG9saWN5RWZmZWN0aXZlRGF0ZUpzb24gPSB7fTsNCiAgICAgIHRoaXMucGRDdmxpRGF0ZU1vZGUgPSAiIjsNCiAgICAgIHRoaXMucGRTYWxlQ2hhbmwgPSBbXTsNCiAgICAgIHRoaXMudXBkYXRlX3BkU2FsZUNoYW5sID0gIiI7DQogICAgICB0aGlzLnNlbGVjdGVkUG9saWN5RWZmZWN0aXZlRGF0ZSA9IFtdOw0KICAgICAgdGhpcy4kcmVmcy5wYWdlUGRDdmxpRGF0ZS5yZWxvYWQoKTsNCiAgICB9LA0KICAgIHJlc2V0UXVlc3RFZGl0KCkgew0KICAgICAgdGhpcy5wZFF1ZXN0RWRpdCA9IFtdOw0KICAgICAgdGhpcy5wZFF1ZXN0VXBkYXRlID0gIiI7DQogICAgICB0aGlzLnBkUXVlc3REZXNjcmliZSA9ICIiOw0KICAgICAgdGhpcy5xdWVzdEVkaXRKc29uID0ge307DQogICAgICB0aGlzLnNlbGVjdGVkUXVlc3RFZGl0ID0gW107DQogICAgICB0aGlzLnVwZGF0ZV9xdWVzdEVkaXRfcGRTYWxlQ2hhbmwgPSAiIjsNCiAgICAgIHRoaXMucXVlc3RFZGl0X3BkU2FsZUNoYW5sID0gW107DQogICAgICB0aGlzLiRyZWZzLnBhZ2VRdWVzdEVkaXQucmVsb2FkKCk7DQogICAgfSwNCiAgICByZXNldEltcGFydEVkaXQoKSB7DQogICAgICB0aGlzLnBkSW1wYXJ0RGVzY3JpYmUgPSAiIjsNCiAgICAgIHRoaXMucGRJbXBhcnRFZGl0ID0gW107DQogICAgICB0aGlzLnBkSW1wYXJ0VXBkYXRlID0gIiI7DQogICAgICB0aGlzLnVwZGF0ZV9pbXBhcnRFZGl0X3BkU2FsZUNoYW5sID0gIiI7DQogICAgICB0aGlzLmltcGFydEVkaXRfcGRTYWxlQ2hhbmwgPSBbXTsNCiAgICAgIHRoaXMuaW1wYXJ0RWRpdEpzb24gPSB7fTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbXBhcnRFZGl0ID0gW107DQogICAgICB0aGlzLiRyZWZzLnBhZ2VJbXBhcnRFZGl0LnJlbG9hZCgpOw0KICAgIH0sDQogICAgcmVzZXRGb3JtRGF0YTMoKSB7DQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsNCiAgICAgICAgbGV0IHNlYXJjaEZvcm1Db3B5MyA9IHsNCiAgICAgICAgICBwZENvZGU6ICIiLCAvL+S6p+WTgee8lueggQ0KICAgICAgICAgIHBkTmFtZTogIiIsIC8v5Lqn5ZOB5ZCN56ewDQogICAgICAgICAgcGRJbmZvSWQ6ICIiLCAvL+S6p+WTgWlkDQogICAgICAgICAgSWQ6ICIiLA0KICAgICAgICAgIHNob3dGbGFnOiB0cnVlLA0KICAgICAgICAgIGRldGFpbHNTaG93OiBmYWxzZSwgLy/mm7TlpJrpobnnmoTmmL7npLrkuI7pmpDol48NCiAgICAgICAgICBpbnN1cmFuY2VNYXJrOiAiIiwgLy/kuLvpmYTpmanmoIforrANCiAgICAgICAgICBhY2NmZWU6IHRydWUsDQogICAgICAgICAgcGRSZWxhQ2F0ZTogIkV4ZW1wdFByb2ciLA0KICAgICAgICAgIHBkSXRlbUNhdGU6ICIiLA0KICAgICAgICAgIHBkSXRlbVZhbDogIiIsDQogICAgICAgICAgcGRSZWxhSXRlbUNhdGU6ICIiLA0KICAgICAgICAgIHBkUmVsYUl0ZW1WYWw6ICIiLCAvL+WFs+iBlOmhueWAvCAtLSDmkK3phY3pmannp43lgLwNCiAgICAgICAgICBwZFJlbGFWYWw6ICIiLCAvL+mZqeenjeWFs+ezuw0KICAgICAgICAgIHBkUmVsYURlc2M6ICIiDQogICAgICAgIH07DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTMgPSBzZWFyY2hGb3JtQ29weTM7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZTMoc2VhcmNoRm9ybTMpIHsNCiAgICAgIGxldCBwZHRlbXBQZFJlbGEgPSB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgcGRUeXBlOiAiIiwNCiAgICAgICAgcGRWZXJJZDogIiIsDQogICAgICAgIHBkSW5mb0lkOiAiIiwNCiAgICAgICAgcGRDb2RlOiAiIiwNCiAgICAgICAgcGRSZWxhQ2F0ZTogIiIsIC8vRXhlbXB0UHJvZ+ixgeWFjeaWueahiCBFeGVtcHRHZXQ66LGB5YWN5L+d6ZqcDQogICAgICAgIHBkSXRlbUNhdGU6ICIiLCAvL1Jpc2st6Zmp56eN57yW56CBIFByb2ct5pa55qGI57yW56CBIEJuZnQt5L+d6Zqc57yW56CBDQogICAgICAgIHBkSXRlbVZhbDogIiIsIC8v5pys6aG55YC857G75Yir5Li66Zmp56eN57yW56CB5YiZ5pys6aG55YC85a2Y5pS+6Zmp56eN57yW56CBDQogICAgICAgIHBkUmVsYUl0ZW1DYXRlOiAiIiwgLy9SaXNrLemZqeenjee8lueggSBQcm9nLeaWueahiOe8lueggQ0KICAgICAgICBwZFJlbGFJdGVtSWQ6ICIiLCAvLw0KICAgICAgICBwZFJlbGFJdGVtVmFsOiAiIiwgLy/lhbPogZTpobnlgLwNCiAgICAgICAgcGRSZWxhVmFsOiAiIiwgLy8wNSAt6LGB5YWN6Zmp56eNIDA2LeixgeWFjeaWueahiCAwNy3osYHlhY3lrrbluq3ljZUNCiAgICAgICAgcGRSZWxhRGVzYzogIiIsIC8v5YWz6IGU5YWz57O76K+05piODQogICAgICAgIHBkSW5kcFJpZGVyOiAiIiAvL+eLrOeri+mZhOe6pg0KICAgICAgfTsNCiAgICAgIHBkdGVtcFBkUmVsYS5pZCA9IHRoaXMuc2VhcmNoRm9ybTMuSWQ7DQogICAgICBwZHRlbXBQZFJlbGEucGRWZXJJZCA9IHRoaXMucHJvZHVjdC5wZFZlcklkOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkQ29kZSA9IHRoaXMucHJvZHVjdC5wZENvZGU7IC8vDQogICAgICBwZHRlbXBQZFJlbGEucGROYW1lID0gdGhpcy5wcm9kdWN0LnBkTmFtZTsgLy8NCiAgICAgIHBkdGVtcFBkUmVsYS5wZFR5cGUgPSAiMSI7IC8vDQoNCiAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFDYXRlID0gdGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFDYXRlOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkSXRlbVZhbCA9IHRoaXMuc2VhcmNoRm9ybTMucGRJdGVtVmFsOyAvLw0KICAgICAgcGR0ZW1wUGRSZWxhLnBkUmVsYUl0ZW1JZCA9IHRoaXMuc2VhcmNoRm9ybTMucGRJbmZvSWQ7IC8vDQogICAgICBwZHRlbXBQZFJlbGEucGRSZWxhVmFsID0gdGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFWYWw7IC8vDQogICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtVmFsID0gdGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFJdGVtVmFsOyAvLw0KICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSA9PSAiRXhlbXB0UHJvZyIpIHsNCiAgICAgICAgLy/lvZPliY3mmK/mlrnmoYgNCiAgICAgICAgcGR0ZW1wUGRSZWxhLnBkSXRlbUNhdGUgPSAiUHJvZyI7IC8vDQogICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYVZhbCA9PSAiRXhlbXB0UHJvZyIpIHsNCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbUNhdGUgPSAiUHJvZyI7IC8vDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFWYWwgPT0gIkV4ZW1wdFByb2QiKSB7DQogICAgICAgICAgcGR0ZW1wUGRSZWxhLnBkUmVsYUl0ZW1DYXRlID0gIlJpc2siOyAvLw0KDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFDYXRlID09ICJFeGVtcHRCbmZ0Iikgew0KICAgICAgICAvL+S/nemanA0KICAgICAgICBwZHRlbXBQZFJlbGEucGRJdGVtQ2F0ZSA9ICJCbmZ0IjsgLy8NCiAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhVmFsID09ICJFeGVtcHRQcm9nIikgew0KICAgICAgICAgIHBkdGVtcFBkUmVsYS5wZFJlbGFJdGVtQ2F0ZSA9ICJQcm9nIjsgLy8NCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYVZhbCA9PSAiRXhlbXB0UHJvZCIpIHsNCiAgICAgICAgICBwZHRlbXBQZFJlbGEucGRSZWxhSXRlbUNhdGUgPSAiUmlzayI7IC8vDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxldCBiYWNrID0gIiI7DQogICAgICBiYWNrID0gdXBkYXRlUGR0ZW1wUGRSZWxhKHBkdGVtcFBkUmVsYSk7DQogICAgICBiYWNrLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7DQogICAgICAgICAgdGhpcy5wYXJhbXMzLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOw0KICAgICAgICAgIHRoaXMuJHJlZnMucGFnZTMucmVsb2FkKCk7DQogICAgICAgICAgdGhpcy5zZWxlY3RSb3dIVU9NKHBkdGVtcFBkUmVsYS5pZCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlMyhyb3cpIHsNCiAgICAgIGxldCBpZCA9IHJvdy5pZDsNCiAgICAgIGxldCBiYWNrID0gIiI7DQogICAgICBiYWNrID0gZGVsZXRlUGR0ZW1wUGRSZWxhKGlkKTsNCiAgICAgIGJhY2sudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsNCiAgICAgICAgICB0aGlzLnBhcmFtczMuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7DQogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlMy5yZWxvYWQoKTsNCiAgICAgICAgICB0aGlzLnJlc2V0Rm9ybURhdGEzKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/muIXnqboNCiAgICByZXNldEZvcm0zKCkgew0KICAgICAgdGhpcy5zZWxlY3RlZERlZjMgPSB7fTsNCiAgICAgIHRoaXMuZ3JpZFNlbGVjdGVkRGVmMiA9ICIiOw0KICAgICAgdGhpcy5ncmlkU2VsZWN0ZWREZWYzID0gIiI7DQogICAgICB0aGlzLiRyZWZzLnNlYXJjaEZvcm0zLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLiRyZWZzLnBhZ2UzLnJlbG9hZCgpOw0KICAgIH0sDQogICAgcmVzZXRGb3JtM0NvcHkoKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMy5JZCkgew0KICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb25maWdzMykgew0KICAgICAgICAgIGlmIChpdGVtLnBkdGVtcFBkUmVsYS5pZCA9PT0gdGhpcy5zZWFyY2hGb3JtMy5JZCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5jb25maWdzMy5zZXRDdXJyZW50Um93KGl0ZW0pOw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFBkTmJJTmZvQ2hhbmdlZChpdGVtKTsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWYzID0gaXRlbS5wZHRlbXBQZFJlbGE7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2VsZWN0ZWREZWYzID0ge307DQogICAgICAgIHRoaXMuZ3JpZFNlbGVjdGVkRGVmMiA9ICIiOw0KICAgICAgICB0aGlzLmdyaWRTZWxlY3RlZERlZjMgPSAiIjsNCiAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtMy5yZXNldEZpZWxkcygpOw0KICAgICAgICB0aGlzLiRyZWZzLnBhZ2UzLnJlbG9hZCgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlVXBkYXRlKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMuc2VsZWN0Um93LmlkKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RSb3cgPSB7fTsNCiAgICAgICAgICB0aGlzLnVwZGF0ZUZsYWcgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmxhYmVsRGVmRGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhLmlkID0gIiI7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS5wZExhYmVsQXR0cmlidXRlID0gIiI7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS5wZExhYmVsRGVzYyA9ICIiOw0KICAgICAgICAgIHRoaXMuZm9ybURhdGEucGRMYWJlbFR5cGUgPSAiIjsNCiAgICAgICAgICB0aGlzLmxhYmVsQ29udGVudHMgPSBbXTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmxhYmVsQ29udGVudHMgPSBbXTsNCiAgICAgICAgICB0aGlzLnNlbGVjdFJvdyA9IHJvdzsNCiAgICAgICAgICB0aGlzLmxhYmVsRGVmRGlzYWJsZWQgPSB0cnVlOw0KICAgICAgICAgIHRoaXMudXBkYXRlRmxhZyA9IHRydWU7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2VsZWN0Um93KTsNCiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMubGFiZWxDb250ZW50cywgdGhpcy5zZWxlY3RSb3cubGFiZWxDb250ZW50cyk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGluaXRQZHRlbXBMYWJlbERlZigpew0KICAgICAgaW5pdFBkdGVtcExhYmVsRGVmKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnBhcmFtczQpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2g1KCk7DQogICAgICAgIHRoaXMuY2xlYXJMYWJlbERlZigpOw0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgic3VjY2Vzc01lc3NhZ2Uuc3VibWl0IikpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVDcmVhdGUoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm1EYXRhLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgaWYgKHRoaXMubGFiZWxDb250ZW50cy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBsZXQgYmFjazsNCiAgICAgICAgICAgIC8v57uE6KOFRGF0YQ0KICAgICAgICAgICAgbGV0IGxhYmVsQ29udGVudHNBcnJheSA9IFtdOw0KICAgICAgICAgICAgdGhpcy5sYWJlbENvbnRlbnRzLmZvckVhY2gocyA9Pg0KICAgICAgICAgICAgICBsYWJlbENvbnRlbnRzQXJyYXkucHVzaCh7IHBkTGFiZWxDb250ZW50OiBzIH0pDQogICAgICAgICAgICApOw0KDQogICAgICAgICAgICBsZXQgZGF0YTsNCg0KICAgICAgICAgICAgbGV0IGxhYmVsRGVmID0gew0KICAgICAgICAgICAgICBwZEluZm9JZDogdGhpcy5wcm9kdWN0LmlkLA0KICAgICAgICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsDQogICAgICAgICAgICAgIHBkTmFtZTogdGhpcy5wcm9kdWN0LnBkTmFtZSwNCiAgICAgICAgICAgICAgcGRWZXJJZDogdGhpcy5wcm9kdWN0LnBkVmVySWQsDQogICAgICAgICAgICAgIGlkOiB0aGlzLmZvcm1EYXRhLmlkLA0KICAgICAgICAgICAgICBwZExhYmVsQXR0cmlidXRlOiB0aGlzLmZvcm1EYXRhLnBkTGFiZWxBdHRyaWJ1dGUsDQogICAgICAgICAgICAgIHBkTGFiZWxUeXBlOiB0aGlzLmZvcm1EYXRhLnBkTGFiZWxUeXBlLA0KICAgICAgICAgICAgICBwZExhYmVsRGVzYzogdGhpcy5mb3JtRGF0YS5wZExhYmVsRGVzYw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1EYXRhLmlkKSB7DQogICAgICAgICAgICAgIGRhdGEgPSB7IGxhYmVsRGVmOiBsYWJlbERlZiwgbGFiZWxDb250ZW50czogbGFiZWxDb250ZW50c0FycmF5IH07DQogICAgICAgICAgICAgIGJhY2sgPSB1cGRhdGVQZHRlbXBQZExhYmVsRGVmKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBkYXRhID0geyBsYWJlbERlZjogbGFiZWxEZWYsIGxhYmVsQ29udGVudHM6IGxhYmVsQ29udGVudHNBcnJheSB9Ow0KICAgICAgICAgICAgICBiYWNrID0gYWRkUGR0ZW1wUGRMYWJlbERlZih0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYmFjay50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2g1KCk7DQogICAgICAgICAgICAgIHRoaXMuY2xlYXJMYWJlbERlZigpOw0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgic3VjY2Vzc01lc3NhZ2Uuc3VibWl0IikpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubmV3VGFnQWRkVGlwIikpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVDbG9zZSh0YWcpIHsNCiAgICAgIHRoaXMubGFiZWxDb250ZW50cy5zcGxpY2UodGhpcy5sYWJlbENvbnRlbnRzLmluZGV4T2YodGFnKSwgMSk7DQogICAgfSwNCiAgICBoYW5kbGVJbnB1dENvbmZpcm0oKSB7DQogICAgICBsZXQgaW5wdXRWYWx1ZSA9IHRoaXMuaW5wdXRWYWx1ZTsNCiAgICAgIGlmIChpbnB1dFZhbHVlKSB7DQogICAgICAgIGlmICh0aGlzLl8uaW5kZXhPZih0aGlzLmxhYmVsQ29udGVudHMsIGlucHV0VmFsdWUudHJpbSgpKSA9PT0gLTEpIHsNCiAgICAgICAgICB0aGlzLmxhYmVsQ29udGVudHMucHVzaChpbnB1dFZhbHVlLnRyaW0oKSk7DQogICAgICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSAiIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeVdhcm5pbmcodGhpcy4kdCgicGR0ZW1wUGROYkluZm8ubmV3VGFnVGlwIikpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBzaG93SW5wdXQoKSB7DQogICAgICB0aGlzLmlucHV0VmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLiRuZXh0VGljayhfID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5zYXZlVGFnSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2xlYXJMYWJlbERlZigpIHsNCiAgICAgIHRoaXMudXBkYXRlRmxhZyA9IGZhbHNlOw0KICAgICAgdGhpcy5sYWJlbERlZkRpc2FibGVkID0gZmFsc2U7DQogICAgICB0aGlzLmxhYmVsQ29udGVudHMgPSBbXTsNCiAgICAgIHRoaXMuc2VsZWN0Um93ID0ge307DQogICAgICB0aGlzLnJlc2V0Rm9ybSgpOw0KICAgIH0sDQogICAgcmVzZXRGb3JtKCkgew0KICAgICAgdGhpcy5mb3JtRGF0YSA9IHsNCiAgICAgICAgLy/ooajljZXmlbDmja7kuI7lkI7nq6/lrp7kvZPnsbvlr7nlupQNCiAgICAgICAgaWQ6ICIiLA0KICAgICAgICBwZExhYmVsQXR0cmlidXRlOiAiIiwNCiAgICAgICAgcGRMYWJlbFR5cGU6ICIiLA0KICAgICAgICBwZExhYmVsRGVzYzogIiINCiAgICAgIH07DQogICAgfSwNCiAgICBoYW5kbGVEZWxldGUoaWQpIHsNCiAgICAgIGRlbGV0ZVBkdGVtcExhYmVsRGVmKGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2g1KCk7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJzdWNjZXNzTWVzc2FnZS5kZWxldGUiKSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZVNlYXJjaDUoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgpOw0KICAgICAgdGhpcy5sYWJlbERlZkRpc2FibGVkID1mYWxzZTsNCiAgICAgIHRoaXMubGFiZWxDb250ZW50c8KgPcKgW107DQogICAgICB0aGlzLiRyZWZzLnBhZ2U0LnJlbG9hZCgpOw0KICAgIH0sDQogICAgYXR0cmlidXRlQ2hhbmdlKHZhbCkgew0KICAgICAgbGV0IGRhdGEgPSB7IGxhYmVsQXR0cmk6IHZhbCwgcGRJbmZvSWQ6IHRoaXMucHJvZHVjdC5pZCB9Ow0KICAgICAgYXR0cmlidXRlQ2hhbmdlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmFsbFR5cGVOdWxsID09IHRydWUpIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5V2FybmluZyh0aGlzLiR0KCJwZHRlbXBQZE5iSW5mby51cGRhdGVMYWJlbCIpKTsNCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGxhYmVsVHlwZXMgPSByZXNwb25zZS5kYXRhLmxhYmVsVHlwZXM7DQogICAgICAgICAgaWYgKGxhYmVsVHlwZXMubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgIHRoaXMuYXR0cmlGaWx0ZXIgPSAiMSI7DQogICAgICAgICAgICBmb3IgKGxldCB0eXBlcyBvZiBsYWJlbFR5cGVzKSB7DQogICAgICAgICAgICAgIHRoaXMuYXR0cmlGaWx0ZXIgKz0gIiQiICsgdHlwZXM7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmF0dHJpRmlsdGVyKTsNCiAgICAgICAgICB9DQogICAgICAgICAgLy/kv67mlLlsYWJlbFR5cGUNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB0eXBlQ2hhbmdlKHZhbCkgew0KICAgICAgZGVidWdnZXI7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZm9ybURhdGEucGRMYWJlbEF0dHJpYnV0ZSAhPSB1bmRlZmluZWQgJiYNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5wZExhYmVsQXR0cmlidXRlICE9ICIiDQogICAgICApIHsNCiAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucHJvZHVjdC5pZCwNCiAgICAgICAgICBwZExhYmVsQXR0cmlidXRlOiB0aGlzLmZvcm1EYXRhLnBkTGFiZWxBdHRyaWJ1dGUsDQogICAgICAgICAgcGRMYWJlbFR5cGU6IHZhbA0KICAgICAgICB9Ow0KICAgICAgICB0eXBlQ2hhbmdlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS5wZExhYmVsRGVzYyA9IHJlc3BvbnNlLmRhdGEucGRMYWJlbERlc2M7DQogICAgICAgICAgdGhpcy5sYWJlbENvbnRlbnRzID0gW107DQogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmxhYmVsQ29udGVudHMsIHJlc3BvbnNlLmRhdGEubGFiZWxDb250ZW50cyk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coIuagh+etvuexu+Wei+S/ruaUueS6hiIpOw0KICAgIH0sDQogICAgcm93UG9saWN5RWZmZWN0aXZlRGF0ZSh2YWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRQb2xpY3lFZmZlY3RpdmVEYXRlID0gdmFsOw0KICAgICAgdGhpcy5wZFNhbGVDaGFubCA9IFtdOw0KICAgICAgdGhpcy5wZEN2bGlEYXRlTW9kZSA9ICIiOw0KICAgICAgdGhpcy51cGRhdGVfcGRTYWxlQ2hhbmwgPSAiIjsNCiAgICAgIHRoaXMucG9saWN5RWZmZWN0aXZlRGF0ZUpzb24gPSB7fTsNCiAgICAgIGlmICh2YWwubGVuZ3RoID09IDEpIHsNCiAgICAgICAgdGhpcy52YXJTaG93ID0gIjIiOw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLmlkID0gdmFsWzBdLmlkOw0KICAgICAgICB0aGlzLnBkQ3ZsaURhdGVNb2RlID0gdmFsWzBdLnBkTmJDaG9WYWw7DQogICAgICAgIHRoaXMucGRTYWxlQ2hhbmwucHVzaCh2YWxbMF0ucGRTbENoYW5sKTsNCiAgICAgICAgdGhpcy51cGRhdGVfcGRTYWxlQ2hhbmwgPSB2YWxbMF0ucGRTbENoYW5sOw0KICAgICAgICB0aGlzLnBvbGljeUVmZmVjdGl2ZURhdGVKc29uID0gdmFsWzBdOw0KICAgICAgICAvL+e9rueBsCAwMA0KICAgICAgICB0aGlzLnBkU2FsZUNoYW5sRGlzYWJsZWRDb2RlQXJyYXkgPSBbIjAwIl07DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSBpZiAodmFsLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHRoaXMudmFyU2hvdyA9ICIxIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudmFyU2hvdyA9ICIzIjsNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZVBvbGljeUVmZmVjdGl2ZURhdGUocm93KSB7DQogICAgICBsZXQgZGVsS2V5cyA9IHRoaXMuc2VsZWN0ZWRQb2xpY3lFZmZlY3RpdmVEYXRlLm1hcChzYWxlID0+IHNhbGUuaWQpOw0KICAgICAgZGVsZXRlUGR0ZW1wUGROYkluZm9MaXN0KA0KICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyBkZWxLZXlzOiBkZWxLZXlzIH0pDQogICAgICApLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLnVwZGF0ZV9wZFNhbGVDaGFubCA9ICIiOw0KICAgICAgICB0aGlzLnBkU2FsZUNoYW5sID0gW107DQogICAgICAgIHRoaXMucGRDdmxpRGF0ZU1vZGUgPSAiIjsNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlUGRDdmxpRGF0ZS5yZWxvYWQoKTsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoInN1Y2Nlc3NNZXNzYWdlLmRlbGV0ZSIpKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgcGRTbENoYW5sRm9ybWF0KHJvdywgY29sdW1uKSB7DQogICAgICBsZXQgdmEgPSByb3cucGRTbENoYW5sOw0KICAgICAgbGV0IHBkU2xDaGFubFZhbHVlID0gIiI7DQogICAgICB0aGlzLnBkU2xDaGFubEFycmF5LmZvckVhY2goKHZhbGlkLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAodmFsaWQuY29kZSA9PT0gdmEpIHsNCiAgICAgICAgICBwZFNsQ2hhbmxWYWx1ZSA9IHZhbGlkLmNvZGVuYW1lOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHJldHVybiBwZFNsQ2hhbmxWYWx1ZTsNCiAgICB9LA0KICAgIHBkQ3ZsaURhdGVNb2RlRm9ybWF0KHJvdywgY29sdW1uKSB7DQogICAgICBsZXQgdmEgPSByb3cucGROYkNob1ZhbDsNCiAgICAgIGxldCBwZEN2bGlEYXRlTW9kVmFsdWUgPSAiIjsNCiAgICAgIHRoaXMucGRDdmxpRGF0ZU1vZEFycmF5LmZvckVhY2goKHZhbGlkLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAodmFsaWQuY29kZSA9PT0gdmEpIHsNCiAgICAgICAgICBwZEN2bGlEYXRlTW9kVmFsdWUgPSB2YWxpZC5jb2RlbmFtZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICByZXR1cm4gcGRDdmxpRGF0ZU1vZFZhbHVlOw0KICAgIH0sDQogICAgcXVlc3RFZGl0Rm9ybWF0KHJvdywgY29sdW1uKSB7DQogICAgICBsZXQgdmEgPSByb3cucGROYkNob1ZhbDsNCiAgICAgIGxldCB2YWx1ZSA9ICIiOw0KICAgICAgdGhpcy5xdWVzdEVkaXREYXRhQXJyYXkuZm9yRWFjaCgodmFsaWQsIGluZGV4KSA9PiB7DQogICAgICAgIGlmICh2YWxpZC5jb2RlID09PSB2YSkgew0KICAgICAgICAgIHZhbHVlID0gdmFsaWQuY29kZW5hbWU7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgcmV0dXJuIHZhbHVlOw0KICAgIH0sDQogICAgcGRJbXBhcnRGb3JtYXQocm93LCBjb2x1bW4pIHsNCiAgICAgIGxldCB2YSA9IHJvdy5wZE5iQ2hvVmFsOw0KICAgICAgbGV0IHZhbHVlID0gIiI7DQogICAgICB0aGlzLnBkSW1wYXJ0RGF0YUFycmF5LmZvckVhY2goKHZhbGlkLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAodmFsaWQuY29kZSA9PT0gdmEpIHsNCiAgICAgICAgICB2YWx1ZSA9IHZhbGlkLmNvZGVuYW1lOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHJldHVybiB2YWx1ZTsNCiAgICB9LA0KICAgIGV4ZW1wdEJhY2soKXsNCiAgICDCoGlmwqAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFWYWzCoD09wqAiRXhlbXB0UHJvZCIpwqB7DQogICAgICAgICAvKiBsZXQgwqBwYXJhbXM9wqB7DQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBlcV9wZERldGFpbFR5cGU6wqAiIiwNCiAgICAgICAgwqDCoMKgwqDCoMKgwqDCoGVxX3BkRWRpdGlvbjrCoCIiLA0KICAgICAgICDCoMKgwqDCoMKgwqDCoMKgZXFfcGRDb2RlOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBkZXNpZ25UeXBlOsKgIiIsDQogICAgICAgIMKgwqDCoMKgwqDCoMKgwqBwZE1haW5TdWJGbGFnOsKgIiINCiAgICAgIMKgwqDCoMKgwqDCoH0NCiAgICAgICAgIMKgT2JqZWN0LmFzc2lnbih0aGlzLmdyaWRQYXJhbXMyLMKgcGFyYW1zKTsqLw0KICAgICAgICAgIHRoaXMuZ3JpZERhdGEyID1bXTsNCiAgICAgICAgICB0aGlzLiRyZWZzLmdyaWRQYWdlMi5jbGVhckRhdGEoKTsNCiAgICAgIH1lbHNlew0KICAgICAgICAvKiBsZXQgcGFyYW1zMSA9wqB7DQogICAgwqDCoMKgwqDCoMKgwqDCoGVxX3BkRGV0YWlsVHlwZTrCoCIiLA0KICAgIMKgwqDCoMKgwqDCoMKgwqBlcV9wZEVkaXRpb246wqAiIiwNCiAgICDCoMKgwqDCoMKgwqDCoMKgZXFfcGRDb2RlOsKgIiIsDQogICAgwqDCoMKgwqDCoMKgwqDCoGVxX3BkRGVzVHlwZTrCoCIiLA0KICAgIMKgwqDCoMKgwqDCoMKgwqBlcV9wZE1haW5TdWJGbGFnOsKgIiIsDQogICAgwqDCoMKgwqDCoMKgwqDCoGVxX3BkU3RvcERhdGU6wqAiIiwNCiAgICDCoMKgwqDCoMKgwqDCoMKgZXFfcGRTdGFydERhdGU6wqAiIg0KICAgIMKgwqDCoMKgwqDCoH0NCiAgICAgICAgwqBPYmplY3QuYXNzaWduKHRoaXMuZ3JpZFBhcmFtczMscGFyYW1zMSk7Ki8NCiAgICAgICAgIHRoaXMuZ3JpZERhdGEzID1bXTsNCiAgICAgICAgIHRoaXMuJHJlZnMuZ3JpZFBhZ2UzLmNsZWFyRGF0YSgpOw0KICAgICAgfQ0KICAgICAgdGhpcy5zZWFyY2hGb3JtMy5kZXRhaWxzU2hvd8KgPcKgZmFsc2UNCiAgICB9LA0KICAgIC8v6aG16Z2i6Lez6L2s5oyJ6ZKuDQogICAgZ2V0UGREZXNpZ25QYWdlKHJvdywgdHlwZSkgew0KICAgICAgaWYgKHJvdykgew0KICAgICAgICAgIHRoaXMuY2FjaGVDdXJyUGFnZVBkRGF0YShyb3cpOw0KICAgICAgICAgIHRoaXMuZGlhbG9nU2hvdyA9IHRydWU7DQogICAgICAgICAgc3dpdGNoICh0eXBlKSB7DQogICAgICAgICAgICBjYXNlICJwZEluZm8iOg0KICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gIuS6p+WTgeahhuaetuS/oeaBr+afpeeciyI7DQogICAgICAgICAgICAgIHRoaXMuZGlhbG9nQ29tcG9uZW50ID0gInByb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL21haW4iOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgInBkUHJvZyI6DQogICAgICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAi5Lqn5ZOB5pa55qGI5L+h5oGv5p+l55yLIjsNCiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDb21wb25lbnQgPQ0KICAgICAgICAgICAgICAgICJwcm9kdWN0LWRlZmluaXRpb24vcGQtZnJhbWV3b3JrLWRlZi9wZC1zdHJ1Y3R1cmUtZGVmL3Byb2dyYW0tZGVmIjsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KDQogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5Lqn5ZOB5qGG5p625a6a5LmJ5Li76aG1JywgcXVlcnk6IHtzaG93UGFnZUZsYWc6ICcxJ30scGFyYW1zOnRoaXMucGRJbmZvfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsb3NlUGFnZURpYWxvZygpIHsNCiAgICAgIHRoaXMuZGlhbG9nU2hvdyA9IGZhbHNlOw0KICAgICAgdGhpcy5kaWFsb2dDb21wb25lbnQgPSAiIjsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgImdyaWRQYXJhbXMuZXFfcGRDb2RlIigpIHsNCiAgICAgIGlmICghdGhpcy5ncmlkUGFyYW1zLmVxX3BkQ29kZSkgew0KICAgICAgICB0aGlzLmVkaXRpb25PcHRpb25MaXN0ID0gW107DQogICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbkxpc3QgPSBbXTsNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zLmVxX3BkQ29kZSA9ICIiOw0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMuZXFfcGRFZGl0aW9uID0gIiI7DQogICAgICB9DQogICAgfSwNCiAgICAiZ3JpZFBhcmFtczIuZXFfcGRDb2RlIigpIHsNCiAgICAgIGlmICghdGhpcy5ncmlkUGFyYW1zMi5lcV9wZENvZGUpIHsNCiAgICAgICAgdGhpcy5lZGl0aW9uT3B0aW9uTGlzdCA9IFtdOw0KICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gW107DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczIuZXFfcGRDb2RlID0gIiI7DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczIuZXFfcGRFZGl0aW9uID0gIiI7DQogICAgICB9DQogICAgfSwNCiAgICAiZ3JpZFBhcmFtczMuZXFfcGRDb2RlIigpIHsNCiAgICAgIGlmICghdGhpcy5ncmlkUGFyYW1zMy5lcV9wZENvZGUpIHsNCiAgICAgICAgdGhpcy5lZGl0aW9uT3B0aW9uTGlzdCA9IFtdOw0KICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gW107DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGRDb2RlID0gIiI7DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGRFZGl0aW9uID0gIiI7DQogICAgICB9DQogICAgfSwNCiAgICBjb25maWdzMjogZnVuY3Rpb24oKSB7DQogICAgICBpZiAodGhpcy5jb25maWdzMi5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMucGRSZWxhVmFsRmlsdGVycyA9IFtdOw0KICAgICAgICB0aGlzLmNvbmZpZ3MyLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICB0aGlzLnBkUmVsYVZhbEZpbHRlcnMucHVzaCh7DQogICAgICAgICAgICB0ZXh0OiB0aGlzLmdldENvZGVOYW1lKA0KICAgICAgICAgICAgICAiaW5zdXJhbmNlUmVsYXRpb25zaGlwIiwNCiAgICAgICAgICAgICAgdmFsLnBkdGVtcFBkUmVsYS5wZFJlbGFWYWwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICB2YWx1ZTogdmFsLnBkdGVtcFBkUmVsYS5wZFJlbGFWYWwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICAgIC8v6Zmp56eN5YWz57O7562b6YCJDQogICAgICAgIHRoaXMucGRSZWxhVmFsRmlsdGVycyA9IHRoaXMucGRSZWxhVmFsRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24oDQogICAgICAgICAgcHJldiwNCiAgICAgICAgICBlbGVtZW50DQogICAgICAgICkgew0KICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgew0KICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOw0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gcHJldjsNCiAgICAgICAgfSwNCiAgICAgICAgW10pOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuY29uZmlnczIubGVuZ3RoID09IDEpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZENoYW5nZWQyQ2hhbmdlKHRoaXMuY29uZmlnczJbMF0pOw0KICAgICAgICB0aGlzLnNlbGVjdGVkRGVmMiA9IHRoaXMuY29uZmlnczJbMF0ucGR0ZW1wUGRSZWxhOw0KICAgICAgfQ0KICAgIH0sDQogICAgY29uZmlnczMoKSB7DQogICAgICBpZiAodGhpcy5jb25maWdzMy5sZW5ndGggPT0gMSkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkUGROYklOZm9DaGFuZ2VkKHRoaXMuY29uZmlnczNbMF0pOw0KICAgICAgICB0aGlzLiRyZWZzLmNvbmZpZ3MzLnNldEN1cnJlbnRSb3codGhpcy5jb25maWdzM1swXSk7DQogICAgICAgIHRoaXMuc2VsZWN0ZWREZWYzID0gdGhpcy5jb25maWdzM1swXS5wZHRlbXBQZFJlbGE7DQogICAgICB9DQogICAgfSwNCiAgICAic2VhcmNoRm9ybTIucGRSZWxhSXRlbVZhbCI6IGZ1bmN0aW9uKG5ld05hbWUsIG9sZE5hbWUpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFJdGVtVmFsICE9ICIiICYmDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGRSZWxhSXRlbVZhbCAhPSBudWxsDQogICAgICApIHsNCiAgICAgICAgLy/liIbnsbvmoIforrDooagNCiAgICAgICAgbGV0IGJhY2syID0gIiI7DQogICAgICAgIGJhY2syID0gcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMuc2VhcmNoRm9ybTIucGRJbmZvSWQpOw0KICAgICAgICBiYWNrMi50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVtpXS5wZENsc1R5cGUgPT0gMikgew0KICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGFbaV0ucGRDbHM1ID09ICJSIiB8fA0KICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YVtpXS5wZENsczUgPT0gIk4iDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAvL+S4u+mZhOmZqeagh+iusA0KICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFWYWwgPSAiMDEiOyAvL+atpOaXtuaYr+mZhOWKoOmZqQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLnBkUmVsYVZhbCA9ICIwMiI7IC8v5q2k5pe25piv5Li76ZmpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgICJzZWFyY2hGb3JtMi5wZFJlbGFWYWwiOiBmdW5jdGlvbihuZXdOYW1lLCBvbGROYW1lKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMi5wZFJlbGFWYWwgPT0gIjAxIikgew0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0yLmZsYWcgPSBmYWxzZTsgLy/kuLvpmYQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTIucGRJbmRwUmlkZXIgPSBmYWxzZTsgLy8NCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMi5mbGFnID0gdHJ1ZTsgLy/kuLvkuLsNCiAgICAgIH0NCiAgICB9LA0KICAgICJzZWFyY2hGb3JtMy5wZFJlbGFDYXRlIjogYXN5bmMgZnVuY3Rpb24obmV3TmFtZSwgb2xkTmFtZSkgew0KICAgICAgZGVidWdnZXI7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSAhPSAiIiAmJg0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUNhdGUgIT0gbnVsbA0KICAgICAgKSB7DQogICAgICAgIC8v5Lqn5ZOB5pa55qGI6KGoDQogICAgICAgIGxldCBiYWNrMiA9ICIiOw0KICAgICAgICB0aGlzLm9wdGlvbnMzID0gW107DQogICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUNhdGUgPT0gIkV4ZW1wdFByb2ciKSB7DQogICAgICAgICAgY29uc3QgcGFyYW1zTWFwID0gew0KICAgICAgICAgICAgcHJvZHVjdElkOiB0aGlzLnByb2R1Y3QuaWQNCiAgICAgICAgICB9Ow0KICAgICAgICAgIGxldCByZWxlYXNlZFByb2R1Y3RMaXN0ID0gW107DQogICAgICAgICAgcmVsZWFzZWRQcm9kdWN0TGlzdCA9ICgNCiAgICAgICAgICAgIGF3YWl0IHByb2dyYW1tZVF1ZXJ5KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXNNYXApKQ0KICAgICAgICAgICkuZGF0YS5yZWNvcmRzOw0KICAgICAgICAgIHRoaXMub3B0aW9uczMgPSBbXTsNCiAgICAgICAgICB0aGlzLmFyciA9IFtdOw0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVsZWFzZWRQcm9kdWN0TGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZWxlYXNlZFByb2R1Y3RMaXN0W2ldLmJlbmVmaXQubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgaWYgKHJlbGVhc2VkUHJvZHVjdExpc3RbaV0uYmVuZWZpdFtqXS5wZEJuZnRUeXBlID09ICJDIikgew0KICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uczMucHVzaCh7DQogICAgICAgICAgICAgICAgICBrZXk6IHJlbGVhc2VkUHJvZHVjdExpc3RbaV0ucHJvZ3JhbW1lQ29kZSwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWxlYXNlZFByb2R1Y3RMaXN0W2ldLnByb2dyYW1tZU5hbWUNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLmFyci5wdXNoKHJlbGVhc2VkUHJvZHVjdExpc3RbaV0pOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhQ2F0ZSA9PSAiRXhlbXB0Qm5mdCIpIHsNCiAgICAgICAgICBjb25zdCBwYXJhbXNNYXAgPSB7DQogICAgICAgICAgICBlcV9wZEluZm9JZDogdGhpcy5wcm9kdWN0LmlkLA0KICAgICAgICAgICAgZXFfcGRCbmZ0VHlwZTogIkMiDQogICAgICAgICAgfTsNCiAgICAgICAgICBsZXQgcmVsZWFzZWRQcm9kdWN0TGlzdCA9IFtdOw0KICAgICAgICAgIHJlbGVhc2VkUHJvZHVjdExpc3QgPSAoDQogICAgICAgICAgICBhd2FpdCBwZHRlbXBQZEJuZnRRdWVyeSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zTWFwKSkNCiAgICAgICAgICApLmRhdGEucmVjb3JkczsNCiAgICAgICAgICB0aGlzLm9wdGlvbnMzID0gW107DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWxlYXNlZFByb2R1Y3RMaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB0aGlzLm9wdGlvbnMzLnB1c2goew0KICAgICAgICAgICAgICBrZXk6IHJlbGVhc2VkUHJvZHVjdExpc3RbaV0ucGRCbmZ0Q29kZSwNCiAgICAgICAgICAgICAgdmFsdWU6IHJlbGVhc2VkUHJvZHVjdExpc3RbaV0ucGRCbmZ0TmFtZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLm9wdGlvbnMzLmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMy5wZEl0ZW1WYWwgPSB0aGlzLm9wdGlvbnMzWzBdLmtleTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5vcHRpb25zMyA9IFtdOw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkSXRlbVZhbCA9ICIiOw0KICAgICAgfQ0KICAgIH0sDQogICAgInNlYXJjaEZvcm0zLnBkUmVsYVZhbCI6IGFzeW5jIGZ1bmN0aW9uKG5ld05hbWUsIG9sZE5hbWUpIHsNCiAgICAgIC8v5b6X5Yiw6KKr6LGB5YWN57G75Z6LDQogICAgICBpZiAoDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhVmFsICE9ICIiICYmDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTMucGRSZWxhVmFsICE9IG51bGwNCiAgICAgICkgew0KICAgICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMy5wZFJlbGFWYWwgPT0gIkV4ZW1wdFByb2QiKSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUl0ZW1WYWwxMcKgID0iIg0KICAgICAgICAgICAgdGhpcy5leGVtcHRpb25Db250ZW50ID0gdGhpcy4kdCgncGR0ZW1wUGROYkluZm8ucGRUaXRlbGUnKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmV4ZW1wdGlvbkNvbnRlbnQgPSB0aGlzLiR0KCdwZHRlbXBQZE5iSW5mby5wZFByb2cnKTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0zLnBkUmVsYUl0ZW1WYWzCoCA9IiINCiAgICANCiAgICAgICAgLy8gdGhpcy5vcHRpb25zNCA9IFtdOw0KICAgICAgICAvL3RoaXMuc2VhcmNoRm9ybTMucGRSZWxhSXRlbVZhbCA9ICIiOw0KICAgICAgICAvLyB0aGlzLnNlYXJjaEZvcm0zLnBkSW5mb0lkPScnOw0KICAgICAgfQ0KICAgIH0sDQogICAgcGRTYWxlQ2hhbmwoc2VsZWN0ZWRDb2Rlcykgew0KICAgICAgaWYgKHNlbGVjdGVkQ29kZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMucGRTYWxlQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IFtdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGFsbENvZGVzID0gdGhpcy5fLm1hcCh0aGlzLmxkY29kZXNbInBkU2xDaGFubCJdLCAiY29kZSIpOw0KICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICIwMCIpKSB7DQogICAgICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBjb2RlICE9PSAiMDAiOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLnBkU2FsZUNoYW5sRGlzYWJsZWRDb2RlQXJyYXkgPSBhbGxDb2RlczsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGxDb2RlcyA9IGFsbENvZGVzLmZpbHRlcihjb2RlID0+IHsNCiAgICAgICAgICAgIHJldHVybiBjb2RlID09PSAiMDAiOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMucGRTYWxlQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBxdWVzdEVkaXRfcGRTYWxlQ2hhbmwoc2VsZWN0ZWRDb2Rlcykgew0KICAgICAgaWYgKHNlbGVjdGVkQ29kZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMucXVlc3RFZGl0QXJyYXkgPSBbXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBhbGxDb2RlcyA9IHRoaXMuXy5tYXAodGhpcy5sZGNvZGVzWyJwZFNsQ2hhbmwiXSwgImNvZGUiKTsNCiAgICAgICAgaWYgKHRoaXMuXy5pbmNsdWRlcyhzZWxlY3RlZENvZGVzLCAiMDAiKSkgew0KICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGNvZGUgIT09ICIwMCI7DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5xdWVzdEVkaXRBcnJheSA9IGFsbENvZGVzOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGNvZGUgPT09ICIwMCI7DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5xdWVzdEVkaXRBcnJheSA9IGFsbENvZGVzOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBpbXBhcnRFZGl0X3BkU2FsZUNoYW5sKHNlbGVjdGVkQ29kZXMpIHsNCiAgICAgIGlmIChzZWxlY3RlZENvZGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLmltcGFydEVkaXRBcnJheSA9IFtdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGFsbENvZGVzID0gdGhpcy5fLm1hcCh0aGlzLmxkY29kZXNbInBkU2xDaGFubCJdLCAiY29kZSIpOw0KICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICIwMCIpKSB7DQogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7DQogICAgICAgICAgICByZXR1cm4gY29kZSAhPT0gIjAwIjsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmltcGFydEVkaXRBcnJheSA9IGFsbENvZGVzOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGNvZGUgPT09ICIwMCI7DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5pbXBhcnRFZGl0QXJyYXkgPSBhbGxDb2RlczsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgImdyaWRQYXJhbXMucGRPblNhbGUiKHZhbCkgew0KICAgICAgaWYgKHZhbCkgew0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMucGRTdGFydERhdGUgPSB2YWxbMF07DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtcy5wZFN0b3BEYXRlID0gdmFsWzFdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zLnBkU3RhcnREYXRlID0gIiI7DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtcy5wZFN0b3BEYXRlID0gIiI7DQogICAgICB9DQogICAgfSwNCiAgICAiZ3JpZFBhcmFtczMuZXFfcGRPblNhbGUiKHZhbCkgew0KICAgICAgaWYgKHZhbCkgew0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkU3RhcnREYXRlID0gdmFsWzBdOw0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkU3RvcERhdGUgPSB2YWxbMV07DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMzLmVxX3BkU3RhcnREYXRlID0gIiI7DQogICAgICAgIHRoaXMuZ3JpZFBhcmFtczMuZXFfcGRTdG9wRGF0ZSA9ICIiOw0KICAgICAgfQ0KICAgIH0sDQogICAgImdyaWRQYXJhbXMyLmVxX3BkT25TYWxlIih2YWwpIHsNCiAgICAgIGlmICh2YWwpIHsNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zMi5wZFN0YXJ0RGF0ZSA9IHZhbFswXTsNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zMi5wZFN0b3BEYXRlID0gdmFsWzFdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ncmlkUGFyYW1zMi5wZFN0YXJ0RGF0ZSA9ICIiOw0KICAgICAgICB0aGlzLmdyaWRQYXJhbXMyLnBkU3RvcERhdGUgPSAiIjsNCiAgICAgIH0NCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-acceptance-def/pd-acceptance-info-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form :model=\"searchForm1\" :rules=\"rules\" label-width=\"130px\" ref=\"searchForm1\">\r\n      <div>\r\n        <el-row>\r\n          <cus-form-title :label=\"$t('pdtempPdNbInfo.pdCvliDateTitle')\" :first=\"true\"></cus-form-title>\r\n          <cus-table-title :label=\"$t('pdtempPdNbInfo.pdCvliDateTableTitle')\" />\r\n          <el-table\r\n            :data=\"policyEffectiveDateTable\"\r\n            align=\"center\"\r\n            highlight-current-row\r\n            border\r\n            class=\"wraper-table\"\r\n            ref=\"pagePdCvliDate\"\r\n            element-loading-text=\"Loading\"\r\n            @selection-change=\"rowPolicyEffectiveDate\"\r\n            fit\r\n            size=\"mini\"\r\n          >\r\n            <el-table-column\r\n              :label=\"$t('table.select')\"\r\n              align=\"center\"\r\n              type=\"selection\"\r\n              width=\"50px\"\r\n            ></el-table-column>\r\n            <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n              <template v-slot=\"scope\">{{ initTableIndex('pagePdCvliDate', scope.$index) }}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n              prop=\"pdSlChanl\"\r\n              :formatter=\"pdSlChanlFormat\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              :label=\"$t('pdtempPdNbInfo.pdCvliDateMode')\"\r\n              prop=\"pdNbChoVal\"\r\n              :formatter=\"pdCvliDateModeFormat\"\r\n            ></el-table-column>\r\n          </el-table>\r\n          <!--  -->\r\n          <cus-pagination\r\n            :pageSize=\"5\"\r\n            :params=\"policyEffectiveDateParams\"\r\n            ref=\"pagePdCvliDate\"\r\n            url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n            v-model=\"policyEffectiveDateTable\"\r\n          />\r\n          <br />\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdSlChanl')\" prop=\"pdSaleChanl\">\r\n                <cus-select\r\n                  v-if=\"selectedPolicyEffectiveDate.length == 1 && policyEffectiveDateJson.id\"\r\n                  :codetype=\"'pdSlChanl'\"\r\n                  :disabledCodeArray=\"pdSaleChanlDisabledCodeArray\"\r\n                  v-model=\"update_pdSaleChanl\"\r\n                ></cus-select>\r\n                <cus-multi-select\r\n                  v-else\r\n                  :codetype=\"'pdSlChanl'\"\r\n                  :disabledCodeArray=\"pdSaleChanlDisabledCodeArray\"\r\n                  v-model=\"pdSaleChanl\"\r\n                ></cus-multi-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdCvliDateMode')\" required>\r\n                <cus-select :codetype=\"'renewalEffectiveDate'\" v-model=\"pdCvliDateMode\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\">\r\n            </cus-col>\r\n          </el-row>\r\n        </el-row>\r\n        <el-row style=\"float: right\">\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            @click=\"addCvliDate\"\r\n            v-if=\" selectedPolicyEffectiveDate.length < 2 && !policyEffectiveDateJson.id\"\r\n            icon=\"el-icon-success\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            v-if=\"selectedPolicyEffectiveDate.length == 1 && policyEffectiveDateJson.id\"\r\n            @click=\"addCvliDate\"\r\n            icon=\"el-icon-success\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deletePolicyEffectiveDate\"\r\n            icon=\"el-icon-delete\"\r\n            style=\"margin-right: 5px;margin-left: 5px\"\r\n            type=\"danger\"\r\n            v-if=\"selectedPolicyEffectiveDate.length > 0\"\r\n            :content=\"$t('confirmMessage.delete')\"\r\n          ></cus-popover>\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            @click=\"resetCvliDate\"\r\n            icon=\"el-icon-refresh\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n        </el-row>\r\n        <br />\r\n      </div>\r\n      <br />\r\n      <div v-if=\"searchForm2.showFlag\">\r\n        <cus-form-title :label=\"$t('pdtempPdNbInfo.title2')\" :first=\"true\"></cus-form-title>\r\n        <cus-table-title :label=\"$t('pdtempPdNbInfo.title22')\" />\r\n        <el-table\r\n          :data=\"configs2\"\r\n          @row-click=\"selectedChanged2\"\r\n          align=\"center\"\r\n          border\r\n          class=\"wraper-table\"\r\n          element-loading-text=\"Loading\"\r\n          ref=\"page2\"\r\n          fit\r\n          highlight-current-row\r\n          size=\"mini\"\r\n        >\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" width=\"60\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDef2\" @change=\"selectedChanged2Change(scope.row)\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row.pdtempPdRela\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.relaPdRelaItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.relaPdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.relaPdRelaVal')\"\r\n            align=\"center\"\r\n            prop=\"pdRelaVal\"\r\n            :filter-method=\"filterHandler\"\r\n            :filters=\"pdRelaValFilters\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaVal | filter_codeType('pdRelaVal') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-popover\r\n                :content=\"$t('confirmMessage.delete')\"\r\n                @confirm=\"handleDelete2(scope.row.pdtempPdRela)\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n              ></cus-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!--  -->\r\n        <cus-pagination\r\n          :pageSize=\"5\"\r\n          :params=\"params2\"\r\n          ref=\"page2\"\r\n          url=\"/pdtemp-pd-nb-info/base/PdtempPdRelaList\"\r\n          v-model=\"configs2\"\r\n        />\r\n        <br />\r\n        <el-form :model=\"searchForm2\" :rules=\"rules\" label-width=\"130px\" ref=\"searchForm2\">\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaItemVal01')\" prop=\"pdRelaItemVal\">\r\n                <el-select\r\n                  @click.native=\"optionClick1\"\r\n                  clearable\r\n                  filterable\r\n                  v-model=\"searchForm2.pdRelaItemVal\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options1\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.relaPdRelaVal')\" prop=\"pdRelaVal\">\r\n                <cus-select\r\n                  :codetype=\"'insuranceRelationship'\"\r\n                  :disabled=\"true\"\r\n                  v-model=\"searchForm2.pdRelaVal\"\r\n                ></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\">\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdIndpRider')\"\r\n                prop=\"pdIndpRider\"\r\n                v-if=\"searchForm2.pdRelaVal == '01'\"\r\n              >\r\n                <el-switch :disabled=\"searchForm2.flag\" v-model=\"searchForm2.pdIndpRider\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"8\">\r\n              <el-form-item label=\"id\" prop=\"Id\" v-if=\"false\">\r\n                <el-input clearable v-model=\"searchForm2.Id\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-form-item>\r\n              <el-row>\r\n                <cus-col :span=\"24\">\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleCreate2('searchForm2')\"\r\n                    icon=\"el-icon-success\"\r\n                    type=\"primary\"\r\n                    v-auth=\"'pdtemppdrela:add'\"\r\n                    v-if=\"!searchForm2.Id\"\r\n                  >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleUpdate2('searchForm2')\"\r\n                    icon=\"el-icon-success\"\r\n                    type=\"primary\"\r\n                    v-auth=\"'pdtemppdrela:update'\"\r\n                    v-if=\"searchForm2.Id\"\r\n                  >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"resetForm2Copy\"\r\n                    icon=\"el-icon-refresh\"\r\n                    type=\"primary\"\r\n                  >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n                </cus-col>\r\n              </el-row>\r\n            </el-form-item>\r\n          </el-row>\r\n        </el-form>\r\n        <!---->\r\n        <el-dialog\r\n          append-to-body\r\n          :show-close=\"false\"\r\n          :close-on-click-modal=\"false\"\r\n          v-if=\"searchForm2.detailsShow\"\r\n          width=\"80%\"\r\n          :visible.sync=\"searchForm2.detailsShow\"\r\n          center\r\n          v-dialog-drag\r\n        >\r\n          <cus-page-title-back :label=\"$t('pdtempPdNbInfo.pdTitele')\" :isDialog=\"true\" @backTo=\"closeDialog\"></cus-page-title-back>\r\n          <el-form label-width=\"auto\">\r\n            <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                  <cus-select\r\n                    :codetype=\"'ProductCategory'\"\r\n                    clearable\r\n                    @change=\"selectedDetailTypeChanged\"\r\n                    filterable\r\n                    v-model=\"gridParams.eq_pdDetailType\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                  <el-select\r\n                    @change=\"selectedPdCodeChanged\"\r\n                    clearable\r\n                    filterable\r\n                    v-model=\"gridParams.eq_pdCode\"\r\n                  >\r\n                    <el-option\r\n                      :key=\"product.id\"\r\n                      :label=\"product.pdCode+':'+product.pdName\"\r\n                      :value=\"product.pdCode\"\r\n                      v-for=\"product in productOptionList\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                  <el-select clearable filterable v-model=\"gridParams.eq_pdEdition\">\r\n                    <el-option\r\n                      :key=\"edition\"\r\n                      :label=\"edition\"\r\n                      :value=\"edition\"\r\n                      v-for=\"edition in editionOptionList\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <cus-condition\r\n                  :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                  @show=\"showButton=!showButton\"\r\n                >\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleSearch2\"\r\n                    icon=\"el-icon-search\"\r\n                    type=\"primary\"\r\n                    v-waves\r\n                  >{{$t('table.search')}}</el-button>\r\n                </cus-condition>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdCode')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdCode\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdName')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdName\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdInfoId')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdInfoId\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <div v-if=\"showButton\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductDesignType'\"\r\n                      clearable\r\n                      v-model=\"gridParams.designType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                    <cus-select\r\n                      :codetype=\"'principalRiskFlag'\"\r\n                      clearable\r\n                      v-model=\"gridParams.pdMainSubFlag\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                    <el-date-picker\r\n                      v-model=\"gridParams.pdOnSale\"\r\n                      type=\"daterange\"\r\n                      align=\"right\"\r\n                      unlink-panels\r\n                      :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                      :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                      :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                    >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\"></cus-col>\r\n              </el-row>\r\n            </div>\r\n          </el-form>\r\n          <cus-table-title :label=\"$t('pdtempPdNbInfo.product')\" />\r\n          <el-table\r\n            :data=\"gridData\"\r\n            ref=\"gridPage\"\r\n            @row-click=\"gridSelectedChanged1\"\r\n            align=\"center\"\r\n            border\r\n            element-loading-text=\"Loading\"\r\n            fit\r\n            highlight-current-row\r\n            size=\"mini\"\r\n          >\r\n            <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"50px\">\r\n              <template slot-scope=\"scope\">\r\n                <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef1\">\r\n                  <span class=\"el-radio__label\"></span>\r\n                </el-radio>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdInfo')\" dialog-disable=\"disable\">\r\n                  <i class=\"el-icon-d-arrow-right\"></i>\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n            <el-table-column :label=\"$t('customComponents.pdEdition')\" align=\"center\" prop=\"pdEdition\"></el-table-column>\r\n          </el-table>\r\n          <br />\r\n          <!--  -->\r\n          <cus-pagination\r\n            :autoBuild=\"false\"\r\n            :pageSize=\"10\"\r\n            :params=\"gridParams\"\r\n            ref=\"gridPage\"\r\n            url=\"/pdtemp-pd-nb-info/base/PdtempPdInfoList\"\r\n            v-model=\"gridData\"\r\n          />\r\n        </el-dialog>\r\n      </div>\r\n      <div v-if=\"searchForm3.showFlag\" style=\"margin: 0 21px 0 1px\">\r\n        <cus-form-title :label=\"$t('pdtempPdNbInfo.title3')\" :first=\"true\"></cus-form-title>\r\n        <cus-table-title :label=\"$t('pdtempPdNbInfo.title33')\" />\r\n        <el-table\r\n          :data=\"configs3\"\r\n          ref=\"configs3\"\r\n          @row-click=\"selectedChanged3\"\r\n          align=\"center\"\r\n          border\r\n          class=\"wraper-table\"\r\n          element-loading-text=\"Loading\"\r\n          fit\r\n          highlight-current-row\r\n          size=\"mini\"\r\n        >\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDef3\" @change=\"selectedPdNbINfoChanged(scope.row)\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row.pdtempPdRela\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.exemptionNum')\"\r\n            align=\"center\"\r\n          >{{ $t(this.product.pdCode) }}</el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaCate')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaCate\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaCate | filter_codeType('pdRelaCate') }}</template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdItemName')\"\r\n            align=\"center\"\r\n            prop=\"pdItemName\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaVal\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaVal | filter_codeType('pdexptscptype') }}</template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemName')\"\r\n            align=\"center\"\r\n            prop=\"pdRelaItemName\"\r\n            width=\"180px\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemId')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemId\"\r\n          ></el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-popover\r\n                :content=\"$t('confirmMessage.delete')\"\r\n                @confirm=\"handleDelete3(scope.row.pdtempPdRela)\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n              ></cus-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!--  -->\r\n        <cus-pagination\r\n          :pageSize=\"5\"\r\n          :params=\"params3\"\r\n          ref=\"page3\"\r\n          url=\"/pdtemp-pd-nb-info/base/pdtempPdRelaList2\"\r\n          v-model=\"configs3\"\r\n        />\r\n        <br />\r\n        <el-form\r\n          :model=\"searchForm3\"\r\n          :rules=\"rules\"\r\n          label-width=\"130px\"\r\n          ref=\"searchForm3\"\r\n          style=\"width:98%;\"\r\n        >\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaCate')\" prop=\"pdRelaCate\">\r\n                <cus-radio\r\n                  :codetype=\"'exemptionType'\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                  v-model=\"searchForm3.pdRelaCate\"\r\n                  :changeMethod=\"ChangeR\"\r\n                ></cus-radio>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdItemVal1')\"\r\n                v-if=\"searchForm3.pdRelaCate=='ExemptProg'\"\r\n                :rules=\"this.searchForm3.pdRelaCate != ''?rules.pdItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdItemVal\"\r\n              >\r\n                <el-select clearable filterable v-model=\"searchForm3.pdItemVal\">\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options3\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdItemVal2')\"\r\n                v-if=\"searchForm3.pdRelaCate==='ExemptBnft'\"\r\n                :rules=\"this.searchForm3.pdRelaCate != ''?rules.pdItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdItemVal\"\r\n              >\r\n                <el-select clearable filterable v-model=\"searchForm3.pdItemVal\">\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options3\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\"></cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaVal')\" prop=\"pdRelaVal\">\r\n                <cus-radio\r\n                  :codetype=\"'pdexptscptype'\"\r\n                  v-model=\"searchForm3.pdRelaVal\"\r\n                  :changeMethod=\"ChangeR2\"\r\n                ></cus-radio>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n            </cus-col>\r\n            <cus-col :span=\"6\"></cus-col>\r\n          </el-row>\r\n          <el-row>\r\n           <cus-col :span=\"9\">\r\n            <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal1')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n                :rules=\"this.searchForm3.pdRelaVal != ''?rules.pdRelaItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdRelaItemVal\"\r\n              >\r\n                <el-select\r\n                  @click.native=\"optionClick2\"\r\n                  clearable\r\n                  filterable\r\n                  v-model=\"searchForm3.pdRelaItemVal\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options4\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              </cus-col>\r\n            <cus-col :span=\"9\">\r\n               <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal11')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n              >\r\n              <el-input\r\n                clearable\r\n                :disabled=\"'disabled'\"\r\n                v-model=\"searchForm3.pdRelaItemVal11\"\r\n              />\r\n              </el-form-item>\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal11')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProd'\"\r\n                :rules=\"this.searchForm3.pdRelaVal != ''?rules.pdRelaItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdRelaItemVal\"\r\n              >\r\n                <el-select\r\n                  @click.native=\"optionClick2\"\r\n                  clearable\r\n                  filterable\r\n                  :disabled=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n                  v-model=\"searchForm3.pdRelaItemVal\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options4\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n           </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"8\">\r\n              <el-form-item label=\"id\" prop=\"Id\" v-if=\"false\">\r\n                <el-input clearable v-model=\"searchForm2.Id\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"24\">\r\n              <el-form-item style=\"float: right\">\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"handleCreate3('searchForm3')\"\r\n                  icon=\"el-icon-success\"\r\n                  type=\"primary\"\r\n                  v-auth=\"'pdtemppdrela:add'\"\r\n                  v-if=\"!searchForm3.Id\"\r\n                >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"handleUpdate3('searchForm3')\"\r\n                  icon=\"el-icon-success\"\r\n                  type=\"primary\"\r\n                  v-auth=\"'pdtemppdrela:update'\"\r\n                  v-if=\"searchForm3.Id\"\r\n                >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"resetForm3Copy\"\r\n                  icon=\"el-icon-refresh\"\r\n                  type=\"primary\"\r\n                >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n        </el-form>\r\n        <el-dialog\r\n          append-to-body\r\n          :close-on-click-modal=\"false\"\r\n          v-if=\"searchForm3.showFlag\"\r\n          width=\"80%\"\r\n          :show-close=\"false\"\r\n          :visible.sync=\"searchForm3.detailsShow\"\r\n          center\r\n          v-dialog-drag\r\n        >\r\n          <div>\r\n            <el-page-header @back=\"exemptBack()\" :content=\"exemptionContent\"></el-page-header>\r\n            <el-divider class=\"titledivider\"></el-divider>\r\n          </div>\r\n          <div v-show=\"searchForm3.pdRelaVal != 'ExemptProg'\">\r\n            <el-form label-width=\"auto\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductCategory'\"\r\n                      clearable\r\n                      @change=\"selectedDetailTypeChanged\"\r\n                      filterable\r\n                      v-model=\"gridParams2.eq_pdDetailType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                    <el-select\r\n                      @change=\"selectedPdCodeChanged\"\r\n                      clearable\r\n                      filterable\r\n                      v-model=\"gridParams2.eq_pdCode\"\r\n                    >\r\n                      <el-option\r\n                        :key=\"product.id\"\r\n                        :label=\"product.pdCode+':'+product.pdName\"\r\n                        :value=\"product.pdCode\"\r\n                        v-for=\"product in productOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                    <el-select clearable filterable v-model=\"gridParams2.eq_pdEdition\">\r\n                      <el-option\r\n                        :key=\"edition\"\r\n                        :label=\"edition\"\r\n                        :value=\"edition\"\r\n                        v-for=\"edition in editionOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <cus-condition\r\n                    :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                    @show=\"showButton2=!showButton2\"\r\n                  >\r\n                    <el-button dialog-disable=\"disable\"\r\n                      size=\"small\"\r\n                      @click=\"handleSearch3\"\r\n                      icon=\"el-icon-search\"\r\n                      type=\"primary\"\r\n                      v-waves\r\n                    >{{$t('table.search')}}</el-button>\r\n                  </cus-condition>\r\n                </cus-col>\r\n              </el-row>\r\n              <div v-show=\"showButton2\">\r\n                <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                      <cus-select\r\n                        :codetype=\"'ProductDesignType'\"\r\n                        clearable\r\n                        v-model=\"gridParams2.designType\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                      <cus-select\r\n                        :codetype=\"'principalRiskFlag'\"\r\n                        clearable\r\n                        v-model=\"gridParams2.pdMainSubFlag\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                      <el-date-picker\r\n                        v-model=\"gridParams2.pdOnSale\"\r\n                        type=\"daterange\"\r\n                        align=\"right\"\r\n                        unlink-panels\r\n                        :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                        :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                        :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                      >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\"></cus-col>\r\n                </el-row>\r\n              </div>\r\n            </el-form>\r\n            <!---->\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.product')\" />\r\n            <el-table\r\n              :data=\"gridData2\"\r\n              ref=\"gridPage2\"\r\n              @row-click=\"gridSelectedChanged2\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"80px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef2\">\r\n                    <span class=\"el-radio__label\"></span>\r\n                  </el-radio>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdInfo')\" dialog-disable=\"disable\">\r\n                    <i class=\"el-icon-d-arrow-right\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n             <!-- <el-table-column\r\n                align=\"center\"\r\n               :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n              >{{ this.searchForm3.pdRelaVal | filter_codeType('pdexptscptype') }}</el-table-column> -->\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdName')\" prop=\"pdName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n            </el-table>\r\n            <!--  -->\r\n            <cus-pagination\r\n              :autoBuild=\"false\"\r\n              :pageSize=\"10\"\r\n              :params=\"gridParams2\"\r\n              ref=\"gridPage2\"\r\n              url=\"/pdtemp-pd-nb-info/base/PdtempPdInfoList\"\r\n              v-model=\"gridData2\"\r\n            />\r\n          </div>\r\n\r\n          <div v-show=\"searchForm3.pdRelaVal === 'ExemptProg'\">\r\n            <!---->\r\n            <el-form label-width=\"auto\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductCategory'\"\r\n                      clearable\r\n                      @change=\"selectedDetailTypeChanged\"\r\n                      filterable\r\n                      v-model=\"gridParams3.eq_pdDetailType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                    <el-select\r\n                      @change=\"selectedPdCodeChanged\"\r\n                      clearable\r\n                      filterable\r\n                      v-model=\"gridParams3.eq_pdCode\"\r\n                    >\r\n                      <el-option\r\n                        :key=\"product.id\"\r\n                        :label=\"product.pdCode+':'+product.pdName\"\r\n                        :value=\"product.pdCode\"\r\n                        v-for=\"product in productOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                    <el-select clearable filterable v-model=\"gridParams3.eq_pdEdition\">\r\n                      <el-option\r\n                        :key=\"edition\"\r\n                        :label=\"edition\"\r\n                        :value=\"edition\"\r\n                        v-for=\"edition in editionOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <cus-condition\r\n                    :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                    @show=\"showButton3=!showButton3\"\r\n                  >\r\n                    <el-button dialog-disable=\"disable\"\r\n                      size=\"small\"\r\n                      @click=\"handleSearch4\"\r\n                      icon=\"el-icon-search\"\r\n                      type=\"primary\"\r\n                      v-waves\r\n                    >{{$t('table.search')}}</el-button>\r\n                  </cus-condition>\r\n                </cus-col>\r\n              </el-row>\r\n              <div v-show=\"showButton3\">\r\n                <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                      <cus-select\r\n                        :codetype=\"'ProductDesignType'\"\r\n                        clearable\r\n                        v-model=\"gridParams3.eq_pdDesType\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                      <cus-select\r\n                        :codetype=\"'principalRiskFlag'\"\r\n                        clearable\r\n                        v-model=\"gridParams3.eq_pdMainSubFlag\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                      <el-date-picker\r\n                        v-model=\"gridParams3.eq_pdOnSale\"\r\n                        type=\"daterange\"\r\n                        align=\"right\"\r\n                        unlink-panels\r\n                        :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                        :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                        :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                      >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\"></cus-col>\r\n                </el-row>\r\n              </div>\r\n            </el-form>\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.productSolution')\" />\r\n            <el-table\r\n              :data=\"gridData3\"\r\n              @row-click=\"gridSelectedChanged4\"\r\n              align=\"center\"\r\n              ref=\"gridPage3\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"80px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef3\">\r\n                    <span class=\"el-radio__label\"></span>\r\n                  </el-radio>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdProg')\" dialog-disable=\"disable\">\r\n                    <i class=\"el-icon-d-arrow-right\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n              <!--<el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n              >{{ this.searchForm3.pdRelaVal | filter_codeType('pdexptscptype') }}</el-table-column> -->\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdProgCode')\" prop=\"pdProgCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdProgName')\" prop=\"pdProgName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdName')\" prop=\"pdName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n            </el-table>\r\n            <br />\r\n            <!--  -->\r\n            <cus-pagination\r\n              :autoBuild=\"false\"\r\n              :pageSize=\"10\"\r\n              :params=\"gridParams3\"\r\n              ref=\"gridPage3\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdProgList\"\r\n              v-model=\"gridData3\"\r\n            />\r\n          </div>\r\n          <el-form>\r\n            <el-row>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdCode')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdCode\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdName')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdName\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdInfoId')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdInfoId\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-form>\r\n        </el-dialog>\r\n      </div>\r\n\r\n      <cus-form-title :label=\"$t('pdtempPdNbInfo.title4')\"></cus-form-title>\r\n      <cus-table-title :label=\"$t('pdtempPdNbInfo.title44')\" />\r\n\r\n      <el-table\r\n        :data=\"configs4\"\r\n        size=\"mini\"\r\n        fit\r\n        element-loading-text=\"Loading\"\r\n        @row-click=\"handleUpdate\"\r\n        border\r\n        highlight-current-row\r\n        align=\"center\"\r\n        class=\"wraper-table\"\r\n      >\r\n        >\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectRow\">\r\n              <span>\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </span>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" prop=\"index\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">{{ initTableIndex('page4', scope.$index) }}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          :label=\"$t('pdtempPdNbInfo.labelAttribute')\"\r\n          prop=\"pdLabelAttribute\"\r\n          align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.pdLabelAttribute | filterLabelAttr }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelType')\" prop=\"pdLabelType\" align=\"center\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdLabelType | filterLabelType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelContents')\" align=\"center\" width=\"140px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover v-if=\"scope.row.labelContents.length > 1\" placement=\"top\" trigger=\"hover\">\r\n              <el-tag v-for=\"item in scope.row.labelContents\" size=\"medium\">{{ item }}</el-tag>\r\n              <div slot=\"reference\" class=\"name-wrapper\">\r\n                <el-tag size=\"medium\">{{ scope.row.labelContents[0] }}...</el-tag>\r\n              </div>\r\n            </el-popover>\r\n            <el-tag\r\n              v-if=\"scope.row.labelContents.length === 1\"\r\n              size=\"medium\"\r\n            >{{ scope.row.labelContents[0] }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelDesc')\" prop=\"pdLabelDesc\" align=\"center\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" :label=\"$t('table.actions')\" width=\"120px\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn v-auth=\"'pdtemppdlabeldef:delete'\" @ok=\"handleDelete(scope.row.id)\" />\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!--  -->\r\n      <cus-pagination\r\n        ref=\"page4\"\r\n        url=\"/pdtemp-pd-nb-info/base/pdtempPdLabelDefList\"\r\n        :pageSize=\"5\"\r\n        :params=\"params4\"\r\n        v-model=\"configs4\"\r\n      />\r\n      <br />\r\n      <el-form ref=\"formData\" :model=\"formData\" :rules=\"rules\" label-width=\"130px\">\r\n        <el-row>\r\n          <cus-col :span=\"9\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelAttribute')\" prop=\"labelAttribute\">\r\n              <cus-select\r\n                v-model=\"formData.pdLabelAttribute\"\r\n                :codetype=\"'label-attr'\"\r\n                :disabled=\"labelDefDisabled\"\r\n                @change=\"attributeChange($event)\"\r\n              ></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"9\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelType')\" prop=\"labelType\">\r\n              <cus-select\r\n                v-model=\"formData.pdLabelType\"\r\n                :codetype=\"'label-type'\"\r\n                :disabled=\"labelDefDisabled\"\r\n                @change=\"typeChange($event)\"\r\n                :filter=\"attriFilter\"\r\n              ></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-form-item :label=\"$t('pdtempPdNbInfo.labelContents')\">\r\n            <el-tag\r\n              style=\"margin-left: 1px;margin-right: 1px\"\r\n              :key=\"tag\"\r\n              v-for=\"tag in labelContents\"\r\n              closable\r\n              :disable-transitions=\"false\"\r\n              @close=\"handleClose(tag)\"\r\n            >{{ tag }}</el-tag>\r\n\r\n            <el-input\r\n              class=\"input-new-tag\"\r\n              v-if=\"inputVisible\"\r\n              v-model=\"inputValue\"\r\n              ref=\"saveTagInput\"\r\n              size=\"small\"\r\n              :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n              @keyup.enter.native=\"handleInputConfirm\"\r\n              @blur=\"handleInputConfirm\"\r\n            ></el-input>\r\n            <el-button dialog-disable=\"disable\"\r\n              v-else\r\n              class=\"button-new-tag\"\r\n              :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n              icon=\"el-icon-plus\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"showInput\"\r\n            >{{ $t('pdtempPdNbInfo.newTag') }}</el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n        <el-row>\r\n          <cus-col :span=\"18\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelDesc')\">\r\n              <el-input\r\n                v-model=\"formData.pdLabelDesc\"\r\n                :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n                :autosize=\"{ minRows: 5, maxRows:5}\"\r\n                maxlength=\"100\"\r\n                :placeholder=\"$t('form.please_enter')\"\r\n                show-word-limit\r\n                type=\"textarea\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n\r\n        <el-form-item align=\"right\">\r\n          <el-button size=\"small\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                     v-auth=\"'pdtemppdlabeldef:initLabel'\"\r\n                     @click=\"initPdtempLabelDef\"\r\n                     type=\"primary\" v-if=\"this.configs4.length < 1\">\r\n            {{ $t('pdtempPdNbInfo.initLabel') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            v-if=\"!updateFlag\"\r\n            v-auth=\"'pdtemppdlabeldef:add'\"\r\n            icon=\"el-icon-success\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handleCreate()\"\r\n          >{{ $t('table.save') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            v-if=\"updateFlag\"\r\n            v-auth=\"'pdtemppdlabeldef:update'\"\r\n            icon=\"el-icon-success\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handleCreate()\"\r\n          >{{ $t('table.update') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            icon=\"el-icon-refresh\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"clearLabelDef\"\r\n          >{{ $t('table.refresh') }}\r\n          </el-button>\r\n        </el-form-item>\r\n\r\n        <div>\r\n          <el-row>\r\n            <cus-form-title :label=\"$t('pdtempPdNbInfo.demandQuestionnaire')\" :first=\"true\"></cus-form-title>\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.pdDemandQuestionnaireEdition')\" />\r\n            <el-table\r\n              :data=\"questEditTable\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              ref=\"pageQuestEdit\"\r\n              element-loading-text=\"Loading\"\r\n              @selection-change=\"rowClickQuestEdit\"\r\n              fit\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column\r\n                :label=\"$t('table.select')\"\r\n                align=\"center\"\r\n                type=\"selection\"\r\n                width=\"50px\"\r\n              ></el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n                <template v-slot=\"scope\">{{ initTableIndex('pageQuestEdit', scope.$index) }}</template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                prop=\"pdSlChanl\"\r\n                :formatter=\"pdSlChanlFormat\"\r\n              ></el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.DemandQuestionnaireEdition')\"\r\n                prop=\"pdNbChoVal\"\r\n                :formatter=\"questEditFormat\"\r\n              ></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.demandQuestionnaireDes')\" prop=\"pdNbChoDescribe\"></el-table-column>\r\n            </el-table>\r\n            <!--  -->\r\n            <cus-pagination\r\n              :pageSize=\"5\"\r\n              :params=\"questEditParams\"\r\n              ref=\"pageQuestEdit\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n              v-model=\"questEditTable\"\r\n            />\r\n            <br />\r\n            <el-row>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item\r\n                  :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                  prop=\"update_questEdit_pdSaleChanl\"\r\n                >\r\n                  <cus-select\r\n                    v-if=\"selectedQuestEdit.length == 1\"\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"questEditArray\"\r\n                    v-model=\"update_questEdit_pdSaleChanl\"\r\n                  ></cus-select>\r\n                  <cus-multi-select\r\n                    v-else\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"questEditArray\"\r\n                    v-model=\"questEdit_pdSaleChanl\"\r\n                  ></cus-multi-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item    :label=\"$t('pdtempPdNbInfo.DemandQuestionnaireEdition')\">\r\n                  <cus-multi-select\r\n                    :codetype=\"'DemandQuestionnaireSection'\"\r\n                    v-model=\"pdQuestEdit\"\r\n                    v-if=\"!questEditJson.id\"\r\n                  ></cus-multi-select>\r\n                  <cus-select\r\n                    :codetype=\"'DemandQuestionnaireSection'\"\r\n                    v-model=\"pdQuestUpdate\"\r\n                    v-if=\"questEditJson.id\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row>\r\n              <cus-col :span=\"18\">\r\n                <el-form-item  :label=\"$t('pdtempPdNbInfo.demandQuestionnaireDes')\">\r\n                  <el-input\r\n                    type=\"textarea\"\r\n                    :autosize=\"{ minRows: 4, maxRows: 25}\"\r\n                    :placeholder=\"$t('pdtempPdNbInfo.content')\"\r\n                    maxlength=\"100\"\r\n                    show-word-limit\r\n                    v-model=\"pdQuestDescribe\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addQuestEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"!questEditJson.id && selectedQuestEdit.length < 2 \"\r\n            >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addQuestEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"questEditJson.id && selectedQuestEdit.length == 1 \"\r\n            >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n            <cus-popover\r\n              :buttonText=\"$t('table.delete')\"\r\n              @confirm=\"deleteQuestEdit\"\r\n              icon=\"el-icon-delete\"\r\n              style=\"margin-right: 5px;margin-left: 5px\"\r\n              type=\"danger\"\r\n              v-if=\"selectedQuestEdit.length > 0\"\r\n              :content=\"$t('confirmMessage.delete')\"\r\n            ></cus-popover>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"resetQuestEdit\"\r\n              icon=\"el-icon-refresh\"\r\n              type=\"primary\"\r\n            >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n          </el-row>\r\n          <br />\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <el-row>\r\n            <cus-form-title   :placeholder=\"$t('pdtempPdNbInfo.content')\" :label=\" $t('pdtempPdNbInfo.informEditionDefinition')\" :first=\"true\"></cus-form-title>\r\n            <cus-table-title  :label=\" $t('pdtempPdNbInfo.pdInformEditionDefinition')\"  />\r\n            <el-table\r\n              :data=\"impartEditTable\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              @selection-change=\"rowClickImpartEdit\"\r\n              fit\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column\r\n                :label=\"$t('table.select')\"\r\n                align=\"center\"\r\n                type=\"selection\"\r\n                width=\"50px\"\r\n              ></el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n                <template v-slot=\"scope\">{{ initTableIndex('pageImpartEdit', scope.$index) }}</template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                prop=\"pdSlChanl\"\r\n                :formatter=\"pdSlChanlFormat\"\r\n              ></el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\" $t('pdtempPdNbInfo.informEdition')\"\r\n                prop=\"pdNbChoVal\"\r\n                :formatter=\"pdImpartFormat\"\r\n              ></el-table-column>\r\n              <el-table-column align=\"center\" :label=\" $t('pdtempPdNbInfo.informEditionDes')\" prop=\"pdNbChoDescribe\"></el-table-column>\r\n            </el-table>\r\n            <!--  -->\r\n            <cus-pagination\r\n              :pageSize=\"5\"\r\n              :params=\"impartEditParams\"\r\n              ref=\"pageImpartEdit\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n              v-model=\"impartEditTable\"\r\n            />\r\n            <br />\r\n            <el-row>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item\r\n                  :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                  prop=\"update_impartEdit_pdSaleChanl\"\r\n                >\r\n                  <cus-select\r\n                    v-if=\"selectedImpartEdit.length == 1\"\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"impartEditArray\"\r\n                    v-model=\"update_impartEdit_pdSaleChanl\"\r\n                  ></cus-select>\r\n                  <cus-multi-select\r\n                    v-else\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"impartEditArray\"\r\n                    v-model=\"impartEdit_pdSaleChanl\"\r\n                  ></cus-multi-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item :label=\" $t('pdtempPdNbInfo.informEdition')\">\r\n                  <cus-multi-select\r\n                    :codetype=\"'InformVersion'\"\r\n                    v-model=\"pdImpartEdit\"\r\n                    v-if=\"!impartEditJson.id\"\r\n                  ></cus-multi-select>\r\n                  <cus-select\r\n                    :codetype=\"'InformVersion'\"\r\n                    v-model=\"pdImpartUpdate\"\r\n                    v-if=\"impartEditJson.id\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row>\r\n              <cus-col :span=\"18\">\r\n                <el-form-item :label=\" $t('pdtempPdNbInfo.informEditionDes')\">\r\n                  <el-input\r\n                    type=\"textarea\"\r\n                    :autosize=\"{ minRows: 5, maxRows: 5}\"\r\n                    :placeholder=\"$t('pdtempPdNbInfo.content')\"\r\n                    show-word-limit\r\n                    maxlength=\"100\"\r\n                    v-model=\"pdImpartDescribe\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addImpartEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"!impartEditJson.id && selectedImpartEdit.length < 2\"\r\n            >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addImpartEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"impartEditJson.id && selectedImpartEdit.length == 1\"\r\n            >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n            <cus-popover\r\n              :buttonText=\"$t('table.delete')\"\r\n              @confirm=\"deleteImpartEdit\"\r\n              icon=\"el-icon-delete\"\r\n              style=\"margin-right: 5px;margin-left: 5px\"\r\n              type=\"danger\"\r\n              v-if=\"selectedImpartEdit.length > 0\"\r\n              :content=\"$t('confirmMessage.delete')\"\r\n            ></cus-popover>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"resetImpartEdit\"\r\n              icon=\"el-icon-refresh\"\r\n              type=\"primary\"\r\n            >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n          </el-row>\r\n          <br />\r\n        </div>\r\n      </el-form>\r\n      <br />\r\n      <br />\r\n    </el-form>\r\n    <cus-page-dialog\r\n      :dialogShow=\"dialogShow\"\r\n      :dialogTitle=\"dialogTitle\"\r\n      :component=\"dialogComponent\"\r\n      @close=\"closePageDialog\"\r\n    ></cus-page-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  addPdtempPdNbInfo,\r\n  addAllPdtempPdNbInfo,\r\n  updatePdtempPdNbInfo,\r\n  addPdtempPdRela,\r\n  deletePdtempPdNbInfo,\r\n  deletePdtempPdRela,\r\n  pdtempPdBnftQuery,\r\n  pdtempPdClmBnftQuery,\r\n  pdtempPdClsLabList,\r\n  programmeQuery,\r\n  selectAllInfo,\r\n  updatePdtempPdRela,\r\n  initializationShow,\r\n  getOneSelect,\r\n  deletePdtempLabelDef,\r\n  updatePdtempPdLabelDef,\r\n  addPdtempPdLabelDef,\r\n  attributeChange,\r\n  typeChange,\r\n  deletePdtempPdNbInfoList,\r\n  initPdtempLabelDef\r\n} from \"@/api/basicinfo/pdtemppdnbinfo\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nimport operationbutton from \"@/views/basicinfo/operationend/index\";\r\nimport { findAllProductByPdDetailType } from \"@/api/basicinfo/pdclaimverification\";\r\n\r\nlet _this;\r\nexport default {\r\n  name: \"pdtempPdNbInfo\",\r\n  components: { operationbutton },\r\n  filters: {\r\n    filter_codeType(code, value) {\r\n      if (value === \"pdCvliDateMode\") {\r\n        return _this.getCodeName(\"renewalEffectiveDate\", code);\r\n      } else if (value == \"pdQuestEdit\") {\r\n        return _this.getCodeName(\"DemandQuestionnaireSection\", code);\r\n      } else if (value == \"pdImpartEdit\") {\r\n        return _this.getCodeName(\"InformVersion\", code);\r\n      } else if (value == \"pdRelaVal\") {\r\n        return _this.getCodeName(\"insuranceRelationship\", code);\r\n      } else if (value == \"pdRelaCate\") {\r\n        //\r\n        return _this.getCodeName(\"exemptionType\", code);\r\n      } else if (value == \"pdexptscptype\") {\r\n        //\r\n        return _this.getCodeName(\"pdexptscptype\", code);\r\n      }\r\n    },\r\n    filterLabelAttr(code) {\r\n      return _this.getCodeName(\"label-attr\", code);\r\n    },\r\n    filterLabelType(code) {\r\n      return _this.getCodeName(\"label-type\", code);\r\n    }\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      varShow: \"1\",\r\n      dialogShow: false,\r\n      dialogTitle: \"\",\r\n      dialogComponent: \"\",\r\n      pdInfo: {},\r\n      productOptionList: [],\r\n      editionOptionList: [],\r\n      type: \"productCoverFlag\",\r\n      pdProcessId: \"\",\r\n      showPageFlag: 0,\r\n      showButton: false,\r\n      showButton2: false,\r\n      showButton3: false,\r\n      showTable:false,\r\n      // \r\n      product: {\r\n        id: undefined,\r\n        pdCode: \"\",\r\n        pdEdition: \"\",\r\n        pdVerId: undefined,\r\n        pdSalechnl: \"\",\r\n        pdName: \"\",\r\n        pdShortname: \"\",\r\n        pdEnName: \"\",\r\n        pdShortEnName: \"\",\r\n        operator: \"\",\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      pdSaleChanl: [\"00\"],\r\n      update_pdSaleChanl: \"\",\r\n      pdSaleChanlDisabledCodeArray: [],\r\n      questEdit_pdSaleChanl: [\"00\"],\r\n      questEditArray: [],\r\n      update_questEdit_pdSaleChanl: \"\",\r\n      selectedQuestEdit: [],\r\n      questEditDataArray: [],\r\n      //\r\n      searchForm1: {\r\n        questEditId: \"\",\r\n        impartEditId: \"\",\r\n        pdslChanl: \"\",\r\n        id: \"\",\r\n        pdVerId: \"\",\r\n        operator: \"\",\r\n        pdType: \"\",\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdName: \"\",\r\n        pdNbChoType: \"\",\r\n        pdNbChoVal: \"\"\r\n      },\r\n      selectedImpartEdit: [],\r\n      pdCvliDateMode: \"1\", //\r\n      pdQuestEdit: [], //\r\n      pdQuestUpdate: \"\", //\r\n      pdQuestDescribe: \"\", //\r\n      pdImpartEdit: [], //\r\n      pdImpartUpdate: \"\", //\r\n      pdImpartDescribe: \"\", //\r\n      tableData: [],\r\n      selectedDef1: \"\", //\r\n      //\r\n      questEditTable: [],\r\n      impartEditTable: [],\r\n      policyEffectiveDateTable: [],\r\n      policyEffectiveDateJson: {},\r\n      selectedPolicyEffectiveDate: [],\r\n      policyEffectiveDateParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"00\"\r\n      },\r\n      questEditParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"01\"\r\n      },\r\n      impartEditArray: [],\r\n      impartEdit_pdSaleChanl: [\"00\"],\r\n      update_impartEdit_pdSaleChanl: \"\",\r\n      impartEditJson: {},\r\n      impartEditParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"02\"\r\n      },\r\n      questEditJson: {},\r\n      configs: [],\r\n      //\r\n      pdRelaValFilters: [],\r\n      //\r\n      params: {\r\n        eq_pdInfoId: \"\"\r\n      },\r\n      //\r\n      searchForm2: {\r\n        pdCode: \"\", //\r\n        pdName: \"\", //\r\n        pdInfoId: \"\", //id\r\n        Id: \"\",\r\n        flag: true, //\r\n        detailsShow: false, //\r\n        insuranceMark: \"\", //\r\n        showFlag: false,\r\n        accfee: true,\r\n        pdRelaCate: \"\",\r\n        pdItemCate: \"\",\r\n        pdItemVal: \"\",\r\n        pdRelaItemCate: \"\",\r\n        pdRelaItemVal: \"\", // -- \r\n        pdRelaVal: \"\", //\r\n        pdRelaDesc: \"\",\r\n        pdIndpRider: false //\r\n      },\r\n      gridData: [], //\r\n      gridParams: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        pdOnSale: \"\",\r\n        pdStartDate: \"\",\r\n        pdStopDate: \"\",\r\n        pdMainSubFlag: \"\",\r\n        designType: \"\"\r\n      }, //\r\n      gridSelectedDef1: \"\",\r\n      selectedDef2: {}, //\r\n      //\r\n      configs2: [],\r\n      //\r\n      params2: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdRelaCate: \"RiskRela\"\r\n      },\r\n      options1: [], //\r\n      options2: [], //\r\n      //\r\n      searchForm3: {\r\n        pdCode: \"\", //\r\n        pdName: \"\", //\r\n        pdInfoId: \"\", //id\r\n        Id: \"\",\r\n        flag: true, //\r\n        detailsShow: false, //\r\n        insuranceMark: \"\", //\r\n        showFlag: false,\r\n        accfee: true,\r\n        pdRelaCate: \"\", //\r\n        pdItemCate: \"\",\r\n        pdItemVal: \"\", ///code\r\n        pdRelaItemCate: \"\",\r\n        pdRelaItemVal: \"\", // -- \r\n        pdRelaVal: \"\", //\r\n        pdRelaDesc: \"\",\r\n        pdIndpRider: false //\r\n      },\r\n      gridData2: [], //\r\n      gridParams2: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        designType: \"\",\r\n        pdMainSubFlag: \"\"\r\n      }, //\r\n      exemptionContent: \"\",\r\n      gridSelectedDef2: \"\",\r\n      gridData3: [], //\r\n      gridParams3: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        eq_pdDesType: \"\",\r\n        eq_pdMainSubFlag: \"\",\r\n        eq_pdStopDate: \"\",\r\n        eq_pdStartDate: \"\"\r\n      }, //\r\n      gridSelectedDef3: \"\",\r\n      selectedDef3: {}, //\r\n      //\r\n      configs3: [],\r\n      //\r\n      params3: {\r\n        eq_pdInfoId: \"\",\r\n        like_pdRelaCate: \"Exempt\"\r\n      },\r\n      options3: [], //\r\n      options4: [], //\r\n      arr: [], //\r\n      // \r\n      configs4: [],\r\n      // \r\n      selectRow: {},\r\n      //\r\n      formData: {\r\n        id: \"\", //ID\r\n        pdLabelAttribute: \"\",\r\n        pdLabelType: \"\",\r\n        pdLabelDesc: \"\"\r\n      },\r\n      labelContents: [],\r\n      //\r\n      params4: {\r\n        eq_pdInfoId: \"\"\r\n      },\r\n      updateFlag: false,\r\n      labelDefDisabled: false,\r\n      inputVisible: false,\r\n      inputValue: \"\",\r\n      attriFilter: \"\",\r\n      pdCvliDateModArray: [],\r\n      pdSlChanlArray: [],\r\n      pdImpartDataArray: [],\r\n      pdDetailTypeArray: [],\r\n      designTypeArray: [],\r\n      pdMainSubFlagArray: [],\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      //\r\n      rules: {\r\n        pdCvliDateMode: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message1\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaCate: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message2\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdItemVal: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message3\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaItemVal: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message4\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaItemVal2: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message5\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdSaleChanl: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message8\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"ldcodes\"])\r\n  },\r\n  async created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag;\r\n    await this.initProductInfo();\r\n    this.initializationShow();\r\n    this.gridParams.eq_pdInfoId = this.product.id;\r\n    this.gridParams2.eq_pdInfoId = this.product.id;\r\n    this.gridParams3.eq_pdInfoId = this.product.id;\r\n    this.params.eq_pdInfoId = this.product.id;\r\n    this.params2.eq_pdInfoId = this.product.id;\r\n    this.params3.eq_pdInfoId = this.product.id;\r\n    this.params4.eq_pdInfoId = this.product.id;\r\n    this.policyEffectiveDateParams.eq_pdInfoId = this.product.id;\r\n    this.questEditParams.eq_pdInfoId = this.product.id;\r\n    this.impartEditParams.eq_pdInfoId = this.product.id;\r\n    this.pdCvliDateModArray = this.ldcodes[\"renewalEffectiveDate\"];\r\n    this.pdSlChanlArray = this.ldcodes[\"pdSlChanl\"];\r\n    this.questEditDataArray = this.ldcodes[\"DemandQuestionnaireSection\"];\r\n    this.pdImpartDataArray = this.ldcodes[\"InformVersion\"];\r\n\r\n    this.pdDetailTypeArray = this.ldcodes[\"ProductCategory\"];\r\n    this.designTypeArray = this.ldcodes[\"ProductDesignType\"];\r\n    this.pdMainSubFlagArray = this.ldcodes[\"principalRiskFlag\"];\r\n  },\r\n  methods: {\r\n    closeDialog() {\r\n      //   let data = this.buildRequestData({\r\n      //     eq_pdInfoId: this.gridParams.eq_pdInfoId,\r\n      //     eq_pdDetailType: this.gridParams.eq_pdDetailType,\r\n      //     eq_pdCode: this.gridParams.eq_pdCode,\r\n      //     eq_pdEdition: this.gridParams.eq_pdEdition,\r\n      //   })\r\n      //\r\n      // getOneSelect(data).then(res => {\r\n      //   if (res.data.records.length === 1){\r\n      //     this.options1.push({\r\n      //       key: res.data.records[0].pdCode,\r\n      //       value: res.data.records[0].pdName,\r\n      //     });\r\n      //     this.searchForm2.pdInfoId = res.data.records[0].id;\r\n      //     this.searchForm2.pdRelaItemVal = res.data.records[0].pdCode;\r\n      //     console.log(res.data.records[0].id)\r\n      //     this.searchForm2.detailsShow = false;\r\n      //   }else {\r\n     /* let  params={\r\n        eq_pdDetailType:\"\",\r\n        eq_pdEdition:\"\",\r\n        eq_pdCode:\"\",\r\n        pdOnSale:\"\",\r\n        pdStartDate:\"\",\r\n        pdStopDate:\"\",\r\n        pdMainSubFlag:\"\",\r\n        designType:\"\"\r\n        }\r\n     Object.assign(this.gridParams,params);*/\r\n      this.gridData=[];\r\n      this.$refs.gridPage.clearData();\r\n      this.searchForm2.detailsShow = false;\r\n      //   }\r\n      // })\r\n    },\r\n    ChangeR() {\r\n      this.searchForm3.pdItemVal = \"\";\r\n    },\r\n\r\n    ChangeR2() {\r\n      this.searchForm3.pdRelaItemVal = \"\";\r\n    },\r\n    selectedDetailTypeChanged(pdRegionType) {\r\n      let param = {\r\n        pdRegionType: pdRegionType\r\n      };\r\n      if (\"\".endsWith(pdRegionType) || pdRegionType == undefined) {\r\n        return false;\r\n      }\r\n      findAllProductByPdDetailType(this.buildRequestData(param)).then(\r\n        response => {\r\n          this.productOptionList = response.data;\r\n          this.editionOptionList = [];\r\n        }\r\n      );\r\n    },\r\n    async selectedPdCodeChanged(pdCode) {\r\n      this.gridParams.eq_pdEdition = \"\";\r\n      const productOptionList_filter = this._.filter(this.productOptionList, {\r\n        pdCode: pdCode\r\n      });\r\n      this.editionOptionList = this._.map(\r\n        productOptionList_filter,\r\n        \"pdEdition\"\r\n      );\r\n      if (this.editionOptionList.length == 1) {\r\n        this.gridParams.eq_pdEdition = this.editionOptionList[0].pdEdition;\r\n        let data = this.buildRequestData({\r\n          eq_pdInfoId: this.gridParams.eq_pdInfoId,\r\n          eq_pdDetailType: this.gridParams.eq_pdDetailType,\r\n          eq_pdCode: this.gridParams.eq_pdCode,\r\n          eq_pdEdition: this.gridParams.eq_pdEdition\r\n        });\r\n        await getOneSelect(data).then(res => {\r\n          if (res.data.records.length === 1) {\r\n            this.options1.push({\r\n              key: res.data.records[0].pdCode,\r\n              value: res.data.records[0].pdName\r\n            });\r\n            this.searchForm2.pdInfoId = res.data.records[0].id;\r\n            this.searchForm2.pdRelaItemVal = res.data.records[0].pdCode;\r\n            this.searchForm2.pdCode = res.data.records[0].pdCode;\r\n            this.searchForm2.detailsShow = false;\r\n          } else {\r\n            this.searchForm2.detailsShow = false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    refreshsearchForm3() {\r\n      this.searchForm3.pdRelaCate = \"ExemptProg\";\r\n    },\r\n    //  -- session\r\n    async initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData();\r\n      this.searchForm1.pdInfoId = pdtempPdInfo.id;\r\n      this.searchForm1.pdVerId = pdtempPdInfo.pdVerId;\r\n      this.searchForm1.pdCode = pdtempPdInfo.pdCode;\r\n      this.searchForm1.pdName = pdtempPdInfo.pdName;\r\n      if (pdtempPdInfo) {\r\n        Object.assign(this.product, pdtempPdInfo);\r\n        this.pdProcessId = pdtempPdInfo.pdProcessId;\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload();\r\n    },\r\n    //\r\n    initializationShow() {\r\n      //\r\n      let back2 = \"\";\r\n      let params = {\r\n        pdCode: this.product.pdCode,\r\n        pdEdition: this.product.pdEdition,\r\n        pdName: this.product.pdName\r\n      };\r\n      back2 = initializationShow(this.buildRequestData(params));\r\n      back2.then(response => {\r\n        if (response.code == 200) {\r\n          for (let i = 0; i < response.data.records.length; i++) {\r\n            if (\r\n              response.data.records[i].pdCls5 == \"R\" ||\r\n              response.data.records[i].pdCls5 == \"N\"\r\n            ) {\r\n              //\r\n              this.searchForm2.insuranceMark = true; //\r\n              this.searchForm2.showFlag = false;\r\n            } else {\r\n              this.searchForm2.insuranceMark = false; //\r\n              this.searchForm2.showFlag = true;\r\n            }\r\n            if (\r\n              response.data.records[i].pdCls5 == \"R\" ||\r\n              response.data.records[i].pdCls5 == \"N\" ||\r\n              response.data.records[i].pdCls5 == \"Y\"\r\n            ) {\r\n              this.searchForm2.showFlag = true;\r\n            }\r\n            if (\r\n              response.data.records[i].pdAtrsVal == \"\" ||\r\n              response.data.records[i].pdAtrsVal == undefined\r\n            ) {\r\n              this.searchForm3.showFlag = false;\r\n            } else {\r\n              this.searchForm3.showFlag = true;\r\n              this.searchForm3.pdRelaCate = \"ExemptProg\";\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //\r\n    initPdNbChoType() {\r\n      /* selectAllInfo(this.buildRequestData({\"pdInfoId\": this.searchForm1.pdInfoId})).then(response => {\r\n        this.tableData = response.data\r\n        //\r\n        this.questEditTable = [];\r\n        this.impartEditTable = [];\r\n        this.policyEffectiveDateTable=[];\r\n        this.pdSaleChanl = [];\r\n        this.pdCvliDateMode ='';\r\n        this.varShow = false;\r\n        for (const pdNbInfo of this.tableData) {\r\n            if (pdNbInfo.pdNbChoType == '00') {\r\n                this.searchForm1 = pdNbInfo;\r\n                pdNbInfo['pdCvliDateMode']=pdNbInfo.pdNbChoVal;\r\n                this.policyEffectiveDateTable.push(pdNbInfo);\r\n            }\r\n          if (pdNbInfo.pdNbChoType == '01') {\r\n               this.questEditTable.push(pdNbInfo);\r\n          }\r\n          if (pdNbInfo.pdNbChoType == '02') {\r\n               this.impartEditTable.push(pdNbInfo);\r\n          }\r\n        }\r\n      })*/\r\n    },\r\n    optionClick1(val) {\r\n       this.searchForm2.detailsShow = true;\r\n    },\r\n    handleSearch2() {\r\n      if (\r\n        this.gridParams.eq_pdCode ||\r\n        this.gridParams.eq_pdDetailType ||\r\n        this.gridParams.eq_pdEdition ||\r\n        this.gridParams.pdOnSale ||\r\n        this.gridParams.designType ||\r\n        this.gridParams.pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    // - \r\n    gridSelectedChanged1(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef1) {\r\n          this.gridSelectedDef1 = \"\";\r\n          this.searchForm2.pdCode = \"\";\r\n          this.searchForm2.pdName = \"\";\r\n          this.searchForm2.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm2.pdInfoId = row.id;\r\n          this.searchForm2.pdCode = row.pdCode;\r\n          this.searchForm2.pdName = row.pdName;\r\n          this.options1 = [];\r\n          this.options1.push({\r\n            key: this.searchForm2.pdCode,\r\n            value: this.searchForm2.pdName\r\n          });\r\n          this.searchForm2.pdRelaItemVal = this.searchForm2.pdCode;\r\n          this.searchForm2.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleCreate2(searchForm2) {\r\n      this.$refs[searchForm2].validate(valid => {\r\n        if (valid) {\r\n          let pdtempPdRela = {\r\n            pdType: \"\",\r\n            pdVerId: \"\",\r\n            pdInfoId: \"\",\r\n            pdCode: \"\",\r\n            pdRelaCate: \"RiskRela\", //RiskRela\r\n            pdItemCate: \"Risk\", //Risk\r\n            pdItemVal: \"\", //\r\n            pdRelaItemCate: \"Risk\", //Risk\r\n            pdRelaItemId: \"\", //\r\n            pdRelaItemVal: \"\", //\r\n            pdRelaVal: \"\", //01- 02-\r\n            pdRelaDesc: \"\", //\r\n            pdIndpRider: \"\" //\r\n          };\r\n          pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n          pdtempPdRela.pdInfoId = this.product.id; //\r\n          pdtempPdRela.pdCode = this.product.pdCode; //\r\n          pdtempPdRela.pdName = this.product.pdName; //\r\n          pdtempPdRela.pdType = \"1\"; //\r\n          debugger;\r\n          pdtempPdRela.pdItemVal = this.product.pdCode; //\r\n          pdtempPdRela.pdRelaItemVal = this.searchForm2.pdCode; //\r\n          pdtempPdRela.pdRelaItemId = this.searchForm2.pdInfoId; //\r\n          pdtempPdRela.pdRelaVal = this.searchForm2.pdRelaVal; //\r\n          if (this.searchForm2.pdRelaVal == \"02\") {\r\n            pdtempPdRela.pdIndpRider = \"\"; //\r\n          } else {\r\n            if (this.searchForm2.pdIndpRider == true) {\r\n              pdtempPdRela.pdIndpRider = \"Y\";\r\n            } else {\r\n              pdtempPdRela.pdIndpRider = \"N\";\r\n            }\r\n          }\r\n          let back = \"\";\r\n          back = addPdtempPdRela(pdtempPdRela);\r\n          back.then(response => {\r\n            if (response.code == 200) {\r\n              this.notifySuccess(response.message);\r\n              this.params2.eq_pdInfoId = this.product.id;\r\n              this.$refs.page2.buildData().then(() => {\r\n                this.selectedChanged2Change(this.configs2[0]);\r\n                this.selectedDef2 = this.configs2[0].pdtempPdRela;\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    selectedChanged2Change(row) {\r\n      this.searchForm2.Id = row.pdtempPdRela.id;\r\n      this.searchForm2.pdInfoId = row.pdID;\r\n      this.options1 = [];\r\n      this.options1.push({\r\n        key: row.pdtempPdRela.pdRelaItemVal,\r\n        value: row.pdName\r\n      });\r\n      this.searchForm2.pdRelaItemVal = row.pdtempPdRela.pdRelaItemVal;\r\n      if (row.pdtempPdRela.pdIndpRider == \"Y\") {\r\n        //\r\n        this.searchForm2.pdIndpRider = true;\r\n      } else {\r\n        this.searchForm2.pdIndpRider = false;\r\n      }\r\n    },\r\n    selectedChanged2(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.pdtempPdRela.id == this.selectedDef2.id) {\r\n          this.selectedDef2 = {};\r\n          this.resetFormData2();\r\n          this.searchForm2.pdInfoId = \"\";\r\n          this.options1 = [];\r\n        }\r\n      }\r\n    },\r\n    resetFormData2() {\r\n      this.$nextTick(function() {\r\n        let searchFormCopy2 = {\r\n          pdCode: \"\", //\r\n          pdName: \"\", //\r\n          pdInfoId: \"\", //id\r\n          Id: \"\",\r\n          flag: true, //\r\n          showFlag: true,\r\n          detailsShow: false, //\r\n          insuranceMark: \"\", //\r\n          accfee: true,\r\n          pdRelaCate: \"\",\r\n          pdItemCate: \"\",\r\n          pdItemVal: \"\",\r\n          pdRelaItemCate: \"\",\r\n          pdRelaItemVal: \"\", // -- \r\n          pdRelaVal: \"\", //\r\n          pdRelaDesc: \"\",\r\n          pdIndpRider: false //\r\n        };\r\n        this.options1 = [];\r\n        this.searchForm2 = searchFormCopy2;\r\n      });\r\n    },\r\n    handleUpdate2() {\r\n      let pdtempPdRela = {\r\n        id: \"\",\r\n        pdInfoId: \"\",\r\n        pdType: \"\",\r\n        pdVerId: \"\",\r\n        pdCode: \"\",\r\n        pdItemCate: \"Risk\", //RiskRela\r\n        pdItemVal: \"\", //RiskRela\r\n        pdRelaCate: \"RiskRela\", //RiskRela\r\n        pdRelaItemCate: \"Risk\", //Risk\r\n        pdRelaItemVal: \"\", //\r\n        pdRelaItemId: \"\", //\r\n        pdRelaVal: \"\", //01- 02-\r\n        pdRelaDesc: \"\", //\r\n        pdIndpRider: \"\" //\r\n      };\r\n      pdtempPdRela.id = this.searchForm2.Id;\r\n      pdtempPdRela.pdType = \"1\";\r\n      pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n      pdtempPdRela.pdCode = this.product.pdCode; //\r\n      pdtempPdRela.pdName = this.product.pdName; //\r\n\r\n      pdtempPdRela.pdItemVal = this.product.pdCode; //\r\n      pdtempPdRela.pdRelaItemVal = this.searchForm2.pdRelaItemVal; //\r\n      pdtempPdRela.pdInfoId = this.product.id;\r\n      pdtempPdRela.pdRelaItemId = this.searchForm2.pdInfoId; //\r\n      pdtempPdRela.pdRelaVal = this.searchForm2.pdRelaVal; //\r\n\r\n      if (this.searchForm2.pdRelaVal == \"02\") {\r\n        pdtempPdRela.pdIndpRider = \"\";\r\n      } else {\r\n        if (this.searchForm2.pdIndpRider == true) {\r\n          pdtempPdRela.pdIndpRider = \"Y\";\r\n        } else {\r\n          pdtempPdRela.pdIndpRider = \"N\";\r\n        }\r\n      }\r\n      let back = \"\";\r\n      back = updatePdtempPdRela(pdtempPdRela);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params2.eq_pdInfoId = this.product.id;\r\n          this.resetForm2Copy();\r\n        }\r\n      });\r\n    },\r\n    handleDelete2(row) {\r\n      let id = row.id;\r\n      let back = \"\";\r\n      back = deletePdtempPdRela(id);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params2.eq_pdInfoId = this.product.id;\r\n          this.$refs.page2.reload();\r\n          this.resetFormData2();\r\n        }\r\n      });\r\n    },\r\n    resetForm2Copy() {\r\n      if (this.searchForm2.Id) {\r\n        this.$refs.page2.buildData().then(() => {\r\n          for (const item of this.configs2) {\r\n            if (item.pdtempPdRela.id == this.searchForm2.Id) {\r\n              this.selectedChanged2Change(item);\r\n              this.selectedDef2 = item.pdtempPdRela;\r\n              break;\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.selectedDef2 = {};\r\n        this.gridSelectedDef1 = \"\";\r\n        this.$refs.searchForm2.resetFields();\r\n        this.$refs.page2.reload();\r\n      }\r\n    },\r\n    //\r\n    resetForm2() {\r\n      this.selectedDef2 = {};\r\n      this.gridSelectedDef1 = \"\";\r\n      this.$refs.searchForm2.resetFields();\r\n      this.$refs.page2.reload();\r\n    },\r\n    //\r\n    optionClick2() {\r\n        this.searchForm3.detailsShow = true;\r\n    },\r\n    handleSearch3() {\r\n      if (\r\n        this.gridParams2.eq_pdCode ||\r\n        this.gridParams2.eq_pdDetailType ||\r\n        this.gridParams2.eq_pdEdition ||\r\n        this.gridParams2.pdOnSale ||\r\n        this.gridParams2.designType ||\r\n        this.gridParams2.pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage2.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    // - \r\n    gridSelectedChanged2(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef2) {\r\n          this.gridSelectedDef2 = \"\";\r\n          this.searchForm3.pdCode = \"\";\r\n          this.searchForm3.pdName = \"\";\r\n          this.searchForm3.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm3.pdInfoId = row.id;\r\n          this.searchForm3.pdCode = row.pdCode;\r\n          this.searchForm3.pdName = row.pdName;\r\n          this.options4 = [];\r\n          this.options4.push({\r\n            key: this.searchForm3.pdCode,\r\n            value: this.searchForm3.pdName\r\n          });\r\n          this.searchForm3.pdRelaItemVal = this.searchForm3.pdCode;\r\n          this.searchForm3.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleSearch4() {\r\n      if (\r\n        this.gridParams3.eq_pdCode ||\r\n        this.gridParams3.eq_pdDetailType ||\r\n        this.gridParams3.eq_pdEdition ||\r\n        this.gridParams3.eq_pdOnSale ||\r\n        this.gridParams3.eq_pdDesType ||\r\n        this.gridParams3.eq_pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage3.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    // - \r\n    gridSelectedChanged4(row, column, event) {\r\n      debugger;\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef3) {\r\n          this.gridSelectedDef3 = \"\";\r\n          this.searchForm3.pdCode = \"\";\r\n          this.searchForm3.pdName = \"\";\r\n          this.searchForm3.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm3.pdInfoId = row.pdInfoId;\r\n          this.searchForm3.pdCode = row.pdProgCode;\r\n          this.searchForm3.pdName = row.pdProgName;\r\n          this.options4 = [];\r\n          this.options4.push({\r\n            key: this.searchForm3.pdCode,\r\n            value: this.searchForm3.pdName\r\n          });\r\n          this.searchForm3.pdRelaItemVal11 = row.pdCode+\":\"+ row.pdName;\r\n          this.searchForm3.pdRelaItemVal = this.searchForm3.pdCode;\r\n          this.searchForm3.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleCreate3(searchForm2) {\r\n      this.$refs[searchForm2].validate(valid => {\r\n        if (valid) {\r\n          let pdtempPdRela = {\r\n            pdType: \"\",\r\n            pdVerId: \"\",\r\n            pdInfoId: \"\",\r\n            pdCode: \"\",\r\n            pdRelaCate: \"\", //ExemptProg ExemptGet:\r\n            pdItemCate: \"\", //Risk- Prog- Bnft-\r\n            pdItemVal: \"\", //\r\n            pdRelaItemCate: \"\", //Risk- Prog-\r\n            pdRelaItemId: \"\", //\r\n            pdRelaItemVal: \"\", //\r\n            pdRelaVal: \"\", //05 - 06- 07-\r\n            pdRelaDesc: \"\", //\r\n            pdIndpRider: \"\" //\r\n          };\r\n          pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n          pdtempPdRela.pdInfoId = this.product.id; //\r\n          pdtempPdRela.pdCode = this.product.pdCode; //\r\n          pdtempPdRela.pdName = this.product.pdName; //\r\n          pdtempPdRela.pdType = \"1\"; //\r\n\r\n          pdtempPdRela.pdRelaCate = this.searchForm3.pdRelaCate; //\r\n          pdtempPdRela.pdItemVal = this.searchForm3.pdItemVal; //\r\n\r\n\r\n          pdtempPdRela.pdRelaItemId = this.searchForm3.pdInfoId; //\r\n          pdtempPdRela.pdRelaVal = this.searchForm3.pdRelaVal; //\r\n          pdtempPdRela.pdRelaItemVal = this.searchForm3.pdRelaItemVal; //\r\n          if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n            //\r\n            pdtempPdRela.pdItemCate = \"Prog\"; //\r\n            if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n              pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n            } else {\r\n              pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n            }\r\n          } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n            //\r\n            pdtempPdRela.pdItemCate = \"Bnft\"; //\r\n            if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n              pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n            } else {\r\n              pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n            }\r\n          }\r\n          let back = \"\";\r\n          back = addPdtempPdRela(pdtempPdRela);\r\n          back.then(response => {\r\n            if (response.code == 200) {\r\n              this.notifySuccess(response.message);\r\n              this.params3.eq_pdInfoId = this.product.id;\r\n              this.selectRowHUOM();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    selectRowHUOM(id) {\r\n      this.$refs.page3.buildData().then(() => {\r\n        if (id) {\r\n          for (const item of this.configs3) {\r\n            if (item.pdtempPdRela.id === id) {\r\n              this.$refs.configs3.setCurrentRow(item);\r\n              this.selectedPdNbINfoChanged(item);\r\n              this.selectedDef3 = item.pdtempPdRela;\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          this.$refs.configs3.setCurrentRow(this.configs3[0]);\r\n          this.selectedPdNbINfoChanged(this.configs3[0]);\r\n          this.selectedDef3 = this.configs3[0].pdtempPdRela;\r\n        }\r\n      });\r\n    },\r\n    selectedChanged3(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.pdtempPdRela.id == this.selectedDef3.id) {\r\n          this.selectedDef3 = {};\r\n          this.resetFormData3();\r\n          this.refreshsearchForm3();\r\n        }\r\n      }\r\n    },\r\n    selectedPdNbINfoChanged(row) {\r\n      debugger\r\n      this.searchForm3.Id = row.pdtempPdRela.id;\r\n      this.options4 = [];\r\n      this.options4.push({\r\n        key: row.pdtempPdRela.pdRelaItemVal,\r\n        value: row.pdRelaItemName\r\n      });\r\n\r\n      this.searchForm3.pdRelaCate = row.pdtempPdRela.pdRelaCate; //\r\n      this.searchForm3.pdRelaItemVal = row.pdtempPdRela.pdRelaItemVal; //\r\n      this.searchForm3.pdItemVal = row.pdtempPdRela.pdItemVal; //\r\n      this.searchForm3.pdRelaVal = row.pdtempPdRela.pdRelaVal; //\r\n     if(row.pdtempPdRela.pdRelaVal ==\"ExemptProg\"){\r\nthis.searchForm3.pdRelaItemVal11=row.pdtempPdRela.pdCode+\":\"+row.pdtempPdRela.pdName\r\n}\r\n      this.options4 = [];\r\n    },\r\n    rowClickQuestEdit(val) {\r\n      this.selectedQuestEdit = val;\r\n      this.pdQuestUpdate = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.update_questEdit_pdSaleChanl = \"\";\r\n      this.pdQuestDescribe = \"\";\r\n      this.questEditJson = {};\r\n      if (val.length == 1) {\r\n        this.questEditJson = val[0];\r\n        this.pdQuestUpdate = val[0].pdNbChoVal;\r\n        this.update_questEdit_pdSaleChanl = val[0].pdSlChanl;\r\n        this.pdQuestDescribe = val[0].pdNbChoDescribe;\r\n        // 00\r\n        this.questEditArray = [\"00\"];\r\n        return;\r\n      }\r\n    },\r\n    rowClickQuestEditChange(row) {\r\n      this.pdQuestEdit = [row.pdNbChoVal];\r\n      this.pdQuestUpdate = row.pdNbChoVal;\r\n      this.pdQuestDescribe = row.pdNbChoDescribe;\r\n    },\r\n    rowClickImpartEditChange(row) {\r\n      this.pdImpartEdit = [row.pdNbChoVal];\r\n      this.pdImpartUpdate = row.pdNbChoVal;\r\n      this.pdImpartDescribe = row.pdNbChoDescribe;\r\n    },\r\n    rowClickImpartEdit(val) {\r\n      this.selectedImpartEdit = val;\r\n      this.pdImpartUpdate = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.update_impartEdit_pdSaleChanl = \"\";\r\n      this.pdImpartDescribe = \"\";\r\n      this.impartEditJson = {};\r\n      if (val.length == 1) {\r\n        this.impartEditJson = val[0];\r\n        this.pdImpartUpdate = val[0].pdNbChoVal;\r\n        this.update_impartEdit_pdSaleChanl = val[0].pdSlChanl;\r\n        this.pdImpartDescribe = val[0].pdNbChoDescribe;\r\n        // 00\r\n        this.impartEditArray = [\"00\"];\r\n        return;\r\n      }\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row.pdtempPdRela[property] === value;\r\n      }\r\n    },\r\n    //\r\n    addCvliDate() {\r\n      this.searchForm1.pdNbChoType = \"00\";\r\n      this.searchForm1.id = null;\r\n      this.searchForm1.pdNbChoVal = this.pdCvliDateMode;\r\n      if (!this.policyEffectiveDateJson.id) {\r\n        if (!this.pdCvliDateMode || this.pdSaleChanl.length == 0) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message1\"));\r\n        }\r\n        this.searchForm1.pdSlChanl = this.pdSaleChanl;\r\n      } else {\r\n        if (!this.update_pdSaleChanl || !this.pdCvliDateMode) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message1\"));\r\n        }\r\n        this.searchForm1.id = this.policyEffectiveDateJson.id;\r\n        this.searchForm1.pdSlChanl = this.update_pdSaleChanl;\r\n      }\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetCvliDate();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetCvliDate();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    addQuestEdit() {\r\n      this.searchForm1.pdType = \"0\";\r\n      this.searchForm1.pdNbChoType = \"01\";\r\n      if (!this.questEditJson.id) {\r\n        if (\r\n          this.pdQuestEdit.length == 0 ||\r\n          this.questEdit_pdSaleChanl.length == 0\r\n        ) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message11\"));\r\n        }\r\n        this.searchForm1.id = null;\r\n        this.searchForm1.pdNbChoVal = this.pdQuestEdit;\r\n        this.searchForm1.pdSlChanl = this.questEdit_pdSaleChanl;\r\n      } else {\r\n        if (!this.pdQuestUpdate || !this.update_questEdit_pdSaleChanl) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message11\"));\r\n        }\r\n        this.searchForm1.id = this.questEditJson.id;\r\n        this.searchForm1.pdNbChoVal = this.pdQuestUpdate;\r\n        this.searchForm1.pdSlChanl = this.update_questEdit_pdSaleChanl;\r\n      }\r\n      this.searchForm1.pdNbChoDescribe = this.pdQuestDescribe;\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetQuestEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetQuestEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    resetQuestEditCopy(id) {},\r\n    addImpartEdit() {\r\n      this.searchForm1.pdType = \"0\";\r\n      this.searchForm1.pdNbChoType = \"02\";\r\n      this.searchForm1.id = null;\r\n      if (!this.impartEditJson.id) {\r\n        if (\r\n          this.pdImpartEdit.length == 0 ||\r\n          this.impartEdit_pdSaleChanl.length == 0\r\n        ) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message12\"));\r\n        }\r\n        this.searchForm1.pdNbChoVal = this.pdImpartEdit;\r\n        this.searchForm1.pdSlChanl = this.impartEdit_pdSaleChanl;\r\n      } else {\r\n        if (!this.pdImpartUpdate || !this.update_impartEdit_pdSaleChanl) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message12\"));\r\n        }\r\n        this.searchForm1.id = this.impartEditJson.id;\r\n        this.searchForm1.pdNbChoVal = this.pdImpartUpdate;\r\n        this.searchForm1.pdSlChanl = this.update_impartEdit_pdSaleChanl;\r\n      }\r\n      this.searchForm1.pdNbChoDescribe = this.pdImpartDescribe;\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetImpartEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetImpartEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    deleteQuestEdit(row) {\r\n      let delKeys = this.selectedQuestEdit.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.resetQuestEdit();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    deleteImpartEdit(row) {\r\n      let delKeys = this.selectedImpartEdit.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.resetImpartEdit();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    //\r\n    resetCvliDate() {\r\n      this.policyEffectiveDateJson = {};\r\n      this.pdCvliDateMode = \"\";\r\n      this.pdSaleChanl = [];\r\n      this.update_pdSaleChanl = \"\";\r\n      this.selectedPolicyEffectiveDate = [];\r\n      this.$refs.pagePdCvliDate.reload();\r\n    },\r\n    resetQuestEdit() {\r\n      this.pdQuestEdit = [];\r\n      this.pdQuestUpdate = \"\";\r\n      this.pdQuestDescribe = \"\";\r\n      this.questEditJson = {};\r\n      this.selectedQuestEdit = [];\r\n      this.update_questEdit_pdSaleChanl = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.$refs.pageQuestEdit.reload();\r\n    },\r\n    resetImpartEdit() {\r\n      this.pdImpartDescribe = \"\";\r\n      this.pdImpartEdit = [];\r\n      this.pdImpartUpdate = \"\";\r\n      this.update_impartEdit_pdSaleChanl = \"\";\r\n      this.impartEdit_pdSaleChanl = [];\r\n      this.impartEditJson = {};\r\n      this.selectedImpartEdit = [];\r\n      this.$refs.pageImpartEdit.reload();\r\n    },\r\n    resetFormData3() {\r\n      this.$nextTick(function() {\r\n        let searchFormCopy3 = {\r\n          pdCode: \"\", //\r\n          pdName: \"\", //\r\n          pdInfoId: \"\", //id\r\n          Id: \"\",\r\n          showFlag: true,\r\n          detailsShow: false, //\r\n          insuranceMark: \"\", //\r\n          accfee: true,\r\n          pdRelaCate: \"ExemptProg\",\r\n          pdItemCate: \"\",\r\n          pdItemVal: \"\",\r\n          pdRelaItemCate: \"\",\r\n          pdRelaItemVal: \"\", // -- \r\n          pdRelaVal: \"\", //\r\n          pdRelaDesc: \"\"\r\n        };\r\n        this.searchForm3 = searchFormCopy3;\r\n      });\r\n    },\r\n    handleUpdate3(searchForm3) {\r\n      let pdtempPdRela = {\r\n        id: \"\",\r\n        pdType: \"\",\r\n        pdVerId: \"\",\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdRelaCate: \"\", //ExemptProg ExemptGet:\r\n        pdItemCate: \"\", //Risk- Prog- Bnft-\r\n        pdItemVal: \"\", //\r\n        pdRelaItemCate: \"\", //Risk- Prog-\r\n        pdRelaItemId: \"\", //\r\n        pdRelaItemVal: \"\", //\r\n        pdRelaVal: \"\", //05 - 06- 07-\r\n        pdRelaDesc: \"\", //\r\n        pdIndpRider: \"\" //\r\n      };\r\n      pdtempPdRela.id = this.searchForm3.Id;\r\n      pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n      pdtempPdRela.pdInfoId = this.product.id; //\r\n      pdtempPdRela.pdCode = this.product.pdCode; //\r\n      pdtempPdRela.pdName = this.product.pdName; //\r\n      pdtempPdRela.pdType = \"1\"; //\r\n\r\n      pdtempPdRela.pdRelaCate = this.searchForm3.pdRelaCate; //\r\n      pdtempPdRela.pdItemVal = this.searchForm3.pdItemVal; //\r\n      pdtempPdRela.pdRelaItemId = this.searchForm3.pdInfoId; //\r\n      pdtempPdRela.pdRelaVal = this.searchForm3.pdRelaVal; //\r\n     pdtempPdRela.pdRelaItemVal = this.searchForm3.pdRelaItemVal; //\r\n      if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n        //\r\n        pdtempPdRela.pdItemCate = \"Prog\"; //\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n        } else if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n\r\n        }\r\n      } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n        //\r\n        pdtempPdRela.pdItemCate = \"Bnft\"; //\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n        } else if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n        }\r\n      }\r\n      let back = \"\";\r\n      back = updatePdtempPdRela(pdtempPdRela);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params3.eq_pdInfoId = this.product.id;\r\n          this.$refs.page3.reload();\r\n          this.selectRowHUOM(pdtempPdRela.id);\r\n        }\r\n      });\r\n    },\r\n    handleDelete3(row) {\r\n      let id = row.id;\r\n      let back = \"\";\r\n      back = deletePdtempPdRela(id);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params3.eq_pdInfoId = this.product.id;\r\n          this.$refs.page3.reload();\r\n          this.resetFormData3();\r\n        }\r\n      });\r\n    },\r\n    //\r\n    resetForm3() {\r\n      this.selectedDef3 = {};\r\n      this.gridSelectedDef2 = \"\";\r\n      this.gridSelectedDef3 = \"\";\r\n      this.$refs.searchForm3.resetFields();\r\n      this.$refs.page3.reload();\r\n    },\r\n    resetForm3Copy() {\r\n      if (this.searchForm3.Id) {\r\n        for (const item of this.configs3) {\r\n          if (item.pdtempPdRela.id === this.searchForm3.Id) {\r\n            this.$refs.configs3.setCurrentRow(item);\r\n            this.selectedPdNbINfoChanged(item);\r\n            this.selectedDef3 = item.pdtempPdRela;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedDef3 = {};\r\n        this.gridSelectedDef2 = \"\";\r\n        this.gridSelectedDef3 = \"\";\r\n        this.$refs.searchForm3.resetFields();\r\n        this.$refs.page3.reload();\r\n      }\r\n    },\r\n    handleUpdate(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.selectRow.id) {\r\n          this.selectRow = {};\r\n          this.updateFlag = false;\r\n          this.labelDefDisabled = false;\r\n          this.formData.id = \"\";\r\n          this.formData.pdLabelAttribute = \"\";\r\n          this.formData.pdLabelDesc = \"\";\r\n          this.formData.pdLabelType = \"\";\r\n          this.labelContents = [];\r\n        } else {\r\n          this.labelContents = [];\r\n          this.selectRow = row;\r\n          this.labelDefDisabled = true;\r\n          this.updateFlag = true;\r\n          this.formData = Object.assign({}, this.selectRow);\r\n          Object.assign(this.labelContents, this.selectRow.labelContents);\r\n        }\r\n      }\r\n    },\r\n    initPdtempLabelDef(){\r\n      initPdtempLabelDef(this.buildRequestData(this.params4)).then(response => {\r\n        this.handleSearch5();\r\n        this.clearLabelDef();\r\n        this.notifySuccess(this.$t(\"successMessage.submit\"));\r\n      });\r\n    },\r\n    handleCreate() {\r\n      this.$refs.formData.validate(valid => {\r\n        if (valid) {\r\n          if (this.labelContents.length > 0) {\r\n            let back;\r\n            //Data\r\n            let labelContentsArray = [];\r\n            this.labelContents.forEach(s =>\r\n              labelContentsArray.push({ pdLabelContent: s })\r\n            );\r\n\r\n            let data;\r\n\r\n            let labelDef = {\r\n              pdInfoId: this.product.id,\r\n              pdCode: this.product.pdCode,\r\n              pdName: this.product.pdName,\r\n              pdVerId: this.product.pdVerId,\r\n              id: this.formData.id,\r\n              pdLabelAttribute: this.formData.pdLabelAttribute,\r\n              pdLabelType: this.formData.pdLabelType,\r\n              pdLabelDesc: this.formData.pdLabelDesc\r\n            };\r\n            if (this.formData.id) {\r\n              data = { labelDef: labelDef, labelContents: labelContentsArray };\r\n              back = updatePdtempPdLabelDef(this.buildRequestData(data));\r\n            } else {\r\n              data = { labelDef: labelDef, labelContents: labelContentsArray };\r\n              back = addPdtempPdLabelDef(this.buildRequestData(data));\r\n            }\r\n            back.then(response => {\r\n              this.handleSearch5();\r\n              this.clearLabelDef();\r\n              this.notifySuccess(this.$t(\"successMessage.submit\"));\r\n            });\r\n          } else {\r\n            this.notifyError(this.$t(\"pdtempPdNbInfo.newTagAddTip\"));\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleClose(tag) {\r\n      this.labelContents.splice(this.labelContents.indexOf(tag), 1);\r\n    },\r\n    handleInputConfirm() {\r\n      let inputValue = this.inputValue;\r\n      if (inputValue) {\r\n        if (this._.indexOf(this.labelContents, inputValue.trim()) === -1) {\r\n          this.labelContents.push(inputValue.trim());\r\n          this.inputVisible = false;\r\n          this.inputValue = \"\";\r\n        } else {\r\n          this.notifyWarning(this.$t(\"pdtempPdNbInfo.newTagTip\"));\r\n        }\r\n      }\r\n    },\r\n    showInput() {\r\n      this.inputVisible = true;\r\n      this.$nextTick(_ => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      });\r\n    },\r\n    clearLabelDef() {\r\n      this.updateFlag = false;\r\n      this.labelDefDisabled = false;\r\n      this.labelContents = [];\r\n      this.selectRow = {};\r\n      this.resetForm();\r\n    },\r\n    resetForm() {\r\n      this.formData = {\r\n        //\r\n        id: \"\",\r\n        pdLabelAttribute: \"\",\r\n        pdLabelType: \"\",\r\n        pdLabelDesc: \"\"\r\n      };\r\n    },\r\n    handleDelete(id) {\r\n      deletePdtempLabelDef(id).then(response => {\r\n        this.handleSearch5();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    handleSearch5() {\r\n      this.resetForm();\r\n      this.labelDefDisabled =false;\r\n      this.labelContents=[];\r\n      this.$refs.page4.reload();\r\n    },\r\n    attributeChange(val) {\r\n      let data = { labelAttri: val, pdInfoId: this.product.id };\r\n      attributeChange(this.buildRequestData(data)).then(response => {\r\n        if (response.code == 200) {\r\n          if (response.data.allTypeNull == true) {\r\n            this.notifyWarning(this.$t(\"pdtempPdNbInfo.updateLabel\"));\r\n          }\r\n          let labelTypes = response.data.labelTypes;\r\n          if (labelTypes.length != 0) {\r\n            this.attriFilter = \"1\";\r\n            for (let types of labelTypes) {\r\n              this.attriFilter += \"$\" + types;\r\n            }\r\n            console.log(this.attriFilter);\r\n          }\r\n          //labelType\r\n        }\r\n      });\r\n    },\r\n    typeChange(val) {\r\n      debugger;\r\n      if (\r\n        this.formData.pdLabelAttribute != undefined &&\r\n        this.formData.pdLabelAttribute != \"\"\r\n      ) {\r\n        let data = {\r\n          pdInfoId: this.product.id,\r\n          pdLabelAttribute: this.formData.pdLabelAttribute,\r\n          pdLabelType: val\r\n        };\r\n        typeChange(this.buildRequestData(data)).then(response => {\r\n          this.formData.pdLabelDesc = response.data.pdLabelDesc;\r\n          this.labelContents = [];\r\n          Object.assign(this.labelContents, response.data.labelContents);\r\n        });\r\n      }\r\n      console.log(\"\");\r\n    },\r\n    rowPolicyEffectiveDate(val) {\r\n      this.selectedPolicyEffectiveDate = val;\r\n      this.pdSaleChanl = [];\r\n      this.pdCvliDateMode = \"\";\r\n      this.update_pdSaleChanl = \"\";\r\n      this.policyEffectiveDateJson = {};\r\n      if (val.length == 1) {\r\n        this.varShow = \"2\";\r\n        this.searchForm1.id = val[0].id;\r\n        this.pdCvliDateMode = val[0].pdNbChoVal;\r\n        this.pdSaleChanl.push(val[0].pdSlChanl);\r\n        this.update_pdSaleChanl = val[0].pdSlChanl;\r\n        this.policyEffectiveDateJson = val[0];\r\n        // 00\r\n        this.pdSaleChanlDisabledCodeArray = [\"00\"];\r\n        return;\r\n      } else if (val.length == 0) {\r\n        this.varShow = \"1\";\r\n      } else {\r\n        this.varShow = \"3\";\r\n      }\r\n    },\r\n    deletePolicyEffectiveDate(row) {\r\n      let delKeys = this.selectedPolicyEffectiveDate.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.update_pdSaleChanl = \"\";\r\n        this.pdSaleChanl = [];\r\n        this.pdCvliDateMode = \"\";\r\n        this.$refs.pagePdCvliDate.reload();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    pdSlChanlFormat(row, column) {\r\n      let va = row.pdSlChanl;\r\n      let pdSlChanlValue = \"\";\r\n      this.pdSlChanlArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          pdSlChanlValue = valid.codename;\r\n        }\r\n      });\r\n      return pdSlChanlValue;\r\n    },\r\n    pdCvliDateModeFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let pdCvliDateModValue = \"\";\r\n      this.pdCvliDateModArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          pdCvliDateModValue = valid.codename;\r\n        }\r\n      });\r\n      return pdCvliDateModValue;\r\n    },\r\n    questEditFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let value = \"\";\r\n      this.questEditDataArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          value = valid.codename;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    pdImpartFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let value = \"\";\r\n      this.pdImpartDataArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          value = valid.codename;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    exemptBack(){\r\n    if(this.searchForm3.pdRelaVal==\"ExemptProd\"){\r\n         /* let params={\r\n        eq_pdDetailType:\"\",\r\n        eq_pdEdition:\"\",\r\n        eq_pdCode:\"\",\r\n        designType:\"\",\r\n        pdMainSubFlag:\"\"\r\n      }\r\n         Object.assign(this.gridParams2,params);*/\r\n          this.gridData2 =[];\r\n          this.$refs.gridPage2.clearData();\r\n      }else{\r\n        /* let params1 ={\r\n    eq_pdDetailType:\"\",\r\n    eq_pdEdition:\"\",\r\n    eq_pdCode:\"\",\r\n    eq_pdDesType:\"\",\r\n    eq_pdMainSubFlag:\"\",\r\n    eq_pdStopDate:\"\",\r\n    eq_pdStartDate:\"\"\r\n    }\r\n        Object.assign(this.gridParams3,params1);*/\r\n         this.gridData3 =[];\r\n         this.$refs.gridPage3.clearData();\r\n      }\r\n      this.searchForm3.detailsShow=false\r\n    },\r\n    //\r\n    getPdDesignPage(row, type) {\r\n      if (row) {\r\n          this.cacheCurrPagePdData(row);\r\n          this.dialogShow = true;\r\n          switch (type) {\r\n            case \"pdInfo\":\r\n              this.dialogTitle = \"\";\r\n              this.dialogComponent = \"product-definition/pd-framework-def/main\";\r\n              break;\r\n            case \"pdProg\":\r\n              this.dialogTitle = \"\";\r\n              this.dialogComponent =\r\n                \"product-definition/pd-framework-def/pd-structure-def/program-def\";\r\n              break;\r\n          }\r\n\r\n        // this.$router.push({name: '', query: {showPageFlag: '1'},params:this.pdInfo})\r\n      }\r\n    },\r\n    closePageDialog() {\r\n      this.dialogShow = false;\r\n      this.dialogComponent = \"\";\r\n    }\r\n  },\r\n  watch: {\r\n    \"gridParams.eq_pdCode\"() {\r\n      if (!this.gridParams.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams.eq_pdCode = \"\";\r\n        this.gridParams.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    \"gridParams2.eq_pdCode\"() {\r\n      if (!this.gridParams2.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams2.eq_pdCode = \"\";\r\n        this.gridParams2.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    \"gridParams3.eq_pdCode\"() {\r\n      if (!this.gridParams3.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams3.eq_pdCode = \"\";\r\n        this.gridParams3.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    configs2: function() {\r\n      if (this.configs2.length > 0) {\r\n        this.pdRelaValFilters = [];\r\n        this.configs2.forEach(val => {\r\n          this.pdRelaValFilters.push({\r\n            text: this.getCodeName(\r\n              \"insuranceRelationship\",\r\n              val.pdtempPdRela.pdRelaVal\r\n            ),\r\n            value: val.pdtempPdRela.pdRelaVal\r\n          });\r\n        });\r\n        //\r\n        this.pdRelaValFilters = this.pdRelaValFilters.reduce(function(\r\n          prev,\r\n          element\r\n        ) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        },\r\n        []);\r\n      }\r\n      if (this.configs2.length == 1) {\r\n        this.selectedChanged2Change(this.configs2[0]);\r\n        this.selectedDef2 = this.configs2[0].pdtempPdRela;\r\n      }\r\n    },\r\n    configs3() {\r\n      if (this.configs3.length == 1) {\r\n        this.selectedPdNbINfoChanged(this.configs3[0]);\r\n        this.$refs.configs3.setCurrentRow(this.configs3[0]);\r\n        this.selectedDef3 = this.configs3[0].pdtempPdRela;\r\n      }\r\n    },\r\n    \"searchForm2.pdRelaItemVal\": function(newName, oldName) {\r\n      if (\r\n        this.searchForm2.pdRelaItemVal != \"\" &&\r\n        this.searchForm2.pdRelaItemVal != null\r\n      ) {\r\n        //\r\n        let back2 = \"\";\r\n        back2 = pdtempPdClsLabList(this.searchForm2.pdInfoId);\r\n        back2.then(response => {\r\n          if (response.code == 200) {\r\n            for (let i = 0; i < response.data.length; i++) {\r\n              if (response.data[i].pdClsType == 2) {\r\n                if (\r\n                  response.data[i].pdCls5 == \"R\" ||\r\n                  response.data[i].pdCls5 == \"N\"\r\n                ) {\r\n                  //\r\n                  this.searchForm2.pdRelaVal = \"01\"; //\r\n                } else {\r\n                  this.searchForm2.pdRelaVal = \"02\"; //\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    \"searchForm2.pdRelaVal\": function(newName, oldName) {\r\n      if (this.searchForm2.pdRelaVal == \"01\") {\r\n        this.searchForm2.flag = false; //\r\n      } else {\r\n        this.searchForm2.pdIndpRider = false; //\r\n        this.searchForm2.flag = true; //\r\n      }\r\n    },\r\n    \"searchForm3.pdRelaCate\": async function(newName, oldName) {\r\n      debugger;\r\n      if (\r\n        this.searchForm3.pdRelaCate != \"\" &&\r\n        this.searchForm3.pdRelaCate != null\r\n      ) {\r\n        //\r\n        let back2 = \"\";\r\n        this.options3 = [];\r\n        if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n          const paramsMap = {\r\n            productId: this.product.id\r\n          };\r\n          let releasedProductList = [];\r\n          releasedProductList = (\r\n            await programmeQuery(this.buildRequestData(paramsMap))\r\n          ).data.records;\r\n          this.options3 = [];\r\n          this.arr = [];\r\n          for (let i = 0; i < releasedProductList.length; i++) {\r\n            for (let j = 0; j < releasedProductList[i].benefit.length; j++) {\r\n              if (releasedProductList[i].benefit[j].pdBnftType == \"C\") {\r\n                this.options3.push({\r\n                  key: releasedProductList[i].programmeCode,\r\n                  value: releasedProductList[i].programmeName\r\n                });\r\n                this.arr.push(releasedProductList[i]);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n          const paramsMap = {\r\n            eq_pdInfoId: this.product.id,\r\n            eq_pdBnftType: \"C\"\r\n          };\r\n          let releasedProductList = [];\r\n          releasedProductList = (\r\n            await pdtempPdBnftQuery(this.buildRequestData(paramsMap))\r\n          ).data.records;\r\n          this.options3 = [];\r\n          for (let i = 0; i < releasedProductList.length; i++) {\r\n            this.options3.push({\r\n              key: releasedProductList[i].pdBnftCode,\r\n              value: releasedProductList[i].pdBnftName\r\n            });\r\n          }\r\n        }\r\n        if (this.options3.length == 1) {\r\n          this.searchForm3.pdItemVal = this.options3[0].key;\r\n        }\r\n      } else {\r\n        this.options3 = [];\r\n        this.searchForm3.pdItemVal = \"\";\r\n      }\r\n    },\r\n    \"searchForm3.pdRelaVal\": async function(newName, oldName) {\r\n      //\r\n      if (\r\n        this.searchForm3.pdRelaVal != \"\" &&\r\n        this.searchForm3.pdRelaVal != null\r\n      ) {\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n            this.searchForm3.pdRelaItemVal11 =\"\"\r\n            this.exemptionContent = this.$t('pdtempPdNbInfo.pdTitele');\r\n        } else {\r\n          this.exemptionContent = this.$t('pdtempPdNbInfo.pdProg');\r\n        }\r\n      } else {\r\n          this.searchForm3.pdRelaItemVal =\"\"\r\n    \r\n        // this.options4 = [];\r\n        //this.searchForm3.pdRelaItemVal = \"\";\r\n        // this.searchForm3.pdInfoId='';\r\n      }\r\n    },\r\n    pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.pdSaleChanlDisabledCodeArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n              allCodes = allCodes.filter(code => {\r\n                return code !== \"00\";\r\n              });\r\n          this.pdSaleChanlDisabledCodeArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.pdSaleChanlDisabledCodeArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    questEdit_pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.questEditArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== \"00\";\r\n          });\r\n          this.questEditArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.questEditArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    impartEdit_pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.impartEditArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== \"00\";\r\n          });\r\n          this.impartEditArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.impartEditArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    \"gridParams.pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams.pdStartDate = val[0];\r\n        this.gridParams.pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams.pdStartDate = \"\";\r\n        this.gridParams.pdStopDate = \"\";\r\n      }\r\n    },\r\n    \"gridParams3.eq_pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams3.eq_pdStartDate = val[0];\r\n        this.gridParams3.eq_pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams3.eq_pdStartDate = \"\";\r\n        this.gridParams3.eq_pdStopDate = \"\";\r\n      }\r\n    },\r\n    \"gridParams2.eq_pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams2.pdStartDate = val[0];\r\n        this.gridParams2.pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams2.pdStartDate = \"\";\r\n        this.gridParams2.pdStopDate = \"\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.showDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n</style>\r\n"]}]}
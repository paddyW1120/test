{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\RightPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\RightPanel.vue","mtime":1609847106590},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAndXRpbCcNCmltcG9ydCB7IGlzTnVtYmVyU3RyIH0gZnJvbSAnQC91dGlscy9pbmRleCcNCg0KDQovLyDkvb9jaGFuZ2VSZW5kZXJLZXnlnKjnm67moIfnu4Tku7bmlLnlj5jml7blj6/nlKgNCmNvbnN0IG5lZWRSZXJlbmRlckxpc3QgPSBbJ3RpbnltY2UnXQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbJ3Nob3dGaWVsZCcsICdhY3RpdmVEYXRhJywgJ2Zvcm1Db25mJ10sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnRUYWI6ICdmaWVsZCcsDQogICAgICBjdXJyZW50Tm9kZTogbnVsbCwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgaWNvbnNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGN1cnJlbnRJY29uTW9kZWw6IG51bGwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQoNCiAgfSwNCiAgd2F0Y2g6IHsNCg0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2hvd0Zvcm0oKXsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZURhdGEuY29uZmlnLnZhbFR5cGUgPT09ICcyJykgew0KICAgICAgICB0aGlzLmFjdGl2ZURhdGEuc2xvdC5vcHRpb25zID0gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZFNlbGVjdEl0ZW0oKSB7DQogICAgICBpZiAoIXRoaXMuYWN0aXZlRGF0YS5zbG90Lm9wdGlvbnMpew0KICAgICAgICB0aGlzLmFjdGl2ZURhdGEuc2xvdC5vcHRpb25zPSBbXQ0KICAgICAgfQ0KICAgICAgdGhpcy5hY3RpdmVEYXRhLnNsb3Qub3B0aW9ucy5wdXNoKHsNCiAgICAgICAgbGFiZWw6ICcnLA0KICAgICAgICB2YWx1ZTogJycNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZXRPcHRpb25WYWx1ZShpdGVtLCB2YWwpIHsNCiAgICAgIGl0ZW0udmFsdWUgPSBpc051bWJlclN0cih2YWwpID8gK3ZhbCA6IHZhbA0KICAgIH0sDQogICAgc2V0RGVmYXVsdFZhbHVlKHZhbCkgew0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgew0KICAgICAgICByZXR1cm4gdmFsLmpvaW4oJywnKQ0KICAgICAgfQ0KICAgICAgLy8gaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHZhbCkgPiAtMSkgew0KICAgICAgLy8gICByZXR1cm4gdmFsDQogICAgICAvLyB9DQogICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7DQogICAgICAgIHJldHVybiBgJHt2YWx9YA0KICAgICAgfQ0KICAgICAgcmV0dXJuIHZhbA0KICAgIH0sDQogICAgb25EZWZhdWx0VmFsdWVJbnB1dChzdHIpIHsNCiAgICAgIGlmIChpc0FycmF5KHRoaXMuYWN0aXZlRGF0YS5jb25maWcuZGVmYXVsdFZhbHVlKSkgew0KICAgICAgICAvLyDmlbDnu4QNCiAgICAgICAgdGhpcy4kc2V0KA0KICAgICAgICAgIHRoaXMuYWN0aXZlRGF0YS5jb25maWcsDQogICAgICAgICAgJ2RlZmF1bHRWYWx1ZScsDQogICAgICAgICAgc3RyLnNwbGl0KCcsJykubWFwKHZhbCA9PiAoaXNOdW1iZXJTdHIodmFsKSA/ICt2YWwgOiB2YWwpKQ0KICAgICAgICApDQogICAgICB9IGVsc2UgaWYgKFsndHJ1ZScsICdmYWxzZSddLmluZGV4T2Yoc3RyKSA+IC0xKSB7DQogICAgICAgIC8vIOW4g+WwlA0KICAgICAgICB0aGlzLiRzZXQodGhpcy5hY3RpdmVEYXRhLmNvbmZpZywgJ2RlZmF1bHRWYWx1ZScsIEpTT04ucGFyc2Uoc3RyKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOWtl+espuS4suWSjOaVsOWtlw0KICAgICAgICB0aGlzLiRzZXQoDQogICAgICAgICAgdGhpcy5hY3RpdmVEYXRhLmNvbmZpZywNCiAgICAgICAgICAnZGVmYXVsdFZhbHVlJywNCiAgICAgICAgICBpc051bWJlclN0cihzdHIpID8gK3N0ciA6IHN0cg0KICAgICAgICApDQogICAgICB9DQogICAgfSwNCiAgICB0YWdDaGFuZ2UodGFnSWNvbikgew0KICAgICAgbGV0IHRhcmdldCA9IGlucHV0Q29tcG9uZW50cy5maW5kKGl0ZW0gPT4gaXRlbS5jb25maWcudGFnSWNvbiA9PT0gdGFnSWNvbikNCiAgICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSBzZWxlY3RDb21wb25lbnRzLmZpbmQoaXRlbSA9PiBpdGVtLmNvbmZpZy50YWdJY29uID09PSB0YWdJY29uKQ0KICAgICAgdGhpcy4kZW1pdCgndGFnLWNoYW5nZScsIHRhcmdldCkNCiAgICB9LA0KICAgIGNoYW5nZVJlbmRlcktleSgpIHsNCiAgICAgIGlmIChuZWVkUmVyZW5kZXJMaXN0LmluY2x1ZGVzKHRoaXMuYWN0aXZlRGF0YS5jb25maWcudGFnKSkgew0KICAgICAgICB0aGlzLmFjdGl2ZURhdGEuY29uZmlnLnJlbmRlcktleSA9ICtuZXcgRGF0ZSgpDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["RightPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RightPanel.vue","sourceRoot":"src/views/business-general-conf/pdgenlpgelinfo/draggable","sourcesContent":["<template>\r\n  <div class=\"right-board\">\r\n    <el-tabs v-model=\"currentTab\" class=\"center-tabs\">\r\n      <el-tab-pane :label=\"$t('route.components')\" name=\"field\" />\r\n    </el-tabs>\r\n    <div class=\"field-box\">\r\n      <el-scrollbar class=\"right-scrollbar\">\r\n        <!-- 组件属性 -->\r\n        <el-form v-show=\"currentTab==='field' && showField\" size=\"small\" label-width=\"90px\">\r\n          <el-form-item v-if=\"activeData.vModel!==undefined\" :label=\"$t('i18nView.fieldName')\">\r\n            <el-input v-model=\"activeData.vModel\" placeholder=\"$t('i18nView.pleaseInputCharName')（v-model）\" />\r\n          </el-form-item>\r\n          <el-form-item v-if=\"activeData.config.componentName!==undefined\" :label=\"$t('i18nView.componentName')\">\r\n            {{ activeData.config.componentName }}\r\n          </el-form-item>\r\n          <el-form-item v-if=\"activeData.config.label!==undefined\" :label=\"$t('i18nView.ChTitle')\">\r\n            <el-input v-model=\"activeData.config.label\" :placeholder=\"$t('i18nView.pleaseInputCHTitle')\" @input=\"changeRenderKey\" />\r\n          </el-form-item>\r\n\r\n          <el-form-item v-if=\"activeData.config.enLabel!==undefined\" :label=\"$t('i18nView.EnTitle')\">\r\n            <el-input v-model=\"activeData.config.enLabel\" :placeholder=\"$t('i18nView.pleaseInputENTitle')\" @input=\"changeRenderKey\" />\r\n          </el-form-item>\r\n\r\n          <el-form-item v-if=\"activeData.vModel!==undefined\" :label=\"$t('i18nView.defaultValue')\">\r\n            <el-input\r\n              :value=\"setDefaultValue(activeData.config.defaultValue)\"\r\n              :placeholder=\"$t('i18nView.pleaseInputDefaultValue')\"\r\n              @input=\"onDefaultValueInput\"\r\n            />\r\n          </el-form-item>\r\n\r\n\r\n\r\n          <template v-if=\"['el-checkbox-group', 'el-radio-group', 'el-select'].indexOf(activeData.config.tag) > -1\">\r\n            <el-divider>{{$t('i18nView.option')}}</el-divider>\r\n            <el-radio-group style=\"margin-left: 5px;margin-top: 5px;\"  v-model=\"activeData.config.valType\" @change=\"showForm\">\r\n                              <el-radio label=\"2\">{{$t('i18nView.tabSQL')}}</el-radio>\r\n                              <el-radio label=\"3\">{{$t('pdgenlPgElInfo.custom')}}</el-radio>\r\n            </el-radio-group>\r\n\r\n            <el-input style=\"margin-top: 5px;\" v-if=\"activeData.config.valType === '2'\" v-model=\"activeData.config.codeSql\"\r\n                                      type=\"textarea\"\r\n                                      :rows=\"3\"\r\n                                      :placeholder=\"$t('pdgenlPgElInfo.pleaseInput') + $t('pdgenlPgElInfo.sql')\">\r\n            </el-input>\r\n\r\n            <draggable\r\n              :list=\"activeData.slot.options\"\r\n              :animation=\"340\"\r\n              group=\"selectItem\"\r\n              handle=\".option-drag\"\r\n              v-if=\"activeData.config.valType === '3'\" style=\"margin-left: 5px;margin-top: 3px;\"\r\n            >\r\n              <div v-for=\"(item, index) in activeData.slot.options\" :key=\"index\" class=\"select-item\">\r\n                <div class=\"select-line-icon option-drag\">\r\n                  <i class=\"el-icon-s-operation\" />\r\n                </div>\r\n                <el-input v-model=\"item.label\" :placeholder=\"$t('i18nView.optionName')\" size=\"small\" />\r\n                <el-input\r\n                  :placeholder=\"$t('i18nView.optionValue')\"\r\n                  size=\"small\"\r\n                  :value=\"item.value\"\r\n                  @input=\"setOptionValue(item, $event)\"\r\n                />\r\n                <div class=\"close-btn select-line-icon\" @click=\"activeData.slot.options.splice(index, 1)\">\r\n                  <i class=\"el-icon-remove-outline\" />\r\n                </div>\r\n              </div>\r\n            </draggable>\r\n            <div style=\"margin-left: 20px;\"  v-if=\"activeData.config.valType === '3'\">\r\n              <el-button  size=\"small\"\r\n                style=\"padding-bottom: 0\"\r\n                icon=\"el-icon-circle-plus-outline\"\r\n                type=\"text\"\r\n                @click=\"addSelectItem\"\r\n              >\r\n                {{$t('i18nView.addOption')}}\r\n              </el-button>\r\n            </div>\r\n\r\n            <el-divider />\r\n\r\n          </template>\r\n\r\n          <el-form-item v-if=\"activeData.readonly !== undefined\" :label=\"$t('i18nView.isOnlyRead')\">\r\n            <el-switch v-model=\"activeData.readonly\" />\r\n          </el-form-item>\r\n\r\n          <el-form-item v-if=\"activeData.config.required !== undefined\" :label=\"$t('i18nView.isMustFill')\">\r\n            <el-switch v-model=\"activeData.config.required\" />\r\n          </el-form-item>\r\n\r\n\r\n        </el-form>\r\n      </el-scrollbar>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { isArray } from 'util'\r\nimport { isNumberStr } from '@/utils/index'\r\n\r\n\r\n// 使changeRenderKey在目标组件改变时可用\r\nconst needRerenderList = ['tinymce']\r\n\r\nexport default {\r\n  props: ['showField', 'activeData', 'formConf'],\r\n  data() {\r\n    return {\r\n      currentTab: 'field',\r\n      currentNode: null,\r\n      dialogVisible: false,\r\n      iconsVisible: false,\r\n      currentIconModel: null\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  methods: {\r\n    showForm(){\r\n      if (this.activeData.config.valType === '2') {\r\n        this.activeData.slot.options = []\r\n      }\r\n    },\r\n    addSelectItem() {\r\n      if (!this.activeData.slot.options){\r\n        this.activeData.slot.options= []\r\n      }\r\n      this.activeData.slot.options.push({\r\n        label: '',\r\n        value: ''\r\n      })\r\n    },\r\n    setOptionValue(item, val) {\r\n      item.value = isNumberStr(val) ? +val : val\r\n    },\r\n    setDefaultValue(val) {\r\n      if (Array.isArray(val)) {\r\n        return val.join(',')\r\n      }\r\n      // if (['string', 'number'].indexOf(typeof val) > -1) {\r\n      //   return val\r\n      // }\r\n      if (typeof val === 'boolean') {\r\n        return `${val}`\r\n      }\r\n      return val\r\n    },\r\n    onDefaultValueInput(str) {\r\n      if (isArray(this.activeData.config.defaultValue)) {\r\n        // 数组\r\n        this.$set(\r\n          this.activeData.config,\r\n          'defaultValue',\r\n          str.split(',').map(val => (isNumberStr(val) ? +val : val))\r\n        )\r\n      } else if (['true', 'false'].indexOf(str) > -1) {\r\n        // 布尔\r\n        this.$set(this.activeData.config, 'defaultValue', JSON.parse(str))\r\n      } else {\r\n        // 字符串和数字\r\n        this.$set(\r\n          this.activeData.config,\r\n          'defaultValue',\r\n          isNumberStr(str) ? +str : str\r\n        )\r\n      }\r\n    },\r\n    tagChange(tagIcon) {\r\n      let target = inputComponents.find(item => item.config.tagIcon === tagIcon)\r\n      if (!target) target = selectComponents.find(item => item.config.tagIcon === tagIcon)\r\n      this.$emit('tag-change', target)\r\n    },\r\n    changeRenderKey() {\r\n      if (needRerenderList.includes(this.activeData.config.tag)) {\r\n        this.activeData.config.renderKey = +new Date()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.right-board {\r\n  width: 350px;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  padding-top: 3px;\r\n  .field-box {\r\n    position: relative;\r\n    height: calc(100vh - 42px);\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n  }\r\n  .el-scrollbar {\r\n    height: 100%;\r\n  }\r\n}\r\n.select-item {\r\n  display: flex;\r\n  border: 1px dashed #fff;\r\n  box-sizing: border-box;\r\n  & .close-btn {\r\n    cursor: pointer;\r\n    color: #f56c6c;\r\n  }\r\n  & .el-input + .el-input {\r\n    margin-left: 4px;\r\n  }\r\n}\r\n.select-item + .select-item {\r\n  margin-top: 4px;\r\n}\r\n.select-item.sortable-chosen {\r\n  border: 1px dashed #409eff;\r\n}\r\n.select-line-icon {\r\n  line-height: 32px;\r\n  font-size: 22px;\r\n  padding: 0 4px;\r\n  color: #777;\r\n}\r\n.option-drag {\r\n  cursor: move;\r\n}\r\n.time-range {\r\n  .el-date-editor {\r\n    width: 227px;\r\n  }\r\n  ::v-deep .el-icon-time {\r\n    display: none;\r\n  }\r\n}\r\n.document-link {\r\n  position: absolute;\r\n  display: block;\r\n  width: 26px;\r\n  height: 26px;\r\n  top: 0;\r\n  left: 0;\r\n  cursor: pointer;\r\n  background: #409eff;\r\n  z-index: 1;\r\n  border-radius: 0 0 6px 0;\r\n  text-align: center;\r\n  line-height: 26px;\r\n  color: #fff;\r\n  font-size: 18px;\r\n}\r\n.node-label{\r\n  font-size: 14px;\r\n}\r\n.node-icon{\r\n  color: #bebfc3;\r\n}\r\n</style>\r\n"]}]}
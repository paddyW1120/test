{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\obperiod-deductible-limit\\obperiod\\clm-obperiod\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\obperiod-deductible-limit\\obperiod\\clm-obperiod\\index.vue","mtime":1609847106554},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpsZXQgX3RoaXM7DQppbXBvcnQgew0KICBkZWxldGVPYkJuZnRGb3JtLA0KICBmaW5kQm5mdE9wdGlvbnMsDQogIGZpbmRCdXNpbmVzc0l0ZW1CeUN0cmxDb2RlMSwNCiAgZmluZENsbUJuZnRPcHRpb25zLA0KICBzYXZlUGR0ZW1wQ2xtQ3RybExpbSwNCiAgc2VsZWN0Ym5mdENvZGUsDQogIHNlbGVjdGJuZnRpbmZvQ29kZSwNCn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY2xtYm5mdCI7DQppbXBvcnQge3BkdGVtcFBkQ2xzTGFiTGlzdH0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL1Byb2R1Y3RBdHRyaWJ1dGVEZWZpbml0aW9uIjsNCmltcG9ydCBjbG1DdHJsRm9ybXVsYSBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9jbG0tZm9ybXVsYS9jbG1DdHJsRm9ybXVsYS9pbmRleCI7DQppbXBvcnQgY2xtQ3RybEZvcm11bGFTZWxlY3QgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vY2xtLWZvcm11bGEvY2xtQ3RybEZvcm11bGFTZWxlY3QvaW5kZXgiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJwZHRlbXBwZG9icGVyaW9kIiwNCiAgY29tcG9uZW50czoge2NsbUN0cmxGb3JtdWxhLCBjbG1DdHJsRm9ybXVsYVNlbGVjdH0sDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRCbmZ0Q3RybExpbUxldmVsKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnbGltaXRsZXZlbCcsIGNvZGUpOw0KICAgIH0sDQogICAgZmlsdGVyX3BkQm5mdFJ1bGVPYnNlcnZhdGlvblVuaXQoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJwZHNibmZ0ZHkiLCBjb2RlLCB0cnVlKTsNCiAgICB9LA0KICAgIGZpbHRlcl9wZEJuZnRDdW1UeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGRCbmZ0Q3VtVHlwZSIsIGNvZGUpOw0KICAgIH0sDQogICAgZmlsdGVyX3BkQm5mdEN1bUZyZXF1ZW5jeShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInBkQm5mdEN1bUZyZXF1ZW5jeSIsIGNvZGUpOw0KICAgIH0sDQogICAgZmlsdGVyX3BkQm5mdEZhY3RvckxpbVZhbHVlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGRPYlBlcmlvZFN0YXJ0UnVsZSIsIGNvZGUpOw0KICAgIH0sDQogIH0sDQogIHByb3BzOiB7DQogICAgbW9yZVR5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfSwNCiAgICBibmZ0Rm9ybTE6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6IHt9LA0KICAgIH0sDQogICAgY29uZmlnc0Zvcm06IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6IHt9LA0KICAgIH0sDQogICAgcGRCbmZ0QXJyOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgfSwNCiAgICB9LA0KICAgIHBkQ2xtQm5mdEFycjogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiBbXSwNCiAgICB9LA0KICAgIHNob3dPYlBlcmlvZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgX3RoaXMgPSB0aGlzOw0KICAgIHJldHVybiB7DQogICAgICBwZEJuZnRMaXN0OiBbXSwNCiAgICAgIENsbUJuZnQ6IFtdLA0KICAgICAgQ2xtQm5mdExpc3Q6IFtdLA0KICAgICAgcGRCbmZ0T3B0aW9uczogW10sDQogICAgICBwYXJhbXM6IHsNCiAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy5ibmZ0Rm9ybTEucGRCbmZ0Q29kZSwNCiAgICAgICAgcGRCbmZ0Q3RybFR5cGU6ICdPJywNCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsTGlzdDogbnVsbCwNCiAgICAgICAgcGRDbG1CbmZ0Q29kZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlLA0KICAgICAgICBwZEluZm9JZDogbnVsbCwNCiAgICAgIH0sDQogICAgICBwZHRlbXBQZEluZm86IHt9LA0KICAgICAgc2VsZWN0ZWRDbG1DdHJsOiB7fSwNCiAgICAgIHBkVHlwZTogbnVsbCwNCiAgICAgIHJhZGlvMjogbnVsbCwNCiAgICAgIGJuZnRGb3JtOiB7DQogICAgICAgIHBkQm5mdEZhY3RvckxpbVZhbHVlOiBudWxsLA0KICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTogbnVsbCwNCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsOiBudWxsLA0KICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTE6IG51bGwsDQogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlMjogbnVsbCwNCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWUzOiBudWxsLA0KICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZVVuaXQ6ICdEJywNCiAgICAgICAgcGRCbmZ0Q3VtVHlwZTogbnVsbCwNCiAgICAgICAgcGRCbmZ0Q3VtRnJlcXVlbmN5OiAnMicsDQogICAgICAgIHBkQm5mdEN0cmxDb25Db2RlOiBbXSwNCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsMTogJycsDQogICAgICAgIHBkQ2xtQm5mdENvZGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGR0ZW1wUGRCbmZ0OiBbXSwNCiAgICAgICAgcGR0ZW1wUGRCbmZ0TGlzdDogW10sDQogICAgICAgIHBkQm5mdEN0cmxDb25Db2RlTGlzdDogW10NCiAgICAgIH0sDQogICAgICBwZEJuZnRSdWxlT2JzZXJ2YXRpb25Vbml0OiAiMSRZJE0kRCIsDQogICAgICBmZWVDb25maWdzOiBbXSwNCiAgICAgIHBlcmlvZENvbmZpZ3M6IFtdLA0KICAgICAgT3B0aW9uczogW10sDQogICAgICBibmZ0T3B0aW9uczogW10sDQogICAgICBjb25CbmZ0T3B0aW9uczogW10sDQogICAgICBDbG1CbmZ0T3B0aW9uczogW10sDQogICAgICBjdXNPYnBlcmlvZDogZmFsc2UsDQogICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAiIiwNCiAgICAgIGZvcm11bGFWaXNpYmxlOiAiIiwNCiAgICAgIGZvcm11bGFTZWxlY3RWaXNpYmxlOiAiIiwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBkQm5mdEN0cmxMaW1MZXZlbDogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwYXlfZGVmLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyAn6ZmQ5Yi257qn5YirJywNCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgfV0sDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBpZiAoIXRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZSkgew0KICAgICAgdGhpcy5wYXJhbXMucGRCbmZ0Q3RybExpbUxldmVsTGlzdCA9ICc1Jw0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGltTGV2ZWwgPSAnNScNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5wYXJhbXMucGRCbmZ0Q3RybExpbUxldmVsTGlzdCA9ICcxMycNCiAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybExpbUxldmVsMSA9ICcxMycNCiAgICB9DQogICAgdGhpcy5wZHRlbXBQZEluZm8gPSB0aGlzLmdldFBkRGF0YSgpOw0KICAgIHRoaXMucGFyYW1zLnBkSW5mb0lkID0gdGhpcy5wZHRlbXBQZEluZm8uaWQNCiAgICBhd2FpdCB0aGlzLmZpbmRUeXBlUmVnaW9uKCk7DQogICAgdGhpcy5maW5kcGVyaW9kQ29uZmlncygpOw0KICAgIHRoaXMuZmluZE9wdGlvbnMoKTsNCiAgICB0aGlzLmZpbmRibmZ0Q29kZSgpOw0KICAgIHRoaXMuZmluZENvbkJuZnRDb2RlKCk7DQogICAgdGhpcy5maW5kYm5mdGluZm9Db2RlKCk7DQogICAgdGhpcy4kcmVmcy5wYWdlX08ucmVsb2FkKCk7DQoNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBzaG93T2JQZXJpb2Q6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLnNob3dPYlBlcmlvZCA9PSB0cnVlKSB7DQogICAgICAgIHRoaXMuZmluZHBlcmlvZENvbmZpZ3MoKTsNCiAgICAgICAgdGhpcy5jbGVhbkJuZnRGb3JtKCk7DQogICAgICAgIHRoaXMuJHJlZnMucGFnZV9PLnJlbG9hZCgpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBicmluZ0luQ2FsY0NvZGUocGRCdXNzSWQsIGNhbGNDb2RlKSB7DQogICAgICBmb3IgKGNvbnN0IG9iIG9mIHRoaXMucGVyaW9kQ29uZmlncykgew0KICAgICAgICBpZiAob2IuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICB0aGlzLiRzZXQob2IsICJwZEJuZnRGYWN0b3JWYWx1ZUNhbENvZGUiLCBjYWxjQ29kZSk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmJuZnRGb3JtLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlID0gY2FsY0NvZGU7DQogICAgICB9DQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX0NsbUN0cmxGb3JtdWxhKHZpc2libGUpIHsNCiAgICAgIHRoaXMuZm9ybXVsYVZpc2libGUgPSB2aXNpYmxlOw0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9DbG1DdHJsRm9ybXVsYVNlbGVjdCh2aXNpYmxlKSB7DQogICAgICB0aGlzLmZvcm11bGFTZWxlY3RWaXNpYmxlID0gdmlzaWJsZTsNCiAgICAgIGlmICh2aXNpYmxlID09PSBmYWxzZSkgew0KICAgICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gdHJ1ZTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICB0b0Zvcm11bGEoKSB7DQogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZENsbUN0cmwpLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7fpgInmi6nkuIDmnaHop4Llr5/mnJ8iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuY29uZmlnc0Zvcm0uaWQpIHsNCiAgICAgICAgdGhpcy5wZEJ1c3NEZXRhaWxUeXBlID0gIjIyIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGRCdXNzRGV0YWlsVHlwZSA9ICI2NSI7DQogICAgICB9DQogICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIHRvVGFibGVGb3JtdWxhKHJvdyl7DQogICAgICB0aGlzLnNlbGVjdGVkQ2xtQ3RybCA9IHJvdzsNCiAgICAgIGlmICh0aGlzLmNvbmZpZ3NGb3JtLmlkKSB7DQogICAgICAgIHRoaXMucGRCdXNzRGV0YWlsVHlwZSA9ICIyMiI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnBkQnVzc0RldGFpbFR5cGUgPSAiNjUiOw0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICBhc3luYyBmaW5kVHlwZVJlZ2lvbigpIHsNCiAgICAgIGF3YWl0IHBkdGVtcFBkQ2xzTGFiTGlzdCh0aGlzLnBkdGVtcFBkSW5mby5pZCkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09PSAiMSIpIHsNCiAgICAgICAgICAgIHRoaXMucGRUeXBlID0gcmVzcG9uc2UuZGF0YVtpXS5wZENsczI7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGZpbmRwZXJpb2RDb25maWdzKCkgew0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIHBkQm5mdEN0cmxUeXBlOiAibyIsDQogICAgICB9Ow0KICAgICAgaWYgKHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZSA9PSBudWxsKSB7DQogICAgICAgIGRhdGEucGRCbmZ0Q29kZSA9IHRoaXMuYm5mdEZvcm0xLnBkQm5mdENvZGU7DQogICAgICAgIGRhdGEucGRCbmZ0Q3RybExldmVsID0gIjEiOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZGF0YS5wZEJuZnRDb2RlID0gdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlOw0KICAgICAgICBkYXRhLnBkQm5mdEN0cmxMZXZlbCA9ICIyIjsNCiAgICAgIH0NCg0KICAgIH0sDQogICAgZmluZE9wdGlvbnMoKSB7DQogICAgICB0aGlzLkNsbUJuZnRPcHRpb25zID0gW107DQogICAgICBmaW5kQ2xtQm5mdE9wdGlvbnMoKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgbGV0IGNsbURhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgY2xtRGF0YS5mb3JFYWNoKChkYXRhKSA9PiB7DQogICAgICAgICAgdGhpcy5DbG1CbmZ0T3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgIHZhbHVlOiBkYXRhLnBkQ2xtQm5mdENvZGUsDQogICAgICAgICAgICBsYWJlbDogZGF0YS5wZENsbUJuZnRDb2RlICsgIjoiICsgZGF0YS5wZENsbUJuZnROYW1lLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgICAgdGhpcy5ibmZ0T3B0aW9ucyA9IFtdOw0KICAgICAgZmluZEJuZnRPcHRpb25zKCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGxldCBibmZ0RGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICBibmZ0RGF0YS5mb3JFYWNoKChkYXRhKSA9PiB7DQogICAgICAgICAgdGhpcy5ibmZ0T3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgIHZhbHVlOiBkYXRhLnBkQm5mdENvZGUsDQogICAgICAgICAgICBsYWJlbDogZGF0YS5wZEJuZnRDb2RlICsgIjoiICsgZGF0YS5wZEJuZnROYW1lLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2hvb3NlT25lKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnJhZGlvMikgew0KICAgICAgICAgIHRoaXMucmFkaW8yID0gbnVsbDsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2xtQ3RybCA9IHt9Ow0KICAgICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlID0gIiI7DQogICAgICAgICAgdGhpcy4kcmVmcy5wZXJpb2RUYWJsZS5zZXRDdXJyZW50Um93KCk7DQogICAgICAgICAgdGhpcy5jbGVhbkJuZnRGb3JtKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZENsbUN0cmwgPSByb3c7DQogICAgICAgICAgdGhpcy5yYWRpbzIgPSByb3cuaWQ7DQogICAgICAgICAgbGV0IGxpc3QgPSBbXTsNCiAgICAgICAgICB0aGlzLmJuZnRGb3JtID0gew0KICAgICAgICAgICAgaWQ6IHJvdy5pZCwNCiAgICAgICAgICAgIHBkQm5mdEZhY3RvckxpbVZhbHVlOiByb3cucGRCbmZ0RmFjdG9yTGltVmFsdWUsDQogICAgICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTogcm93LnBkQm5mdEZhY3RvclZhbHVlLA0KICAgICAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWVVbml0OiByb3cucGRCbmZ0RmFjdG9yVmFsdWVVbml0LA0KICAgICAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlOiByb3cucGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlLA0KICAgICAgICAgICAgcGRCbmZ0Q3VtVHlwZTogcm93LnBkQm5mdEN1bVR5cGUsDQogICAgICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3k6IHJvdy5wZEJuZnRDdW1GcmVxdWVuY3ksDQogICAgICAgICAgICBwZEJuZnRDdHJsQ29kZTogcm93LnBkQm5mdEN0cmxDb2RlLA0KICAgICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGVMaXN0OiBsaXN0LA0KICAgICAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsOiByb3cucGRCbmZ0Q3RybExpbUxldmVsLA0KICAgICAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsMTogcm93LnBkQm5mdEN0cmxMaW1MZXZlbDEsDQogICAgICAgICAgfTsNCiAgICAgICAgICB0aGlzLmZpbmRCdXNpbmVzc0l0ZW1CeUN0cmxDb2RlMSgpOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICB9LA0KICAgIGZpbmRCdXNpbmVzc0l0ZW1CeUN0cmxDb2RlMSgpew0KICAgICAgZmluZEJ1c2luZXNzSXRlbUJ5Q3RybENvZGUxKHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybENvZGUpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgc3dpdGNoICh0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMaW1MZXZlbCkgew0KICAgICAgICAgICAgICBjYXNlICI1IjoNCiAgICAgICAgICAgICAgICB0aGlzLnBkQm5mdE9wdGlvbnMgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZHRlbXBQZEJuZnQgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgIjYiOg0KICAgICAgICAgICAgICAgICB0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdCA9IFtyZXNwb25zZS5kYXRhWzBdXQ0KICAgICAgICAgICAgICAgIHRoaXMuYm5mdEZvcm0ucGR0ZW1wUGRCbmZ0TGlzdCA9IHJlc3BvbnNlLmRhdGEuc2xpY2UoMSxyZXNwb25zZS5kYXRhLmxlbmd0aCkNCiAgICAgICAgICAgICAgICB0aGlzLnBkQm5mdExpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgIjEzIjoNCiAgICAgICAgICAgICAgICB0aGlzLkNsbUJuZnQgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZENsbUJuZnRDb2RlID0gcmVzcG9uc2UuZGF0YVswXQ0KICAgICAgICAgICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybExpbUxldmVsMSA9ICcxMycNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgY2FzZSAiMTQiOg0KICAgICAgICAgICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybENvbkNvZGVMaXN0ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgIHRoaXMuQ2xtQm5mdExpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGltTGV2ZWwxID0gJzE0Jw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VPcHRpb24oKSB7DQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgIH0sDQogICAgc2F2ZUJuZnRGb3JtKHBkQm5mdEN0cmxUeXBlKSB7DQogICAgICBpZiAoIXRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZSkgew0KICAgICAgICBpZiAoIXRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybExpbUxldmVsKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7bWVzc2FnZTogJ+ivt+mAieaLqemZkOWItuetiee6p++8gScsIHR5cGU6ICd3YXJuaW5nJ30pOw0KDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuYm5mdEZvcm0ucGR0ZW1wUGRCbmZ0TGlzdCA9PSBbXSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6ICflhbPogZTkv53pmpzkuI3og73kuLrnqbrvvIzor7flhbPogZTkv53pmpzvvIEnLCB0eXBlOiAnd2FybmluZyd9KTsNCg0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQoNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICghdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGltTGV2ZWwxKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7bWVzc2FnZTogJ+ivt+mAieaLqemZkOWItuetiee6p++8gScsIHR5cGU6ICd3YXJuaW5nJ30pOw0KDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybENvbkNvZGVMaXN0ID09IFtdKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7bWVzc2FnZTogJ+WFs+iBlOS/nemanOaYjue7huS4jeiDveS4uuepuu+8jOivt+WFs+iBlOS/nemanOaYjue7hu+8gScsIHR5cGU6ICd3YXJuaW5nJ30pOw0KDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmJuZnRGb3JtLnBkQm5mdEN1bVR5cGUgPT09ICcxJykgew0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEN1bUZyZXF1ZW5jeSA9IG51bGwNCiAgICAgIH0NCiAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybFR5cGUgPSBwZEJuZnRDdHJsVHlwZQ0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGV2ZWwgPSB0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMaW1MZXZlbA0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGV2ZWwxID0gdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGltTGV2ZWwxDQogICAgICBpZih0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMZXZlbDEpew0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMZXZlbCA9ICcnDQogICAgICB9DQogICAgICB0aGlzLmJuZnRGb3JtLmlkID0gbnVsbA0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIHBkZ2VubENsbUN0cmxWb0ZvckNvbXBlbnNhdGlvbjogdGhpcy5ibmZ0Rm9ybSwNCiAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy5ibmZ0Rm9ybTEucGRCbmZ0Q29kZSwNCiAgICAgICAgcGR0ZW1wUGRJbmZvOiB0aGlzLnBkdGVtcFBkSW5mbywNCiAgICAgICAgcGRDbG1CbmZ0Q29kZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlDQoNCiAgICAgIH0NCiAgICAgIHNhdmVQZHRlbXBDbG1DdHJsTGltKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfTy5yZWxvYWQoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZXJpb2RDb25maWdzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgIGlmICh0aGlzLnBlcmlvZENvbmZpZ3NbaV0ucGRCbmZ0Q3RybENvZGUgPT0gcmVzLmRhdGEucGRCbmZ0Q3RybENvZGUpIHsNCiAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLnBlcmlvZFRhYmxlLnNldEN1cnJlbnRSb3codGhpcy5wZXJpb2RDb25maWdzW2ldKQ0KICAgICAgICAgICAgICAgIHRoaXMucmFkaW8yID0gdGhpcy5wZXJpb2RDb25maWdzW2ldLmlkDQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sdGhpcy5wZXJpb2RDb25maWdzW2ldKQ0KICAgICAgICAgICAgICAgIHRoaXMuZmluZGJuZnRDb2RlKCk7DQogICAgICAgICAgICAgICAgdGhpcy5maW5kYm5mdGluZm9Db2RlKCk7DQogICAgICAgICAgICAgICAgdGhpcy5maW5kQnVzaW5lc3NJdGVtQnlDdHJsQ29kZTEoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQoNCiAgICAgIH0pDQogICAgfSwNCiAgICB1cGRhdGVCbmZ0Rm9ybShwZEJuZnRDdHJsVHlwZSkgew0KICAgICAgaWYgKCF0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENvZGUpIHsNCiAgICAgICAgaWYgKCF0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMaW1MZXZlbCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6ICfor7fpgInmi6npmZDliLbnrYnnuqfvvIEnLCB0eXBlOiAnd2FybmluZyd9KTsNCg0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdExpc3QgPT0gW10pIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHttZXNzYWdlOiAn5YWz6IGU5L+d6Zqc5LiN6IO95Li656m677yM6K+35YWz6IGU5L+d6Zqc77yBJywgdHlwZTogJ3dhcm5pbmcnfSk7DQoNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KDQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoIXRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybExpbUxldmVsMSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6ICfor7fpgInmi6npmZDliLbnrYnnuqfvvIEnLCB0eXBlOiAnd2FybmluZyd9KTsNCg0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxDb25Db2RlTGlzdCA9PSBbXSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6ICflhbPogZTkv53pmpzmmI7nu4bkuI3og73kuLrnqbrvvIzor7flhbPogZTkv53pmpzmmI7nu4bvvIEnLCB0eXBlOiAnd2FybmluZyd9KTsNCg0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdW1UeXBlID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdW1GcmVxdWVuY3kgPSBudWxsDQogICAgICB9DQogICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxUeXBlID0gcGRCbmZ0Q3RybFR5cGUNCiAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q3RybExldmVsID0gdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsTGltTGV2ZWwNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBwZGdlbmxDbG1DdHJsVm9Gb3JDb21wZW5zYXRpb246IHRoaXMuYm5mdEZvcm0sDQogICAgICAgIHBkQm5mdENvZGU6IHRoaXMuYm5mdEZvcm0xLnBkQm5mdENvZGUsDQogICAgICAgIHBkdGVtcFBkSW5mbzogdGhpcy5wZHRlbXBQZEluZm8sDQogICAgICAgIHBkQ2xtQm5mdENvZGU6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZQ0KDQogICAgICB9DQogICAgICBzYXZlUGR0ZW1wQ2xtQ3RybExpbSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ+abtOaWsOaIkOWKnycpOw0KICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlX08ucmVsb2FkKCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGVyaW9kQ29uZmlncy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wZXJpb2RDb25maWdzW2ldLnBkQm5mdEN0cmxDb2RlID09IHJlcy5kYXRhLnBkQm5mdEN0cmxDb2RlKSB7DQogICAgICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5wZXJpb2RUYWJsZS5zZXRDdXJyZW50Um93KHRoaXMucGVyaW9kQ29uZmlnc1tpXSkNCiAgICAgICAgICAgICAgICB0aGlzLnJhZGlvMiA9IHRoaXMucGVyaW9kQ29uZmlnc1tpXS5pZA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBjbGVhbkJuZnRGb3JtKCkgew0KICAgICAgdGhpcy4kcmVmc1siYm5mdEZvcm0iXS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy5yYWRpbzIgPSBudWxsOw0KICAgICAgdGhpcy4kcmVmcy5wZXJpb2RUYWJsZS5zZXRDdXJyZW50Um93KCk7DQogICAgICB0aGlzLmN1c09icGVyaW9kID0gZmFsc2U7DQogICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxMaW1MZXZlbDEgPSAnJzsNCiAgICAgIHRoaXMuQ2xtQm5mdExpc3QgPSBbXTsNCiAgICAgIHRoaXMuZmluZGJuZnRDb2RlKCk7DQogICAgICB0aGlzLmZpbmRibmZ0aW5mb0NvZGUoKTsNCiAgICB9LA0KICAgIGRlbGV0ZUJuZnRGb3JtKHJvdykgew0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIHBkQm5mdEN0cmxDb2RlOiByb3cucGRCbmZ0Q3RybENvZGUsDQogICAgICB9Ow0KICAgICAgZGVsZXRlT2JCbmZ0Rm9ybSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgic3VjY2Vzc01lc3NhZ2UuZGVsZXRlIikpOw0KICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfTy5yZWxvYWQoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYmFja1RvTWVudSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImJhY2tUb0ZlZUJpbGwiLCAiYm5mdCIpOw0KICAgIH0sDQogICAgb3BlbkNob29zZURpYWxvZygpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3Nob3dGZWVCaWxsVHlwZUZsYWcnLCAnYm5mdDUnKQ0KICAgIH0sDQogICAgb3BlbkNob29zZURpYWxvZzEoKSB7DQogICAgICB0aGlzLiRlbWl0KCdzaG93RmVlQmlsbFR5cGVGbGFnJywgJ2JuZnQ2JykNCiAgICB9LA0KICAgIGZpbmRibmZ0Q29kZSgpIHsNCiAgICAgIGxldCBwYXJhbXM7DQogICAgICBpZih0aGlzLmJuZnRGb3JtMS5wZEJuZnRDb2RlKXsNCiAgICAgICAgcGFyYW1zID0ge3BkQm5mdENvZGU6IHRoaXMuYm5mdEZvcm0xLnBkQm5mdENvZGV9DQogICAgICB9ZWxzZXsNCiAgICAgICAgcGFyYW1zID0ge3BkSW5mb0lkOiB0aGlzLnBkdGVtcFBkSW5mby5pZH0NCiAgICAgIH0NCiAgICAgIHNlbGVjdGJuZnRDb2RlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5wZEJuZnRPcHRpb25zID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdCA9IFtdOw0KICAgICAgICBpZih0aGlzLmJuZnRGb3JtMS5wZEJuZnRDb2RlKXsNCiAgICAgICAgICB0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdC5wdXNoKHJlc3BvbnNlLmRhdGFbMF0pDQogICAgICAgIH0NCg0KICAgICAgfSkNCiAgICB9LA0KICAgIGZpbmRDb25CbmZ0Q29kZSgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7cGRJbmZvSWQ6IHRoaXMucGR0ZW1wUGRJbmZvLmlkfQ0KICAgICAgc2VsZWN0Ym5mdENvZGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmNvbkJuZnRPcHRpb25zID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGZpbmRibmZ0aW5mb0NvZGUoKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7cGRDbG1CbmZ0Q29kZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlfQ0KICAgICAgc2VsZWN0Ym5mdGluZm9Db2RlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5DbG1CbmZ0ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkQ2xtQm5mdENvZGUgPSByZXNwb25zZS5kYXRhWzBdDQogICAgICB9KQ0KICAgIH0sDQogICAgYnJpbmdTZWxlY3RlZFBkQ2xtQm5mdE1vcmVCaWxsKHNlbGVjdGVkSXRlbUxpc3QpIHsNCiAgICAgIHRoaXMuYm5mdEZvcm0ucGR0ZW1wUGRCbmZ0TGlzdCA9IFtdDQogICAgICB0aGlzLnBkQm5mdExpc3QgPSBbXQ0KICAgICAgZm9yIChjb25zdCBzZWxlY3RlZEl0ZW0gb2Ygc2VsZWN0ZWRJdGVtTGlzdCkgew0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdExpc3QucHVzaChzZWxlY3RlZEl0ZW0pDQogICAgICAgIHRoaXMucGRCbmZ0TGlzdC5wdXNoKHNlbGVjdGVkSXRlbSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGJyaW5nU2VsZWN0ZWRQZEJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KSB7DQogICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEN0cmxDb25Db2RlTGlzdCA9IFtdDQogICAgICB0aGlzLkNsbUJuZnRMaXN0ID0gW10NCiAgICAgIGZvciAoY29uc3Qgc2VsZWN0ZWRJdGVtIG9mIHNlbGVjdGVkSXRlbUxpc3QpIHsNCiAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsQ29uQ29kZUxpc3QucHVzaChzZWxlY3RlZEl0ZW0pDQogICAgICAgIHRoaXMuQ2xtQm5mdExpc3QucHVzaChzZWxlY3RlZEl0ZW0pDQogICAgICB9DQogICAgfSwNCiAgICBjbGVhblBkQm5mdEN0cmxMaW1MZXZlbCh2YWwpIHsNCiAgICAgIHRoaXMucGRCbmZ0T3B0aW9ucyA9IFtdDQogICAgICB0aGlzLmJuZnRGb3JtLnBkdGVtcFBkQm5mdCA9IFtdDQogICAgICB0aGlzLnBkQm5mdExpc3QgPSBbXQ0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZHRlbXBQZEJuZnRMaXN0ID0gW10NCiAgICAgIHRoaXMuQ2xtQm5mdCA9IFtdDQogICAgICB0aGlzLmJuZnRGb3JtLnBkQ2xtQm5mdENvZGUgPSB1bmRlZmluZWQNCiAgICAgIHRoaXMuQ2xtQm5mdExpc3QgPSBbXQ0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDdHJsQ29uQ29kZUxpc3QgPSBbXQ0KICAgICAgaWYoJzUnPT09dmFsKXsNCiAgICAgICAgdGhpcy5maW5kYm5mdENvZGUoKTsNCiAgICAgIH0NCiAgICAgIGlmKCcxMyc9PT12YWwpew0KICAgICAgICB0aGlzLmZpbmRibmZ0aW5mb0NvZGUoKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basicinfo/obperiod-deductible-limit/obperiod/clm-obperiod","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdMedFeeBill.clmObperiodDef')\" @backTo=\"backToMenu\"></cus-page-title-back>\r\n    <!-- <cus-row>\r\n      <cus-col :span=\"24\">\r\n        <el-button size=\"small\" type=\"text\" @click=\"backToMenu\"><i class=\"el-icon-back\"></i>{{ \"返回\" }}</el-button>\r\n        <label style=\"font-size:14px\"> 赔付观察期定义</label>\r\n      </cus-col>\r\n    </cus-row>\r\n    <hr/> -->\r\n    <br/>\r\n    <el-form ref=\"bnftForm\" :model=\"bnftForm\" :rules=\"rules\" label-width=\"120px\" style=\"width:98%;\">\r\n      <cus-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <cus-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.bnft')\">\r\n            <el-select v-model=\"bnftForm1.pdBnftCode\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable disabled\r\n                       filterable>\r\n              <el-option v-for=\"item in bnftOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" disabled>\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.clmBnft')\">\r\n            <el-select v-model=\"configsForm.pdClmBnftCode\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable disabled\r\n                       filterable>\r\n              <el-option v-for=\"item in ClmBnftOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col :span=\"8\">\r\n        </cus-col>\r\n      </cus-row>\r\n      <br/></el-form>\r\n      <cus-table-title :label=\"$t('pdtempPdMedFeeBill.guaranteeObservation')\"></cus-table-title>\r\n      <el-table ref=\"periodTable\" :data=\"periodConfigs\" border element-loading-text=\"Loading\" fit\r\n                highlight-current-row max-height=\"300px\" size=\"mini\" @row-click=\"chooseOne\">\r\n        <el-table-column :label=\"$t('pdtempPdBnft.choose')\" width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio v-model=\"radio2\" :label=\"scope.row.id\">\r\n              <span class=\"el-radio__label\"></span>\r\n            </el-radio>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftCtrlLimLevel')\" align=\"center\"\r\n                         prop=\"pdBnftCtrlLimLevel\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBnftCtrlLimLevel | filter_pdBnftCtrlLimLevel }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftCtrlLimCode')\" align=\"center\" width=\"200\"\r\n                         prop=\"pdBnftCtrlLimCode\">\r\n          <!-- <template v-slot=\"scope\">\r\n                  <span>{{\r\n                      _.map(scope.row.pdtempClmCtrlLimRelaVoList, item => {\r\n                        return item.pdBnftCtrlConCode + ':' + item.pdBnftCtrlConName\r\n                      }).join(', ')\r\n                    }}</span>\r\n          </template> -->\r\n          <template slot-scope=\"scope\">\r\n            <el-table border :data='scope.row.pdtempClmCtrlLimRelaVoList' fit size=\"mini\" style=\"width: 100%\" :show-header=\"false\" >\r\n              <el-table-column prop='pdBnftCtrlConCode' >\r\n                <template slot-scope=\"prop\">\r\n                  {{prop.row.pdBnftCtrlConCode}}:{{prop.row.pdBnftCtrlConName}}\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </template>\r\n        </el-table-column>\r\n        <!--<el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.pdBnftFactorLimValue')\" prop=\"pdBnftFactorLimValue\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdBnftFactorLimValue | filter_pdBnftFactorLimValue }}</template>\r\n        </el-table-column>-->\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.Obperiod')\" prop=\"pdBnftFactorValue\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBnftFactorValue }}{{ scope.row.pdBnftFactorValueUnit | filter_pdBnftRuleObservationUnit }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.obperiodCalcFormula')\" prop=\"pdBnftFactorValueCalCode\" width=\"150px\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.pdBnftFactorValueCalCode }}\r\n              <svg-icon v-if=\"scope.row.pdBnftFactorValueCalCode\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                          @click=\"toTableFormula(scope.row)\"/></span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.pdBnftCumType')\" prop=\"pdBnftCumType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdBnftCumType | filter_pdBnftCumType }}</template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.pdBnftCumCount')\" prop=\"pdBnftCumFrequency\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdBnftCumFrequency | filter_pdBnftCumFrequency }}</template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdMedFeeBill.actions')\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" @ok=\"deleteBnftForm(scope.row)\"></cus-del-btn>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_O\" v-model=\"periodConfigs\" :pageSize=\"5\" :params=\"params\"\r\n                      url=\"/product-compensation/base/pagePdtempClmCtrlLimVo1\"/>\r\n      <br/>\r\n      <el-form :model=\"bnftForm\" label-width=\"140px\" ref=\"bnftForm\" :rules=\"rules\" style=\"width:98%;\">\r\n      <cus-form-title :label=\"$t('pdtempPdMedFeeBill.operiodDef')\"></cus-form-title>\r\n      <cus-row>\r\n        <el-col :span=\"7\" v-show=\"!configsForm.pdClmBnftCode\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftCtrlLimLevel')\" prop=\"pdBnftCtrlLimLevel\">\r\n            <cus-select v-model=\"bnftForm.pdBnftCtrlLimLevel\" :codetype=\"'pdBnftRuleLimitLevel1'\"\r\n                        @change=\"cleanPdBnftCtrlLimLevel\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\" v-show=\"configsForm.pdClmBnftCode\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftCtrlLimLevel')\"  prop=\"pdBnftCtrlLimLevel\">\r\n            <cus-select v-model=\"bnftForm.pdBnftCtrlLimLevel1\" :codetype=\"'pdBnftRuleLimitLevel3'\"\r\n                        @change=\"cleanPdBnftCtrlLimLevel\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\" v-show=\"bnftForm.pdBnftCtrlLimLevel==='5' && !configsForm.pdClmBnftCode\">\r\n          <el-form-item :label=\"$t('pdClaimVerificationRules.pdBnftFactorLimType')\">\r\n              <el-select v-model=\"bnftForm.pdtempPdBnft\" :disabled=\"!!bnftForm1.pdBnftCode\" multiple clearable filterable value-key=\"id\">\r\n                <el-option v-for=\"item in pdBnftOptions\"\r\n                           :key=\"item.id\"\r\n                           :label=\"item.pdBnftCode+':'+item.pdBnftName\"\r\n                           :value=\"item\">\r\n                </el-option>\r\n              </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\" v-show=\"bnftForm.pdBnftCtrlLimLevel==='6' && !configsForm.pdClmBnftCode && !bnftForm1.pdBnftCode\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.conBnft')\">\r\n              <el-select v-model=\"bnftForm.pdtempPdBnft\" clearable filterable multiple\r\n                         value-key=\"id\">\r\n                <el-option v-for=\"PdBnftitem in conBnftOptions\"\r\n                           :key=\"PdBnftitem.id\"\r\n                           :label=\"PdBnftitem.pdBnftCode+':'+PdBnftitem.pdBnftName\"\r\n                           :value=\"PdBnftitem\">\r\n                </el-option>\r\n              </el-select>\r\n              <!-- <el-button size=\"small\" type=\"text\" @click=\"openChooseDialog\">{{ '更多>>' }}</el-button> -->\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\" v-show=\"bnftForm.pdBnftCtrlLimLevel==='6' && !configsForm.pdClmBnftCode\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftCtrlConCode')\">\r\n              <el-select v-model=\"bnftForm.pdtempPdBnftList\" clearable disabled filterable multiple\r\n                         value-key=\"id\">\r\n                <el-option v-for=\"PdBnftitem in pdBnftList\"\r\n                           :key=\"PdBnftitem.id\"\r\n                           :label=\"PdBnftitem.pdBnftCode+':'+PdBnftitem.pdBnftName\"\r\n                           :value=\"PdBnftitem\">\r\n                </el-option>\r\n              </el-select>\r\n              <!-- <el-button size=\"small\" type=\"text\" @click=\"openChooseDialog\">{{ '更多>>' }}</el-button> -->\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper  v-show=\"bnftForm.pdBnftCtrlLimLevel==='6' && !configsForm.pdClmBnftCode\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"openChooseDialog\">{{$t('i18nView.more')}}</el-button>\r\n        </cus-btn-wrapper>\r\n        <el-col :span=\"7\" v-show=\"bnftForm.pdBnftCtrlLimLevel1==='13' && configsForm.pdClmBnftCode\">\r\n          <el-form-item :label=\"$t('pdtempProgInfo.bnftinfo')\">\r\n              <el-select v-model=\"bnftForm.pdClmBnftCode\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable disabled\r\n                         filterable>\r\n                <el-option v-for=\"item in ClmBnft\"\r\n                           :key=\"item.id\"\r\n                           :label=\"item.pdClmBnftCode+':'+item.pdClmBnftName\"\r\n                           :value=\"item\">\r\n                </el-option>\r\n              </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\" v-show=\"bnftForm.pdBnftCtrlLimLevel1==='14' && configsForm.pdClmBnftCode\">\r\n            <el-form-item :label=\"$t('pdtempPdMedFeeBill.AssociatedGuaranteeDetails')\">\r\n              <el-select v-model=\"bnftForm.pdBnftCtrlConCodeList\"\r\n                         :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable disabled\r\n                         filterable multiple value-key=\"id\">\r\n                <el-option v-for=\"item in ClmBnftList\"\r\n                           :key=\"item.id\"\r\n                           :label=\"item.pdClmBnftCode+':'+item.pdClmBnftName\"\r\n                           :value=\"item\">\r\n                </el-option>\r\n              </el-select>\r\n              <!-- <el-button size=\"small\" type=\"text\" @click=\"openChooseDialog1\">{{ '更多>>' }}</el-button> -->\r\n            </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper  v-show=\"bnftForm.pdBnftCtrlLimLevel1==='14' && configsForm.pdClmBnftCode\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"openChooseDialog1\">{{ $t('pdtempPdMedFeeBill.more') }}</el-button>\r\n        </cus-btn-wrapper>\r\n        <el-col :span=\"10\" v-if=\"bnftForm1.pdBnftCode||bnftForm.pdBnftCtrlLimLevel!=='6'\"></el-col>\r\n        <el-col :span=\"3\" v-if=\"!bnftForm1.pdBnftCode&&bnftForm.pdBnftCtrlLimLevel==='6'\"></el-col>\r\n      </cus-row>\r\n      <cus-row >\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftFactorType')\" prop=\"pdBnftFactorLimValue\">\r\n            <cus-radio v-model=\"bnftForm.pdBnftFactorLimValue\" :codetype=\"'pdObPeriodStartRule'\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.Obperiod')\" prop=\"pdBnftFactorValue\">\r\n            <el-input v-model=\"bnftForm.pdBnftFactorValue\">\r\n              <cus-select slot=\"append\" v-model=\"bnftForm.pdBnftFactorValueUnit\" :codetype=\"'pdsbnftdy'\" :filter=\"pdBnftRuleObservationUnit\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftCumType')\" prop=\"pdBnftCumType\">\r\n            <cus-radio v-model=\"bnftForm.pdBnftCumType\" :codetype=\"'pdBnftCumType'\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.pdBnftCumPeriod')\" prop=\"pdBnftCumFrequency\">\r\n            <cus-radio v-model=\"bnftForm.pdBnftCumFrequency\" :codetype=\"'pdBnftCumFrequency'\"\r\n                       :disabled=\"bnftForm.pdBnftCumType==1\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"3\"></el-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('pdtempPdMedFeeBill.clmObperiodCus')\">\r\n            <el-switch v-model=\"cusObperiod\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n\r\n      </cus-row>\r\n      <el-form-item align=\"right\">\r\n        <el-button v-show=\"!radio2\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"saveBnftForm('O')\" dialog-disable=\"disable\">\r\n          {{ $t('pdtempPdMedFeeBill.save') }}\r\n        </el-button>\r\n        <el-button v-show=\"radio2\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"updateBnftForm('O')\" dialog-disable=\"disable\">\r\n          {{ $t('pdtempPdMedFeeBill.update') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"cleanBnftForm\" dialog-disable=\"disable\">\r\n          {{  $t('pdtempPdMedFeeBill.refresh') }}\r\n        </el-button>\r\n      </el-form-item>\r\n      <div v-if=\"cusObperiod\">\r\n        <cus-form-title :label=\"$t('pdtempPdMedFeeBill.clmObperiodCus')\"></cus-form-title>\r\n        <cus-row >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdMedFeeBill.observationCalc')\">\r\n              <el-input v-model=\"bnftForm.pdBnftFactorValueCalCode\" readonly>\r\n                <svg-icon slot=\"suffix\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                          @click=\"toFormula\"/>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"17\">\r\n          </el-col>\r\n        </cus-row>\r\n      </div>\r\n    </el-form>\r\n\r\n    <!-- 弹窗（已关联公式列表） -->\r\n    <el-dialog v-if=\"formulaVisible\" v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"false\" :visible.sync=\"formulaVisible\"\r\n               append-to-body center width=\"80%\">\r\n      <clmCtrlFormula :pdBussDetailType=\"pdBussDetailType\" :pdtempClmCtrlMain=\"selectedClmCtrl\"\r\n                      :pdtempPdBnft=\"bnftForm1\" :pdtempPdClmBnft=\"configsForm\" @bringInCalcCode=\"bringInCalcCode\"\r\n                      @changeDialogVisible_ClmCtrlFormula=\"changeDialogVisible_ClmCtrlFormula\"\r\n                      @changeDialogVisible_ClmCtrlFormulaSelect=\"changeDialogVisible_ClmCtrlFormulaSelect\"></clmCtrlFormula>\r\n    </el-dialog>\r\n\r\n    <!-- 弹窗（公式关联） -->\r\n    <el-dialog v-if=\"formulaSelectVisible\" v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"false\"\r\n               :visible.sync=\"formulaSelectVisible\" append-to-body center width=\"70%\">\r\n      <clmCtrlFormulaSelect :pdBussDetailType=\"pdBussDetailType\" :pdtempClmCtrlMain=\"selectedClmCtrl\"\r\n                            :pdtempPdBnft=\"bnftForm1\" :pdtempPdClmBnft=\"configsForm\" @bringInCalcCode=\"bringInCalcCode\"\r\n                            @changeDialogVisible_ClmCtrlFormulaSelect=\"changeDialogVisible_ClmCtrlFormulaSelect\"></clmCtrlFormulaSelect>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nlet _this;\r\nimport {\r\n  deleteObBnftForm,\r\n  findBnftOptions,\r\n  findBusinessItemByCtrlCode1,\r\n  findClmBnftOptions,\r\n  savePdtempClmCtrlLim,\r\n  selectbnftCode,\r\n  selectbnftinfoCode,\r\n} from \"@/api/basicinfo/pdtemppdclmbnft\";\r\nimport {pdtempPdClsLabList} from \"@/api/basicinfo/ProductAttributeDefinition\";\r\nimport clmCtrlFormula from \"@/views/basicinfo/clm-formula/clmCtrlFormula/index\";\r\nimport clmCtrlFormulaSelect from \"@/views/basicinfo/clm-formula/clmCtrlFormulaSelect/index\";\r\n\r\nexport default {\r\n  name: \"pdtemppdobperiod\",\r\n  components: {clmCtrlFormula, clmCtrlFormulaSelect},\r\n  filters: {\r\n    filter_pdBnftCtrlLimLevel(code) {\r\n      return _this.getCodeName('limitlevel', code);\r\n    },\r\n    filter_pdBnftRuleObservationUnit(code) {\r\n      return _this.getCodeName(\"pdsbnftdy\", code, true);\r\n    },\r\n    filter_pdBnftCumType(code) {\r\n      return _this.getCodeName(\"pdBnftCumType\", code);\r\n    },\r\n    filter_pdBnftCumFrequency(code) {\r\n      return _this.getCodeName(\"pdBnftCumFrequency\", code);\r\n    },\r\n    filter_pdBnftFactorLimValue(code) {\r\n      return _this.getCodeName(\"pdObPeriodStartRule\", code);\r\n    },\r\n  },\r\n  props: {\r\n    moreType: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    bnftForm1: {\r\n      type: Object,\r\n      default: {},\r\n    },\r\n    configsForm: {\r\n      type: Object,\r\n      default: {},\r\n    },\r\n    pdBnftArr: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n    pdClmBnftArr: {\r\n      type: Array,\r\n      default: [],\r\n    },\r\n    showObPeriod: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      pdBnftList: [],\r\n      ClmBnft: [],\r\n      ClmBnftList: [],\r\n      pdBnftOptions: [],\r\n      params: {\r\n        pdBnftCode: this.bnftForm1.pdBnftCode,\r\n        pdBnftCtrlType: 'O',\r\n        pdBnftCtrlLimLevelList: null,\r\n        pdClmBnftCode: this.configsForm.pdClmBnftCode,\r\n        pdInfoId: null,\r\n      },\r\n      pdtempPdInfo: {},\r\n      selectedClmCtrl: {},\r\n      pdType: null,\r\n      radio2: null,\r\n      bnftForm: {\r\n        pdBnftFactorLimValue: null,\r\n        pdBnftFactorValue: null,\r\n        pdBnftCtrlLimLevel: null,\r\n        pdBnftFactorValue1: null,\r\n        pdBnftFactorValue2: null,\r\n        pdBnftFactorValue3: null,\r\n        pdBnftFactorValueUnit: 'D',\r\n        pdBnftCumType: null,\r\n        pdBnftCumFrequency: '2',\r\n        pdBnftCtrlConCode: [],\r\n        pdBnftCtrlLimLevel1: '',\r\n        pdClmBnftCode: undefined,\r\n        pdtempPdBnft: [],\r\n        pdtempPdBnftList: [],\r\n        pdBnftCtrlConCodeList: []\r\n      },\r\n      pdBnftRuleObservationUnit: \"1$Y$M$D\",\r\n      feeConfigs: [],\r\n      periodConfigs: [],\r\n      Options: [],\r\n      bnftOptions: [],\r\n      conBnftOptions: [],\r\n      ClmBnftOptions: [],\r\n      cusObperiod: false,\r\n      pdBussDetailType: \"\",\r\n      formulaVisible: \"\",\r\n      formulaSelectVisible: \"\",\r\n      rules: {\r\n        pdBnftCtrlLimLevel: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + '限制级别',\r\n          trigger: 'blur'\r\n        }],\r\n      }\r\n    };\r\n  },\r\n  async created() {\r\n    if (!this.configsForm.pdClmBnftCode) {\r\n      this.params.pdBnftCtrlLimLevelList = '5'\r\n      this.bnftForm.pdBnftCtrlLimLevel = '5'\r\n    } else {\r\n      this.params.pdBnftCtrlLimLevelList = '13'\r\n      this.bnftForm.pdBnftCtrlLimLevel1 = '13'\r\n    }\r\n    this.pdtempPdInfo = this.getPdData();\r\n    this.params.pdInfoId = this.pdtempPdInfo.id\r\n    await this.findTypeRegion();\r\n    this.findperiodConfigs();\r\n    this.findOptions();\r\n    this.findbnftCode();\r\n    this.findConBnftCode();\r\n    this.findbnftinfoCode();\r\n    this.$refs.page_O.reload();\r\n\r\n  },\r\n  watch: {\r\n    showObPeriod: function () {\r\n      if (this.showObPeriod == true) {\r\n        this.findperiodConfigs();\r\n        this.cleanBnftForm();\r\n        this.$refs.page_O.reload();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    bringInCalcCode(pdBussId, calcCode) {\r\n      for (const ob of this.periodConfigs) {\r\n        if (ob.id === Number(pdBussId)) {\r\n          this.$set(ob, \"pdBnftFactorValueCalCode\", calcCode);\r\n          break;\r\n        }\r\n      }\r\n      if (this.bnftForm.id === Number(pdBussId)) {\r\n        this.bnftForm.pdBnftFactorValueCalCode = calcCode;\r\n      }\r\n    },\r\n    changeDialogVisible_ClmCtrlFormula(visible) {\r\n      this.formulaVisible = visible;\r\n    },\r\n    changeDialogVisible_ClmCtrlFormulaSelect(visible) {\r\n      this.formulaSelectVisible = visible;\r\n      if (visible === false) {\r\n        this.formulaVisible = false;\r\n        this.$nextTick(() => {\r\n          this.formulaVisible = true;\r\n        });\r\n      }\r\n    },\r\n    toFormula() {\r\n      if (Object.keys(this.selectedClmCtrl).length === 0) {\r\n        this.notifyError(\"请选择一条观察期\");\r\n        return;\r\n      }\r\n      if (this.configsForm.id) {\r\n        this.pdBussDetailType = \"22\";\r\n      } else {\r\n        this.pdBussDetailType = \"65\";\r\n      }\r\n      this.formulaVisible = true;\r\n    },\r\n    toTableFormula(row){\r\n      this.selectedClmCtrl = row;\r\n      if (this.configsForm.id) {\r\n        this.pdBussDetailType = \"22\";\r\n      } else {\r\n        this.pdBussDetailType = \"65\";\r\n      }\r\n      this.formulaVisible = true;\r\n    },\r\n    async findTypeRegion() {\r\n      await pdtempPdClsLabList(this.pdtempPdInfo.id).then((response) => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType === \"1\") {\r\n            this.pdType = response.data[i].pdCls2;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    findperiodConfigs() {\r\n      let data = {\r\n        pdBnftCtrlType: \"o\",\r\n      };\r\n      if (this.configsForm.pdClmBnftCode == null) {\r\n        data.pdBnftCode = this.bnftForm1.pdBnftCode;\r\n        data.pdBnftCtrlLevel = \"1\";\r\n      } else {\r\n        data.pdBnftCode = this.configsForm.pdClmBnftCode;\r\n        data.pdBnftCtrlLevel = \"2\";\r\n      }\r\n\r\n    },\r\n    findOptions() {\r\n      this.ClmBnftOptions = [];\r\n      findClmBnftOptions().then((res) => {\r\n        let clmData = res.data;\r\n        clmData.forEach((data) => {\r\n          this.ClmBnftOptions.push({\r\n            value: data.pdClmBnftCode,\r\n            label: data.pdClmBnftCode + \":\" + data.pdClmBnftName,\r\n          });\r\n        });\r\n      });\r\n      this.bnftOptions = [];\r\n      findBnftOptions().then((res) => {\r\n        let bnftData = res.data;\r\n        bnftData.forEach((data) => {\r\n          this.bnftOptions.push({\r\n            value: data.pdBnftCode,\r\n            label: data.pdBnftCode + \":\" + data.pdBnftName,\r\n          });\r\n        });\r\n      });\r\n    },\r\n    chooseOne(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.radio2) {\r\n          this.radio2 = null;\r\n          this.selectedClmCtrl = {};\r\n          this.bnftForm.pdBnftFactorValueCalCode = \"\";\r\n          this.$refs.periodTable.setCurrentRow();\r\n          this.cleanBnftForm();\r\n        } else {\r\n          this.selectedClmCtrl = row;\r\n          this.radio2 = row.id;\r\n          let list = [];\r\n          this.bnftForm = {\r\n            id: row.id,\r\n            pdBnftFactorLimValue: row.pdBnftFactorLimValue,\r\n            pdBnftFactorValue: row.pdBnftFactorValue,\r\n            pdBnftFactorValueUnit: row.pdBnftFactorValueUnit,\r\n            pdBnftFactorValueCalCode: row.pdBnftFactorValueCalCode,\r\n            pdBnftCumType: row.pdBnftCumType,\r\n            pdBnftCumFrequency: row.pdBnftCumFrequency,\r\n            pdBnftCtrlCode: row.pdBnftCtrlCode,\r\n            pdBnftCtrlConCodeList: list,\r\n            pdBnftCtrlLimLevel: row.pdBnftCtrlLimLevel,\r\n            pdBnftCtrlLimLevel1: row.pdBnftCtrlLimLevel1,\r\n          };\r\n          this.findBusinessItemByCtrlCode1();\r\n        }\r\n      }\r\n\r\n    },\r\n    findBusinessItemByCtrlCode1(){\r\n      findBusinessItemByCtrlCode1(this.bnftForm.pdBnftCtrlCode).then(response => {\r\n            switch (this.bnftForm.pdBnftCtrlLimLevel) {\r\n              case \"5\":\r\n                this.pdBnftOptions = response.data\r\n                this.bnftForm.pdtempPdBnft = response.data\r\n                break;\r\n              case \"6\":\r\n                 this.bnftForm.pdtempPdBnft = [response.data[0]]\r\n                this.bnftForm.pdtempPdBnftList = response.data.slice(1,response.data.length)\r\n                this.pdBnftList = response.data\r\n                break;\r\n              case \"13\":\r\n                this.ClmBnft = response.data\r\n                this.bnftForm.pdClmBnftCode = response.data[0]\r\n                this.bnftForm.pdBnftCtrlLimLevel1 = '13'\r\n                break;\r\n              case \"14\":\r\n                this.bnftForm.pdBnftCtrlConCodeList = response.data\r\n                this.ClmBnftList = response.data\r\n                this.bnftForm.pdBnftCtrlLimLevel1 = '14'\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          })\r\n    },\r\n    changeOption() {\r\n      this.$forceUpdate();\r\n    },\r\n    saveBnftForm(pdBnftCtrlType) {\r\n      if (!this.configsForm.pdClmBnftCode) {\r\n        if (!this.bnftForm.pdBnftCtrlLimLevel) {\r\n          this.$message.error({message: '请选择限制等级！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n        if (this.bnftForm.pdtempPdBnftList == []) {\r\n          this.$message.error({message: '关联保障不能为空，请关联保障！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n\r\n      } else {\r\n        if (!this.bnftForm.pdBnftCtrlLimLevel1) {\r\n          this.$message.error({message: '请选择限制等级！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n        if (this.bnftForm.pdBnftCtrlConCodeList == []) {\r\n          this.$message.error({message: '关联保障明细不能为空，请关联保障明细！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n      }\r\n      if (this.bnftForm.pdBnftCumType === '1') {\r\n        this.bnftForm.pdBnftCumFrequency = null\r\n      }\r\n      this.bnftForm.pdBnftCtrlType = pdBnftCtrlType\r\n      this.bnftForm.pdBnftCtrlLevel = this.bnftForm.pdBnftCtrlLimLevel\r\n      this.bnftForm.pdBnftCtrlLevel1 = this.bnftForm.pdBnftCtrlLimLevel1\r\n      if(this.bnftForm.pdBnftCtrlLevel1){\r\n        this.bnftForm.pdBnftCtrlLevel = ''\r\n      }\r\n      this.bnftForm.id = null\r\n      let data = {\r\n        pdgenlClmCtrlVoForCompensation: this.bnftForm,\r\n        pdBnftCode: this.bnftForm1.pdBnftCode,\r\n        pdtempPdInfo: this.pdtempPdInfo,\r\n        pdClmBnftCode: this.configsForm.pdClmBnftCode\r\n\r\n      }\r\n      savePdtempClmCtrlLim(this.buildRequestData(data)).then((res) => {\r\n        this.notifySuccess('保存成功');\r\n        return new Promise(resolve => {\r\n          this.$refs.page_O.reload().then(() => {\r\n            for (let i = 0; i < this.periodConfigs.length; i++) {\r\n              if (this.periodConfigs[i].pdBnftCtrlCode == res.data.pdBnftCtrlCode) {\r\n                // this.$refs.periodTable.setCurrentRow(this.periodConfigs[i])\r\n                this.radio2 = this.periodConfigs[i].id\r\n                this.bnftForm = Object.assign({},this.periodConfigs[i])\r\n                this.findbnftCode();\r\n                this.findbnftinfoCode();\r\n                this.findBusinessItemByCtrlCode1();\r\n              }\r\n            }\r\n          })\r\n        })\r\n\r\n      })\r\n    },\r\n    updateBnftForm(pdBnftCtrlType) {\r\n      if (!this.configsForm.pdClmBnftCode) {\r\n        if (!this.bnftForm.pdBnftCtrlLimLevel) {\r\n          this.$message.error({message: '请选择限制等级！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n        if (this.bnftForm.pdtempPdBnftList == []) {\r\n          this.$message.error({message: '关联保障不能为空，请关联保障！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n\r\n      } else {\r\n        if (!this.bnftForm.pdBnftCtrlLimLevel1) {\r\n          this.$message.error({message: '请选择限制等级！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n        if (this.bnftForm.pdBnftCtrlConCodeList == []) {\r\n          this.$message.error({message: '关联保障明细不能为空，请关联保障明细！', type: 'warning'});\r\n\r\n          return\r\n        }\r\n      }\r\n      if (this.bnftForm.pdBnftCumType === '1') {\r\n        this.bnftForm.pdBnftCumFrequency = null\r\n      }\r\n      this.bnftForm.pdBnftCtrlType = pdBnftCtrlType\r\n      this.bnftForm.pdBnftCtrlLevel = this.bnftForm.pdBnftCtrlLimLevel\r\n      let data = {\r\n        pdgenlClmCtrlVoForCompensation: this.bnftForm,\r\n        pdBnftCode: this.bnftForm1.pdBnftCode,\r\n        pdtempPdInfo: this.pdtempPdInfo,\r\n        pdClmBnftCode: this.configsForm.pdClmBnftCode\r\n\r\n      }\r\n      savePdtempClmCtrlLim(this.buildRequestData(data)).then((res) => {\r\n        this.notifySuccess('更新成功');\r\n        return new Promise(resolve => {\r\n          this.$refs.page_O.reload().then(() => {\r\n            for (let i = 0; i < this.periodConfigs.length; i++) {\r\n              if (this.periodConfigs[i].pdBnftCtrlCode == res.data.pdBnftCtrlCode) {\r\n                // this.$refs.periodTable.setCurrentRow(this.periodConfigs[i])\r\n                this.radio2 = this.periodConfigs[i].id\r\n              }\r\n            }\r\n          })\r\n        })\r\n      })\r\n    },\r\n    cleanBnftForm() {\r\n      this.$refs[\"bnftForm\"].resetFields();\r\n      this.radio2 = null;\r\n      this.$refs.periodTable.setCurrentRow();\r\n      this.cusObperiod = false;\r\n      this.bnftForm.pdBnftCtrlLimLevel1 = '';\r\n      this.ClmBnftList = [];\r\n      this.findbnftCode();\r\n      this.findbnftinfoCode();\r\n    },\r\n    deleteBnftForm(row) {\r\n      let data = {\r\n        pdBnftCtrlCode: row.pdBnftCtrlCode,\r\n      };\r\n      deleteObBnftForm(this.buildRequestData(data)).then(() => {\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n        this.$refs.page_O.reload();\r\n      });\r\n    },\r\n    backToMenu() {\r\n      this.$emit(\"backToFeeBill\", \"bnft\");\r\n    },\r\n    openChooseDialog() {\r\n      this.$emit('showFeeBillTypeFlag', 'bnft5')\r\n    },\r\n    openChooseDialog1() {\r\n      this.$emit('showFeeBillTypeFlag', 'bnft6')\r\n    },\r\n    findbnftCode() {\r\n      let params;\r\n      if(this.bnftForm1.pdBnftCode){\r\n        params = {pdBnftCode: this.bnftForm1.pdBnftCode}\r\n      }else{\r\n        params = {pdInfoId: this.pdtempPdInfo.id}\r\n      }\r\n      selectbnftCode(this.buildRequestData(params)).then(response => {\r\n        this.pdBnftOptions = response.data\r\n        this.bnftForm.pdtempPdBnft = [];\r\n        if(this.bnftForm1.pdBnftCode){\r\n          this.bnftForm.pdtempPdBnft.push(response.data[0])\r\n        }\r\n\r\n      })\r\n    },\r\n    findConBnftCode() {\r\n      let params = {pdInfoId: this.pdtempPdInfo.id}\r\n      selectbnftCode(this.buildRequestData(params)).then(response => {\r\n        this.conBnftOptions = response.data\r\n      })\r\n    },\r\n    findbnftinfoCode() {\r\n      const params = {pdClmBnftCode: this.configsForm.pdClmBnftCode}\r\n      selectbnftinfoCode(this.buildRequestData(params)).then(response => {\r\n        this.ClmBnft = response.data\r\n        this.bnftForm.pdClmBnftCode = response.data[0]\r\n      })\r\n    },\r\n    bringSelectedPdClmBnftMoreBill(selectedItemList) {\r\n      this.bnftForm.pdtempPdBnftList = []\r\n      this.pdBnftList = []\r\n      for (const selectedItem of selectedItemList) {\r\n        this.bnftForm.pdtempPdBnftList.push(selectedItem)\r\n        this.pdBnftList.push(selectedItem)\r\n      }\r\n    },\r\n    bringSelectedPdBnftMoreBill(selectedItemList) {\r\n      this.bnftForm.pdBnftCtrlConCodeList = []\r\n      this.ClmBnftList = []\r\n      for (const selectedItem of selectedItemList) {\r\n        this.bnftForm.pdBnftCtrlConCodeList.push(selectedItem)\r\n        this.ClmBnftList.push(selectedItem)\r\n      }\r\n    },\r\n    cleanPdBnftCtrlLimLevel(val) {\r\n      this.pdBnftOptions = []\r\n      this.bnftForm.pdtempPdBnft = []\r\n      this.pdBnftList = []\r\n      this.bnftForm.pdtempPdBnftList = []\r\n      this.ClmBnft = []\r\n      this.bnftForm.pdClmBnftCode = undefined\r\n      this.ClmBnftList = []\r\n      this.bnftForm.pdBnftCtrlConCodeList = []\r\n      if('5'===val){\r\n        this.findbnftCode();\r\n      }\r\n      if('13'===val){\r\n        this.findbnftinfoCode();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.divider {\r\n  color: black;\r\n  background-color: black;\r\n  width: 1px;\r\n}\r\n\r\n.cst {\r\n  width: 60px;\r\n  height: 37px;\r\n  margin-right: -5px;\r\n  border: 0;\r\n}\r\n</style>\r\n"]}]}
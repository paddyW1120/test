{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-apply\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-apply\\index.vue","mtime":1609847107053},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y2xvc2VWaXNpdFRhZ30gZnJvbSAiQC91dGlscy90YWdzVmlldyIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndW5kZXJ3cml0aW5nRGVmaW5pdGlvbicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkUHJvZHVjdDoge30sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGRhdGVWYWx1ZTpbXSwKICAgICAgcHJvZHVjdE9wdGlvbkxpc3Q6IFtdLAogICAgICBwYXJhbXM6IHsKICAgICAgICBwcENvZGU6ICcnLAogICAgICAgIHBkQXBwbHlTdGFydERhdGU6JycsCiAgICAgICAgcGRBcHBseUVuZERhdGU6JycKICAgICAgfSwKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICB9LAogIHdhdGNoOiB7CiAgICAndGFibGVEYXRhJygpewogICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgdGhpcy50YWJsZURhdGEpIHsKICAgICAgICBsZXQgZmxhZyA9IGZhbHNlOwogICAgICAgIGZvciAoY29uc3QgcHJvZHVjdE9wdGlvbiBvZiB0aGlzLnByb2R1Y3RPcHRpb25MaXN0KSB7CiAgICAgICAgICBpZiAocHJvZHVjdE9wdGlvbi5wcENvZGUgPT09IHByb2R1Y3QucHBDb2RlKSB7CiAgICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgICAgICBicmVhawogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWZsYWcpIHsKICAgICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbkxpc3QucHVzaChwcm9kdWN0KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRhdGVWYWx1ZSh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMucGFyYW1zLnBkQXBwbHlTdGFydERhdGUgPSB2YWxbMF07CiAgICAgICAgdGhpcy5wYXJhbXMucGRBcHBseUVuZERhdGUgPSB2YWxbMV0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhcmFtcy5wZEFwcGx5U3RhcnREYXRlID0gJyc7CiAgICAgICAgdGhpcy5wYXJhbXMucGRBcHBseUVuZERhdGUgPSAnJwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogIH0sCiAgbWV0aG9kczogewogICAgZmlsdGVySGFuZGxlcihjb2RldHlwZSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZU5hbWUoY29kZXR5cGUsIHZhbHVlKTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLnBhZ2UpIHsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaG9vc2VPbmUocm93KSB7CiAgICAgIGNsb3NlVmlzaXRUYWcoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICfkuqflk4HlpZfppJDmoLjkv53lrprkuYnkuLvpobUnLCBwYXJhbXM6IHJvd30pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-underwriting-def/unw-apply","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form  :model=\"params\" label-width=\"auto\" style=\"margin: 20px 0 0 30px\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('underwritingDefinition.productMeal')\">\r\n            <el-select  clearable filterable  v-model=\"params.ppCode\">\r\n              <el-option :key=\"product.id\" :label=\"product.ppCode+':'+product.ppName\" :value=\"product.ppCode\"\r\n                         v-for=\"product in productOptionList\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('underwritingDefinition.pdMealApplyDate')\">\r\n            <el-date-picker\r\n              v-model=\"dateValue\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              unlink-panels\r\n              :range-separator=\"$t('underwritingDefinition.to')\"\r\n              :start-placeholder=\"$t('underwritingDefinition.pdApplyStartDate')\"\r\n              :end-placeholder=\"$t('underwritingDefinition.pdApplyEndDate')\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n            <el-button  size=\"small\" @click=\"handleSearch\" icon=\"el-icon-search\" type=\"primary\">\r\n              {{ $t('pdPackageSaleDefinition.search') }}\r\n            </el-button>\r\n          </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <!-- 待核保定义产品套餐表格 -->\r\n    <cus-table-title :label=\"$t('underwritingDefinition.underwritingProduct')\"></cus-table-title>\r\n    <el-table :data=\"tableData\"  border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\" style=\"margin: 20px 0 20px 0\">\r\n      <el-table-column :label=\"$t('underwritingDefinition.choose')\" align=\"center\" width=\"50px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedProduct\">\r\n            <span>\r\n              <el-radio :label=\"scope.row\" @change=\"chooseOne(scope.row)\">{{''}}</el-radio>\r\n            </span>\r\n            <span v-if=\"selectedProduct.id && scope.row.id && selectedProduct.id === scope.row.id\"></span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.ppCode')\" align=\"center\" prop=\"ppCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.ppName')\" align=\"center\" prop=\"ppName\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.ruleCount')\" align=\"center\" prop=\"ruleCount\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.pdApplyDate')\" align=\"center\"  prop=\"applyTime\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.changeDate')\" align=\"center\"  prop=\"changeDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.defType')\" align=\"center\"  prop=\"defType\">\r\n        <template v-slot=\"scope\">{{filterHandler('packageType',scope.row.defType )}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.underwritingState')\"  align=\"center\" width=\"150px\" prop=\"underwritingState\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingDefinition.renewInsuranceRuleState')\"  align=\"center\"  width=\"150px\" prop=\"renewInsuranceRuleState\"></el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page\" url=\"/pd-package-underwriting/base/underwritingList\"\r\n                    v-model=\"tableData\"/>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {closeVisitTag} from \"@/utils/tagsView\"\r\n\r\n  export default {\r\n    name: 'underwritingDefinition',\r\n    data() {\r\n      return {\r\n        selectedProduct: {},\r\n        tableData: [],\r\n        dateValue:[],\r\n        productOptionList: [],\r\n        params: {\r\n          ppCode: '',\r\n          pdApplyStartDate:'',\r\n          pdApplyEndDate:''\r\n        },\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    watch: {\r\n      'tableData'(){\r\n        for (const product of this.tableData) {\r\n          let flag = false;\r\n          for (const productOption of this.productOptionList) {\r\n            if (productOption.ppCode === product.ppCode) {\r\n              flag = true;\r\n              break\r\n            }\r\n          }\r\n          if (!flag) {\r\n            this.productOptionList.push(product)\r\n          }\r\n        }\r\n      },\r\n      dateValue(val) {\r\n        if (val) {\r\n          this.params.pdApplyStartDate = val[0];\r\n          this.params.pdApplyEndDate = val[1]\r\n        } else {\r\n          this.params.pdApplyStartDate = '';\r\n          this.params.pdApplyEndDate = ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      handleSearch() {\r\n        if (this.$refs.page) {\r\n          this.$refs.page.reload();\r\n        }\r\n      },\r\n      chooseOne(row) {\r\n        closeVisitTag();\r\n        this.$router.push({name: '产品套餐核保定义主页', params: row})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\underwriting-test\\casedef\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\underwriting-test\\casedef\\index.vue","mtime":1615943895924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBkZWxldGVDYXNlLA0KICBkb3dubG9hZENhc2VEZWYsDQogIGRvd25sb2FkQ2FzZVRlbXBsYXRlLA0KICBmaW5kRXh0UHJlbU9wdGlvbnNCeUNvZGUsDQogIGZpbmRGdW5jRGF0YUJ5SWQsDQogIGluaXRFbGVtZW50LA0KICBxdWVyeUN1c3RvbWVyTm8sDQogIHF1ZXJ5UGRUZXN0RnVuYywNCiAgcXVlcnlQb2xpY3lEYXRhLA0KICBxdWVyeVJlbGFQZCwNCiAgc2F2ZUNhc2VEZWYsDQogIHVwbG9hZFRlc3RDYXNlLA0KfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcHJvZHVjdFVuZGVyd3JpdGluZ1Rlc3QiOw0KDQpsZXQgX3RoaXM7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJ1bmRlcndyaXRpbmdUZXN0Q2FzZURlZmluaXRpb24iLA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyQ2FzZVR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLnRlc3RDYXNlVHlwZVtjb2RlXTsNCiAgICB9LA0KICAgIGZpbHRlckNhc2VEZWZpbml0aW9uKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy50ZXN0Q2FzZURlZmluaXRpb25bY29kZV07DQogICAgfSwNCiAgICBmaWx0ZXJTZXhUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgic2V4IiwgY29kZSwgdHJ1ZSk7DQogICAgfSwNCiAgICBmaWx0ZXJSZWxhKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgiaW5zdXJhbmNlUmVsYXRpb25zaGlwIiwgY29kZSk7DQogICAgfSwNCiAgICBmaWx0ZXJSZWxhdGlvblRvSW5zdXJlZChjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInJlbGFnZW50dG9pbnMiLCBjb2RlKTsNCiAgICB9LA0KICAgIGZpbHRlckN1cnJlbmN5KGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgiY3VycmVuY3kyIiwgY29kZSwgdHJ1ZSk7DQogICAgfSwNCiAgICBmaWx0ZXJDYWxNZXRob2QoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJwZF9wcmVtX2NhbF9tZXRob2QiLCBjb2RlLCB0cnVlKTsNCiAgICB9LA0KICAgIGZpbHRlckZyZXFUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGRfcHJlbV9mcmVxIiwgY29kZSwgdHJ1ZSk7DQogICAgfSwNCiAgICBmaWx0ZXJCbmZ0VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoImd1YXJhbnRlZURldGFpbHMiLCBjb2RlLCB0cnVlKTsNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIGxldCBjaGVja0FnZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICghdmFsdWUpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKA0KICAgICAgICAgIG5ldyBFcnJvcih0aGlzLiR0KCJwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLkFwcG50QWdlbXNnIikpDQogICAgICAgICk7DQogICAgICB9DQogICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcih0aGlzLiR0KCJpMThuVmlldy5wbGVhc2VJbnB1dE51bVZhbHVlIikpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh2YWx1ZSA8IDEpIHsNCiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJHQoImkxOG5WaWV3Lm5vdEFnZSIpKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH07DQogICAgbGV0IGNoZWNrU2VxID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICByZXR1cm4gY2FsbGJhY2soDQogICAgICAgICAgbmV3IEVycm9yKHRoaXMuJHQoInByb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uQXBwbnRTZXFtc2ciKSkNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIGlmICh2YWx1ZSA8IDEpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5LiN5Y+v5bCP5LqOMSIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICBfdGhpcyA9IHRoaXM7DQogICAgcmV0dXJuIHsNCiAgICAgIHRlc3RDYXNlVHlwZTogeyIxIjogIuiHquWKqOWMlua1i+ivlSIsICIyIjogIuiHquWumuS5iea1i+ivlSJ9LA0KICAgICAgdGVzdENhc2VEZWZpbml0aW9uOiB7IjEiOiAi6aG16Z2i5a6a5LmJIiwgIjIiOiAi5LiK5Lyg5a6a5LmJIn0sDQogICAgICBzZWxlY3RDb25maWdzMTogIiIsDQogICAgICBzZWxlY3RDb25maWdzMjogIiIsDQogICAgICBzZWxlY3RDb25maWdzMzogIiIsDQogICAgICBzZWxlY3RlZElkOiAiIiwNCiAgICAgIGZ1bmNTZWxlY3Q6IFtdLA0KICAgICAgZWxlbWVudERhdGFzOiB7fSwNCiAgICAgIGN1cnJlbnRQZFBhZ2VEYXRhOiB7fSwNCiAgICAgIGVsZW1lbnRSdWxlczoge30sDQogICAgICBwb2xpY3lEZXRhaWxEYXRhOiB7fSwNCiAgICAgIGluY3JlYXNlOiB7fSwNCiAgICAgIGNvbmZpZ3MxOiBbXSwNCiAgICAgIGNvbmZpZ3MyOiBbXSwNCiAgICAgIGNvbmZpZ3MzOiBbXSwNCiAgICAgIHByb2R1Y3RDb25maWdzOiBbXSwNCiAgICAgIHBsYW5Db25maWdzOiBbXSwNCiAgICAgIHBheW1lbnRDb25maWdzOiBbXSwNCiAgICAgIGJuZnRDb25maWdzOiBbXSwNCiAgICAgIHBvbGljeUNvbmZpZ3M6IFtdLA0KICAgICAgaW5jcmVhc2VDb25maWdzOiBbXSwNCiAgICAgIHByb2R1Y3RPcHRpb25zOiBbXSwNCiAgICAgIHBheW1lbnRPcHRpb25zOiBbXSwNCiAgICAgIGluY3JlYXNlT3B0aW9uczogW10sDQogICAgICBpbmNyZWFzZU9iamVjdE9wdGlvbnM6IFtdLA0KICAgICAgaW5jcmVhc2VNZXRob2RPcHRpb25zOiBbXSwNCiAgICAgIGluY3JlYXNlVHlwZU9wdGlvbnM6IFtdLA0KICAgICAgc2VsZWN0UG9saWN5czogW10sDQogICAgICBzZWxlY3RDb25maWdzNTogIiIsDQogICAgICBzZWxlY3RDb25maWdzNjogIiIsDQogICAgICB0ZXN0Q2FzZVVwZGF0ZUZsYWc6IGZhbHNlLA0KICAgICAgaW5jcmVhc2VEZWZpbmVGbGFnOiBmYWxzZSwNCiAgICAgIHJlc3VsdEljb246ICJlbC1pY29uLWFycm93LWRvd24iLA0KICAgICAgcmVsYVBkTGlzdDogW10sDQogICAgICByZWxhUGRTZWxlY3Q6IFtdLA0KICAgICAgcmVsYVBkRWRpdGlvblNlbGVjdDogW10sDQogICAgICByZWxhUGRQYWdlRWxlRGF0YXM6IFtdLA0KICAgICAgcmVsYVBkRm9ybTogew0KICAgICAgICByZWxhUGRTZWQ6ICIiLA0KICAgICAgICByZWxhUGRFZGl0aW9uU2VkOiAiIiwNCiAgICAgIH0sDQogICAgICByZWxhUGRSdWxlczogew0KICAgICAgICByZWxhUGRTZWQ6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoInByb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24ucmVsYVBkbXNnIiksDQogICAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICByZWxhUGRFZGl0aW9uU2VkOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KA0KICAgICAgICAgICAgICAicHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi5yZWxhUGRFZGl0aW9ubXNnIg0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgcmVsYVBkQ29kZTogIiIsDQogICAgICByZWxhUGRFZGl0aW9uOiAiIiwNCiAgICAgIHJlbGFFbGVtZW50RGF0YXM6IHt9LA0KICAgICAgcmVsYUVsZW1lbnRTaG93OiBmYWxzZSwNCiAgICAgIHRhYmxlRmxhZzogZmFsc2UsDQogICAgICBxdWlja2ljb246ICJlbC1pY29uLWFycm93LXJpZ2h0IiwNCiAgICAgIGZpbGVMaXN0OiBbXSwNCiAgICAgIHBhcmFtczE6IHt9LA0KICAgICAgcGFyYW1zMjoge30sDQogICAgICBwZEluZm86IHsNCiAgICAgICAgcGRJbmZvSWQ6ICIiLA0KICAgICAgICBjb21tb2RpdHlUeXBlOiAiIiwNCiAgICAgIH0sDQogICAgICBDYXNlRGVmaW5pdGlvbjogew0KICAgICAgICBwZEluZm9JZDogIiIsDQogICAgICAgIHBkQ29kZTogIiIsDQogICAgICAgIHBkTmFtZTogIiIsDQogICAgICAgIHBkRWRpdGlvbjogIiIsDQogICAgICAgIHBkVGVzdENhc2VEZXNjOiAiIiwNCiAgICAgICAgdGVzdFBvaW50OiAiIiwNCiAgICAgIH0sDQogICAgICBkZWZSdWxlczogew0KICAgICAgICBwZFRlc3RDYXNlRGVzYzogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi5jYXNlZGVzY21zZyIpLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHRlc3RQb2ludDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi50ZXN0cG9pbnRtc2ciKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgQ2FzZURldGFpbHM6IHt9LA0KICAgICAgY3VzdG9tZXJzOiBbXSwNCiAgICAgIHBvbGljeTogW10sDQogICAgICBwb2xpY3lVcGRhdGVGbGFnOiBmYWxzZSwNCiAgICAgIHBvbGljeUhvbGRlcjogew0KICAgICAgICBwS2V5OiAiIiwNCiAgICAgICAgY3VzdG9tZXJSb2xlOiAiIiwNCiAgICAgICAgY3VzdG9tZXJDb2RlOiAicG9saWN5aG9sZGVyIiwNCiAgICAgICAgYXBwbnRTZXE6IDEsDQogICAgICAgIGFwcG50QWdlOiAiIiwNCiAgICAgICAgYXBwbnRObzogIiIsDQogICAgICAgIGFwcG50U2V4OiAiIiwNCiAgICAgICAgYWdlVW5pdDogIlkiLA0KICAgICAgICBzbW9rZUZsYWc6ICJOIiwNCiAgICAgICAgcmVsYXRpb25Ub0luc3VyZWQ6ICIiLA0KICAgICAgICBvY2N1cGF0aW9uVHlwZTogIiIsDQogICAgICAgIHNhbGFyeTogIiIsDQogICAgICB9LA0KICAgICAgcG9saWN5SG9sZGVyUnVsZXM6IHsNCiAgICAgICAgYXBwbnRTZXE6IFt7dmFsaWRhdG9yOiBjaGVja1NlcSwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIGFwcG50QWdlOiBbe3ZhbGlkYXRvcjogY2hlY2tBZ2UsIHRyaWdnZXI6ICJibHVyIn1dLA0KICAgICAgICBhcHBudFNleDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicHJvZHVjdFRlc3RpbmdOZXdDYXNlRGVmaW5pdGlvbi5BcHBudFNleG1zZyIpLA0KICAgICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICBpbnN1cmVkVXBkYXRlRmxhZzogZmFsc2UsDQogICAgICBpbnN1cmVkOiB7DQogICAgICAgIHBLZXk6ICIiLA0KICAgICAgICBjdXN0b21lclJvbGU6ICIiLA0KICAgICAgICBjdXN0b21lckNvZGU6ICJpbnN1cmVkIiwNCiAgICAgICAgaW5zdXJlZFNlcTogMSwNCiAgICAgICAgaW5zdXJlZEFwcEFnZTogIiIsDQogICAgICAgIGFnZVVuaXQ6ICJZIiwNCiAgICAgICAgaW5zdXJlZE5vOiAiIiwNCiAgICAgICAgaW5zdXJlZFNleDogIiIsDQogICAgICAgIHNtb2tlRmxhZzogIk4iLA0KICAgICAgICByZWxhdGlvblRvTUluc3VyZWQ6ICIiLA0KICAgICAgICBvY2N1cGF0aW9uVHlwZTogIiIsDQogICAgICAgIHNhbGFyeTogIiIsDQogICAgICB9LA0KICAgICAgaW5zdXJlZFJ1bGVzOiB7DQogICAgICAgIGluc3VyZWRTZXE6IFt7dmFsaWRhdG9yOiBjaGVja1NlcSwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIGluc3VyZWRBcHBBZ2U6IFt7dmFsaWRhdG9yOiBjaGVja0FnZSwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIGluc3VyZWRTZXg6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoInByb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uQXBwbnRTZXhtc2ciKSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgYmVuZWZpY2lhcnk6IHsNCiAgICAgICAgcEtleTogIiIsDQogICAgICAgIGN1c3RvbWVyUm9sZTogIiIsDQogICAgICAgIGN1c3RvbWVyQ29kZTogImJlbmVmaWNpYXJ5IiwNCiAgICAgICAgYm5mU2VxOiAxLA0KICAgICAgICBiZWxUb0luc3VyZWRTZXE6ICIiLA0KICAgICAgICBibmZBZ2U6ICIiLA0KICAgICAgICBhZ2VVbml0OiAiWSIsDQogICAgICAgIGJuZk5vOiAiIiwNCiAgICAgICAgYm5mU2V4OiAiIiwNCiAgICAgICAgc21va2VGbGFnOiAiTiIsDQogICAgICAgIHJlbGF0aW9uVG9JbnN1cmVkOiAiIiwNCiAgICAgICAgb2NjdXBhdGlvblR5cGU6ICIiLA0KICAgICAgICBzYWxhcnk6ICIiLA0KICAgICAgfSwNCiAgICAgIGJlbmVmaWNpYXJ5UnVsZXM6IHsNCiAgICAgICAgYm5mU2VxOiBbe3ZhbGlkYXRvcjogY2hlY2tTZXEsIHRyaWdnZXI6ICJibHVyIn1dLA0KICAgICAgICBiZWxUb0luc3VyZWRTZXE6IFt7dmFsaWRhdG9yOiBjaGVja1NlcSwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIGJuZkFnZTogW3t2YWxpZGF0b3I6IGNoZWNrQWdlLCB0cmlnZ2VyOiAiYmx1ciJ9XSwNCiAgICAgICAgYm5mU2V4OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLkFwcG50U2V4bXNnIiksDQogICAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICAgIGJlbmVmaWNpYXJ5Rm9ybUZsYWc6IGZhbHNlLA0KICAgICAgYm5mVXBkYXRlRmxhZzogZmFsc2UsDQogICAgICByZWxhVXBkYXRlRmxhZzogZmFsc2UsDQogICAgICBkaWFsb2dUYWJsZVZpc2libGUxOiBmYWxzZSwNCiAgICAgIHBvbGljeURldGFpbFNob3c6IGZhbHNlLA0KICAgICAgLy/mo4Dpqozop4TliJkNCiAgICAgIHJ1bGVzOiB7fSwNCiAgICAgIGluc3VyYW5jZVNlYXJjaDogew0KICAgICAgICBwZEluZm9JZDogIiIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgbW91bnRlZCgpIHsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsZXQgcGRJbmZvID0gdGhpcy5nZXRKc29uRGF0YSgicGRUZXN0SW5mbyIpOw0KICAgIGlmIChwZEluZm8pIHsNCiAgICAgIHRoaXMucGFyYW1zMS5wZEluZm9JZCA9IHBkSW5mby5pZDsNCiAgICAgIHRoaXMucGRJbmZvLnBkSW5mb0lkID0gcGRJbmZvLmlkOw0KICAgICAgdGhpcy5pbnN1cmFuY2VTZWFyY2gucGRJbmZvSWQgPSBwZEluZm8uaWQ7DQogICAgICB0aGlzLnBkSW5mby5jb21tb2RpdHlUeXBlID0gcGRJbmZvLmNvbW1vZGl0eVR5cGU7DQoNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGRJbmZvSWQgPSBwZEluZm8uaWQ7DQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkQ29kZSA9IHBkSW5mby5wZENvZGU7DQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkTmFtZSA9IHBkSW5mby5wZE5hbWU7DQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkRWRpdGlvbiA9IHBkSW5mby5wZEVkaXRpb247DQoNCiAgICAgIHRoaXMuaW5pdFRlc3RGdW5jU2VsZWN0KCJ1bmRlcndyaXRpbmd0ZXN0IiwgcGRJbmZvLmlkKTsNCiAgICAgIHRoaXMuaW5pdEVsZW1lbnQocGRJbmZvLnBkQ29kZSwgcGRJbmZvLmlkKTsNCiAgICAgIHRoaXMuZmluZEZ1bmNEYXRhQnlJZChwZEluZm8uaWQpOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGZpbmRGdW5jRGF0YUJ5SWQocGRJbmZvSWQpIHsNCiAgICAgIGZpbmRGdW5jRGF0YUJ5SWQoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgICAgcGRJbmZvSWQ6IHBkSW5mb0lkLA0KICAgICAgICB9KQ0KICAgICAgKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5wb2xpY3lDb25maWdzID0gcmVzLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGZpbHRlckN1c3RvbWVyTm8ocm93KSB7DQogICAgICBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gInBvbGljeWhvbGRlciIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5hcHBudE5vOw0KICAgICAgfSBlbHNlIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAiaW5zdXJlZCIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5pbnN1cmVkTm87DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICJiZW5lZmljaWFyeSIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZObzsNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlclNlcShyb3cpIHsNCiAgICAgIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAicG9saWN5aG9sZGVyIikgew0KICAgICAgICByZXR1cm4gcm93LmFwcG50U2VxOw0KICAgICAgfSBlbHNlIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAiaW5zdXJlZCIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5pbnN1cmVkU2VxOw0KICAgICAgfSBlbHNlIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAiYmVuZWZpY2lhcnkiKSB7DQogICAgICAgIHJldHVybiByb3cuYm5mU2VxOw0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyU2V4KHJvdykgew0KICAgICAgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICJwb2xpY3lob2xkZXIiKSB7DQogICAgICAgIHJldHVybiByb3cuYXBwbnRTZXg7DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICJpbnN1cmVkIikgew0KICAgICAgICByZXR1cm4gcm93Lmluc3VyZWRTZXg7DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICJiZW5lZmljaWFyeSIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZTZXg7DQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJBZ2Uocm93KSB7DQogICAgICBsZXQgdW5pdCA9ICIiOw0KICAgICAgaWYgKHJvdy5hZ2VVbml0ID09PSAiWSIpIHsNCiAgICAgICAgdW5pdCA9ICIo5bKBKSI7DQogICAgICB9DQogICAgICBpZiAocm93LmFnZVVuaXQgPT09ICJEIikgew0KICAgICAgICB1bml0ID0gIijlpKkpIjsNCiAgICAgIH0NCiAgICAgIGlmIChyb3cuY3VzdG9tZXJDb2RlID09PSAicG9saWN5aG9sZGVyIikgew0KICAgICAgICByZXR1cm4gcm93LmFwcG50QWdlICsgdW5pdDsNCiAgICAgIH0gZWxzZSBpZiAocm93LmN1c3RvbWVyQ29kZSA9PT0gImluc3VyZWQiKSB7DQogICAgICAgIHJldHVybiByb3cuaW5zdXJlZEFwcEFnZSArIHVuaXQ7DQogICAgICB9IGVsc2UgaWYgKHJvdy5jdXN0b21lckNvZGUgPT09ICJiZW5lZmljaWFyeSIpIHsNCiAgICAgICAgcmV0dXJuIHJvdy5ibmZBZ2UgKyB1bml0Ow0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyQm5mdERldGFpbFR5cGUoY29kZSwgc2VuY29kZSkgew0KICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZU5hbWUoImd1YXJhbnRlZURldGFpbHMuIiArIGNvZGUsIHNlbmNvZGUsIHRydWUpOw0KICAgIH0sDQogICAgYWRkSW5zdXJhbmNlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAiL3Byb2R1Y3QtdGVzdGluZy91bmRlcndyaXRpbmctdGVzdC91bmRlcndyaXRpbmctdGVzdC1hZGRwb2xpY3kiLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBzYXZlUG9saWN5SG9sZGVyKCkgew0KICAgICAgdGhpcy4kcmVmcy5wb2xpY3lGb3JtLnZhbGlkYXRlKChwYXNzKSA9PiB7DQogICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgLy/mn6Xor6LlrqLmiLflj7cNCiAgICAgICAgICBxdWVyeUN1c3RvbWVyTm8oDQogICAgICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdERhdGEoew0KICAgICAgICAgICAgICBzZXg6IHRoaXMucG9saWN5SG9sZGVyLmFwcG50U2V4LA0KICAgICAgICAgICAgICBhZ2U6IHRoaXMucG9saWN5SG9sZGVyLmFwcG50QWdlLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICApLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgbGV0IGN1c3RvbU5vID0gcmVzLmRhdGE7DQogICAgICAgICAgICBpZiAoY3VzdG9tTm8pIHsNCiAgICAgICAgICAgICAgdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRObyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICBpZiAodGhpcy5wb2xpY3lVcGRhdGVGbGFnKSB7DQogICAgICAgICAgICAgICAgLy/lvZPliY3kuLrmm7TmlrANCiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEtleSA9IHRoaXMucG9saWN5SG9sZGVyLnBLZXk7DQogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBvbGljeUhvbGRlcik7DQogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMgPSB0aGlzLmN1c3RvbWVycy5tYXAoKGl0ZW0pID0+DQogICAgICAgICAgICAgICAgICBpdGVtLnBLZXkgPT09IGN1cnJlbnRLZXkgPyB0ZW1wIDogaXRlbQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgdGhpcy5wb2xpY3lVcGRhdGVGbGFnID0gZmFsc2U7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5wb2xpY3lIb2xkZXIucEtleSA9ICJwb2xpY3kiICsgKHRoaXMuY3VzdG9tZXJzLmxlbmd0aCArIDEpOw0KICAgICAgICAgICAgICAgIHRoaXMucG9saWN5SG9sZGVyLmN1c3RvbWVyUm9sZSA9ICLmipXkv53kuroiOw0KICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wb2xpY3lIb2xkZXIpOw0KICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJzLnB1c2godGVtcCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wb2xpY3lGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgICAgICAgIHRoaXMucG9saWN5SG9sZGVyLmFwcG50U2VxID0gdGhpcy5wb2xpY3lIb2xkZXIuYXBwbnRTZXEgKyAxOw0KICAgICAgICAgICAgICB0aGlzLnBvbGljeUhvbGRlci5hcHBudE5vID0gIiI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKA0KICAgICAgICAgICAgICAgIHRoaXMuJHQoInByb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uY3VzdG9tTm9FcnJvck1zZyIpDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2F2ZUluc3VyZWQoKSB7DQogICAgICB0aGlzLiRyZWZzWyJpbnN1cmVkRm9ybSJdLnZhbGlkYXRlKChwYXNzKSA9PiB7DQogICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgLy/mn6Xor6LlrqLmiLflj7cNCiAgICAgICAgICBxdWVyeUN1c3RvbWVyTm8oDQogICAgICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdERhdGEoew0KICAgICAgICAgICAgICBzZXg6IHRoaXMuaW5zdXJlZC5pbnN1cmVkU2V4LA0KICAgICAgICAgICAgICBhZ2U6IHRoaXMuaW5zdXJlZC5pbnN1cmVkQXBwQWdlLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICApLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgbGV0IGN1c3RvbU5vID0gcmVzLmRhdGE7DQogICAgICAgICAgICBpZiAoY3VzdG9tTm8pIHsNCiAgICAgICAgICAgICAgdGhpcy5pbnN1cmVkLmluc3VyZWRObyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICBpZiAodGhpcy5pbnN1cmVkVXBkYXRlRmxhZykgew0KICAgICAgICAgICAgICAgIC8v5b2T5YmN5Li65pu05pawDQogICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRLZXkgPSB0aGlzLmluc3VyZWQucEtleTsNCiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5zdXJlZCk7DQogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMgPSB0aGlzLmN1c3RvbWVycy5tYXAoKGl0ZW0pID0+DQogICAgICAgICAgICAgICAgICBpdGVtLnBLZXkgPT09IGN1cnJlbnRLZXkgPyB0ZW1wIDogaXRlbQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgdGhpcy5pbnN1cmVkVXBkYXRlRmxhZyA9IGZhbHNlOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaW5zdXJlZC5wS2V5ID0gImluc3VyZWQiICsgKHRoaXMuY3VzdG9tZXJzLmxlbmd0aCArIDEpOw0KICAgICAgICAgICAgICAgIHRoaXMuaW5zdXJlZC5jdXN0b21lclJvbGUgPSAi6KKr5L+d5Lq6IjsNCiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5zdXJlZCk7DQogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMucHVzaCh0ZW1wKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLmluc3VyZWRGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgICAgICAgIHRoaXMuaW5zdXJlZC5pbnN1cmVkU2VxID0gdGhpcy5pbnN1cmVkLmluc3VyZWRTZXEgKyAxOw0KICAgICAgICAgICAgICB0aGlzLmluc3VyZWQuaW5zdXJlZE5vID0gIiI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKA0KICAgICAgICAgICAgICAgIHRoaXMuJHQoInByb2R1Y3RUZXN0aW5nTmV3Q2FzZURlZmluaXRpb24uY3VzdG9tTm9FcnJvck1zZyIpDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2hvd0JlbmVmaWNpYXJ5Rm9ybSgpIHsNCiAgICAgIHRoaXMuYmVuZWZpY2lhcnlGb3JtRmxhZyA9ICF0aGlzLmJlbmVmaWNpYXJ5Rm9ybUZsYWc7DQogICAgfSwNCiAgICBzYXZlQmVuZWZpY2lhcnkoKSB7DQogICAgICBsZXQgaW5zdXJlZFNlcSA9IHRoaXMuYmVuZWZpY2lhcnkuYmVsVG9JbnN1cmVkU2VxOw0KDQogICAgICB0aGlzLiRyZWZzWyJibmZGb3JtIl0udmFsaWRhdGUoKHBhc3MpID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICAvL+agoemqjOiiq+S/neS6uuW6j+WIl+WtmOWcqA0KICAgICAgICAgIGlmICgNCiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJzLmZpbHRlcigNCiAgICAgICAgICAgICAgKHJlcykgPT4NCiAgICAgICAgICAgICAgICByZXMuY3VzdG9tZXJDb2RlID09PSAiaW5zdXJlZCIgJiYgcmVzLmluc3VyZWRTZXEgPT09IGluc3VyZWRTZXENCiAgICAgICAgICAgICkubGVuZ3RoID4gMA0KICAgICAgICAgICkgew0KICAgICAgICAgICAgLy/mn6Xor6LlrqLmiLflj7cNCiAgICAgICAgICAgIHF1ZXJ5Q3VzdG9tZXJObygNCiAgICAgICAgICAgICAgdGhpcy5idWlsZFJlcXVlc3REYXRhKHsNCiAgICAgICAgICAgICAgICBzZXg6IHRoaXMuYmVuZWZpY2lhcnkuYm5mU2V4LA0KICAgICAgICAgICAgICAgIGFnZTogdGhpcy5iZW5lZmljaWFyeS5ibmZBZ2UsDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICApLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICBsZXQgY3VzdG9tTm8gPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgaWYgKGN1c3RvbU5vKSB7DQogICAgICAgICAgICAgICAgdGhpcy5iZW5lZmljaWFyeS5ibmZObyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmJuZlVwZGF0ZUZsYWcpIHsNCiAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5Li65pu05pawDQogICAgICAgICAgICAgICAgICBsZXQgY3VycmVudEtleSA9IHRoaXMuYmVuZWZpY2lhcnkucEtleTsNCiAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5iZW5lZmljaWFyeSk7DQogICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVycyA9IHRoaXMuY3VzdG9tZXJzLm1hcCgoaXRlbSkgPT4NCiAgICAgICAgICAgICAgICAgICAgaXRlbS5wS2V5ID09PSBjdXJyZW50S2V5ID8gdGVtcCA6IGl0ZW0NCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICB0aGlzLmJuZlVwZGF0ZUZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgdGhpcy5iZW5lZmljaWFyeS5wS2V5ID0gImJuZiIgKyAodGhpcy5jdXN0b21lcnMubGVuZ3RoICsgMSk7DQogICAgICAgICAgICAgICAgICB0aGlzLmJlbmVmaWNpYXJ5LmN1c3RvbWVyUm9sZSA9ICLlj5fnm4rkuroiOw0KICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmJlbmVmaWNpYXJ5KTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJzLnB1c2godGVtcCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYm5mRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgICAgICAgIHRoaXMuYmVuZWZpY2lhcnkuYm5mU2VxID0gdGhpcy5pbnN1cmVkLmJuZlNlcSArIDE7DQogICAgICAgICAgICAgICAgdGhpcy5iZW5lZmljaWFyeS5ibmZObyA9ICIiOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoDQogICAgICAgICAgICAgICAgICB0aGlzLiR0KCJwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLmN1c3RvbU5vRXJyb3JNc2ciKQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKA0KICAgICAgICAgICAgICB0aGlzLiR0KA0KICAgICAgICAgICAgICAgICJwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLm5vdEV4aXN0SW5zdXJlU2VxRXJyb3JNc2ciDQogICAgICAgICAgICAgICkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGRlbEN1c3RvbWVyKHJvdykgew0KICAgICAgdGhpcy5jdXN0b21lcnMgPSB0aGlzLmN1c3RvbWVycy5maWx0ZXIoKGRhdGEpID0+IGRhdGEucEtleSAhPT0gcm93LnBLZXkpOw0KICAgICAgdGhpcy4kcmVmcy5wb2xpY3lIb2xkZXIucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIGhhbmRsZVNlbGVjdFBvbGljeXMocm93KSB7DQogICAgICB0aGlzLmluaXRQcm9kdWN0T3B0aW9ucyhyb3cpOw0KICAgICAgdGhpcy5wb2xpY3lEZXRhaWxTaG93ID0gdHJ1ZTsNCiAgICAgIHRoaXMucmVzdWx0SWNvbiA9ICJlbC1pY29uLWFycm93LXVwIjsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IHJvdy5jb250Tm87DQogICAgICB0aGlzLnBvbGljeURldGFpbERhdGEgPSByb3c7DQogICAgICB0aGlzLnByb2R1Y3RDb25maWdzID0gcm93LnByb2R1Y3RzOw0KICAgICAgdGhpcy5wbGFuQ29uZmlncyA9IHJvdy5wbGFuczsNCiAgICAgIHRoaXMucGF5bWVudENvbmZpZ3MgPSByb3cucGF5bWVudHM7DQogICAgICB0aGlzLmJuZnRDb25maWdzID0gcm93LmJuZnRzOw0KICAgICAgdGhpcy5zZWxlY3RQb2xpY3lzID0gcm93Ow0KICAgIH0sDQogICAgYnVpbGRQbGFuRGF0YShyb3cpIHsNCiAgICAgIHRoaXMucGxhbkNvbmZpZ3MgPSB0aGlzLnBvbGljeURldGFpbERhdGEucGxhbnMuZmlsdGVyKA0KICAgICAgICAocGxhbikgPT4gcGxhbi5wZENvZGUgPT09IHJvdy5wZENvZGUNCiAgICAgICk7DQogICAgfSwNCiAgICBidWlsZFBheW1lbnRBbmRCbmZ0RGF0YShyb3cpIHsNCiAgICAgIHRoaXMucGF5bWVudENvbmZpZ3MgPSB0aGlzLnBvbGljeURldGFpbERhdGEucGF5bWVudHMuZmlsdGVyKA0KICAgICAgICAocGF5bWVudCkgPT4gcGF5bWVudC5wbGFuQ29kZSA9PT0gcm93LnBsYW5Db2RlDQogICAgICApOw0KICAgICAgdGhpcy5ibmZ0Q29uZmlncyA9IHRoaXMucG9saWN5RGV0YWlsRGF0YS5ibmZ0cy5maWx0ZXIoDQogICAgICAgIChwYXltZW50KSA9PiBwYXltZW50LnBsYW5Db2RlID09PSByb3cucGxhbkNvZGUNCiAgICAgICk7DQogICAgfSwNCiAgICBzaG93SW5jcmVhc2VEZWZpbmUoKSB7DQogICAgICB0aGlzLmluY3JlYXNlRGVmaW5lRmxhZyA9ICF0aGlzLmluY3JlYXNlRGVmaW5lRmxhZzsNCiAgICB9LA0KICAgIGRvd25sb2FkQ2FzZURlZihyb3cpIHsNCiAgICAgIGxldCBmaWxlTmFtZSA9IHJvdy5wZFRlc3RDYXNlQ29kZSArICLkuIrkvKDlrprkuYkueGxzbSI7DQogICAgICBkb3dubG9hZENhc2VEZWYoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7dGVzdENhc2VQYXRoOiByb3cucGRUZXN0Q2FzZVBhdGh9KQ0KICAgICAgKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5kb3dubG9hZFJlc3BvbnNlRmlsZShyZXMsIGZpbGVOYW1lKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsZXRlQ2FzZURlZihpZCkgew0KICAgICAgZGVsZXRlQ2FzZShpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJzdWNjZXNzTWVzc2FnZS5kZWxldGUiKSk7DQogICAgICAgIHRoaXMuJHJlZnMucGFnZTEucmVsb2FkKCk7DQogICAgICAgIHRoaXMucmVzZXRDYXNlRGVmKCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHJlc2V0Q2FzZURlZigpIHsNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24uaWQgPSAiIjsNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGRUZXN0Q2FzZURlc2MgPSAiIjsNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24udGVzdFBvaW50ID0gIiI7DQogICAgICB0aGlzLnRlc3RDYXNlVXBkYXRlRmxhZyA9IGZhbHNlOw0KICAgICAgdGhpcy5jdXN0b21lcnMgPSBbXTsNCiAgICAgIHRoaXMuY3VycmVudFBkUGFnZURhdGEgPSB7fTsNCiAgICAgIHRoaXMucmVsYVBkUGFnZUVsZURhdGFzID0gW107DQogICAgICB0aGlzLmNvbmZpZ3MzID0gW107DQogICAgICB0aGlzLnRhYmxlRmxhZyA9IGZhbHNlOw0KICAgICAgdGhpcy5yZWxhRWxlbWVudFNob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMuaW5pdEVsZW1lbnQoDQogICAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24ucGRDb2RlLA0KICAgICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkSW5mb0lkDQogICAgICApOw0KICAgIH0sDQogICAgaGFuZGxlVXBkYXRlQ2FzZShyb3cpIHsNCiAgICAgIHRoaXMudGVzdENhc2VVcGRhdGVGbGFnID0gdHJ1ZTsNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24uaWQgPSByb3cuaWQ7DQogICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLnBkSW5mb0lkID0gcm93LnBkSW5mb0lkOw0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZENvZGUgPSByb3cucGRDb2RlOw0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZEVkaXRpb24gPSByb3cucGRFZGl0aW9uOw0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZE5hbWUgPSByb3cucGROYW1lOw0KICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5wZFRlc3RDYXNlRGVzYyA9IHJvdy5wZFRlc3RDYXNlRGVzYzsNCiAgICAgIHRoaXMuQ2FzZURlZmluaXRpb24udGVzdFBvaW50ID0gcm93LnBkRnVuY0Rlc2MubWFwKA0KICAgICAgICAoZGF0YSkgPT4gZGF0YS5wZF90ZXN0X2Z1bmNfaWQNCiAgICAgICk7DQogICAgICAvL+WkhOeQhmRhdGENCiAgICAgIGxldCBwZFRlc3RDYXNlRGF0YSA9IEpTT04ucGFyc2Uocm93LnBkVGVzdENhc2VEYXRhKTsNCg0KICAgICAgbGV0IGRhdGEgPSBwZFRlc3RDYXNlRGF0YS50ZXN0RGF0YTsNCg0KICAgICAgdGhpcy5jdXN0b21lcnMgPSBkYXRhLmN1c3RvbWVyczsNCiAgICAgIHRoaXMuY3VycmVudFBkUGFnZURhdGEgPSBkYXRhLmN1cnJlbnRQZFBhZ2VEYXRhOw0KICAgICAgdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMgPSBkYXRhLnJlbGFQZFBhZ2VEYXRhOw0KDQogICAgICBpZiAodGhpcy5wZEluZm8uY29tbW9kaXR5VHlwZSA9PT0gIlIiKSB7DQogICAgICAgIC8v5Zue5pi+6Zmp56eN5a6a5LmJ6aG16Z2i55qE5qCP5L2NDQoNCiAgICAgICAgLy/kuI3og73nm7TmjqXpgY3ljobotYvlgLwg6ZyA5L2/55So5Lit6Ze06L2s5o2iDQogICAgICAgIGxldCB0ZW1wID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVsZW1lbnREYXRhcykpOw0KICAgICAgICB0ZW1wLmZvckVhY2goKHRlbSkgPT4gew0KICAgICAgICAgIHRlbS5jb25maWcuZGVmYXVsdFZhbHVlID0gdGhpcy5jdXJyZW50UGRQYWdlRGF0YVt0ZW0udk1vZGVsXTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuZWxlbWVudERhdGFzID0gdGVtcDsNCiAgICAgICAgdGhpcy5xdWVyeVJlbGFQZERhdGEoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGluaXRFbGVtZW50KHBkQ29kZSwgcGRJbmZvSWQpIHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBwZENvZGU6IHBkQ29kZSwNCiAgICAgICAgcGRJbmZvSWQ6IHBkSW5mb0lkLA0KICAgICAgfTsNCiAgICAgIGluaXRFbGVtZW50KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgdGhpcy5lbGVtZW50RGF0YXMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBpbml0UHJvZHVjdE9wdGlvbnMoZGF0YSkgew0KICAgICAgdGhpcy5wcm9kdWN0T3B0aW9ucyA9IFtdOw0KICAgICAgdGhpcy5wYXltZW50T3B0aW9ucyA9IFtdOw0KICAgICAgZGF0YS5wcm9kdWN0cy5mb3JFYWNoKChwcm9kdWN0KSA9PiB7DQogICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbnMucHVzaCh7DQogICAgICAgICAgbGFiZWw6IHByb2R1Y3QucGRDb2RlICsgIjoiICsgcHJvZHVjdC5wZE5hbWUsDQogICAgICAgICAgdmFsdWU6IHByb2R1Y3QucGRDb2RlLA0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgICAgZGF0YS5wYXltZW50cy5mb3JFYWNoKChwYXltZW50KSA9PiB7DQogICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnMucHVzaCh7DQogICAgICAgICAgbGFiZWw6IHBheW1lbnQucGF5bWVudENvZGUgKyAiOiIgKyBwYXltZW50LnBheW1lbnROYW1lLA0KICAgICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShwYXltZW50KSwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGZpbmRFeHRQcmVtT3B0aW9uc0J5Q29kZShjb2RlKSB7DQogICAgICBsZXQgcGF5bWVudCA9IEpTT04ucGFyc2UoY29kZSk7DQogICAgICB0aGlzLmluY3JlYXNlT2JqZWN0T3B0aW9ucyA9IFtdOw0KICAgICAgdGhpcy5pbmNyZWFzZU1ldGhvZE9wdGlvbnMgPSBbXTsNCiAgICAgIHRoaXMuaW5jcmVhc2VUeXBlT3B0aW9ucyA9IFtdOw0KICAgICAgZmluZEV4dFByZW1PcHRpb25zQnlDb2RlKA0KICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdERhdGEoew0KICAgICAgICAgIGNvZGU6IHBheW1lbnQucGF5bWVudENvZGUsDQogICAgICAgIH0pDQogICAgICApLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICBpZiAoZGF0YSkgew0KICAgICAgICAgIGRhdGEuZm9yRWFjaCgoZXh0UHJlbSkgPT4gew0KICAgICAgICAgICAgdGhpcy5pbmNyZWFzZU9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgIGxhYmVsOiBleHRQcmVtLnBkRXh0UHJlbUNvZGUgKyAiOiIgKyBleHRQcmVtLnBkRXh0UHJlbU5hbWUsDQogICAgICAgICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShleHRQcmVtKSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGZpbmRFeHRQZXJtSW5mbyhkYXRhKSB7DQogICAgICBpZiAoZGF0YSkgew0KICAgICAgICBsZXQgZXh0UHJlbSA9IEpTT04ucGFyc2UoZGF0YSk7DQogICAgICAgIHRoaXMuaW5jcmVhc2UuaW5jcmVhc2VPYmplY3QgPSBleHRQcmVtLnBkRXh0UHJlbU9iajsNCiAgICAgICAgdGhpcy5pbmNyZWFzZS5pbmNyZWFzZU1ldGhvZCA9IGV4dFByZW0ucGRFeHRQcmVtTW9kZTsNCiAgICAgICAgdGhpcy5pbmNyZWFzZS5pbmNyZWFzZVR5cGUgPSBleHRQcmVtLnBkRXh0UHJlbVR5cGU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmluY3JlYXNlLmluY3JlYXNlT2JqZWN0ID0gIiI7DQogICAgICAgIHRoaXMuaW5jcmVhc2UuaW5jcmVhc2VNZXRob2QgPSAiIjsNCiAgICAgICAgdGhpcy5pbmNyZWFzZS5pbmNyZWFzZVR5cGUgPSAiIjsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZEluY3JlYXNlKCkgew0KICAgICAgbGV0IGluY3JlYXNlID0gew0KICAgICAgICBwZENvZGU6IHRoaXMuaW5jcmVhc2UucHJvZHVjdCwNCiAgICAgICAgcGxhbkNvZGU6IEpTT04ucGFyc2UodGhpcy5pbmNyZWFzZS5wYXltZW50KS5wbGFuQ29kZSwNCiAgICAgICAgcGF5bWVudENvZGU6IEpTT04ucGFyc2UodGhpcy5pbmNyZWFzZS5wYXltZW50KS5wYXltZW50Q29kZSwNCiAgICAgICAgcGF5bWVudE5hbWU6IEpTT04ucGFyc2UodGhpcy5pbmNyZWFzZS5wYXltZW50KS5wYXltZW50TmFtZSwNCiAgICAgICAgcHJlbWl1bTogSlNPTi5wYXJzZSh0aGlzLmluY3JlYXNlLnBheW1lbnQpLnByZW1pdW0sDQogICAgICAgIGluY3JlYXNlQ29kZTogSlNPTi5wYXJzZSh0aGlzLmluY3JlYXNlLmluY3JlYXNlKS5wZEV4dFByZW1Db2RlLA0KICAgICAgICBpbmNyZWFzZU9iamVjdDogdGhpcy5pbmNyZWFzZS5pbmNyZWFzZU9iamVjdCwNCiAgICAgICAgaW5jcmVhc2VNZXRob2Q6IHRoaXMuaW5jcmVhc2UuaW5jcmVhc2VNZXRob2QsDQogICAgICAgIGluY3JlYXNlVHlwZTogdGhpcy5pbmNyZWFzZS5pbmNyZWFzZVR5cGUsDQogICAgICAgIGluY3JlYXNlQ291bnQ6IHRoaXMuaW5jcmVhc2UuaW5jcmVhc2VDb3VudCwNCiAgICAgICAgY29tbWVudDogdGhpcy5pbmNyZWFzZS5jb21tZW50LA0KICAgICAgfTsNCiAgICAgIHRoaXMuaW5jcmVhc2VDb25maWdzLnB1c2goaW5jcmVhc2UpOw0KICAgIH0sDQogICAgYnVpbGRFbGVtZW50UnVsZXMoKSB7DQogICAgICBpZiAodGhpcy5lbGVtZW50RGF0YXMpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnREYXRhcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGxldCBlbGUgPSB0aGlzLmVsZW1lbnREYXRhc1tpXTsNCiAgICAgICAgICBlbGVbZWxlLnZNb2RlbF0gPSBlbGUuY29uZmlnLmRlZmF1bHRWYWx1ZTsNCiAgICAgICAgICBpZiAoZWxlLnJlcXVpcmVkKSB7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnRSdWxlc1tlbGUudk1vZGVsXSA9IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiICsgZWxlLmxhYmVsLA0KICAgICAgICAgICAgICAgIHRyaWdnZXI6IGVsZS50eXBlID09PSAic2VsZWN0IiA/ICJjaGFuZ2UiIDogImJsdXIiLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgXTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHF1ZXJ5UmVsYVBkRGF0YSgpIHsNCiAgICAgIHRoaXMudGFibGVGbGFnID0gIXRoaXMudGFibGVGbGFnOw0KICAgICAgaWYgKHRoaXMudGFibGVGbGFnKSB7DQogICAgICAgIGxldCBkYXRhID0ge3BkSW5mb0lkOiB0aGlzLnBkSW5mby5wZEluZm9JZH07DQogICAgICAgIHF1ZXJ5UmVsYVBkKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgbGV0IGxpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgICB0aGlzLnJlbGFQZExpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgICB0aGlzLnJlbGFQZFNlbGVjdCA9IFtdOw0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgbGV0IGRhdGEgPSBsaXN0W2ldOw0KICAgICAgICAgICAgdGhpcy5yZWxhUGRTZWxlY3QucHVzaCh7DQogICAgICAgICAgICAgIGxhYmVsOiBkYXRhLnBkUmVsYUl0ZW1WYWwgKyAiOiIgKyBkYXRhLnBkUmVsYUl0ZW1OYW1lLA0KICAgICAgICAgICAgICB2YWx1ZTogZGF0YS5wZFJlbGFJdGVtVmFsLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgLy/lm57loavmlbDmja4NCiAgICAgICAgICBpZiAodGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMgJiYgdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdGhpcy5jb25maWdzMyA9IFtdOw0KICAgICAgICAgICAgdGhpcy5yZWxhUGRQYWdlRWxlRGF0YXMuZm9yRWFjaCgoZGF0YSkgPT4gew0KICAgICAgICAgICAgICBsZXQgcGRDb2RlID0gZGF0YS5yZWxhUGRDb2RlOw0KICAgICAgICAgICAgICBsZXQgcGRFZGl0aW9uID0gZGF0YS5yZWxhUGRFZGl0aW9uOw0KICAgICAgICAgICAgICBsZXQgdGVtcERhdGEgPSB0aGlzLnJlbGFQZExpc3QuZmlsdGVyKA0KICAgICAgICAgICAgICAgIChkYXRhMikgPT4NCiAgICAgICAgICAgICAgICAgIGRhdGEyLnBkUmVsYUl0ZW1WYWwgPT09IHBkQ29kZSAmJg0KICAgICAgICAgICAgICAgICAgZGF0YTIucGRSZWxhSXRlbUVkaXRpb24gPT09IHBkRWRpdGlvbg0KICAgICAgICAgICAgICApWzBdOw0KICAgICAgICAgICAgICB0ZW1wRGF0YVsiZGVmU3RhdHVzIl0gPSAiWSI7DQogICAgICAgICAgICAgIHRoaXMuY29uZmlnczMucHVzaCh0ZW1wRGF0YSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgcXVlcnlQZEVkdGlvbih2YWwpIHsNCiAgICAgIHRoaXMucmVsYVBkRWRpdGlvblNlbGVjdCA9IFtdOw0KICAgICAgdGhpcy5yZWxhUGRMaXN0DQogICAgICAgIC5maWx0ZXIoKGRhdGEpID0+IGRhdGEucGRSZWxhSXRlbVZhbCA9PT0gdmFsKQ0KICAgICAgICAuZm9yRWFjaCgoZGF0YSkgPT4gew0KICAgICAgICAgIHRoaXMucmVsYVBkRWRpdGlvblNlbGVjdC5wdXNoKHsNCiAgICAgICAgICAgIGxhYmVsOiBkYXRhLnBkUmVsYUl0ZW1FZGl0aW9uLA0KICAgICAgICAgICAgdmFsdWU6IGRhdGEucGRSZWxhSXRlbUVkaXRpb24sDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5yZWxhUGRGb3JtLnJlbGFQZEVkaXRpb25TZWQgPSAiIjsNCiAgICB9LA0KICAgIHNlYXJjaFBvbGljeURhdGEoKSB7DQogICAgICBpZiAodGhpcy5pbnN1cmFuY2VTZWFyY2gudGltZSkgew0KICAgICAgICB0aGlzLmluc3VyYW5jZVNlYXJjaC5zdGFydERhdGUgPSB0aGlzLmluc3VyYW5jZVNlYXJjaC50aW1lWzBdOw0KICAgICAgICB0aGlzLmluc3VyYW5jZVNlYXJjaC5lbmREYXRlID0gdGhpcy5pbnN1cmFuY2VTZWFyY2gudGltZVsxXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuaW5zdXJhbmNlU2VhcmNoLnN0YXJ0RGF0ZSA9ICIiOw0KICAgICAgICB0aGlzLmluc3VyYW5jZVNlYXJjaC5lbmREYXRlID0gIiI7DQogICAgICB9DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwZEluZm9JZDogdGhpcy5wYXJhbXMxLnBkSW5mb0lkLA0KICAgICAgICBjb250Tm86IHRoaXMuaW5zdXJhbmNlU2VhcmNoLmluc3VyYW5jZUNvZGUsDQogICAgICAgIHN0YXJ0RGF0ZTogdGhpcy5pbnN1cmFuY2VTZWFyY2guc3RhcnREYXRlLA0KICAgICAgICBlbmREYXRlOiB0aGlzLmluc3VyYW5jZVNlYXJjaC5lbmREYXRlLA0KICAgICAgfTsNCg0KICAgICAgcXVlcnlQb2xpY3lEYXRhKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5wb2xpY3lzID0gcmVzLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGluaXRSZWxhUGRUYWJsZURhdGEoKSB7DQogICAgICB0aGlzLiRyZWZzLnJlbGFQZEZvcm0udmFsaWRhdGUoKHBhc3MpID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICBsZXQgcGRDb2RlID0gdGhpcy5yZWxhUGRGb3JtLnJlbGFQZFNlZDsNCiAgICAgICAgICBsZXQgcGRFZGl0aW9uID0gdGhpcy5yZWxhUGRGb3JtLnJlbGFQZEVkaXRpb25TZWQ7DQogICAgICAgICAgdGhpcy5yZWxhRWxlbWVudFNob3cgPSBmYWxzZTsNCiAgICAgICAgICBsZXQgZmxhZyA9IHRoaXMuY29uZmlnczMuc29tZSgoZGF0YSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgZGF0YS5wZFJlbGFJdGVtVmFsID09PSBwZENvZGUgJiYNCiAgICAgICAgICAgICAgZGF0YS5wZFJlbGFJdGVtRWRpdGlvbiA9PT0gcGRFZGl0aW9uDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgbGV0IHRlbXBEYXRhID0gdGhpcy5yZWxhUGRMaXN0LmZpbHRlcigNCiAgICAgICAgICAgICAgKGRhdGEyKSA9Pg0KICAgICAgICAgICAgICAgIGRhdGEyLnBkUmVsYUl0ZW1WYWwgPT09IHBkQ29kZSAmJg0KICAgICAgICAgICAgICAgIGRhdGEyLnBkUmVsYUl0ZW1FZGl0aW9uID09PSBwZEVkaXRpb24NCiAgICAgICAgICAgIClbMF07DQogICAgICAgICAgICB0ZW1wRGF0YVsiZGVmU3RhdHVzIl0gPSAiTiI7DQogICAgICAgICAgICB0aGlzLmNvbmZpZ3MzLnB1c2godGVtcERhdGEpOw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RDb25maWdzMyA9ICIiOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKA0KICAgICAgICAgICAgICB0aGlzLiR0KCJwcm9kdWN0VGVzdGluZ05ld0Nhc2VEZWZpbml0aW9uLnJlbGFBZGRNc2ciKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsU2VsZWN0UmVsYVBkKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMuaW5jcmVhc2VDb25maWdzLnNwbGljZShpbmRleCwgMSk7DQogICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcyA9IHRoaXMucmVsYVBkUGFnZUVsZURhdGFzLmZpbHRlcigNCiAgICAgICAgKGRhdGEyKSA9Pg0KICAgICAgICAgICEoDQogICAgICAgICAgICByb3cucGRSZWxhSXRlbVZhbCA9PT0gZGF0YTIucmVsYVBkQ29kZSAmJg0KICAgICAgICAgICAgcm93LnBkUmVsYUl0ZW1FZGl0aW9uID09PSBkYXRhMi5yZWxhUGRFZGl0aW9uDQogICAgICAgICAgKQ0KICAgICAgKTsNCiAgICB9LA0KICAgIHNhdmVSZWxhUGRQYWdlRWxlbWVudCgpIHsNCiAgICAgIGxldCBkYXRhID0ge307DQogICAgICBsZXQgcmVzdWx0ID0ge307DQogICAgICBsZXQgZmxhZyA9IHRydWU7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYUVsZW1lbnREYXRhcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBsZXQgZGF0YSA9IHRoaXMucmVsYUVsZW1lbnREYXRhc1tpXTsNCiAgICAgICAgaWYgKGRhdGEucmVxdWlyZWQpIHsNCiAgICAgICAgICBpZiAoIWRhdGEuY29uZmlnLmRlZmF1bHRWYWx1ZSkgew0KICAgICAgICAgICAgZmxhZyA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+36L6T5YWlIiArIGRhdGEubGFiZWwpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJlc3VsdFtkYXRhLnZNb2RlbF0gPSBkYXRhLmNvbmZpZy5kZWZhdWx0VmFsdWU7DQogICAgICB9DQogICAgICBpZiAoZmxhZykgew0KICAgICAgICBkYXRhWyJyZWxhUGRDb2RlIl0gPSB0aGlzLnJlbGFQZENvZGU7DQogICAgICAgIGRhdGFbInJlbGFQZEVkaXRpb24iXSA9IHRoaXMucmVsYVBkRWRpdGlvbjsNCiAgICAgICAgZGF0YVsicGFyYW0iXSA9IHJlc3VsdDsNCiAgICAgICAgaWYgKHRoaXMucmVsYVVwZGF0ZUZsYWcpIHsNCiAgICAgICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcyA9IHRoaXMucmVsYVBkUGFnZUVsZURhdGFzLm1hcCgoaXRlbSkgPT4NCiAgICAgICAgICAgIGl0ZW0ucmVsYVBkQ29kZSA9PT0gdGhpcy5yZWxhUGRDb2RlICYmDQogICAgICAgICAgICBpdGVtLnJlbGFQZEVkaXRpb24gPT09IHRoaXMucmVsYVBkRWRpdGlvbg0KICAgICAgICAgICAgICA/IGRhdGENCiAgICAgICAgICAgICAgOiBpdGVtDQogICAgICAgICAgKTsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgic3VjY2Vzc01lc3NhZ2UudXBkYXRlIikpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucmVsYVBkUGFnZUVsZURhdGFzLnB1c2goZGF0YSk7DQogICAgICAgICAgbGV0IHRlbXBDb25maWdzMyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb25maWdzMykpOw0KICAgICAgICAgIHRlbXBDb25maWdzMy5mb3JFYWNoKChjb24pID0+IHsNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgY29uLnBkUmVsYUl0ZW1WYWwgPT09IHRoaXMucmVsYVBkQ29kZSAmJg0KICAgICAgICAgICAgICBjb24ucGRSZWxhSXRlbUVkaXRpb24gPT09IHRoaXMucmVsYVBkRWRpdGlvbg0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIGNvbi5kZWZTdGF0dXMgPSAiWSI7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5jb25maWdzMyA9IHRlbXBDb25maWdzMzsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbmZpZ3MzKTsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgic3VjY2Vzc01lc3NhZ2UuYWRkIikpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMucmVsYVVwZGF0ZUZsYWcgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlUmVsYVBkKHJvdykgew0KICAgICAgdGhpcy5yZWxhUGRFZGl0aW9uID0gcm93LnBkUmVsYUl0ZW1FZGl0aW9uOw0KICAgICAgdGhpcy5yZWxhUGRDb2RlID0gcm93LnBkUmVsYUl0ZW1WYWw7DQogICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgcGRDb2RlOiByb3cucGRSZWxhSXRlbVZhbCwNCiAgICAgICAgcGRJbmZvSWQ6IHJvdy5wZFJlbGFJdGVtSWQsDQogICAgICB9Ow0KICAgICAgdGhpcy5yZWxhRWxlbWVudFNob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMucmVsYVVwZGF0ZUZsYWcgPSBmYWxzZTsNCiAgICAgIGluaXRFbGVtZW50KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgdGhpcy5yZWxhRWxlbWVudERhdGFzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgbGV0IHRlbXAgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucmVsYUVsZW1lbnREYXRhcykpOyAvL+a3seWFi+mahg0KICAgICAgICBpZiAodGhpcy5yZWxhRWxlbWVudERhdGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLnJlbGFFbGVtZW50U2hvdyA9IHRydWU7DQogICAgICAgICAgLy/lm57mmL7lvZPliY3mkK3phY3kuqflk4HkuIvpmannp43pobXpnaLnmoTmlbDmja4NCiAgICAgICAgICB0aGlzLnJlbGFQZFBhZ2VFbGVEYXRhcw0KICAgICAgICAgICAgLmZpbHRlcigNCiAgICAgICAgICAgICAgKHJlbGFkYXRhKSA9Pg0KICAgICAgICAgICAgICAgIHJlbGFkYXRhLnJlbGFQZENvZGUgPT09IGRhdGEucGRDb2RlICYmDQogICAgICAgICAgICAgICAgcmVsYWRhdGEucmVsYVBkRWRpdGlvbiA9PT0gdGhpcy5yZWxhUGRFZGl0aW9uDQogICAgICAgICAgICApDQogICAgICAgICAgICAuZm9yRWFjaCgodGVtcDIpID0+IHsNCiAgICAgICAgICAgICAgbGV0IHBhcmFtID0gdGVtcDIucGFyYW07DQogICAgICAgICAgICAgIHRlbXAuZm9yRWFjaCgocmVsYSkgPT4gew0KICAgICAgICAgICAgICAgIHJlbGEuY29uZmlnLmRlZmF1bHRWYWx1ZSA9IHBhcmFtW3JlbGEudk1vZGVsXTsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbGFVcGRhdGVGbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLnJlbGFFbGVtZW50RGF0YXMgPSB0ZW1wOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNhdmVDYXNlRGVmKCkgew0KICAgICAgdGhpcy4kcmVmcy5jYXNlRGVmRm9ybS52YWxpZGF0ZSgocGFzcykgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0UG9saWN5cyk7DQogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0UG9saWN5cykgew0KICAgICAgICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvblsiZGF0YSJdID0ge307DQogICAgICAgICAgICAvL+S/neWtmOS6p+WTgemZqeenjeWumuWItumhtemdouS/oeaBrw0KICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHt9Ow0KICAgICAgICAgICAgcmVzdWx0WyJwcm9kdWN0Q29kZSJdID0gdGhpcy5DYXNlRGVmaW5pdGlvbi5wZENvZGU7DQogICAgICAgICAgICByZXN1bHRbInByb2R1Y3RWZXJzaW9uTm8iXSA9IHRoaXMuQ2FzZURlZmluaXRpb24ucGRFZGl0aW9uOw0KICAgICAgICAgICAgdGhpcy5DYXNlRGVmaW5pdGlvbi5kYXRhWyJwb2xpY3kiXSA9IHRoaXMuc2VsZWN0Q29uZmlnczI7DQogICAgICAgICAgICB0aGlzLkNhc2VEZWZpbml0aW9uLmRhdGFbImFkZEZlZURhdGEiXSA9IHRoaXMuaW5jcmVhc2VDb25maWdzOw0KICAgICAgICAgICAgLy/kv53lrZjlhaXlupMNCiAgICAgICAgICAgIHNhdmVDYXNlRGVmKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLkNhc2VEZWZpbml0aW9uKSkudGhlbigNCiAgICAgICAgICAgICAgKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCJzdWNjZXNzTWVzc2FnZS5zYXZlIikpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZTEucmVsb2FkKCk7DQogICAgICAgICAgICAgICAgdGhpcy5yZXNldENhc2VEZWYoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+36YCJ5oup5LiA5byg5L+d5Y2VIik7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZm9jdXNJdGVtKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaW5pdFRlc3RGdW5jU2VsZWN0KHRlc3RNb2R1bGVDb2RlLCBwZEluZm9JZCkgew0KICAgICAgdGhpcy5mdW5jU2VsZWN0ID0gW107DQogICAgICBxdWVyeVBkVGVzdEZ1bmMoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgICAgdGVzdE1vZHVsZUNvZGU6IHRlc3RNb2R1bGVDb2RlLA0KICAgICAgICAgIHBkSW5mb0lkOiBwZEluZm9JZCwNCiAgICAgICAgfSkNCiAgICAgICkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGxldCBmdW5jcyA9IHJlcy5kYXRhOw0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgbGV0IGRhdGEgPSBmdW5jc1tpXTsNCiAgICAgICAgICB0aGlzLmZ1bmNTZWxlY3QucHVzaCh7DQogICAgICAgICAgICBsYWJlbDogZGF0YS5wZFRlc3RGdW5jQ29kZSArICI6IiArIGRhdGEucGRUZXN0RnVuY0Rlc2MsDQogICAgICAgICAgICB2YWx1ZTogZGF0YS5pZCwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB0ZW1wbGF0ZURvd25sb2FkKCkgew0KICAgICAgZG93bmxvYWRDYXNlVGVtcGxhdGUoDQogICAgICAgIHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7dGVzdE1vZHVsZTogIm5ldy1zaW5nbGUtdGVzdCJ9KQ0KICAgICAgKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5kb3dubG9hZFJlc3BvbnNlRmlsZShyZXMsICJOZXdTaW5nbGVUZXN0Q2FzZVRlbXBsYXRlLnhsc20iKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgb3BlblVwbG9hZERpYWxvZygpIHsNCiAgICAgIHRoaXMuZGlhbG9nVGFibGVWaXNpYmxlMSA9IHRydWU7DQogICAgfSwNCiAgICBoaWRlUG9saWN5RGF0YURldGFpbCgpIHsNCiAgICAgIGlmICh0aGlzLnJlc3VsdEljb24gPT09ICJlbC1pY29uLWFycm93LWRvd24iKSB7DQogICAgICAgIHRoaXMucG9saWN5RGV0YWlsU2hvdyA9IHRydWU7DQogICAgICAgIHRoaXMucmVzdWx0SWNvbiA9ICJlbC1pY29uLWFycm93LXVwIjsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXN1bHRJY29uID09PSAiZWwtaWNvbi1hcnJvdy11cCIpIHsNCiAgICAgICAgdGhpcy5wb2xpY3lEZXRhaWxTaG93ID0gZmFsc2U7DQogICAgICAgIHRoaXMucmVzdWx0SWNvbiA9ICJlbC1pY29uLWFycm93LWRvd24iOw0KICAgICAgfQ0KICAgIH0sDQogICAgdGVzdENhc2VVcGxvYWQoKSB7DQogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+36YCJ5oup5LiK5Lyg55qE5paH5Lu2Iik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgZm9ybURhdGEgPSB0aGlzLnVwbG9hZFV0aWwodGhpcy5maWxlTGlzdCk7DQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgicGRJbmZvSWQiLCB0aGlzLkNhc2VEZWZpbml0aW9uLnBkSW5mb0lkKTsNCiAgICAgICAgdXBsb2FkVGVzdENhc2UoZm9ybURhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygi5LiK5Lyg5oiQ5YqfIik7DQogICAgICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xlYXJGaWxlcygpOw0KICAgICAgICAgIHRoaXMuYmFjazEoKTsNCiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2UxLnJlbG9hZCgpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2sxKCkgew0KICAgICAgdGhpcy5kaWFsb2dUYWJsZVZpc2libGUxID0gZmFsc2U7DQogICAgfSwNCiAgICBiYWNrUGFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAiL3Byb2R1Y3QtdGVzdGluZy91bmRlcndyaXRpbmctdGVzdC91bmRlcndyaXRpbmctdGVzdC1kZXRhaWwifSk7DQogICAgfSwNCiAgICAvL+aWh+S7tueKtuaAgeaUueWPmOaXtueahOmSqeWtkO+8jOa3u+WKoOaWh+S7tuOAgeS4iuS8oOaIkOWKn+WSjOS4iuS8oOWksei0peaXtumDveS8muiiq+iwg+eUqA0KICAgIGhhbmRsZUNoYW5nZShmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDEpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlTGlzdC5sZW5ndGggLSAxOyBpKyspIHsNCiAgICAgICAgICBpZiAoZmlsZS5uYW1lID09PSBmaWxlTGlzdFtpXS5uYW1lKSB7DQogICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgICB0aXRsZTogIumUmeivryIsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDmlofku7blkI3kuI3og73ph43lpI0hIiwNCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGZpbGVMaXN0LnBvcCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0Ow0KDQogICAgICAvKg0KICAgICAgIHZhciBtc2cgPSBmaWxlLm5hbWUuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpICsgMSkNCiAgICAgICAvL+WIpOaWreaWh+S7tuagvOW8jw0KICAgICAgIGlmICghKG1zZyA9PT0gJ3hscycgfHwgbXNnID09PSAneGxzeCcpKSB7DQogICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsDQogICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmlofku7blj6rog73mmK8geGxz44CBeGxzeOagvOW8jyEnLA0KICAgICAgICAgICBkdXJhdGlvbjogMjAwDQogICAgICAgICB9KQ0KICAgICAgICAgcmV0dXJuDQogICAgICAgfSovDQogICAgICAvL+WIpOaWreaWh+S7tuWkp+Wwjw0KICAgICAgaWYgKCEoZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMCkpIHsNCiAgICAgICAgLy8gdGhpcy4kcmVmcy5maWxlVXBsb2FkLmNsZWFyRmlsZXMoKQ0KICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgIHRpdGxlOiAi6ZSZ6K+vIiwNCiAgICAgICAgICBtZXNzYWdlOiAi5LiK5Lyg5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HIDEwTUIhIiwNCiAgICAgICAgICBkdXJhdGlvbjogNTAwLA0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/mlofku7botoXlh7rkuKrmlbDpmZDliLbml7bnmoTpkqnlrZANCiAgICBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLiRub3RpZnkud2FybmluZyh7DQogICAgICAgIHRpdGxlOiAi5o+Q56S6IiwNCiAgICAgICAgbWVzc2FnZTogIuacgOWkmuS4iuS8oOS4ieS4quaWh+S7tizmm7/mjaLor7flhYjnp7vpmaTvvIEiLA0KICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlUmVzdWx0KHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOS4iuS8oOaWh+S7tuWksei0pWApOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/underwriting-test/casedef","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :label=\"$t('productUnderwritingTestCaseDefinition.CaseDefinition')\" @backTo=\"backPage\"/>\r\n\r\n    <cus-commodity-info></cus-commodity-info>\r\n    <!---->\r\n\r\n    <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.testCase')\"/>\r\n\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs1\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCase\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testPoint')\" align=\"center\"\r\n                       prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-if=\"scope.row.pdTestCaseDefinition === '2'\" v-auth=\"'new-single-test:downloadCase'\" class=\"filter-button\" icon=\"el-icon-download\"\r\n                     size=\"mini\" @click=\"downloadCaseDef(scope.row)\">\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'new-single-test:deleteCase'\" :disabled=\"scope.row.pdTestStatus==='1'\"\r\n                       @ok=\"deleteCaseDef(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page1\" v-model=\"configs1\" :pageSize=\"10\" :params=\"params1\"\r\n                    url=\"/underwriting-test/base/queryPdTestCase\"/>\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('productUnderwritingTestCaseDefinition.CaseDefinition')\"/>\r\n    <el-form ref=\"caseDefForm\" :model=\"CaseDefinition\" :rules=\"defRules\" class=\"demo-ruleForm\"\r\n             label-width=\"auto\" style=\"margin-left: 30px\">\r\n\r\n      <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.testPoint')\" prop=\"testPoint\">\r\n        <el-select v-model=\"CaseDefinition.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\" clearable multiple\r\n                   style=\"width: 300px\">\r\n          <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n\r\n    <cus-form-title :label=\"$t('productUnderwritingTestCaseDefinition.insuranceSelection')\"/>\r\n\r\n    <el-form ref=\"searchForm\" :model=\"insuranceSearch\" class=\"demo-ruleForm\" label-width=\"auto\"\r\n             style=\"margin-left: 30px\">\r\n      <el-row>\r\n        <el-col :span=\"5\">\r\n          <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.insuranceCode')\">\r\n            <el-input v-model=\"insuranceSearch.insuranceCode\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :offset=\"3\" :span=\"7\">\r\n          <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.effectiveDate')\">\r\n            <el-date-picker v-model=\"insuranceSearch.times\" :end-placeholder=\"$t('productSelect.productApplyEndDate')\" :range-separator=\"$t('productSelect.to')\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            :start-placeholder=\"$t('productSelect.productApplyStartDate')\" type=\"daterange\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item>\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"searchPolicyData\">\r\n              {{ $t('productTestingUnderwriting.search') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addInsurance\">\r\n          {{ $t('productUnderwritingTestCaseDefinition.addInsurance') }}\r\n        </el-button>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.insurance')\"/>\r\n\r\n    <el-table :data=\"policyConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs2\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleSelectPolicys\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceCode')\" align=\"center\"\r\n                       prop=\"contNo\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceStartDate')\" align=\"center\"\r\n                       prop=\"effectiveDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceDetail')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button :disabled=\"scope.row.contNo !== selectedId\" :icon=\"resultIcon\"\r\n                     class=\"filter-button\" size=\"mini\" @click=\"hidePolicyDataDetail(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div v-if=\"policyDetailShow\">\r\n      <!---->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.product')\"></cus-table-title>\r\n        <el-table :data=\"productConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" width=\"50\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs5\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row\" @change=\"buildPlanData\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"\r\n                           prop=\"pdName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.effectiveDate')\" align=\"center\"\r\n                           prop=\"effectiveDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentDeadline')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n      <!---->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.programInformation')\"></cus-table-title>\r\n        <el-table :data=\"planConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" width=\"50\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs6\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row\" @change=\"buildPaymentAndBnftData\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.programName')\" align=\"center\"\r\n                           prop=\"planName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentDeadline')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n        </el-table>\r\n\r\n      </div>\r\n      <!---->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.paymentInformation')\"></cus-table-title>\r\n        <el-table :data=\"paymentConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentCode')\" align=\"center\"\r\n                           prop=\"paymentCode\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentName')\" align=\"center\"\r\n                           prop=\"paymentName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premiumCalculation')\" align=\"center\"\r\n                           prop=\"premiumCalMethod\">\r\n            <template v-slot=\"scope\">{{ scope.row.premiumCalMethod | filterCalMethod }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentBeginDate')\" align=\"center\"\r\n                           prop=\"payStartDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentEndDate')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentMethod')\" align=\"center\"\r\n                           prop=\"paymentMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.paymentMode | filterFreqType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!---->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.guaranteeInformation')\"></cus-table-title>\r\n        <el-table :data=\"bnftConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\"\r\n                            prop=\"benefitCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftName')\" align=\"center\" prop=\"benefitName\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"  prop=\"\">\r\n            <template v-slot=\"scope\">{{ scope.row.benefitType | filterBnftType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftDetailType')\" align=\"center\" prop=\"bnftDetailType\">\r\n            <template v-slot=\"scope\">{{ filterBnftDetailType(scope.row.benefitType, scope.row.bnftDetailType) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.startDateOfInsurance')\" align=\"center\"\r\n                           prop=\"starBnftDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.endDateOfInsurance')\" align=\"center\"\r\n                           prop=\"endBnftDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.startDateOfCollection')\" align=\"center\"\r\n                           prop=\"startDateOfCollection\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.endDateOfCollection')\" align=\"center\"\r\n                           prop=\"collectionDeadline\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.coverageForTheNextYear')\" align=\"center\"\r\n                           prop=\"nextYearAmount\"/>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    <cus-form-title :label=\"$t('productUnderwritingTestCaseDefinition.increaseDefine')\" :showArrow=\"true\"\r\n                    @show=\"showIncreaseDefine\"/>\r\n    <div v-if=\"increaseDefineFlag\">\r\n      <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.increaseInformation')\"></cus-table-title>\r\n      <el-table :data=\"increaseConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                         prop=\"pdCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                         prop=\"planCode\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentCode')\" align=\"center\"\r\n                         prop=\"paymentCode\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentName')\" align=\"center\"\r\n                         prop=\"paymentName\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                         prop=\"premium\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseObject')\" align=\"center\"\r\n                         prop=\"increaseObject\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseMethod')\" align=\"center\"\r\n                         prop=\"increaseMethod\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseType')\" align=\"center\"\r\n                         prop=\"increaseType\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseCount')\" align=\"center\"\r\n                         prop=\"increaseCount\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"delSelectRelaPd(scope.$index,scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <el-form ref=\"insuredForm\"  :model=\"increase\" label-width=\"auto\">\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.product')\" prop=\"product\">\r\n              <el-select v-model=\"increase.product\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable>\r\n                <el-option v-for=\"item in productOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.paymentInformation')\"\r\n                          prop=\"payment\">\r\n              <el-select v-model=\"increase.payment\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable\r\n                         @change=\"findExtPremOptionsByCode\">\r\n                <el-option v-for=\"item in paymentOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increase')\" prop=\"payment\">\r\n              <el-select v-model=\"increase.increase\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable\r\n                         @change=\"findExtPermInfo\">\r\n                <el-option v-for=\"item in increaseOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseObject')\"\r\n                          prop=\"increaseObject\">\r\n              <!-- <el-select v-model=\"increase.increaseObject\" disabled clearable>\r\n                <el-option v-for=\"item in increaseObjectOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseObject\" :codetype=\"'pdAddPremObj'\" disabled></cus-select>\r\n\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseMethod')\"\r\n                          prop=\"increaseMethod\">\r\n              <!-- <el-select v-model=\"increase.increaseMethod\" disabled clearable>\r\n                <el-option v-for=\"item in increaseMethodOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseMethod\" :codetype=\"'pd_prem_addition_addition_mode'\"\r\n                          disabled></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseType')\"\r\n                          prop=\"increaseType\">\r\n              <!-- <el-select v-model=\"increase.increaseType\" disabled clearable>\r\n                <el-option v-for=\"item in increaseTypeOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseType\" :codetype=\"'pd_prem_addition_type'\" disabled></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.comment')\">\r\n              <el-input v-model.number=\"increase.comment\" clearable>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseCount')\">\r\n              <el-input v-model.number=\"increase.increaseCount\" clearable>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col  align=\"right\">\r\n            <el-button icon=\"el-icon-plus\" size=\"small\"  type=\"primary\" @click=\"addIncrease\">\r\n              {{ $t('productUnderwritingTestCaseDefinition.add') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col :span=\"24\" align=\"right\">\r\n        <el-button icon=\"el-icon-success\" size=\"small\"  type=\"primary\" @click=\"saveCaseDef\">\r\n          {{ $t('table.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  deleteCase,\r\n  downloadCaseDef,\r\n  downloadCaseTemplate,\r\n  findExtPremOptionsByCode,\r\n  findFuncDataById,\r\n  initElement,\r\n  queryCustomerNo,\r\n  queryPdTestFunc,\r\n  queryPolicyData,\r\n  queryRelaPd,\r\n  saveCaseDef,\r\n  uploadTestCase,\r\n} from \"@/api/basicinfo/productUnderwritingTest\";\r\n\r\nlet _this;\r\nexport default {\r\n  name: \"underwritingTestCaseDefinition\",\r\n  filters: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code];\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code];\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName(\"sex\", code, true);\r\n    },\r\n    filterRela(code) {\r\n      return _this.getCodeName(\"insuranceRelationship\", code);\r\n    },\r\n    filterRelationToInsured(code) {\r\n      return _this.getCodeName(\"relagenttoins\", code);\r\n    },\r\n    filterCurrency(code) {\r\n      return _this.getCodeName(\"currency2\", code, true);\r\n    },\r\n    filterCalMethod(code) {\r\n      return _this.getCodeName(\"pd_prem_cal_method\", code, true);\r\n    },\r\n    filterFreqType(code) {\r\n      return _this.getCodeName(\"pd_prem_freq\", code, true);\r\n    },\r\n    filterBnftType(code) {\r\n      return _this.getCodeName(\"guaranteeDetails\", code, true);\r\n    },\r\n  },\r\n  data() {\r\n    let checkAge = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(\r\n          new Error(this.$t(\"productTestingNewCaseDefinition.AppntAgemsg\"))\r\n        );\r\n      }\r\n      if (!Number.isInteger(value)) {\r\n        callback(new Error(this.$t(\"i18nView.pleaseInputNumValue\")));\r\n      } else {\r\n        if (value < 1) {\r\n          return callback(new Error(this.$t(\"i18nView.notAge\")));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    let checkSeq = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(\r\n          new Error(this.$t(\"productTestingNewCaseDefinition.AppntSeqmsg\"))\r\n        );\r\n      }\r\n      if (value < 1) {\r\n        return callback(new Error(\"1\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    _this = this;\r\n    return {\r\n      testCaseType: {\"1\": \"\", \"2\": \"\"},\r\n      testCaseDefinition: {\"1\": \"\", \"2\": \"\"},\r\n      selectConfigs1: \"\",\r\n      selectConfigs2: \"\",\r\n      selectConfigs3: \"\",\r\n      selectedId: \"\",\r\n      funcSelect: [],\r\n      elementDatas: {},\r\n      currentPdPageData: {},\r\n      elementRules: {},\r\n      policyDetailData: {},\r\n      increase: {},\r\n      configs1: [],\r\n      configs2: [],\r\n      configs3: [],\r\n      productConfigs: [],\r\n      planConfigs: [],\r\n      paymentConfigs: [],\r\n      bnftConfigs: [],\r\n      policyConfigs: [],\r\n      increaseConfigs: [],\r\n      productOptions: [],\r\n      paymentOptions: [],\r\n      increaseOptions: [],\r\n      increaseObjectOptions: [],\r\n      increaseMethodOptions: [],\r\n      increaseTypeOptions: [],\r\n      selectPolicys: [],\r\n      selectConfigs5: \"\",\r\n      selectConfigs6: \"\",\r\n      testCaseUpdateFlag: false,\r\n      increaseDefineFlag: false,\r\n      resultIcon: \"el-icon-arrow-down\",\r\n      relaPdList: [],\r\n      relaPdSelect: [],\r\n      relaPdEditionSelect: [],\r\n      relaPdPageEleDatas: [],\r\n      relaPdForm: {\r\n        relaPdSed: \"\",\r\n        relaPdEditionSed: \"\",\r\n      },\r\n      relaPdRules: {\r\n        relaPdSed: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.relaPdmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        relaPdEditionSed: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\r\n              \"productTestingNewCaseDefinition.relaPdEditionmsg\"\r\n            ),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      relaPdCode: \"\",\r\n      relaPdEdition: \"\",\r\n      relaElementDatas: {},\r\n      relaElementShow: false,\r\n      tableFlag: false,\r\n      quickicon: \"el-icon-arrow-right\",\r\n      fileList: [],\r\n      params1: {},\r\n      params2: {},\r\n      pdInfo: {\r\n        pdInfoId: \"\",\r\n        commodityType: \"\",\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdName: \"\",\r\n        pdEdition: \"\",\r\n        pdTestCaseDesc: \"\",\r\n        testPoint: \"\",\r\n      },\r\n      defRules: {\r\n        pdTestCaseDesc: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.casedescmsg\"),\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        testPoint: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.testpointmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      CaseDetails: {},\r\n      customers: [],\r\n      policy: [],\r\n      policyUpdateFlag: false,\r\n      policyHolder: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"policyholder\",\r\n        appntSeq: 1,\r\n        appntAge: \"\",\r\n        appntNo: \"\",\r\n        appntSex: \"\",\r\n        ageUnit: \"Y\",\r\n        smokeFlag: \"N\",\r\n        relationToInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      policyHolderRules: {\r\n        appntSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        appntAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        appntSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      insuredUpdateFlag: false,\r\n      insured: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"insured\",\r\n        insuredSeq: 1,\r\n        insuredAppAge: \"\",\r\n        ageUnit: \"Y\",\r\n        insuredNo: \"\",\r\n        insuredSex: \"\",\r\n        smokeFlag: \"N\",\r\n        relationToMInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      insuredRules: {\r\n        insuredSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        insuredAppAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        insuredSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      beneficiary: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"beneficiary\",\r\n        bnfSeq: 1,\r\n        belToInsuredSeq: \"\",\r\n        bnfAge: \"\",\r\n        ageUnit: \"Y\",\r\n        bnfNo: \"\",\r\n        bnfSex: \"\",\r\n        smokeFlag: \"N\",\r\n        relationToInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      beneficiaryRules: {\r\n        bnfSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        belToInsuredSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        bnfAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        bnfSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      beneficiaryFormFlag: false,\r\n      bnfUpdateFlag: false,\r\n      relaUpdateFlag: false,\r\n      dialogTableVisible1: false,\r\n      policyDetailShow: false,\r\n      //\r\n      rules: {},\r\n      insuranceSearch: {\r\n        pdInfoId: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdInfo = this.getJsonData(\"pdTestInfo\");\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id;\r\n      this.pdInfo.pdInfoId = pdInfo.id;\r\n      this.insuranceSearch.pdInfoId = pdInfo.id;\r\n      this.pdInfo.commodityType = pdInfo.commodityType;\r\n\r\n      this.CaseDefinition.pdInfoId = pdInfo.id;\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode;\r\n      this.CaseDefinition.pdName = pdInfo.pdName;\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition;\r\n\r\n      this.initTestFuncSelect(\"underwritingtest\", pdInfo.id);\r\n      this.initElement(pdInfo.pdCode, pdInfo.id);\r\n      this.findFuncDataById(pdInfo.id);\r\n    }\r\n  },\r\n  methods: {\r\n    findFuncDataById(pdInfoId) {\r\n      findFuncDataById(\r\n        this.buildRequestData({\r\n          pdInfoId: pdInfoId,\r\n        })\r\n      ).then((res) => {\r\n        this.policyConfigs = res.data;\r\n      });\r\n    },\r\n    filterCustomerNo(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntNo;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredNo;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfNo;\r\n      }\r\n    },\r\n    filterSeq(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntSeq;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredSeq;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfSeq;\r\n      }\r\n    },\r\n    filterSex(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntSex;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredSex;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfSex;\r\n      }\r\n    },\r\n    filterAge(row) {\r\n      let unit = \"\";\r\n      if (row.ageUnit === \"Y\") {\r\n        unit = \"()\";\r\n      }\r\n      if (row.ageUnit === \"D\") {\r\n        unit = \"()\";\r\n      }\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntAge + unit;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredAppAge + unit;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfAge + unit;\r\n      }\r\n    },\r\n    filterBnftDetailType(code, sencode) {\r\n      return this.getCodeName(\"guaranteeDetails.\" + code, sencode, true);\r\n    },\r\n    addInsurance() {\r\n      this.$router.push({\r\n        path: \"/product-testing/underwriting-test/underwriting-test-addpolicy\",\r\n      });\r\n    },\r\n    savePolicyHolder() {\r\n      this.$refs.policyForm.validate((pass) => {\r\n        if (pass) {\r\n          //\r\n          queryCustomerNo(\r\n            this.buildRequestData({\r\n              sex: this.policyHolder.appntSex,\r\n              age: this.policyHolder.appntAge,\r\n            })\r\n          ).then((res) => {\r\n            let customNo = res.data;\r\n            if (customNo) {\r\n              this.policyHolder.appntNo = res.data;\r\n              if (this.policyUpdateFlag) {\r\n                //\r\n                let currentKey = this.policyHolder.pKey;\r\n                let temp = Object.assign({}, this.policyHolder);\r\n                this.customers = this.customers.map((item) =>\r\n                  item.pKey === currentKey ? temp : item\r\n                );\r\n                this.policyUpdateFlag = false;\r\n              } else {\r\n                this.policyHolder.pKey = \"policy\" + (this.customers.length + 1);\r\n                this.policyHolder.customerRole = \"\";\r\n                let temp = Object.assign({}, this.policyHolder);\r\n                this.customers.push(temp);\r\n              }\r\n              this.$refs.policyForm.resetFields();\r\n              this.policyHolder.appntSeq = this.policyHolder.appntSeq + 1;\r\n              this.policyHolder.appntNo = \"\";\r\n            } else {\r\n              this.notifyError(\r\n                this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    saveInsured() {\r\n      this.$refs[\"insuredForm\"].validate((pass) => {\r\n        if (pass) {\r\n          //\r\n          queryCustomerNo(\r\n            this.buildRequestData({\r\n              sex: this.insured.insuredSex,\r\n              age: this.insured.insuredAppAge,\r\n            })\r\n          ).then((res) => {\r\n            let customNo = res.data;\r\n            if (customNo) {\r\n              this.insured.insuredNo = res.data;\r\n              if (this.insuredUpdateFlag) {\r\n                //\r\n                let currentKey = this.insured.pKey;\r\n                let temp = Object.assign({}, this.insured);\r\n                this.customers = this.customers.map((item) =>\r\n                  item.pKey === currentKey ? temp : item\r\n                );\r\n                this.insuredUpdateFlag = false;\r\n              } else {\r\n                this.insured.pKey = \"insured\" + (this.customers.length + 1);\r\n                this.insured.customerRole = \"\";\r\n                let temp = Object.assign({}, this.insured);\r\n                this.customers.push(temp);\r\n              }\r\n              this.$refs.insuredForm.resetFields();\r\n              this.insured.insuredSeq = this.insured.insuredSeq + 1;\r\n              this.insured.insuredNo = \"\";\r\n            } else {\r\n              this.notifyError(\r\n                this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    showBeneficiaryForm() {\r\n      this.beneficiaryFormFlag = !this.beneficiaryFormFlag;\r\n    },\r\n    saveBeneficiary() {\r\n      let insuredSeq = this.beneficiary.belToInsuredSeq;\r\n\r\n      this.$refs[\"bnfForm\"].validate((pass) => {\r\n        if (pass) {\r\n          //\r\n          if (\r\n            this.customers.filter(\r\n              (res) =>\r\n                res.customerCode === \"insured\" && res.insuredSeq === insuredSeq\r\n            ).length > 0\r\n          ) {\r\n            //\r\n            queryCustomerNo(\r\n              this.buildRequestData({\r\n                sex: this.beneficiary.bnfSex,\r\n                age: this.beneficiary.bnfAge,\r\n              })\r\n            ).then((res) => {\r\n              let customNo = res.data;\r\n              if (customNo) {\r\n                this.beneficiary.bnfNo = res.data;\r\n                if (this.bnfUpdateFlag) {\r\n                  //\r\n                  let currentKey = this.beneficiary.pKey;\r\n                  let temp = Object.assign({}, this.beneficiary);\r\n                  this.customers = this.customers.map((item) =>\r\n                    item.pKey === currentKey ? temp : item\r\n                  );\r\n                  this.bnfUpdateFlag = false;\r\n                } else {\r\n                  this.beneficiary.pKey = \"bnf\" + (this.customers.length + 1);\r\n                  this.beneficiary.customerRole = \"\";\r\n                  let temp = Object.assign({}, this.beneficiary);\r\n                  this.customers.push(temp);\r\n                }\r\n                this.$refs.bnfForm.resetFields();\r\n                this.beneficiary.bnfSeq = this.insured.bnfSeq + 1;\r\n                this.beneficiary.bnfNo = \"\";\r\n              } else {\r\n                this.notifyError(\r\n                  this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n                );\r\n              }\r\n            });\r\n          } else {\r\n            this.notifyError(\r\n              this.$t(\r\n                \"productTestingNewCaseDefinition.notExistInsureSeqErrorMsg\"\r\n              )\r\n            );\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delCustomer(row) {\r\n      this.customers = this.customers.filter((data) => data.pKey !== row.pKey);\r\n      this.$refs.policyHolder.resetFields();\r\n    },\r\n    handleSelectPolicys(row) {\r\n      this.initProductOptions(row);\r\n      this.policyDetailShow = true;\r\n      this.resultIcon = \"el-icon-arrow-up\";\r\n      this.selectedId = row.contNo;\r\n      this.policyDetailData = row;\r\n      this.productConfigs = row.products;\r\n      this.planConfigs = row.plans;\r\n      this.paymentConfigs = row.payments;\r\n      this.bnftConfigs = row.bnfts;\r\n      this.selectPolicys = row;\r\n    },\r\n    buildPlanData(row) {\r\n      this.planConfigs = this.policyDetailData.plans.filter(\r\n        (plan) => plan.pdCode === row.pdCode\r\n      );\r\n    },\r\n    buildPaymentAndBnftData(row) {\r\n      this.paymentConfigs = this.policyDetailData.payments.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n      this.bnftConfigs = this.policyDetailData.bnfts.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n    },\r\n    showIncreaseDefine() {\r\n      this.increaseDefineFlag = !this.increaseDefineFlag;\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + \".xlsm\";\r\n      downloadCaseDef(\r\n        this.buildRequestData({testCasePath: row.pdTestCasePath})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, fileName);\r\n      });\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then((res) => {\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n        this.$refs.page1.reload();\r\n        this.resetCaseDef();\r\n      });\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = \"\";\r\n      this.CaseDefinition.pdTestCaseDesc = \"\";\r\n      this.CaseDefinition.testPoint = \"\";\r\n      this.testCaseUpdateFlag = false;\r\n      this.customers = [];\r\n      this.currentPdPageData = {};\r\n      this.relaPdPageEleDatas = [];\r\n      this.configs3 = [];\r\n      this.tableFlag = false;\r\n      this.relaElementShow = false;\r\n      this.initElement(\r\n        this.CaseDefinition.pdCode,\r\n        this.CaseDefinition.pdInfoId\r\n      );\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true;\r\n      this.CaseDefinition.id = row.id;\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId;\r\n      this.CaseDefinition.pdCode = row.pdCode;\r\n      this.CaseDefinition.pdEdition = row.pdEdition;\r\n      this.CaseDefinition.pdName = row.pdName;\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc;\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(\r\n        (data) => data.pd_test_func_id\r\n      );\r\n      //data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData);\r\n\r\n      let data = pdTestCaseData.testData;\r\n\r\n      this.customers = data.customers;\r\n      this.currentPdPageData = data.currentPdPageData;\r\n      this.relaPdPageEleDatas = data.relaPdPageData;\r\n\r\n      if (this.pdInfo.commodityType === \"R\") {\r\n        //\r\n\r\n        // \r\n        let temp = JSON.parse(JSON.stringify(this.elementDatas));\r\n        temp.forEach((tem) => {\r\n          tem.config.defaultValue = this.currentPdPageData[tem.vModel];\r\n        });\r\n        this.elementDatas = temp;\r\n        this.queryRelaPdData();\r\n      }\r\n    },\r\n    initElement(pdCode, pdInfoId) {\r\n      let data = {\r\n        pdCode: pdCode,\r\n        pdInfoId: pdInfoId,\r\n      };\r\n      initElement(this.buildRequestData(data)).then((response) => {\r\n        this.elementDatas = response.data;\r\n      });\r\n    },\r\n    initProductOptions(data) {\r\n      this.productOptions = [];\r\n      this.paymentOptions = [];\r\n      data.products.forEach((product) => {\r\n        this.productOptions.push({\r\n          label: product.pdCode + \":\" + product.pdName,\r\n          value: product.pdCode,\r\n        });\r\n      });\r\n      data.payments.forEach((payment) => {\r\n        this.paymentOptions.push({\r\n          label: payment.paymentCode + \":\" + payment.paymentName,\r\n          value: JSON.stringify(payment),\r\n        });\r\n      });\r\n    },\r\n    findExtPremOptionsByCode(code) {\r\n      let payment = JSON.parse(code);\r\n      this.increaseObjectOptions = [];\r\n      this.increaseMethodOptions = [];\r\n      this.increaseTypeOptions = [];\r\n      findExtPremOptionsByCode(\r\n        this.buildRequestData({\r\n          code: payment.paymentCode,\r\n        })\r\n      ).then((res) => {\r\n        let data = res.data;\r\n        if (data) {\r\n          data.forEach((extPrem) => {\r\n            this.increaseOptions.push({\r\n              label: extPrem.pdExtPremCode + \":\" + extPrem.pdExtPremName,\r\n              value: JSON.stringify(extPrem),\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    findExtPermInfo(data) {\r\n      if (data) {\r\n        let extPrem = JSON.parse(data);\r\n        this.increase.increaseObject = extPrem.pdExtPremObj;\r\n        this.increase.increaseMethod = extPrem.pdExtPremMode;\r\n        this.increase.increaseType = extPrem.pdExtPremType;\r\n      } else {\r\n        this.increase.increaseObject = \"\";\r\n        this.increase.increaseMethod = \"\";\r\n        this.increase.increaseType = \"\";\r\n      }\r\n    },\r\n    addIncrease() {\r\n      let increase = {\r\n        pdCode: this.increase.product,\r\n        planCode: JSON.parse(this.increase.payment).planCode,\r\n        paymentCode: JSON.parse(this.increase.payment).paymentCode,\r\n        paymentName: JSON.parse(this.increase.payment).paymentName,\r\n        premium: JSON.parse(this.increase.payment).premium,\r\n        increaseCode: JSON.parse(this.increase.increase).pdExtPremCode,\r\n        increaseObject: this.increase.increaseObject,\r\n        increaseMethod: this.increase.increaseMethod,\r\n        increaseType: this.increase.increaseType,\r\n        increaseCount: this.increase.increaseCount,\r\n        comment: this.increase.comment,\r\n      };\r\n      this.increaseConfigs.push(increase);\r\n    },\r\n    buildElementRules() {\r\n      if (this.elementDatas) {\r\n        for (let i = 0; i < this.elementDatas.length; i++) {\r\n          let ele = this.elementDatas[i];\r\n          ele[ele.vModel] = ele.config.defaultValue;\r\n          if (ele.required) {\r\n            this.elementRules[ele.vModel] = [\r\n              {\r\n                required: true,\r\n                message: \"\" + ele.label,\r\n                trigger: ele.type === \"select\" ? \"change\" : \"blur\",\r\n              },\r\n            ];\r\n          }\r\n        }\r\n      }\r\n    },\r\n    queryRelaPdData() {\r\n      this.tableFlag = !this.tableFlag;\r\n      if (this.tableFlag) {\r\n        let data = {pdInfoId: this.pdInfo.pdInfoId};\r\n        queryRelaPd(this.buildRequestData(data)).then((res) => {\r\n          let list = res.data;\r\n          this.relaPdList = res.data;\r\n          this.relaPdSelect = [];\r\n          for (let i = 0; i < list.length; i++) {\r\n            let data = list[i];\r\n            this.relaPdSelect.push({\r\n              label: data.pdRelaItemVal + \":\" + data.pdRelaItemName,\r\n              value: data.pdRelaItemVal,\r\n            });\r\n          }\r\n\r\n          //\r\n          if (this.relaPdPageEleDatas && this.relaPdPageEleDatas.length > 0) {\r\n            this.configs3 = [];\r\n            this.relaPdPageEleDatas.forEach((data) => {\r\n              let pdCode = data.relaPdCode;\r\n              let pdEdition = data.relaPdEdition;\r\n              let tempData = this.relaPdList.filter(\r\n                (data2) =>\r\n                  data2.pdRelaItemVal === pdCode &&\r\n                  data2.pdRelaItemEdition === pdEdition\r\n              )[0];\r\n              tempData[\"defStatus\"] = \"Y\";\r\n              this.configs3.push(tempData);\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    queryPdEdtion(val) {\r\n      this.relaPdEditionSelect = [];\r\n      this.relaPdList\r\n        .filter((data) => data.pdRelaItemVal === val)\r\n        .forEach((data) => {\r\n          this.relaPdEditionSelect.push({\r\n            label: data.pdRelaItemEdition,\r\n            value: data.pdRelaItemEdition,\r\n          });\r\n        });\r\n      this.relaPdForm.relaPdEditionSed = \"\";\r\n    },\r\n    searchPolicyData() {\r\n      if (this.insuranceSearch.time) {\r\n        this.insuranceSearch.startDate = this.insuranceSearch.time[0];\r\n        this.insuranceSearch.endDate = this.insuranceSearch.time[1];\r\n      } else {\r\n        this.insuranceSearch.startDate = \"\";\r\n        this.insuranceSearch.endDate = \"\";\r\n      }\r\n      let params = {\r\n        pdInfoId: this.params1.pdInfoId,\r\n        contNo: this.insuranceSearch.insuranceCode,\r\n        startDate: this.insuranceSearch.startDate,\r\n        endDate: this.insuranceSearch.endDate,\r\n      };\r\n\r\n      queryPolicyData(this.buildRequestData(params)).then((res) => {\r\n        this.policys = res.data;\r\n      });\r\n    },\r\n    initRelaPdTableData() {\r\n      this.$refs.relaPdForm.validate((pass) => {\r\n        if (pass) {\r\n          let pdCode = this.relaPdForm.relaPdSed;\r\n          let pdEdition = this.relaPdForm.relaPdEditionSed;\r\n          this.relaElementShow = false;\r\n          let flag = this.configs3.some((data) => {\r\n            return (\r\n              data.pdRelaItemVal === pdCode &&\r\n              data.pdRelaItemEdition === pdEdition\r\n            );\r\n          });\r\n          if (!flag) {\r\n            let tempData = this.relaPdList.filter(\r\n              (data2) =>\r\n                data2.pdRelaItemVal === pdCode &&\r\n                data2.pdRelaItemEdition === pdEdition\r\n            )[0];\r\n            tempData[\"defStatus\"] = \"N\";\r\n            this.configs3.push(tempData);\r\n            this.selectConfigs3 = \"\";\r\n          } else {\r\n            this.notifyError(\r\n              this.$t(\"productTestingNewCaseDefinition.relaAddMsg\")\r\n            );\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delSelectRelaPd(index, row) {\r\n      this.increaseConfigs.splice(index, 1);\r\n      this.relaPdPageEleDatas = this.relaPdPageEleDatas.filter(\r\n        (data2) =>\r\n          !(\r\n            row.pdRelaItemVal === data2.relaPdCode &&\r\n            row.pdRelaItemEdition === data2.relaPdEdition\r\n          )\r\n      );\r\n    },\r\n    saveRelaPdPageElement() {\r\n      let data = {};\r\n      let result = {};\r\n      let flag = true;\r\n      for (let i = 0; i < this.relaElementDatas.length; i++) {\r\n        let data = this.relaElementDatas[i];\r\n        if (data.required) {\r\n          if (!data.config.defaultValue) {\r\n            flag = false;\r\n            this.notifyError(\"\" + data.label);\r\n            break;\r\n          }\r\n        }\r\n        result[data.vModel] = data.config.defaultValue;\r\n      }\r\n      if (flag) {\r\n        data[\"relaPdCode\"] = this.relaPdCode;\r\n        data[\"relaPdEdition\"] = this.relaPdEdition;\r\n        data[\"param\"] = result;\r\n        if (this.relaUpdateFlag) {\r\n          this.relaPdPageEleDatas = this.relaPdPageEleDatas.map((item) =>\r\n            item.relaPdCode === this.relaPdCode &&\r\n            item.relaPdEdition === this.relaPdEdition\r\n              ? data\r\n              : item\r\n          );\r\n          this.notifySuccess(this.$t(\"successMessage.update\"));\r\n        } else {\r\n          this.relaPdPageEleDatas.push(data);\r\n          let tempConfigs3 = JSON.parse(JSON.stringify(this.configs3));\r\n          tempConfigs3.forEach((con) => {\r\n            if (\r\n              con.pdRelaItemVal === this.relaPdCode &&\r\n              con.pdRelaItemEdition === this.relaPdEdition\r\n            ) {\r\n              con.defStatus = \"Y\";\r\n            }\r\n          });\r\n          this.configs3 = tempConfigs3;\r\n          console.log(this.configs3);\r\n          this.notifySuccess(this.$t(\"successMessage.add\"));\r\n        }\r\n        this.relaUpdateFlag = true;\r\n      }\r\n    },\r\n    handleRelaPd(row) {\r\n      this.relaPdEdition = row.pdRelaItemEdition;\r\n      this.relaPdCode = row.pdRelaItemVal;\r\n      let data = {\r\n        pdCode: row.pdRelaItemVal,\r\n        pdInfoId: row.pdRelaItemId,\r\n      };\r\n      this.relaElementShow = false;\r\n      this.relaUpdateFlag = false;\r\n      initElement(this.buildRequestData(data)).then((response) => {\r\n        this.relaElementDatas = response.data;\r\n        let temp = JSON.parse(JSON.stringify(this.relaElementDatas)); //\r\n        if (this.relaElementDatas.length > 0) {\r\n          this.relaElementShow = true;\r\n          //\r\n          this.relaPdPageEleDatas\r\n            .filter(\r\n              (reladata) =>\r\n                reladata.relaPdCode === data.pdCode &&\r\n                reladata.relaPdEdition === this.relaPdEdition\r\n            )\r\n            .forEach((temp2) => {\r\n              let param = temp2.param;\r\n              temp.forEach((rela) => {\r\n                rela.config.defaultValue = param[rela.vModel];\r\n                this.relaUpdateFlag = true;\r\n              });\r\n            });\r\n          this.relaElementDatas = temp;\r\n        }\r\n      });\r\n    },\r\n    saveCaseDef() {\r\n      this.$refs.caseDefForm.validate((pass) => {\r\n        if (pass) {\r\n          console.log(this.selectPolicys);\r\n          if (this.selectPolicys) {\r\n            this.CaseDefinition[\"data\"] = {};\r\n            //\r\n            let result = {};\r\n            result[\"productCode\"] = this.CaseDefinition.pdCode;\r\n            result[\"productVersionNo\"] = this.CaseDefinition.pdEdition;\r\n            this.CaseDefinition.data[\"policy\"] = this.selectConfigs2;\r\n            this.CaseDefinition.data[\"addFeeData\"] = this.increaseConfigs;\r\n            //\r\n            saveCaseDef(this.buildRequestData(this.CaseDefinition)).then(\r\n              (res) => {\r\n                this.notifySuccess(this.$t(\"successMessage.save\"));\r\n                this.$refs.page1.reload();\r\n                this.resetCaseDef();\r\n              }\r\n            );\r\n          } else {\r\n            this.notifyError(\"\");\r\n          }\r\n        } else {\r\n          this.focusItem();\r\n        }\r\n      });\r\n    },\r\n    initTestFuncSelect(testModuleCode, pdInfoId) {\r\n      this.funcSelect = [];\r\n      queryPdTestFunc(\r\n        this.buildRequestData({\r\n          testModuleCode: testModuleCode,\r\n          pdInfoId: pdInfoId,\r\n        })\r\n      ).then((res) => {\r\n        let funcs = res.data;\r\n        for (let i = 0; i < funcs.length; i++) {\r\n          let data = funcs[i];\r\n          this.funcSelect.push({\r\n            label: data.pdTestFuncCode + \":\" + data.pdTestFuncDesc,\r\n            value: data.id,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    templateDownload() {\r\n      downloadCaseTemplate(\r\n        this.buildRequestData({testModule: \"new-single-test\"})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, \"NewSingleTestCaseTemplate.xlsm\");\r\n      });\r\n    },\r\n    openUploadDialog() {\r\n      this.dialogTableVisible1 = true;\r\n    },\r\n    hidePolicyDataDetail() {\r\n      if (this.resultIcon === \"el-icon-arrow-down\") {\r\n        this.policyDetailShow = true;\r\n        this.resultIcon = \"el-icon-arrow-up\";\r\n      } else if (this.resultIcon === \"el-icon-arrow-up\") {\r\n        this.policyDetailShow = false;\r\n        this.resultIcon = \"el-icon-arrow-down\";\r\n      }\r\n    },\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError(\"\");\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList);\r\n        formData.append(\"pdInfoId\", this.CaseDefinition.pdInfoId);\r\n        uploadTestCase(formData).then((res) => {\r\n          this.notifySuccess(\"\");\r\n          this.$refs.upload.clearFiles();\r\n          this.back1();\r\n          this.$refs.page1.reload();\r\n        });\r\n      }\r\n    },\r\n    back1() {\r\n      this.dialogTableVisible1 = false;\r\n    },\r\n    backPage() {\r\n      this.$router.push({path: \"/product-testing/underwriting-test/underwriting-test-detail\"});\r\n    },\r\n    //\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: \"\",\r\n              message: \"!\",\r\n              duration: 2000,\r\n            });\r\n            fileList.pop();\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList;\r\n\r\n      /*\r\n       var msg = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n       //\r\n       if (!(msg === 'xls' || msg === 'xlsx')) {\r\n         this.$notify.error({\r\n           title: '',\r\n           message: ' xlsxlsx!',\r\n           duration: 200\r\n         })\r\n         return\r\n       }*/\r\n      //\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: \"\",\r\n          message: \" 10MB!\",\r\n          duration: 500,\r\n        });\r\n        return;\r\n      }\r\n    },\r\n    //\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: \"\",\r\n        message: \",\",\r\n        duration: 1000,\r\n      });\r\n    },\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n      } else {\r\n        this.$message.error(``);\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.formtitle {\r\n  padding-top: 10px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n.cst {\r\n  width: 80px;\r\n  border: 0;\r\n}\r\n</style>\r\n\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-fee-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-fee-def\\index.vue","mtime":1609847107046},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWRkUGR0ZW1wUGRTbEV4cCwgZGVsZXRlUGR0ZW1wUGRTbEV4cCwgc2VsZWN0UGRTbEV4cExpc3QsIGdldFNsTWcscGR0ZW1wUGRBdHJzSW5mb0xpc3R9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9zYWxlRmVlRGVmaW5pdGlvbiI7CmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAidnVleCI7CgpsZXQgX3RoaXM7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2FsZUZlZURlZmluaXRpb24nLAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9jb2RldHlwZShjb2RlLCB2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09ICdwZFNsTWdjJykgewogICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiBfdGhpcy5wZFNsTWdjT3B0aW9ucykgewogICAgICAgICAgaWYgKHBkU2xNZ2Muc2xNZ2NDb2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBwZFNsTWdjLnNsTWdjQ29kZSArICc6JyArIHBkU2xNZ2Muc2xNZ2NOYW1lCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb2RlCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ3BkU2FsZUNobmwnKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZFNsQ2hhbmwnLCBjb2RlKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAncGRQb2xDdXJyJykgewogICAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncHJvZHVjdEN1cnJlbmN5JywgY29kZSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ3BkUGF5UHJlbU1vZGUnKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVtcGF5d2F5JywgY29kZSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ3BkUmF0ZVR5cGUnKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdzZFJhdGVUeXBlJywgY29kZSk7CiAgICAgIH0KICAgIH0sCgogIH0sCgogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICBjb25zdCB2YWxpZGF0ZXBkRW5kQXBwQWdlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodGhpcy5mb3JtLnBkU3RhcnRBcHBBZ2UgPiB0aGlzLmZvcm0ucGRFbmRBcHBBZ2UpewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6LW35aeL5oqV5L+d5bm06b6E5LiN5b6X5aSn5LqO57uI5q2i5oqV5L+d5bm06b6EIikpCiAgICAgIH1lbHNlewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCB2YWxpZGF0ZVVwZGF0ZUVuZEFwcEFnZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHRoaXMuZm9ybUNob29zZVJvdy5wZFN0YXJ0QXBwQWdlID4gdGhpcy5mb3JtQ2hvb3NlUm93LnBkRW5kQXBwQWdlKXsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIui1t+Wni+aKleS/neW5tOm+hOS4jeW+l+Wkp+S6jue7iOatouaKleS/neW5tOm+hCIpKQogICAgICB9ZWxzZXsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gewogICAgICBwYWdlRmxhZzogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgcGRSYXRlVHlwZTogJzEnLAogICAgICAgIHBkU2xNZ2M6IFtdLAogICAgICAgIHBkU2FsZUNobmw6IFtdLAogICAgICAgIHBkQWdlbmN5Q29kZTogJycsCiAgICAgICAgcGRQb2xDdXJyOiBbXSwKICAgICAgICBwZEluZm9JZDogJycsCiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZE5hbWU6JycsCiAgICAgICAgcGRWZXJJZDogJycsCiAgICAgICAgcGRQb2xZZWFyOiAnJywKICAgICAgICBwZFBheVByZW1Nb2RlOiBbXSwKICAgICAgICBwZFBheVBlcmlvZDogJycsCiAgICAgICAgcGRQYXlQZXJpb2RVbml0OiAnWScsCiAgICAgICAgcGRTdGFydEFwcEFnZTogJycsCiAgICAgICAgcGRFbmRBcHBBZ2U6ICcnLAogICAgICAgIHBkUmF0ZTogJzEnLAogICAgICB9LAogICAgICBwYWNrYWdlOnsKICAgICAgICBwZEluZm9JZDonJwogICAgICB9LAogICAgICBmb3JtQ2hvb3NlUm93OiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHBkUmF0ZVR5cGU6ICcxJywKICAgICAgICBwZFNsTWdjOiAnJywKICAgICAgICBwZFNhbGVDaG5sOiAnJywKICAgICAgICBwZEFnZW5jeUNvZGU6ICcnLAogICAgICAgIHBkUG9sQ3VycjogJycsCiAgICAgICAgcGRJbmZvSWQ6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOicnLAogICAgICAgIHBkVmVySWQ6ICcnLAogICAgICAgIHBkUG9sWWVhcjogJycsCiAgICAgICAgcGRQYXlQcmVtTW9kZTogJycsCiAgICAgICAgcGRQYXlQZXJpb2Q6ICcnLAogICAgICAgIHBkUGF5UGVyaW9kVW5pdDogJ1knLAogICAgICAgIHBkU3RhcnRBcHBBZ2U6ICcnLAogICAgICAgIHBkRW5kQXBwQWdlOiAnJywKICAgICAgICBwZFJhdGU6ICcnLAogICAgICB9LAogICAgICAvL+ihqOagvOmAieS4reaVsOaNrgogICAgICBjaGVja1NhbGVGZWU6W10sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHBkU2xNZ2NPcHRpb25zOiBbXSwKICAgICAgcGRQb2xDdXJyT3B0aW9uTGlzdDogW10sCiAgICAgIHBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5OiBbXSwKICAgICAgcnVsZXMxOiB7CiAgICAgICAgcGRSYXRlVHlwZTpbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wZFJhdGVUeXBlJyksIHRyaWdnZXI6ICdjaGFuZ2UnfV0sCiAgICAgICAgcGRTbE1nYzogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGRTbE1nYycpLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLAogICAgICAgIHBkU2FsZUNobmw6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBkU2FsZUNobmwnKSwgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwZFBvbEN1cnI6IFt7cmVxdWlyZWQ6IHRydWUsbWVzc2FnZTogdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGRQb2xDdXJyJyksIHRyaWdnZXI6ICdjaGFuZ2UnfV0sCiAgICAgICAgcGRSYXRlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBkUmF0ZScpLCB0cmlnZ2VyOiAnYmx1cid9XSwKICAgICAgICBwZEVuZEFwcEFnZTogIFt7dmFsaWRhdG9yOiB2YWxpZGF0ZXBkRW5kQXBwQWdlLCB0cmlnZ2VyOiAnYmx1cid9XQogICAgICB9LAogICAgICBydWxlczI6IHsKICAgICAgICBwZFJhdGVUeXBlOlt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBkUmF0ZVR5cGUnKSwgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwZFNsTWdjOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wZFNsTWdjJyksIHRyaWdnZXI6ICdjaGFuZ2UnfV0sCiAgICAgICAgcGRTYWxlQ2hubDogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGRTYWxlQ2hubCcpLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLAogICAgICAgIHBkUG9sQ3VycjogW3tyZXF1aXJlZDogdHJ1ZSxtZXNzYWdlOiB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdzYWxlRmVlRGVmaW5pdGlvbi5wZFBvbEN1cnInKSwgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwZFJhdGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3NhbGVGZWVEZWZpbml0aW9uLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgnc2FsZUZlZURlZmluaXRpb24ucGRSYXRlJyksIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgIHBkRW5kQXBwQWdlOiAgW3t2YWxpZGF0b3I6IHZhbGlkYXRlVXBkYXRlRW5kQXBwQWdlLCB0cmlnZ2VyOiAnYmx1cid9XQogICAgICB9CiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgbGV0IHBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgIGlmIChwZFBwSW5mbyAhPSBudWxsKSB7CiAgICAgIHRoaXMuZm9ybS5wZEluZm9JZCA9IHBkUHBJbmZvLmlkOwogICAgICB0aGlzLmZvcm0ucGRWZXJJZCA9ICcxJzsKICAgICAgdGhpcy5mb3JtLnBkQ29kZSA9IHBkUHBJbmZvLnBwQ29kZTsKICAgICAgdGhpcy5mb3JtLnBkTmFtZSA9IHBkUHBJbmZvLnBwTmFtZTsKCiAgICAgIHRoaXMucGFja2FnZS5wZEluZm9JZD1wZFBwSW5mby5wZEluZm9JZDsKICAgICAgdGhpcy5mb3JtQ2hvb3NlUm93LnBkSW5mb0lkID0gcGRQcEluZm8uaWQ7CiAgICAgIHRoaXMuZm9ybUNob29zZVJvdy5wZFZlcklkID0gJzEnOwogICAgICB0aGlzLmZvcm1DaG9vc2VSb3cucGRDb2RlID0gcGRQcEluZm8ucHBDb2RlOwogICAgICB0aGlzLmZvcm1DaG9vc2VSb3cucGROYW1lID0gcGRQcEluZm8ucHBOYW1lOwogICAgfQogICAgYXdhaXQgdGhpcy5pbml0UXVlcnlEYXRhcygpOwogICAgYXdhaXQgdGhpcy5pbml0TWdjSW5mbygpOwogICAgYXdhaXQgdGhpcy5nZXRQZFBvbEN1cnJPcHRpb24oKTsKICAgIC8v5Yid5aeL5YyW5L+d5Y2V5biB56eNCiAgICB0aGlzLmZvcm0ucGRQb2xDdXJyPVsnMDEnXTsKICAgIHRoaXMuZm9ybS5wZFNsTWdjID0gWycwMDAwJ107CiAgICB0aGlzLmZvcm0ucGRTYWxlQ2hubCA9IFsnMDAnXQogIH0sCiAgd2F0Y2g6IHsKICAgICdmb3JtLnBkU2xNZ2MnKHNlbGVjdGVkQ29kZXMpIHsKICAgICAgaWYgKHNlbGVjdGVkQ29kZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgIHBkU2xNZ2MuZGlzYWJsZWQgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICcwMDAwJykpIHsKICAgICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7CiAgICAgICAgICAgIHBkU2xNZ2MuZGlzYWJsZWQgPSBwZFNsTWdjLnNsTWdjQ29kZSAhPT0gJzAwMDAnCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7CiAgICAgICAgICAgIHBkU2xNZ2MuZGlzYWJsZWQgPSBwZFNsTWdjLnNsTWdjQ29kZSA9PT0gJzAwMDAnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgJ2Zvcm1DaG9vc2VSb3cucGRTbE1nYycoc2VsZWN0ZWRDb2RlcykgewogICAgICBpZiAoc2VsZWN0ZWRDb2Rlcy5sZW5ndGggPT09IDApIHsKICAgICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgdGhpcy5wZFNsTWdjT3B0aW9ucykgewogICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLl8uaW5jbHVkZXMoc2VsZWN0ZWRDb2RlcywgJzAwMDAnKSkgewogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlICE9PSAnMDAwMCcKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsKICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlID09PSAnMDAwMCcKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAnZm9ybS5wZFNhbGVDaG5sJyhzZWxlY3RlZENvZGVzKSB7CiAgICAgIGlmIChzZWxlY3RlZENvZGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucGRTbENoYW5sRGlzYWJsZWRDb2RlQXJyYXkgPSBbXQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBhbGxDb2RlcyA9IHRoaXMuXy5tYXAodGhpcy5sZGNvZGVzWydwZFNsQ2hhbmwnXSwgJ2NvZGUnKTsKICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICcwMCcpKSB7CiAgICAgICAgICBhbGxDb2RlcyA9IGFsbENvZGVzLmZpbHRlcihjb2RlID0+IHsKICAgICAgICAgICAgcmV0dXJuIGNvZGUgIT09ICcwMCcKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gewogICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gJzAwJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gYWxsQ29kZXMKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAnZm9ybUNob29zZVJvdy5wZFNhbGVDaG5sJyhzZWxlY3RlZENvZGVzKSB7CiAgICAgIGlmIChzZWxlY3RlZENvZGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucGRTbENoYW5sRGlzYWJsZWRDb2RlQXJyYXkgPSBbXQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBhbGxDb2RlcyA9IHRoaXMuXy5tYXAodGhpcy5sZGNvZGVzWydwZFNsQ2hhbmwnXSwgJ2NvZGUnKTsKICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICcwMCcpKSB7CiAgICAgICAgICBhbGxDb2RlcyA9IGFsbENvZGVzLmZpbHRlcihjb2RlID0+IHsKICAgICAgICAgICAgcmV0dXJuIGNvZGUgIT09ICcwMCcKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsbENvZGVzID0gYWxsQ29kZXMuZmlsdGVyKGNvZGUgPT4gewogICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gJzAwJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gYWxsQ29kZXMKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdsZGNvZGVzJwogICAgXSkKICB9LAogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBpbml0UXVlcnlEYXRhcygpIHsKICAgICAgbGV0IHBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgICAgc2VsZWN0UGRTbEV4cExpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRJbmZvSWQiOnBkUHBJbmZvLmlkfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGluaXRNZ2NJbmZvKCkgewogICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgKGF3YWl0IGdldFNsTWcoKSkuZGF0YSkgewogICAgICAgIHRoaXMucGRTbE1nY09wdGlvbnMucHVzaChwZFNsTWdjKQogICAgICB9CiAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7CiAgICAgICAgdGhpcy4kc2V0KHBkU2xNZ2MsICdkaXNhYmxlZCcsIGZhbHNlKQogICAgICB9CiAgICB9LAogICAgY2hlY2tTYWxlRmVlVGFibGUodmFsKXsKICAgICAgdGhpcy5jaGVja1NhbGVGZWU9dmFsOwogICAgICB0aGlzLnBhZ2VGbGFnPWZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKT0+ewogICAgICAgIGlmKHRoaXMuY2hlY2tTYWxlRmVlLmxlbmd0aD09MSl7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybUNob29zZVJvdyx2YWxbMF0pCiAgICAgICAgICB0aGlzLnBhZ2VGbGFnPXRydWUKICAgICAgICB9ZWxzZSBpZih0aGlzLmNoZWNrU2FsZUZlZS5sZW5ndGg9PTApewogICAgICAgICAgdGhpcy5yZXNldEZvcm1EYXRhKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZ2V0UGRQb2xDdXJyT3B0aW9uKCkgewogICAgICBwZHRlbXBQZEF0cnNJbmZvTGlzdCh0aGlzLnBhY2thZ2UucGRJbmZvSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRBdHJzQ29kZSA9PSAncHJvZHVjdEN1cnJlbmN5JykgewogICAgICAgICAgICAvL+S7juS6p+WTgeW4puWFpeS6p+WTgeW4geenjQogICAgICAgICAgICB0aGlzLnBkUG9sQ3Vyck9wdGlvbkxpc3QucHVzaCh7CiAgICAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlLmRhdGFbaV0ucGRBdHJzVmFsLAogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldENvZGVOYW1lKCdwcm9kdWN0Q3VycmVuY3knLCByZXNwb25zZS5kYXRhW2ldLnBkQXRyc1ZhbCkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgcmVzZXRGb3JtRGF0YSgpIHsKICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIXRoaXMucGFnZUZsYWcpIHsKICAgICAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyZWZzWydmb3JtQ2hvb3NlUm93J10ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgb25TdWJtaXQoZm9ybSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1dLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgbGV0IG1nYyA9IGZhbHNlOwogICAgICAgICAgbGV0IGNhbCA9IGZhbHNlOwogICAgICAgICAgaWYgKHRoaXMucGFnZUZsYWcpIHsKICAgICAgICAgICAgYWRkUGR0ZW1wUGRTbEV4cCh0aGlzLmZvcm1DaG9vc2VSb3cpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAobWdjKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucGRTbE1nYyA9IFsnMDAwMCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoY2FsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucGRTYWxlQ2hubCA9IFsnMDAnXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybSk7CiAgICAgICAgICAgICAgdGhpcy5pbml0UXVlcnlEYXRhcygpOwogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRQZHRlbXBQZFNsRXhwKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChtZ2MpIHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNsTWdjID0gWycwMDAwJ107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChjYWwpIHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNhbGVDaG5sID0gWycwMCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybShmb3JtKTsKICAgICAgICAgICAgICB0aGlzLmluaXRRdWVyeURhdGFzKCk7CiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIC8v5ZGK55+l54i26aG16Z2i5bey57uP5L+d5a2YCiAgICAgICAgICB0aGlzLiRlbWl0KCdjaGlsZEZuJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZURhdGEodmFsKSB7CiAgICAgICAgbGV0IGRlbEtleXMgPSAgdGhpcy5jaGVja1NhbGVGZWUubWFwKHNhbGUgPT4gc2FsZS5pZCkKICAgICAgICBkZWxldGVQZHRlbXBQZFNsRXhwKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7ImRlbEtleXMiOiBkZWxLZXlzfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuaW5pdFF1ZXJ5RGF0YXMoKTsKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkKICAgICAgICAgIGlmICh2YWwpewogICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlTW9yZUZlZSgpewogICAgICAgdGhpcy5kZWxldGVEYXRhKCkKICAgIH0sCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMucGFnZUZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtLnBkUmF0ZVR5cGU9JzEnOwogICAgICB0aGlzLmZvcm0ucGRTbE1nYz1bJzAwMDAnXTsKICAgICAgdGhpcy5mb3JtLnBkU2FsZUNobmw9WycwMCddOwogICAgICB0aGlzLmZvcm0ucGRQb2xDdXJyPVsnMDEnXTsKICAgICAgdGhpcy5mb3JtLnBkUGF5UGVyaW9kVW5pdD0nWSc7CiAgICAgIHRoaXMuZm9ybS5wZFJhdGU9JzEnCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-sales-def/sale-fee-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n  <!-- 产品套餐销售费用表格 -->\r\n    <cus-table-title :label=\"$t('saleFeeDefinition.pdSaleFee')\"></cus-table-title>\r\n      <el-table :data=\"tableData\"  @selection-change=\"checkSaleFeeTable\"  ref=\"multipleTable\"  border element-loading-text=\"Loading\" fit size=\"mini\">\r\n        <el-table-column :label=\"$t('productValueAddedTax.select')\" type=\"selection\" align=\"center\" width=\"55px\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" prop=\"index\" type=\"index\"  align=\"center\" width=\"55\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.feeType')\" prop=\"pdRateType\" align=\"center\" width=\"130px\">\r\n          <template v-slot=\"scope\">{{scope.row.pdRateType | filter_codetype('pdRateType')}}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdSlMgc')\" prop=\"pdSlMgc\" align=\"center\">\r\n          <template v-slot=\"scope\">{{scope.row.pdSlMgc | filter_codetype('pdSlMgc')}}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.SaleChanl')\" prop=\"pdSaleChnl\" align=\"center\" width=\"130px\">\r\n          <template v-slot=\"scope\">{{scope.row.pdSaleChnl | filter_codetype('pdSaleChnl')}}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdAgencyCode')\" prop=\"pdAgencyCode\"  align=\"center\" width=\"100px\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdPolCurr')\" align=\"center\" prop=\"pdPolCurr\">\r\n          <template v-slot=\"scope\">{{scope.row.pdPolCurr | filter_codetype('pdPolCurr')}}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdPolYear')\"align=\"center\" prop=\"pdPolYear\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.payTerm')\"  align=\"center\" prop=\"pdPayPeriod\">\r\n          <template v-slot=\"scope\">{{scope.row.pdPayPeriod}}:{{scope.row.pdPayPeriodUnit}}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('saleFeeDefinition.pdStartAppAge')\" align=\"center\"\r\n                         prop=\"pdStartAppAge\"></el-table-column>\r\n        <el-table-column :label=\"$t('saleFeeDefinition.pdEndAppAge')\" align=\"center\" prop=\"pdEndAppAge\"></el-table-column>\r\n        <el-table-column :label=\"$t('saleFeeDefinition.pdRate')\" align=\"center\" prop=\"pdRate\"></el-table-column>\r\n      </el-table>\r\n    <br>\r\n    <el-row v-if=\"this.checkSaleFee.length>1\" style=\"float: right\">\r\n      <el-button dialog-disable=\"disable\" size=\"small\"  @click=\"deleteMoreFee\" v-auth=\"'pdtemp-pd-sale-fee-info:delete'\" icon=\"el-icon-delete\" type=\"danger\">{{$t('table.delete')}}</el-button>\r\n    </el-row>\r\n    <div v-if=\"this.checkSaleFee.length<2\" >\r\n      <el-form  :model=\"form\" :rules=\"rules1\" label-width=\"85px\"ref=\"form\" v-if=\"!pageFlag\">\r\n        <el-form-item :label=\"$t('i18nView.feeType')\" prop=\"pdRateType\">\r\n          <cus-radio :codetype=\"'sdRateType'\" v-model=\"form.pdRateType\"></cus-radio>\r\n        </el-form-item>\r\n        <cus-row >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdSlMgc')\" prop=\"pdSlMgc\">\r\n              <el-select clearable multiple  v-model=\"form.pdSlMgc\">\r\n                <el-option :disabled=\"item.disabled\"\r\n                           :key=\"item.slMgcCode\"\r\n                           :label=\"item.slMgcCode+':'+item.slMgcName\"\r\n                           :value=\"item.slMgcCode\"\r\n                           v-for=\"item in pdSlMgcOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.SaleChanl')\"prop=\"pdSaleChnl\">\r\n              <cus-multi-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                                v-model=\"form.pdSaleChnl\"></cus-multi-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdAgencyCode')\"prop=\"pdAgencyCode\">\r\n              <el-input :disabled=\"form.pdRateType==1\" :placeholder=\"$t('pdtempsaledes.inputAgency')\" v-model=\"form.pdAgencyCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdPolCurr')\" prop=\"pdPolCurr\">\r\n              <el-select clearable filterable multiple v-model=\"form.pdPolCurr\">\r\n                <el-option :key=\"item.value\"\r\n                           :label=\"item.label\"\r\n                           :value=\"item.value\"\r\n                           v-for=\"item in pdPolCurrOptionList\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdPolYear')\" prop=\"pdPolYear\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputYear')\" v-model=\"form.pdPolYear\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.payTerm')\" prop=\"pdPayPeriod\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputFeePeriod')\" v-model=\"form.pdPayPeriod\">\r\n                <cus-select :codetype=\"'saledes'\" class=\"cst\" prop=\"pdPayPeriodUnit\" slot=\"append\"\r\n                            v-model=\"form.pdPayPeriodUnit\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdStartAppAge')\" prop=\"pdStartAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputStartInsureAge')\" v-model=\"form.pdStartAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdEndAppAge')\" prop=\"pdEndAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputEndInsureAge')\" v-model=\"form.pdEndAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdRate')\" prop=\"pdRate\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputRatio')\" v-model=\"form.pdRate\">\r\n                <template slot=\"suffix\">%</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"16\" align=\"right\">\r\n          <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"onSubmit('form')\" icon=\"el-icon-success\" type=\"primary\" v-auth=\"'pdtemp-pd-sale-fee-info:add'\"\r\n                     v-show=\"!this.pageFlag\">{{$t('saleFeeDefinition.submit')}}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"resetForm('form')\" icon=\"el-icon-refresh\" type=\"primary\">{{$t('saleFeeDefinition.refresh')}}\r\n          </el-button>\r\n          </el-col>\r\n        </cus-row>\r\n      </el-form>\r\n      <!--选中一行显示产品套餐销售费用-->\r\n      <el-form :model=\"formChooseRow\" :rules=\"rules2\" label-width=\"85px\" ref=\"formChooseRow\"\r\n               v-show=\"pageFlag\">\r\n        <el-form-item :label=\"$t('i18nView.feeType')\" prop=\"pdRateType\">\r\n          <cus-radio :codetype=\"'sdRateType'\" v-model=\"formChooseRow.pdRateType\"></cus-radio>\r\n        </el-form-item>\r\n        <cus-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdSlMgc')\" prop=\"pdSlMgc\">\r\n              <el-select clearable  v-model=\"formChooseRow.pdSlMgc\">\r\n                <el-option :disabled=\"item.disabled\"\r\n                           :key=\"item.slMgcCode\"\r\n                           :label=\"item.slMgcCode+':'+item.slMgcName\"\r\n                           :value=\"item.slMgcCode\"\r\n                           v-for=\"item in pdSlMgcOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.SaleChanl')\"prop=\"pdSaleChnl\">\r\n              <cus-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                          v-model=\"formChooseRow.pdSaleChnl\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdAgencyCode')\" prop=\"pdAgencyCode\">\r\n              <el-input :disabled=\"formChooseRow.pdRateType==1\" :placeholder=\"$t('pdtempsaledes.inputAgency')\"\r\n                        v-model=\"formChooseRow.pdAgencyCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdPolCurr')\" prop=\"pdPolCurr\">\r\n              <cus-select :codetype=\"'productCurrency'\" v-model=\"formChooseRow.pdPolCurr\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.pdPolYear')\" prop=\"pdPolYear\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputYear')\" v-model=\"formChooseRow.pdPolYear\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.payTerm')\" prop=\"pdPayPeriod\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputFeePeriod')\" v-model=\"formChooseRow.pdPayPeriod\">\r\n                <cus-select :codetype=\"'saledes'\" class=\"cst\" prop=\"pdPayPeriodUnit\" slot=\"append\"\r\n                            v-model=\"formChooseRow.pdPayPeriodUnit\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdStartAppAge')\" prop=\"pdStartAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputStartInsureAge')\" v-model=\"formChooseRow.pdStartAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdEndAppAge')\" prop=\"pdEndAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputEndInsureAge')\" v-model=\"formChooseRow.pdEndAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('saleFeeDefinition.pdRate')\" prop=\"pdRate\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputRatio')\" v-model=\"formChooseRow.pdRate\">\r\n                <template slot=\"suffix\">%</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"16\" align=\"right\">\r\n            <el-button dialog-disable=\"disable\" size=\"small\" @click=\"onSubmit('formChooseRow')\" icon=\"el-icon-success\" type=\"primary\"\r\n                       v-auth=\"'pdtemp-pd-sale-fee-info:add'\" v-show=\"this.pageFlag\">{{$t('saleFeeDefinition.update')}}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" size=\"small\" @click=\"deleteData('formChooseRow')\" icon=\"el-icon-delete\"\r\n                       type=\"danger\" v-auth=\"'pdtemp-pd-sale-fee-info:delete'\" v-show=\"this.pageFlag\">{{$t('table.delete')}}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" size=\"small\" @click=\"resetForm('formChooseRow')\" icon=\"el-icon-refresh\"\r\n                       type=\"primary\">{{$t('saleFeeDefinition.refresh')}}\r\n            </el-button>\r\n          </el-col>\r\n        </cus-row>\r\n      </el-form>\r\n    </div>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n  import {addPdtempPdSlExp, deletePdtempPdSlExp, selectPdSlExpList, getSlMg,pdtempPdAtrsInfoList} from \"@/api/basicinfo/saleFeeDefinition\";\r\n  import {mapGetters} from \"vuex\";\r\n\r\n  let _this;\r\n  export default {\r\n    name: 'saleFeeDefinition',\r\n    filters: {\r\n      filter_codetype(code, value) {\r\n        if (value === 'pdSlMgc') {\r\n          for (const pdSlMgc of _this.pdSlMgcOptions) {\r\n            if (pdSlMgc.slMgcCode === code) {\r\n              return pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\r\n            }\r\n          }\r\n          return code\r\n        } else if (value == 'pdSaleChnl') {\r\n          return _this.getCodeName('pdSlChanl', code);\r\n        } else if (value == 'pdPolCurr') {\r\n          return _this.getCodeName('productCurrency', code);\r\n        } else if (value == 'pdPayPremMode') {\r\n          return _this.getCodeName('prempayway', code);\r\n        } else if (value == 'pdRateType') {\r\n          return _this.getCodeName('sdRateType', code);\r\n        }\r\n      },\r\n\r\n    },\r\n\r\n    data() {\r\n      _this = this;\r\n      const validatepdEndAppAge = (rule, value, callback) => {\r\n        if (this.form.pdStartAppAge > this.form.pdEndAppAge){\r\n          callback(new Error(\"起始投保年龄不得大于终止投保年龄\"))\r\n        }else{\r\n          callback();\r\n        }\r\n      }\r\n\r\n      const validateUpdateEndAppAge = (rule, value, callback) => {\r\n        if (this.formChooseRow.pdStartAppAge > this.formChooseRow.pdEndAppAge){\r\n          callback(new Error(\"起始投保年龄不得大于终止投保年龄\"))\r\n        }else{\r\n          callback();\r\n        }\r\n      }\r\n      return {\r\n        pageFlag: false,\r\n        form: {\r\n          id: '',\r\n          pdRateType: '1',\r\n          pdSlMgc: [],\r\n          pdSaleChnl: [],\r\n          pdAgencyCode: '',\r\n          pdPolCurr: [],\r\n          pdInfoId: '',\r\n          pdCode: '',\r\n          pdName:'',\r\n          pdVerId: '',\r\n          pdPolYear: '',\r\n          pdPayPremMode: [],\r\n          pdPayPeriod: '',\r\n          pdPayPeriodUnit: 'Y',\r\n          pdStartAppAge: '',\r\n          pdEndAppAge: '',\r\n          pdRate: '1',\r\n        },\r\n        package:{\r\n          pdInfoId:''\r\n        },\r\n        formChooseRow: {\r\n          id: '',\r\n          pdRateType: '1',\r\n          pdSlMgc: '',\r\n          pdSaleChnl: '',\r\n          pdAgencyCode: '',\r\n          pdPolCurr: '',\r\n          pdInfoId: '',\r\n          pdCode: '',\r\n          pdName:'',\r\n          pdVerId: '',\r\n          pdPolYear: '',\r\n          pdPayPremMode: '',\r\n          pdPayPeriod: '',\r\n          pdPayPeriodUnit: 'Y',\r\n          pdStartAppAge: '',\r\n          pdEndAppAge: '',\r\n          pdRate: '',\r\n        },\r\n        //表格选中数据\r\n        checkSaleFee:[],\r\n        tableData: [],\r\n        pdSlMgcOptions: [],\r\n        pdPolCurrOptionList: [],\r\n        pdSlChanlDisabledCodeArray: [],\r\n        rules1: {\r\n          pdRateType:[{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdRateType'), trigger: 'change'}],\r\n          pdSlMgc: [{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdSlMgc'), trigger: 'change'}],\r\n          pdSaleChnl: [{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdSaleChnl'), trigger: 'change'}],\r\n          pdPolCurr: [{required: true,message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdPolCurr'), trigger: 'change'}],\r\n          pdRate: [{required: true, message: this.$t('saleFeeDefinition.please_enter') + this.$t('saleFeeDefinition.pdRate'), trigger: 'blur'}],\r\n          pdEndAppAge:  [{validator: validatepdEndAppAge, trigger: 'blur'}]\r\n        },\r\n        rules2: {\r\n          pdRateType:[{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdRateType'), trigger: 'change'}],\r\n          pdSlMgc: [{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdSlMgc'), trigger: 'change'}],\r\n          pdSaleChnl: [{required: true, message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdSaleChnl'), trigger: 'change'}],\r\n          pdPolCurr: [{required: true,message: this.$t('saleFeeDefinition.please_select') + this.$t('saleFeeDefinition.pdPolCurr'), trigger: 'change'}],\r\n          pdRate: [{required: true, message: this.$t('saleFeeDefinition.please_enter') + this.$t('saleFeeDefinition.pdRate'), trigger: 'blur'}],\r\n          pdEndAppAge:  [{validator: validateUpdateEndAppAge, trigger: 'blur'}]\r\n        }\r\n      }\r\n    },\r\n    async created() {\r\n      let pdPpInfo = this.getPdData();\r\n      if (pdPpInfo != null) {\r\n        this.form.pdInfoId = pdPpInfo.id;\r\n        this.form.pdVerId = '1';\r\n        this.form.pdCode = pdPpInfo.ppCode;\r\n        this.form.pdName = pdPpInfo.ppName;\r\n\r\n        this.package.pdInfoId=pdPpInfo.pdInfoId;\r\n        this.formChooseRow.pdInfoId = pdPpInfo.id;\r\n        this.formChooseRow.pdVerId = '1';\r\n        this.formChooseRow.pdCode = pdPpInfo.ppCode;\r\n        this.formChooseRow.pdName = pdPpInfo.ppName;\r\n      }\r\n      await this.initQueryDatas();\r\n      await this.initMgcInfo();\r\n      await this.getPdPolCurrOption();\r\n      //初始化保单币种\r\n      this.form.pdPolCurr=['01'];\r\n      this.form.pdSlMgc = ['0000'];\r\n      this.form.pdSaleChnl = ['00']\r\n    },\r\n    watch: {\r\n      'form.pdSlMgc'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = false\r\n          }\r\n        } else {\r\n          if (this._.includes(selectedCodes, '0000')) {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode !== '0000'\r\n            }\r\n          } else {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'formChooseRow.pdSlMgc'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = false\r\n          }\r\n        } else {\r\n          if (this._.includes(selectedCodes, '0000')) {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode !== '0000'\r\n            }\r\n          } else {\r\n            for (const pdSlMgc of this.pdSlMgcOptions) {\r\n              pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'form.pdSaleChnl'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          this.pdSlChanlDisabledCodeArray = []\r\n        } else {\r\n          let allCodes = this._.map(this.ldcodes['pdSlChanl'], 'code');\r\n          if (this._.includes(selectedCodes, '00')) {\r\n            allCodes = allCodes.filter(code => {\r\n              return code !== '00'\r\n            });\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          } else {\r\n            allCodes = allCodes.filter(code => {\r\n              return code === '00'\r\n            });\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          }\r\n        }\r\n      },\r\n      'formChooseRow.pdSaleChnl'(selectedCodes) {\r\n        if (selectedCodes.length === 0) {\r\n          this.pdSlChanlDisabledCodeArray = []\r\n        } else {\r\n          let allCodes = this._.map(this.ldcodes['pdSlChanl'], 'code');\r\n          if (this._.includes(selectedCodes, '00')) {\r\n            allCodes = allCodes.filter(code => {\r\n              return code !== '00'\r\n            });\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          } else {\r\n            allCodes = allCodes.filter(code => {\r\n              return code === '00'\r\n            });\r\n            this.pdSlChanlDisabledCodeArray = allCodes\r\n          }\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'ldcodes'\r\n      ])\r\n    },\r\n    mounted() {},\r\n    methods: {\r\n      initQueryDatas() {\r\n        let pdPpInfo = this.getPdData();\r\n        selectPdSlExpList(this.buildRequestData({\"pdInfoId\":pdPpInfo.id})).then(res => {\r\n          this.tableData = res.data;\r\n        })\r\n      },\r\n      async initMgcInfo() {\r\n        for (const pdSlMgc of (await getSlMg()).data) {\r\n          this.pdSlMgcOptions.push(pdSlMgc)\r\n        }\r\n        for (const pdSlMgc of this.pdSlMgcOptions) {\r\n          this.$set(pdSlMgc, 'disabled', false)\r\n        }\r\n      },\r\n      checkSaleFeeTable(val){\r\n        this.checkSaleFee=val;\r\n        this.pageFlag=false;\r\n        this.$nextTick(()=>{\r\n          if(this.checkSaleFee.length==1){\r\n            Object.assign(this.formChooseRow,val[0])\r\n            this.pageFlag=true\r\n          }else if(this.checkSaleFee.length==0){\r\n            this.resetFormData()\r\n          }\r\n        })\r\n      },\r\n      getPdPolCurrOption() {\r\n        pdtempPdAtrsInfoList(this.package.pdInfoId).then(response => {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            if (response.data[i].pdAtrsCode == 'productCurrency') {\r\n              //从产品带入产品币种\r\n              this.pdPolCurrOptionList.push({\r\n                value: response.data[i].pdAtrsVal,\r\n                label: this.getCodeName('productCurrency', response.data[i].pdAtrsVal)\r\n              })\r\n            }\r\n          }\r\n        })\r\n      },\r\n      resetFormData() {\r\n        this.$refs.multipleTable.clearSelection();\r\n        this.$nextTick(function () {\r\n          if (!this.pageFlag) {\r\n            this.$refs['form'].resetFields();\r\n          } else {\r\n            this.$refs['formChooseRow'].resetFields();\r\n          }\r\n        })\r\n      },\r\n      onSubmit(form) {\r\n        this.$refs[form].validate((valid) => {\r\n          if (valid) {\r\n            let mgc = false;\r\n            let cal = false;\r\n            if (this.pageFlag) {\r\n              addPdtempPdSlExp(this.formChooseRow).then(res => {\r\n                if (mgc) {\r\n                  this.form.pdSlMgc = ['0000'];\r\n                }\r\n                if (cal) {\r\n                  this.form.pdSaleChnl = ['00'];\r\n                }\r\n                this.resetForm(form);\r\n                this.initQueryDatas();\r\n                this.notifySuccess(res.message);\r\n              })\r\n            } else {\r\n              addPdtempPdSlExp(this.form).then(res => {\r\n                if (mgc) {\r\n                  this.form.pdSlMgc = ['0000'];\r\n                }\r\n                if (cal) {\r\n                  this.form.pdSaleChnl = ['00'];\r\n                }\r\n                this.resetForm(form);\r\n                this.initQueryDatas();\r\n                this.notifySuccess(res.message);\r\n              })\r\n            }\r\n            //告知父页面已经保存\r\n            this.$emit('childFn', true);\r\n          }\r\n        })\r\n      },\r\n      deleteData(val) {\r\n          let delKeys =  this.checkSaleFee.map(sale => sale.id)\r\n          deletePdtempPdSlExp(this.buildRequestData({\"delKeys\": delKeys})).then(res => {\r\n            this.initQueryDatas();\r\n            this.notifySuccess(this.$t('successMessage.delete'))\r\n            if (val){\r\n              this.resetForm(val);\r\n            }\r\n          })\r\n      },\r\n      deleteMoreFee(){\r\n         this.deleteData()\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs.multipleTable.clearSelection();\r\n        this.$refs[formName].resetFields();\r\n        this.pageFlag = false;\r\n        this.form.pdRateType='1';\r\n        this.form.pdSlMgc=['0000'];\r\n        this.form.pdSaleChnl=['00'];\r\n        this.form.pdPolCurr=['01'];\r\n        this.form.pdPayPeriodUnit='Y';\r\n        this.form.pdRate='1'\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.cst{\r\n  width: 8%;\r\n}\r\n</style>\r\n\r\n"]}]}
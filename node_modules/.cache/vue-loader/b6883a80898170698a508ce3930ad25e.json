{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\package-release\\hisverrelease\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\package-release\\hisverrelease\\index.vue","mtime":1609847106639},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7Z2V0QWxsUGF0aCwgcmVsZVBkRmlsZX0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkcmVsZWFzZSI7DQppbXBvcnQge2Rvd25sb2FkUmVsZUZpbGV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZHZlcnJscyI7DQppbXBvcnQge2ZpbmRBbGxQcm9kdWN0QnlQZERldGFpbFR5cGVBbmRTdHV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZG9wZXJwZHZlcnJscyI7DQppbXBvcnQge2dldFBkSW5mb0lkfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGFja2FnZVNhbGVEZWZpbml0aW9uIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncGRvcGVyUGRWZXJSbHMnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkaWFsb2dTaG93OmZhbHNlLA0KICAgICAgZGlhbG9nVGl0bGU6JycsDQogICAgICBkaWFsb2dDb21wb25lbnQ6JycsDQogICAgICByZWFkeVJlbGVJbmNyZWFzZTogZmFsc2UsDQogICAgICBzaG93UmVsZTogZmFsc2UsDQogICAgICByZWxlQnV0dG9uOiB0cnVlLA0KICAgICAgc2hvd0NoZWNrOiB0cnVlLA0KICAgICAgdGFibGVmbGFnOiBmYWxzZSwNCiAgICAgIHNob3dSYWRpbzogZmFsc2UsDQogICAgICBwZEluZm86IHt9LA0KICAgICAgcGRQcEluZm86e30sDQogICAgICBzZWxlY3RlZFByb2R1Y3Q6IHt9LA0KICAgICAgY2hvb3NlUm93SWQ6ICcnLA0KICAgICAgYXJyMTogW10sDQogICAgICBhcnIyOiBbXSwNCiAgICAgIGVkaXRpb246IFtdLA0KICAgICAgY2hlY2tMaXN0OiBbXSwNCiAgICAgIGNoZWNrUGF0aDogW10sDQogICAgICBwYXRodGFibGVEYXRhOiBbXSwNCiAgICAgIHBhdGh0YWJsZURhdGFCYzogW10sDQogICAgICByZWZlcmVuY2VQcm9kdWN0TGlzdDogW10sDQogICAgICAvL+ihqOagvOWkmumAiQ0KICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLA0KICAgICAgLy/ooajmoLzmlbDmja4NCiAgICAgIGNvbmZpZ3M6IFtdLA0KICAgICAgb2JqTGlzdDogW10sDQogICAgICBwYWNrYWdlTGlzdDogW10sDQogICAgICBwZFNlbEZvcm06IHsNCiAgICAgICAgcGRSZWxlV2F5OiAnJywNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRjaGVja0xpc3Q6ICcnLA0KICAgICAgICBwZEFwcGx5U3RhcnREYXRlOiB1bmRlZmluZWQsDQogICAgICAgIHBkQXBwbHlFbmREYXRlOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICAvKuaXpeacn+aYvuekuiovDQogICAgICBhcHBseURhdGVWYWx1ZTogJycsDQogICAgICBwaWNrZXJPcHRpb25zOiB7DQogICAgICAgIHNob3J0Y3V0czogW3sNCiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywNCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOw0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sIHsNCiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywNCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsNCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgfQ0KICAgICAgICB9LCB7DQogICAgICAgICAgdGV4dDogJ+acgOi/keS4ieS4quaciCcsDQogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7DQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfV0NCiAgICAgIH0sDQogICAgICBQZHRlbXBQZFZlclJsczogew0KICAgICAgICBwZFJlbGVXYXk6ICcnLCAgICAgIC8v5Y+R5biD5pa55byPDQogICAgICAgIHBkRWRpdGlvbjogJycsICAvLyAg5Lqn5ZOB54mI5pysDQogICAgICAgIHBkVHlwZTogJycsICAvLyAg5Lqn5ZOB57G75Z6LDQogICAgICAgIHBkSW5mb0lkOiAnJywgIC8vICDkuqflk4FpZA0KICAgICAgICBwZENvZGU6ICcnLCAgLy8gIOS6p+WTgee8lueggQ0KICAgICAgICBwZFJlbGVPcmRlcjogJycsICAvLyAg5Y+R5biD5bqP5Y+3DQogICAgICAgIHBkUmVsZVR5cGU6ICcnLCAgLy8gIOWPkeW4g+exu+WeiyA6IOWFqOmHj+WPkeW4gyDlop7ph4/lj5HluIMNCiAgICAgICAgcGRSZWxlU3lzOiAnJywgIC8vICDlj5Hoh7Pns7vnu58NCiAgICAgICAgcGRSZWxlU3lzcGF0aE5hbWU6ICcnLCAgLy8gIOWPkeiHs+eOr+Wigw0KICAgICAgICBwZFJlbGVGaWxlUGF0aDogW10sICAvLyAg5Y+R5biD5paH5Lu25Zyw5Z2ADQogICAgICAgIHBkUmVsZVN0dTogJycsICAvLyAg5Y+R5biD54q25oCBIDog5Y+R5biD5oiQ5YqfIOWPkeW4g+Wksei0pQ0KICAgICAgICBwZFJlbGVDb250ZW50OiAnJywgIC8vICDlj5HluIPlhoXlrrkNCiAgICAgICAgcGRSZWxlRGV0YWlsczogJycsICAvLyAg5Y+R5biD6K+05piODQogICAgICAgIHBkUmVsZUZpbGVOYW1lOiBbXSwgIC8vICDnlJ/miJDmlofku7blkI0NCiAgICAgIH0sDQogICAgICBwZFBhcmFtczogW10sDQogICAgICAvL+ajgOmqjOinhOWImQ0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgdXNlckNvZGU6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3Bkb3BlclBkVmVyUmxzLnh4eCcpLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsIC8vZGlhbG9n5pi+56S66L+Y5piv6ZqQ6JePDQogICAgICBkaWFsb2dTdGF0dXM6ICcnLCAvL+ihqOWNleeKtuaAgeaYr+aWsOWinui/mOaYr+S/ruaUuQ0KICAgICAgdGl0bGVNYXA6IHsNCiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdwZG9wZXJQZFZlclJscy51cGRhdGUnKSwNCiAgICAgICAgY3JlYXRlOiB0aGlzLiR0KCdwZG9wZXJQZFZlclJscy5hZGQnKQ0KICAgICAgfSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnByZVNlbGN0KCk7DQogICAgdGhpcy5maWx0ZXJQYWNrYWdlQnlOb2RlKHRoaXMsJzknKQ0KICB9LA0KICBtb3VudGVkKCkgew0KICB9LA0KICB3YXRjaDogew0KICAgIGFwcGx5RGF0ZVZhbHVlKHZhbCkgew0KICAgICAgaWYgKHZhbCkgew0KICAgICAgICB0aGlzLnBkU2VsRm9ybS5wZEFwcGx5U3RhcnREYXRlID0gdmFsWzBdOw0KICAgICAgICB0aGlzLnBkU2VsRm9ybS5wZEFwcGx5RW5kRGF0ZSA9IHZhbFsxXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGRTZWxGb3JtLnBkQXBwbHlTdGFydERhdGUgPSAnJzsNCiAgICAgICAgdGhpcy5wZFNlbEZvcm0ucGRBcHBseUVuZERhdGUgPSAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNsb3NlUGFnZURpYWxvZygpew0KICAgICAgdGhpcy5kaWFsb2dTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMuZGlhbG9nQ29tcG9uZW50ID0gJycNCiAgICB9LA0KICAgIGNob29zZU9uZVJvdyhyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZFByb2R1Y3QuaWQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZHVjdCA9ICcnOw0KICAgICAgICAgIHRoaXMuY2hvb3NlUm93SWQgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLnNob3dSZWxlID0gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5jaGFuZ2VSZWxlYXNlVHlwZShyb3cpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBiYWNrKCkgew0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlSGlzdmVydmlzaWJsZV9mb3JtdWxhJywgZmFsc2UpDQogICAgfSwNCiAgICByYWRpb0NsaWNrKGUpIHsNCiAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQgPT09IHRydWUpIHJldHVybg0KICAgICAgaWYgKCF0aGlzLmlzUmVxdWlyZWQpIHsNCiAgICAgICAgZSA9PT0gdGhpcy5zZWxlY3RlZFByb2R1Y3QgPyAodGhpcy5zZWxlY3RlZFByb2R1Y3QgPSAnJykgOiAodGhpcy5zZWxlY3RlZFByb2R1Y3QgPSBlKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZFByb2R1Y3QgPSBlOw0KICAgICAgfQ0KICAgICAgaWYgKCEodGhpcy5zZWxlY3RlZFByb2R1Y3QgPT09ICcnKSkgew0KICAgICAgICBpZiAodGhpcy5jaGFuZ2VNZXRob2QpIHsNCiAgICAgICAgICB0aGlzLmNoYW5nZU1ldGhvZCh0aGlzLnNlbGVjdGVkUHJvZHVjdCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHVuaXF1ZShhcnIxKSB7DQogICAgICBjb25zdCByZXMgPSBuZXcgTWFwKCkgIC8v5a6a5LmJ5bi46YePIHJlcyzlgLzkuLrkuIDkuKpNYXDlr7nosaHlrp7kvosNCiAgICAgIC8v6L+U5ZueYXJy5pWw57uE6L+H5ruk5ZCO55qE57uT5p6c77yM57uT5p6c5Li65LiA5Liq5pWw57uEICAg6L+H5ruk5p2h5Lu25piv77yM5aaC5p6ccmVz5Lit5rKh5pyJ5p+Q5Liq6ZSu77yM5bCx6K6+572u6L+Z5Liq6ZSu55qE5YC85Li6MQ0KICAgICAgcmV0dXJuIGFycjEuZmlsdGVyKChhcnIxKSA9PiAhcmVzLmhhcyhhcnIxLnBkQ29kZSkgJiYgcmVzLnNldChhcnIxLnBkQ29kZSwgMSkpDQogICAgfSwNCg0KICAgIHVuaXF1ZTIoYXJyMikgew0KICAgICAgY29uc3QgcmVzID0gbmV3IE1hcCgpICAvL+WumuS5ieW4uOmHjyByZXMs5YC85Li65LiA5LiqTWFw5a+56LGh5a6e5L6LDQogICAgICAvL+i/lOWbnmFycuaVsOe7hOi/h+a7pOWQjueahOe7k+aenO+8jOe7k+aenOS4uuS4gOS4quaVsOe7hCAgIOi/h+a7pOadoeS7tuaYr++8jOWmguaenHJlc+S4reayoeacieafkOS4qumUru+8jOWwseiuvue9rui/meS4qumUrueahOWAvOS4ujENCiAgICAgIHJldHVybiBhcnIyLmZpbHRlcigoYXJyMikgPT4gIXJlcy5oYXMoYXJyMi5wZEVkaXRpb24pICYmIHJlcy5zZXQoYXJyMi5wZEVkaXRpb24sIDEpKQ0KICAgIH0sDQoNCiAgICBwcmVTZWxjdCgpIHsNCiAgICAgIHRoaXMuY2hlY2tQYXRoID0gW107DQogICAgICBnZXRBbGxQYXRoKCkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMucGF0aHRhYmxlRGF0YUJjID0gcmVzLmRhdGE7DQogICAgICAgICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiByZXMuZGF0YSkgew0KICAgICAgICAgICAgdGhpcy5jaGVja1BhdGgucHVzaChhcmd1bWVudC5wZFJlbGVTeXNuYW1lKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFJlZmVyZW5jZVByb2R1Y3RMaXN0KGZpbmVsaW5lc1JlZ2lvbikgew0KICAgICAgbGV0IHBhcmFtID0gew0KICAgICAgICBmaW5lbGluZXNSZWdpb246IGZpbmVsaW5lc1JlZ2lvbg0KICAgICAgfQ0KICAgICAgaWYgKCIiLmVuZHNXaXRoKGZpbmVsaW5lc1JlZ2lvbikgfHwgZmluZWxpbmVzUmVnaW9uID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIGZpbmRBbGxQcm9kdWN0QnlQZERldGFpbFR5cGVBbmRTdHUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMucmVmZXJlbmNlUHJvZHVjdExpc3QgPSBbXQ0KICAgICAgICB0aGlzLmRldGFpbFR5cGVPcHRpb25MaXN0ID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIHRoaXMuZGV0YWlsVHlwZU9wdGlvbkxpc3QpIHsNCiAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3RPcHRpb24gb2YgdGhpcy5jb25maWdzKSB7DQogICAgICAgICAgICBpZiAocHJvZHVjdE9wdGlvbi5wZENvZGUgPT09IHByb2R1Y3QucGRDb2RlKSB7DQogICAgICAgICAgICAgIHRoaXMuYXJyMS5wdXNoKHByb2R1Y3RPcHRpb24pDQogICAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlUHJvZHVjdExpc3QgPSB0aGlzLnVuaXF1ZSh0aGlzLmFycjEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8q5bey5Y+R5biD5pCc57SiKi8NCiAgICBxdWVyeVRhYmxlRGF0YSgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKTsNCiAgICB9LA0KICAgIGdldFN5c1BhdGgodmFsKSB7DQogICAgICBpZiAoIXZhbCkgew0KICAgICAgICB0aGlzLnJlbGVCdXR0b24gPSB0cnVlOw0KICAgICAgICB0aGlzLiRlbWl0KCdwYXJlbnRCeUNsaWNrJywgIuW+heWPkeW4gyIsIHRoaXMuY2hlY2tJZCk7DQogICAgICB9DQogICAgICBpZiAodmFsKSB7DQogICAgICAgIGlmICh2YWwgIT09ICczJyAmJiB2YWwgIT09ICcyJykgew0KICAgICAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlRmlsZU5hbWUgPSBbXTsNCiAgICAgICAgICB0aGlzLnNob3dDaGVjayA9IHRydWU7DQogICAgICAgICAgdGhpcy5zaG93UmFkaW8gPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmNoZWNrTGlzdCA9IFtdOw0KICAgICAgICAgIHRoaXMudGFibGVmbGFnID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZVN5c3BhdGhOYW1lID0gJyc7DQogICAgICAgICAgdGhpcy5wYXRodGFibGVEYXRhID0gW107DQogICAgICAgICAgdGhpcy4kZW1pdCgncGFyZW50QnlDbGljaycsICLlj5HluIPlvoXnoa7orqQiLCB0aGlzLmNoZWNrSWQpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNvbnNvbGUubG9nKDIyMzMzMjIyKQ0KICAgICAgICAgIHRoaXMuY2hlY2tMaXN0ID0gW107DQogICAgICAgICAgdGhpcy5zaG93UmFkaW8gPSB0cnVlOw0KICAgICAgICAgIHRoaXMuc2hvd0NoZWNrID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVTeXNwYXRoTmFtZSA9ICcnOw0KICAgICAgICAgIHRoaXMudGFibGVmbGFnID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLnBhdGh0YWJsZURhdGEgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnJlbGVCdXR0b24gPSBmYWxzZTsNCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zaG93Q2hlY2sgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5zaG93UmFkaW8gPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qICDlj5HluIPlpJrpgIkt5pi+56S6546v5aKDICAqLw0KICAgIHNob3dQYXRoKHZhbCkgew0KICAgICAgdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVTeXNwYXRoTmFtZSA9ICcnOw0KICAgICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiB2YWwpIHsNCiAgICAgICAgdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVTeXNwYXRoTmFtZSArPSBhcmd1bWVudCArICI7Ig0KICAgICAgfQ0KICAgICAgdGhpcy5wYXRodGFibGVEYXRhID0gW107DQogICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdmFsKSB7DQogICAgICAgIGZvciAoY29uc3QgcGF0aERhdGEgb2YgdGhpcy5wYXRodGFibGVEYXRhQmMpIHsNCiAgICAgICAgICBpZiAobmFtZSA9PT0gcGF0aERhdGEucGRSZWxlU3lzbmFtZSkgew0KICAgICAgICAgICAgdGhpcy5wYXRodGFibGVEYXRhLnB1c2gocGF0aERhdGEpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMucGF0aHRhYmxlRGF0YS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy50YWJsZWZsYWcgPSBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGFibGVmbGFnID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgc2hvd0ZpbGUodmFsKSB7DQogICAgICB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUZpbGVOYW1lID0gdmFsOw0KDQogICAgfSwNCiAgICAvKiAg5Y+R5biD5Y2V6YCJLeaYvuekuueOr+WigyAgKi8NCiAgICBzaG93UGF0aE9uZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKDEyMzEpDQogICAgICB0aGlzLnBhdGh0YWJsZURhdGEgPSBbXTsNCiAgICAgIGZvciAoY29uc3QgcGF0aERhdGEgb2YgdGhpcy5wYXRodGFibGVEYXRhQmMpIHsNCiAgICAgICAgaWYgKHZhbCA9PT0gcGF0aERhdGEucGRSZWxlU3lzbmFtZSkgew0KICAgICAgICAgIHRoaXMucGF0aHRhYmxlRGF0YS5wdXNoKHBhdGhEYXRhKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMucGF0aHRhYmxlRGF0YS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy50YWJsZWZsYWcgPSBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGFibGVmbGFnID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qICDlj5HluIPnoa7orqQgKi8NCiAgICBzdWJtaXRSZWxlSW5mbygpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgICJwcm9kdWN0UmVsZWFzZUluZm9Wb0xpc3QiOiB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLA0KICAgICAgICAicGR0ZW1wUGRSZWxlU3lzcGF0aExpc3QiOiBBcnJheS5pc0FycmF5KHRoaXMuZW52TGlzdCkgPyB0aGlzLmVudkxpc3QgOiBBcnJheSh0aGlzLmVudkxpc3QpLA0KICAgICAgICAicGRSZWxlV2F5IjogdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVXYXksDQogICAgICAgICJwZFJlbGVEZXRhaWxzIjogdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVEZXRhaWxzLA0KICAgICAgICAicmVsZVR5cGUiOiAiMCIsDQogICAgICAgICJyZWxlVHlwZURldCI6ICIwIg0KICAgICAgfQ0KICAgICAgcmVsZVBkRmlsZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUZpbGUgPSAnJzsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlRmlsZSA9IHJlcy5kYXRhWzBdLnBkUmVsZUZpbGVOYW1lDQogICAgICAgICAgbGV0IGZpbGVQYXRoID0gcmVzLmRhdGFbMF0ucGRSZWxlRmlsZVBhdGggKyAiLy8iICsgcmVzLmRhdGFbMF0ucGRSZWxlRmlsZU5hbWU7DQogICAgICAgICAgbGV0IGZpbGVOYW1lID0gcmVzLmRhdGFbMF0ucGRSZWxlRmlsZU5hbWU7DQogICAgICAgICAgbGV0IGRhdGEgPSB7ImZpbGVQYXRoIjogZmlsZVBhdGh9DQogICAgICAgICAgZG93bmxvYWRSZWxlRmlsZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuZG93bmxvYWRSZXNwb25zZUZpbGUocmVzLCBmaWxlTmFtZSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGZvciAoY29uc3QgcGRvcGVyUGRTeXNSbHNUcmMgb2YgcmVzLmRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlRmlsZSArPSBwZG9wZXJQZFN5c1Jsc1RyYy5wZFJlbGVGaWxlTmFtZSArICI7ICI7DQogICAgICAgICAgICBsZXQgZmlsZVBhdGggPSBwZG9wZXJQZFN5c1Jsc1RyYy5wZFJlbGVGaWxlUGF0aCArICIvLyIgKyBwZG9wZXJQZFN5c1Jsc1RyYy5wZFJlbGVGaWxlTmFtZTsNCiAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IHBkb3BlclBkU3lzUmxzVHJjLnBkUmVsZUZpbGVOYW1lOw0KICAgICAgICAgICAgbGV0IGRhdGEgPSB7ImZpbGVQYXRoIjogZmlsZVBhdGh9DQogICAgICAgICAgICBkb3dubG9hZFJlbGVGaWxlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkUmVzcG9uc2VGaWxlKHJlcywgZmlsZU5hbWUpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUZpbGUgPSB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUZpbGUuc3Vic3RyaW5nKDAsIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlRmlsZS5sZW5ndGggLSAyKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSkNCiAgICAgICAgaWYgKHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlV2F5ID09PSAnMicpIHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCdwYXJlbnRCeUNsaWNrJywgIuW3suWPkeW4gyIgKyB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUVudik7DQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9LA0KICAgIC8q5Yi35pawKi8NCiAgICByZWZyZXNoUGFnZSgpIHsNCiAgICAgIHRoaXMub2JqTGlzdDIgPSBbXTsNCiAgICAgIHRoaXMub2JqTGlzdDMgPSBbXTsNCiAgICAgIGZvciAoY29uc3QgYXJndW1lbnQgb2YgdGhpcy5vYmpMaXN0KSB7DQogICAgICAgIHRoaXMub2JqTGlzdDIucHVzaChhcmd1bWVudC5wZFJlbGVTeXNwYXRoTmFtZSk7DQogICAgICB9DQogICAgICBmb3IgKGNvbnN0IGFyZ3VtZW50IG9mIHRoaXMub2JqTGlzdCkgew0KICAgICAgICB0aGlzLm9iakxpc3QzLnB1c2goYXJndW1lbnQucGRSZWxlRmlsZU5hbWUpOw0KICAgICAgfQ0KICAgICAgdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVEZXRhaWxzID0gdGhpcy5zZWxlY3RlZFByb2R1Y3QucGRSZWxlRGV0YWlsczsNCiAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlV2F5ID0gdGhpcy5zZWxlY3RlZFByb2R1Y3QucGRSZWxlV2F5Ow0KICAgICAgdGhpcy5jaGVja0xpc3QgPSB0aGlzLm9iakxpc3QyDQogICAgICB0aGlzLlBkdGVtcFBkVmVyUmxzLnBkUmVsZUZpbGVOYW1lID0gdGhpcy5vYmpMaXN0Mw0KDQogICAgfSwNCg0KICAgIC8q6aG16Z2i6Lez6L2s5oyJ6ZKu57uEKi8NCiAgICBnZXRQYWNrRGVzaWduUGFnZSgpIHsNCiAgICAgIGlmICh0aGlzLnBkUHBJbmZvKSB7DQogICAgICAgIHRoaXMuY2FjaGVDdXJyUGFnZVBkRGF0YSh0aGlzLnBkUHBJbmZvKQ0KICAgICAgICB0aGlzLmRpYWxvZ1Nob3cgPSB0cnVlDQogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5aWX6aSQ5qGG5p625L+h5oGv5p+l55yLJw0KICAgICAgICB0aGlzLmRpYWxvZ0NvbXBvbmVudCA9ICdwcm9kdWN0LXBhY2thZ2UtZGVmaW5pdGlvbi9wcC1mcmFtZXdvcmstZGVmL3BwLW1haW4nDQogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5Lqn5ZOB5qGG5p625a6a5LmJ5Li76aG1JywgcXVlcnk6IHtzaG93UGFnZUZsYWc6ICcxJ30scGFyYW1zOnRoaXMucGRJbmZvfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFBhY2tTYWxlUGFnZSgpIHsNCiAgICAgIGlmICh0aGlzLnBkUHBJbmZvKSB7DQogICAgICAgIGxldCBpbmZvID0gT2JqZWN0LmFzc2lnbih7fSx0aGlzLnBkUHBJbmZvKTsNCiAgICAgICAgaW5mby5wZFByb2Nlc3NJZCA9ICcnOw0KICAgICAgICBpbmZvLnBwQ29kZSA9IGluZm8ucGRDb2RlOw0KICAgICAgICBpbmZvLnBwTmFtZSA9IGluZm8ucGROYW1lOw0KICAgICAgICAvL1RPRE86IOS6p+WTgeWll+mkkOaciWJ1Z++8jOWQjue7reacieeUqA0KICAgICAgICAvLyBnZXRQZEluZm9JZCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoaW5mbykpLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgLy8NCiAgICAgICAgLy8gfSkNCiAgICAgICAgdGhpcy5jYWNoZUN1cnJQYWdlUGREYXRhKGluZm8pDQogICAgICAgIHRoaXMuZGlhbG9nU2hvdyA9IHRydWUNCiAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICflpZfppJDplIDllK7kv6Hmga/mn6XnnIsnDQogICAgICAgIHRoaXMuZGlhbG9nQ29tcG9uZW50ID0gJ3Byb2R1Y3QtcGFja2FnZS1kZWZpbml0aW9uL3BwLW9wZXJhdGlvbi1kZWYvcHAtc2FsZXMtZGVmL3NhbGUtbWFpbicNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFBhY2tQcm9wb3NhbFBhZ2UoKSB7DQogICAgICBpZiAodGhpcy5wZFBwSW5mbykgew0KICAgICAgICBsZXQgaW5mbyA9IE9iamVjdC5hc3NpZ24oe30sdGhpcy5wZFBwSW5mbyk7DQogICAgICAgIGluZm8ucGRQcm9jZXNzSWQgPSAnJzsNCiAgICAgICAgaW5mby5wcENvZGUgPSBpbmZvLnBkQ29kZTsNCiAgICAgICAgaW5mby5wcE5hbWUgPSBpbmZvLnBkTmFtZTsNCiAgICAgICAgdGhpcy5jYWNoZUN1cnJQYWdlUGREYXRhKGluZm8pDQogICAgICAgIHRoaXMuZGlhbG9nU2hvdyA9IHRydWUNCiAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICflpZfppJDmib/kv53kv6Hmga/mn6XnnIsnDQogICAgICAgIHRoaXMuZGlhbG9nQ29tcG9uZW50ID0gJ3Byb2R1Y3QtcGFja2FnZS1kZWZpbml0aW9uL3BwLW9wZXJhdGlvbi1kZWYvcHAtYWNjZXB0YW5jZS1kZWYvYWNjcHQtbWFpbicNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFBhY2tVbmRlcndyaXRpbmdQYWdlKCkgew0KICAgICAgaWYgKHRoaXMucGRQcEluZm8pIHsNCiAgICAgICAgbGV0IGluZm8gPSBPYmplY3QuYXNzaWduKHt9LHRoaXMucGRQcEluZm8pOw0KICAgICAgICBpbmZvLnBkUHJvY2Vzc0lkID0gJyc7DQogICAgICAgIGluZm8ucHBDb2RlID0gaW5mby5wZENvZGU7DQogICAgICAgIGluZm8ucHBOYW1lID0gaW5mby5wZE5hbWU7DQogICAgICAgIHRoaXMuY2FjaGVDdXJyUGFnZVBkRGF0YShpbmZvKQ0KICAgICAgICB0aGlzLmRpYWxvZ1Nob3cgPSB0cnVlDQogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5aWX6aSQ5qC45L+d5L+h5oGv5p+l55yLJw0KICAgICAgICB0aGlzLmRpYWxvZ0NvbXBvbmVudCA9ICdwcm9kdWN0LXBhY2thZ2UtZGVmaW5pdGlvbi9wcC1vcGVyYXRpb24tZGVmL3BwLXVuZGVyd3JpdGluZy1kZWYvdW53LW1haW4nDQogICAgICB9DQogICAgfSwNCiAgICBnZXRQYWNrQ2xhaW1QYWdlKCkgew0KICAgICAgaWYgKHRoaXMucGRQcEluZm8pIHsNCiAgICAgICAgbGV0IGluZm8gPSBPYmplY3QuYXNzaWduKHt9LHRoaXMucGRQcEluZm8pOw0KICAgICAgICBpbmZvLnBkUHJvY2Vzc0lkID0gJyc7DQogICAgICAgIGluZm8ucHBDb2RlID0gaW5mby5wZENvZGU7DQogICAgICAgIGluZm8ucHBOYW1lID0gaW5mby5wZE5hbWU7DQogICAgICAgIHRoaXMuY2FjaGVDdXJyUGFnZVBkRGF0YShpbmZvKQ0KICAgICAgICB0aGlzLmRpYWxvZ1Nob3cgPSB0cnVlDQogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5aWX6aSQ5qC45L+d5L+h5oGv5p+l55yLJw0KICAgICAgICB0aGlzLmRpYWxvZ0NvbXBvbmVudCA9ICdwcm9kdWN0LXBhY2thZ2UtZGVmaW5pdGlvbi9wcC1vcGVyYXRpb24tZGVmL3BwLWNvbXBlbnNhdGlvbi1kZWYvY29tcC1tYWluJw0KICAgICAgfQ0KICAgIH0sDQoNCg0KICAgIHJlYWR5UmVsZWFzZUluZm9DbGljayhyb3cpIHsNCiAgICAgIHRoaXMucmVhZHlSZWxlSW5jcmVhc2UgPSAhdGhpcy5yZWFkeVJlbGVJbmNyZWFzZTsNCiAgICAgIHRoaXMucGRQcEluZm8gPSByb3cNCiAgICB9LA0KICAgIGNoYW5nZVJlbGVhc2VUeXBlKHJvdykgew0KDQogICAgICB0aGlzLnBkSW5mbyA9IHJvdzsNCiAgICAgIHRoaXMub2JqTGlzdCA9IHJvdy5wZG9wZXJQZFN5c1Jsc1RyY0xpc3Q7DQogICAgICB0aGlzLm9iakxpc3QyID0gW107DQogICAgICB0aGlzLm9iakxpc3QzID0gW107DQogICAgICBmb3IgKGNvbnN0IGFyZ3VtZW50IG9mIHRoaXMub2JqTGlzdCkgew0KICAgICAgICB0aGlzLm9iakxpc3QyLnB1c2goYXJndW1lbnQucGRSZWxlU3lzcGF0aE5hbWUpOw0KICAgICAgfQ0KICAgICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiB0aGlzLm9iakxpc3QpIHsNCiAgICAgICAgdGhpcy5vYmpMaXN0My5wdXNoKGFyZ3VtZW50LnBkUmVsZUZpbGVOYW1lKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlV2F5ID0gcm93LnBkUmVsZVdheTsNCiAgICAgIHRoaXMuUGR0ZW1wUGRWZXJSbHMucGRSZWxlRGV0YWlscyA9IHJvdy5wZFJlbGVEZXRhaWxzOw0KICAgICAgdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVGaWxlTmFtZSA9IHJvdy5wZFJlbGVGaWxlTmFtZTsNCiAgICAgIC8vdGhpcy5QZHRlbXBQZFZlclJscy5wZFJlbGVTeXNwYXRoTmFtZSA9IHJvdy5wZFJlbGVTeXNwYXRoTmFtZTsNCiAgICAgIC8vIHRoaXMuZ2V0Q2FwdGlvbihyb3cucGRSZWxlU3lzcGF0aE5hbWUpOw0KICAgICAgdGhpcy5jaGVja0xpc3QgPSB0aGlzLm9iakxpc3QyOw0KICAgICAgdGhpcy5zaG93UGF0aCh0aGlzLm9iakxpc3QyKTsNCiAgICAgIHRoaXMuc2hvd0ZpbGUodGhpcy5vYmpMaXN0Myk7DQogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gW107DQogICAgICB0aGlzLmNoZWNrSWQgPSBbXTsNCiAgICAgIHRoaXMuY2hvb3NlUm93SWQgPSB0cnVlOw0KICAgICAgdGhpcy5zaG93UmVsZSA9IHRydWU7DQoNCiAgICB9LA0KICAgIGdldENhcHRpb24ob2JqKSB7DQogICAgICBsZXQgb2JqMSA9ICcnOw0KICAgICAgbGV0IG9iajIgPSAnJzsNCiAgICAgIGxldCBpbmRleCA9IG9iai5pbmRleE9mKCI7IikNCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMub2JqTGlzdA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgb2JqMSA9IG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKQ0KICAgICAgICBvYmoyID0gb2JqLnN1YnN0cmluZygwLCBpbmRleCkNCiAgICAgICAgdGhpcy5vYmpMaXN0LnB1c2gob2JqKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG9iag0KICAgIH0sDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpDQogICAgfSwNCiAgICBoYW5kbGVDcmVhdGUoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgpDQogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICdjcmVhdGUnDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGUocm93KSB7DQogICAgICB0aGlzLmZvcm0gPSBPYmplY3QuYXNzaWduKHt9LCByb3cpDQogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICd1cGRhdGUnDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBoYW5kbGVEZWxldGUoaWQpIHsNCiAgICAgIGRlbGV0ZVBkb3BlclBkVmVyUmxzKGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKQ0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSkNCiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBzdWJtaXRGb3JtKCkgew0KICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGxldCBiYWNrOw0KICAgICAgICAgIGlmICh0aGlzLmZvcm0uaWQpIHsNCiAgICAgICAgICAgIGJhY2sgPSB1cGRhdGVQZG9wZXJQZFZlclJscyh0aGlzLmZvcm0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGJhY2sgPSBhZGRQZG9wZXJQZFZlclJscyh0aGlzLmZvcm0pDQogICAgICAgICAgfQ0KICAgICAgICAgIGJhY2sudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpDQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSkNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlc2V0Rm9ybSgpIHsNCiAgICAgIHRoaXMuZm9ybSA9IHsgIC8v6KGo5Y2V5pWw5o2u5LiO5ZCO56uv5a6e5L2T57G75a+55bqUDQogICAgICAgIGlkOiAnJywgLy/kuLvplK5JRA0KICAgICAgICB4eHh4OiAnJw0KICAgICAgfQ0KICAgIH0sDQoNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-release/package-release/hisverrelease","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdoperVersion1.packageHisVersion')\"@backTo=\"back\"></cus-page-title-back>\r\n    <div>\r\n      <el-form ref=\"pdSelForm\" :model=\"pdSelForm\" label-position=\"right\" label-width=\"auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.combo')\"  prop=\"eq_pdInfoId\">\r\n              <el-select v-model=\"pdSelForm.pdCode\" clearable filterable>\r\n                <el-option v-for=\"product in packageList\" :key=\"product.id\"\r\n                           :label=\"product.pdCode + ':' + product.pdName\" :value=\"product.pdCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.releaseMethod')\">\r\n              <cus-select v-model=\"pdSelForm.pdReleWay\" :codetype=\"'releaseway'\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.pdAuditConc')\">\r\n              <el-select v-model=\"pdSelForm.pdcheckList\" clearable filterable>\r\n                <el-option v-for=\"path in pathtableDataBc\" :key=\"path.id\"\r\n                           :label=\"path.pdReleSysname\" :value=\"path.pdReleSysname\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\" prop=\"pdCode\">\r\n            <el-form-item :label=\"$t('i18nView.releaseDate')\">\r\n              <el-date-picker\r\n                value-format=\"yyyy-MM-dd\"\r\n                v-model=\"applyDateValue\"\r\n                :end-placeholder=\"$t('acceptanceDefinition.pdApplyEndDate')\"\r\n                :picker-options=\"pickerOptions\"\r\n                :range-separator=\"$t('acceptanceDefinition.to')\"\r\n                :start-placeholder=\"$t('acceptanceDefinition.pdApplyStartDate')\"\r\n                type=\"daterange\"\r\n                unlink-panels>\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <cus-btn-wrapper>\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"queryTableData\">\r\n              {{ $t('pdoperVersion.search') }}\r\n            </el-button>\r\n          </cus-btn-wrapper>\r\n        </el-row>\r\n        <cus-table-title :label=\"$t('pdoperVersion1.mealToDefined')\"/>\r\n      </el-form>\r\n\r\n      <el-table ref=\"page\" :data=\"configs\" border element-loading-text=\"Loading\"\r\n                fit highlight-current-row size=\"mini\" tooltip-effect=\"dark\" @row-click=\"chooseOneRow\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedProduct\">\r\n            <span>\r\n              <el-radio v-model=\"chooseRowId\" :label=\"scope.row\" @change=\"changeReleaseType\">{{ '' }}</el-radio>\r\n            </span>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"\r\n                         width=\"55px\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.ppCode')\" align=\"center\"\r\n                         prop=\"pdCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.ppName')\" align=\"center\"\r\n                         prop=\"pdName\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.ppEdition')\" align=\"center\"\r\n                         prop=\"pdVerId\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.applyDoneDate')\" align=\"center\"\r\n                         prop=\"pdAuditDate\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdreleaseDate')\" align=\"center\"\r\n                         prop=\"createTime\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.ppDisDate')\" align=\"center\"\r\n                         prop=\"pdVerDisDate\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.releaseNumber')\" align=\"center\"\r\n                         prop=\"pdNumber\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.postDoneContent')\" align=\"center\"  prop=\"pdReviseCount\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" style=\"width: 100px\" type=\"text\" @click=\"readyReleaseInfoClick(scope.row)\"><i\r\n              class=\"el-icon-d-arrow-right\"></i></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <cus-pagination ref=\"page\" v-model=\"configs\" :pageSisze=\"10\" :params=\"pdSelForm\"\r\n                      url=\"/comboRelease/history/getComboHisCode\"/>\r\n\r\n      <div v-if=\"readyReleIncrease\">\r\n        <cus-form-title :label=\"$t('i18nView.postDoneContent')\" ></cus-form-title>\r\n        <el-form style=\"margin-left: 55px\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"6\">\r\n              <el-link :underline=\"false\" @click=\"getPackDesignPage\">{{ $t('PPReleasedstatistics.packageInfo') }}<i\r\n                class=\"el-icon-info\"></i></el-link>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-link :underline=\"false\" @click=\"getPackSalePage\">{{ $t('PPReleasedstatistics.packageSaleInfo') }}<i\r\n                class=\"el-icon-info\"></i></el-link>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-link :underline=\"false\" @click=\"getPackProposalPage\">{{ $t('PPReleasedstatistics.packageProposalInfo') }}<i\r\n                class=\"el-icon-info\"></i></el-link>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-link :underline=\"false\" @click=\"getPackUnderwritingPage\">{{ $t('PPReleasedstatistics.packageUnderwritingInfo') }}<i\r\n                class=\"el-icon-info\"></i></el-link>\r\n            </el-col>\r\n\r\n            <el-col :span=\"6\">\r\n              <el-link :underline=\"false\" @click=\"getPackClaimPage\">{{ $t('PPReleasedstatistics.packageClaimInfo') }}<i\r\n                class=\"el-icon-info\"></i></el-link>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n\r\n      <el-form v-if=\"showRele\" :ref=\"PdtempPdVerRls\" :inline=\"true\" :model=\"PdtempPdVerRls\" :rules=\"rules\"\r\n               style=\"margin-top: 33px ;\">\r\n        <el-divider content-position=\"left\"> {{ $t('table.publish') }}</el-divider>\r\n        <!-- 发布方式 -->\r\n        <el-row :gutter=\"10\" class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('i18nView.releaseMethod')\" prop=\"pdReleWay\">\r\n              <cus-select v-model=\"PdtempPdVerRls.pdReleWay\" :codetype=\"'releaseway'\" @change=\"getSysPath\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <!-- 发布说明 -->\r\n        <el-row>\r\n          <el-form-item :label=\"$t('i18nView.releaseDetails')\" prop=\"pdReleDetails\">\r\n            <el-input v-model=\"PdtempPdVerRls.pdReleDetails\"\r\n                      maxlength=\"500\"\r\n                      :placeholder=\"$t('i18nView.pleInput')\"\r\n                      show-word-limit\r\n                      style=\"width: 588px;\"\r\n                      type=\"textarea\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-row>\r\n        <!--发布选项  ： 脚本  文件包  -->\r\n        <div v-if=\"showCheck\">\r\n          <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n            <el-col :span=\"12\" align=\"left\">\r\n              <el-form-item :label=\"$t('i18nView.pdAuditConc')\" prop=\"passFlag\">\r\n                <el-checkbox-group v-model=\"checkList\" @change=\"showPath\">\r\n                  <el-checkbox v-for=\"path in checkPath\" :key=\"path\" :label=\"path\">{{ path }}</el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\"></el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-table :data=\"pathtableData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n              <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"55px\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.currency')\" align=\"center\" prop=\"pdReleSysname\">\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdReleIp')\" align=\"center\"\r\n                               prop=\"pdReleIp\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdRelePort')\" align=\"center\"\r\n                               prop=\"pdRelePort\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdUsername')\" align=\"center\"\r\n                               prop=\"pdUsername\"></el-table-column>\r\n            </el-table>\r\n          </el-row>\r\n          <el-row :gutter=\"10\" class=\"row-bg\" style=\"margin-top: 15px\" type=\"flex\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item :label=\"$t('i18nView.pdReleFileName')\">\r\n                <el-input v-model=\"PdtempPdVerRls.pdReleFileName\" disabled style=\"width: 588px\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <!--发布选项  ： 数据执行-->\r\n        <div v-if=\"showRadio\">\r\n          <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item :label=\"$t('i18nView.pdAuditConc')\" prop=\"passFlag\">\r\n                <el-radio-group v-model=\"checkList\" @change=\"showPathOne\">\r\n                  <el-radio v-for=\"path in checkPath\" :key=\"path\" :label=\"path\">{{ path }}</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row v-if=\"tableflag\">\r\n            <el-table :data=\"pathtableData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n              <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"55px\">\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.currency')\" align=\"center\"\r\n                               prop=\"pdReleSysname\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdReleIp')\" align=\"center\"\r\n                               prop=\"pdReleIp\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdRelePort')\" align=\"center\"\r\n                               prop=\"pdRelePort\"></el-table-column>\r\n              <el-table-column :label=\"$t('i18nView.pdUsername')\" align=\"center\"\r\n                               prop=\"pdUsername\"></el-table-column>\r\n            </el-table>\r\n          </el-row>\r\n        </div>\r\n        <!--发布确认按钮-->\r\n        <el-row style=\"margin-top: 35px\">\r\n          <el-col :span=\"24\" align=\"right\">\r\n            <el-button size=\"small\" type=\"primary\" @click=\"submitReleInfo\">\r\n              {{ $t('pdoperVersion.releBut') }}\r\n            </el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refreshPage()\">\r\n              {{ $t('pdoperVersion.releRefresh') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n    </div>\r\n    <cus-page-dialog :dialogShow=\"dialogShow\" :dialogTitle=\"dialogTitle\" :component=\"dialogComponent\" @close=\"closePageDialog\"></cus-page-dialog>\r\n\r\n  </cus-wraper>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport {getAllPath, relePdFile} from \"@/api/basicinfo/pdtemppdrelease\";\r\nimport {downloadReleFile} from \"@/api/basicinfo/pdtemppdverrls\";\r\nimport {findAllProductByPdDetailTypeAndStu} from \"@/api/basicinfo/pdoperpdverrls\";\r\nimport {getPdInfoId} from \"@/api/basicinfo/packageSaleDefinition\";\r\n\r\nexport default {\r\n  name: 'pdoperPdVerRls',\r\n  data() {\r\n    return {\r\n      dialogShow:false,\r\n      dialogTitle:'',\r\n      dialogComponent:'',\r\n      readyReleIncrease: false,\r\n      showRele: false,\r\n      releButton: true,\r\n      showCheck: true,\r\n      tableflag: false,\r\n      showRadio: false,\r\n      pdInfo: {},\r\n      pdPpInfo:{},\r\n      selectedProduct: {},\r\n      chooseRowId: '',\r\n      arr1: [],\r\n      arr2: [],\r\n      edition: [],\r\n      checkList: [],\r\n      checkPath: [],\r\n      pathtableData: [],\r\n      pathtableDataBc: [],\r\n      referenceProductList: [],\r\n      //表格多选\r\n      multipleSelection: [],\r\n      //表格数据\r\n      configs: [],\r\n      objList: [],\r\n      packageList: [],\r\n      pdSelForm: {\r\n        pdReleWay: '',\r\n        pdCode: '',\r\n        pdcheckList: '',\r\n        pdApplyStartDate: undefined,\r\n        pdApplyEndDate: undefined\r\n      },\r\n      /*日期显示*/\r\n      applyDateValue: '',\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '最近一周',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近一个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近三个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }]\r\n      },\r\n      PdtempPdVerRls: {\r\n        pdReleWay: '',      //发布方式\r\n        pdEdition: '',  //  产品版本\r\n        pdType: '',  //  产品类型\r\n        pdInfoId: '',  //  产品id\r\n        pdCode: '',  //  产品编码\r\n        pdReleOrder: '',  //  发布序号\r\n        pdReleType: '',  //  发布类型 : 全量发布 增量发布\r\n        pdReleSys: '',  //  发至系统\r\n        pdReleSyspathName: '',  //  发至环境\r\n        pdReleFilePath: [],  //  发布文件地址\r\n        pdReleStu: '',  //  发布状态 : 发布成功 发布失败\r\n        pdReleContent: '',  //  发布内容\r\n        pdReleDetails: '',  //  发布说明\r\n        pdReleFileName: [],  //  生成文件名\r\n      },\r\n      pdParams: [],\r\n      //检验规则\r\n      rules: {\r\n        userCode: [\r\n          {required: true, message: this.$t('pdoperPdVerRls.xxx'), trigger: 'blur'},\r\n        ]\r\n      },\r\n      dialogVisible: false, //dialog显示还是隐藏\r\n      dialogStatus: '', //表单状态是新增还是修改\r\n      titleMap: {\r\n        update: this.$t('pdoperPdVerRls.update'),\r\n        create: this.$t('pdoperPdVerRls.add')\r\n      },\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.preSelct();\r\n    this.filterPackageByNode(this,'9')\r\n  },\r\n  mounted() {\r\n  },\r\n  watch: {\r\n    applyDateValue(val) {\r\n      if (val) {\r\n        this.pdSelForm.pdApplyStartDate = val[0];\r\n        this.pdSelForm.pdApplyEndDate = val[1];\r\n      } else {\r\n        this.pdSelForm.pdApplyStartDate = '';\r\n        this.pdSelForm.pdApplyEndDate = ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    closePageDialog(){\r\n      this.dialogShow = false\r\n      this.dialogComponent = ''\r\n    },\r\n    chooseOneRow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedProduct.id) {\r\n          this.selectedProduct = '';\r\n          this.chooseRowId = false;\r\n          this.showRele = false;\r\n        } else {\r\n          this.changeReleaseType(row);\r\n        }\r\n      }\r\n    },\r\n    back() {\r\n      this.$emit('changeHisvervisible_formula', false)\r\n    },\r\n    radioClick(e) {\r\n      if (this.isDisabled === true) return\r\n      if (!this.isRequired) {\r\n        e === this.selectedProduct ? (this.selectedProduct = '') : (this.selectedProduct = e)\r\n      } else {\r\n        this.selectedProduct = e;\r\n      }\r\n      if (!(this.selectedProduct === '')) {\r\n        if (this.changeMethod) {\r\n          this.changeMethod(this.selectedProduct);\r\n        }\r\n      }\r\n    },\r\n    unique(arr1) {\r\n      const res = new Map()  //定义常量 res,值为一个Map对象实例\r\n      //返回arr数组过滤后的结果，结果为一个数组   过滤条件是，如果res中没有某个键，就设置这个键的值为1\r\n      return arr1.filter((arr1) => !res.has(arr1.pdCode) && res.set(arr1.pdCode, 1))\r\n    },\r\n\r\n    unique2(arr2) {\r\n      const res = new Map()  //定义常量 res,值为一个Map对象实例\r\n      //返回arr数组过滤后的结果，结果为一个数组   过滤条件是，如果res中没有某个键，就设置这个键的值为1\r\n      return arr2.filter((arr2) => !res.has(arr2.pdEdition) && res.set(arr2.pdEdition, 1))\r\n    },\r\n\r\n    preSelct() {\r\n      this.checkPath = [];\r\n      getAllPath().then(res => {\r\n        if (res.code === 200) {\r\n          this.pathtableDataBc = res.data;\r\n          for (const argument of res.data) {\r\n            this.checkPath.push(argument.pdReleSysname)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    getReferenceProductList(finelinesRegion) {\r\n      let param = {\r\n        finelinesRegion: finelinesRegion\r\n      }\r\n      if (\"\".endsWith(finelinesRegion) || finelinesRegion === undefined) {\r\n        this.handleSearch()\r\n        return false\r\n      }\r\n      findAllProductByPdDetailTypeAndStu(this.buildRequestData(param)).then(response => {\r\n        this.referenceProductList = []\r\n        this.detailTypeOptionList = response.data;\r\n        for (const product of this.detailTypeOptionList) {\r\n          for (const productOption of this.configs) {\r\n            if (productOption.pdCode === product.pdCode) {\r\n              this.arr1.push(productOption)\r\n              this.referenceProductList = this.unique(this.arr1);\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /*已发布搜索*/\r\n    queryTableData() {\r\n      this.$refs.page.reload();\r\n    },\r\n    getSysPath(val) {\r\n      if (!val) {\r\n        this.releButton = true;\r\n        this.$emit('parentByClick', \"待发布\", this.checkId);\r\n      }\r\n      if (val) {\r\n        if (val !== '3' && val !== '2') {\r\n          this.PdtempPdVerRls.pdReleFileName = [];\r\n          this.showCheck = true;\r\n          this.showRadio = false;\r\n          this.checkList = [];\r\n          this.tableflag = true;\r\n          this.PdtempPdVerRls.pdReleSyspathName = '';\r\n          this.pathtableData = [];\r\n          this.$emit('parentByClick', \"发布待确认\", this.checkId);\r\n        } else {\r\n          console.log(22333222)\r\n          this.checkList = [];\r\n          this.showRadio = true;\r\n          this.showCheck = false;\r\n          this.PdtempPdVerRls.pdReleSyspathName = '';\r\n          this.tableflag = true;\r\n          this.pathtableData = [];\r\n        }\r\n        this.releButton = false;\r\n\r\n      } else {\r\n        this.showCheck = false;\r\n        this.showRadio = false;\r\n      }\r\n    },\r\n    /*  发布多选-显示环境  */\r\n    showPath(val) {\r\n      this.PdtempPdVerRls.pdReleSyspathName = '';\r\n      for (const argument of val) {\r\n        this.PdtempPdVerRls.pdReleSyspathName += argument + \";\"\r\n      }\r\n      this.pathtableData = [];\r\n      for (const name of val) {\r\n        for (const pathData of this.pathtableDataBc) {\r\n          if (name === pathData.pdReleSysname) {\r\n            this.pathtableData.push(pathData);\r\n          }\r\n        }\r\n      }\r\n      if (this.pathtableData.length === 0) {\r\n        this.tableflag = false;\r\n      } else {\r\n        this.tableflag = true;\r\n      }\r\n    },\r\n\r\n    showFile(val) {\r\n      this.PdtempPdVerRls.pdReleFileName = val;\r\n\r\n    },\r\n    /*  发布单选-显示环境  */\r\n    showPathOne(val) {\r\n      console.log(1231)\r\n      this.pathtableData = [];\r\n      for (const pathData of this.pathtableDataBc) {\r\n        if (val === pathData.pdReleSysname) {\r\n          this.pathtableData.push(pathData);\r\n        }\r\n      }\r\n      if (this.pathtableData.length === 0) {\r\n        this.tableflag = false;\r\n      } else {\r\n        this.tableflag = true;\r\n      }\r\n    },\r\n    /*  发布确认 */\r\n    submitReleInfo() {\r\n      let params = {\r\n        \"productReleaseInfoVoList\": this.multipleSelection,\r\n        \"pdtempPdReleSyspathList\": Array.isArray(this.envList) ? this.envList : Array(this.envList),\r\n        \"pdReleWay\": this.PdtempPdVerRls.pdReleWay,\r\n        \"pdReleDetails\": this.PdtempPdVerRls.pdReleDetails,\r\n        \"releType\": \"0\",\r\n        \"releTypeDet\": \"0\"\r\n      }\r\n      relePdFile(this.buildRequestData(params)).then(res => {\r\n        this.PdtempPdVerRls.pdReleFile = '';\r\n        if (res.data.length === 1) {\r\n          this.PdtempPdVerRls.pdReleFile = res.data[0].pdReleFileName\r\n          let filePath = res.data[0].pdReleFilePath + \"//\" + res.data[0].pdReleFileName;\r\n          let fileName = res.data[0].pdReleFileName;\r\n          let data = {\"filePath\": filePath}\r\n          downloadReleFile(this.buildRequestData(data)).then(res => {\r\n            this.downloadResponseFile(res, fileName)\r\n          })\r\n        } else {\r\n          for (const pdoperPdSysRlsTrc of res.data) {\r\n            this.PdtempPdVerRls.pdReleFile += pdoperPdSysRlsTrc.pdReleFileName + \"; \";\r\n            let filePath = pdoperPdSysRlsTrc.pdReleFilePath + \"//\" + pdoperPdSysRlsTrc.pdReleFileName;\r\n            let fileName = pdoperPdSysRlsTrc.pdReleFileName;\r\n            let data = {\"filePath\": filePath}\r\n            downloadReleFile(this.buildRequestData(data)).then(res => {\r\n              this.downloadResponseFile(res, fileName)\r\n            })\r\n          }\r\n          this.PdtempPdVerRls.pdReleFile = this.PdtempPdVerRls.pdReleFile.substring(0, this.PdtempPdVerRls.pdReleFile.length - 2)\r\n        }\r\n        this.notifySuccess(res.message)\r\n        if (this.PdtempPdVerRls.pdReleWay === '2') {\r\n          this.$emit('parentByClick', \"已发布\" + this.PdtempPdVerRls.pdReleEnv);\r\n        }\r\n      })\r\n\r\n    },\r\n    /*刷新*/\r\n    refreshPage() {\r\n      this.objList2 = [];\r\n      this.objList3 = [];\r\n      for (const argument of this.objList) {\r\n        this.objList2.push(argument.pdReleSyspathName);\r\n      }\r\n      for (const argument of this.objList) {\r\n        this.objList3.push(argument.pdReleFileName);\r\n      }\r\n      this.PdtempPdVerRls.pdReleDetails = this.selectedProduct.pdReleDetails;\r\n      this.PdtempPdVerRls.pdReleWay = this.selectedProduct.pdReleWay;\r\n      this.checkList = this.objList2\r\n      this.PdtempPdVerRls.pdReleFileName = this.objList3\r\n\r\n    },\r\n\r\n    /*页面跳转按钮组*/\r\n    getPackDesignPage() {\r\n      if (this.pdPpInfo) {\r\n        this.cacheCurrPagePdData(this.pdPpInfo)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐框架信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-framework-def/pp-main'\r\n        // this.$router.push({name: '产品框架定义主页', query: {showPageFlag: '1'},params:this.pdInfo})\r\n      }\r\n    },\r\n    getPackSalePage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        //TODO: 产品套餐有bug，后续有用\r\n        // getPdInfoId(this.buildRequestData(info)).then(response=>{\r\n        //\r\n        // })\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐销售信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-sales-def/sale-main'\r\n      }\r\n    },\r\n    getPackProposalPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐承保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-acceptance-def/accpt-main'\r\n      }\r\n    },\r\n    getPackUnderwritingPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐核保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-underwriting-def/unw-main'\r\n      }\r\n    },\r\n    getPackClaimPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐核保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-compensation-def/comp-main'\r\n      }\r\n    },\r\n\r\n\r\n    readyReleaseInfoClick(row) {\r\n      this.readyReleIncrease = !this.readyReleIncrease;\r\n      this.pdPpInfo = row\r\n    },\r\n    changeReleaseType(row) {\r\n\r\n      this.pdInfo = row;\r\n      this.objList = row.pdoperPdSysRlsTrcList;\r\n      this.objList2 = [];\r\n      this.objList3 = [];\r\n      for (const argument of this.objList) {\r\n        this.objList2.push(argument.pdReleSyspathName);\r\n      }\r\n      for (const argument of this.objList) {\r\n        this.objList3.push(argument.pdReleFileName);\r\n      }\r\n      this.PdtempPdVerRls.pdReleWay = row.pdReleWay;\r\n      this.PdtempPdVerRls.pdReleDetails = row.pdReleDetails;\r\n      this.PdtempPdVerRls.pdReleFileName = row.pdReleFileName;\r\n      //this.PdtempPdVerRls.pdReleSyspathName = row.pdReleSyspathName;\r\n      // this.getCaption(row.pdReleSyspathName);\r\n      this.checkList = this.objList2;\r\n      this.showPath(this.objList2);\r\n      this.showFile(this.objList3);\r\n      this.multipleSelection = [];\r\n      this.checkId = [];\r\n      this.chooseRowId = true;\r\n      this.showRele = true;\r\n\r\n    },\r\n    getCaption(obj) {\r\n      let obj1 = '';\r\n      let obj2 = '';\r\n      let index = obj.indexOf(\";\")\r\n      if (index === -1) {\r\n        return this.objList\r\n      } else {\r\n        obj1 = obj.substring(index + 1, obj.length)\r\n        obj2 = obj.substring(0, index)\r\n        this.objList.push(obj)\r\n      }\r\n      return obj\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload()\r\n    },\r\n    handleCreate() {\r\n      this.resetForm()\r\n      this.dialogStatus = 'create'\r\n      this.dialogVisible = true\r\n    },\r\n    handleUpdate(row) {\r\n      this.form = Object.assign({}, row)\r\n      this.dialogStatus = 'update'\r\n      this.dialogVisible = true\r\n    },\r\n    handleDelete(id) {\r\n      deletePdoperPdVerRls(id).then(response => {\r\n        this.handleSearch()\r\n        this.notifySuccess(response.message)\r\n        this.dialogVisible = false\r\n      })\r\n    },\r\n    submitForm() {\r\n      this.$refs.dataForm.validate(valid => {\r\n        if (valid) {\r\n          let back;\r\n          if (this.form.id) {\r\n            back = updatePdoperPdVerRls(this.form)\r\n          } else {\r\n            back = addPdoperPdVerRls(this.form)\r\n          }\r\n          back.then(response => {\r\n            this.handleSearch()\r\n            this.notifySuccess(response.message)\r\n            this.dialogVisible = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    resetForm() {\r\n      this.form = {  //表单数据与后端实体类对应\r\n        id: '', //主键ID\r\n        xxxx: ''\r\n      }\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
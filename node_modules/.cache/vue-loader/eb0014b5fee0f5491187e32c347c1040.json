{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-compensation-def\\combo-deductible\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-compensation-def\\combo-deductible\\index.vue","mtime":1609847107024},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgc2F2ZU9iQm5mdEZvcm0sCiAgZmluZHBlcmlvZENvbmZpZ3MsCiAgdXBkYXRlT2JCbmZ0Rm9ybSwKICBkZWxldGVPYkJuZnRGb3JtLCBmaW5kQ29tYm9MaXN0Cn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL2NvbWJvUXVvdGEiCmltcG9ydCBjb21ib19wcGluZm8gZnJvbSAiQC92aWV3cy9wcm9kdWN0LXBhY2thZ2UtZGVmaW5pdGlvbi9wcC1vcGVyYXRpb24tZGVmL3BwLWNvbXBlbnNhdGlvbi1kZWYvY29tYm8tcHBpbmZvL2luZGV4IgppbXBvcnQgY29tYm9fcHJvZ2luZm8gZnJvbSAiQC92aWV3cy9wcm9kdWN0LXBhY2thZ2UtZGVmaW5pdGlvbi9wcC1vcGVyYXRpb24tZGVmL3BwLWNvbXBlbnNhdGlvbi1kZWYvY29tYm8tcHJvZ2luZm8vaW5kZXgiCmltcG9ydCBjb21ib0N0cmxGb3JtdWxhIGZyb20gJ0Avdmlld3MvcHJvZHVjdC1wYWNrYWdlLWRlZmluaXRpb24vcHAtb3BlcmF0aW9uLWRlZi9wcC1jb21wZW5zYXRpb24tZGVmL2NvbWJvQ3RybEZvcm11bGEvaW5kZXgnCmltcG9ydCBjb21ib0N0cmxGb3JtdWxhU2VsZWN0IGZyb20gJ0Avdmlld3MvcHJvZHVjdC1wYWNrYWdlLWRlZmluaXRpb24vcHAtb3BlcmF0aW9uLWRlZi9wcC1jb21wZW5zYXRpb24tZGVmL2NvbWJvQ3RybEZvcm11bGFTZWxlY3QvaW5kZXgnCgpsZXQgX3RoaXM7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY29tYm9EZWR1Y3RpYmxlJywKICBjb21wb25lbnRzOiB7CiAgICBjb21ib19wcGluZm8sIGNvbWJvX3Byb2dpbmZvLCBjb21ib0N0cmxGb3JtdWxhLCBjb21ib0N0cmxGb3JtdWxhU2VsZWN0CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJfZ2V0UGRSdWxlRHRDbHMoY29kZSkgewogICAgICBpZiAoY29kZSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdydWxlQnVzc01vZHVEZXRhJywgY29kZSk7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJfcGRCbmZ0Q3RybExpbUxldmVsKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdjb21ib0xpbWl0TGV2ZWwnLCBjb2RlKQogICAgfSwKICAgIGZpbHRlcl9nZXRQZFJ1bGVEdENscyhjb2RlKSB7CiAgICAgIGlmIChjb2RlICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3J1bGVCdXNzTW9kdURldGEnLCBjb2RlKTsKICAgICAgfQogICAgfSwKICAgIGZpbHRlcl9wZEJuZnRGYWN0b3JUeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZEJuZnRGYWN0b3JUeXBlJywgY29kZSkKICAgIH0sCiAgICBmaWx0ZXJfcGRCbmZ0Q3VtVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRCbmZ0Q3VtVHlwZScsIGNvZGUpCiAgICB9LAogICAgZmlsdGVyX3BkQm5mdEN1bUZyZXF1ZW5jeShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRCbmZ0Q3VtRnJlcXVlbmN5JywgY29kZSkKICAgIH0sCiAgICBmaWx0ZXJfVW5pdChjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGF5X2xpbWl0X3VuaXQxJywgY29kZSwgdHJ1ZSkKICAgIH0sCiAgICBmaWx0ZXJfcGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlKGNvZGUpIHsKICAgICAgaWYgKGNvZGUgIT0gbnVsbCAmJiBjb2RlICE9ICcnKSB7CiAgICAgICAgcmV0dXJuICdZJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnTicKICAgICAgfQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICAvL+S6p+WTgeS/oeaBr+WktAogICAgICBjb21ibzogewogICAgICAgIGlkOiAnJywKICAgICAgICBwcENvZGU6ICcnLAogICAgICAgIHBwTmFtZTogJycsCiAgICAgICAgcGRWZXJJZDogJycsCiAgICAgICAgcGRQcm9jZXNzSWQ6ICcnCiAgICAgIH0sCiAgICAgIHBhcmFtczogewogICAgICAgIHBkQm5mdEN0cmxMaW1MZXZlbDogJycsCiAgICAgICAgcGRCbmZ0RmFjdG9yVHlwZTogJycsCiAgICAgICAgcHBDb2RlOiAnJwogICAgICB9LAogICAgICBmb3JtX2NvbWJvUXVvdGE6ewogICAgICAgIHBkQm5mdEN0cmxMaW1MZXZlbDonJywKICAgICAgfSwKICAgICAgZm9ybV9wZFF1b3RhSXRlbTogewogICAgICAgIGlkOicnLAogICAgICAgIHBkQm5mdEN0cmxDb2RlOiAnJywKICAgICAgICBwZEJuZnRDdHJsVHlwZTogJycsCiAgICAgICAgcGRCbmZ0Q3RybE9yZGVyOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JUeXBlOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTogJycsCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsOiAnJywKICAgICAgICBwZEJuZnRDdHJsQ29uQ29kZTogW10sCiAgICAgICAgY29tYm9MaXN0OiBbXSwKICAgICAgICBjb21ib1Byb2dMaXN0OiBbXSwKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3k6ICcnLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlMTogJycsCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWUyOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTM6ICcnLAogICAgICAgIHBkQm5mdEN1bVR5cGU6ICcxJywKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3lVbml0OiAnJywKICAgICAgICBwZEJuZnRDdHJsTGltaXRGbGFnOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZUNhbENvZGU6ICcnCiAgICAgIH0sCiAgICAgIG1vcmVUeXBlOiAnRCcsCiAgICAgIHBkQm5mdEN0cmxJZE5hbWU6ICcnLAogICAgICBjb21ib0RlZHVjdGlibGVMaXN0OiBbXSwKICAgICAgcGRCbmZ0Q3RybENvZGU6ICcnLAogICAgICBjb21ib09wdGlvbnM6IFtdLAogICAgICBjb21ib1Byb2dPcHRpb25zOiBbXSwKICAgICAgcGRRdW90YUl0ZW1MaXN0OiBbXSwKICAgICAgZm9ybV9wZFF1b3RhSXRlbV9ydWxlczoge30sCiAgICAgIHBkRGVkdWN0aW9uTGlzdDogW10sCiAgICAgIHBkT2JzZXJ2YXRpb25MaXN0OiBbXSwKICAgICAgZm9ybV9vYnNlcnZhdGlvbkRlZmluaXRpb246IHt9LAogICAgICBmb3JtX29ic2VydmF0aW9uRGVmaW5pdGlvbl9ydWxlczoge30sCiAgICAgIGZvcm1fcGRDbGFpbURlZmluaXRpb246IHt9LAogICAgICBmb3JtX3BkQ2xhaW1EZWZpbml0aW9uX3J1bGVzOiB7fSwKICAgICAgc2VsZWN0ZWREZWY6IHt9LAogICAgICBzaG93Qm5mdE1vcmU6IGZhbHNlLAoKICAgICAgcXVpY2tpY29uOiAiZWwtaWNvbi1hcnJvdy1yaWdodCIsCiAgICAgIHNob3dQZE1vcmU6IGZhbHNlLAogICAgICBzaG93UHJvZ01vcmU6IGZhbHNlLAogICAgICBzaG93UGRDbG1CbmZ0TW9yZTogZmFsc2UsCgogICAgICBzaG93UGRNZWRGZWVCaWxsTW9yZTogZmFsc2UsCiAgICAgIHNob3dDb21ib01vcmU6IGZhbHNlLAogICAgICBzaG93Q29tYm9Qcm9nTW9yZTogZmFsc2UsCiAgICAgIHNob3dEZWR1Y3RpYmxlUXVpY2tQYWdlRmxhZzogZmFsc2UsCiAgICAgIHBkdGVtcFBwSW5mbzoge30sCiAgICAgIGZvcm11bGFWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybXVsYVNlbGVjdFZpc2libGU6IGZhbHNlLAogICAgICBzaG93RGV0ZWxlQnV0dG9uOiBmYWxzZSwKICAgICAgY2hlY2tBZGRlZFRheDogW10sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGNvbWJvVm9PcHRpb25zOiBbXSwKICAgICAgY29tYm9IZVBlaUNhbGNNYXJrRmxhZzp0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8v5Yid5aeL5YyWCiAgICB0aGlzLmNvbWJvSGVQZWlDYWxjTWFya0ZsYWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jb21ib0hlUGVpQ2FsY01hcmtGbGFnOwogICAgaWYodGhpcy5jb21ib0hlUGVpQ2FsY01hcmtGbGFnPT11bmRlZmluZWQpewogICAgICB0aGlzLmNvbWJvSGVQZWlDYWxjTWFya0ZsYWc9dHJ1ZQogICAgfQogICAgdGhpcy5pbml0UHJvZHVjdEluZm8oKTsKICAgIHRoaXMuZmluZENvbmZpZ3NEYXRhKCkKICB9LAogIHdhdGNoOiB7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WIneWni+WMluWll+mkkAogICAgaW5pdFByb2R1Y3RJbmZvKCkgewogICAgICBsZXQgcGR0ZW1wUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgICAgaWYgKHBkdGVtcFBwSW5mbykgewogICAgICAgIHRoaXMucGR0ZW1wUHBJbmZvID0gcGR0ZW1wUHBJbmZvOwogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb21ibywgcGR0ZW1wUHBJbmZvKTsKICAgICAgICB0aGlzLnBkUHJvY2Vzc0lkID0gcGR0ZW1wUHBJbmZvLnBkUHJvY2Vzc0lkOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VhcmNoKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5wYWdlX0RlZHVjdGlibGUpIHsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfRGVkdWN0aWJsZS5yZWxvYWQoKTsKICAgICAgfQogICAgfSwKICAgIGZpbmRDb25maWdzRGF0YSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBwSW5mby5pZCwKICAgICAgICBwZEJuZnRDdHJsVHlwZTogJ0QnCiAgICAgIH07CiAgICAgICAgZmluZHBlcmlvZENvbmZpZ3ModGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucGREZWR1Y3Rpb25MaXN0ID0gcmVzLmRhdGEKICAgICAgICAgIHJlc29sdmUoKQogICAgICAgIH0pCiAgICAgIH0pCgogICAgfSwKICAgIGJyaW5nSW5DYWxjQ29kZShwZEJuZnRDdHJsQ29kZSwgY2FsY0NvZGUpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5wZERlZHVjdGlvbkxpc3QpCiAgICAgIGZvciAoY29uc3QgY2xtQ3RybCBvZiB0aGlzLnBkRGVkdWN0aW9uTGlzdCkgewogICAgICAgIGlmIChjbG1DdHJsLnBkQm5mdEN0cmxDb2RlID09PSBwZEJuZnRDdHJsQ29kZSkgewogICAgICAgICAgdGhpcy4kc2V0KGNsbUN0cmwsICdwZEJuZnRGYWN0b3JWYWx1ZUNhbENvZGUnLCBjYWxjQ29kZSkKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybENvZGUgPT09IHBkQm5mdEN0cmxDb2RlKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybV9wZFF1b3RhSXRlbSwgJ3BkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZScsIGNhbGNDb2RlKQogICAgICB9CiAgICB9LAogICAgdG9Gb3JtdWxhRGVmKCkgewogICAgICBpZighdGhpcy5zaG93RGV0ZWxlQnV0dG9uKXsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7fpgInmi6nkuIDmnaHlpZfppJDlhY3otZTpop0iKTsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLnBkQnVzc0RldGFpbFR5cGUgPSAnNjEnOwogICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfQ2xtQ3RybEZvcm11bGEodmlzaWJsZSkgewogICAgICBjb25zb2xlLmxvZygxMTExMSkKICAgICAgY29uc29sZS5sb2codmlzaWJsZSkKICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHZpc2libGUKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX0NsbUN0cmxGb3JtdWxhU2VsZWN0KHZpc2libGUpIHsKICAgICAgdGhpcy5mb3JtdWxhU2VsZWN0VmlzaWJsZSA9IHZpc2libGUKICAgICAgaWYgKHZpc2libGUgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHRydWUKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgb3BlbkNvbWJvRGV0YWlsKCkgewogICAgICB0aGlzLnBkQm5mdEN0cmxDb2RlID0gdGhpcy5jaGVja1BkQm5mdEN0cmxMaW1MZXZlbCgpCiAgICAgIHRoaXMuc2hvd0NvbWJvTW9yZSA9IHRydWUKICAgIH0sCiAgICBvcGVuQ29tYm9Qcm9nRGV0YWlsKCkgewogICAgICB0aGlzLnBkQm5mdEN0cmxDb2RlID0gdGhpcy5jaGVja1BkQm5mdEN0cmxMaW1MZXZlbCgpCiAgICAgIHRoaXMuc2hvd0NvbWJvUHJvZ01vcmUgPSB0cnVlCiAgICB9LAogICAgY2hlY2tQZEJuZnRDdHJsTGltTGV2ZWwoKSB7CiAgICAgIGlmKHRoaXMuY2hlY2tBZGRlZFRheC5sZW5ndGg9PTEpIHsKICAgICAgICBpZiAodGhpcy5jaGVja0FkZGVkVGF4WzBdLnBkQm5mdEN0cmxMaW1MZXZlbCA9PT0gdGhpcy5mb3JtX2NvbWJvUXVvdGEucGRCbmZ0Q3RybExpbUxldmVsKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0FkZGVkVGF4WzBdLnBkQm5mdEN0cmxDb2RlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuICcnCiAgICAgIH0KCiAgICB9LAogICAgc2hvd0RlZHVjdGlibGVRdWlja1BhZ2UoKSB7CiAgICAgIHRoaXMuZmluZENvbWJvTGlzdCgpOwogICAgICBpZiAoIXRoaXMuc2hvd0RlZHVjdGlibGVRdWlja1BhZ2VGbGFnKSB7CiAgICAgICAgdGhpcy5xdWlja2ljb24gPSAiZWwtaWNvbi1hcnJvdy1kb3duIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1aWNraWNvbiA9ICJlbC1pY29uLWFycm93LXJpZ2h0IjsKICAgICAgfQogICAgICByZXR1cm4gKHRoaXMuc2hvd0RlZHVjdGlibGVRdWlja1BhZ2VGbGFnID0gIXRoaXMuc2hvd0RlZHVjdGlibGVRdWlja1BhZ2VGbGFnKTsKICAgIH0sCiAgICAvL+S/neWtmOaMiemSrgogICAgZm9ybV9wZFF1b3RhSXRlbV9hZGQoKSB7CiAgICAgIGlmKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdW1UeXBlPT0xKXsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3VtRnJlcXVlbmN5PScnCiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN1bUZyZXF1ZW5jeVVuaXQ9JycKICAgICAgfQogICAgICBpZih0aGlzLmZvcm1fY29tYm9RdW90YS5wZEJuZnRDdHJsTGltTGV2ZWw9PW51bGwKICAgICAgICB8fCB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT11bmRlZmluZWQKICAgICAgICB8fCB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsID09ICcnKXsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLpmZDliLbnuqfliKvkuI3og73kuLrnqbrvvIzor7fpgInmi6npmZDliLbnuqfliKsiKTsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZigodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbD09JzInJiZ0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9MaXN0ID09IG51bGwpCiAgICAgICAgfHwgKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWw9PScyJyYmdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvTGlzdCA9PSB1bmRlZmluZWQpCiAgICAgICAgfHwgKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWw9PScyJyYmdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvTGlzdCA9PSAnJykpewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuWFs+iBlOWll+mkkOS4jeiDveS4uuepuu+8jOivt+WFs+iBlOWll+mkkCIpOwogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmKCh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT0nNCcmJnRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib1Byb2dMaXN0ID09IG51bGwpCiAgICAgICAgfHwgKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWw9PSc0JyYmdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvUHJvZ0xpc3QgPT0gdW5kZWZpbmVkKQogICAgICAgIHx8ICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT0nNCcmJnRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib1Byb2dMaXN0ID09ICcnKSl7CiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi5YWz6IGU5aWX6aSQ5pa55qGI5LiN6IO95Li656m677yM6K+35YWz6IGU5aWX6aSQ5pa55qGIIik7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgbGV0IHBkdGVtcENsbUN0cmxNYWluID0gewogICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgIHBkQm5mdEN0cmxMZXZlbDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICBwZEJuZnRDdHJsVHlwZTogJ0QnLAogICAgICAgIHBkQm5mdEZhY3RvclR5cGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JUeXBlLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlOgogICAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEZhY3RvclR5cGUgPT0gMQogICAgICAgICAgICA/IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JWYWx1ZTEKICAgICAgICAgICAgOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVHlwZSA9PSAyCiAgICAgICAgICAgID8gdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEZhY3RvclZhbHVlMgogICAgICAgICAgICA6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JWYWx1ZUNhbENvZGUsCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWVVbml0OgogICAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEZhY3RvclR5cGUgPT0gMQogICAgICAgICAgICA/ICdSJwogICAgICAgICAgICA6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JUeXBlID09IDIKICAgICAgICAgICAgPyAnRCcKICAgICAgICAgICAgOiAnVCcsCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlLAogICAgICAgIHBkQm5mdEN1bVR5cGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdW1UeXBlLAogICAgICAgIHBkQm5mdEN1bUZyZXF1ZW5jeTogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN1bUZyZXF1ZW5jeSwKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3lVbml0OiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3VtRnJlcXVlbmN5VW5pdCwKICAgICAgICBwZEJuZnRDdHJsTGltaXRGbGFnOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbWl0RmxhZwogICAgICB9OwogICAgICBsZXQgcGR0ZW1wQ2xtQ3RybExpbSA9IHsKICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBwSW5mby5vcGVyYXRvciwKICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQcEluZm8uaWQsCiAgICAgICAgcGRDb2RlOiB0aGlzLnBkdGVtcFBwSW5mby5wZENvZGUsCiAgICAgICAgcGROYW1lOiB0aGlzLnBkdGVtcFBwSW5mby5wZE5hbWUsCiAgICAgICAgcGRCbmZ0Q3RybE9yZGVyOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybE9yZGVyLAogICAgICAgIHBkQm5mdEN0cmxMaW1Db2RlOiAnJywKICAgICAgICBwZEJuZnRDdHJsTGltTGV2ZWw6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwKICAgICAgfTsKICAgICAgbGV0IHBkdGVtcENsbUN0cmxSZWxhcyA9IFtdOwogICAgICBpZiAodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCA9PSAnMScpIHsKICAgICAgICBsZXQgdGVtcCA9IHsKICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQcEluZm8uaWQsCiAgICAgICAgICBwZFR5cGU6ICcyJywKICAgICAgICAgIHBkQm5mdEN0cmxDb25Db2RlOiB0aGlzLnBkdGVtcFBwSW5mby5wcENvZGUsCiAgICAgICAgICBwZEJuZnRDdHJsQ29uTGV2ZWw6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwsCiAgICAgICAgICBwZENsbUluZm9JZDp0aGlzLnBkdGVtcFBwSW5mby5pZAogICAgICAgIH07CiAgICAgICAgcGR0ZW1wQ2xtQ3RybFJlbGFzLnB1c2godGVtcCkKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsID09ICczJykgewogICAgICAgIGxldCB0ZW1wID0gewogICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQcEluZm8ucGRWZXJJZCwKICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBwSW5mby5vcGVyYXRvciwKICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBwSW5mby5pZCwKICAgICAgICAgIHBkVHlwZTogJzInLAogICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHRoaXMucGR0ZW1wUHBJbmZvLnBwUGxhbkNvZGUsCiAgICAgICAgICBwZEJuZnRDdHJsQ29uTGV2ZWw6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwsCiAgICAgICAgICBwZENsbUluZm9JZDp0aGlzLnBkdGVtcFBwSW5mby5pZAogICAgICAgIH0KICAgICAgICBwZHRlbXBDbG1DdHJsUmVsYXMucHVzaCh0ZW1wKQogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwgPT0gJzInKSB7CiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvTGlzdC5mb3JFYWNoKCh2YWwpID0+IHsKICAgICAgICAgIGxldCBwZENsbUluZm9JZCA9bnVsbDsKICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmNvbWJvT3B0aW9ucykgewogICAgICAgICAgICBpZihpdGVtLnBwQ29kZT09dmFsKXsKICAgICAgICAgICAgICBwZENsbUluZm9JZD1pdGVtLmlkOwogICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGxldCB0ZW1wID0gewogICAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBwSW5mby5pZCwKICAgICAgICAgICAgcGRUeXBlOiAnMicsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb2RlOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybENvZGUsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25Db2RlOiB2YWwsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgICAgcGRDbG1JbmZvSWQ6cGRDbG1JbmZvSWQKICAgICAgICAgIH07CiAgICAgICAgICBwZHRlbXBDbG1DdHJsUmVsYXMucHVzaCh0ZW1wKQogICAgICAgIH0pCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvUHJvZ0xpc3QuZm9yRWFjaCgodmFsKSA9PiB7CiAgICAgICAgICBsZXQgcGRDbG1JbmZvSWQgPW51bGw7CiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb21ib1Byb2dPcHRpb25zKSB7CiAgICAgICAgICAgIGlmKGl0ZW0ucHBQbGFuQ29kZT09dmFsKXsKICAgICAgICAgICAgICBwZENsbUluZm9JZD1pdGVtLmlkOwogICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGxldCB0ZW1wID0gewogICAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBwSW5mby5pZCwKICAgICAgICAgICAgcGRUeXBlOiAnMicsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25Db2RlOiB2YWwsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgICAgcGRDbG1JbmZvSWQ6cGRDbG1JbmZvSWQKICAgICAgICAgIH07CiAgICAgICAgICBwZHRlbXBDbG1DdHJsUmVsYXMucHVzaCh0ZW1wKQogICAgICAgIH0pCiAgICAgIH0KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgcGR0ZW1wQ2xtQ3RybE1haW4sCiAgICAgICAgcGR0ZW1wQ2xtQ3RybExpbSwKICAgICAgICBwZHRlbXBDbG1DdHJsUmVsYXMKICAgICAgfTsKICAgICAgc2F2ZU9iQm5mdEZvcm0odGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgIHRoaXMuZmluZENvbmZpZ3NEYXRhKCkudGhlbigoKT0+ewogICAgICAgICAgdGhpcy5jaGVja0FkZGVkVGF4ID0gW10KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZERlZHVjdGlvbkxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYodGhpcy5wZERlZHVjdGlvbkxpc3RbaV0ucGRCbmZ0Q3RybENvZGU9PXJlcy5kYXRhWzBdLnBkQm5mdEN0cmxDb2RlKXsKICAgICAgICAgICAgICB0aGlzLmNoZWNrQWRkZWRUYXg9dGhpcy5wZERlZHVjdGlvbkxpc3RbaV0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNpbmdsZVRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbih0aGlzLmNoZWNrQWRkZWRUYXgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9fSkKICAgICAgfSkKCiAgICB9LAogICAgZm9ybV9wZFF1b3RhSXRlbV91cGRhdGUoKSB7CiAgICAgIGlmKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdW1UeXBlPT0xKXsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3VtRnJlcXVlbmN5PScnCiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN1bUZyZXF1ZW5jeVVuaXQ9JycKICAgICAgfQogICAgICBpZih0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT1udWxsCiAgICAgICAgfHwgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbD09dW5kZWZpbmVkCiAgICAgICAgfHwgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCA9PSAnJyl7CiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6ZmQ5Yi257qn5Yir5LiN6IO95Li656m677yM6K+36YCJ5oup6ZmQ5Yi257qn5YirIik7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYoKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWw9PScyJyYmdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvTGlzdCA9PSBudWxsKQogICAgICAgIHx8ICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT0nMicmJnRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib0xpc3QgPT0gdW5kZWZpbmVkKQogICAgICAgIHx8ICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT0nMicmJnRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib0xpc3QgPT0gJycpKXsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLlhbPogZTlpZfppJDkuI3og73kuLrnqbrvvIzor7flhbPogZTlpZfppJAiKTsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZigodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbD09JzQnJiZ0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9Qcm9nTGlzdCA9PSBudWxsKQogICAgICAgIHx8ICh0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsPT0nNCcmJnRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib1Byb2dMaXN0ID09IHVuZGVmaW5lZCkKICAgICAgICB8fCAodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbD09JzQnJiZ0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9Qcm9nTGlzdCA9PSAnJykpewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuWFs+iBlOWll+mkkOaWueahiOS4jeiDveS4uuepuu+8jOivt+WFs+iBlOWll+mkkOaWueahiCIpOwogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCBwZHRlbXBDbG1DdHJsTWFpbiA9IHsKICAgICAgICBpZDp0aGlzLmZvcm1fcGRRdW90YUl0ZW0uaWQsCiAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQcEluZm8ucGRWZXJJZCwKICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgcGRCbmZ0Q3RybExldmVsOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsLAogICAgICAgIHBkQm5mdEN0cmxUeXBlOiAnRCcsCiAgICAgICAgcGRCbmZ0Q3RybENvZGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsQ29kZSwKICAgICAgICBwZEJuZnRGYWN0b3JUeXBlOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVHlwZSwKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZToKICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JUeXBlID09IDEKICAgICAgICAgICAgPyB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVmFsdWUxCiAgICAgICAgICAgIDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEZhY3RvclR5cGUgPT0gMgogICAgICAgICAgICA/IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JWYWx1ZTIKICAgICAgICAgICAgOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVmFsdWVDYWxDb2RlLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlVW5pdDoKICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JUeXBlID09IDEKICAgICAgICAgICAgPyAnUicKICAgICAgICAgICAgOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVHlwZSA9PSAyCiAgICAgICAgICAgID8gJ0QnCiAgICAgICAgICAgIDogJ1QnLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZTogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZSwKICAgICAgICBwZEJuZnRDdW1UeXBlOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3VtVHlwZSwKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3k6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdW1GcmVxdWVuY3ksCiAgICAgICAgcGRCbmZ0Q3VtRnJlcXVlbmN5VW5pdDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN1bUZyZXF1ZW5jeVVuaXQsCiAgICAgICAgcGRCbmZ0Q3RybExpbWl0RmxhZzogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1pdEZsYWcKICAgICAgfQogICAgICBsZXQgcGR0ZW1wQ2xtQ3RybExpbSA9IHsKICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBwSW5mby5vcGVyYXRvciwKICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQcEluZm8uaWQsCiAgICAgICAgcGRDb2RlOiB0aGlzLnBkdGVtcFBwSW5mby5wcENvZGUsCiAgICAgICAgcGROYW1lOiB0aGlzLnBkdGVtcFBwSW5mby5wcE5hbWUsCiAgICAgICAgcGRCbmZ0Q3RybENvZGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsQ29kZSwKICAgICAgICBwZEJuZnRDdHJsT3JkZXI6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsT3JkZXIsCiAgICAgICAgcGRCbmZ0Q3RybExpbUNvZGU6ICdEJywKICAgICAgICBwZEJuZnRDdHJsTGltTGV2ZWw6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwKICAgICAgfQogICAgICBsZXQgcGR0ZW1wQ2xtQ3RybFJlbGFzID0gW10KICAgICAgaWYgKHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWwgPT0gJzEnKSB7CiAgICAgICAgbGV0IHRlbXAgPSB7CiAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgICAgcGRUeXBlOiAnMicsCiAgICAgICAgICBwZEJuZnRDdHJsQ29kZTogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxDb2RlLAogICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsQ29uQ29kZSwKICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgIHBkQ2xtSW5mb0lkOnRoaXMucGR0ZW1wUHBJbmZvLmlkCiAgICAgICAgfQogICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcy5wdXNoKHRlbXApCiAgICAgIH0KICAgICAgZWxzZSBpZiAodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCA9PSAnMycpIHsKICAgICAgICBsZXQgdGVtcCA9IHsKICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQcEluZm8uaWQsCiAgICAgICAgICBwZFR5cGU6ICcyJywKICAgICAgICAgIHBkQm5mdEN0cmxDb2RlOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybENvZGUsCiAgICAgICAgICBwZEJuZnRDdHJsQ29uQ29kZTogdGhpcy5wZHRlbXBQcEluZm8ucHBQbGFuQ29kZSwKICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgIHBkQ2xtSW5mb0lkOnRoaXMucGR0ZW1wUHBJbmZvLmlkCiAgICAgICAgfQogICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcy5wdXNoKHRlbXApCiAgICAgIH0KICAgICAgZWxzZSBpZiAodGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxMaW1MZXZlbCA9PSAnMicpIHsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9MaXN0LmZvckVhY2goKHZhbCkgPT4gewogICAgICAgICAgbGV0IHBkQ2xtSW5mb0lkID1udWxsOwogICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuY29tYm9PcHRpb25zKSB7CiAgICAgICAgICAgIGlmKGl0ZW0ucHBDb2RlPT12YWwpewogICAgICAgICAgICAgIHBkQ2xtSW5mb0lkPWl0ZW0uaWQ7CiAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbGV0IHRlbXAgPSB7CiAgICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBwSW5mby5vcGVyYXRvciwKICAgICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgICAgICBwZFR5cGU6ICcyJywKICAgICAgICAgICAgcGRCbmZ0Q3RybENvZGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsQ29kZSwKICAgICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHZhbCwKICAgICAgICAgICAgcGRCbmZ0Q3RybENvbkxldmVsOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsLAogICAgICAgICAgICBwZENsbUluZm9JZDpwZENsbUluZm9JZAogICAgICAgICAgfTsKICAgICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcy5wdXNoKHRlbXApCiAgICAgICAgfSkKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9Qcm9nTGlzdC5mb3JFYWNoKCh2YWwpID0+IHsKICAgICAgICAgIGxldCBwZENsbUluZm9JZCA9bnVsbDsKICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmNvbWJvUHJvZ09wdGlvbnMpIHsKICAgICAgICAgICAgaWYoaXRlbS5wcFBsYW5Db2RlPT12YWwpewogICAgICAgICAgICAgIHBkQ2xtSW5mb0lkPWl0ZW0uaWQ7CiAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbGV0IHRlbXAgPSB7CiAgICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBwSW5mby5vcGVyYXRvciwKICAgICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgICAgICBwZFR5cGU6ICcyJywKICAgICAgICAgICAgcGRCbmZ0Q3RybENvZGU6IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsQ29kZSwKICAgICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHZhbCwKICAgICAgICAgICAgcGRCbmZ0Q3RybENvbkxldmVsOiB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0Q3RybExpbUxldmVsLAogICAgICAgICAgICBwZENsbUluZm9JZDpwZENsbUluZm9JZAogICAgICAgICAgfTsKICAgICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcy5wdXNoKHRlbXApCiAgICAgICAgfSkKICAgICAgfQogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBwZHRlbXBDbG1DdHJsTWFpbiwKICAgICAgICBwZHRlbXBDbG1DdHJsTGltLAogICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcwogICAgICB9OwogICAgICB1cGRhdGVPYkJuZnRGb3JtKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICB0aGlzLmZpbmRDb25maWdzRGF0YSgpLnRoZW4oKCk9PnsKICAgICAgICAgIHRoaXMuY2hlY2tBZGRlZFRheCA9IFtdCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGREZWR1Y3Rpb25MaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmKHRoaXMucGREZWR1Y3Rpb25MaXN0W2ldLnBkQm5mdEN0cmxDb2RlPT1yZXMuZGF0YVswXS5wZEJuZnRDdHJsQ29kZSl7CiAgICAgICAgICAgICAgdGhpcy5jaGVja0FkZGVkVGF4PXRoaXMucGREZWR1Y3Rpb25MaXN0W2ldCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zaW5nbGVUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24odGhpcy5jaGVja0FkZGVkVGF4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfX0pCiAgICAgIH0pCiAgICB9LAogICAgZm9ybV9wZFF1b3RhSXRlbV9kZWxldGUoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBkQm5mdEN0cmxDb2RlczpbdGhpcy5mb3JtX3BkUXVvdGFJdGVtLnBkQm5mdEN0cmxDb2RlXQogICAgICB9OwogICAgICBkZWxldGVPYkJuZnRGb3JtKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICB0aGlzLmZpbmRDb25maWdzRGF0YSgpCiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtX3JlZnJlc2goKQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZU1vcmVUYXgoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tBZGRlZFRheCk7CiAgICAgIGxldCBwZEJuZnRDdHJsQ29kZXMgPSB0aGlzLmNoZWNrQWRkZWRUYXgubWFwKChpdGVtLGluZGV4KT0+ewoKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LHsncGRCbmZ0Q3RybENvZGUnOml0ZW0ucGRCbmZ0Q3RybENvZGV9KQogICAgICAgIH0pCiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBkQm5mdEN0cmxDb2RlcwogICAgICB9OwogICAgICBkZWxldGVPYkJuZnRGb3JtKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQogICAgICAgIHRoaXMuZmluZENvbmZpZ3NEYXRhKCkKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW1fcmVmcmVzaCgpCiAgICAgIH0pOwoKICAgIH0sCiAgICBmb3JtX3BkUXVvdGFJdGVtX3JlZnJlc2goKSB7CiAgICAgIHRoaXMuJHJlZnMuc2luZ2xlVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtID0gewogICAgICAgIGlkOicnLAogICAgICAgIHBkQm5mdEN0cmxDb2RlOiAnJywKICAgICAgICBwZEJuZnRDdHJsVHlwZTogJycsCiAgICAgICAgcGRCbmZ0Q3RybE9yZGVyOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JUeXBlOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTogJycsCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsOiAnJywKICAgICAgICBwZEJuZnRDdHJsQ29uQ29kZTogW10sCiAgICAgICAgY29tYm9MaXN0OiBbXSwKICAgICAgICBjb21ib1Byb2dMaXN0OiBbXSwKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3k6ICcnLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlMTogJycsCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWUyOiAnJywKICAgICAgICBwZEJuZnRGYWN0b3JWYWx1ZTM6ICcnLAogICAgICAgIHBkQm5mdEN1bVR5cGU6ICcnLAogICAgICAgIHBkQm5mdEN1bUZyZXF1ZW5jeVVuaXQ6ICcnLAogICAgICAgIHBkQm5mdEN0cmxMaW1pdEZsYWc6ICcnLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZTogJycKICAgICAgfTsKICAgIH0sCiAgICBjb25uRGVkdWN0aWJsZShyb3cpIHsKICAgICAgbGV0IHBkdGVtcENsbUN0cmxNYWluID0gewogICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUHBJbmZvLnBkVmVySWQsCiAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgIHBkQm5mdEN0cmxMZXZlbDogcm93LnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICBwZEJuZnRDdHJsVHlwZTogJ0wnLAogICAgICAgIHBkQm5mdEZhY3RvclR5cGU6IHJvdy5wZEJuZnRGYWN0b3JUeXBlLAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlOiByb3cucGRCbmZ0RmFjdG9yVmFsdWUsCiAgICAgICAgcGRCbmZ0RmFjdG9yVmFsdWVVbml0OiByb3cucGRCbmZ0RmFjdG9yVmFsdWVVbml0LAogICAgICAgIHBkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZTogcm93LnBkQm5mdEZhY3RvclZhbHVlQ2FsQ29kZSwKICAgICAgICBwZEJuZnRDdW1UeXBlOiByb3cucGRCbmZ0Q3VtVHlwZSwKICAgICAgICBwZEJuZnRDdW1GcmVxdWVuY3k6IHJvdy5wZEJuZnRDdW1GcmVxdWVuY3ksCiAgICAgICAgcGRCbmZ0Q3VtRnJlcXVlbmN5VW5pdDogcm93LnBkQm5mdEN1bUZyZXF1ZW5jeVVuaXQsCiAgICAgICAgcGRCbmZ0Q3RybExpbWl0RmxhZzogcm93LnBkQm5mdEN0cmxMaW1pdEZsYWcKICAgICAgfTsKICAgICAgbGV0IHBkdGVtcENsbUN0cmxMaW0gPSB7CiAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQcEluZm8ucGRWZXJJZCwKICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQcEluZm8ub3BlcmF0b3IsCiAgICAgICAgcGRUeXBlOiAnMicsCiAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgIHBkQ29kZTogdGhpcy5wZHRlbXBQcEluZm8ucGRDb2RlLAogICAgICAgIHBkTmFtZTogdGhpcy5wZHRlbXBQcEluZm8ucGROYW1lLAogICAgICAgIHBkQm5mdEN0cmxPcmRlcjogcm93LnBkQm5mdEN0cmxPcmRlciwKICAgICAgICBwZEJuZnRDdHJsTGltQ29kZTogJycsCiAgICAgICAgcGRCbmZ0Q3RybExpbUxldmVsOiByb3cucGRCbmZ0Q3RybExpbUxldmVsCiAgICAgIH07CiAgICAgIGxldCBwZHRlbXBDbG1DdHJsUmVsYXMgPSBbXTsKICAgICAgaWYgKHJvdy5wZEJuZnRDdHJsTGltTGV2ZWwgPT0gJzEnKSB7CiAgICAgICAgbGV0IHRlbXAgPSB7CiAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHRoaXMucGR0ZW1wUHBJbmZvLnBwQ29kZSwKICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogcm93LnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgIHBkQ2xtSW5mb0lkOnRoaXMucGR0ZW1wUHBJbmZvLmlkCiAgICAgICAgfTsKICAgICAgICBwZHRlbXBDbG1DdHJsUmVsYXMucHVzaCh0ZW1wKQogICAgICB9CiAgICAgIGVsc2UgaWYgKHJvdy5wZEJuZnRDdHJsTGltTGV2ZWwgPT0gJzMnKSB7CiAgICAgICAgbGV0IHRlbXAgPSB7CiAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBwSW5mby5wZFZlcklkLAogICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUHBJbmZvLmlkLAogICAgICAgICAgcGRCbmZ0Q3RybENvbkNvZGU6IHRoaXMucGR0ZW1wUHBJbmZvLnBwUGxhbkNvZGUsCiAgICAgICAgICBwZEJuZnRDdHJsQ29uTGV2ZWw6IHJvdy5wZEJuZnRDdHJsTGltTGV2ZWwsCiAgICAgICAgICBwZENsbUluZm9JZDp0aGlzLnBkdGVtcFBwSW5mby5pZAogICAgICAgIH07CiAgICAgICAgcGR0ZW1wQ2xtQ3RybFJlbGFzLnB1c2godGVtcCkKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICByb3cucGR0ZW1wQ2xtQ3RybExpbVJlbGFMaXN0Vm8uZm9yRWFjaCgodmFsKSA9PiB7CiAgICAgICAgICBsZXQgdGVtcCA9IHsKICAgICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQcEluZm8ucGRWZXJJZCwKICAgICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUHBJbmZvLm9wZXJhdG9yLAogICAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQcEluZm8uaWQsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25Db2RlOiB2YWwsCiAgICAgICAgICAgIHBkQm5mdEN0cmxDb25MZXZlbDogcm93LnBkQm5mdEN0cmxMaW1MZXZlbCwKICAgICAgICAgICAgcGRDbG1JbmZvSWQ6dmFsLmlkCiAgICAgICAgICB9OwogICAgICAgICAgcGR0ZW1wQ2xtQ3RybFJlbGFzLnB1c2godGVtcCkKICAgICAgICB9KTsKICAgICAgfQogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBwZHRlbXBDbG1DdHJsTWFpbiwKICAgICAgICBwZHRlbXBDbG1DdHJsTGltLAogICAgICAgIHBkdGVtcENsbUN0cmxSZWxhcwogICAgICB9OwogICAgICBzYXZlT2JCbmZ0Rm9ybSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgdGhpcy5maW5kQ29uZmlnc0RhdGEoKTsKICAgICAgfSkKICAgIH0sCiAgICBjaGVja0NvbWJvRGVkdWN0aWJsZVRhYmxlKHZhbCkgewogICAgICB0aGlzLmNoZWNrQWRkZWRUYXggPSB2YWwKICAgICAgdGhpcy5zaG93RGV0ZWxlQnV0dG9uID0gZmFsc2UKICAgICAgaWYodmFsWzBdLnBkQm5mdEZhY3RvclR5cGU9PTEpewogICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRGYWN0b3JWYWx1ZTE9dmFsWzBdLnBkQm5mdEZhY3RvclZhbHVlCiAgICAgIH1lbHNlIGlmKHZhbFswXS5wZEJuZnRGYWN0b3JUeXBlPT0yKXsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0ucGRCbmZ0RmFjdG9yVmFsdWUyPXZhbFswXS5wZEJuZnRGYWN0b3JWYWx1ZQogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAodGhpcy5jaGVja0FkZGVkVGF4Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9wZFF1b3RhSXRlbSwgdmFsWzBdKTsKICAgICAgICAgIHRoaXMuc2hvd0RldGVsZUJ1dHRvbiA9IHRydWU7CiAgICAgICAgICBsZXQgbGV2ZWxWYWx1ZSA9IHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5wZEJuZnRDdHJsTGltTGV2ZWw7CiAgICAgICAgICBpZiAobGV2ZWxWYWx1ZSA9PT0gJzInKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib0xpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5jb21ib09wdGlvbnMgPSBbXTsKICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbFswXS5wZHRlbXBDbG1DdHJsTGltUmVsYUxpc3RWbykgewogICAgICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib0xpc3QucHVzaChpdGVtLnBkQm5mdEN0cmxDb25Db2RlKTsKICAgICAgICAgICAgICB0aGlzLmNvbWJvT3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOml0ZW0ucGRDbG1JbmZvSWQsCiAgICAgICAgICAgICAgICBwcENvZGU6IGl0ZW0ucGRCbmZ0Q3RybENvbkNvZGUsCiAgICAgICAgICAgICAgICBwcE5hbWU6IGl0ZW0ucGRCbmZ0Q3RybENvbk5hbWUKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAobGV2ZWxWYWx1ZSA9PT0gJzQnKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbS5jb21ib1Byb2dMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuY29tYm9Qcm9nT3B0aW9ucyA9IFtdOwogICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsWzBdLnBkdGVtcENsbUN0cmxMaW1SZWxhTGlzdFZvKSB7CiAgICAgICAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvUHJvZ0xpc3QucHVzaChpdGVtLnBkQm5mdEN0cmxDb25Db2RlKTsKICAgICAgICAgICAgICB0aGlzLmNvbWJvUHJvZ09wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICBpZDppdGVtLnBkQ2xtSW5mb0lkLAogICAgICAgICAgICAgICAgcHBQbGFuQ29kZTogaXRlbS5wZEJuZnRDdHJsQ29uQ29kZSwKICAgICAgICAgICAgICAgIHBwUGxhbk5hbWU6IGl0ZW0ucGRCbmZ0Q3RybENvbk5hbWUKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNoYW5nZU9wdGlvbigpCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrQWRkZWRUYXgubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRoaXMuZm9ybV9wZFF1b3RhSXRlbV9yZWZyZXNoKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZmluZENvbWJvTGlzdCgpIHsKICAgICAgZmluZENvbWJvTGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmNvbWJvVm9PcHRpb25zID0gcmVzLmRhdGEKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlT3B0aW9uKCkgewogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpCiAgICB9LAogICAgLy/lvLnnqpfov5Tlm57kuLvpobXpnaIKICAgIGJhY2tUb0ZlZUJpbGwoZmxhZywgc2VsZWN0ZWRJdGVtTGlzdCkgewogICAgICAvL+Wll+mkkAogICAgICBpZiAoZmxhZyA9PT0gJ2NvbWJvJykgewogICAgICAgIHRoaXMuc2hvd0NvbWJvTW9yZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2VsZWN0Q29tYm9MaXN0KHNlbGVjdGVkSXRlbUxpc3QpCiAgICAgIH0KICAgICAgLy/mlrnmoYgKICAgICAgZWxzZSBpZiAoZmxhZyA9PT0gJ2NvbWJvUHJvZycpIHsKICAgICAgICB0aGlzLnNob3dDb21ib1Byb2dNb3JlID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZWxlY3RDb21ib1Byb2dMaXN0KHNlbGVjdGVkSXRlbUxpc3QpCiAgICAgIH0KICAgICAgdGhpcy5jaGFuZ2VPcHRpb24oKQogICAgfSwKICAgIC8v5Lqn5ZOB5aWX6aSQ5LiL5ouJ6YCJCiAgICBzZWxlY3RDb21ib0xpc3Qoc2VsZWN0ZWRJdGVtTGlzdCkgewogICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9MaXN0ID0gW107CiAgICAgIHRoaXMuY29tYm9PcHRpb25zID0gW107CiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzZWxlY3RlZEl0ZW1MaXN0KSB7CiAgICAgICAgdGhpcy5mb3JtX3BkUXVvdGFJdGVtLmNvbWJvTGlzdC5wdXNoKGl0ZW0ucHBDb2RlKTsKICAgICAgICB0aGlzLmNvbWJvT3B0aW9ucy5wdXNoKGl0ZW0pCiAgICAgIH0KCiAgICB9LAogICAgLy/lhbPogZTmlrnmoYjkuIvmi4npgIkKICAgIHNlbGVjdENvbWJvUHJvZ0xpc3Qoc2VsZWN0ZWRJdGVtTGlzdCkgewogICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9Qcm9nTGlzdCA9IFtdOwogICAgICB0aGlzLmNvbWJvUHJvZ09wdGlvbnMgPSBbXTsKICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNlbGVjdGVkSXRlbUxpc3QpIHsKICAgICAgICB0aGlzLmZvcm1fcGRRdW90YUl0ZW0uY29tYm9Qcm9nTGlzdC5wdXNoKGl0ZW0ucHBQbGFuQ29kZSk7CiAgICAgICAgdGhpcy5jb21ib1Byb2dPcHRpb25zLnB1c2goaXRlbSkKICAgICAgfQoKICAgIH0sCiAgICBiYWNrVG9NZW51KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ+S6p+WTgeWll+mkkOaguOi1lOWumuS5iScsIHBhcmFtczoge319KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-compensation-def/combo-deductible","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div>\r\n      <cus-table-title :label=\"$t('i18nView.ppBeduItem')\"></cus-table-title>\r\n      <div>\r\n        <el-table\r\n                  :data=\"pdDeductionList\" @selection-change=\"checkComboDeductibleTable\" border\r\n                  element-loading-text=\"Loading\"\r\n                  highlight-current-row ref=\"singleTable\"\r\n                  size=\"mini\"\r\n                  >\r\n          <el-table-column :label=\"$t('productValueAddedTax.select')\" type=\"selection\" align=\"center\"\r\n                           width=\"50px\"></el-table-column>\r\n          <el-table-column  :label=\"$t('i18nView.pdBnftCtrlOrder')\" align=\"center\" prop=\"pdBnftCtrlOrder\"></el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftCtrlLimLevel')\" align=\"center\"\r\n                           prop=\"pdBnftCtrlLimLevel\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdBnftCtrlLimLevel | filter_pdBnftCtrlLimLevel }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftCtrlLimCode')\" align=\"center\"\r\n                           prop=\"pdtempClmCtrlLimRelaListVo\" width=\"200px\">\r\n            <template v-slot=\"scope\">\r\n                  <span>{{\r\n                      _.map(scope.row.pdtempClmCtrlLimRelaListVo, item => {\r\n                        return item.pdBnftCtrlConCode + ':' + item.pdBnftCtrlConName\r\n                      }).join(', ')\r\n                    }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column  :label=\"$t('i18nView.pdBnftCumType')\" align=\"center\"\r\n                           prop=\"pdBnftCumType\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdBnftCumType | filter_pdBnftCumType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftCumCount')\"  align=\"center\"\r\n                           prop=\"pdBnftCumFrequency\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBeduType')\" align=\"center\" prop=\"pdBnftFactorType\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdBnftFactorType | filter_pdBnftFactorType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBedu')\" align=\"center\" prop=\"pdBnftFactorValue\">\r\n            <template v-slot=\"scope\"> {{scope.row.pdBnftFactorValue}}{{ scope.row.pdBnftFactorValueUnit | filter_Unit }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.deductionCalc')\" align=\"center\" prop=\"pdBnftFactorValueCalCode\" width=\"150px\"></el-table-column>\r\n        </el-table>\r\n        <div v-if=\"this.checkAddedTax.length<2 && comboHePeiCalcMarkFlag\">\r\n          <!-- 限额快捷定义 -->\r\n          <cus-condition style=\"margin-top: 10px\" @show=\"showDeductibleQuickPage\" :label=\"$t('i18nView.pdDeduction_quick_def')\"></cus-condition>\r\n          <div v-if=\"showDeductibleQuickPageFlag\">\r\n            <el-form ref=\"page\" :model=\"params\" label-width=\"120px\" style=\"margin-top: 10px\">\r\n              <cus-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item  :label=\"$t('i18nView.pdBnftCtrlLimLevel')\">\r\n                      <cus-select :codetype=\"'comboLimitLevel'\" clearable\r\n                                  v-model=\"params.pdBnftCtrlLimLevel\"></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('i18nView.pdBeduType')\">\r\n                    <el-col>\r\n                      <cus-select :codetype=\"'pdBnftFactorType'\" clearable\r\n                                  v-model=\"params.pdBnftFactorType\"></cus-select>\r\n                    </el-col>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('i18nView.productMeat')\">\r\n                    <el-col>\r\n                      <el-select clearable v-model=\"params.ppCode\" filterable>\r\n                        <el-option :key=\"item.id\"\r\n                                   :label=\"item.ppCode+':'+item.ppName\"\r\n                                   :value=\"item.ppCode\"\r\n                                   v-for=\"item in comboVoOptions\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-col>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </cus-row>\r\n              <el-row>\r\n                  <el-form-item align=\"right\">\r\n                    <el-button dialog-disable=\"disable\" size=\"small\" @click=\"handleSearch\" icon=\"el-icon-search\" type=\"primary\">\r\n                      {{ $t('acceptanceDefinition.search') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n              </el-row>\r\n              <cus-table-title :label=\"$t('i18nView.pdBeduItem')\"></cus-table-title>\r\n              <el-table :data=\"comboDeductibleList\" @row-click=\"\" border element-loading-text=\"Loading\"\r\n                        highlight-current-row\r\n                        size=\"mini\">\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n                  <template v-slot=\"scope\">\r\n                    {{ initTableIndex('page_Deductible', scope.$index) }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdBnft.desc')\" align=\"center\" prop type=\"expand\" width=\"60\">\r\n                  <template slot-scope=\"props\">\r\n                    <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                      <el-form-item :label=\"$t('i18nView.productPpCode')\">\r\n                        <span>{{ props.row.ppCode }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.productPpName')\">\r\n                        <span>{{ props.row.ppName }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBnftCtrlCode')\">\r\n                        <span>{{ props.row.pdBnftCtrlCode }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdLevel')\">\r\n                        <span>{{ props.row.pdBnftCtrlLimLevel | filter_pdBnftCtrlLimLevel}}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBnftCtrlOrder')\">\r\n                        <span>{{ props.row.pdBnftCtrlOrder }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBeduType')\">\r\n                        <span>{{ props.row.pdBnftFactorType | filter_pdBnftFactorType }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBedu')\">\r\n                        <span>{{ props.row.pdBnftFactorValue}}{{ props.row.pdBnftFactorValueUnit | filter_Unit}}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.deductionCalc')\">\r\n                        <span>{{ props.row.pdBnftFactorValueCalCode }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBnftCumType')\">\r\n                        <span>{{ props.row.pdBnftCumType | filter_pdBnftCumType}}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBnftCumCount')\">\r\n                        <span>{{ props.row.pdBnftCumFrequency }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('i18nView.pdBnftCtrlLimitFlag')\">\r\n                        <span>{{ props.row.pdBnftCtrlLimitFlag }}</span>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.productPpCode')\" prop=\"ppCode\"></el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.productPpName')\" prop=\"ppName\"></el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.pdBnftCtrlLimLevel')\" prop=\"pdBnftCtrlLimLevel\">\r\n                  <template v-slot=\"scope\">{{ scope.row.pdBnftCtrlLimLevel | filter_pdBnftCtrlLimLevel }}</template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.pdBnftCumType')\" prop=\"pdBnftCumType\">\r\n                  <template v-slot=\"scope\">{{ scope.row.pdBnftCumType | filter_pdBnftCumType }}</template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.pdBeduType')\" prop=\"pdBnftFactorType\">\r\n                  <template v-slot=\"scope\">{{ scope.row.pdBnftFactorType | filter_pdBnftFactorType }}</template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('i18nView.pdBedu')\" prop=\"pdBnftFactorType\">\r\n                  <template v-slot=\"scope\"> {{scope.row.pdBnftFactorValue}}{{ scope.row.pdBnftFactorValueUnit | filter_Unit }}</template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" :label=\"$t('table.actions')\" width=\"120px\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button dialog-disable=\"disable\" size=\"small\" @click=\"connDeductible(scope.row)\" icon=\"el-icon-success\" type=\"primary\">\r\n                      {{$t('form.select')}}\r\n                    </el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <cus-pagination ref=\"page_Deductible\" :pageSize=\"5\" :params=\"params\"\r\n                              url=\"/combo-limit/base/comboDeductibleList\" v-model=\"comboDeductibleList\"/>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"this.checkAddedTax.length>1 && comboHePeiCalcMarkFlag\">\r\n        <br>\r\n        <el-row style=\"float: right\">\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deleteMoreTax\" icon=\"el-icon-delete\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\"\r\n            :content=\"$t('confirmMessage.delete')\">\r\n          </cus-popover>\r\n        </el-row>\r\n      </div>\r\n      <div v-if=\"this.checkAddedTax.length<2 && comboHePeiCalcMarkFlag\">\r\n        <cus-form-title :label=\"$t('i18nView.deductibleExcessDefinition')\"></cus-form-title>\r\n        <el-form ref=\"form_pdQuotaItem\" :model=\"form_pdQuotaItem\" label-width=\"110px\" >\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"7\">\r\n              <el-form-item  :label=\"$t('i18nView.pdBnftCtrlOrder')\" prop=\"pdBnftCtrlOrder\">\r\n                <el-input :placeholder=\"$t('pdClaimVerificationRules.controlSequenceAddOne')\" clearable\r\n                          v-model=\"form_pdQuotaItem.pdBnftCtrlOrder\" type=\"number\" ></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.pdBnftCtrlLimLevel')\">\r\n                  <cus-select :codetype=\"'comboLimitLevel'\" clearable\r\n                              v-model=\"form_pdQuotaItem.pdBnftCtrlLimLevel\" clearable></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\" v-if=\"form_pdQuotaItem.pdBnftCtrlLimLevel==='2'\">\r\n              <el-form-item :label=\"$t('i18nView.ppRelate')\">\r\n                  <el-select v-model=\"form_pdQuotaItem.comboList\" multiple>\r\n                    <el-option :key=\"item.id\"\r\n                               :label=\"item.ppCode+':'+item.ppName\"\r\n                               :value=\"item.ppCode\"\r\n                               v-for=\"item in comboOptions\">\r\n                    </el-option>\r\n                  </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <cus-btn-wrapper v-if=\"form_pdQuotaItem.pdBnftCtrlLimLevel==='2'\"><el-button dialog-disable=\"disable\"  size=\"small\" @click=\"openComboDetail\" type=\"text\">{{$t('i18nView.more')}}</el-button></cus-btn-wrapper>\r\n\r\n            <el-col :span=\"7\" v-if=\"form_pdQuotaItem.pdBnftCtrlLimLevel==='4'\">\r\n              <el-form-item :label=\"$t('i18nView.ppRelateScheme')\">\r\n                <el-col>\r\n                  <el-select v-model=\"form_pdQuotaItem.comboProgList\" multiple>\r\n                    <el-option :key=\"item.id\"\r\n                               :label=\"item.ppPlanCode+':'+item.ppPlanName\"\r\n                               :value=\"item.ppPlanCode\"\r\n                               v-for=\"item in comboProgOptions\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-col>\r\n              </el-form-item>\r\n            </el-col>\r\n            <cus-btn-wrapper v-if=\"form_pdQuotaItem.pdBnftCtrlLimLevel==='4'\"><el-button dialog-disable=\"disable\"  size=\"small\" @click=\"openComboProgDetail\" type=\"text\">{{$t('i18nView.more')}}</el-button></cus-btn-wrapper>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"7\">\r\n              <el-form-item  :label=\"$t('i18nView.pdBnftCumType')\">\r\n                <cus-radio :codetype=\"'pdBnftCumType'\"\r\n                           v-model=\"form_pdQuotaItem.pdBnftCumType\"></cus-radio>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item  :label=\"$t('i18nView.pdBnftCumCount')\">\r\n                <el-input :disabled=\"form_pdQuotaItem.pdBnftCumType!='2'\" :placeholder=\"$t('pdClaimVerificationRules.addFrequencyOne')\" clearable\r\n                          v-model=\"form_pdQuotaItem.pdBnftCumFrequency\"\r\n                        ></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.pdBnftCumCount')\">\r\n                  <cus-select :disabled=\"form_pdQuotaItem.pdBnftCumType!='2'\":codetype=\"'pdBnftCumFrequencyUnit'\" clearable\r\n                              v-model=\"form_pdQuotaItem.pdBnftCumFrequencyUnit\" clearable></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.pdBeduType')\" prop=\"pdBnftFactorType\">\r\n                  <cus-select :codetype=\"'pdBnftFactorType'\" clearable\r\n                              v-model=\"form_pdQuotaItem.pdBnftFactorType\" clearable></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.pdBeduFee')\" prop=\"pdBnftFactorValue\">\r\n                <el-input :disabled=\"form_pdQuotaItem.pdBnftFactorType!=1\"\r\n                          v-model=\"form_pdQuotaItem.pdBnftFactorValue1\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.pdRatio')\" prop=\"pdBnftFactorValue1\">\r\n                <el-input :disabled=\"form_pdQuotaItem.pdBnftFactorType!=2\"\r\n                          v-model=\"form_pdQuotaItem.pdBnftFactorValue2\">\r\n                  <template slot=\"suffix\">%</template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <div v-if=\"form_pdQuotaItem.pdBnftFactorType === '3'\">\r\n            <cus-form-title :label=\"$t('i18nView.deductionCustom')\" ></cus-form-title>\r\n            <el-row style=\"margin-top: 10px\">\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.deductionCalc')\">\r\n                  <el-input readonly v-model=\"form_pdQuotaItem.pdBnftFactorValueCalCode\">\r\n                    <svg-icon @click=\"toFormulaDef()\" icon-class=\"calc\" slot=\"suffix\"\r\n                              style=\"color: #606266;font-size: 18px;cursor: pointer\"/>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-form>\r\n        <div>\r\n          <el-form label-width=\"160px\" style=\"margin: 20px 0 0 0\">\r\n            <el-form-item align=\"right\">\r\n              <!--按钮-->\r\n              <el-button dialog-disable=\"disable\" size=\"small\" @click=\"form_pdQuotaItem_add\" icon=\"el-icon-success\" type=\"primary\"\r\n                         v-if=\"!showDeteleButton\">{{$t('table.save') }}\r\n              </el-button>\r\n              <el-button dialog-disable=\"disable\" size=\"small\" @click=\"form_pdQuotaItem_update\" icon=\"el-icon-success\" type=\"primary\"\r\n                         v-if=\"showDeteleButton\">{{$t('table.update') }}\r\n              </el-button>\r\n              <cus-del-btn size=\"small\" @ok=\"form_pdQuotaItem_delete\"  buttonText = \"删除\"  icon=\"el-icon-success\" type=\"danger\"\r\n                         v-if=\"showDeteleButton\">{{$t('table.delete') }}\r\n              </cus-del-btn>\r\n              <el-button dialog-disable=\"disable\" size=\"small\" @click=\"form_pdQuotaItem_refresh\" icon=\"el-icon-refresh\" type=\"warning\">{{\r\n                $t('tagsView.refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <!-- 产品套餐 -->\r\n      <el-dialog  v-if=\"showComboMore\" v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showComboMore\" center\r\n                  top=\"8vh\" width=\"75%\">\r\n        <combo_ppinfo :pdBnftCtrlCode=\"pdBnftCtrlCode\"  @backToFeeBill=\"backToFeeBill\"></combo_ppinfo>\r\n      </el-dialog>\r\n      <!-- 产品套餐方案 -->\r\n      <el-dialog v-if=\"showComboProgMore\" v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showComboProgMore\" center\r\n                 top=\"8vh\" width=\"75%\">\r\n        <combo_proginfo  :pdBnftCtrlCode=\"pdBnftCtrlCode\" @backToFeeBill=\"backToFeeBill\"></combo_proginfo>\r\n      </el-dialog>\r\n\r\n      <!-- 弹窗（已关联公式列表） -->\r\n      <el-dialog :close-on-click-modal=\"false\" :show-close=\"false\" :visible.sync=\"formulaVisible\" append-to-body center\r\n                 v-dialog-drag v-if=\"formulaVisible\" width=\"80%\">\r\n        <comboCtrlFormula :pdBussDetailType=\"this.pdBussDetailType\" :pdtempClmCtrlMain=\"form_pdQuotaItem\"\r\n                        @bringInCalcCode=\"bringInCalcCode\"\r\n                        @changeDialogVisible_ClmCtrlFormula=\"changeDialogVisible_ClmCtrlFormula\"\r\n                        @changeDialogVisible_ClmCtrlFormulaSelect=\"changeDialogVisible_ClmCtrlFormulaSelect\"></comboCtrlFormula>\r\n      </el-dialog>\r\n\r\n      <!-- 弹窗（公式关联） -->\r\n      <el-dialog :close-on-click-modal=\"false\" :show-close=\"false\" :visible.sync=\"formulaSelectVisible\" append-to-body\r\n                 center v-dialog-drag v-if=\"formulaSelectVisible\" width=\"70%\">\r\n        <comboCtrlFormulaSelect :pdBussDetailType=\"this.pdBussDetailType\" :pdtempClmCtrlMain=\"form_pdQuotaItem\"\r\n                              @bringInCalcCode=\"bringInCalcCode\"\r\n                              @changeDialogVisible_ClmCtrlFormulaSelect=\"changeDialogVisible_ClmCtrlFormulaSelect\"></comboCtrlFormulaSelect>\r\n      </el-dialog>\r\n    </div>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    saveObBnftForm,\r\n    findperiodConfigs,\r\n    updateObBnftForm,\r\n    deleteObBnftForm, findComboList\r\n  } from \"@/api/basicinfo/comboQuota\"\r\n  import combo_ppinfo from \"@/views/product-package-definition/pp-operation-def/pp-compensation-def/combo-ppinfo/index\"\r\n  import combo_proginfo from \"@/views/product-package-definition/pp-operation-def/pp-compensation-def/combo-proginfo/index\"\r\n  import comboCtrlFormula from '@/views/product-package-definition/pp-operation-def/pp-compensation-def/comboCtrlFormula/index'\r\n  import comboCtrlFormulaSelect from '@/views/product-package-definition/pp-operation-def/pp-compensation-def/comboCtrlFormulaSelect/index'\r\n\r\n  let _this;\r\n  export default {\r\n    name: 'comboDeductible',\r\n    components: {\r\n      combo_ppinfo, combo_proginfo, comboCtrlFormula, comboCtrlFormulaSelect\r\n    },\r\n    filters: {\r\n      filter_getPdRuleDtCls(code) {\r\n        if (code != null) {\r\n          return _this.getCodeName('ruleBussModuDeta', code);\r\n        }\r\n      },\r\n      filter_pdBnftCtrlLimLevel(code) {\r\n        return _this.getCodeName('comboLimitLevel', code)\r\n      },\r\n      filter_getPdRuleDtCls(code) {\r\n        if (code != null) {\r\n          return _this.getCodeName('ruleBussModuDeta', code);\r\n        }\r\n      },\r\n      filter_pdBnftFactorType(code) {\r\n        return _this.getCodeName('pdBnftFactorType', code)\r\n      },\r\n      filter_pdBnftCumType(code) {\r\n        return _this.getCodeName('pdBnftCumType', code)\r\n      },\r\n      filter_pdBnftCumFrequency(code) {\r\n        return _this.getCodeName('pdBnftCumFrequency', code)\r\n      },\r\n      filter_Unit(code) {\r\n        return _this.getCodeName('pay_limit_unit1', code, true)\r\n      },\r\n      filter_pdBnftFactorValueCalCode(code) {\r\n        if (code != null && code != '') {\r\n          return 'Y'\r\n        } else {\r\n          return 'N'\r\n        }\r\n      }\r\n    },\r\n\r\n    data() {\r\n      _this = this;\r\n      return {\r\n        //产品信息头\r\n        combo: {\r\n          id: '',\r\n          ppCode: '',\r\n          ppName: '',\r\n          pdVerId: '',\r\n          pdProcessId: ''\r\n        },\r\n        params: {\r\n          pdBnftCtrlLimLevel: '',\r\n          pdBnftFactorType: '',\r\n          ppCode: ''\r\n        },\r\n        form_comboQuota:{\r\n          pdBnftCtrlLimLevel:'',\r\n        },\r\n        form_pdQuotaItem: {\r\n          id:'',\r\n          pdBnftCtrlCode: '',\r\n          pdBnftCtrlType: '',\r\n          pdBnftCtrlOrder: '',\r\n          pdBnftFactorType: '',\r\n          pdBnftFactorValue: '',\r\n          pdBnftCtrlLimLevel: '',\r\n          pdBnftCtrlConCode: [],\r\n          comboList: [],\r\n          comboProgList: [],\r\n          pdBnftCumFrequency: '',\r\n          pdBnftFactorValue1: '',\r\n          pdBnftFactorValue2: '',\r\n          pdBnftFactorValue3: '',\r\n          pdBnftCumType: '1',\r\n          pdBnftCumFrequencyUnit: '',\r\n          pdBnftCtrlLimitFlag: '',\r\n          pdBnftFactorValueCalCode: ''\r\n        },\r\n        moreType: 'D',\r\n        pdBnftCtrlIdName: '',\r\n        comboDeductibleList: [],\r\n        pdBnftCtrlCode: '',\r\n        comboOptions: [],\r\n        comboProgOptions: [],\r\n        pdQuotaItemList: [],\r\n        form_pdQuotaItem_rules: {},\r\n        pdDeductionList: [],\r\n        pdObservationList: [],\r\n        form_observationDefinition: {},\r\n        form_observationDefinition_rules: {},\r\n        form_pdClaimDefinition: {},\r\n        form_pdClaimDefinition_rules: {},\r\n        selectedDef: {},\r\n        showBnftMore: false,\r\n\r\n        quickicon: \"el-icon-arrow-right\",\r\n        showPdMore: false,\r\n        showProgMore: false,\r\n        showPdClmBnftMore: false,\r\n\r\n        showPdMedFeeBillMore: false,\r\n        showComboMore: false,\r\n        showComboProgMore: false,\r\n        showDeductibleQuickPageFlag: false,\r\n        pdtempPpInfo: {},\r\n        formulaVisible: false,\r\n        formulaSelectVisible: false,\r\n        showDeteleButton: false,\r\n        checkAddedTax: [],\r\n        tableData: [],\r\n        comboVoOptions: [],\r\n        comboHePeiCalcMarkFlag:true\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    created() {\r\n      //初始化\r\n      this.comboHePeiCalcMarkFlag = this.$route.query.comboHePeiCalcMarkFlag;\r\n      if(this.comboHePeiCalcMarkFlag==undefined){\r\n        this.comboHePeiCalcMarkFlag=true\r\n      }\r\n      this.initProductInfo();\r\n      this.findConfigsData()\r\n    },\r\n    watch: {\r\n    },\r\n    methods: {\r\n      //初始化套餐\r\n      initProductInfo() {\r\n        let pdtempPpInfo = this.getPdData();\r\n        if (pdtempPpInfo) {\r\n          this.pdtempPpInfo = pdtempPpInfo;\r\n          Object.assign(this.combo, pdtempPpInfo);\r\n          this.pdProcessId = pdtempPpInfo.pdProcessId;\r\n        }\r\n      },\r\n      handleSearch() {\r\n        if (this.$refs.page_Deductible) {\r\n          this.$refs.page_Deductible.reload();\r\n        }\r\n      },\r\n      findConfigsData() {\r\n        return new Promise(resolve => {\r\n          let data = {\r\n          pdInfoId: this.pdtempPpInfo.id,\r\n          pdBnftCtrlType: 'D'\r\n        };\r\n          findperiodConfigs(this.buildRequestData(data)).then((res) => {\r\n            this.pdDeductionList = res.data\r\n            resolve()\r\n          })\r\n        })\r\n\r\n      },\r\n      bringInCalcCode(pdBnftCtrlCode, calcCode) {\r\n        console.log(this.pdDeductionList)\r\n        for (const clmCtrl of this.pdDeductionList) {\r\n          if (clmCtrl.pdBnftCtrlCode === pdBnftCtrlCode) {\r\n            this.$set(clmCtrl, 'pdBnftFactorValueCalCode', calcCode)\r\n            break\r\n          }\r\n        }\r\n        if (this.form_pdQuotaItem.pdBnftCtrlCode === pdBnftCtrlCode) {\r\n          this.$set(this.form_pdQuotaItem, 'pdBnftFactorValueCalCode', calcCode)\r\n        }\r\n      },\r\n      toFormulaDef() {\r\n        if(!this.showDeteleButton){\r\n          this.notifyError(\"请选择一条套餐免赔额\");\r\n          return\r\n        }\r\n        this.pdBussDetailType = '61';\r\n        this.formulaVisible = true\r\n      },\r\n      changeDialogVisible_ClmCtrlFormula(visible) {\r\n        console.log(11111)\r\n        console.log(visible)\r\n        this.formulaVisible = visible\r\n      },\r\n      changeDialogVisible_ClmCtrlFormulaSelect(visible) {\r\n        this.formulaSelectVisible = visible\r\n        if (visible === false) {\r\n          this.formulaVisible = false\r\n          this.$nextTick(() => {\r\n            this.formulaVisible = true\r\n          })\r\n        }\r\n      },\r\n      openComboDetail() {\r\n        this.pdBnftCtrlCode = this.checkPdBnftCtrlLimLevel()\r\n        this.showComboMore = true\r\n      },\r\n      openComboProgDetail() {\r\n        this.pdBnftCtrlCode = this.checkPdBnftCtrlLimLevel()\r\n        this.showComboProgMore = true\r\n      },\r\n      checkPdBnftCtrlLimLevel() {\r\n        if(this.checkAddedTax.length==1) {\r\n          if (this.checkAddedTax[0].pdBnftCtrlLimLevel === this.form_comboQuota.pdBnftCtrlLimLevel) {\r\n            return this.checkAddedTax[0].pdBnftCtrlCode\r\n          } else {\r\n            return ''\r\n          }\r\n        }else{\r\n          return ''\r\n        }\r\n\r\n      },\r\n      showDeductibleQuickPage() {\r\n        this.findComboList();\r\n        if (!this.showDeductibleQuickPageFlag) {\r\n          this.quickicon = \"el-icon-arrow-down\";\r\n        } else {\r\n          this.quickicon = \"el-icon-arrow-right\";\r\n        }\r\n        return (this.showDeductibleQuickPageFlag = !this.showDeductibleQuickPageFlag);\r\n      },\r\n      //保存按钮\r\n      form_pdQuotaItem_add() {\r\n        if(this.form_pdQuotaItem.pdBnftCumType==1){\r\n          this.form_pdQuotaItem.pdBnftCumFrequency=''\r\n          this.form_pdQuotaItem.pdBnftCumFrequencyUnit=''\r\n        }\r\n        if(this.form_comboQuota.pdBnftCtrlLimLevel==null\r\n          || this.form_pdQuotaItem.pdBnftCtrlLimLevel==undefined\r\n          || this.form_pdQuotaItem.pdBnftCtrlLimLevel == ''){\r\n          this.notifyError(\"限制级别不能为空，请选择限制级别\");\r\n          return\r\n        }\r\n        if((this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == null)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == undefined)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == '')){\r\n          this.notifyError(\"关联套餐不能为空，请关联套餐\");\r\n          return\r\n        }\r\n        if((this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == null)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == undefined)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == '')){\r\n          this.notifyError(\"关联套餐方案不能为空，请关联套餐方案\");\r\n          return\r\n        }\r\n        let pdtempClmCtrlMain = {\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdBnftCtrlLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n          pdBnftCtrlType: 'D',\r\n          pdBnftFactorType: this.form_pdQuotaItem.pdBnftFactorType,\r\n          pdBnftFactorValue:\r\n            this.form_pdQuotaItem.pdBnftFactorType == 1\r\n              ? this.form_pdQuotaItem.pdBnftFactorValue1\r\n              : this.form_pdQuotaItem.pdBnftFactorType == 2\r\n              ? this.form_pdQuotaItem.pdBnftFactorValue2\r\n              : this.form_pdQuotaItem.pdBnftFactorValueCalCode,\r\n          pdBnftFactorValueUnit:\r\n            this.form_pdQuotaItem.pdBnftFactorType == 1\r\n              ? 'R'\r\n              : this.form_pdQuotaItem.pdBnftFactorType == 2\r\n              ? 'D'\r\n              : 'T',\r\n          pdBnftFactorValueCalCode: this.form_pdQuotaItem.pdBnftFactorValueCalCode,\r\n          pdBnftCumType: this.form_pdQuotaItem.pdBnftCumType,\r\n          pdBnftCumFrequency: this.form_pdQuotaItem.pdBnftCumFrequency,\r\n          pdBnftCumFrequencyUnit: this.form_pdQuotaItem.pdBnftCumFrequencyUnit,\r\n          pdBnftCtrlLimitFlag: this.form_pdQuotaItem.pdBnftCtrlLimitFlag\r\n        };\r\n        let pdtempClmCtrlLim = {\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdInfoId: this.pdtempPpInfo.id,\r\n          pdCode: this.pdtempPpInfo.pdCode,\r\n          pdName: this.pdtempPpInfo.pdName,\r\n          pdBnftCtrlOrder: this.form_pdQuotaItem.pdBnftCtrlOrder,\r\n          pdBnftCtrlLimCode: '',\r\n          pdBnftCtrlLimLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel\r\n        };\r\n        let pdtempClmCtrlRelas = [];\r\n        if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '1') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdType: '2',\r\n            pdBnftCtrlConCode: this.pdtempPpInfo.ppCode,\r\n            pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          };\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '3') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdType: '2',\r\n            pdBnftCtrlConCode: this.pdtempPpInfo.ppPlanCode,\r\n            pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          }\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '2') {\r\n          this.form_pdQuotaItem.comboList.forEach((val) => {\r\n            let pdClmInfoId =null;\r\n            for (const item of this.comboOptions) {\r\n              if(item.ppCode==val){\r\n                pdClmInfoId=item.id;\r\n                break\r\n              }\r\n            }\r\n            let temp = {\r\n              pdVerId: this.pdtempPpInfo.pdVerId,\r\n              operator: this.pdtempPpInfo.operator,\r\n              pdInfoId: this.pdtempPpInfo.id,\r\n              pdType: '2',\r\n              pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n              pdBnftCtrlConCode: val,\r\n              pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n              pdClmInfoId:pdClmInfoId\r\n            };\r\n            pdtempClmCtrlRelas.push(temp)\r\n          })\r\n        }\r\n        else {\r\n          this.form_pdQuotaItem.comboProgList.forEach((val) => {\r\n            let pdClmInfoId =null;\r\n            for (const item of this.comboProgOptions) {\r\n              if(item.ppPlanCode==val){\r\n                pdClmInfoId=item.id;\r\n                break\r\n              }\r\n            }\r\n            let temp = {\r\n              pdVerId: this.pdtempPpInfo.pdVerId,\r\n              operator: this.pdtempPpInfo.operator,\r\n              pdInfoId: this.pdtempPpInfo.id,\r\n              pdType: '2',\r\n              pdBnftCtrlConCode: val,\r\n              pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n              pdClmInfoId:pdClmInfoId\r\n            };\r\n            pdtempClmCtrlRelas.push(temp)\r\n          })\r\n        }\r\n        let data = {\r\n          pdtempClmCtrlMain,\r\n          pdtempClmCtrlLim,\r\n          pdtempClmCtrlRelas\r\n        };\r\n        saveObBnftForm(this.buildRequestData(data)).then((res) => {\r\n          this.notifySuccess(res.message);\r\n          this.findConfigsData().then(()=>{\r\n            this.checkAddedTax = []\r\n            for (let i = 0; i < this.pdDeductionList.length; i++) {\r\n              if(this.pdDeductionList[i].pdBnftCtrlCode==res.data[0].pdBnftCtrlCode){\r\n                this.checkAddedTax=this.pdDeductionList[i]\r\n                this.$refs.singleTable.toggleRowSelection(this.checkAddedTax);\r\n              }\r\n            }})\r\n        })\r\n\r\n      },\r\n      form_pdQuotaItem_update() {\r\n        if(this.form_pdQuotaItem.pdBnftCumType==1){\r\n          this.form_pdQuotaItem.pdBnftCumFrequency=''\r\n          this.form_pdQuotaItem.pdBnftCumFrequencyUnit=''\r\n        }\r\n        if(this.form_pdQuotaItem.pdBnftCtrlLimLevel==null\r\n          || this.form_pdQuotaItem.pdBnftCtrlLimLevel==undefined\r\n          || this.form_pdQuotaItem.pdBnftCtrlLimLevel == ''){\r\n          this.notifyError(\"限制级别不能为空，请选择限制级别\");\r\n          return\r\n        }\r\n        if((this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == null)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == undefined)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='2'&&this.form_pdQuotaItem.comboList == '')){\r\n          this.notifyError(\"关联套餐不能为空，请关联套餐\");\r\n          return\r\n        }\r\n        if((this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == null)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == undefined)\r\n          || (this.form_pdQuotaItem.pdBnftCtrlLimLevel=='4'&&this.form_pdQuotaItem.comboProgList == '')){\r\n          this.notifyError(\"关联套餐方案不能为空，请关联套餐方案\");\r\n          return\r\n        }\r\n        let pdtempClmCtrlMain = {\r\n          id:this.form_pdQuotaItem.id,\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdBnftCtrlLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n          pdBnftCtrlType: 'D',\r\n          pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n          pdBnftFactorType: this.form_pdQuotaItem.pdBnftFactorType,\r\n          pdBnftFactorValue:\r\n            this.form_pdQuotaItem.pdBnftFactorType == 1\r\n              ? this.form_pdQuotaItem.pdBnftFactorValue1\r\n              : this.form_pdQuotaItem.pdBnftFactorType == 2\r\n              ? this.form_pdQuotaItem.pdBnftFactorValue2\r\n              : this.form_pdQuotaItem.pdBnftFactorValueCalCode,\r\n          pdBnftFactorValueUnit:\r\n            this.form_pdQuotaItem.pdBnftFactorType == 1\r\n              ? 'R'\r\n              : this.form_pdQuotaItem.pdBnftFactorType == 2\r\n              ? 'D'\r\n              : 'T',\r\n          pdBnftFactorValueCalCode: this.form_pdQuotaItem.pdBnftFactorValueCalCode,\r\n          pdBnftCumType: this.form_pdQuotaItem.pdBnftCumType,\r\n          pdBnftCumFrequency: this.form_pdQuotaItem.pdBnftCumFrequency,\r\n          pdBnftCumFrequencyUnit: this.form_pdQuotaItem.pdBnftCumFrequencyUnit,\r\n          pdBnftCtrlLimitFlag: this.form_pdQuotaItem.pdBnftCtrlLimitFlag\r\n        }\r\n        let pdtempClmCtrlLim = {\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdInfoId: this.pdtempPpInfo.id,\r\n          pdCode: this.pdtempPpInfo.ppCode,\r\n          pdName: this.pdtempPpInfo.ppName,\r\n          pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n          pdBnftCtrlOrder: this.form_pdQuotaItem.pdBnftCtrlOrder,\r\n          pdBnftCtrlLimCode: 'D',\r\n          pdBnftCtrlLimLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel\r\n        }\r\n        let pdtempClmCtrlRelas = []\r\n        if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '1') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdType: '2',\r\n            pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n            pdBnftCtrlConCode: this.form_pdQuotaItem.pdBnftCtrlConCode,\r\n            pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          }\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '3') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdType: '2',\r\n            pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n            pdBnftCtrlConCode: this.pdtempPpInfo.ppPlanCode,\r\n            pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          }\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else if (this.form_pdQuotaItem.pdBnftCtrlLimLevel == '2') {\r\n          this.form_pdQuotaItem.comboList.forEach((val) => {\r\n            let pdClmInfoId =null;\r\n            for (const item of this.comboOptions) {\r\n              if(item.ppCode==val){\r\n                pdClmInfoId=item.id;\r\n                break\r\n              }\r\n            }\r\n            let temp = {\r\n              pdVerId: this.pdtempPpInfo.pdVerId,\r\n              operator: this.pdtempPpInfo.operator,\r\n              pdInfoId: this.pdtempPpInfo.id,\r\n              pdType: '2',\r\n              pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n              pdBnftCtrlConCode: val,\r\n              pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n              pdClmInfoId:pdClmInfoId\r\n            };\r\n            pdtempClmCtrlRelas.push(temp)\r\n          })\r\n        }\r\n        else {\r\n          this.form_pdQuotaItem.comboProgList.forEach((val) => {\r\n            let pdClmInfoId =null;\r\n            for (const item of this.comboProgOptions) {\r\n              if(item.ppPlanCode==val){\r\n                pdClmInfoId=item.id;\r\n                break\r\n              }\r\n            }\r\n            let temp = {\r\n              pdVerId: this.pdtempPpInfo.pdVerId,\r\n              operator: this.pdtempPpInfo.operator,\r\n              pdInfoId: this.pdtempPpInfo.id,\r\n              pdType: '2',\r\n              pdBnftCtrlCode: this.form_pdQuotaItem.pdBnftCtrlCode,\r\n              pdBnftCtrlConCode: val,\r\n              pdBnftCtrlConLevel: this.form_pdQuotaItem.pdBnftCtrlLimLevel,\r\n              pdClmInfoId:pdClmInfoId\r\n            };\r\n            pdtempClmCtrlRelas.push(temp)\r\n          })\r\n        }\r\n        let data = {\r\n          pdtempClmCtrlMain,\r\n          pdtempClmCtrlLim,\r\n          pdtempClmCtrlRelas\r\n        };\r\n        updateObBnftForm(this.buildRequestData(data)).then((res) => {\r\n          this.notifySuccess(res.message);\r\n          this.findConfigsData().then(()=>{\r\n            this.checkAddedTax = []\r\n            for (let i = 0; i < this.pdDeductionList.length; i++) {\r\n              if(this.pdDeductionList[i].pdBnftCtrlCode==res.data[0].pdBnftCtrlCode){\r\n                this.checkAddedTax=this.pdDeductionList[i]\r\n                this.$refs.singleTable.toggleRowSelection(this.checkAddedTax);\r\n              }\r\n            }})\r\n        })\r\n      },\r\n      form_pdQuotaItem_delete() {\r\n        let data = {\r\n          pdBnftCtrlCodes:[this.form_pdQuotaItem.pdBnftCtrlCode]\r\n        };\r\n        deleteObBnftForm(this.buildRequestData(data)).then((res) => {\r\n          this.notifySuccess(res.message);\r\n          this.findConfigsData()\r\n          this.form_pdQuotaItem_refresh()\r\n        })\r\n      },\r\n      deleteMoreTax() {\r\n        console.log(this.checkAddedTax);\r\n        let pdBnftCtrlCodes = this.checkAddedTax.map((item,index)=>{\r\n\r\n            return Object.assign({},{'pdBnftCtrlCode':item.pdBnftCtrlCode})\r\n          })\r\n        let data = {\r\n          pdBnftCtrlCodes\r\n        };\r\n        deleteObBnftForm(this.buildRequestData(data)).then(() => {\r\n          this.notifySuccess(this.$t('successMessage.delete'))\r\n          this.findConfigsData()\r\n          this.form_pdQuotaItem_refresh()\r\n        });\r\n\r\n      },\r\n      form_pdQuotaItem_refresh() {\r\n        this.$refs.singleTable.clearSelection();\r\n        this.form_pdQuotaItem = {\r\n          id:'',\r\n          pdBnftCtrlCode: '',\r\n          pdBnftCtrlType: '',\r\n          pdBnftCtrlOrder: '',\r\n          pdBnftFactorType: '',\r\n          pdBnftFactorValue: '',\r\n          pdBnftCtrlLimLevel: '',\r\n          pdBnftCtrlConCode: [],\r\n          comboList: [],\r\n          comboProgList: [],\r\n          pdBnftCumFrequency: '',\r\n          pdBnftFactorValue1: '',\r\n          pdBnftFactorValue2: '',\r\n          pdBnftFactorValue3: '',\r\n          pdBnftCumType: '',\r\n          pdBnftCumFrequencyUnit: '',\r\n          pdBnftCtrlLimitFlag: '',\r\n          pdBnftFactorValueCalCode: ''\r\n        };\r\n      },\r\n      connDeductible(row) {\r\n        let pdtempClmCtrlMain = {\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdBnftCtrlLevel: row.pdBnftCtrlLimLevel,\r\n          pdBnftCtrlType: 'L',\r\n          pdBnftFactorType: row.pdBnftFactorType,\r\n          pdBnftFactorValue: row.pdBnftFactorValue,\r\n          pdBnftFactorValueUnit: row.pdBnftFactorValueUnit,\r\n          pdBnftFactorValueCalCode: row.pdBnftFactorValueCalCode,\r\n          pdBnftCumType: row.pdBnftCumType,\r\n          pdBnftCumFrequency: row.pdBnftCumFrequency,\r\n          pdBnftCumFrequencyUnit: row.pdBnftCumFrequencyUnit,\r\n          pdBnftCtrlLimitFlag: row.pdBnftCtrlLimitFlag\r\n        };\r\n        let pdtempClmCtrlLim = {\r\n          pdVerId: this.pdtempPpInfo.pdVerId,\r\n          operator: this.pdtempPpInfo.operator,\r\n          pdType: '2',\r\n          pdInfoId: this.pdtempPpInfo.id,\r\n          pdCode: this.pdtempPpInfo.pdCode,\r\n          pdName: this.pdtempPpInfo.pdName,\r\n          pdBnftCtrlOrder: row.pdBnftCtrlOrder,\r\n          pdBnftCtrlLimCode: '',\r\n          pdBnftCtrlLimLevel: row.pdBnftCtrlLimLevel\r\n        };\r\n        let pdtempClmCtrlRelas = [];\r\n        if (row.pdBnftCtrlLimLevel == '1') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdBnftCtrlConCode: this.pdtempPpInfo.ppCode,\r\n            pdBnftCtrlConLevel: row.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          };\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else if (row.pdBnftCtrlLimLevel == '3') {\r\n          let temp = {\r\n            pdVerId: this.pdtempPpInfo.pdVerId,\r\n            operator: this.pdtempPpInfo.operator,\r\n            pdInfoId: this.pdtempPpInfo.id,\r\n            pdBnftCtrlConCode: this.pdtempPpInfo.ppPlanCode,\r\n            pdBnftCtrlConLevel: row.pdBnftCtrlLimLevel,\r\n            pdClmInfoId:this.pdtempPpInfo.id\r\n          };\r\n          pdtempClmCtrlRelas.push(temp)\r\n        }\r\n        else {\r\n          row.pdtempClmCtrlLimRelaListVo.forEach((val) => {\r\n            let temp = {\r\n              pdVerId: this.pdtempPpInfo.pdVerId,\r\n              operator: this.pdtempPpInfo.operator,\r\n              pdInfoId: this.pdtempPpInfo.id,\r\n              pdBnftCtrlConCode: val,\r\n              pdBnftCtrlConLevel: row.pdBnftCtrlLimLevel,\r\n              pdClmInfoId:val.id\r\n            };\r\n            pdtempClmCtrlRelas.push(temp)\r\n          });\r\n        }\r\n        let data = {\r\n          pdtempClmCtrlMain,\r\n          pdtempClmCtrlLim,\r\n          pdtempClmCtrlRelas\r\n        };\r\n        saveObBnftForm(this.buildRequestData(data)).then((res) => {\r\n          this.notifySuccess(res.message);\r\n          this.findConfigsData();\r\n        })\r\n      },\r\n      checkComboDeductibleTable(val) {\r\n        this.checkAddedTax = val\r\n        this.showDeteleButton = false\r\n        if(val[0].pdBnftFactorType==1){\r\n          this.form_pdQuotaItem.pdBnftFactorValue1=val[0].pdBnftFactorValue\r\n        }else if(val[0].pdBnftFactorType==2){\r\n          this.form_pdQuotaItem.pdBnftFactorValue2=val[0].pdBnftFactorValue\r\n        }\r\n        this.$nextTick(() => {\r\n          if (this.checkAddedTax.length == 1) {\r\n            Object.assign(this.form_pdQuotaItem, val[0]);\r\n            this.showDeteleButton = true;\r\n            let levelValue = this.form_pdQuotaItem.pdBnftCtrlLimLevel;\r\n            if (levelValue === '2') {\r\n              this.form_pdQuotaItem.comboList = [];\r\n              this.comboOptions = [];\r\n              for (const item of val[0].pdtempClmCtrlLimRelaListVo) {\r\n                this.form_pdQuotaItem.comboList.push(item.pdBnftCtrlConCode);\r\n                this.comboOptions.push({\r\n                  id:item.pdClmInfoId,\r\n                  ppCode: item.pdBnftCtrlConCode,\r\n                  ppName: item.pdBnftCtrlConName\r\n                })\r\n              }\r\n            }\r\n            if (levelValue === '4') {\r\n              this.form_pdQuotaItem.comboProgList = [];\r\n              this.comboProgOptions = [];\r\n              for (const item of val[0].pdtempClmCtrlLimRelaListVo) {\r\n                this.form_pdQuotaItem.comboProgList.push(item.pdBnftCtrlConCode);\r\n                this.comboProgOptions.push({\r\n                  id:item.pdClmInfoId,\r\n                  ppPlanCode: item.pdBnftCtrlConCode,\r\n                  ppPlanName: item.pdBnftCtrlConName\r\n                })\r\n              }\r\n            }\r\n            this.changeOption()\r\n          } else if (this.checkAddedTax.length == 0) {\r\n            this.form_pdQuotaItem_refresh()\r\n          }\r\n        })\r\n      },\r\n      findComboList() {\r\n        findComboList().then(res => {\r\n          this.comboVoOptions = res.data\r\n        });\r\n      },\r\n      changeOption() {\r\n        this.$forceUpdate()\r\n      },\r\n      //弹窗返回主页面\r\n      backToFeeBill(flag, selectedItemList) {\r\n        //套餐\r\n        if (flag === 'combo') {\r\n          this.showComboMore = false;\r\n          this.selectComboList(selectedItemList)\r\n        }\r\n        //方案\r\n        else if (flag === 'comboProg') {\r\n          this.showComboProgMore = false;\r\n          this.selectComboProgList(selectedItemList)\r\n        }\r\n        this.changeOption()\r\n      },\r\n      //产品套餐下拉选\r\n      selectComboList(selectedItemList) {\r\n        this.form_pdQuotaItem.comboList = [];\r\n        this.comboOptions = [];\r\n        for (const item of selectedItemList) {\r\n          this.form_pdQuotaItem.comboList.push(item.ppCode);\r\n          this.comboOptions.push(item)\r\n        }\r\n\r\n      },\r\n      //关联方案下拉选\r\n      selectComboProgList(selectedItemList) {\r\n        this.form_pdQuotaItem.comboProgList = [];\r\n        this.comboProgOptions = [];\r\n        for (const item of selectedItemList) {\r\n          this.form_pdQuotaItem.comboProgList.push(item.ppPlanCode);\r\n          this.comboProgOptions.push(item)\r\n        }\r\n\r\n      },\r\n      backToMenu() {\r\n        this.$router.push({name: '产品套餐核赔定义', params: {}})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .showDiv {\r\n    width: 90%;\r\n    height: 100%;\r\n    margin-top: -40px;\r\n    margin-left: -40px;\r\n    position: absolute;\r\n    background: #ffffff00;\r\n    z-index: 999;\r\n  }\r\n\r\n</style>\r\n\r\n"]}]}
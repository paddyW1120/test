{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\file-comparison.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\file-comparison.vue","mtime":1609847107206},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IHVwbG9hZEZpbGVUb0NvbXBhcmlzb24gfSBmcm9tICdAL2FwaS93b3JrZmxvdy93b3JrZmxvdycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnY2VpbGluZycsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzRml4ZWQ6IGZhbHNlLA0KICAgICAgY29tcGFyZVRpbWVzOiAnJywNCiAgICAgIGZpbGVMaXN0OiBbXQ0KDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0ZXN0Q2FzZVVwbG9hZCgpIHsNCiAgICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfor7fpgInmi6nkuIrkvKDnmoTmlofku7YnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGZvcm1EYXRhID0gdGhpcy51cGxvYWRVdGlsKHRoaXMuZmlsZUxpc3QpDQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29tcGFyZVRpbWVzJywgdGhpcy5jb21wYXJlVGltZXMpDQogICAgICAgIHVwbG9hZEZpbGVUb0NvbXBhcmlzb24oZm9ybURhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLmRvd25sb2FkUmVzcG9uc2VGaWxlKHJlcywgJ0NvbXBhcmVfUmVzdWx0c18nICsgdGhpcy5nZXRDdXJyZW50RGF0ZVN0cigneXl5eS1NTS1kZCBoaDptbTpzcycpICsgJy54bHN4JykNCiAgICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5paH5Lu254q25oCB5pS55Y+Y5pe255qE6ZKp5a2Q77yM5re75Yqg5paH5Lu244CB5LiK5Lyg5oiQ5Yqf5ZKM5LiK5Lyg5aSx6LSl5pe26YO95Lya6KKr6LCD55SoDQogICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMSkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVMaXN0Lmxlbmd0aCAtIDE7IGkrKykgew0KICAgICAgICAgIGlmIChmaWxlLm5hbWUgPT09IGZpbGVMaXN0W2ldLm5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOaWh+S7tuWQjeS4jeiDvemHjeWkjSEnLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZpbGVMaXN0LnBvcCgpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3QNCiAgICAgIC8v5Yik5pat5paH5Lu25aSn5bCPDQogICAgICBpZiAoIShmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwKSkgew0KICAgICAgICAvLyB0aGlzLiRyZWZzLmZpbGVVcGxvYWQuY2xlYXJGaWxlcygpDQogICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgdGl0bGU6ICfplJnor68nLA0KICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmlofku7blpKflsI/kuI3og73otoXov4cgMTBNQiEnLA0KICAgICAgICAgIGR1cmF0aW9uOiA1MDANCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICB9DQogICAgLA0KICAgIC8v5paH5Lu26LaF5Ye65Liq5pWw6ZmQ5Yi25pe255qE6ZKp5a2QDQogICAgaGFuZGxlRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy4kbm90aWZ5Lndhcm5pbmcoew0KICAgICAgICB0aXRsZTogJ+aPkOekuicsDQogICAgICAgIG1lc3NhZ2U6ICfmnIDlpJrkuIrkvKDkuInkuKrmlofku7Ys5pu/5o2i6K+35YWI56e76Zmk77yBJywNCiAgICAgICAgZHVyYXRpb246IDEwMDANCiAgICAgIH0pDQogICAgfQ0KICAgICwNCiAgICBoYW5kbGVSZXN1bHQocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykgew0KDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDkuIrkvKDmlofku7blpLHotKVgKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3QNCiAgICB9DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgfQ0KfQ0K"},{"version":3,"sources":["file-comparison.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"file-comparison.vue","sourceRoot":"src/views/test","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n\r\n    <el-divider content-position=\"left\">{{$t('i18nView.fileCompare')}}</el-divider>\r\n\r\n\r\n    <div class=\"divclass\" align=\"left\">\r\n      <div style=\"margin-left: 18px;margin-top: 18px;margin-bottom: 18px\">\r\n        <el-form id=\"uploadForm\" label-width=\"auto\">\r\n          <el-row>\r\n            <el-col :span=\"8\">\r\n              <el-form-item :label=\"$t('i18nView.comparedMumber')\">\r\n                <el-input v-model=\"compareTimes\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item>\r\n            <el-row>\r\n              <el-col :span=\"16\">\r\n                <el-upload :auto-upload=\"false\" :file-list=\"fileList\" :on-change=\"handleChange\"\r\n                           :on-remove=\"handleRemove\"\r\n                           action=\"\" drag multiple :limit=\"2\" ref=\"upload\">\r\n                  <i class=\"el-icon-upload\"></i>\r\n                  <div class=\"el-upload__text\">{{$t('i18nView.uploadText1')}}<em>{{$t('i18nView.uploadText2')}}</em></div>\r\n                  <div class=\"el-upload__text\">{{$t('i18nView.chooseOverClick')}}\"{{ $t('table.upload') }}\"{{$t('i18nView.button')}}</div>\r\n                  <div class=\"el-upload__tip\" slot=\"tip\">{{$t('i18nView.onlyUploadModelFile')}}</div>\r\n                </el-upload>\r\n              </el-col>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <el-row style=\"margin-top: 35px;margin-left: 20px\">\r\n      <el-col :span=\"24\" align=\"left\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"testCaseUpload\" icon=\"el-icon-upload\" style=\"width: 130px\">\r\n          {{ $t('claimTestCaseDef.upload') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { uploadFileToComparison } from '@/api/workflow/workflow'\r\n\r\nexport default {\r\n  name: 'ceiling',\r\n  data() {\r\n    return {\r\n      isFixed: false,\r\n      compareTimes: '',\r\n      fileList: []\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError('请选择上传的文件')\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList)\r\n        formData.append('compareTimes', this.compareTimes)\r\n        uploadFileToComparison(formData).then(res => {\r\n          this.downloadResponseFile(res, 'Compare_Results_' + this.getCurrentDateStr('yyyy-MM-dd hh:mm:ss') + '.xlsx')\r\n          this.$refs.upload.clearFiles()\r\n        })\r\n      }\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: '上传文件名不能重复!',\r\n              duration: 2000\r\n            })\r\n            fileList.pop()\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '上传文件大小不能超过 10MB!',\r\n          duration: 500\r\n        })\r\n        return\r\n      }\r\n\r\n    }\r\n    ,\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: '提示',\r\n        message: '最多上传三个文件,替换请先移除！',\r\n        duration: 1000\r\n      })\r\n    }\r\n    ,\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n\r\n      } else {\r\n        this.$message.error(`上传文件失败`)\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    }\r\n  },\r\n  destroyed() {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\bnft-formula\\bnftAmountFormulaSelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\bnft-formula\\bnftAmountFormulaSelect\\index.vue","mtime":1609847106519},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2Fzc29jaWF0ZSwgZmluZEFsbFByb2R1Y3RCeURldGFpbFR5cGUsIGZpbmRCbmZ0fSBmcm9tICJAL2FwaS9iYXNpY2luZm8vYm5mdEFtb3VudEZvcm11bGEiDQppbXBvcnQge2dldFJ1bGVDb2RlfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRpbnN1YWdlaW5mbyINCmltcG9ydCB7ZmluZEJuZnREdHRhaWxCeUJuZnR9IGZyb20gJ0AvYXBpL2Jhc2ljaW5mby9hY2NlcHRJbnN1cmFuY2VSdWxlcycNCg0KbGV0IF90aGlzDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2JuZnRGb3JtdWxhU2VsZWN0JywNCiAgcHJvcHM6IHsNCiAgICBndWFyYW50ZWVEZXRhaWxzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0sDQogICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogdW5kZWZpbmVkDQogICAgfSwNCiAgICBwZFV3U2lUeXBlT3B0aW9uczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIHBkQm5mdE9wdGlvbnM6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfSwNCiAgICBwcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm86IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgZmlsdGVyc19wZENvZGU6IFtdLA0KICAgICAgYXR0cmlidXRlT2JqOiB7fSwNCiAgICAgIGZvcm11bGFWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGZvcm11bGFWaWV3OiB7DQogICAgICAgIGZsYWc6ICcnLA0KICAgICAgICBydWxlQ29kZTogJycsDQogICAgICAgIHBlcmZvcm1UeXBlOiAnJywNCiAgICAgICAgdmlzaWJsZTogZmFsc2UNCiAgICAgIH0sDQogICAgICBwcm9kdWN0OiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGJUeXBlOiAnJywNCiAgICAgICAgY1R5cGU6ICcnLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZEVkaXRpb246ICcnLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkU2FsZWNobmw6ICcnLA0KICAgICAgICBwZE5hbWU6ICcnLA0KICAgICAgICBwZFNob3J0bmFtZTogJycsDQogICAgICAgIHBkRW5OYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRTdGFydERhdGVSdWxlOiAnJywNCiAgICAgICAgcGRTdGFydERhdGVNb2RlOiAnJywNCiAgICAgICAgcGRTdGFydFBlcmlvZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFN0YXJ0UGVyaW9kVW5pdDogJycsDQogICAgICAgIHBkRW5kRGF0ZVJ1bGU6ICcnLA0KICAgICAgICBwZEVuZERhdGVNb2RlOiAnJywNCiAgICAgICAgcGRFbmRQZXJpb2Q6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRFbmRQZXJpb2RVbml0OiAnJywNCiAgICAgICAgcGRHcmFjZVBlcmlvZDogdW5kZWZpbmVkLA0KICAgICAgICBwZE9ic2VydmF0aW9uRGF5OiB1bmRlZmluZWQsDQogICAgICAgIHBkQXBwbERhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRTdGFydERhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRTdG9wRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIGZvcm1fcnVsZTogew0KICAgICAgICBydWxlQnVzc01vZHVEZXRhOiAnJywNCiAgICAgICAgZGVzY3JpcHRpb246ICcnDQogICAgICB9LA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHByb2R1Y3Q6IHVuZGVmaW5lZCwNCiAgICAgICAgY3VycmVudF9wZEJ1c3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBlcV9wcm9kdWN0RGV0YWlsVHlwZTogJycsDQogICAgICAgIGVxX3BkSW5mb0lkOiB1bmRlZmluZWQsDQogICAgICAgIGVxX3BkQnVzc0RldGFpbFR5cGU6ICcnLA0KICAgICAgICBlcV9wZEJuZnRJZDogJycsDQogICAgICAgIGVxX3BkQm5mdERUSWQ6ICcnLA0KICAgICAgICBsaWtlX3BkQ2FsY0NvZGU6ICcnDQogICAgICB9LA0KICAgICAgcGRVd1NpVHlwZTogJycsDQogICAgICB0YWJsZURhdGFfZm9ybXVsYTogW10sDQogICAgICBwcm9kdWN0T3B0aW9uTGlzdDogW10sLy/kuqflk4HmlbDnu4QNCiAgICAgIE9wdGlvbnMxOiBbXSwvL+S/nemanOaVsOe7hA0KICAgICAgT3B0aW9uczI6IFtdLC8v5L+d6Zqc5piO57uG5pWw57uEDQogICAgICBydWxlVGFibGU6IFtdLA0KICAgICAgc2VsZWN0ZWRGb3JtdWxhOiB7fSwNCiAgICAgIGNvbHVtbkRldGFpbHM6IHt9LA0KICAgICAgcHJvZHVjdEJuZnRGb3JtOiB7DQogICAgICAgIHByb2R1Y3Q6ICcnLA0KICAgICAgICBwcm9kdWN0VHlwZTogJycsDQogICAgICAgIHByb2R1Y3RCaWdUeXBlOiAnJywNCiAgICAgICAgYm5mdFR5cGU6ICcnLA0KICAgICAgICBibmZ0RHRUeXBlOiAnJywNCiAgICAgICAgYm5mdDogJycsDQogICAgICAgIGJuZnREdDogJycsDQogICAgICAgIEV4cHJlc3Npb25UeXBlOiAnJywNCiAgICAgICAgYXBwb2ludFByb2R1Y3Q6ICcnLA0KICAgICAgICBhcHBvaW50Qm5mdDogJycsDQogICAgICAgIGFwcG9pbnRCbmZ0RFQ6ICcnLA0KICAgICAgICBhcHBvaW50RXhwcmVzc2lvblR5cGU6ICcnLA0KICAgICAgICBwZENhbGNDb2RlOiAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBydWxlVGFibGUoKSB7DQogICAgICAvLyBwZENvZGUg562b6YCJDQogICAgICB0aGlzLmZpbHRlcnNfcGRDb2RlID0gW10NCiAgICAgIGZvciAoY29uc3Qgcm93IG9mIHRoaXMucnVsZVRhYmxlKSB7DQogICAgICAgIGlmICghcm93LnBkQ29kZSkgY29udGludWUNCiAgICAgICAgbGV0IGZpbHRlckl0ZW0gPSB7dGV4dDogJycsIHZhbHVlOiAnJ30NCiAgICAgICAgZmlsdGVySXRlbS50ZXh0ID0gcm93LnBkQ29kZSArICc6JyArIHJvdy5wZE5hbWUNCiAgICAgICAgZmlsdGVySXRlbS52YWx1ZSA9IHJvdy5wZENvZGUNCiAgICAgICAgaWYgKCF0aGlzLl8uaW5jbHVkZXModGhpcy5fLm1hcCh0aGlzLmZpbHRlcnNfcGRDb2RlLCAndmFsdWUnKSwgZmlsdGVySXRlbS52YWx1ZSkpIHsNCiAgICAgICAgICB0aGlzLmZpbHRlcnNfcGRDb2RlLnB1c2goZmlsdGVySXRlbSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmluaXRQcm9kdWN0SW5mbygpDQogICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJvZHVjdCA9IHRoaXMucHJvZHVjdC5wZENvZGUgKyAiOiIgKyB0aGlzLnByb2R1Y3QuaWQNCiAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0RHRUeXBlID0gdGhpcy5ndWFyYW50ZWVEZXRhaWxzDQogICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uRXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUNCiAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50RXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUNCiAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0VHlwZSA9IHRoaXMuZ3VhcmFudGVlRGV0YWlsc1swXQ0KICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnBkVXdTaVR5cGVPcHRpb25zKS5sZW5ndGggPiAwKSB7DQogICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0ID0gdGhpcy5wZFV3U2lUeXBlT3B0aW9ucy5wZEJuZnRDb2RlICsgIjoiICsgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucy5wZEJuZnRUeXBlICsgIjoiICsgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucy5pZA0KICAgIH0NCiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5wZEJuZnRPcHRpb25zKS5sZW5ndGggPiAwKSB7DQogICAgICBpZiAodGhpcy5ndWFyYW50ZWVEZXRhaWxzWzBdID09PSAnQycpIHsNCiAgICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYm5mdER0ID0gdGhpcy5wZEJuZnRPcHRpb25zLnBkQ2xtQm5mdENvZGUgKyAnOicgKyB0aGlzLnBkQm5mdE9wdGlvbnMuaWQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmJuZnREdCA9IHRoaXMucGRCbmZ0T3B0aW9ucy5wZFNydmxCbmZ0Q29kZSArICc6JyArIHRoaXMucGRCbmZ0T3B0aW9ucy5pZA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJ1bGVNb2R1bGVDbG9zZWQoKSB7DQogICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCkNCiAgICB9LA0KICAgIHJ1bGVNYWtlQ2xvc2VkKCkgew0KICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2UNCiAgICB9LA0KICAgIGJhY2soKSB7DQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QyJywgZmFsc2UpDQogICAgfSwNCiAgICBwcm9kdWN0RGV0YWlsVHlwZUNoYW5nZWQodmFsKSB7DQogICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJvZHVjdCA9ICcnDQogICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gW10NCiAgICAgIGZpbmRBbGxQcm9kdWN0QnlEZXRhaWxUeXBlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7cHJvZHVjdERldGFpbFR5cGU6IHZhbH0pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5wcm9kdWN0T3B0aW9uTGlzdCA9IHJlc3BvbnNlLmRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aYvuekuuS/nemanOmhueaVsOe7hA0KICAgIGZpbmRCbmZ0QnlJZEModmFsKSB7DQogICAgICB0aGlzLk9wdGlvbnMxID0gW10NCiAgICAgIHRoaXMuT3B0aW9uczIgPSBbXQ0KICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludEJuZnQgPSAnJw0KICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludEJuZnREVCA9ICcnDQogICAgICBpZiAodmFsKSB7DQogICAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgICAgcGRJbmZvSWQ6IHZhbCwNCiAgICAgICAgICBwZEJuZnRUeXBlOiB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0RHRUeXBlWzBdLA0KICAgICAgICAgIHBkQm5mdERldGFpbFR5cGU6IHRoaXMucHJvZHVjdEJuZnRGb3JtLmJuZnREdFR5cGVbMV0NCiAgICAgICAgfQ0KICAgICAgICBmaW5kQm5mdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgIHRoaXMuT3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgIGtleTogdmFsLnBkQm5mdENvZGUsDQogICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRCbmZ0Q29kZSArICI6IiArIHZhbC5wZEJuZnRUeXBlICsgIjoiICsgdmFsLmlkLA0KICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQm5mdENvZGUgKyAiOiIgKyB2YWwucGRCbmZ0TmFtZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0Q2FwdGlvbihvYmosIHN0YXRlKSB7DQogICAgICBjb25zdCBpbmRleCA9IG9iai5sYXN0SW5kZXhPZigiOiIpDQogICAgICBpZiAoc3RhdGUgPT09IDApIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoMCwgaW5kZXgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gb2JqLnN1YnN0cmluZyhpbmRleCArIDEsIG9iai5sZW5ndGgpDQogICAgICB9DQogICAgfSwNCiAgICBpbml0UHJvZHVjdEluZm8oKSB7DQogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgICAgaWYgKE9iamVjdC5rZXlzKHBkdGVtcFBkSW5mbykubGVuZ3RoID4gMCkgew0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucHJvZHVjdCwgcGR0ZW1wUGRJbmZvKQ0KICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0QmlnVHlwZSA9IHRoaXMucHJvZHVjdC5iVHlwZQ0KICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0VHlwZSA9IHRoaXMucHJvZHVjdC5jVHlwZQ0KICAgICAgICB0aGlzLnByb2R1Y3REZXRhaWxUeXBlQ2hhbmdlZCh0aGlzLnByb2R1Y3QuY1R5cGUpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3J1bGUuaW52YWxpZFByb2R1Y3RJbmZvJykpDQogICAgICB9DQogICAgfSwNCiAgICAvL+aYvuekuuS/nemanOaYjue7humhueaVsOe7hA0KICAgIGZpbmRCbmZ0RHR0YWlsQnlCbmZ0KHJvdykgew0KICAgICAgdGhpcy5PcHRpb25zMiA9IFtdDQogICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50Qm5mdERUID0gJycNCiAgICAgIGlmICghdGhpcy5wZEJuZnRPcHRpb25zLmlkKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHJvdykgew0KICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICBwZEJuZnRDb2RlOiB0aGlzLmdldENhcHRpb24odGhpcy5nZXRDYXB0aW9uKHJvdywgMCksIDApLA0KICAgICAgICAgIHBkQm5mdFR5cGU6IHRoaXMuZ2V0Q2FwdGlvbih0aGlzLmdldENhcHRpb24ocm93LCAwKSwgMSkNCiAgICAgICAgfQ0KICAgICAgICBmaW5kQm5mdER0dGFpbEJ5Qm5mdChkYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQ0KICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q2FwdGlvbih0aGlzLmdldENhcHRpb24ocm93LCAwKSwgMSkgPT09ICdDJykgew0KICAgICAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLk9wdGlvbnMyLnB1c2goew0KICAgICAgICAgICAgICAgICAga2V5OiB2YWwucGRDbG1CbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRDbG1CbmZ0Q29kZSArICc6JyArIHZhbC5pZCwNCiAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRDbG1CbmZ0Q29kZSArICI6IiArIHZhbC5wZENsbUJuZnROYW1lDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGRhdGEuZm9yRWFjaCh2YWwgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuT3B0aW9uczIucHVzaCh7DQogICAgICAgICAgICAgICAgICBrZXk6IHZhbC5wZFNydmxCbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRTcnZsQm5mdENvZGUgKyAnOicgKyB2YWwuaWQsDQogICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkU3J2bEJuZnRDb2RlICsgIjoiICsgdmFsLnBkU3J2bEJuZnROYW1lDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBzaG93Rm9ybXVsYShyb3cpIHsNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJw0KICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IHJvdy5wZENhbGNDb2RlDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICAvL+WIhumhteS8oOi+k+aVsOaNrg0KICAgICAgdGhpcy5wYXJhbXMucHJvZHVjdCA9IHRoaXMucHJvZHVjdA0KICAgICAgdGhpcy5wYXJhbXMuY3VycmVudF9wZEJ1c3NJZCA9IHRoaXMucGRCbmZ0T3B0aW9ucy5pZCA/IHRoaXMucGRCbmZ0T3B0aW9ucy5pZCA6IHRoaXMucGRVd1NpVHlwZU9wdGlvbnMuaWQNCiAgICAgIHRoaXMucGFyYW1zLmVxX3Byb2R1Y3REZXRhaWxUeXBlID0gdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJvZHVjdFR5cGUNCiAgICAgIHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByb2R1Y3QNCiAgICAgIHRoaXMucGFyYW1zLmVxX3BkQnVzc0RldGFpbFR5cGUgPSB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50RXhwcmVzc2lvblR5cGUNCiAgICAgIHRoaXMucGFyYW1zLmVxX3BkQm5mdElkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50Qm5mdCwgMSksIDEpDQogICAgICB0aGlzLnBhcmFtcy5lcV9wZEJuZnREVElkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLmFwcG9pbnRCbmZ0RFQsIDEpDQogICAgICB0aGlzLnBhcmFtcy5saWtlX3BkQ2FsY0NvZGUgPSB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wZENhbGNDb2RlDQogICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkNCiAgICB9LA0KICAgIHRvQWRkRm9ybXVsYSgpIHsNCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBwZEJ1c3NUeXBlOiAnMicsDQogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6IHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZQ0KICAgICAgfQ0KICAgICAgaWYgKCF0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUpIHsNCiAgICAgICAgcGFyYW0ucGRCdXNzRGV0YWlsVHlwZSA9IHRoaXMucHJvZHVjdEJuZnRGb3JtLkV4cHJlc3Npb25UeXBlDQogICAgICB9DQogICAgICBnZXRSdWxlQ29kZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmogPSB7DQogICAgICAgICAgY29kZTogcmVzcG9uc2UuZGF0YSwNCiAgICAgICAgICBydWxlQnVzc01vZHU6ICcyJywNCiAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsDQogICAgICAgICAgcnVsZVR5cGU6ICcyJywNCiAgICAgICAgICBydWxlQXR0cjogJzInLA0KICAgICAgICAgIHBkVHlwZTogJzEnLA0KICAgICAgICAgIHJpc2tUeXBlOiB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0QmlnVHlwZSwNCiAgICAgICAgICByaXNrRGV0YWlsOiB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0VHlwZSwNCiAgICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsDQogICAgICAgICAgcGRFZGl0aW9uOiB0aGlzLnByb2R1Y3QucGRFZGl0aW9uDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IHRydWUNCiAgICAgIH0pDQogICAgfSwNCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5wcm9kdWN0Qm5mdEZvcm0uaWQpIHsNCiAgICAgICAgICB0aGlzLmNvbHVtbkRldGFpbHMgPSByb3cNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0Rm9ybXVsYShyb3cpIHsNCiAgICAgIGxldCBQZHRlbXBQZENhbGMgPSB7DQogICAgICAgIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsDQogICAgICAgIHBkVmVySWQ6IHRoaXMucHJvZHVjdC5wZFZlcklkLA0KICAgICAgICBwZFR5cGU6ICcnLA0KICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsDQogICAgICAgIHBkQnVzc1R5cGU6ICcyJywNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlLA0KICAgICAgICBwZEJ1c3NJZDogJycsDQogICAgICAgIHBkQnVzc0NvZGU6ICcnLA0KICAgICAgICBwZFN0cnVjdHVyZVR5cGU6ICcnLA0KICAgICAgICBwZENhbGNDb2RlOiByb3cucGRDYWxjQ29kZSwNCiAgICAgICAgcGRDYWxjRGVzYzogcm93LnBkQ2FsY0Rlc2MNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0RHQpIHsNCiAgICAgICAgaWYgKHRoaXMucHJvZHVjdEJuZnRGb3JtLmJuZnRUeXBlID09PSAnQycpIHsNCiAgICAgICAgICBQZHRlbXBQZENhbGMucGRTdHJ1Y3R1cmVUeXBlID0gJzAyJw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMDQnDQogICAgICAgIH0NCiAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0lkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLmJuZnREdCwgMSkNCiAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0NvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uYm5mdER0LCAwKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgUGR0ZW1wUGRDYWxjLnBkU3RydWN0dXJlVHlwZSA9ICcwMScNCiAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0lkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLmJuZnQsIDEpDQogICAgICAgIFBkdGVtcFBkQ2FsYy5wZEJ1c3NDb2RlID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0LCAwKSwgMCkNCiAgICAgIH0NCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBzZWxlY3RlZEZvcm11bGE6IHJvdywNCiAgICAgICAgcGR0ZW1wUGRDYWxjOiBQZHRlbXBQZENhbGMsDQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgcGRCdXNzVHlwZTogJzInLA0KICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsDQogICAgICAgIG5lZWRDaGVja2luZzogdHJ1ZQ0KICAgICAgfQ0KICAgICAgYXNzb2NpYXRlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBsZXQgc3VjY2Vzc0ZsYWcgPSByZXNwb25zZS5kYXRhLmZsYWcNCiAgICAgICAgbGV0IHBkdGVtcFBkQ2FsYyA9IHJlc3BvbnNlLmRhdGEucGR0ZW1wUGRDYWxjDQogICAgICAgIGlmIChzdWNjZXNzRmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdydWxlLmFzc29jaWF0aW9uU3VjY2VzcycpKQ0KICAgICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCkNCiAgICAgICAgICB0aGlzLiRlbWl0KCdicmluZ0luQ2FsY0NvZGUnLCB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NDb2RlLCBwZHRlbXBQZENhbGMucGRDYWxjQ29kZSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRjb25maXJtKFN0cmluZyh0aGlzLiR0KCdibmZ0Rm9ybXVsYVNlbGVjdC5jb25maXJtX292ZXJ3cml0ZV9mb3JtdWxhJykpLCBTdHJpbmcodGhpcy4kdCgnY29uZmlybU1lc3NhZ2UudGlwJykpLCB7DQogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogU3RyaW5nKHRoaXMuJHQoJ2NvbmZpcm1NZXNzYWdlLmNvbmZpcm0nKSksDQogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBTdHJpbmcodGhpcy4kdCgnY29uZmlybU1lc3NhZ2UuY2FuY2VsJykpLA0KICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICBwYXJhbS5uZWVkQ2hlY2tpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgYXNzb2NpYXRlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICBsZXQgcGR0ZW1wUGRDYWxjID0gcmVzcG9uc2UuZGF0YS5wZHRlbXBQZENhbGMNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3J1bGUuYXNzb2NpYXRpb25TdWNjZXNzJykpDQogICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCkNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnYnJpbmdJbkNhbGNDb2RlJywgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlLCBwZHRlbXBQZENhbGMucGRCdXNzQ29kZSwgcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGUpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubWVzc2FnZUluZm8odGhpcy4kdCgnYm5mdEZvcm11bGFTZWxlY3QuY2FuY2VsZWQnKSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basicinfo/bnft-formula/bnftAmountFormulaSelect","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('bnftFormulaSelect.pdBnftCalcFormulaSel')\" @backTo=\"back\"/>\r\n\r\n    <el-form ref=\"productBnftForm\" :model=\"productBnftForm\" label-width=\"auto\">\r\n      <cus-form-title :label=\"$t('bnftFormulaSelect.pdBnftCalcOpt')\"></cus-form-title>\r\n      <el-row :gutter=\"10\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\">\r\n            <cus-select v-model=\"productBnftForm.productType\" :codetype=\"'ProductCategory'\"\r\n                        @change=\"productDetailTypeChanged\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('bnftFormulaSelect.specifiedProduct')\">\r\n            <el-select v-model=\"productBnftForm.appointProduct\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       filterable @change=\"findBnftByIdC\">\r\n              <el-option v-for=\"product in productOptionList\" :key=\"product.id\"\r\n                         :label=\"product.pdCode+':'+product.pdName\" :value=\"product.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('bnftFormulaSelect.designatedSupport')\">\r\n            <el-select v-model=\"productBnftForm.appointBnft\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       filterable @change=\"findBnftDttailByBnft\">\r\n              <el-option v-for=\"item in Options1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col v-if=\"pdBnftOptions.id\" :span=\"8\">\r\n          <el-form-item :label=\"$t('bnftFormulaSelect.designatedSupportDetails')\">\r\n            <el-select v-model=\"productBnftForm.appointBnftDT\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       filterable>\r\n              <el-option v-for=\"item in Options2\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdBussDetailType')\">\r\n            <cus-select v-model=\"productBnftForm.appointExpressionType\" :codetype=\"'ruleBusinessDetailClass'\"\r\n                        disabled></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdCalcCode')\">\r\n            <el-col>\r\n              <el-input v-model=\"productBnftForm.pdCalcCode\" clearable></el-input>\r\n            </el-col>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"8\"></el-col>\r\n        <el-col :span=\"8\"></el-col>\r\n        <el-col :span=\"8\" style=\"text-align: right\">\r\n          <el-form-item>\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"handleSearch\">\r\n              {{ $t('bnftFormulaSelect.search') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('bnftFormulaSelect.bnftFormula')\"/>\r\n    <el-table ref=\"ruleTable\" :data=\"ruleTable\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              max-height=\"300\" size=\"mini\" @row-click=\"rowClick\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :filter-method=\"filters_method\" :filters=\"filters_pdCode\" :label=\"$t('rule.product')\"\r\n                       align=\"center\"\r\n                       min-width=\"200\" prop=\"pdCode\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('bnftFormulaSelect.guaranteeItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdBnftCode ? scope.row.pdBnftCode + ':' + scope.row.pdBnftName : '' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"calculationFormulaType === '17' || calculationFormulaType === '20' || calculationFormulaType === '21' || calculationFormulaType === '27' || calculationFormulaType === '28'\"\r\n        :label=\"$t('bnftFormulaSelect.guaranteeDetails')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdBnftDTCode ? scope.row.pdBnftDTCode + ':' + scope.row.pdBnftDTName : '' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaDetial')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaDetial')\" align=\"center\" min-width=\"200\" prop=\"pdCalcCode\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdCalcCode }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('bnftFormulaSelect.calcDesc')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdCalcDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('bnftFormulaSelect.rulesAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n        <template v-slot=\"scope\">\r\n          <el-button v-auth=\"'BnftAmountFormula:associate'\" icon=\"el-icon-connection\"\r\n                     size=\"small\" type=\"primary\" @click=\"handleSelectFormula(scope.row)\">\r\n            {{ $t('bnftFormulaSelect.option') }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page\" v-model=\"ruleTable\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                    :params=\"params\" url=\"/BnftAmountFormula/base/findAllAmountFormula\"/>\r\n\r\n    <!-- 规则引擎公式定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"formulaVisible\"></cus-rule-definition>\r\n\r\n    <!-- 公式查看弹窗 -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"ruleMakeClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport {associate, findAllProductByDetailType, findBnft} from \"@/api/basicinfo/bnftAmountFormula\"\r\nimport {getRuleCode} from \"@/api/basicinfo/pdtemppdinsuageinfo\"\r\nimport {findBnftDttailByBnft} from '@/api/basicinfo/acceptInsuranceRules'\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'bnftFormulaSelect',\r\n  props: {\r\n    guaranteeDetails: {\r\n      type: Array,\r\n      default: undefined\r\n    },\r\n    calculationFormulaType: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    pdUwSiTypeOptions: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    pdBnftOptions: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    productCalcRevisionShowINfo: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      filters_pdCode: [],\r\n      attributeObj: {},\r\n      formulaVisible: false,\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        performType: '',\r\n        visible: false\r\n      },\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: undefined,\r\n        pdStartPeriodUnit: '',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: undefined,\r\n        pdEndPeriodUnit: '',\r\n        pdGracePeriod: undefined,\r\n        pdObservationDay: undefined,\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        pdStartDate: undefined,\r\n        pdStopDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_rule: {\r\n        ruleBussModuDeta: '',\r\n        description: ''\r\n      },\r\n      params: {\r\n        product: undefined,\r\n        current_pdBussId: undefined,\r\n        eq_productDetailType: '',\r\n        eq_pdInfoId: undefined,\r\n        eq_pdBussDetailType: '',\r\n        eq_pdBnftId: '',\r\n        eq_pdBnftDTId: '',\r\n        like_pdCalcCode: ''\r\n      },\r\n      pdUwSiType: '',\r\n      tableData_formula: [],\r\n      productOptionList: [],//产品数组\r\n      Options1: [],//保障数组\r\n      Options2: [],//保障明细数组\r\n      ruleTable: [],\r\n      selectedFormula: {},\r\n      columnDetails: {},\r\n      productBnftForm: {\r\n        product: '',\r\n        productType: '',\r\n        productBigType: '',\r\n        bnftType: '',\r\n        bnftDtType: '',\r\n        bnft: '',\r\n        bnftDt: '',\r\n        ExpressionType: '',\r\n        appointProduct: '',\r\n        appointBnft: '',\r\n        appointBnftDT: '',\r\n        appointExpressionType: '',\r\n        pdCalcCode: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    ruleTable() {\r\n      // pdCode 筛选\r\n      this.filters_pdCode = []\r\n      for (const row of this.ruleTable) {\r\n        if (!row.pdCode) continue\r\n        let filterItem = {text: '', value: ''}\r\n        filterItem.text = row.pdCode + ':' + row.pdName\r\n        filterItem.value = row.pdCode\r\n        if (!this._.includes(this._.map(this.filters_pdCode, 'value'), filterItem.value)) {\r\n          this.filters_pdCode.push(filterItem)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  async created() {\r\n    this.initProductInfo()\r\n    this.productBnftForm.product = this.product.pdCode + \":\" + this.product.id\r\n    this.productBnftForm.bnftDtType = this.guaranteeDetails\r\n    this.productBnftForm.ExpressionType = this.calculationFormulaType\r\n    this.productBnftForm.appointExpressionType = this.calculationFormulaType\r\n    this.productBnftForm.bnftType = this.guaranteeDetails[0]\r\n    if (Object.keys(this.pdUwSiTypeOptions).length > 0) {\r\n      this.productBnftForm.bnft = this.pdUwSiTypeOptions.pdBnftCode + \":\" + this.pdUwSiTypeOptions.pdBnftType + \":\" + this.pdUwSiTypeOptions.id\r\n    }\r\n    if (Object.keys(this.pdBnftOptions).length > 0) {\r\n      if (this.guaranteeDetails[0] === 'C') {\r\n        this.productBnftForm.bnftDt = this.pdBnftOptions.pdClmBnftCode + ':' + this.pdBnftOptions.id\r\n      } else {\r\n        this.productBnftForm.bnftDt = this.pdBnftOptions.pdSrvlBnftCode + ':' + this.pdBnftOptions.id\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ruleModuleClosed() {\r\n      this.formulaVisible = false\r\n      this.handleSearch()\r\n    },\r\n    ruleMakeClosed() {\r\n      this.formulaView.visible = false\r\n    },\r\n    back() {\r\n      this.$emit('changeDialogVisible_formulaSelect2', false)\r\n    },\r\n    productDetailTypeChanged(val) {\r\n      this.productBnftForm.appointProduct = ''\r\n      this.productOptionList = []\r\n      findAllProductByDetailType(this.buildRequestData({productDetailType: val})).then(response => {\r\n        this.productOptionList = response.data\r\n      })\r\n    },\r\n    //显示保障项数组\r\n    findBnftByIdC(val) {\r\n      this.Options1 = []\r\n      this.Options2 = []\r\n      this.productBnftForm.appointBnft = ''\r\n      this.productBnftForm.appointBnftDT = ''\r\n      if (val) {\r\n        let params = {\r\n          pdInfoId: val,\r\n          pdBnftType: this.productBnftForm.bnftDtType[0],\r\n          pdBnftDetailType: this.productBnftForm.bnftDtType[1]\r\n        }\r\n        findBnft(this.buildRequestData(params)).then(res => {\r\n          let data = res.data\r\n          data.forEach(val => {\r\n            this.Options1.push({\r\n              key: val.pdBnftCode,\r\n              value: val.pdBnftCode + \":\" + val.pdBnftType + \":\" + val.id,\r\n              label: val.pdBnftCode + \":\" + val.pdBnftName\r\n            })\r\n          })\r\n        })\r\n      }\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      if (Object.keys(pdtempPdInfo).length > 0) {\r\n        Object.assign(this.product, pdtempPdInfo)\r\n        this.productBnftForm.productBigType = this.product.bType\r\n        this.productBnftForm.productType = this.product.cType\r\n        this.productDetailTypeChanged(this.product.cType)\r\n      } else {\r\n        this.notifyError(this.$t('rule.invalidProductInfo'))\r\n      }\r\n    },\r\n    //显示保障明细项数组\r\n    findBnftDttailByBnft(row) {\r\n      this.Options2 = []\r\n      this.productBnftForm.appointBnftDT = ''\r\n      if (!this.pdBnftOptions.id) {\r\n        return\r\n      }\r\n      if (row) {\r\n        let data = {\r\n          pdBnftCode: this.getCaption(this.getCaption(row, 0), 0),\r\n          pdBnftType: this.getCaption(this.getCaption(row, 0), 1)\r\n        }\r\n        findBnftDttailByBnft(data).then(res => {\r\n          let data = res.data\r\n          if (data.length) {\r\n            if (this.getCaption(this.getCaption(row, 0), 1) === 'C') {\r\n              data.forEach(val => {\r\n                this.Options2.push({\r\n                  key: val.pdClmBnftCode,\r\n                  value: val.pdClmBnftCode + ':' + val.id,\r\n                  label: val.pdClmBnftCode + \":\" + val.pdClmBnftName\r\n                })\r\n              })\r\n            } else {\r\n              data.forEach(val => {\r\n                this.Options2.push({\r\n                  key: val.pdSrvlBnftCode,\r\n                  value: val.pdSrvlBnftCode + ':' + val.id,\r\n                  label: val.pdSrvlBnftCode + \":\" + val.pdSrvlBnftName\r\n                })\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.visible = true\r\n    },\r\n    handleSearch() {\r\n      //分页传输数据\r\n      this.params.product = this.product\r\n      this.params.current_pdBussId = this.pdBnftOptions.id ? this.pdBnftOptions.id : this.pdUwSiTypeOptions.id\r\n      this.params.eq_productDetailType = this.productBnftForm.productType\r\n      this.params.eq_pdInfoId = this.productBnftForm.appointProduct\r\n      this.params.eq_pdBussDetailType = this.productBnftForm.appointExpressionType\r\n      this.params.eq_pdBnftId = this.getCaption(this.getCaption(this.productBnftForm.appointBnft, 1), 1)\r\n      this.params.eq_pdBnftDTId = this.getCaption(this.productBnftForm.appointBnftDT, 1)\r\n      this.params.like_pdCalcCode = this.productBnftForm.pdCalcCode\r\n      this.$refs.page.reload()\r\n    },\r\n    toAddFormula() {\r\n      const param = {\r\n        pdBussType: '2',\r\n        pdBussDetailType: this.calculationFormulaType\r\n      }\r\n      if (!this.calculationFormulaType) {\r\n        param.pdBussDetailType = this.productBnftForm.ExpressionType\r\n      }\r\n      getRuleCode(this.buildRequestData(param)).then(response => {\r\n        this.attributeObj = {\r\n          code: response.data,\r\n          ruleBussModu: '2',\r\n          ruleBussModuDeta: this.calculationFormulaType,\r\n          ruleType: '2',\r\n          ruleAttr: '2',\r\n          pdType: '1',\r\n          riskType: this.productBnftForm.productBigType,\r\n          riskDetail: this.productBnftForm.productType,\r\n          pdCode: this.product.pdCode,\r\n          pdEdition: this.product.pdEdition\r\n        }\r\n        this.formulaVisible = true\r\n      })\r\n    },\r\n    rowClick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.productBnftForm.id) {\r\n          this.columnDetails = row\r\n        }\r\n      }\r\n    },\r\n    handleSelectFormula(row) {\r\n      let PdtempPdCalc = {\r\n        pdInfoId: this.product.id,\r\n        pdVerId: this.product.pdVerId,\r\n        pdType: '',\r\n        pdCode: this.product.pdCode,\r\n        pdBussType: '2',\r\n        pdBussDetailType: this.calculationFormulaType,\r\n        pdBussId: '',\r\n        pdBussCode: '',\r\n        pdStructureType: '',\r\n        pdCalcCode: row.pdCalcCode,\r\n        pdCalcDesc: row.pdCalcDesc\r\n      }\r\n      if (this.productBnftForm.bnftDt) {\r\n        if (this.productBnftForm.bnftType === 'C') {\r\n          PdtempPdCalc.pdStructureType = '02'\r\n        } else {\r\n          PdtempPdCalc.pdStructureType = '04'\r\n        }\r\n        PdtempPdCalc.pdBussId = this.getCaption(this.productBnftForm.bnftDt, 1)\r\n        PdtempPdCalc.pdBussCode = this.getCaption(this.productBnftForm.bnftDt, 0)\r\n      } else {\r\n        PdtempPdCalc.pdStructureType = '01'\r\n        PdtempPdCalc.pdBussId = this.getCaption(this.productBnftForm.bnft, 1)\r\n        PdtempPdCalc.pdBussCode = this.getCaption(this.getCaption(this.productBnftForm.bnft, 0), 0)\r\n      }\r\n      const param = {\r\n        selectedFormula: row,\r\n        pdtempPdCalc: PdtempPdCalc,\r\n        product: this.product,\r\n        pdBussType: '2',\r\n        pdBussDetailType: this.calculationFormulaType,\r\n        needChecking: true\r\n      }\r\n      associate(this.buildRequestData(param)).then(response => {\r\n        let successFlag = response.data.flag\r\n        let pdtempPdCalc = response.data.pdtempPdCalc\r\n        if (successFlag === true) {\r\n          this.notifySuccess(this.$t('rule.associationSuccess'))\r\n          this.handleSearch()\r\n          this.$emit('bringInCalcCode', this.calculationFormulaType, pdtempPdCalc.pdBussCode, pdtempPdCalc.pdCalcCode)\r\n        } else {\r\n          this.$confirm(String(this.$t('bnftFormulaSelect.confirm_overwrite_formula')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            associate(this.buildRequestData(param)).then(response => {\r\n              let pdtempPdCalc = response.data.pdtempPdCalc\r\n              this.notifySuccess(this.$t('rule.associationSuccess'))\r\n              this.handleSearch()\r\n              this.$emit('bringInCalcCode', this.calculationFormulaType, pdtempPdCalc.pdBussCode, pdtempPdCalc.pdCalcCode)\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('bnftFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
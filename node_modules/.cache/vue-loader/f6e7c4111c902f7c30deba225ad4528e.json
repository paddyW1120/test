{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-page-def\\index.vue?vue&type=style&index=0&id=c89e0d32&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-page-def\\index.vue","mtime":1609847106922},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAnQC9zdHlsZXMvaG9tZSc7DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAghCA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-acceptance-def/pd-page-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div style=\"margin-left: 10px\">\r\n      <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\"\r\n                 @click=\"isShowQuick\">{{ $t('pdtemppageDefinition.quickDefi') }}<i :class=\"quickicon\"></i>\r\n      </el-button>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px;\">\r\n      <cus-collapse-transition>\r\n        <div v-show=\"quickshow\">\r\n          <el-form ref=\"form_quick\" label-width=\"auto\" style=\"padding-left: 50px\">\r\n            <el-row>\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtemppageDefinition.referPage')\">\r\n                  <el-select v-model=\"referPage\"></el-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-view\" size=\"small\" style=\"margin-top: 1px;margin-left: 5px\" type=\"primary\">\r\n                {{ $t('pdtemppageDefinition.show') }}\r\n              </el-button>\r\n            </el-row>\r\n          </el-form>\r\n        </div>\r\n      </cus-collapse-transition>\r\n    </div>\r\n\r\n    <el-button dialog-disable=\"disable\" v-auth=\"'pdtemppageDefinition:initElPage'\" icon=\"el-icon-view\" size=\"small\" type=\"primary\"\r\n               @click=\"showElPage\">{{ $t('pdtemppageDefinition.show') }}\r\n    </el-button>\r\n    <cus-table-title :label=\"$t('pdtemppageDefinition.pageElIn')\"/>\r\n    <el-table :data=\"configs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\"\r\n              @row-click=\"\">>\r\n      <el-table-column width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio v-model=\"chooseRowId\" :label=\"scope.row.id\">\r\n            <span class=\"el-radio__label\"></span>\r\n          </el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtemppageDefinition.pageEl')\" align=\"center\" prop=\"pdPgElChName\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtemppageDefinition.elType')\" align=\"center\"\r\n                       prop=\"pdPgElDefiType\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtemppageDefinition.elOrder')\" align=\"center\" prop=\"pdPgElOrder\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popconfirm\r\n            :title=\"$t('pdtemppageDefinition.sure')\" @onConfirm=\"deleteInfo(scope.row.id)\"\r\n          >\r\n            <el-button dialog-disable=\"disable\" slot=\"reference\" v-auth=\"'pdtemppageDefinition:delete'\" class=\"filter-button\" icon=\"el-icon-delete\"\r\n                       size=\"mini\" type=\"danger\">\r\n            </el-button>\r\n          </el-popconfirm>\r\n\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page\" v-model=\"configs\" :pageSize=\"10\" :params=\"params\" url=\"/pdtemppageDefinition/base/list\"/>\r\n\r\n    <el-form ref=\"PdtemppdSysCode\" :model=\"PdtemppdSysCode\" :rules=\"rules\" inline\r\n             label-width=\"auto\" style=\"margin-left: 55px;margin-top: 50px\">\r\n      <el-row>\r\n        <el-form-item :label=\"$t('i18nView.inSystem')\" prop=\"pdSysCode\">\r\n          <cus-select v-model=\"PdtemppdSysCode.pdSysCode\" codetype=\"pdSysCode\"></cus-select>\r\n        </el-form-item>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-form-title :label=\"$t('pdtemppageDefinition.pageElDeploy')\"/>\r\n    <div style=\"margin-bottom: 10px;margin-left: 10px;\">\r\n      <el-button dialog-disable=\"disable\" v-auth=\"'pdtemppageDefinition:save'\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                 @click=\"savePdPgEl\">{{ $t('pdtemppageDefinition.save') }}\r\n      </el-button>\r\n      <el-button dialog-disable=\"disable\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\" @click=\"openRelaPage\">\r\n        {{ $t('pdtemppageDefinition.pageElLinkDefi') }}\r\n      </el-button>\r\n    </div>\r\n\r\n\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"true\" :visible.sync=\"showRelaPage\" center\r\n               width=\"80%\" @open=\"initDialog\">\r\n\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtemppageDefinition.pageElLinkDefi')\"\r\n                           @backTo=\"showRelaPage = false\"></cus-page-title-back>\r\n      <cus-table-title :label=\"$t('pdtemppageDefinition.pageElLinkIn')\"/>\r\n      <el-table :data=\"relaConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row\r\n                size=\"mini\"\r\n                @row-click=\"chooseRelaRow\">\r\n        <el-table-column width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio v-model=\"chooseRelaRowId\" :label=\"scope.row.id\">\r\n              <span class=\"el-radio__label\"></span>\r\n            </el-radio>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtemppageDefinition.linkPageEl')\" align=\"center\" prop=\"linkEl\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtemppageDefinition.linkLevel')\" align=\"center\"\r\n                         prop=\"linkLevel\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popconfirm\r\n              :title=\"$t('pdgenlPgElInfo.sure')\" @onConfirm=\"handleDelete(scope.row.id)\"\r\n            >\r\n              <el-button dialog-disable=\"disable\" slot=\"reference\" v-auth=\"'pdtemppageDefinition:delete'\" class=\"filter-button\" icon=\"el-icon-delete\"\r\n                         size=\"mini\" type=\"danger\">\r\n              </el-button>\r\n            </el-popconfirm>\r\n\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n\r\n      <cus-form-title :label=\"$t('pdtemppageDefinition.elLinkDefi')\"/>\r\n      <el-row>\r\n        <el-form ref=\"ccParamsRules\" :model=\"ccParams\" :rules=\"ccParamsRules\" label-width=\"auto\"\r\n                 style=\"margin-left: 5px\">\r\n          <el-row :gutter=\"10\">\r\n            <cus-col :span=\"7\">\r\n              <el-form-item :label=\"$t('pdtemppageDefinition.linkEl')\" prop=\"linkEl\">\r\n                <el-select v-model=\"ccParams.linkEl\" :placeholder=\"$t('pdtemppageDefinition.pleaseSelect')\"\r\n                           clearable @change=\"changeCcParamsLinkEl\">\r\n                  <el-option\r\n                    v-for=\"(item,index) in linkOptions\"\r\n                    :key=\"index\"\r\n                    :label=\"item.pdPgElCode+':'+item.pdPgElChName\"\r\n                    :value=\"item.pdPgElCode +':'+item.pdPgElChName + ':' + item.id\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"7\">\r\n              <el-form-item :label=\"$t('pdtemppageDefinition.linkLevel')\" prop=\"linkLevel\">\r\n                <el-input v-model=\"ccParams.linkLevel\" :disabled=true></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-plus\" size=\"small\" style=\"margin-left: 5px;margin-top: 1px\" type=\"primary\"\r\n                       @click=\"addCols\">{{ $t('pdtemppageDefinition.add') }}\r\n            </el-button>\r\n          </el-row>\r\n          <cus-table-title :label=\"$t('pdtemppageDefinition.linkElDefi')\"/>\r\n          <el-table :data=\"relaDefiConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                    fit\r\n                    highlight-current-row\r\n                    size=\"mini\">\r\n            <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n            <el-table-column v-for=\"(col,i) in linkCols\" :key=\"i\" :label=\"col.label\" :prop=\"col.prop\">\r\n              <!--                  <template slot=\"header\" slot-scope=\"scope\">-->\r\n              <!--                    {{col.label}}<el-button dialog-disable=\"disable\"  size=\"small\" icon=\"el-icon-close\" circle></el-button>-->\r\n              <!--                  </template>-->\r\n              <template slot-scope=\"scope\">\r\n                <el-select v-model=\"scope.row.linkData[i]\" :placeholder=\"$t('pdtemppageDefinition.pleaseSelect')\">\r\n                  <el-option v-for=\"(item,index) in tableLinkOptions[i]\"\r\n                             :key=\"index\"\r\n                             :label=\"item.pdElDpDnCode+':'+item.pdElDpDnDesc\"\r\n                             :value=\"item.pdElDpDnCode\">\r\n                  </el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button dialog-disable=\"disable\" slot=\"reference\" class=\"filter-button\" size=\"mini\" type=\"danger\"\r\n                           @click=\"delDblRow(scope.$index)\">-\r\n                </el-button>\r\n\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <el-row>\r\n            <cus-col :span=\"16\">\r\n              <el-button dialog-disable=\"disable\" size=\"mini\" type=\"primary\" @click=\"addDblRow\">+</el-button>\r\n            </cus-col>\r\n          </el-row>\r\n          <div style=\"margin-top:20px;\">\r\n            <el-row style=\"float: right\">\r\n                <el-button dialog-disable=\"disable\" v-auth=\"'pdtemppageDefinition:saveLinkData'\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                           @click=\"saveRelaDefi\">{{ $t('pdtemppageDefinition.save') }}\r\n                </el-button>\r\n                <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refreshDialog\">\r\n                  {{ $t('pdtemppageDefinition.refresh') }}\r\n                </el-button>\r\n              \r\n            </el-row>\r\n          </div>\r\n        </el-form>\r\n      </el-row>\r\n\r\n\r\n    </el-dialog>\r\n\r\n\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"true\" :visible.sync=\"showRelaElPage\" center\r\n               width=\"80%\" @open=\"initElPage\">\r\n\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtemppageDefinition.show')\"\r\n                           @backTo=\"showRelaElPage = false\"></cus-page-title-back>\r\n      <div class=\"container\">\r\n        <el-row :gutter=15 class=\"center-board-row\">\r\n          <el-form\r\n            ref=\"relaElForm\"\r\n            :disabled=false\r\n            :rules=\"rules\"\r\n            label-position=\"right\"\r\n            label-width=\"100px\"\r\n            size=\"medium\"\r\n          >\r\n\r\n            <cus-col v-for=\"(item,index) in ElDatas\" :span=8>\r\n              <el-form-item :label=\"item.label\" :prop=\"item.prop\">\r\n                <el-date-picker v-if=\"item.type === 'date'\" v-model=\"item.defaultValue\" :disabled=\"item.disabled\"\r\n                                :placeholder=\"item.placeholder\" :readonly=\"item.readonly\"></el-date-picker>\r\n                <el-select v-else-if=\"item.type === 'select'\" v-model=\"item.config.defaultValue\" :disabled=\"item.disabled\"\r\n                           :multiple=\"item.multiple\" :placeholder=\"item.placeholder\"\r\n                           :readonly=\"item.readonly\" clearable @change=\"changeChildOptions(item)\">\r\n                  <el-option v-for=\"(sItem,sIndex) in item.slot.options\"\r\n                             :key=\"sIndex\"\r\n                             :label=\"sItem.label\"\r\n                             :value=\"sItem.value\">\r\n                  </el-option>\r\n                </el-select>\r\n                <el-input v-else-if=\"item.type === 'textarea'\" v-model=\"item.config.defaultValue\" :disabled=\"item.disabled\"\r\n                          :maxlength=\"item.maxlength\" :placeholder=\"item.placeholder\"\r\n                          :readonly=\"item.readonly\" type=\"textarea\"\r\n                ></el-input>\r\n                <el-input v-else-if=\"item.type === 'text'\" v-model=\"item.config.defaultValue\" :disabled=\"item.disabled\"\r\n                          :maxlength=\"item.maxlength\" :placeholder=\"item.placeholder\"\r\n                          :readonly=\"item.readonly\" type=\"text\"></el-input>\r\n                <el-checkbox-group v-else-if=\"item.type === 'checkbox'\" v-model=\"item.config.defaultValue\"\r\n                                   :disabled=\"item.disabled\" :placeholder=\"item.placeholder\"\r\n                                   :readonly=\"item.readonly\">\r\n                  <el-checkbox v-for=\"(cItem,cIndex) in item.slot.options\"\r\n                               :key=\"cItem.value\"\r\n                               :label=\"cItem.value\" :value=\"cItem.value\"\r\n                  >{{ cItem.label }}\r\n                  </el-checkbox>\r\n                </el-checkbox-group>\r\n                <el-radio-group v-else-if=\"item.type === 'radio'\" v-model=\"item.config.defaultValue\"\r\n                                :disabled=\"item.disabled\" :placeholder=\"item.placeholder\"\r\n                                :readonly=\"item.readonly\">\r\n                  <el-radio v-for=\"(rItem,rIndex) in item.slot.options\"\r\n                            :key=\"rIndex\"\r\n                            :label=\"rItem.value\" :value=\"rItem.value\">{{ rItem.label }}\r\n                  </el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <el-table v-show=\"showinitElPagetable\" ref=\"tableDatashow\" :data=\"tableDatashow\"\r\n                      border class=\"wraper-table\" fit\r\n                      highlight-current-row>\r\n              <el-table-column v-if=\"'radio' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\" align=\"center\"\r\n                               width=\"55\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio-group v-model=\"chooseradioRow\">\r\n                    <el-radio :label=\"scope.$index\">{{ '' }}</el-radio>\r\n                  </el-radio-group>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column v-if=\"'checkbox' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\"\r\n                               align=\"center\" width=\"55\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-checkbox-group v-model=\"choosecheckboxRow\">\r\n                    <el-checkbox :label=\"scope.$index\">{{ '' }}</el-checkbox>\r\n                  </el-checkbox-group>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" prop=\"index\"\r\n                               tooltip-effect=\"dark\" width=\"60\">\r\n                <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n              </el-table-column>\r\n              <el-table-column v-for='(col) in tableDatamenushow' :label=\"col.tableColumnChineseName\"\r\n                               :prop=\"col.tableColumnEnglishName\"\r\n                               align=\"center\"\r\n                               width=\"124px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row[scope.column.property]\" :readonly=\"'readonly' === col.tableColumnReadonly\" :placeholder=\"$t('i18nView.pleInput')\">\r\n                  </el-input>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button dialog-disable=\"disable\" size=\"mini\" type=\"danger\" @click=\"delRateRowShow(scope.$index, scope.row)\">-</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-form>\r\n        </el-row>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <div>\r\n      <Home ref=\"defineHome\" @drag=\"showtabledrag\"></Home>\r\n    </div>\r\n    <el-dialog v-if=\"showTable\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"showTable\" append-to-body center width=\"75%\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('i18nView.tableDefinition')\"\r\n                           @backTo=\"backRelePge\"></cus-page-title-back>\r\n      <el-form ref=\"tablenamesearch\" :model=\"tablenamesearch\" label-width=\"auto\">\r\n        <el-row :gutter=\"100\">\r\n          <cus-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.tableCode')\" prop=\"tableCode\">\r\n              <el-input v-model=\"tablenamesearch.tableCode\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable maxlength=\"60\"\r\n                        show-word-limit></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.tableChineseName')\" prop=\"tableChineseName\">\r\n              <el-input v-model=\"tablenamesearch.tableChineseName\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable maxlength=\"60\"\r\n                        show-word-limit></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"8\">\r\n            <el-form-item :label=\"$t('i18nView.tableEnglishName')\" prop=\"tableEnglishName\">\r\n              <el-input v-model=\"tablenamesearch.tableEnglishName\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable maxlength=\"60\"\r\n                        show-word-limit></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"100\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('i18nView.choosetype')\" prop=\"choosetype\">\r\n              <el-radio-group v-model=\"tablenamesearch.choosetype\">\r\n                <el-radio label=\"radio\" @click.native.prevent=\"radioClick('radio')\">{{$t('i18nView.singleSelect')}}</el-radio>\r\n                <el-radio label=\"checkbox\" @click.native.prevent=\"radioClick('checkbox')\">{{$t('i18nView.multiSelect')}}</el-radio>\r\n                <el-radio label=\"nothave\" @click.native.prevent=\"radioClick('nothave')\">{{$t('i18nView.noneSelect')}}</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n            <el-button dialog-disable=\"disable\" v-auth=\"'pdtemp-pd-file:queryData'\" icon=\"el-icon-search\" size=\"small\" type=\"primary\"\r\n                       @click=\"searchtableElement\">{{ $t('pdtempPdFile.search') }}\r\n            </el-button>\r\n          </cus-col>\r\n\r\n        </el-row>\r\n      </el-form>\r\n      <cus-table-title :label=\"$t('tableDefinition.tableElement')\"/>\r\n      <el-table :data=\"tableElement\" border @row-click=\"chooseOneRow\">\r\n        <el-table-column :label=\"$t('Releasedstatistics.choose')\" align=\"center\" width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"chooseRowIdtable\">\r\n              <el-radio :label=\"scope.row.id\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\"\r\n                         type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.tableCode')\" align=\"center\"\r\n                         prop=\"pgElCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.tableChineseName')\" align=\"center\"\r\n                         prop=\"pgElChName\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.tableEnglishName')\" align=\"center\"\r\n                         prop=\"pgElEnName\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.choosetype')\" align=\"center\"\r\n                         prop=\"pgElDefaVal\"></el-table-column>\r\n      </el-table>\r\n      <div v-show=\"tablePreview\">\r\n        <cus-table-title :label=\"$t('i18nView.tablePreview')\"/>\r\n        <el-table ref=\"tableData\" :data=\"tableData\" border class=\"wraper-table\" fit\r\n                  highlight-current-row>\r\n          <el-table-column v-if=\"'radio' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\" align=\"center\"\r\n                           width=\"55\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"chooseradioRow\">\r\n                <el-radio :label=\"scope.$index\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"'checkbox' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\" align=\"center\"\r\n                           width=\"55\">\r\n            <template slot-scope=\"scope\">\r\n              <el-checkbox-group v-model=\"choosecheckboxRow\">\r\n                <el-checkbox :label=\"scope.$index\">{{ '' }}</el-checkbox>\r\n              </el-checkbox-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" prop=\"index\"\r\n                           tooltip-effect=\"dark\" width=\"60\">\r\n            <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n          </el-table-column>\r\n          <el-table-column v-for='(col) in this.tableDatamenu' :label=\"col.tableColumnChineseName\"\r\n                           :prop=\"col.tableColumnEnglishName\"\r\n                           align=\"center\"\r\n                           width=\"124px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row[scope.column.property]\" :placeholder=\"$t('i18nView.pleInput')\">\r\n              </el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button dialog-disable=\"disable\" size=\"mini\" type=\"danger\" @click=\"delRateRow(scope.$index, scope.row)\">-</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-row>\r\n          <el-button dialog-disable=\"disable\" size=\"mini\" type=\"primary\" @click=\"addRateRow\">+</el-button>\r\n        </el-row>\r\n        <el-form ref=\"form\" label-width=\"auto\">\r\n          <el-form-item align=\"right\">\r\n            <el-button dialog-disable=\"disable\" v-auth=\"'product-attr:add'\" icon=\"el-icon-success\"\r\n                       size=\"small\" type=\"primary\" @click=\"saveTable()\">\r\n              {{ $t('ProductAttributeDefinition.save') }}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refreshTable()\">\r\n              {{ $t('ProductAttributeDefinition.refresh') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-dialog>\r\n    <div v-show=\"showtable\">\r\n      <cus-table-title :label=\"$t('i18nView.tableOptFrame')\"/>\r\n      <el-table ref=\"tableData\" :data=\"tableData\" border class=\"wraper-table\" fit\r\n                highlight-current-row>\r\n        <el-table-column v-if=\"'radio' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\" align=\"center\"\r\n                         width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"chooseradioRow\">\r\n              <el-radio :label=\"scope.$index\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"'checkbox' === this.choosetyperow\" :label=\"$t('Releasedstatistics.choose')\" align=\"center\"\r\n                         width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-checkbox-group v-model=\"choosecheckboxRow\">\r\n              <el-checkbox :label=\"scope.$index\">{{ '' }}</el-checkbox>\r\n            </el-checkbox-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" prop=\"index\"\r\n                         tooltip-effect=\"dark\" width=\"60\">\r\n          <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n        </el-table-column>\r\n        <el-table-column v-for='(col) in tableDatamenu' :label=\"col.tableColumnChineseName\"\r\n                         :prop=\"col.tableColumnEnglishName\"\r\n                         :show-overflow-tooltip=\"true\"\r\n                         align=\"center\"\r\n                         width=\"124px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row[scope.column.property]\" :readonly=\"'readonly' === col.tableColumnReadonly\" :placeholder=\"$t('i18nView.pleInput')\">\r\n            </el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button dialog-disable=\"disable\" size=\"mini\" type=\"danger\" @click=\"delRateRow1(scope.$index, scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n\r\n    </div>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport Home from './draggable/Home'\r\nimport {\r\n  deleteGroup,\r\n  deletePgElInfo,\r\n  findLinkGrop,\r\n  findSelectOptions,\r\n  getAllSelects,\r\n  initDragForm,\r\n  initElPage,\r\n  initLinkTable,\r\n  save,\r\n  saveLinkData,\r\n  searchconfigs,\r\n  searchtableElement\r\n} from '@/api/basicinfo/pdtemppageDefinition'\r\nimport {showtableLogic, showtableValue} from \"@/api/common/pdgenlpgelinfo\";\r\n\r\nexport default {\r\n  name: 'pdtemppageDefinition',\r\n  components: {\r\n    Home,\r\n  },\r\n  data() {\r\n    return {\r\n      PdtemppdSysCode: {\r\n        pdSysCode: '',\r\n      },\r\n      product: {},\r\n      quickicon: 'el-icon-arrow-down',\r\n      quickshow: false,\r\n      showRelaPage: false,\r\n      referPage: '',\r\n      configs: [],\r\n      selectConfigs: [],\r\n      relaDefiConfigs: [],\r\n      relaConfigs: [],\r\n      chooseRowId: '',\r\n      chooseRelaRowId: '',\r\n      showRelaElPage: false,\r\n      pdtempPdPgElInfos: [],\r\n      linkOptions: [],\r\n      linkCols: [],\r\n      tableLinkOptions: [],\r\n      ElDatas: [],\r\n      params: {\r\n        eq_pdInfoId: '',\r\n        eq_pdCode: ''\r\n      }\r\n      ,\r\n      ccParams: {\r\n        linkEl: '',\r\n        linkLevel: 1\r\n      }\r\n      ,\r\n      rules: {\r\n        pdSysCode: [{required: true, message: this.$t('operation.tipmess'), trigger: 'change'}],\r\n      },\r\n      ccParamsRules: {\r\n        'linkEl': [{required: true, message: '请选择级联元素', trigger: 'change'}],\r\n        'linkLevel': [{required: true, message: '请输入级联层级', trigger: 'blur'}],\r\n      },\r\n      //表格数据\r\n      tableData: [],\r\n      tableDatamenu: [],\r\n      showtable: false,\r\n      showinitElPagetable: false,\r\n      showTable: false,\r\n      tableElement: [],\r\n      tableElementrow: [],\r\n      //表格名称属性定义\r\n      tablenamesearch: {\r\n        tableCode: '',\r\n        tableChineseName: '',\r\n        tableEnglishName: '',\r\n        choosetype: ''\r\n      },\r\n      tablePreview: false,\r\n      chooseRowIdtable: '',\r\n      pdPgelCode: '',\r\n      //单选\r\n      chooseradioRow: '',\r\n      //多选\r\n      choosecheckboxRow: [],\r\n      choosetyperow: '',\r\n      choosetyperowshow: '',\r\n      //表格预览\r\n      tableDatamenushow: [],\r\n      tableDatashow: []\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.product = this.getPdData()\r\n    this.params.eq_pdInfoId = this.product.id;\r\n    this.params.eq_pdCode = this.product.pdCode;\r\n    this.initElPage();\r\n    this.initDragForm();\r\n    this.searchconfigs();\r\n  },\r\n  methods: {\r\n    changeCcParamsLinkEl() {\r\n      console.log(this.ccParams.linkEl);\r\n    },\r\n    //动态修改级联下拉选\r\n    changeChildOptions(item) {\r\n      if (item.child) {\r\n        for (var val of this.ElDatas) {\r\n          for (var key in item.child) {\r\n            if (val.vModel == key) {\r\n              let target = item.child[key];\r\n              for (var targetOption of target) {\r\n                if (targetOption.key == item.config.defaultValue) {\r\n                  val.slot.options = targetOption.value;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    ,\r\n    //预览页面初始化\r\n    initElPage() {\r\n      let map = {\r\n        \"pdCode\": this.params.eq_pdCode,\r\n        \"pdInfoId\": this.params.eq_pdInfoId\r\n      }\r\n      initElPage(this.buildRequestData(map)).then(response => {\r\n        this.ElDatas = []\r\n        for (const arr of response.data) {\r\n          if (arr.type === 'table') {\r\n            this.tableDatamenu = arr.tableDatamenu;\r\n            Object.assign(this.tableData, arr.tableData)\r\n            this.tableDatamenushow = arr.tableDatamenu;\r\n            Object.assign(this.tableDatashow, arr.tableData)\r\n            this.choosetyperow = arr.choosetyperow\r\n            this.showinitElPagetable = true;\r\n          } else {\r\n            this.showinitElPagetable = false;\r\n            if (arr.type === 'checkbox') {\r\n              var arrs = arr.config.defaultValue.substr(1, arr.config.defaultValue.length - 2);\r\n              arrs = arrs.split(',');\r\n              arr.config.defaultValue = arrs\r\n            }\r\n            this.ElDatas.push(arr)\r\n          }\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    showElPage() {\r\n      this.showRelaElPage = true;\r\n    }\r\n    ,\r\n    handleDelete(id) {\r\n      deleteGroup(id).then(response => {\r\n        this.notifySuccess(response.message)\r\n        this.initDialog();\r\n      })\r\n    }\r\n    ,\r\n    saveRelaDefi() {\r\n\r\n      let map = {\r\n        \"pdInfoId\": this.params.eq_pdInfoId,\r\n        \"pdCode\": this.params.eq_pdCode,\r\n        \"rowId\": this.chooseRelaRowId,\r\n        \"nodes\": this.linkCols,\r\n        \"dpdnLink\": this.relaDefiConfigs,\r\n\r\n      }\r\n      saveLinkData(this.buildRequestData(map)).then(res => {\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.initDialog();\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    refreshDialog() {\r\n      if (this.chooseRelaRowId) {\r\n        this.initLinkTable(this.chooseRelaRowId)\r\n      } else {\r\n        this.linkCols = [];\r\n        this.relaDefiConfigs = [];\r\n        this.tableLinkOptions = [];\r\n        this.ccParams.linkLevel = 1;\r\n      }\r\n    }\r\n    ,\r\n    //初始化级联表格及值\r\n    initLinkTable(id) {\r\n      let map = {\r\n        \"pdCode\": this.params.eq_pdCode,\r\n        \"pdInfoId\": this.params.eq_pdInfoId,\r\n        \"groupId\": id\r\n      }\r\n      initLinkTable(this.buildRequestData(map)).then(res => {\r\n        if (res.code == 200) {\r\n          //塞值\r\n          this.relaDefiConfigs = [];\r\n          this.linkCols = res.data.linkCols;\r\n\r\n          this.tableLinkOptions = res.data.tableLinkOptions;\r\n\r\n          res.data.linkData.forEach(val => {\r\n            this.relaDefiConfigs.push({\r\n              linkData: val\r\n            })\r\n          })\r\n\r\n          this.ccParams.linkLevel = this.linkCols.length + 1;\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    chooseRelaRow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.chooseRelaRowId) {\r\n          this.chooseRelaRowId = '';\r\n\r\n          this.linkCols = [];\r\n          this.relaDefiConfigs = [];\r\n          this.tableLinkOptions = [];\r\n        } else {\r\n          this.chooseRelaRowId = row.id;\r\n          this.initLinkTable(row.id);\r\n        }\r\n      }\r\n    }\r\n    ,\r\n    initDialog() {\r\n      this.chooseRelaRowId = '';\r\n      findLinkGrop(this.buildRequestData(this.params)).then(res => {\r\n        if (res.code == 200) {\r\n          this.relaConfigs = res.data;\r\n        }\r\n      })\r\n      this.linkCols = [];\r\n      this.relaDefiConfigs = [];\r\n      this.tableLinkOptions = [];\r\n      this.ccParams.linkLevel = 1;\r\n    }\r\n    ,\r\n    delDblRow(index) {\r\n      this.relaDefiConfigs.splice(index);\r\n    }\r\n    ,\r\n    addDblRow() {\r\n      this.relaDefiConfigs.push({\r\n        linkData: []\r\n      })\r\n    },\r\n    deleteInfo(id) {\r\n      deletePgElInfo(id).then(response => {\r\n        if (response.code == 200) {\r\n          this.handleSearch();\r\n          this.notifySuccess(response.message)\r\n          this.initDragForm();\r\n          this.refreshTable();\r\n        }\r\n      })\r\n    },\r\n    initDragForm() {\r\n      initDragForm(this.buildRequestData(this.params)).then(res => {\r\n        if (res.code == 200) {\r\n          this.$refs.defineHome.drawingList.fields = res.data;\r\n          this.$refs.defineHome.drawingList.formRef = 'elForm';\r\n          this.$refs.defineHome.drawingList.formModel = 'formData';\r\n          this.$refs.defineHome.drawingList.size = 'medium';\r\n          this.$refs.defineHome.drawingList.labelPosition = 'right';\r\n          this.$refs.defineHome.drawingList.labelWidth = 100;\r\n          this.$refs.defineHome.drawingList.formRules = 'rules';\r\n          this.$refs.defineHome.drawingList.gutter = 15;\r\n          this.$refs.defineHome.drawingList.disabled = false;\r\n          this.$refs.defineHome.drawingList.span = 8;\r\n          this.$refs.defineHome.drawingList.formBtns = true;\r\n          this.$refs.defineHome.refreshJson(this.$refs.defineHome.drawingList);\r\n        }\r\n      })\r\n    },\r\n    addCols() {\r\n      this.$refs.ccParamsRules.validate(pass => {\r\n        if (pass) {\r\n          let colsSize = this.linkCols.length;\r\n          if (colsSize > this.ccParams.linkLevel) {\r\n            this.ccParams.linkLevel = colsSize + 1;\r\n          }\r\n          if (this.ccParams.linkEl) {\r\n            let splits = this.ccParams.linkEl.split(\":\")\r\n            let colData = {\r\n              label: splits[1],\r\n              code: splits[0],\r\n              elId: splits[2],\r\n              orderNo: this.ccParams.linkLevel\r\n            }\r\n\r\n            let map = {\r\n              \"eq_pdPgElCode\": splits[0],\r\n              eq_pdInfoId: this.params.eq_pdInfoId,\r\n              eq_pdCode: this.params.eq_pdCode\r\n            }\r\n            findSelectOptions(this.buildRequestData(map)).then(res => {\r\n              if (res.code == 200) {\r\n                this.tableLinkOptions.push(res.data);\r\n                this.ccParams.linkLevel += 1;\r\n              }\r\n            })\r\n\r\n            this.linkCols.push(colData);\r\n\r\n          }\r\n        } else {\r\n          this.notifyWarning(\"请录入信息\")\r\n        }\r\n      })\r\n    },\r\n    savePdPgEl() {\r\n      this.$refs.PdtemppdSysCode.validate(async pass => {\r\n        if (pass) {\r\n          findLinkGrop(this.buildRequestData(this.params)).then(res => {\r\n            if (res.code == 200) {\r\n              if (res.data.length > 0) {\r\n                this.messageError(this.$t('pdtemppageDefinition.pleaseConfirm'))\r\n              } else {\r\n                let drawList = this.$refs.defineHome.drawingList\r\n                if (this.product.id) {\r\n                  this.pdtempPdPgElInfos = [];\r\n                  drawList.forEach((item, index, drawList) => {\r\n                    let pdtempPdPgElInfo = {\r\n                      pd_info_id: \"\",\r\n                      pd_code: \"\",\r\n                      pd_ver_id: \"\",\r\n                      pd_edition: \"\",\r\n                      pd_type: \"\",\r\n                      pd_pg_el_defi_type: \"\",\r\n                      pd_pg_el_code: \"\",\r\n                      pd_pg_el_ch_name: \"\",\r\n                      pd_pg_el_en_name: \"\",\r\n                      pd_pg_el_order: \"\",\r\n                      pd_pg_el_info_id: \"\",\r\n                      pd_pg_el_rdonly_flag: \"\",\r\n                      pd_pg_el_reqd_flag: \"\",\r\n                      pd_pg_el_disable_flag: \"\",\r\n                      pd_pg_el_multi_flag: \"\",\r\n                      pd_pg_el_defa_type: \"\",\r\n                      pd_pg_el_defa_sql: \"\",\r\n                      pd_pg_el_defa_val: \"\",\r\n                      pd_pg_el_most_input: \"\",\r\n                      pd_pg_el_val: \"\",\r\n                      selectOptions: []\r\n                    };\r\n                    pdtempPdPgElInfo.pd_pg_el_order = index;\r\n                    pdtempPdPgElInfo.pd_pg_el_info_id = item.id;\r\n                    pdtempPdPgElInfo.pd_pg_el_ch_name = item.label;\r\n                    pdtempPdPgElInfo.pd_pg_el_en_name = item.enLabel;\r\n                    pdtempPdPgElInfo.pd_pg_el_defa_type = item.valType;\r\n                    pdtempPdPgElInfo.pd_pg_el_code = item.vModel;\r\n                    pdtempPdPgElInfo.pd_pg_el_defa_val = item.config.defaultValue;\r\n                    pdtempPdPgElInfo.pd_pg_el_most_input = item.maxlength;\r\n                    pdtempPdPgElInfo.pd_pg_el_type = item.type;\r\n                    pdtempPdPgElInfo.pd_pg_el_regular_expression = \"\";\r\n                    pdtempPdPgElInfo.pd_pg_el_error = \"\";\r\n                    for (const reg of item.config.regList) {\r\n                      pdtempPdPgElInfo.pd_pg_el_regular_expression += reg.pattern\r\n                      pdtempPdPgElInfo.pd_pg_el_error += reg.message\r\n                    }\r\n                    if (item.type == 'text') {\r\n                      pdtempPdPgElInfo.pd_pg_el_type = 'input';\r\n                    }\r\n                    pdtempPdPgElInfo.pd_pg_el_val = item.val;\r\n\r\n                    pdtempPdPgElInfo.pd_pg_el_rdonly_flag = item.readonly == false ? 'N' : 'Y';\r\n                    pdtempPdPgElInfo.pd_pg_el_disable_flag = item.disabled == false ? 'N' : 'Y';\r\n                    pdtempPdPgElInfo.pd_pg_el_reqd_flag = item.required == false ? 'N' : 'Y';\r\n                    pdtempPdPgElInfo.pd_pg_el_multi_flag = item.multiple == false ? 'N' : 'Y';\r\n\r\n                    pdtempPdPgElInfo.pd_info_id = this.product.id;\r\n                    pdtempPdPgElInfo.pd_code = this.product.pdCode;\r\n                    pdtempPdPgElInfo.pd_edition = this.product.pdEdition;\r\n                    pdtempPdPgElInfo.pd_ver_id = this.product.pdVerId;\r\n\r\n                    if (pdtempPdPgElInfo.pd_pg_el_type === 'select' || pdtempPdPgElInfo.pd_pg_el_type === 'radio' || pdtempPdPgElInfo.pd_pg_el_type === 'checkbox') {\r\n                      item.slot.options.forEach(val => {\r\n\r\n                        let selectOption = {\r\n                          pdPgElInfoId: \"\",\r\n                          pdPgElCode: \"\",\r\n                          pdPgElChName: \"\",\r\n                          pdElDpDnCode: \"\",\r\n                          pdElDpDnDesc: \"\"\r\n                        }\r\n\r\n                        selectOption.pdPgElInfoId = item.id;\r\n                        selectOption.pdPgElCode = item.vModel;\r\n                        selectOption.pdPgElChName = item.label;\r\n                        selectOption.pdElDpDnCode = val.value;\r\n                        selectOption.pdElDpDnDesc = val.label.indexOf(\":\") > 0 ? val.label.split(\":\")[1] : val.label;\r\n\r\n                        pdtempPdPgElInfo.selectOptions.push(selectOption);\r\n                      })\r\n\r\n                    }\r\n\r\n                    this.pdtempPdPgElInfos.push(pdtempPdPgElInfo);\r\n\r\n                  })\r\n                  let map = {\r\n                    \"pdtempPdPgElInfos\": this.pdtempPdPgElInfos,\r\n                    \"pdCode\": this.product.pdCode,\r\n                    \"pdInfoId\": this.product.id,\r\n                    \"pdSysCode\": this.PdtemppdSysCode.pdSysCode,\r\n                    \"pdEdition\": this.product.pdEdition,\r\n                    \"pdVerId\": this.product.pdVerId,\r\n                    \"pgElCode\": this.tableElementrow.pgElCode,\r\n                    \"pgElChName\": this.tableElementrow.pgElChName,\r\n                    \"pgElEnName\": this.tableElementrow.pgElEnName,\r\n                    \"pgElDefaVal\": this.tableElementrow.pgElDefaVal,\r\n                    \"tableData\": this.tableData,\r\n                    \"tableDatamenu\": this.tableDatamenu,\r\n                    \"showtable\": this.showtable,\r\n                  }\r\n                  save(this.buildRequestData(map)).then(res => {\r\n                    if (res.code == 200) {\r\n                      this.notifySuccess(res.message);\r\n                      this.$refs.page.reload();\r\n                      this.$emit(\"childFn\", true);\r\n                    }\r\n\r\n                  });\r\n                } else {\r\n                  this.messageError(this.$t('pdtemppageDefinition.pleaseSurePdInfo'));\r\n                }\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    isShowQuick() {\r\n      if (!this.quickshow) {\r\n        this.quickicon = 'el-icon-arrow-up'\r\n      } else {\r\n        this.quickicon = 'el-icon-arrow-down'\r\n      }\r\n      return this.quickshow = !this.quickshow\r\n    }\r\n    ,\r\n    handleSearch() {\r\n      this.$refs.page.reload()\r\n    }\r\n    ,\r\n    openRelaPage() {\r\n      this.showRelaPage = true;\r\n      getAllSelects(this.buildRequestData(this.params)).then(res => {\r\n        if (res.code == 200) {\r\n          this.linkOptions = res.data;\r\n        }\r\n\r\n      });\r\n    },\r\n    showtabledrag(flag) {\r\n      this.showTable = flag;\r\n      this.searchtableElement();\r\n    },\r\n    searchtableElement() {\r\n      let map = {\r\n        \"tableCode\": this.tablenamesearch.tableCode,\r\n        \"tableChineseName\": this.tablenamesearch.tableChineseName,\r\n        \"tableEnglishName\": this.tablenamesearch.tableEnglishName,\r\n        \"choosetype\": this.tablenamesearch.choosetype,\r\n      }\r\n      searchtableElement(this.buildRequestData(map)).then(res => {\r\n        this.tableElement = res.data\r\n        if (this.pdPgelCode != '') {\r\n          for (const tableElementa of this.tableElement) {\r\n            if (this.pdPgelCode === tableElementa.pgElCode) {\r\n              this.chooseRowIdtable = tableElementa.id\r\n              this.tablePreview = true;\r\n              this.choosetyperow = tableElementa.pgElDefaVal\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    backRelePge() {\r\n      this.showTable = false;\r\n    },\r\n    chooseOneRow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.chooseRowIdtable) {\r\n          this.chooseRowIdtable = '';\r\n          this.tablePreview = false;\r\n        } else {\r\n          this.chooseRowIdtable = row.id;\r\n          this.tablePreview = true;\r\n          for (let i = 0; i < this.tableElement.length; i++) {\r\n            if (row.id === this.tableElement[i].id) {\r\n              this.tableDatamenu = JSON.parse(this.tableElement[i].pgElVal)\r\n              this.tableElementrow = this.tableElement[i]\r\n              this.choosetyperow = this.tableElementrow.pgElDefaVal\r\n              if (this.tableElementrow.pgElSql) {\r\n                let table = {\r\n                  \"tableLogic\": this.tableElementrow.pgElSql\r\n                }\r\n                showtableLogic(this.buildRequestData(table)).then(res => {\r\n                  this.tableData = res.data\r\n                  for (const tablefields of this.tableDatamenu) {\r\n                    if (tablefields.tableValue) {\r\n                      let data = {\r\n                        \"tableValue\": tablefields.tableValue\r\n                      }\r\n                      showtableValue(this.buildRequestData(data)).then(ress => {\r\n                        let tableEn = tablefields.tableColumnEnglishName;\r\n                        for (let i = 0; i < ress.data.length; i++) {\r\n                          this.tableData[i][tableEn] = ress.data[i][tableEn]\r\n                        }\r\n                      })\r\n                    }\r\n                  }\r\n\r\n                })\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    delRateRow(index, row) {\r\n      this.tableData.splice(index, 1);\r\n    },\r\n    delRateRowShow(index, row) {\r\n      this.tableDatashow.splice(index, 1);\r\n    },\r\n    delRateRow1(index, row) {\r\n      this.tableData.splice(index, 1);\r\n      if (this.tableData.length === 0) {\r\n        this.showTable = true;\r\n        this.showtable = false;\r\n      }\r\n    },\r\n    addRateRow() {\r\n      this.tableData.push({});\r\n    },\r\n    refreshTable() {\r\n      this.tableData = [];\r\n      this.showtable = false;\r\n    },\r\n    saveTable() {\r\n      if (this.tableData.length != 0) {\r\n        this.showTable = false;\r\n        this.showtable = true;\r\n      } else {\r\n        this.messageError(this.$t(\"请输入表格数据\"));\r\n      }\r\n    },\r\n    radioClick(e) {\r\n      e === this.tablenamesearch.choosetype ? (this.tablenamesearch.choosetype = '') : (this.tablenamesearch.choosetype = e);\r\n    },\r\n    searchconfigs() {\r\n      searchconfigs(this.buildRequestData(this.params)).then(res => {\r\n        for (const record of res.data.records) {\r\n          if (\"table\" === record.pdPgElDefiType) {\r\n            this.showtable = true;\r\n            this.pdPgelCode = record.pdPgElCode;\r\n            this.choosetyperow = record.pdPgElDefaVal\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/home';\r\n</style>\r\n"]}]}
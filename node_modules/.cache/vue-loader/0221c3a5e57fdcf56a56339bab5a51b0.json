{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-info-def\\pdpppdprogsInfo\\index.vue?vue&type=style&index=0&id=2197d2e6&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-info-def\\pdpppdprogsInfo\\index.vue","mtime":1609847107001},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zaG93RGl2IHsKICB3aWR0aDogOTAlOwogIGhlaWdodDogMTAwJTsKICBtYXJnaW4tdG9wOiAtNDBweDsKICBtYXJnaW4tbGVmdDogLTQwcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJhY2tncm91bmQ6ICNmZmZmZmYwMDsKICB6LWluZGV4OiA5OTk7Cn0KCi5kaXZpZGVyIHsKICBjb2xvcjogYmxhY2s7CiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7CiAgd2lkdGg6IDFweDsKfQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAu/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-framework-def/pp-info-def/pdpppdprogsInfo","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :label=\"$t('productProgramme.pageTitle')\"/>\r\n    <!-- 产品信息 -->\r\n    <cus-product-info></cus-product-info>\r\n\r\n\r\n    <cus-form-title :label=\"$t('productProgramme.basicInformation')\"/>\r\n    <!-- 方案基本信息表单 -->\r\n    <el-form :disabled=\"true\"  :model=\"form_programme\" :rules=\"rules\" label-position=\"right\"\r\n             label-width=\"150px\"\r\n             ref=\"form_programme\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdProgName')\" prop=\"pdProgName\">\r\n            <el-input :placeholder=\"$t('productProgramme.message.please_enter')\" clearable\r\n                      v-model=\"form_programme.pdProgName\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdAddAmntFlag')\" prop=\"pdAddAmntFlag\">\r\n            <el-switch active-value=\"Y\" inactive-value=\"N\" v-model=\"form_programme.pdAddAmntFlag\"></el-switch>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdOptFlag')\" prop=\"pdOptFlag\">\r\n            <el-radio-group v-model=\"form_programme.pdOptFlag\">\r\n              <el-radio label=\"Y\">{{$t('i18nView.chooseable')}}</el-radio>\r\n              <el-radio label=\"N\">{{$t('i18nView.requireOpt')}}</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdInsuPeriodCalMode')\" prop=\"pdInsuPeriodCalMode\">\r\n            <cus-select :codetype=\"'pdInsuPeriodCalMode'\" v-model=\"form_programme.pdInsuPeriodCalMode\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdInsuPeriod')\">\r\n            <el-form-item prop=\"pdInsuPeriod\" >\r\n              <el-input :placeholder=\"$t('productProgramme.message.please_enter')\" clearable\r\n                         type=\"number\" v-model=\"form_programme.pdInsuPeriod\">\r\n                <cus-select :codetype=\"'pdInsuPeriodUnit'\" class=\"cst\" slot=\"append\"\r\n                            v-model=\"form_programme.pdInsuPeriodUnit\" ></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdInsuEndCalRule')\" prop=\"pdInsuEndCalRule\">\r\n            <cus-select :codetype=\"'pdInsuEndCalRule'\" v-model=\"form_programme.pdInsuEndCalRule\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdAmntSaleType')\" prop=\"pdAmntSaleType\">\r\n            <cus-select :codetype=\"'pdAmntSaleType'\" v-model=\"form_programme.pdAmntSaleType\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdAmntCalRule')\" prop=\"pdAmntCalRule\">\r\n            <cus-select :codetype=\"'pdAmntCalRule'\" v-model=\"form_programme.pdAmntCalRule\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productProgramme.pdPayEndCalMode')\" prop=\"pdPayEndCalMode\">\r\n            <cus-select :codetype=\"'pdPayEndCalMode'\" v-model=\"form_programme.pdPayEndCalMode\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-form-title :label=\"$t('productProgramme.combination')\"/>\r\n    <!-- 方案组合表单 -->\r\n    <div>\r\n      <el-row style=\"margin-bottom: 10px\">\r\n        <span @click=\"pageFlag.premium = !pageFlag.premium\" class=\"tree-ctrl\">\r\n          <i class=\"el-icon-caret-bottom\" style=\"color: #606266;font-size: 18px\"\r\n             v-if=\"true === pageFlag.premium\"/>\r\n          <i class=\"el-icon-caret-right\" style=\"color: #606266;font-size: 18px\"\r\n             v-if=\"false === pageFlag.premium\"/>\r\n        </span>\r\n        <span @click=\"pageFlag.premium = !pageFlag.premium\" style=\"margin-left: 20px;cursor: pointer;font-size: 12px\">{{ $t('productProgramme.premiumInfo') }}</span>\r\n        <div style=\"margin: 0 0 0 25px\" v-if=\"pageFlag.premium\">\r\n          <el-radio-group v-model=\"form_combination.premium\">\r\n            <div v-for=\"premium in premiumList\">\r\n              <el-radio :disabled=\"true\" :label=\"premium\">{{ premium.pdPremCode+' - '+premium.pdPayName }}</el-radio>\r\n              <el-button   @click=\"toPremiumPage(premium.pdPremCode)\" size=\"mini\" type=\"text\">>></el-button>\r\n            </div>\r\n          </el-radio-group>\r\n        </div>\r\n      </el-row>\r\n      <el-row style=\"margin-bottom: 10px\">\r\n        <el-col :span=\"8\">\r\n          <span @click=\"pageFlag.survival = !pageFlag.survival\" class=\"tree-ctrl\">\r\n            <i class=\"el-icon-caret-bottom\" style=\"color: #606266;font-size: 18px\"\r\n               v-if=\"true === pageFlag.survival\"/>\r\n            <i class=\"el-icon-caret-right\" style=\"color: #606266;font-size: 18px\"\r\n               v-if=\"false === pageFlag.survival\"/>\r\n          </span>\r\n          <el-checkbox :disabled=\"true\" :indeterminate=\"indeterminate.survival\"\r\n                       v-model=\"form_combination.survivalFlag\"></el-checkbox>\r\n          <span @click=\"pageFlag.survival = !pageFlag.survival\" style=\"margin-left: 5px;cursor: pointer;font-size: 12px\">{{ $t('route.pdtemppdsrvlbnft') }}</span>\r\n          <div style=\"margin: 0 0 0 25px\" v-if=\"pageFlag.survival\">\r\n            <el-checkbox-group v-model=\"form_combination.survival\">\r\n              <div v-for=\"survival in survivalList\">\r\n                <el-checkbox :disabled=\"true\" :label=\"survival\">{{ survival.pdBnftCode+' - '+survival.pdBnftName }}\r\n                </el-checkbox>\r\n                <el-button    @click=\"toSrvBnftPage(survival)\" size=\"mini\" style=\"margin-left: 5px\" type=\"text\">>>\r\n                </el-button>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <span @click=\"pageFlag.claim = !pageFlag.claim\" class=\"tree-ctrl\">\r\n            <i class=\"el-icon-caret-bottom\" style=\"color: #606266;font-size: 18px\"\r\n               v-if=\"true === pageFlag.claim\"/>\r\n            <i class=\"el-icon-caret-right\" style=\"color: #606266;font-size: 18px\"\r\n               v-if=\"false === pageFlag.claim\"/>\r\n          </span>\r\n          <el-checkbox :disabled=\"true\" :indeterminate=\"indeterminate.claim\"\r\n                       v-model=\"form_combination.claimFlag\"></el-checkbox>\r\n          <span @click=\"pageFlag.claim = !pageFlag.claim\" style=\"margin-left: 5px;cursor: pointer;font-size: 12px\">{{ $t('productProgramme.claimBenefit') }}</span>\r\n          <div style=\"margin: 0 0 0 25px\" v-if=\"pageFlag.claim\">\r\n            <el-checkbox-group v-model=\"form_combination.claim\">\r\n              <div v-for=\"claim in claimList\">\r\n                <el-checkbox :disabled=\"true\" :label=\"claim\">{{ claim.pdBnftCode+' - '+claim.pdBnftName }}</el-checkbox>\r\n                <el-button    @click=\"toClmBnftPage(claim)\" size=\"mini\" style=\"margin-left: 5px\" type=\"text\">>></el-button>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n      </el-row>\r\n    </div>\r\n    <cus-form-title :label=\"$t('productProgramme.combinationResult')\"/>\r\n    <el-table :data=\"tableData_combination_add\" :span-method=\"objectSpanMethod_combination_add\" border\r\n                class=\"wraper-table\" element-loading-text=\"Loading\" fit max-height=\"500px\" size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.mergedRowIndex + 1 }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productProgramme.premiumCode')\" align=\"center\"\r\n                         prop=\"premiumCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('productProgramme.premiumName')\" align=\"center\"\r\n                         prop=\"premiumName\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\" prop=\"pdBnftCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('productProgramme.pdBnftName')\" align=\"center\" prop=\"pdBnftName\"></el-table-column>\r\n        <el-table-column :label=\"$t('productProgramme.pdAddAmntProgFlag')\" align=\"center\" prop=\"pdAddAmntProgFlag\">\r\n          <template v-slot=\"scope\">\r\n            <el-radio-group v-model=\"scope.row.pdAddAmntProgFlag\" :disabled=\"true\">\r\n              <el-radio label=\"Y\">{{$t('i18nView.number')}}</el-radio>\r\n              <el-radio label=\"N\">{{$t('i18nView.noNumber')}}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n    <!-- 缴费页面 -->\r\n    <el-dialog :visible.sync=\"dialogVisible.premium\" title=\"缴费与加费\" v-dialog-drag v-if=\"dialogVisible.premium\"\r\n               width=\"70%\">\r\n      <premium :premiumCode=\"selectedPremiumCode\"></premium>\r\n    </el-dialog>\r\n    <!-- 赔付保障页面 -->\r\n    <el-dialog :visible.sync=\"dialogVisible.claimBenefit\" title=\"赔付保障详情\" v-dialog-drag v-if=\"dialogVisible.claimBenefit\"\r\n               width=\"70%\">\r\n      <clmBnft :pdBnft=\"selectedClmBnft\"></clmBnft>\r\n    </el-dialog>\r\n    <!-- 生存保障页面 -->\r\n    <el-dialog :visible.sync=\"dialogVisible.survivalBenefit\" title=\"生存保障详情\" v-dialog-drag\r\n               v-if=\"dialogVisible.survivalBenefit\" width=\"70%\">\r\n      <srvBnft :pdBntf=\"selectedSrvBnft\"></srvBnft>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\n  import {findAllPremiumByProductId} from \"@/api/basicinfo/pdtemppdprem\"\r\n  import {findAllBenefitByProductId} from \"@/api/basicinfo/pdtemppdbnft\"\r\n  import {addPdtempPdProg, deletePdtempPdProg, updatePdtempPdProg} from \"@/api/basicinfo/pdtemppdprog\"\r\n  import {getPdClsLabInfo} from \"@/api/basicinfo/ProductAttributeDefinition\"\r\n  import premium from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/index\"\r\n  import clmBnft from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/index\"\r\n  import srvBnft from \"@/views/basicinfo/pdtemppdsrvlbnft/index\"\r\n\r\n  export default {\r\n    name: 'ProgrammeDefinition',\r\n    components: {premium, clmBnft, srvBnft},\r\n    filters: {},\r\n    data() {\r\n      return {\r\n        showPageFlag: 0,\r\n        selectedPremiumCode: '',\r\n        selectedClmBnft: {},\r\n        selectedSrvBnft: {},\r\n        // 产品信息\r\n        product: {\r\n          id: undefined,\r\n          pdCode: '',\r\n          pdEdition: '',\r\n          pdVerId: undefined,\r\n          pdSalechnl: '',\r\n          pdName: '',\r\n          pdShortname: '',\r\n          pdEnName: '',\r\n          pdShortEnName: '',\r\n          operator: '',\r\n          pdApplDate: undefined,\r\n          pdProcessId: undefined,\r\n          createTime: undefined,\r\n          updateTime: undefined,\r\n        },\r\n        product_extra: {\r\n          typeRegion: ''\r\n        },\r\n        // 方案表格\r\n        tableData_programme: [],\r\n        params_programme: {\r\n          productId: undefined,\r\n          like_pdProgName: '',\r\n          eq_pdProgCode: ''\r\n        },\r\n        selectedProgramme: {\r\n          id: undefined,\r\n          programmeCode: '',\r\n          programmeName: '',\r\n          premiumCode: '',\r\n          premiumName: '',\r\n          benefitCode: '',\r\n          benefitName: '',\r\n          benefitType: '',\r\n          programme: {},\r\n          premium: {}\r\n        },\r\n        // 方案组合表格\r\n        tableData_combination_add: [],\r\n        tableData_combination_before_add: [],\r\n        tableData_combination_duplicated_add: [],\r\n        orderIndexArr_programme: [],\r\n        orderIndexArr_combination_add: [],\r\n        orderIndexArr_combination_duplicated_add: [],\r\n        premiumList: [],\r\n        survivalList: [],\r\n        claimList: [],\r\n        dialogVisible: {\r\n          premium: false,\r\n          claimBenefit: false,\r\n          survivalBenefit: false\r\n        },\r\n        // 方案对象\r\n        form_programme: {\r\n          id: undefined,\r\n          pdInfoId: undefined,\r\n          pdVerId: undefined,\r\n          pdCode: '',\r\n          pdProgCode: '',\r\n          pdProgName: '',\r\n          pdOptFlag: 'N',\r\n          pdInsuPeriod: undefined,\r\n          pdInsuPeriodUnit: '',\r\n          pdInsuPeriodCalMode: '',\r\n          pdInsuEndCalRule: '0',\r\n          pdAmntCalRule: '',\r\n          pdAddAmntFlag: 'Y',\r\n          pdPayEndCalMode: '',\r\n          pdAmntSaleType: '',\r\n          operator: '',\r\n          createTime: '',\r\n          updateTime: ''\r\n        },\r\n        // 方案组合对象\r\n        form_combination: {\r\n          premium: undefined,\r\n          survivalFlag: false,\r\n          claimFlag: false,\r\n          survival: [],\r\n          claim: []\r\n        },\r\n        // 方案组合新增对象\r\n        form_combination_add: {\r\n          // PdtempPdBnft 实体类属性\r\n          id: undefined,\r\n          pdBnftCode: '',\r\n          pdBnftName: '',\r\n          pdBnftType: '',\r\n          pdAddAmntFlag: '',\r\n          pdBnftCalMode: '',\r\n          pdCalcId: undefined,\r\n          pdUrgePayFlag: '',\r\n          createTime: '',\r\n          updateTime: '',\r\n          operator: '',\r\n          // vo属性\r\n          premiumId: undefined,\r\n          premiumCode: '',\r\n          premiumName: '',\r\n          pdAddAmntProgFlag: ''\r\n        },\r\n        dialogVisible_duplicated: false,\r\n        // 初始化标识\r\n        initFlag: {\r\n          premium: false,\r\n          benefit: false\r\n        },\r\n        pageFlag: {\r\n          premium: false,\r\n          survival: false,\r\n          claim: false\r\n        },\r\n        indeterminate: {\r\n          survival: false,\r\n          claim: false\r\n        },\r\n        // 表单验证\r\n        rules: {\r\n          pdProgName: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_enter') + this.$t('productProgramme.pdProgName'),\r\n            trigger: 'blur'\r\n          }],\r\n          pdAddAmntFlag: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdAddAmntFlag'),\r\n            trigger: 'change'\r\n          }],\r\n          pdOptFlag: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdOptFlag'),\r\n            trigger: 'change'\r\n          }],\r\n          pdInsuPeriodCalMode: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdInsuPeriodCalMode'),\r\n            trigger: 'change'\r\n          }],\r\n          pdInsuPeriod: [{\r\n            required: false,\r\n            message: this.$t('productProgramme.message.please_enter') + this.$t('productProgramme.pdInsuPeriod'),\r\n            trigger: 'blur'\r\n          }],\r\n          pdInsuPeriodUnit: [{\r\n            required: false,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdInsuPeriodUnit'),\r\n            trigger: 'change'\r\n          }],\r\n          pdInsuEndCalRule: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdInsuEndCalRule'),\r\n            trigger: 'change'\r\n          }],\r\n          pdAmntSaleType: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdAmntSaleType'),\r\n            trigger: 'change'\r\n          }],\r\n          pdAmntCalRule: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdAmntCalRule'),\r\n            trigger: 'change'\r\n          }],\r\n          pdPayEndCalMode: [{\r\n            required: true,\r\n            message: this.$t('productProgramme.message.please_select') + this.$t('productProgramme.pdPayEndCalMode'),\r\n            trigger: 'change'\r\n          }]\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n\r\n      'form_combination.claimFlag'(val) {\r\n        this.indeterminate.claim = false\r\n        if (val === true) {\r\n          this.form_combination.claim = []\r\n          for (const claim of this.claimList) {\r\n            this.form_combination.claim.push(claim)\r\n          }\r\n        } else {\r\n          this.form_combination.claim = []\r\n        }\r\n      },\r\n      'form_combination.claim'(val) {\r\n        if (val.length === 0) {\r\n          this.form_combination.claimFlag = false\r\n          this.indeterminate.claim = false\r\n        } else if (val.length < this.claimList.length) {\r\n          this.indeterminate.claim = true\r\n        } else {\r\n          this.indeterminate.claim = false\r\n          this.form_combination.claimFlag = true\r\n        }\r\n      },\r\n      'form_combination.survivalFlag'(val) {\r\n        this.indeterminate.survival = false\r\n        if (val === true) {\r\n          this.form_combination.survival = []\r\n          for (const survival of this.survivalList) {\r\n            this.form_combination.survival.push(survival)\r\n          }\r\n        } else {\r\n          this.form_combination.survival = []\r\n        }\r\n      },\r\n      'form_combination.survival'(val) {\r\n        if (val.length === 0) {\r\n          this.form_combination.survivalFlag = false\r\n          this.indeterminate.survival = false\r\n        } else if (val.length < this.survivalList.length) {\r\n          this.indeterminate.survival = true\r\n        } else {\r\n          this.indeterminate.survival = false\r\n          this.form_combination.survivalFlag = true\r\n        }\r\n      }\r\n    }\r\n    ,\r\n    computed: {}\r\n    ,\r\n    created() {\r\n      this.getProductInfo()\r\n    },\r\n    methods: {\r\n      handleCurrentChange(raw) {\r\n        this.$emit('locationmap', raw);\r\n      }\r\n      ,\r\n      getProductInfo() {\r\n        this.form_programme = JSON.parse(sessionStorage.getItem(\"form_programme\"));\r\n        this.product = JSON.parse(sessionStorage.getItem(\"product\"));\r\n        this.tableData_programme = JSON.parse(sessionStorage.getItem(\"tableData_programme\"));\r\n        this.params_programme.productId = this.product.id\r\n        this.getPremiumInfo()\r\n        this.getBenefitInfo()\r\n        this.init_typeRegion()\r\n\r\n      }\r\n      ,\r\n      getPremiumInfo() {\r\n        findAllPremiumByProductId(this.product.id).then(response => {\r\n          for (const premium of response.data) {\r\n            this.premiumList.push(premium)\r\n          }\r\n          this.initFlag.premium = true\r\n          if (this.initFlag.premium === true && this.initFlag.benefit === true) {\r\n            this.autoBuildProgramme()\r\n          }\r\n        })\r\n      }\r\n      ,\r\n      getBenefitInfo() {\r\n        findAllBenefitByProductId(this.product.id).then(response => {\r\n          let map = response.data\r\n          this.survivalList = map.survival\r\n          this.claimList = map.claim\r\n          this.initFlag.benefit = true\r\n          if (this.initFlag.premium === true && this.initFlag.benefit === true) {\r\n            this.autoBuildProgramme()\r\n          }\r\n        })\r\n      }\r\n      ,\r\n      // 获取险种类型（产品类型）\r\n      init_typeRegion() {\r\n        const paramsMap = {\r\n          pd_info_id: this.product.id,\r\n          pd_cls_type: '1'\r\n        }\r\n        getPdClsLabInfo(this.buildRequestData(paramsMap)).then(response => {\r\n          const pdTempClsLabList = response.data\r\n          const pdCls1Array = this._.map(pdTempClsLabList, 'pdCls1')\r\n          if (pdCls1Array.length > 0) {\r\n            this.product_extra.typeRegion = pdCls1Array[0]\r\n          }\r\n          this.selectedProgrammeChanged();\r\n        })\r\n      }\r\n      ,\r\n      autoBuildProgramme() {\r\n        if (this.premiumList.length !== 1 || this.survivalList.length === 0 && this.claimList.length === 0) {\r\n          return\r\n        }\r\n        this.pageFlag.premium = true\r\n        this.pageFlag.survival = true\r\n        this.pageFlag.claim = true\r\n        this.form_combination.premium = this.premiumList[0]\r\n        this.form_combination.claim = this.claimList\r\n        this.form_combination.survival = this.survivalList\r\n        this.handleAddProgramme(this.premiumList[0], this.survivalList, this.claimList, false)\r\n      }\r\n      ,\r\n      handleSearch() {\r\n        this.$refs.page_programme.reload()\r\n      }\r\n      ,\r\n      rowClick(row, column, event) {\r\n        if (event.target.nodeName === \"INPUT\") {\r\n          if (row.id === this.selectedProgramme.id) {\r\n            this.cancelUpdateProgramme()\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      selectedProgrammeChanged() {\r\n        this.resetFormProgramme()\r\n        this.resetFormCombination()\r\n        this.resetTableDataCombinationAdd()\r\n        this.$nextTick(() => {\r\n          this.form_programme  = this.tableData_programme[0].programme;\r\n          this.selectedProgramme = this.tableData_programme[0];\r\n          // 带入缴费信息\r\n          this.pageFlag.premium = true\r\n          let existedPremium = this.selectedProgramme.premium\r\n          for (const premium of this.premiumList) {\r\n            if (premium.id === existedPremium.id) {\r\n              this.form_combination.premium = premium\r\n              break\r\n            }\r\n          }\r\n          // 带入保障组合信息\r\n          let existedSurvivalList = []\r\n          let existedClaimList = []\r\n          for (const benefitVo of this.tableData_programme) {\r\n            if (benefitVo.programmeCode === this.form_programme.pdProgCode) {\r\n              switch (benefitVo.benefitType) {\r\n                case \"A\":\r\n                case \"M\":\r\n                  existedSurvivalList.push(benefitVo)\r\n                  this.pageFlag.survival = true\r\n                  break\r\n                case \"C\":\r\n                  existedClaimList.push(benefitVo)\r\n                  this.pageFlag.claim = true\r\n                  break\r\n                default:\r\n                  break\r\n              }\r\n            }\r\n          }\r\n          for (const existedSurvival of existedSurvivalList) {\r\n            for (const survival of this.survivalList) {\r\n              if (survival.id === existedSurvival.id) {\r\n                this.form_combination.survival.push(survival)\r\n                this.resetFormCombinationAdd()\r\n                Object.assign(this.form_combination_add, survival)\r\n                this.form_combination_add.premiumId = existedPremium.id\r\n                this.form_combination_add.premiumCode = existedSurvival.premiumCode\r\n                this.form_combination_add.premiumName = existedSurvival.premiumName\r\n                this.form_combination_add.pdAddAmntProgFlag = existedSurvival.pdAddAmntProgFlag\r\n                this.tableData_combination_add.push(this.form_combination_add)\r\n                break\r\n              }\r\n            }\r\n          }\r\n          for (const existedClaim of existedClaimList) {\r\n            for (const claim of this.claimList) {\r\n              if (claim.id === existedClaim.id) {\r\n                this.form_combination.claim.push(claim)\r\n                this.resetFormCombinationAdd()\r\n                Object.assign(this.form_combination_add, claim)\r\n                this.form_combination_add.premiumId = existedPremium.id\r\n                this.form_combination_add.premiumCode = existedClaim.premiumCode\r\n                this.form_combination_add.premiumName = existedClaim.premiumName\r\n                this.form_combination_add.pdAddAmntProgFlag = existedClaim.pdAddAmntProgFlag\r\n                this.tableData_combination_add.push(this.form_combination_add)\r\n                break\r\n              }\r\n            }\r\n          }\r\n          this.getOrderNumber('combination_add')\r\n        })\r\n      }\r\n      ,\r\n      cancelUpdateProgramme() {\r\n        this.resetSelectedProgramme()\r\n        this.resetFormProgramme()\r\n        this.resetFormCombination()\r\n        this.resetTableDataCombinationAdd()\r\n        this.$nextTick(() => {\r\n          this.$refs.form_programme.clearValidate()\r\n        })\r\n      }\r\n      ,\r\n      handleAddProgramme(premium, survival, claim, showTips) {\r\n        if (!premium) {\r\n          this.notifyError(this.$t('productProgramme.message.please_select_premium'))\r\n          return\r\n        } else if (survival.length === 0 && claim.length === 0) {\r\n          this.notifyError(this.$t('productProgramme.message.please_select_benefit'))\r\n          return\r\n        } else {\r\n          if (this.tableData_combination_add.length > 0 && this.tableData_combination_add[0].premiumCode !== premium.pdPremCode) {\r\n            this.notifyError(this.$t('productProgramme.message.only_one_premium_for_one_programme'))\r\n            return\r\n          }\r\n        }\r\n        this.resetTableDataCombinationBeforeAdd()\r\n        if (survival.length > 0) {\r\n          for (const survivalItem of survival) {\r\n            this.resetFormCombinationAdd()\r\n            Object.assign(this.form_combination_add, survivalItem)\r\n            this.form_combination_add.premiumId = premium.id\r\n            this.form_combination_add.premiumCode = premium.pdPremCode\r\n            this.form_combination_add.premiumName = premium.pdPayName\r\n            this.tableData_combination_before_add.push(this.form_combination_add)\r\n          }\r\n        }\r\n        if (claim.length > 0) {\r\n          for (const claimItem of claim) {\r\n            this.resetFormCombinationAdd()\r\n            Object.assign(this.form_combination_add, claimItem)\r\n            this.form_combination_add.premiumId = premium.id\r\n            this.form_combination_add.premiumCode = premium.pdPremCode\r\n            this.form_combination_add.premiumName = premium.pdPayName\r\n            this.tableData_combination_before_add.push(this.form_combination_add)\r\n          }\r\n        }\r\n        // 验证是否有重复信息\r\n        this.resetTableDataCombinationDuplicatedAdd()\r\n        for (const form_combination_before_add of this.tableData_combination_before_add) {\r\n          for (const form_combination_add of this.tableData_combination_add) {\r\n            if (form_combination_before_add.premiumCode === form_combination_add.premiumCode && form_combination_before_add.pdBnftCode === form_combination_add.pdBnftCode) {\r\n              this.tableData_combination_duplicated_add.push(form_combination_before_add)\r\n            }\r\n          }\r\n        }\r\n        if (this.tableData_combination_duplicated_add.length > 0) {\r\n          this.getOrderNumber('combination_duplicated_add')\r\n          this.dialogVisible_duplicated = true\r\n        } else {\r\n          for (const form_combination_before_add of this.tableData_combination_before_add) {\r\n            this.tableData_combination_add.push(form_combination_before_add)\r\n          }\r\n          this.getOrderNumber('combination_add')\r\n          if (showTips === true) {\r\n            this.notifySuccess(this.$t('productProgramme.message.add_success'))\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      handleDeleteCombinationAdd(row) {\r\n        this.tableData_combination_add.splice(this.tableData_combination_add.indexOf(row), 1)\r\n        this.getOrderNumber('combination_add')\r\n      }\r\n      ,\r\n      handleUpdateAll() {\r\n        this.$refs.form_programme.validate(pass => {\r\n          if (pass) {\r\n            if (this.tableData_combination_add.length === 0) {\r\n              this.notifyError(this.$t('productProgramme.message.please_add_combination'))\r\n              return\r\n            }\r\n            this.form_programme.pdInfoId = this.product.id\r\n            this.form_programme.pdCode = this.product.pdCode\r\n            updatePdtempPdProg(this.buildRequestData({\r\n              programme: this.form_programme,\r\n              premiumId: this.tableData_combination_add[0].premiumId,\r\n              premiumCode: this.tableData_combination_add[0].premiumCode,\r\n              benefitList: this.tableData_combination_add\r\n            })).then(() => {\r\n              this.cancelUpdateProgramme()\r\n              this.$emit('childFn', true);\r\n              this.notifySuccess(this.$t('productProgramme.message.update_all_success'))\r\n              this.$refs.page_programme.reload()\r\n              this.$nextTick(() => {\r\n                this.$refs.form_programme.clearValidate()\r\n              })\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('productProgramme.message.form_validation_failed'))\r\n          }\r\n        })\r\n      }\r\n      ,\r\n      handleSaveAll() {\r\n        this.$refs.form_programme.validate(pass => {\r\n          if (pass) {\r\n            if (this.tableData_combination_add.length === 0) {\r\n              this.notifyError(this.$t('productProgramme.message.please_add_combination'))\r\n              return\r\n            }\r\n            this.form_programme.pdInfoId = this.product.id\r\n            this.form_programme.pdVerId = this.product.pdVerId\r\n            this.form_programme.pdCode = this.product.pdCode\r\n            const param = {\r\n              programme: this.form_programme,\r\n              premiumId: this.tableData_combination_add[0].premiumId,\r\n              premiumCode: this.tableData_combination_add[0].premiumCode,\r\n              benefitList: this.tableData_combination_add,\r\n              typeRegion: this.product_extra.typeRegion,\r\n              needCheckingPremium: true\r\n            }\r\n            addPdtempPdProg(this.buildRequestData(param)).then(response => {\r\n              let successFlag = response.data\r\n              if (successFlag === true) {\r\n                this.resetFormProgramme()\r\n                this.resetFormCombination()\r\n                this.resetTableDataCombinationAdd()\r\n                this.$emit('childFn', true);\r\n                this.notifySuccess(this.$t('productProgramme.message.save_all_success'))\r\n                this.$refs.page_programme.reload()\r\n                this.$nextTick(() => {\r\n                  this.$refs.form_programme.clearValidate()\r\n                })\r\n              } else {\r\n                this.$confirm(this.$t('productProgramme.message.confirm_overwrite_programme'), this.$t('confirmMessage.tip'), {\r\n                  confirmButtonText: this.$t('confirmMessage.confirm'),\r\n                  cancelButtonText: this.$t('confirmMessage.cancel'),\r\n                  type: 'warning'\r\n                }).then(() => {\r\n                  param.needCheckingPremium = false\r\n                  addPdtempPdProg(this.buildRequestData(param)).then(() => {\r\n                    this.resetFormProgramme()\r\n                    this.resetFormCombination()\r\n                    this.resetTableDataCombinationAdd()\r\n                    this.$emit('childFn', true);\r\n                    this.notifySuccess(this.$t('productProgramme.message.save_all_success'))\r\n                    this.$refs.page_programme.reload()\r\n                    this.$nextTick(() => {\r\n                      this.$refs.form_programme.clearValidate()\r\n                    })\r\n                  })\r\n                }).catch(() => {\r\n                  this.$message({\r\n                    type: 'info',\r\n                    message: this.$t('productProgramme.message.canceled')\r\n                  });\r\n                })\r\n              }\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('productProgramme.message.form_validation_failed'))\r\n          }\r\n        })\r\n      }\r\n      ,\r\n      handleDeleteProgramme() {\r\n        deletePdtempPdProg(this.selectedProgramme.programme.id).then(() => {\r\n          this.cancelUpdateProgramme()\r\n          this.notifySuccess(this.$t('successMessage.delete'))\r\n          this.$refs.page_programme.reload()\r\n          this.$nextTick(() => {\r\n            this.$refs.form_programme.clearValidate()\r\n          })\r\n        })\r\n      }\r\n      ,\r\n      handleClearFormProgramme() {\r\n        this.resetFormProgramme()\r\n        this.resetFormCombination()\r\n        this.resetTableDataCombinationAdd()\r\n        this.$nextTick(() => {\r\n          this.$refs.form_programme.clearValidate()\r\n        })\r\n      }\r\n      ,\r\n      // 获取相同编号的数组（每次表格数据改变后需要调用这个方法）\r\n      getOrderNumber(arrayName) {\r\n        let tableData\r\n        let orderIndexArr\r\n        if (arrayName === 'combination_add') {\r\n          tableData = this.tableData_combination_add\r\n        } else if (arrayName === 'combination_duplicated_add') {\r\n          tableData = this.tableData_combination_duplicated_add\r\n        } else {\r\n          return\r\n        }\r\n        orderIndexArr = []\r\n        // 按照 premiumCode 排序，将 premiumCode 相同的数据连在一起\r\n        tableData = this._.orderBy(tableData, ['premiumCode', 'pdBnftCode'], ['asc', 'asc'])\r\n        if (arrayName === 'combination_add') {\r\n          this.tableData_combination_add = tableData\r\n        } else if (arrayName === 'combination_duplicated_add') {\r\n          this.tableData_combination_duplicated_add = tableData\r\n        }\r\n        let orderObj = {}\r\n        tableData.forEach((element, index) => {\r\n          element.rowIndex = index\r\n          if (orderObj[element.premiumCode]) {\r\n            orderObj[element.premiumCode].push(index)\r\n          } else {\r\n            orderObj[element.premiumCode] = []\r\n            orderObj[element.premiumCode].push(index)\r\n          }\r\n        })\r\n        // 需要合并的行的 index 已经存在了同一个数组里，把这些数组存储到 this.orderIndexArr\r\n        for (const k in orderObj) {\r\n          orderIndexArr.push(orderObj[k])\r\n        }\r\n        if (arrayName === 'combination_add') {\r\n          this.orderIndexArr_combination_add = orderIndexArr\r\n          this.getMergedRowIndex(this.tableData_combination_add, this.orderIndexArr_combination_add)\r\n        } else if (arrayName === 'combination_duplicated_add') {\r\n          this.orderIndexArr_combination_duplicated_add = orderIndexArr\r\n          this.getMergedRowIndex(this.tableData_combination_duplicated_add, this.orderIndexArr_combination_duplicated_add)\r\n        }\r\n      }\r\n      ,\r\n      getMergedRowIndex(tableData, orderIndexArr) {\r\n        a:for (const row of tableData) {\r\n          const rowIndex = row.rowIndex\r\n          for (let i = 0; i < orderIndexArr.length; i++) {\r\n            const val = orderIndexArr[i]\r\n            for (const number of val) {\r\n              if (rowIndex === number) {\r\n                row.mergedRowIndex = i\r\n                continue a\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      objectSpanMethod_programme({row, column, rowIndex, columnIndex}) {\r\n        if (columnIndex === 0 || columnIndex === 1 || columnIndex === 2 || columnIndex === 3 || columnIndex === 4 || columnIndex === 5) {\r\n          for (let i = 0; i < this.orderIndexArr_programme.length; i++) {\r\n            let element = this.orderIndexArr_programme[i]\r\n            for (let j = 0; j < element.length; j++) {\r\n              let item = element[j]\r\n              if (rowIndex === item) {\r\n                if (j === 0) {\r\n                  return {\r\n                    rowspan: element.length,\r\n                    colspan: 1\r\n                  }\r\n                } else {\r\n                  return {\r\n                    rowspan: 0,\r\n                    colspan: 0\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      objectSpanMethod_combination_add({row, column, rowIndex, columnIndex}) {\r\n        if (columnIndex === 0 || columnIndex === 1 || columnIndex === 2) {\r\n          for (let i = 0; i < this.orderIndexArr_combination_add.length; i++) {\r\n            let element = this.orderIndexArr_combination_add[i]\r\n            for (let j = 0; j < element.length; j++) {\r\n              let item = element[j]\r\n              if (rowIndex === item) {\r\n                if (j === 0) {\r\n                  return {\r\n                    rowspan: element.length,\r\n                    colspan: 1\r\n                  }\r\n                } else {\r\n                  return {\r\n                    rowspan: 0,\r\n                    colspan: 0\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      objectSpanMethod_combination_duplicated_add({row, column, rowIndex, columnIndex}) {\r\n        if (columnIndex === 0 || columnIndex === 1 || columnIndex === 2 || columnIndex === 5) {\r\n          for (let i = 0; i < this.orderIndexArr_combination_duplicated_add.length; i++) {\r\n            let element = this.orderIndexArr_combination_duplicated_add[i]\r\n            for (let j = 0; j < element.length; j++) {\r\n              let item = element[j]\r\n              if (rowIndex === item) {\r\n                if (j === 0) {\r\n                  return {\r\n                    rowspan: element.length,\r\n                    colspan: 1\r\n                  }\r\n                } else {\r\n                  return {\r\n                    rowspan: 0,\r\n                    colspan: 0\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ,\r\n      resetSelectedProgramme() {\r\n        this.selectedProgramme = {\r\n          id: undefined,\r\n          programmeCode: '',\r\n          programmeName: '',\r\n          premiumCode: '',\r\n          premiumName: '',\r\n          benefitCode: '',\r\n          benefitName: '',\r\n          benefitType: '',\r\n          programme: {},\r\n          premium: {}\r\n        }\r\n      }\r\n      ,\r\n      // 重置（新建）对象与数组\r\n      resetFormProgramme() {\r\n        this.form_programme = {\r\n          id: undefined,\r\n          pdInfoId: undefined,\r\n          pdVerId: undefined,\r\n          pdCode: '',\r\n          pdProgCode: '',\r\n          pdProgName: '',\r\n          pdOptFlag: 'N',\r\n          pdInsuPeriod: undefined,\r\n          pdInsuPeriodUnit: '',\r\n          pdInsuPeriodCalMode: '',\r\n          pdInsuEndCalRule: '0',\r\n          pdAmntCalRule: '',\r\n          pdAddAmntFlag: 'Y',\r\n          pdPayEndCalMode: '',\r\n          pdAmntSaleType: '',\r\n          operator: '',\r\n          createTime: '',\r\n          updateTime: ''\r\n        }\r\n        this.$nextTick(() => {\r\n          this.$refs.form_programme.clearValidate()\r\n        })\r\n      }\r\n      ,\r\n      resetFormCombination() {\r\n        this.pageFlag.premium = false\r\n        this.pageFlag.claim = false\r\n        this.pageFlag.survival = false\r\n        this.indeterminate.survival = false\r\n        this.indeterminate.claim = false\r\n        this.form_combination = {\r\n          premium: undefined,\r\n          survivalFlag: false,\r\n          claimFlag: false,\r\n          survival: [],\r\n          claim: []\r\n        }\r\n      }\r\n      ,\r\n      resetFormCombinationAdd() {\r\n        this.form_combination_add = {\r\n          // PdtempPdBnft 实体类属性\r\n          id: undefined,\r\n          pdBnftCode: '',\r\n          pdBnftName: '',\r\n          pdBnftType: '',\r\n          pdAddAmntFlag: '',\r\n          pdBnftCalMode: '',\r\n          pdCalcId: undefined,\r\n          pdUrgePayFlag: '',\r\n          createTime: '',\r\n          updateTime: '',\r\n          operator: '',\r\n          // vo属性\r\n          premiumId: undefined,\r\n          premiumCode: '',\r\n          premiumName: '',\r\n          pdAddAmntProgFlag: ''\r\n        }\r\n      }\r\n      ,\r\n      resetTableDataCombinationAdd() {\r\n        this.tableData_combination_add = []\r\n      }\r\n      ,\r\n      resetTableDataCombinationBeforeAdd() {\r\n        this.tableData_combination_before_add = []\r\n      }\r\n      ,\r\n      resetTableDataCombinationDuplicatedAdd() {\r\n        this.tableData_combination_duplicated_add = []\r\n      }\r\n      ,\r\n      toPremiumPage(pdPremCode) {\r\n        if (!pdPremCode) {\r\n          this.notifyError(this.$t('productProgramme.message.invalidPremCode'))\r\n        } else {\r\n          this.selectedPremiumCode = pdPremCode\r\n          this.dialogVisible.premium = true\r\n        }\r\n      }\r\n      ,\r\n      toSrvBnftPage(survival) {\r\n        if (Object.keys(survival).length > 0) {\r\n          this.selectedSrvBnft = survival\r\n          this.dialogVisible.survivalBenefit = true\r\n        } else {\r\n          this.notifyError(this.$t('productProgramme.message.invalidBenefit'))\r\n        }\r\n      }\r\n      ,\r\n      toClmBnftPage(claim) {\r\n        if (Object.keys(claim).length > 0) {\r\n          this.selectedClmBnft = claim\r\n          this.dialogVisible.claimBenefit = true\r\n        } else {\r\n          this.notifyError(this.$t('productProgramme.message.invalidBenefit'))\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n  .showDiv {\r\n    width: 90%;\r\n    height: 100%;\r\n    margin-top: -40px;\r\n    margin-left: -40px;\r\n    position: absolute;\r\n    background: #ffffff00;\r\n    z-index: 999;\r\n  }\r\n\r\n  .divider {\r\n    color: black;\r\n    background-color: black;\r\n    width: 1px;\r\n  }\r\n\r\n</style>\r\n"]}]}
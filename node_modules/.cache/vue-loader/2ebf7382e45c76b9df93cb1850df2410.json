{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\preservation-test\\casedef\\index.vue?vue&type=style&index=0&id=48ba7e36&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\preservation-test\\casedef\\index.vue","mtime":1609847107134},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQoNCi5kaXZjbGFzcyB7DQogIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDAyZTsNCiAgd2lkdGg6IDczNXB4Ow0KICBoZWlnaHQ6IGF1dG87DQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA60CA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/preservation-test/casedef","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :label=\"$t('preservationTestCaseDefinition.CaseDefinition')\" @backTo=\"backPage\"/>\r\n\r\n    <!-- 产品信息 -->\r\n    <cus-commodity-info></cus-commodity-info>\r\n\r\n    <!--    <div style=\"margin: 20px 30px 30px 0px\">-->\r\n    <!--      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">-->\r\n    <!--        <el-col :span=\"6\">-->\r\n    <!--          <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-cloudy\" @click=\"openUploadDialog\">-->\r\n    <!--            {{ $t('preservationTestCaseDefinition.testCaseUpload') }}-->\r\n    <!--          </el-button>-->\r\n    <!--        </el-col>-->\r\n    <!--      </el-row>-->\r\n    <!--    </div>-->\r\n\r\n    <!--测试案例-->\r\n    <cus-table-title :label=\"$t('preservationTestCaseDefinition.testCase')\"/>\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs1\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCase\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testPoint')\" align=\"center\" prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}、</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('productTestingNewDetails.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-if=\"scope.row.pdTestCaseDefinition === '2'\" v-auth=\"'new-single-test:downloadCase'\" class=\"filter-button\" icon=\"el-icon-download\"\r\n                     size=\"mini\" @click=\"downloadCaseDef(scope.row)\">\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'new-single-test:deleteCase'\" :disabled=\"scope.row.pdTestStatus==='1'\"\r\n                       @ok=\"deleteCaseDef(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page1\" v-model=\"configs1\" :pageSize=\"10\" :params=\"params1\"\r\n                    url=\"/preservation-test/base/queryPdTestCase\"/>\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('preservationTestCaseDefinition.CaseDefinition')\"/>\r\n    <el-form ref=\"caseDefForm\" :model=\"CaseDefinition\" :rules=\"defRules\"\r\n             label-width=\"auto\" style=\"margin-left: 30px\">\r\n      <el-col :span=\"7\">\r\n        <el-form-item :label=\"$t('preservationTestCaseDefinition.testPoint')\" prop=\"testPoint\">\r\n          <el-select v-model=\"CaseDefinition.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\"  clearable multiple>\r\n            <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-col>\r\n    </el-form>\r\n\r\n\r\n    <!--保单选择-->\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.policySelection')\" style=\"clear: both\"/>\r\n\r\n    <el-form ref=\"policySelForm\"  :model=\"policySelection\" label-width=\"auto\" style=\"margin-left: 30px\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\" prop=\"contNo\">\r\n            <el-input v-model=\"policySelection.productTypeDetail\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('rule.product')\" prop=\"pdCode\">\r\n            <el-select clearable filterable\r\n                       v-model=\"policySelection.pdCode\">\r\n              <el-option v-for=\"product in productList\" :label=\"product.pdCode + ':' + product.pdName\"\r\n                         :value=\"product.pdCode\" :key=\"product.id\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('preservationTestCaseDefinition.contNo')\" prop=\"contNo\">\r\n            <el-input v-model=\"policySelection.contNo\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('preservationTestCaseDefinition.effectiveDate')\" prop=\"testPoint\">\r\n            <el-date-picker v-model=\"policySelection.effectiveDate\" :end-placeholder=\"$t('productSelect.productApplyEndDate')\":range-separator=\"$t('productSelect.to')\"\r\n                            :start-placeholder=\"$t('productSelect.productApplyStartDate')\" type=\"daterange\" value-format=\"yyyy-MM-dd\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper><el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"searchPolicyData\">\r\n          {{ $t('renewalTest.search') }}\r\n        </el-button></cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <div style=\"margin: 20px 30px 30px 0px\">\r\n      <el-row class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n        <el-col :span=\"6\">\r\n          <el-button icon=\"el-icon-circle-plus-outline\" size=\"small\" type=\"primary\" @click=\"addPolicy\">\r\n            {{ $t('preservationTestCaseDefinition.addPolicy') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <cus-table-title :label=\"$t('preservationTestCaseDefinition.policy')\"/>\r\n\r\n    <el-table :data=\"policys\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectPolicys\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleSelectPolicys\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.contNo')\" align=\"center\"\r\n                       prop=\"contNo\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.effectiveDate')\" align=\"center\"\r\n                       prop=\"effectiveDate\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.paymentMode')\" align=\"center\">\r\n        <template v-slot=\"scope\">{{ scope.row.paymentMode | filterPaymentMode }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button :disabled=\"scope.row.contNo !== selectedId\" :icon=\"resultIcon\"\r\n                     class=\"filter-button\" size=\"mini\" @click=\"hidePolicyDataDetail(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div v-if=\"policyDetailShow\">\r\n      <!--产品-->\r\n      <cus-table-title :label=\"$t('productTestingNewDetails.product')\"></cus-table-title>\r\n      <el-table :data=\"configs5\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectConfigs5\">\r\n              <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPlanData\">{{ '' }}</el-radio>\r\n              </span>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n          <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.effectiveDate')\" align=\"center\"\r\n                         prop=\"effectiveDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentDeadline')\" align=\"center\"\r\n                         prop=\"payEndDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                         prop=\"insuranceEndDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.preferentialAmount')\" align=\"center\"\r\n                         prop=\"discountMoney\"/>\r\n      </el-table>\r\n      <!--方案-->\r\n      <cus-table-title :label=\"$t('productTestingNewDetails.programInformation')\"></cus-table-title>\r\n      <el-table :data=\"configs6\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectConfigs6\">\r\n              <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPaymentAndBnftData\">{{ '' }}</el-radio>\r\n              </span>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                         prop=\"planCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.programName')\" align=\"center\"\r\n                         prop=\"planName\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n          <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentDeadline')\" align=\"center\"\r\n                         prop=\"insuranceEndDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                         prop=\"payEndDate\"/>\r\n      </el-table>\r\n\r\n      <!--缴费信息-->\r\n      <cus-table-title :label=\"$t('productTestingNewDetails.paymentInformation')\"></cus-table-title>\r\n      <el-table :data=\"configs7\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                         prop=\"planCode\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentCode')\" align=\"center\"\r\n                         prop=\"paymentCode\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentName')\" align=\"center\"\r\n                         prop=\"paymentName\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n          <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.premiumCalculation')\" align=\"center\"\r\n                         prop=\"premiumCalMethod\">\r\n          <template v-slot=\"scope\">{{ scope.row.premiumCalMethod | filterCalMethod }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentBeginDate')\" align=\"center\"\r\n                         prop=\"payStartDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentEndDate')\" align=\"center\"\r\n                         prop=\"payEndDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.paymentMethod')\" align=\"center\"\r\n                         prop=\"paymentMode\">\r\n          <template v-slot=\"scope\">{{ scope.row.paymentMode | filterFreqType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.preferentialAmount')\" align=\"center\"\r\n                         prop=\"discountMoney\"/>\r\n      </el-table>\r\n\r\n      <!--保障信息-->\r\n      <cus-table-title :label=\"$t('productTestingNewDetails.guaranteeInformation')\"></cus-table-title>\r\n      <el-table :data=\"configs8\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                         prop=\"planCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\"\r\n                         prop=\"benefitCode\"/>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftName')\" align=\"center\"\r\n                         prop=\"benefitName\"/>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"  prop=\"\">\r\n          <template v-slot=\"scope\">{{ scope.row.benefitType | filterBnftType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftDetailType')\" align=\"center\"\r\n                         prop=\"bnftDetailType\">\r\n          <template v-slot=\"scope\">{{ filterBnftDetailType(scope.row.benefitType, scope.row.bnftDetailType) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.startDateOfInsurance')\" align=\"center\"\r\n                         prop=\"starBnftDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.endDateOfInsurance')\" align=\"center\"\r\n                         prop=\"endBnftDate\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.startDateOfCollection')\" align=\"center\"\r\n                         prop=\"startDateOfCollection\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.endDateOfCollection')\" align=\"center\"\r\n                         prop=\"collectionDeadline\"/>\r\n        <el-table-column :label=\"$t('productTestingNewDetails.coverageForTheNextYear')\" align=\"center\"\r\n                         prop=\"nextYearAmount\"/>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!--保单特定项-->\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.additionalInsurance')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm1\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.originalCoverage')\" prop=\"contNo\">\r\n            <el-input v-model=\"dataForm1.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-input v-model=\"dataForm1.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-input v-model=\"dataForm1.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.addCoverage')\" prop=\"contNo\">\r\n            <el-input v-model=\"dataForm1.contNo\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.changeInformation')\"/>\r\n    <br/>\r\n    <br/>\r\n    <cus-table-title :label=\"$t('preservationTestCaseDefinition.policyCustomers')\"></cus-table-title>\r\n    <el-table :data=\"configs9\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs7\">\r\n            <span>\r\n              <el-radio :label=\"scope.row\" @change=\"chooseconfigs9\">{{ '' }}</el-radio>\r\n            </span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerRole')\" align=\"center\" prop=\"customerRole\"/>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerSequence')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterSeq(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerNumber')\" align=\"center\"\r\n                       prop=\"insuredNo\">\r\n        <template v-slot=\"scope\">{{ filterCustomerNo(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.gender')\" align=\"center\" prop=\"insuredSex\">\r\n        <template v-slot=\"scope\">{{ filterSex(scope.row) | filterSexType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.insuranceAge')\" align=\"center\" prop=\"insuredAppAge\">\r\n        <template v-slot=\"scope\">{{ filterAge(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.changeMark')\" align=\"center\" prop=\"changemarker\"/>\r\n    </el-table>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"configsForm9\"  :model=\"configsForm9\" label-width=\"auto\" :rules=\"rules\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <el-input v-model=\"configsForm9.aibNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <cus-select :codetype=\"'sex'\" v-model=\"configsForm9.aibSex\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"insuredAppAge\"\r\n                        :label=\"$t('productTestingNewCaseDefinition.customerage')\">\r\n            <el-input :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\" clearable\r\n                      v-model=\"configsForm9.aibAge\">\r\n              <el-select v-model=\"configsForm9.ageUnit\" class=\"cst\" slot=\"append\">\r\n                <el-option :label=\"$t('i18nView.ageY')\" value=\"Y\"/>\r\n                <el-option :label=\"$t('i18nView.dayD')\" value=\"D\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"19\" align=\"right\">\r\n          <el-button icon='el-icon-plus' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.add') }}\r\n          </el-button>\r\n        </el-col>\r\n        <el-col :offset=\"1\" :span=\"4\">\r\n          <el-button icon='el-icon-minus' size=\"small\"  type=\"danger\" @click=\"\">\r\n            {{ $t('table.cancel') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <br/>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.changePeriod')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm2\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-select v-model=\"dataForm2.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\"\r\n                       clearable>\r\n              <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-select v-model=\"dataForm2.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\"\r\n                       clearable>\r\n              <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.changeCategory')\"/>\r\n    <br/>\r\n    <br/>\r\n    <cus-table-title :label=\"$t('preservationTestCaseDefinition.policyCustomers')\"></cus-table-title>\r\n    <el-table :data=\"configs10\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs8\">\r\n            <span>\r\n              <el-radio :label=\"scope.row\" @change=\"\">{{ '' }}</el-radio>\r\n            </span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerRole')\" align=\"center\" prop=\"\"/>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerSequence')\" align=\"center\"\r\n                       prop=\"\"/>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.customerNumber1')\" align=\"center\"\r\n                       prop=\"\"/>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.occupationGrade')\" align=\"center\"\r\n                       prop=\"\"/>\r\n      <el-table-column :label=\"$t('preservationTestCaseDefinition.changeMark')\" align=\"center\" prop=\"\"/>\r\n    </el-table>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"configsForm10\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-input v-model=\"configsForm10.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-select v-model=\"configsForm10.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\"\r\n                       clearable>\r\n              <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"19\" align=\"right\">\r\n          <el-button icon='el-icon-plus' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.add') }}\r\n          </el-button>\r\n        </el-col>\r\n        <el-col :offset=\"1\" :span=\"4\">\r\n          <el-button icon='el-icon-minus' size=\"small\"  type=\"danger\" @click=\"\">\r\n            {{ $t('table.cancel') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <br/>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.changePayment')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm3\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm3.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm3.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-select v-model=\"dataForm3.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\"\r\n                       clearable>\r\n              <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.insuranceReduction')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm4\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.originalCoverage')\" prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm4.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm4.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.subMoney')\" prop=\"contNo\">\r\n            <el-input v-model=\"dataForm4.contNo\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.paymentReduced')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm5\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm5.contNo\" clearable>\r\n              <template slot=\"suffix\">{{$t('i18nView.yuan')}}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm5.contNo\" clearable>\r\n              <template slot=\"suffix\">{{$t('i18nView.yuan')}}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-input v-model=\"dataForm5.contNo\" clearable>\r\n              <template slot=\"suffix\">{{$t('i18nView.yuan')}}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-row>\r\n              <el-input v-model=\"dataForm5.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.year')}}</template>\r\n              </el-input>\r\n              <el-input v-model=\"dataForm5.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.month')}}</template>\r\n              </el-input>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.periodSurrender')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm6\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-input v-model=\"dataForm6.contNo\" clearable disabled/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-date-picker value-format=\"yyyy-MM-dd\" v-model=\"dataForm6.date\" :placeholder=\"$t('i18nView.selectDate')\" type=\"date\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-input v-model=\"dataForm6.contNo\" clearable>\r\n              <template slot=\"suffix\">{{$t('i18nView.yuan')}}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.surrender')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm7\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"testPoint\">\r\n            <el-date-picker value-format=\"yyyy-MM-dd\" v-model=\"dataForm7.date\" :placeholder=\"$t('i18nView.selectDate')\" type=\"date\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-row>\r\n              <el-input v-model=\"dataForm7.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.year')}}</template>\r\n              </el-input>\r\n              <el-input v-model=\"dataForm7.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.month')}}</template>\r\n              </el-input>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.currentPrice')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm8\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-row>\r\n              <el-input v-model=\"dataForm8.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.year')}}</template>\r\n              </el-input>\r\n              <el-input v-model=\"dataForm8.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.month')}}</template>\r\n              </el-input>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.annuityCalculation')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-form ref=\"insuredForm\"  :model=\"dataForm9\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item prop=\"contNo\">\r\n            <el-row>\r\n              <el-input v-model=\"dataForm9.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.year')}}</template>\r\n              </el-input>\r\n              <el-input v-model=\"dataForm9.contNo\" clearable style=\"width:110px;\">\r\n                <template slot=\"suffix\">{{$t('i18nView.month')}}</template>\r\n              </el-input>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon='el-icon-success' size=\"small\"  type=\"primary\" @click=\"\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('preservationTestCaseDefinition.paymentCalculation')\"/>\r\n    <br/>\r\n    <br/>\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col :span=\"24\" align=\"right\">\r\n        <el-button v-auth=\"'renewal-test:saveCaseDef'\" icon=\"el-icon-success\" size=\"small\"\r\n                   type=\"primary\" @click=\"saveCaseDef\">\r\n          {{ this.testCaseUpdateFlag ? $t('table.update') : $t('table.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!--测试案例上传弹窗-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"dialogTableVisible1\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <div>\r\n        <span style=\"cursor: pointer\" @click=\"back1\">\r\n          <i class=\"el-icon-back\" style=\"margin-right: 5px\">{{ $t('table.back') }}</i>\r\n        </span>\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n        <label>{{ $t('preservationTestCaseDefinition.testCaseNewUpload') }}</label>\r\n      </div>\r\n      <hr>\r\n      <br/>\r\n      <cus-commodity-info></cus-commodity-info>\r\n\r\n      <el-row style=\"margin-top: 15px;margin-bottom: 15px\">\r\n        <el-col :span=\"24\" align=\"left\">\r\n          <el-button v-auth=\"'new-single-test:downloadTemplate'\" icon=\"el-icon-download\" size=\"small\"  type=\"primary\"\r\n                     @click=\"templateDownload\">\r\n            {{ $t('preservationTestCaseDefinition.templateDownload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <div align=\"left\" class=\"divclass\">\r\n        <div style=\"margin-left: 18px;margin-top: 18px;margin-bottom: 18px\">\r\n          <el-form id=\"uploadForm\">\r\n            <el-form-item>\r\n              <el-upload ref=\"upload\" :auto-upload=\"false\" :file-list=\"fileList\" :limit=\"1\"\r\n                         :on-change=\"handleChange\" :on-remove=\"handleRemove\" action=\"\" drag multiple>\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.uploadText1')}}<em>{{$t('i18nView.uploadText2')}}</em></div>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.chooseOverClick')}}\"{{ $t('table.upload') }}\"{{$t('i18nView.button')}}</div>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">{{$t('i18nView.onlyUploadModelFile')}}</div>\r\n              </el-upload>\r\n\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <el-row style=\"margin-top: 35px\">\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon=\"el-icon-upload\" size=\"small\"  type=\"primary\" @click=\"testCaseUpload\">\r\n            {{ $t('preservationTestCaseDefinition.upload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  deleteCase,\r\n  downloadCaseDef,\r\n  downloadCaseTemplate,\r\n  queryPdTestFunc,\r\n  queryPolicyData,\r\n  saveCaseDef,\r\n  uploadTestCase,\r\n} from \"@/api/pdtest/preservationTest\";\r\n\r\nlet _this;\r\nexport default {\r\n  name: \"renewalTestCaseDefinition\",\r\n  filters: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code];\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code];\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName(\"sex\", code, true);\r\n    },\r\n    filterRela(code) {\r\n      return _this.getCodeName(\"insuranceRelationship\", code);\r\n    },\r\n    filterPaymentMode(code) {\r\n      return _this.getCodeName(\"pd_prem_freq\", code);\r\n    },\r\n    filterCalMethod(code) {\r\n      return _this.getCodeName(\"pd_prem_cal_method\", code, true);\r\n    },\r\n    filterCurrency(code) {\r\n      return _this.getCodeName(\"currency2\", code, true);\r\n    },\r\n    filterBnftType(code) {\r\n      return _this.getCodeName(\"guaranteeDetails\", code, true);\r\n    },\r\n    filterFreqType(code) {\r\n      return _this.getCodeName(\"pd_prem_freq\", code, true);\r\n    },\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      testCaseType: {\"1\": \"自动化测试\", \"2\": \"自定义测试\"},\r\n      testCaseDefinition: {\"1\": \"页面定义\", \"2\": \"上传定义\"},\r\n      policySelection: {\r\n        productTypeDetail: \"\",\r\n        pdCode: \"\",\r\n        contNo: \"\",\r\n        effectiveDate: \"\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n      },\r\n      policys: [],\r\n      productList:[],\r\n      selectPolicys: \"\",\r\n      policyDetailShow: false,\r\n      resultIcon: \"el-icon-arrow-down\",\r\n      selectedId: \"\",\r\n      policyDetailData: {},\r\n      configs5: [],\r\n      selectConfigs5: \"\",\r\n      configs6: [],\r\n      selectConfigs6: \"\",\r\n      selectConfigs7: \"\",\r\n      selectConfigs8: \"\",\r\n      configs7: [],\r\n      configs8: [],\r\n      configs9: [],\r\n      configs10: [],\r\n      selectConfigs2: \"\",\r\n      selectConfigs3: \"\",\r\n      funcSelect: [],\r\n      elementRules: {},\r\n      configs1: [],\r\n      selectConfigs1: \"\",\r\n      configs2: [],\r\n      configs3: [],\r\n      testCaseUpdateFlag: false,\r\n      quickicon: \"el-icon-arrow-right\",\r\n      fileList: [],\r\n      params1: {},\r\n      configsForm9: {\r\n        aibNo:'',\r\n        aibSex:'',\r\n        aibAge:'',\r\n        ageUnit:''\r\n      },\r\n      configsForm10: {},\r\n      dataForm1: {},\r\n      dataForm2: {},\r\n      dataForm3: {},\r\n      dataForm4: {},\r\n      dataForm5: {},\r\n      dataForm6: {},\r\n      dataForm7: {},\r\n      dataForm8: {},\r\n      dataForm9: {},\r\n      pdInfo: {\r\n        pdInfoId: \"\",\r\n        commodityType: \"\",\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdName: \"\",\r\n        pdEdition: \"\",\r\n        pdTestCaseDesc: \"\",\r\n        testPoint: \"\",\r\n      },\r\n      defRules: {\r\n        pdTestCaseDesc: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"preservationTestCaseDefinition.casedescmsg\"),\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        testPoint: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"preservationTestCaseDefinition.testpointmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      rules:{\r\n        insuredAppAge: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"preservationTestCaseDefinition.insuredmsg\"),\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      CaseDetails: {},\r\n      specificItemUpdateFlag: false,\r\n      specificItem: {\r\n        premiumDueDate: \"\",\r\n        startPeriodOfExemption: \"\",\r\n        endPeriodOfExemption: \"\",\r\n        expiryDateOfInsurance: \"\",\r\n      },\r\n      dialogTableVisible1: false,\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    console.log(\"11111111\")\r\n    let pdInfo = this.getJsonData(\"pdTestInfo\");\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id;\r\n      this.pdInfo.pdInfoId = pdInfo.id;\r\n      this.pdInfo.commodityType = pdInfo.commodityType;\r\n\r\n      this.CaseDefinition.pdInfoId = pdInfo.id;\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode;\r\n      this.CaseDefinition.pdName = pdInfo.pdName;\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition;\r\n      console.log(\"22222\")\r\n\r\n      this.initTestFuncSelect(\"preservationtest\", pdInfo.id);\r\n      this.initPolicyData(pdInfo.id);\r\n    }\r\n    this.selectProduct();\r\n  },\r\n  methods: {\r\n    filterBnftDetailType(code, sencode) {\r\n      return this.getCodeName(\"guaranteeDetails.\" + code, sencode, true);\r\n    },\r\n    searchPolicyData() {\r\n      if (this.policySelection.effectiveDate) {\r\n        this.policySelection.startDate = this.policySelection.effectiveDate[0];\r\n        this.policySelection.endDate = this.policySelection.effectiveDate[1];\r\n      } else {\r\n        this.policySelection.startDate = \"\";\r\n        this.policySelection.endDate = \"\";\r\n      }\r\n\r\n      let params = {\r\n        pdInfoId: this.params1.pdInfoId,\r\n        productTypeDetail: this.policySelection.productTypeDetail,\r\n        pdCode: this.policySelection.pdCode,\r\n        contNo: this.policySelection.contNo,\r\n        startDate: this.policySelection.startDate,\r\n        endDate: this.policySelection.endDate,\r\n      };\r\n\r\n      queryPolicyData(this.buildRequestData(params)).then((res) => {\r\n        this.policys = res.data;\r\n      });\r\n    },\r\n    //查询产品\r\n    selectProduct(){\r\n      let params = {\r\n        pdInfoId: this.params1.pdInfoId,\r\n        productTypeDetail: this.policySelection.productTypeDetail,\r\n        pdCode: \"\",\r\n        contNo: \"\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n      };\r\n      console.log(\"232442342\")\r\n      queryPolicyData(this.buildRequestData(params)).then((res) => {\r\n        for(const product of res.data){\r\n            let flag = false;\r\n            for (const item of this.productList) {\r\n              if (product.products[0].pdCode === item.pdCode) {\r\n                flag = true;\r\n                break\r\n              }\r\n            }\r\n            if (!flag) {\r\n              this.productList.push(product.products[0])\r\n            }\r\n          }\r\n      });\r\n    },\r\n    //保单客户\r\n    chooseconfigs9(row){\r\n      if (row.customerCode === 'policyholder') {\r\n        this.configsForm9.aibNo = row.appntNo\r\n        this.configsForm9.aibAge = row.appntAge\r\n        this.configsForm9.aibSex = row.appntSex\r\n        this.configsForm9.ageUnit = row.ageUnit\r\n      } else if (row.customerCode === 'insured') {\r\n        this.configsForm9.aibNo = row.insuredNo\r\n        this.configsForm9.aibAge = row.insuredAppAge\r\n        this.configsForm9.aibSex = row.insuredSex\r\n        this.configsForm9.ageUnit = row.ageUnit\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        this.configsForm9.aibNo = row.bnfNo\r\n        this.configsForm9.aibAge = row.bnfAge\r\n        this.configsForm9.aibSex = row.bnfSex\r\n        this.configsForm9.ageUnit = row.ageUnit\r\n      }\r\n    },\r\n    initPolicyData(pdInfoId) {\r\n      queryPolicyData(this.buildRequestData({pdInfoId: pdInfoId})).then(\r\n        (res) => {\r\n          this.policys = res.data;\r\n        }\r\n      );\r\n    },\r\n    filterCustomerNo(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntNo\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredNo\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfNo\r\n      }\r\n    },\r\n    filterSeq(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSeq\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSeq\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSeq\r\n      }\r\n    },\r\n    filterSex(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSex\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSex\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSex\r\n      }\r\n    },\r\n    filterAge(row) {\r\n      let unit = ''\r\n      if (row.ageUnit === 'Y') {\r\n        unit = '(岁)'\r\n      }\r\n      if (row.ageUnit === 'D') {\r\n        unit = '(天)'\r\n      }\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntAge + unit\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredAppAge + unit\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfAge + unit\r\n      }\r\n    },\r\n    hidePolicyDataDetail() {\r\n      if (this.resultIcon === \"el-icon-arrow-down\") {\r\n        this.policyDetailShow = true;\r\n        this.resultIcon = \"el-icon-arrow-up\";\r\n      } else if (this.resultIcon === \"el-icon-arrow-up\") {\r\n        this.policyDetailShow = false;\r\n        this.resultIcon = \"el-icon-arrow-down\";\r\n      }\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + \"上传定义.xlsm\";\r\n      downloadCaseDef(\r\n        this.buildRequestData({testCasePath: row.pdTestCasePath})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, fileName);\r\n      });\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then((res) => {\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n        this.$refs.page1.reload();\r\n        this.resetCaseDef();\r\n      });\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = \"\";\r\n      this.CaseDefinition.pdTestCaseDesc = \"\";\r\n      this.CaseDefinition.testPoint = \"\";\r\n      this.testCaseUpdateFlag = false;\r\n      this.configs3 = [];\r\n      this.selectPolicys = \"\";\r\n      this.policyDetailShow = false;\r\n      this.specificItemUpdateFlag = false;\r\n      this.resetSpecificItem();\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true;\r\n      this.CaseDefinition.id = row.id;\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId;\r\n      this.CaseDefinition.pdCode = row.pdCode;\r\n      this.CaseDefinition.pdEdition = row.pdEdition;\r\n      this.CaseDefinition.pdName = row.pdName;\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc;\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(\r\n        (data) => data.pd_test_func_id\r\n      );\r\n      //处理data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData);\r\n      let data = pdTestCaseData.testData;\r\n      this.selectPolicys = this.policys.filter(\r\n        (p) => p.contNo === data.policy.contNo\r\n      )[0];\r\n      this.selectPolicys[\"specificItem\"] = data.policy.specificItem;\r\n      this.handleSelectPolicys(this.selectPolicys);\r\n    },\r\n    addPolicy() {\r\n      this.$router.push({\r\n        path: \"/product-testing/preservation-test/preservation-test-addpolicy\",\r\n      });\r\n    },\r\n    handleSelectPolicys(row) {\r\n      console.log(row)\r\n      this.policyDetailShow = true;\r\n      this.resultIcon = \"el-icon-arrow-up\";\r\n      this.selectedId = row.contNo;\r\n      this.policyDetailData = row;\r\n      this.configs5 = row.products;\r\n      this.configs6 = row.plans;\r\n      this.configs7 = row.payments;\r\n      this.configs8 = row.bnfts;\r\n      this.configs9 = [];\r\n      for(const insureid of row.insureid){\r\n        this.configs9.push(insureid)\r\n      }\r\n      for(const bnf of row.bnf){\r\n        this.configs9.push(bnf)\r\n      }\r\n      for(const appnt of row.appnt){\r\n        this.configs9.push(appnt)\r\n      }\r\n\r\n      this.resetSpecificItem();\r\n      this.specificItemUpdateFlag = false;\r\n      if (row.specificItem) {\r\n        this.specificItem = row.specificItem;\r\n        this.specificItemUpdateFlag = true;\r\n      }\r\n    },\r\n    resetSpecificItem() {\r\n      this.specificItem = {\r\n        premiumDueDate: \"\",\r\n        startPeriodOfExemption: \"\",\r\n        endPeriodOfExemption: \"\",\r\n        expiryDateOfInsurance: \"\",\r\n      };\r\n    },\r\n    buildPlanData(row) {\r\n      this.configs6 = this.policyDetailData.plans.filter(\r\n        (plan) => plan.pdCode === row.pdCode\r\n      );\r\n    },\r\n    buildPaymentAndBnftData(row) {\r\n      this.configs7 = this.policyDetailData.payments.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n      this.configs8 = this.policyDetailData.bnfts.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n    },\r\n    saveSpecificItems() {\r\n      if (this.selectPolicys) {\r\n        this.policys\r\n          .filter((p) => p.contNo === this.policyDetailData.contNo)\r\n          .forEach((p1) => {\r\n            p1[\"specificItem\"] = this.specificItem;\r\n          });\r\n        if (this.specificItemUpdateFlag) {\r\n          this.notifySuccess(this.$t(\"successMessage.update\"));\r\n        } else {\r\n          this.notifySuccess(this.$t(\"successMessage.save\"));\r\n          this.specificItemUpdateFlag = true;\r\n        }\r\n      } else {\r\n        this.notifyError(\"请选择一张保单\");\r\n      }\r\n    },\r\n    saveCaseDef() {\r\n      this.$refs.caseDefForm.validate((pass) => {\r\n        if (pass) {\r\n          if (this.selectPolicys) {\r\n            this.CaseDefinition[\"data\"] = {};\r\n            //保存产品险种定制页面信息\r\n            let result = {};\r\n            result[\"productCode\"] = this.CaseDefinition.pdCode;\r\n            result[\"productVersionNo\"] = this.CaseDefinition.pdEdition;\r\n            this.CaseDefinition.data[\"policy\"] = this.selectPolicys;\r\n            //保存入库\r\n            saveCaseDef(this.buildRequestData(this.CaseDefinition)).then(\r\n              (res) => {\r\n                this.notifySuccess(this.$t(\"successMessage.save\"));\r\n                this.$refs.page1.reload();\r\n                this.resetCaseDef();\r\n              }\r\n            );\r\n          } else {\r\n            this.notifyError(\"请选择一张保单\");\r\n          }\r\n        } else {\r\n          this.focusItem();\r\n        }\r\n      });\r\n    },\r\n    initTestFuncSelect(testModuleCode, pdInfoId) {\r\n      this.funcSelect = [];\r\n      queryPdTestFunc(\r\n        this.buildRequestData({\r\n          testModuleCode: testModuleCode,\r\n          pdInfoId: pdInfoId,\r\n        })\r\n      ).then((res) => {\r\n        let funcs = res.data;\r\n        for (let i = 0; i < funcs.length; i++) {\r\n          let data = funcs[i];\r\n          this.funcSelect.push({\r\n            label: data.pdTestFuncCode + \":\" + data.pdTestFuncDesc,\r\n            value: data.id,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    templateDownload() {\r\n      downloadCaseTemplate(\r\n        this.buildRequestData({testModule: \"new-single-test\"})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, \"NewSingleTestCaseTemplate.xlsm\");\r\n      });\r\n    },\r\n    openUploadDialog() {\r\n      this.dialogTableVisible1 = true;\r\n    },\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError(\"请选择上传的文件\");\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList);\r\n        formData.append(\"pdInfoId\", this.CaseDefinition.pdInfoId);\r\n        uploadTestCase(formData).then((res) => {\r\n          this.notifySuccess(\"上传成功\");\r\n          this.$refs.upload.clearFiles();\r\n          this.back1();\r\n          this.$refs.page1.reload();\r\n        });\r\n      }\r\n    },\r\n    back1() {\r\n      this.dialogTableVisible1 = false;\r\n    },\r\n    backPage() {\r\n      this.$router.push({path: \"/product-testing/preservation-test/preservation-test-detail\"});\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: \"上传文件名不能重复!\",\r\n              duration: 2000,\r\n            });\r\n            fileList.pop();\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList;\r\n\r\n      /*\r\n     var msg = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n     //判断文件格式\r\n     if (!(msg === 'xls' || msg === 'xlsx')) {\r\n       this.$notify.error({\r\n         title: '错误',\r\n         message: '上传文件只能是 xls、xlsx格式!',\r\n         duration: 200\r\n       })\r\n       return\r\n     }*/\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: \"错误\",\r\n          message: \"上传文件大小不能超过 10MB!\",\r\n          duration: 500,\r\n        });\r\n        return;\r\n      }\r\n    },\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: \"提示\",\r\n        message: \"最多上传三个文件,替换请先移除！\",\r\n        duration: 1000,\r\n      });\r\n    },\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n      } else {\r\n        this.$message.error(`上传文件失败`);\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n</style>\r\n\r\n"]}]}
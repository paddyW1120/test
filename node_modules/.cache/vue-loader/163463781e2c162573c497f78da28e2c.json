{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\workflow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\workflow.vue","mtime":1609847107209},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsKICBkZXBsb3ksCiAgYXBwbHlQcm9kdWN0LAogIGZpbmlzaFByb2R1Y3RJbmZvRGVmLAogIGZpbmlzaFByb2R1Y3RPcGVyYXRpb25hbERlZiwKICBwYXNzTmV3T3JkZXJUZXN0LAogIHBhc3NSZW5ld2FsUmVuZXdhbFRlc3QsCiAgcGFzc1ByZXNlcnZhdGlvblRlc3QsCiAgcGFzc0NsYWltc1Rlc3QsCiAgcGFzc1J1bGVUZXN0LAogIHByb2R1Y3RBdWRpdCwKICBwcm9kdWN0UmVsZWFzZSwKICByb2xsYmFja0F1ZGl0LAogIGFzc2lnblRhc2ssCiAgZ2V0TGVmdFRhc2tDb3VudCwKICBleGVjdXRlT3BlcmF0aW9uYWxEaXN0cmlidXRpb24sCiAgZXhlY3V0ZU9wZXJhdGlvbmFsUHJlc2VydmF0aW9uLAogIGV4ZWN1dGVPcGVyYXRpb25hbFVuZGVyd3JpdGluZywKICBleGVjdXRlT3BlcmF0aW9uYWxSZW5ld2FsLAogIGV4ZWN1dGVPcGVyYXRpb25hbENvdmVyLAogIGV4ZWN1dGVPcGVyYXRpb25hbEhlUGVpLAogIGZpbmlzaEZvcm11bGFEZWYsCiAgZmluaXNoUnVsZURlZiwKICBjaGFuZ2VUb0Rpc2NvbnRpbnVlZCwKICBmaW5pc2hEaXNjb250aW51ZWQsCiAgY2hhbmdlVG9PcGVyYXRpb25hbE9ySW5mb0RlZmluaXRpb24sCiAgY2hhbmdlVG9Gb3JtdWxhT3JSdWxlLAogIGludGVycnVwVGVzdFNpZ25hbCwKICBnZXRQcm9kdWN0U3RhdHVzLAogIGdldFR5cGUsCiAgdGVzdG1heG5vLAp9IGZyb20gJ0AvYXBpL3dvcmtmbG93L3dvcmtmbG93JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd3b3JrZmxvdycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhcmFtczI6IHsKICAgICAgICB1c2VyQ29kZTogJ3p4ZicsCiAgICAgICAgdGVuYW50SWQ6ICcxJwogICAgICB9LAogICAgICBjb25maWdzMjogW10sCiAgICAgIHBhcmFtczogewogICAgICAgIHRlbmFudElkOiAnMScKICAgICAgfSwKICAgICAgY29uZmlnczogW10sCiAgICAgIGZvcm06IHsKICAgICAgICB0eXBlOiAnJywKICAgICAgICBpbmZvRmxhZzogdHJ1ZSwKICAgICAgICBzdGF0dXNWbzogJycsCiAgICAgICAgb3B0aW9uczogW3sgJ2tleSc6ICdwcm9kdWN0T3BlcmF0aW5nRmxhZycsICdsYWJlbCc6ICfkuqflk4HokKXov5DlrprkuYknIH0sIHsKICAgICAgICAgICdrZXknOiAncHJvZHVjdFRlc3RGbGFnJywKICAgICAgICAgICdsYWJlbCc6ICfkuqflk4HmtYvor5UnCiAgICAgICAgfSwgeyAna2V5JzogJ3Byb2R1Y3RBdWRpdEZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB5a6h5qC4JyB9XSwKICAgICAgICBvcHRpb25zMjogW3sgJ2tleSc6ICdwcm9kdWN0VGVzdEZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB5rWL6K+VJyB9LCB7ICdrZXknOiAncHJvZHVjdEF1ZGl0RmxhZycsICdsYWJlbCc6ICfkuqflk4HlrqHmoLgnIH1dLAogICAgICAgIG9wdGlvbnMzOiBbCiAgICAgICAgICAgICAgICAgICB7ICdrZXknOiAncHJvZHVjdERpc3RyaWJ1dGlvbkZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB6ZSA5ZSu5a6a5LmJJyB9LAogICAgICAgICAgICAgICAgICAgeyAna2V5JzogJ3Byb2R1Y3RDb3ZlckZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB5om/5L+d5a6a5LmJJyB9LAogICAgICAgICAgICAgICAgICAgeyAna2V5JzogJ3Byb2R1Y3RVbmRlcndyaXRpbmdGbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeaguOS/neWumuS5iScgfSwKICAgICAgICAgICAgICAgICAgIHsgJ2tleSc6ICdwcm9kdWN0UmVuZXdhbEZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB57ut5pyf57ut5L+d5a6a5LmJJyB9LAogICAgICAgICAgICAgICAgICAgeyAna2V5JzogJ3Byb2R1Y3RQcmVzZXJ2YXRpb25GbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeS/neWFqOWumuS5iScgfSwKICAgICAgICAgICAgICAgICAgIHsgJ2tleSc6ICdwcm9kdWN0SGVQZWlGbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeaguOi1lOWumuS5iScgfQogICAgICAgICAgICAgICAgICAgXSwKICAgICAgICBvcHRpb25zNDogWwogICAgICAgICAgeyAna2V5JzogJ25ld1NpbmdsZUZsYWcnLCAnbGFiZWwnOiAn5paw5Y2V5rWL6K+VJyB9LAogICAgICAgICAgeyAna2V5JzogJ3JlbmV3YWxGbGFnJywgJ2xhYmVsJzogJ+e7reacn+e7reS/nea1i+ivlScgfSwKICAgICAgICAgIHsgJ2tleSc6ICdwcmVzZXJ2YXRpb25GbGFnJywgJ2xhYmVsJzogJ+S/neWFqOa1i+ivlScgfSwKICAgICAgICAgIHsgJ2tleSc6ICdjbGFpbXNGbGFnJywgJ2xhYmVsJzogJ+eQhui1lOa1i+ivlScgfSwKICAgICAgICBdLAogICAgICAgIHNlbGVjdFZhbHVlOiAnJywKICAgICAgICBzZWxlY3RWYWx1ZTI6ICcnLAogICAgICAgIHNlbGVjdFZhbHVlMzogW10sCiAgICAgICAgdXNlckNvZGU6ICcnLAogICAgICAgIHRlbmFudElkOiAnJywKICAgICAgICBjaGVja0xpc3Q6ICcnLAogICAgICAgIGZsb3d0eXBlOiAnJywKICAgICAgICBpbnRlcnJ1cENoZWNrTGlzdDogW10sCiAgICAgICAgYXVkaXRDaGVja0xpc3Q6IFtdLAogICAgICAgIGNoYW5nZUNoZWNrTGlzdDogW10sCiAgICAgICAgYnVzaW5lc3NLZXk6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwcm9jZXNzSW5zdGFuY2VJZDogJzYzNjdlZmEyLTczZmMtMTFlYS05MDZhLTEyNjNjODcyODE5OScsCiAgICAgICAgb3BlcmF0aW9uYWxGbGFnOiAnMScsCiAgICAgICAgdGVzdEZsYWc6ICcwJywKICAgICAgICBsZWZ0U3ViUHJvY2VzczogMAogICAgICB9CgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvY2Vzc0luc3RhbmNlSWQnKQogICAgaWYgKHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCl7CiAgICAgIHRoaXMuZ2V0VHlwZSgpCiAgICAgIHRoaXMuZ2V0U3RhdHVzKCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRlc3RtYXhubygpewogICAgICB0ZXN0bWF4bm8oKS50aGVuKHJlcz0+ewoKICAgICAgfSkKICAgIH0sCiAgICBkb0RlcGxveSgpIHsKICAgICAgaWYgKHRoaXMuZm9ybS50ZW5hbnRJZCA9PT0gJycpIHsKICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvcign6K+36L6T5YWl56ef5oi3SWQnKQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgJ3RlbmFudElkJzogdGhpcy5mb3JtLnRlbmFudElkCiAgICAgICAgfQogICAgICAgIGRlcGxveShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ+mDqOe9suWujOaIkCcpCiAgICAgICAgfSkKICAgICAgfQoKICAgIH0sCiAgICBnZXRTdGF0dXMoKXsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgIH0KICAgICAgZ2V0UHJvZHVjdFN0YXR1cyhkYXRhKS50aGVuKHJlcz0+ewogICAgICAgIHRoaXMuZm9ybS5zdGF0dXNWbz0gcmVzLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICBnZXRUeXBlKCl7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIGdldFR5cGUoZGF0YSkudGhlbihyZXM9PnsKICAgICAgICB0aGlzLmZvcm0uaW5mb0ZsYWcgPSBmYWxzZQogICAgICAgIHRoaXMuZm9ybS50eXBlPSByZXMuZGF0YS50eXBlCiAgICAgICAgbGV0IGJhY2tGbGFnPSByZXMuZGF0YS5iYWNrRmxhZwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3JtLm9wdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChiYWNrRmxhZyA9PSAnMScgJiYgIHRoaXMuZm9ybS5vcHRpb25zW2ldLmtleSAhPSdwcm9kdWN0T3BlcmF0aW5nRmxhZycpewogICAgICAgICAgICB0aGlzLmZvcm0ub3B0aW9uc1tpXS5kaXNhYmxlZCA9IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGxldCB2YXJpYWJsZXMgPSByZXMuZGF0YS52YXJpYWJsZXMKICAgICAgICAvLyBmZjpmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9ybS5vcHRpb25zMy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vICAgbGV0IGtleSA9IHRoaXMuZm9ybS5vcHRpb25zM1tpXS5rZXkKICAgICAgICAvLyAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFyaWFibGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgLy8gICAgIGlmIChrZXkgPT0gdmFyaWFibGVzW2pdLm5hbWUpIHsKICAgICAgICAvLyAgICAgICBpZiAodmFyaWFibGVzW2pdLnZhbHVlID09ICcwJykgewogICAgICAgIC8vICAgICAgICAgdGhpcy5mb3JtLmluZm9GbGFnID0gdHJ1ZQogICAgICAgIC8vICAgICAgICAgYnJlYWsgZmYKICAgICAgICAvLyAgICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgYnJlYWsKICAgICAgICAvLyAgICAgICB9CiAgICAgICAgLy8KICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KCgoKICAgICAgfSkKICAgIH0sCiAgICBkb0FwcGx5KCkgewogICAgICBpZiAodGhpcy5mb3JtLnRlbmFudElkID09PSAnJyB8fCB0aGlzLmZvcm0udXNlckNvZGUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IoJ+ivt+i+k+WFpeenn+aIt0lk5oiW55So5oi357yW56CBJykKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICd0ZW5hbnRJZCc6IHRoaXMuZm9ybS50ZW5hbnRJZCwKICAgICAgICAgICd1c2VyQ29kZSc6IHRoaXMuZm9ybS51c2VyQ29kZSwKICAgICAgICAgICdwZENvZGUnOiB0aGlzLmZvcm0ucGRDb2RlLAogICAgICAgICAgJ3BkRWRpdGlvbic6IHRoaXMuZm9ybS5wZEVkaXRpb24KICAgICAgICB9CiAgICAgICAgYXBwbHlQcm9kdWN0KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCA9IHJlcy5kYXRhLlByb2Nlc3NJbnN0YW5jZUlkCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwcm9jZXNzSW5zdGFuY2VJZCcsIHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCkKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygn5rWB56iL5bey57uP5ZCv5YqoJykKICAgICAgICB9KQogICAgICB9CgogICAgfSwKICAgIGRvQ2hhbmdlKCl7CgogICAgICBpZiAodGhpcy5mb3JtLmZsb3d0eXBlPT0nMScpeyAgIC8v5L+h5oGv5a6a5LmJCiAgICAgICAgaWYgKHRoaXMuZm9ybS5jaGFuZ2VDaGVja0xpc3QubGVuZ3RoPDApewogICAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IoJ+ivt+mAieaLqeS4i+S4gOS4qua1geeoiycpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAndXNlckNvZGUnOiB0aGlzLmZvcm0udXNlckNvZGUsCiAgICAgICAgICAndGVuYW50SWQnOiB0aGlzLmZvcm0udGVuYW50SWQsCiAgICAgICAgICAncGRDb2RlJzogdGhpcy5mb3JtLnBkQ29kZSwKICAgICAgICAgICdwZEVkaXRpb24nOiB0aGlzLmZvcm0ucGRFZGl0aW9uLAogICAgICAgICAgJ3N1YlByb2Nlc3MnOiB0aGlzLmZvcm0uY2hhbmdlQ2hlY2tMaXN0LAogICAgICAgIH0KICAgICAgICBjaGFuZ2VUb09wZXJhdGlvbmFsT3JJbmZvRGVmaW5pdGlvbihkYXRhKS50aGVuKHJlcyA9PnsKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygn5Y+Y5pu05oiQ5YqfJykKICAgICAgICAgIHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCA9IHJlcy5kYXRhLlByb2Nlc3NJbnN0YW5jZUlkCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwcm9jZXNzSW5zdGFuY2VJZCcsIHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCkKICAgICAgICB9KQogICAgICB9ZWxzZSBpZiAodGhpcy5mb3JtLmZsb3d0eXBlPT0nMCcpeyAvL+S6p+WTgeinhOWImQogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgJ3VzZXJDb2RlJzogdGhpcy5mb3JtLnVzZXJDb2RlLAogICAgICAgICAgJ3RlbmFudElkJzogdGhpcy5mb3JtLnRlbmFudElkLAogICAgICAgICAgJ3BkQ29kZSc6IHRoaXMuZm9ybS5wZENvZGUsCiAgICAgICAgICAncGRFZGl0aW9uJzogdGhpcy5mb3JtLnBkRWRpdGlvbiwKICAgICAgICAgICd2YXJpYWJsZXMnOiB0aGlzLmZvcm0uY2hhbmdlQ2hlY2tMaXN0LAogICAgICAgIH0KICAgICAgICBjaGFuZ2VUb0Zvcm11bGFPclJ1bGUoZGF0YSkudGhlbihyZXMgPT57CiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ+WPmOabtOaIkOWKnycpCiAgICAgICAgICB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQgPSByZXMuZGF0YS5Qcm9jZXNzSW5zdGFuY2VJZAogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncHJvY2Vzc0luc3RhbmNlSWQnLCB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQpCiAgICAgICAgfSkKICAgICAgfWVsc2UgaWYodGhpcy5mb3JtLmZsb3d0eXBlPT0nMicpewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgJ3VzZXJDb2RlJzogdGhpcy5mb3JtLnVzZXJDb2RlLAogICAgICAgICAgJ3RlbmFudElkJzogdGhpcy5mb3JtLnRlbmFudElkLAogICAgICAgICAgJ3BkQ29kZSc6IHRoaXMuZm9ybS5wZENvZGUsCiAgICAgICAgICAncGRFZGl0aW9uJzogdGhpcy5mb3JtLnBkRWRpdGlvbiwKICAgICAgICB9CiAgICAgICAgY2hhbmdlVG9EaXNjb250aW51ZWQoZGF0YSkudGhlbihyZXMgPT57CiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ+WPmOabtOaIkOWKnycpCiAgICAgICAgICB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQgPSByZXMuZGF0YS5Qcm9jZXNzSW5zdGFuY2VJZAogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncHJvY2Vzc0luc3RhbmNlSWQnLCB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQpCiAgICAgICAgfSkKICAgICAgfQoKICAgIH0sCiAgICBmaW5pc2hQcm9kdWN0SW5mb0RlZigpIHsKICAgICAgaWYgKHRoaXMuZm9ybS5zZWxlY3RWYWx1ZSA9PT0gJycpIHsKICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvcign6K+36YCJ5oup5LiL5LiA5Liq5rWB56iLJykKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgJ3Byb2R1Y3RUZXN0RmxhZyc6ICcxJywKICAgICAgICAncHJvZHVjdE9wZXJhdGluZ0ZsYWcnOiAnMScsCiAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgIH0KICAgICAgZGF0YVt0aGlzLmZvcm0uc2VsZWN0VmFsdWVdID0gJzAnCiAgICAgIGZpbmlzaFByb2R1Y3RJbmZvRGVmKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICB9KQogICAgfSwKICAgIGZpbmlzaFJ1bGVEZWYoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZCwKICAgICAgICAncHJvZHVjdFRlc3RGbGFnJzogJzEnCiAgICAgIH0KICAgICAgZ2V0TGVmdFRhc2tDb3VudChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IGNvdW50ID0gcmVzLmRhdGEKICAgICAgICBpZiAoY291bnQgPT0gMSkgewogICAgICAgICAgdGhpcy5jb25maXJtV2FybmluZygn5piv5ZCm6L+b5YWl5rWL6K+V5rWB56iL77yfJykudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3RUZXN0RmxhZyddID0gJzAnCiAgICAgICAgICAgIGZpbmlzaFJ1bGVEZWYoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3RUZXN0RmxhZyddID0gJzEnCiAgICAgICAgICAgIGZpbmlzaFJ1bGVEZWYoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmaW5pc2hSdWxlRGVmKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGZpbmlzaERpc2NvbnRpbnVlZCgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgIH0KICAgICAgZmluaXNoRGlzY29udGludWVkKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICB9KQoKICAgIH0sCiAgICBmaW5pc2hGb3JtdWxhRGVmKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQoKICAgICAgZmluaXNoRm9ybXVsYURlZihkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgfSkKCgogICAgICAvLyBnZXRMZWZ0VGFza0NvdW50KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgLy8gICBsZXQgY291bnQgPSByZXMuZGF0YQogICAgICAvLyAgIGNvbnNvbGUubG9nKCJjb3VudDoiK2NvdW50KQogICAgICAvLyAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgIC8vICAgICB0aGlzLmNvbmZpcm1XYXJuaW5nKCfmmK/lkKbov5vlhaXmtYvor5XmtYHnqIvvvJ8nKS50aGVuKCgpID0+IHsKICAgICAgLy8gICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMCcKICAgICAgLy8gICAgICAgZmluaXNoRm9ybXVsYURlZihkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgLy8gICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMScKICAgICAgLy8gICAgICAgZmluaXNoRm9ybXVsYURlZihkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgIH0pCiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIGZpbmlzaEZvcm11bGFEZWYoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAvLyAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAvLyAgICAgfSkKICAgICAgLy8gICB9CiAgICAgIC8vIH0pCiAgICB9LAogICAgZXhlY3V0ZU9wZXJhdGlvbmFsRGlzdHJpYnV0aW9uKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBnZXRMZWZ0VGFza0NvdW50KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgY291bnQgPSByZXMuZGF0YQogICAgICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1XYXJuaW5nKCfmmK/lkKbov5vlhaXmtYvor5XmtYHnqIvvvJ8nKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMCcKICAgICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsRGlzdHJpYnV0aW9uKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICBkYXRhWydwcm9kdWN0VGVzdEZsYWcnXSA9ICcxJwogICAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxEaXN0cmlidXRpb24oZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxEaXN0cmlidXRpb24oZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZXhlY3V0ZU9wZXJhdGlvbmFsUHJlc2VydmF0aW9uKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBnZXRMZWZ0VGFza0NvdW50KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgY291bnQgPSByZXMuZGF0YQogICAgICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1XYXJuaW5nKCfmmK/lkKbov5vlhaXmtYvor5XmtYHnqIvvvJ8nKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMCcKICAgICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsUHJlc2VydmF0aW9uKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICBkYXRhWydwcm9kdWN0VGVzdEZsYWcnXSA9ICcxJwogICAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxQcmVzZXJ2YXRpb24oZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxQcmVzZXJ2YXRpb24oZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZXhlY3V0ZU9wZXJhdGlvbmFsVW5kZXJ3cml0aW5nKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBnZXRMZWZ0VGFza0NvdW50KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgY291bnQgPSByZXMuZGF0YQogICAgICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1XYXJuaW5nKCfmmK/lkKbov5vlhaXmtYvor5XmtYHnqIvvvJ8nKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMCcKICAgICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsVW5kZXJ3cml0aW5nKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICBkYXRhWydwcm9kdWN0VGVzdEZsYWcnXSA9ICcxJwogICAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxVbmRlcndyaXRpbmcoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxVbmRlcndyaXRpbmcoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZXhlY3V0ZU9wZXJhdGlvbmFsUmVuZXdhbCgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgIH0KICAgICAgZ2V0TGVmdFRhc2tDb3VudChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IGNvdW50ID0gcmVzLmRhdGEKICAgICAgICBpZiAoY291bnQgPT0gMSkgewogICAgICAgICAgdGhpcy5jb25maXJtV2FybmluZygn5piv5ZCm6L+b5YWl5rWL6K+V5rWB56iL77yfJykudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3RUZXN0RmxhZyddID0gJzAnCiAgICAgICAgICAgIGV4ZWN1dGVPcGVyYXRpb25hbFJlbmV3YWwoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3RUZXN0RmxhZyddID0gJzEnCiAgICAgICAgICAgIGV4ZWN1dGVPcGVyYXRpb25hbFJlbmV3YWwoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxSZW5ld2FsKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGV4ZWN1dGVPcGVyYXRpb25hbENvdmVyKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBnZXRMZWZ0VGFza0NvdW50KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgY291bnQgPSByZXMuZGF0YQogICAgICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1XYXJuaW5nKCfmmK/lkKbov5vlhaXmtYvor5XmtYHnqIvvvJ8nKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMCcKICAgICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsQ292ZXIoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3RUZXN0RmxhZyddID0gJzEnCiAgICAgICAgICAgIGV4ZWN1dGVPcGVyYXRpb25hbENvdmVyKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsQ292ZXIoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZXhlY3V0ZU9wZXJhdGlvbmFsSGVQZWkoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIGdldExlZnRUYXNrQ291bnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBjb3VudCA9IHJlcy5kYXRhCiAgICAgICAgaWYgKGNvdW50ID09IDEpIHsKICAgICAgICAgIHRoaXMuY29uZmlybVdhcm5pbmcoJ+aYr+WQpui/m+WFpea1i+ivlea1geeoi++8nycpLnRoZW4oKCkgPT4gewogICAgICAgICAgICBkYXRhWydwcm9kdWN0VGVzdEZsYWcnXSA9ICcwJwogICAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxIZVBlaShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgZGF0YVsncHJvZHVjdFRlc3RGbGFnJ10gPSAnMScKICAgICAgICAgICAgZXhlY3V0ZU9wZXJhdGlvbmFsSGVQZWkoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGVjdXRlT3BlcmF0aW9uYWxIZVBlaShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBpbnRlcnJ1cFRlc3RTaWduYWwoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uaW50ZXJydXBDaGVja0xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IoJ+ivt+mAieaLqeWbnumAgOS4iuS4gOS4qua1geeoiycpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAndmFyaWFibGVzJzogdGhpcy5mb3JtLmludGVycnVwQ2hlY2tMaXN0LAogICAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgICAgfQogICAgICAgIGludGVycnVwVGVzdFNpZ25hbChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgIH0pCgogICAgICB9CiAgICB9CiAgICAsIHBhc3NOZXdPcmRlclRlc3QoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIHBhc3NOZXdPcmRlclRlc3QoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgIH0pCiAgICB9LCBwYXNzUmVuZXdhbFJlbmV3YWxUZXN0KCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBwYXNzUmVuZXdhbFJlbmV3YWxUZXN0KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICB9KQogICAgfSwgcGFzc1ByZXNlcnZhdGlvblRlc3QoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIHBhc3NQcmVzZXJ2YXRpb25UZXN0KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICB9KQogICAgfSwgcGFzc0NsYWltc1Rlc3QoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIHBhc3NDbGFpbXNUZXN0KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICB9KQogICAgfSwgcGFzc1J1bGVUZXN0KCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBwYXNzUnVsZVRlc3QoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgIH0pCiAgICB9LCBwcm9kdWN0QXVkaXQoZmxhZykgewogICAgICBpZiAoZmxhZyA9PSAnMCcpIHsgLy/lrqHmoLjkuI3pgJrov4cKICAgICAgICBpZiAodGhpcy5mb3JtLmF1ZGl0Q2hlY2tMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IoJ+ivt+mAieaLqeWbnumAgOS4iuS4gOS4qua1geeoiycpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICdwcm9kdWN0QXVkaXRGbGFnJzogZmxhZywKICAgICAgICAgICAgJ3ZhcmlhYmxlcyc6IHRoaXMuZm9ybS5hdWRpdENoZWNrTGlzdCwKICAgICAgICAgICAgJ3Byb2Nlc3NJbnN0YW5jZUlkJzogdGhpcy5mb3JtLnByb2Nlc3NJbnN0YW5jZUlkCiAgICAgICAgICB9CiAgICAgICAgICBwcm9kdWN0QXVkaXQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoJ3N1Y2Nlc3MnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAncHJvZHVjdEF1ZGl0RmxhZyc6IGZsYWcsCiAgICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgICB9CiAgICAgICAgcHJvZHVjdEF1ZGl0KGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgICAgfSkKICAgICAgfQoKICAgIH0sIHByb2R1Y3RSZWxlYXNlKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmZvcm0ucHJvY2Vzc0luc3RhbmNlSWQKICAgICAgfQogICAgICBwcm9kdWN0UmVsZWFzZShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCdzdWNjZXNzJykKICAgICAgfSkKICAgIH0sIHJvbGxiYWNrQXVkaXQoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICdwcm9jZXNzSW5zdGFuY2VJZCc6IHRoaXMuZm9ybS5wcm9jZXNzSW5zdGFuY2VJZAogICAgICB9CiAgICAgIHJvbGxiYWNrQXVkaXQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygnc3VjY2VzcycpCiAgICAgIH0pCiAgICB9LCBhc3NpZ25UYXNrKHRhc2tJZCkgewogICAgICBpZiAodGhpcy5mb3JtLnVzZXJDb2RlID09PSAnJykgewogICAgICAgIHRoaXMubWVzc2FnZUVycm9yKCforqTpoobkurrkuLrnqbonKQogICAgICAgIHJldHVybgogICAgICB9IGVsc2UgewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgJ3VzZXJDb2RlJzogdGhpcy5mb3JtLnVzZXJDb2RlLAogICAgICAgICAgJ3Rhc2tJZCc6IHRhc2tJZAogICAgICAgIH0KICAgICAgICBhc3NpZ25UYXNrKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCforqTpooblrozmiJAnKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQogICAgfSwgaGFuZGxlU2VhcmNoMigpIHsKICAgICAgdGhpcy4kcmVmcy5wYWdlMi5yZWxvYWQoKQogICAgfSwKICAgIGZpbHRlckhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7CiAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWydwcm9wZXJ0eSddCiAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZQogICAgfSwKICAgIGRlc3Ryb3llZCgpIHsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["workflow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"workflow.vue","sourceRoot":"src/views/test","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n\r\n    <el-divider content-position=\"left\">{{$t('i18nView.workflowTest')}}</el-divider>\r\n\r\n    <div style=\"margin-left:30px\">\r\n      {{$t('i18nView.flowID')}}:\r\n      <el-tag>{{form.processInstanceId}}</el-tag>\r\n      {{$t('i18nView.pdFlowState')}}:\r\n      <el-tag>{{form.statusVo.actName}}</el-tag>\r\n\r\n      {{$t('i18nView.pdFlowType')}}:\r\n      <el-tag>{{form.type}}</el-tag>\r\n\r\n      <el-form :inline=\"true\" :model=\"form\" style=\"margin-top: 20px\">\r\n\r\n        <el-form-item :label=\"$t('i18nView.rentUserId')\">\r\n          <el-input v-model=\"form.tenantId\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.userCode')\">\r\n          <el-input v-model=\"form.userCode\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.pdCode')\">\r\n          <el-input v-model=\"form.pdCode\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('Releasedstatistics.pdVerId')\">\r\n          <el-input v-model=\"form.pdEdition\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 10px;width: 800px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"doChange\">{{$t('i18nView.applyAlter')}}</el-button>\r\n\r\n          <br>\r\n        <el-radio-group v-model=\"form.flowtype\" style=\"margin-left:10px;margin-top:10px\">\r\n                  <el-radio label=\"1\">{{$t('i18nView.operationInfo')}}</el-radio>\r\n                  <el-radio label=\"0\">{{$t('i18nView.ruleFormula')}}</el-radio>\r\n                  <el-radio label=\"2\">{{ $t('route.productDiscontinuation') }}</el-radio>\r\n        </el-radio-group>\r\n\r\n        <el-checkbox-group v-model=\"form.changeCheckList\" style=\"margin-left:10px;margin-top:10px\">\r\n          <el-checkbox v-if=\"form.flowtype==='0'\" label=\"productRuleFlag\">{{ $t('route.productRuleRevision') }}</el-checkbox>\r\n          <el-checkbox v-if=\"form.flowtype==='0'\" label=\"productFormulaFlag\">{{ $t('route.productCalcRevision') }}</el-checkbox>\r\n          <el-checkbox v-if=\"form.flowtype==='1'\" label=\"productInfoFlag\">{{$t('route.productMain')}}</el-checkbox>\r\n          <el-checkbox v-if=\"form.flowtype==='1'\" v-for=\"item in form.options3\" :label=\"item.key\" >{{item.label}}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-card>\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 10px;width: 800px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"getType\">{{$t('i18nView.flowType')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"doDeploy\">{{$t('i18nView.postFlow')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"getStatus\">{{$t('i18nView.pdFlowState')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"doApply\">{{$t('i18nView.pdApply')}}</el-button>\r\n      </el-card>\r\n\r\n\r\n      <el-card shadow=\"always\"  style=\"margin-top: 10px;width: 800px\">\r\n        <el-button  size=\"small\" type=\"primary\" v-if=\"form.type=='0'\" @click=\"finishRuleDef\">{{$t('i18nView.ruleCorrectOver')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" v-if=\"form.type=='0'\" @click=\"finishFormulaDef\">{{$t('i18nView.formulaCorrectover')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\"  v-if=\"form.type=='2'\" @click=\"finishDiscontinued\">{{$t('i18nView.pdStopSale')}}</el-button>\r\n      </el-card>\r\n\r\n\r\n\r\n\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 10px;width: 800px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"finishProductInfoDef\">{{$t('route.productMain')}}-结束</el-button>\r\n        <el-select v-model=\"form.selectValue\" class=\"filter-item\" clearable filterable style=\"margin-left: 10px\">\r\n          <el-option v-for=\"item in form.options\" :key=\"item.key\" :label=\"item.label\"\r\n                     :value=\"item.key\" :disabled=\"item.disabled\"></el-option>\r\n        </el-select>\r\n      </el-card>\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 10px;width: 1000px\">\r\n\r\n        {{$t('i18nView.opertionDef')}}:\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalDistribution\">{{$t('route.productSaleDefinition')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalCover\">{{$t('route.productUnderwritingDefinition')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalUnderwriting\">{{$t('route.underwriting')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalRenewal\">{{$t('route.pdtempPdRnInfo_applyList')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalPreservation\">{{$t('route.pdPreservationDef')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"executeOperationalHePei\">{{$t('route.pdCompensationDef')}}</el-button>\r\n      </el-card>\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 20px;width: 1200px\">\r\n                <el-checkbox-group v-model=\"form.interrupCheckList\">\r\n                  <el-checkbox v-if=\"form.type==='1'\" label=\"productInfoFlag\">{{$t('route.productMain')}}</el-checkbox>\r\n\r\n                  <el-checkbox v-if=\"form.type==='1'\" v-for=\"item in form.options3\"  :label=\"item.key\">{{item.label}}</el-checkbox>\r\n\r\n<!--                  <el-checkbox v-if=\"form.type==='0'\" label=\"productFormulaFlag\">公式订正</el-checkbox>-->\r\n<!--                  <el-checkbox v-if=\"form.type==='0'\" label=\"productRuleFlag\">规则订正</el-checkbox>-->\r\n<!--                  <el-checkbox v-if=\"form.type==='2'\" label=\"productDiscontinued\">产品停售</el-checkbox>-->\r\n                </el-checkbox-group>\r\n        <el-button  size=\"small\" type=\"danger\" @click=\"interrupTestSignal\" style=\"margin-top: 10px\">{{$t('i18nView.stopMiddleTest')}}</el-button>\r\n<!--        <el-radio-group v-model=\"form.checkList\" style=\"margin-left:10px\">-->\r\n<!--          <el-radio v-if=\"form.type==='0'\" label=\"productFormulaFlag\">公式订正</el-radio>-->\r\n<!--          <el-radio v-if=\"form.type==='0'\" label=\"productRuleFlag\">规则订正</el-radio>-->\r\n<!--          <el-radio v-if=\"form.type==='1'\" label=\"productInfoFlag\">产品框架定义</el-radio>-->\r\n<!--          <el-radio  v-if=\"form.type==='1'\" label=\"productOperatingFlag\">产品营运定义</el-radio>-->\r\n<!--          <el-select v-show=\"form.checkList == 'productOperatingFlag'\" v-model=\"form.selectValue3\" class=\"filter-item\" clearable multiple filterable style=\"margin-left: 10px\">-->\r\n<!--            <el-option v-for=\"item in form.options3\" :key=\"item.key\" :label=\"item.label\"-->\r\n<!--                       :value=\"item.key\"></el-option>-->\r\n<!--          </el-select>-->\r\n<!--        </el-radio-group>-->\r\n      </el-card>\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 20px;width: 800px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"passNewOrderTest\">{{$t('i18nView.newTest_pass')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"passRenewalRenewalTest\">{{$t('i18nView.renewal_pass')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"passPreservationTest\">{{$t('i18nView.preservationTest_pass')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"passClaimsTest\">{{$t('i18nView.productTestingClaim_pass')}}</el-button>\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"passRuleTest\">{{$t('i18nView.ruleTest_pass')}}</el-button>\r\n      </el-card>\r\n\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 20px;width: 600px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"productAudit('1')\" style=\"margin-top: 10px\">{{$t('i18nView.productAudit_pass')}}</el-button>\r\n        <el-button  size=\"small\" type=\"danger\" @click=\"productAudit('0')\" style=\"margin-top: 10px\">{{$t('i18nView.productAudit_notpass')}}</el-button>\r\n        <el-checkbox-group v-model=\"form.auditCheckList\" style=\"margin-left:10px\">\r\n          <el-checkbox v-if=\"form.type==='1'\" label=\"productInfoFlag\">{{$t('route.productMain')}}</el-checkbox>\r\n          <el-checkbox v-if=\"form.type==='1'\" v-for=\"item in form.options3\"  :label=\"item.key\">{{item.label}}</el-checkbox>\r\n          <el-checkbox v-if=\"form.type==='0'\" label=\"productFormulaFlag\">{{$t('i18nView.formulaCorrect')}}</el-checkbox>\r\n          <el-checkbox v-if=\"form.type==='0'\" label=\"productRuleFlag\">{{$t('i18nView.ruleCorrect')}}</el-checkbox>\r\n          <el-checkbox v-if=\"form.type==='2'\" label=\"productDiscontinued\">{{$t('route.productDiscontinuation')}}</el-checkbox>\r\n<!--          <el-select v-show=\"form.checkList == 'productOperatingFlag'\" v-model=\"form.selectValue3\" class=\"filter-item\" clearable multiple filterable style=\"margin-left: 10px\">-->\r\n<!--            <el-option v-for=\"item in form.options3\" :key=\"item.key\" :label=\"item.label\"-->\r\n<!--                       :value=\"item.key\"></el-option>-->\r\n<!--          </el-select>-->\r\n        </el-checkbox-group>\r\n      </el-card>\r\n\r\n      <el-card shadow=\"always\" style=\"margin-top: 20px;width: 600px\">\r\n        <el-button  size=\"small\" type=\"primary\" @click=\"productRelease\" style=\"margin-top: 10px\">{{$t('route.ProductionRelease')}}</el-button>\r\n        <el-button  size=\"small\" type=\"danger\" @click=\"rollbackAudit\" style=\"margin-top: 10px\">{{$t('route.reBackAudit')}}</el-button>\r\n      </el-card>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n  import {\r\n    deploy,\r\n    applyProduct,\r\n    finishProductInfoDef,\r\n    finishProductOperationalDef,\r\n    passNewOrderTest,\r\n    passRenewalRenewalTest,\r\n    passPreservationTest,\r\n    passClaimsTest,\r\n    passRuleTest,\r\n    productAudit,\r\n    productRelease,\r\n    rollbackAudit,\r\n    assignTask,\r\n    getLeftTaskCount,\r\n    executeOperationalDistribution,\r\n    executeOperationalPreservation,\r\n    executeOperationalUnderwriting,\r\n    executeOperationalRenewal,\r\n    executeOperationalCover,\r\n    executeOperationalHePei,\r\n    finishFormulaDef,\r\n    finishRuleDef,\r\n    changeToDiscontinued,\r\n    finishDiscontinued,\r\n    changeToOperationalOrInfoDefinition,\r\n    changeToFormulaOrRule,\r\n    interrupTestSignal,\r\n    getProductStatus,\r\n    getType,\r\n    testmaxno,\r\n  } from '@/api/workflow/workflow'\r\n\r\n  export default {\r\n    name: 'workflow',\r\n    data() {\r\n      return {\r\n        params2: {\r\n          userCode: 'zxf',\r\n          tenantId: '1'\r\n        },\r\n        configs2: [],\r\n        params: {\r\n          tenantId: '1'\r\n        },\r\n        configs: [],\r\n        form: {\r\n          type: '',\r\n          infoFlag: true,\r\n          statusVo: '',\r\n          options: [{ 'key': 'productOperatingFlag', 'label': '产品营运定义' }, {\r\n            'key': 'productTestFlag',\r\n            'label': '产品测试'\r\n          }, { 'key': 'productAuditFlag', 'label': '产品审核' }],\r\n          options2: [{ 'key': 'productTestFlag', 'label': '产品测试' }, { 'key': 'productAuditFlag', 'label': '产品审核' }],\r\n          options3: [\r\n                     { 'key': 'productDistributionFlag', 'label': '产品销售定义' },\r\n                     { 'key': 'productCoverFlag', 'label': '产品承保定义' },\r\n                     { 'key': 'productUnderwritingFlag', 'label': '产品核保定义' },\r\n                     { 'key': 'productRenewalFlag', 'label': '产品续期续保定义' },\r\n                     { 'key': 'productPreservationFlag', 'label': '产品保全定义' },\r\n                     { 'key': 'productHePeiFlag', 'label': '产品核赔定义' }\r\n                     ],\r\n          options4: [\r\n            { 'key': 'newSingleFlag', 'label': '新单测试' },\r\n            { 'key': 'renewalFlag', 'label': '续期续保测试' },\r\n            { 'key': 'preservationFlag', 'label': '保全测试' },\r\n            { 'key': 'claimsFlag', 'label': '理赔测试' },\r\n          ],\r\n          selectValue: '',\r\n          selectValue2: '',\r\n          selectValue3: [],\r\n          userCode: '',\r\n          tenantId: '',\r\n          checkList: '',\r\n          flowtype: '',\r\n          interrupCheckList: [],\r\n          auditCheckList: [],\r\n          changeCheckList: [],\r\n          businessKey: '',\r\n          pdCode: '',\r\n          pdEdition: '',\r\n          processInstanceId: '6367efa2-73fc-11ea-906a-1263c8728199',\r\n          operationalFlag: '1',\r\n          testFlag: '0',\r\n          leftSubProcess: 0\r\n        }\r\n\r\n      }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    mounted() {\r\n      this.form.processInstanceId = sessionStorage.getItem('processInstanceId')\r\n      if (this.form.processInstanceId){\r\n        this.getType()\r\n        this.getStatus()\r\n      }\r\n    },\r\n    methods: {\r\n      testmaxno(){\r\n        testmaxno().then(res=>{\r\n\r\n        })\r\n      },\r\n      doDeploy() {\r\n        if (this.form.tenantId === '') {\r\n          this.messageError('请输入租户Id')\r\n        } else {\r\n          let data = {\r\n            'tenantId': this.form.tenantId\r\n          }\r\n          deploy(data).then(res => {\r\n            this.notifySuccess('部署完成')\r\n          })\r\n        }\r\n\r\n      },\r\n      getStatus(){\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getProductStatus(data).then(res=>{\r\n          this.form.statusVo= res.data\r\n        })\r\n      },\r\n      getType(){\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getType(data).then(res=>{\r\n          this.form.infoFlag = false\r\n          this.form.type= res.data.type\r\n          let backFlag= res.data.backFlag\r\n          for (let i = 0; i < this.form.options.length; i++) {\r\n            if (backFlag == '1' &&  this.form.options[i].key !='productOperatingFlag'){\r\n              this.form.options[i].disabled = true\r\n            }\r\n          }\r\n\r\n          // let variables = res.data.variables\r\n          // ff:for (let i = 0; i < this.form.options3.length; i++) {\r\n          //   let key = this.form.options3[i].key\r\n          //   for (let j = 0; j < variables.length; j++) {\r\n          //     if (key == variables[j].name) {\r\n          //       if (variables[j].value == '0') {\r\n          //         this.form.infoFlag = true\r\n          //         break ff\r\n          //       } else {\r\n          //         break\r\n          //       }\r\n          //\r\n          //     }\r\n          //   }\r\n          // }\r\n\r\n\r\n\r\n        })\r\n      },\r\n      doApply() {\r\n        if (this.form.tenantId === '' || this.form.userCode === '') {\r\n          this.messageError('请输入租户Id或用户编码')\r\n        } else {\r\n          let data = {\r\n            'tenantId': this.form.tenantId,\r\n            'userCode': this.form.userCode,\r\n            'pdCode': this.form.pdCode,\r\n            'pdEdition': this.form.pdEdition\r\n          }\r\n          applyProduct(data).then(res => {\r\n            this.form.processInstanceId = res.data.ProcessInstanceId\r\n            sessionStorage.setItem('processInstanceId', this.form.processInstanceId)\r\n            this.notifySuccess('流程已经启动')\r\n          })\r\n        }\r\n\r\n      },\r\n      doChange(){\r\n\r\n        if (this.form.flowtype=='1'){   //信息定义\r\n          if (this.form.changeCheckList.length<0){\r\n            this.messageError('请选择下一个流程')\r\n            return\r\n          }\r\n          let data = {\r\n            'userCode': this.form.userCode,\r\n            'tenantId': this.form.tenantId,\r\n            'pdCode': this.form.pdCode,\r\n            'pdEdition': this.form.pdEdition,\r\n            'subProcess': this.form.changeCheckList,\r\n          }\r\n          changeToOperationalOrInfoDefinition(data).then(res =>{\r\n            this.notifySuccess('变更成功')\r\n            this.form.processInstanceId = res.data.ProcessInstanceId\r\n            sessionStorage.setItem('processInstanceId', this.form.processInstanceId)\r\n          })\r\n        }else if (this.form.flowtype=='0'){ //产品规则\r\n          let data = {\r\n            'userCode': this.form.userCode,\r\n            'tenantId': this.form.tenantId,\r\n            'pdCode': this.form.pdCode,\r\n            'pdEdition': this.form.pdEdition,\r\n            'variables': this.form.changeCheckList,\r\n          }\r\n          changeToFormulaOrRule(data).then(res =>{\r\n            this.notifySuccess('变更成功')\r\n            this.form.processInstanceId = res.data.ProcessInstanceId\r\n            sessionStorage.setItem('processInstanceId', this.form.processInstanceId)\r\n          })\r\n        }else if(this.form.flowtype=='2'){\r\n          let data = {\r\n            'userCode': this.form.userCode,\r\n            'tenantId': this.form.tenantId,\r\n            'pdCode': this.form.pdCode,\r\n            'pdEdition': this.form.pdEdition,\r\n          }\r\n          changeToDiscontinued(data).then(res =>{\r\n            this.notifySuccess('变更成功')\r\n            this.form.processInstanceId = res.data.ProcessInstanceId\r\n            sessionStorage.setItem('processInstanceId', this.form.processInstanceId)\r\n          })\r\n        }\r\n\r\n      },\r\n      finishProductInfoDef() {\r\n        if (this.form.selectValue === '') {\r\n          this.messageError('请选择下一个流程')\r\n          return\r\n        }\r\n\r\n        let data = {\r\n          'productTestFlag': '1',\r\n          'productOperatingFlag': '1',\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        data[this.form.selectValue] = '0'\r\n        finishProductInfoDef(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      },\r\n      finishRuleDef() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId,\r\n          'productTestFlag': '1'\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              finishRuleDef(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              finishRuleDef(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            finishRuleDef(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      finishDiscontinued() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        finishDiscontinued(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n\r\n      },\r\n      finishFormulaDef() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n\r\n        finishFormulaDef(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n\r\n\r\n        // getLeftTaskCount(data).then(res => {\r\n        //   let count = res.data\r\n        //   console.log(\"count:\"+count)\r\n        //   if (count == 1) {\r\n        //     this.confirmWarning('是否进入测试流程？').then(() => {\r\n        //       data['productTestFlag'] = '0'\r\n        //       finishFormulaDef(data).then(res => {\r\n        //         this.notifySuccess('success')\r\n        //       })\r\n        //     }).catch(() => {\r\n        //       data['productTestFlag'] = '1'\r\n        //       finishFormulaDef(data).then(res => {\r\n        //         this.notifySuccess('success')\r\n        //       })\r\n        //     })\r\n        //   } else {\r\n        //     finishFormulaDef(data).then(res => {\r\n        //       this.notifySuccess('success')\r\n        //     })\r\n        //   }\r\n        // })\r\n      },\r\n      executeOperationalDistribution() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalDistribution(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalDistribution(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalDistribution(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      executeOperationalPreservation() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalPreservation(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalPreservation(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalPreservation(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      executeOperationalUnderwriting() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalUnderwriting(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalUnderwriting(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalUnderwriting(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      executeOperationalRenewal() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalRenewal(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalRenewal(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalRenewal(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      executeOperationalCover() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalCover(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalCover(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalCover(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      executeOperationalHePei() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        getLeftTaskCount(data).then(res => {\r\n          let count = res.data\r\n          if (count == 1) {\r\n            this.confirmWarning('是否进入测试流程？').then(() => {\r\n              data['productTestFlag'] = '0'\r\n              executeOperationalHePei(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            }).catch(() => {\r\n              data['productTestFlag'] = '1'\r\n              executeOperationalHePei(data).then(res => {\r\n                this.notifySuccess('success')\r\n              })\r\n            })\r\n          } else {\r\n            executeOperationalHePei(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        })\r\n      },\r\n      interrupTestSignal() {\r\n        if (this.form.interrupCheckList.length === 0) {\r\n          this.messageError('请选择回退上一个流程')\r\n        } else {\r\n          let data = {\r\n            'variables': this.form.interrupCheckList,\r\n            'processInstanceId': this.form.processInstanceId\r\n          }\r\n          interrupTestSignal(data).then(res => {\r\n            this.notifySuccess('success')\r\n          })\r\n\r\n        }\r\n      }\r\n      , passNewOrderTest() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        passNewOrderTest(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, passRenewalRenewalTest() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        passRenewalRenewalTest(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, passPreservationTest() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        passPreservationTest(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, passClaimsTest() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        passClaimsTest(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, passRuleTest() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        passRuleTest(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, productAudit(flag) {\r\n        if (flag == '0') { //审核不通过\r\n          if (this.form.auditCheckList.length === 0) {\r\n            this.messageError('请选择回退上一个流程')\r\n            return\r\n          } else {\r\n            let data = {\r\n              'productAuditFlag': flag,\r\n              'variables': this.form.auditCheckList,\r\n              'processInstanceId': this.form.processInstanceId\r\n            }\r\n            productAudit(data).then(res => {\r\n              this.notifySuccess('success')\r\n            })\r\n          }\r\n        } else {\r\n          let data = {\r\n            'productAuditFlag': flag,\r\n            'processInstanceId': this.form.processInstanceId\r\n          }\r\n          productAudit(data).then(res => {\r\n            this.notifySuccess('success')\r\n          })\r\n        }\r\n\r\n      }, productRelease() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        productRelease(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, rollbackAudit() {\r\n        let data = {\r\n          'processInstanceId': this.form.processInstanceId\r\n        }\r\n        rollbackAudit(data).then(res => {\r\n          this.notifySuccess('success')\r\n        })\r\n      }, assignTask(taskId) {\r\n        if (this.form.userCode === '') {\r\n          this.messageError('认领人为空')\r\n          return\r\n        } else {\r\n          let data = {\r\n            'userCode': this.form.userCode,\r\n            'taskId': taskId\r\n          }\r\n          assignTask(data).then(res => {\r\n            this.$refs.page.reload()\r\n            this.notifySuccess('认领完成')\r\n          })\r\n        }\r\n      },\r\n      handleSearch() {\r\n        this.$refs.page.reload()\r\n      }, handleSearch2() {\r\n        this.$refs.page2.reload()\r\n      },\r\n      filterHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      destroyed() {\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .box_fixed {\r\n    width: 800px;\r\n    height: 40px;\r\n    border-radius: 20px;\r\n    line-height: 40px;\r\n    background: #eee;\r\n  }\r\n\r\n  .is_fixed {\r\n    position: fixed;\r\n    top: 0;\r\n    z-index: 999;\r\n  }\r\n</style>\r\n"]}]}
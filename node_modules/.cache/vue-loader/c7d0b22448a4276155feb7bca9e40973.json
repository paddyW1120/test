{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\toDoTasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\toDoTasks.vue","mtime":1609847107221},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnDQppbXBvcnQgeyBDb2wsIFJvdywgUHVsbFJlZnJlc2gsIExpc3QsIEJ1dHRvbiwgQ2VsbEdyb3VwLCBDZWxsLERyb3Bkb3duTWVudSwgRHJvcGRvd25JdGVtLFRvYXN0LEZpZWxkLFBhbmVsIH0gZnJvbSAndmFudCcNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQpWdWUudXNlKEZpZWxkKTsNClZ1ZS51c2UoUGFuZWwpOw0KVnVlLnVzZShEcm9wZG93bk1lbnUpOw0KVnVlLnVzZShEcm9wZG93bkl0ZW0pOw0KDQpWdWUudXNlKENlbGxHcm91cCkNClZ1ZS51c2UoQ2VsbCkNClZ1ZS51c2UoQnV0dG9uKQ0KVnVlLnVzZShDb2wpDQpWdWUudXNlKExpc3QpDQpWdWUudXNlKFJvdykNClZ1ZS51c2UoUHVsbFJlZnJlc2gpDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3RvRG9UYXNrcycsDQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb25maWdzOiBbXSwNCiAgICAgIGRhdGFzOiBbXSwNCiAgICAgIHBhcmFtczogew0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZE5hbWU6ICcnLA0KICAgICAgICBwZEVkaXRpb246ICcnLA0KICAgICAgICB0YXNrTmFtZTogJycNCiAgICAgIH0sDQogICAgICBzaG93bXNnOiBmYWxzZSwNCiAgICAgIGVuYWJsZUFkZDogZmFsc2UsDQogICAgICB0b3RhbDogMCwNCiAgICAgIGlzRG93bkxvYWRpbmc6IGZhbHNlLCAvLyDkuIvmi4nliLfmlrANCiAgICAgIGlzVXBMb2FkaW5nOiBmYWxzZSwgLy8g5LiK5ouJ5Yqg6L29DQogICAgICB1cEZpbmlzaGVkOiBmYWxzZSAvLyDkuIrmi4nliqDovb3lrozmr5UNCiAgICAgICwNCiAgICAgIHRhc2tPcHRpb25zOiBbeyB0ZXh0OiAn5YWo6YOo5Lu75YqhJywgdmFsdWU6ICcnIH0seyB0ZXh0OiAn5Lqn5ZOB5qGG5p625a6a5LmJJywgdmFsdWU6ICfkuqflk4HmoYbmnrblrprkuYknIH0sDQogICAgICAgIHsgdGV4dDogJ+S6p+WTgemUgOWUruWumuS5iScsIHZhbHVlOiAn5Lqn5ZOB6ZSA5ZSu5a6a5LmJJyB9LA0KICAgICAgICB7IHRleHQ6ICfkuqflk4HmoLjotZTlrprkuYknLCB2YWx1ZTogJ+S6p+WTgeaguOi1lOWumuS5iScgfSwNCiAgICAgICAgeyB0ZXh0OiAn5Lqn5ZOB5L+d5YWo5a6a5LmJJywgdmFsdWU6ICfkuqflk4Hkv53lhajlrprkuYknIH0sDQogICAgICAgIHsgdGV4dDogJ+S6p+WTgee7reacn+e7reS/neWumuS5iScsIHZhbHVlOiAn5Lqn5ZOB57ut5pyf57ut5L+d5a6a5LmJJyB9LA0KICAgICAgICB7IHRleHQ6ICfkuqflk4HmoLjkv53lrprkuYknLCB2YWx1ZTogJ+S6p+WTgeaguOS/neWumuS5iScgfSwNCiAgICAgICAgeyB0ZXh0OiAn5Lqn5ZOB5om/5L+d5a6a5LmJJywgdmFsdWU6ICfkuqflk4Hmib/kv53lrprkuYknIH0sDQogICAgICAgIHsgdGV4dDogJ+S6p+WTgeWuoeaguCcsIHZhbHVlOiAn5Lqn5ZOB5a6h5qC4JyB9LA0KICAgICAgICB7IHRleHQ6ICfkuqflk4Hlj5HluIMnLCB2YWx1ZTogJ+S6p+WTgeWPkeW4gycgfV0sDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy4kcmVmcy5wYWdlLmJ1aWxkRGF0YSgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBmaWx0ZXJDb2RlVHlwZUhhbmRsZXIoY29kZXR5cGUsIHZhbHVlKSB7DQogICAgICByZXR1cm4gdGhpcy5nZXRDb2RlTmFtZShjb2RldHlwZSwgdmFsdWUsIHRydWUpDQogICAgfSwNCiAgICBoYW5kbGVEZXRhaWwocm93KXsNCiAgICAgICB0aGlzLmNhY2hlSnNvbkRhdGEoJ3Bob25lLXBkSW5mbycsIHJvdykNCiAgICAgICB0aGlzLmNhY2hlU3RyRGF0YSgnYWN0aXZlJywgJ1RvRG9UYXNrcycpDQogICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3Byb2Nlc3MiLCBwYXJhbXM6e3BkSW5mb0lkOiByb3cuaWR9fSk7DQogICAgfSwNCiAgICBvbkNvbmZpcm0oKSB7DQogICAgICB0aGlzLiRyZWZzLml0ZW0udG9nZ2xlKCk7DQogICAgICB0aGlzLmRhdGFzID0gW10NCiAgICAgIHRoaXMuJHJlZnMucGFnZS5wYWdlID0gMQ0KICAgICAgdGhpcy4kcmVmcy5wYWdlLmJ1aWxkRGF0YSgpDQogICAgfSwNCiAgICByZWZyZXNoRG9uZShkYXRhKSB7DQogICAgICB0aGlzLnNob3dtc2cgPSBmYWxzZQ0KICAgICAgdGhpcy51cEZpbmlzaGVkID0gZmFsc2UNCiAgICAgIGNvbnN0IHJvd3MgPSBkYXRhLnJlY29yZHMNCiAgICAgIGlmIChyb3dzID09IG51bGwgfHwgcm93cy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgLy8g5Yqg6L2957uT5p2fDQogICAgICAgIHRoaXMudXBGaW5pc2hlZCA9IHRydWUNCiAgICAgICAgaWYgKHRoaXMuZGF0YXMgPT0gbnVsbCB8fCB0aGlzLmRhdGFzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgdGhpcy5zaG93bXNnID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHJvd3MubGVuZ3RoIDwgNSkgew0KICAgICAgICAvLyDmnIDlkI7kuIDpobXkuI3otrMxMOadoeeahOaDheWGtQ0KICAgICAgICB0aGlzLnVwRmluaXNoZWQgPSB0cnVlDQogICAgICB9DQogICAgICAvLyDlpITnkIbmlbDmja4NCiAgICAgIGlmICh0aGlzLiRyZWZzLnBhZ2UucGFnZSA9PT0gMSkgew0KICAgICAgICB0aGlzLmRhdGFzID0gcm93cw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kYXRhcyA9IHRoaXMuZGF0YXMuY29uY2F0KHJvd3MpDQogICAgICB9DQoNCiAgICAgIHRoaXMuaXNEb3duTG9hZGluZyA9IGZhbHNlOw0KICAgICAgdGhpcy5pc1VwTG9hZGluZyA9IGZhbHNlOw0KICAgIH0sDQogICAgLy/ngJHluIPmtYHmlYjmnpwNCiAgICBvbkxvYWRMaXN0KCkgew0KICAgICAgaWYgKHRoaXMuZGF0YXMubGVuZ3RoID49IDUpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlLnBhZ2UrKw0KICAgICAgfQ0KICAgICAgdGhpcy4kcmVmcy5wYWdlLmJ1aWxkRGF0YSgpLnRoZW4oKCkgPT57DQogICAgICAgICAgIHRoaXMuaXNVcExvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSkNCg0KICAgIH0sDQogICAgb25Eb3duUmVmcmVzaCgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZS5wYWdlID0gMQ0KICAgICAgdGhpcy51cEZpbmlzaGVkID0gZmFsc2UgLy8g5LiN5YaZ6L+Z5Y+l5Lya5a+86Ie05L2g5LiK5ouJ5Yiw5bqV6L+H5ZCO5Zyo5LiL5ouJ5Yi35paw5bCG5LiN6IO96Kem5Y+R5LiL5ouJ5Yqg6L295LqL5Lu2DQogICAgICB0aGlzLiRyZWZzLnBhZ2UuYnVpbGREYXRhKCkudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5pc0Rvd25Mb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICBUb2FzdCgn5Yi35paw5oiQ5YqfJykNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBUb2FzdCgn5Yi35paw5aSx6LSlJykNCiAgICAgICAgfSkgLy8g5Yqg6L295pWw5o2uDQogICAgfQ0KDQogIH0NCn0NCg=="},{"version":3,"sources":["toDoTasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"toDoTasks.vue","sourceRoot":"src/views/wecom-login/wecom-dashboard/wecomlist","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n\r\n    <van-dropdown-menu active-color=\"#2C40A6\">\r\n      <van-dropdown-item v-model=\"params.taskName\" :options=\"taskOptions\" />\r\n      <van-dropdown-item title=\"筛选\" ref=\"item\">\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdName\" clearable :label=\"$t('i18nView.pdName')\" :placeholder=\"$t('form.please_enter')\" />\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdCode\" clearable :label=\"$t('i18nView.pdCode')\" :placeholder=\"$t('form.please_enter')\"/>\r\n        </van-cell-group>\r\n        <div style=\"padding: 5px 16px;\">\r\n          <van-button  color=\"#2C40A6\" size=\"small\" block round @click=\"onConfirm\">\r\n            {{ $t('confirmMessage.confirm') }}\r\n          </van-button>\r\n        </div>\r\n      </van-dropdown-item>\r\n    </van-dropdown-menu>\r\n\r\n    <van-pull-refresh v-model=\"isDownLoading\" @refresh=\"onDownRefresh\" style=\"margin-bottom: 60px;\" v-if=\"!showmsg\">\r\n      <van-list\r\n        v-model=\"isUpLoading\"\r\n        :finished=\"upFinished\"\r\n        :immediate-check=\"false\"\r\n        :offset=\"10\"\r\n        finished-text=\"我是有底线的\"\r\n        @load=\"onLoadList\"\r\n      >\r\n        <van-row>\r\n          <van-col span=\"24\" class=\"receivableList-vant\">\r\n            <van-row\r\n              class=\"receivableList-vant-item\"\r\n              v-for=\"(item, i) in datas\"\r\n              :key=\"i\"\r\n            >\r\n              <van-cell-group>\r\n                <van-cell title=\"任务名称\" :value=\"item.taskName\"/>\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品名称\"\r\n                  :value=\"item.pdName\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品编码\"\r\n                  :value=\"item.pdCode\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品版别\"\r\n                  :value=\"item.pdEdition\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品形态\"\r\n                  :value=\"filterCodeTypeHandler('pdAuditType', item.defType)\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"变更日期\"\r\n                  :value=\"item.changeDate\"\r\n                />\r\n              </van-cell-group>\r\n              <van-row class=\"receivableList-vant-btns\">\r\n                <van-button\r\n                  plain\r\n                  color=\"#2C40A6\"\r\n                  @click=\"handleDetail(item)\"\r\n                  >\r\n                  {{$t('i18nView.searchPrograse')}}\r\n                </van-button>\r\n              </van-row>\r\n            </van-row>\r\n          </van-col>\r\n        </van-row>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n\r\n\r\n    <van-panel\r\n      v-show=\"showmsg\"\r\n      title=\"表格状态\"\r\n      desc=\"当前没有对应任务\"></van-panel>\r\n\r\n    <cus-pagination :autoBuild=\"false\" v-show=\"false\" :pageSize=\"5\" :refreshDone=\"refreshDone\" :params=\"params\"\r\n                    ref=\"page\"\r\n                    url=\"/workflow/tasklist/queryOwnTask\"\r\n                    v-model=\"configs\"/>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport Vue from 'vue'\r\nimport { Col, Row, PullRefresh, List, Button, CellGroup, Cell,DropdownMenu, DropdownItem,Toast,Field,Panel } from 'vant'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nVue.use(Field);\r\nVue.use(Panel);\r\nVue.use(DropdownMenu);\r\nVue.use(DropdownItem);\r\n\r\nVue.use(CellGroup)\r\nVue.use(Cell)\r\nVue.use(Button)\r\nVue.use(Col)\r\nVue.use(List)\r\nVue.use(Row)\r\nVue.use(PullRefresh)\r\n\r\nexport default {\r\n  name: 'toDoTasks',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      configs: [],\r\n      datas: [],\r\n      params: {\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: '',\r\n        taskName: ''\r\n      },\r\n      showmsg: false,\r\n      enableAdd: false,\r\n      total: 0,\r\n      isDownLoading: false, // 下拉刷新\r\n      isUpLoading: false, // 上拉加载\r\n      upFinished: false // 上拉加载完毕\r\n      ,\r\n      taskOptions: [{ text: '全部任务', value: '' },{ text: '产品框架定义', value: '产品框架定义' },\r\n        { text: '产品销售定义', value: '产品销售定义' },\r\n        { text: '产品核赔定义', value: '产品核赔定义' },\r\n        { text: '产品保全定义', value: '产品保全定义' },\r\n        { text: '产品续期续保定义', value: '产品续期续保定义' },\r\n        { text: '产品核保定义', value: '产品核保定义' },\r\n        { text: '产品承保定义', value: '产品承保定义' },\r\n        { text: '产品审核', value: '产品审核' },\r\n        { text: '产品发布', value: '产品发布' }],\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    this.$refs.page.buildData()\r\n  },\r\n  methods: {\r\n    filterCodeTypeHandler(codetype, value) {\r\n      return this.getCodeName(codetype, value, true)\r\n    },\r\n    handleDetail(row){\r\n       this.cacheJsonData('phone-pdInfo', row)\r\n       this.cacheStrData('active', 'ToDoTasks')\r\n       this.$router.push({ path: \"/process\", params:{pdInfoId: row.id}});\r\n    },\r\n    onConfirm() {\r\n      this.$refs.item.toggle();\r\n      this.datas = []\r\n      this.$refs.page.page = 1\r\n      this.$refs.page.buildData()\r\n    },\r\n    refreshDone(data) {\r\n      this.showmsg = false\r\n      this.upFinished = false\r\n      const rows = data.records\r\n      if (rows == null || rows.length === 0) {\r\n        // 加载结束\r\n        this.upFinished = true\r\n        if (this.datas == null || this.datas.length == 0) {\r\n          this.showmsg = true\r\n        }\r\n        return\r\n      }\r\n      if (rows.length < 5) {\r\n        // 最后一页不足10条的情况\r\n        this.upFinished = true\r\n      }\r\n      // 处理数据\r\n      if (this.$refs.page.page === 1) {\r\n        this.datas = rows\r\n      } else {\r\n        this.datas = this.datas.concat(rows)\r\n      }\r\n\r\n      this.isDownLoading = false;\r\n      this.isUpLoading = false;\r\n    },\r\n    //瀑布流效果\r\n    onLoadList() {\r\n      if (this.datas.length >= 5) {\r\n        this.$refs.page.page++\r\n      }\r\n      this.$refs.page.buildData().then(() =>{\r\n           this.isUpLoading = false\r\n      })\r\n\r\n    },\r\n    onDownRefresh() {\r\n      this.$refs.page.page = 1\r\n      this.upFinished = false // 不写这句会导致你上拉到底过后在下拉刷新将不能触发下拉加载事件\r\n      this.$refs.page.buildData().then(() => {\r\n          this.isDownLoading = false\r\n          Toast('刷新成功')\r\n        })\r\n        .catch(() => {\r\n          Toast('刷新失败')\r\n        }) // 加载数据\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n\r\n.receivableList-vant {\r\n  background-color: rgba(221, 231, 231, 0.933);\r\n\r\n  .receivableList-vant-item {\r\n    margin: 8px;\r\n    border-radius: 20px;\r\n    overflow: hidden;\r\n\r\n    .item-text {\r\n      padding: 0 16px;\r\n    }\r\n\r\n    .item-text:not(:last-child)::after {\r\n      border: 0px !important;\r\n    }\r\n\r\n    .item-text:nth-child(2) {\r\n      padding-top: 5px;\r\n    }\r\n\r\n    .item-text:nth-child(4) {\r\n      padding-bottom: 5px;\r\n    }\r\n\r\n    .receivableList-vant-btns {\r\n      margin-top: 1px;\r\n      text-align: center;\r\n      background-color: #fff;\r\n\r\n      button {\r\n        border: 0px;\r\n      }\r\n\r\n      button + button {\r\n        margin-left: 55px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .receivableList-addBtn {\r\n    position: fixed;\r\n    right: 10px;\r\n    bottom: 50px;\r\n    border-radius: 50px;\r\n    width: 60px;\r\n    height: 60px;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}
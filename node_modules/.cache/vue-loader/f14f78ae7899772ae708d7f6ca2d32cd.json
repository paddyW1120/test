{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\prem-rule-select\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\prem-rule-select\\index.vue","mtime":1609847106899},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgewogIGZpbmRFeHRQcmVtQnlJZCwgcGR0ZW1wUGRDbHNMYWJMaXN0LCBmaW5kQWxsUHJvZHVjdCwgYXBwb2ludEZpbmRQcmVtQnlJZCwgZmluZFByZW1CeUlkCn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3ByZW1BbW91bnRGb3JtdWxhIjsKCmltcG9ydCB7Z2V0Q2FsY0NvZGV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby91bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0IjsKCmltcG9ydCB7CiAgZmluZEZvcm11bGEsIGFkZFBkdGVtcFBkQ2FsYyxnZXRSdWxlQ29kZQp9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wcmVtUnVsZXMiOwoKaW1wb3J0IHsKICBhZGRQZHRlbXBQZFJ1bGVzLAoKfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vYWNjZXB0SW5zdXJhbmNlUnVsZXMnOwoKaW1wb3J0IHsKICBwZHRlbXBQZEluZm9MaXN0Cn0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL1Byb2R1Y3RBdHRyaWJ1dGVEZWZpbml0aW9uJwoKbGV0IF90aGlzCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3ByZW1SdWxlc1NlbGVjdCcsCiAgZmlsdGVyczogewogICAgZmlsdGVyX3BkQnVzc1R5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQ2FsY0J1c3NUeXBlJywgY29kZSkKICAgIH0sCiAgICBmaWx0ZXJfcGRCdXNzRGV0YWlsVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIGd1YXJhbnRlZURldGFpbHM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCgogICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIHBkVXdTaVR5cGVPcHRpb25zOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgfSwKICAgIHBkVXdTaVR5cGVEdE9wdGlvbnM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIF90aGlzID0gdGhpcwogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdDogewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZEVkaXRpb246ICcnLAogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFNhbGVjaG5sOiAnJywKICAgICAgICBwZE5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRuYW1lOiAnJywKICAgICAgICBwZEVuTmFtZTogJycsCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsCiAgICAgICAgb3BlcmF0b3I6ICcnLAogICAgICAgIHBkQXBwbERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZm9ybV9ydWxlOiB7CiAgICAgICAgcnVsZUJ1c3NNb2R1RGV0YTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH0sCiAgICAgIHBhcmFtczogewogICAgICAgIGN1cnJlbnRQcm9kdWN0SWQ6IHVuZGVmaW5lZCwKICAgICAgICBlcV9wZEluZm9JZDogdW5kZWZpbmVkLAogICAgICAgIGVxX3BkQnVzc1R5cGU6ICcnLAogICAgICAgIGVxX3BkQnVzc0RldGFpbFR5cGU6ICcnLAogICAgICAgIGxpa2VfY2FsY0NvZGU6ICcnCiAgICAgIH0sCiAgICAgIHBkVXdTaVR5cGU6ICcnLAogICAgICB0YWJsZURhdGFfZm9ybXVsYTogW10sCiAgICAgIHByb2R1Y3RPcHRpb25MaXN0OiBbXSwvL+S6p+WTgeaVsOe7hAogICAgICBPcHRpb25zMTogW10sLy/kv53pmpzmlbDnu4QKICAgICAgT3B0aW9uczogW10sCiAgICAgIE9wdGlvbnMyOiBbXSwKICAgICAgT3B0aW9uczM6IFtdLC8v5oyH5a6a5L+d6Zqc5pWw57uECiAgICAgIE9wdGlvbnM0OiBbXSwvL+aMh+WumuS/nemanOaYjue7huaVsOe7hAogICAgICBydWxlVGFibGU6IFtdLAogICAgICBzZWxlY3RlZEZvcm11bGE6IHt9LAogICAgICBjb2x1bW5EZXRhaWxzOiB7fSwKICAgICAgcHJvZHVjdEJuZnRGb3JtOiB7CiAgICAgICAgcHJlbTogJycsCiAgICAgICAgZXh0UHJlbTogJycsCiAgICAgICAgYXBwb2ludFByZW06ICcnLAogICAgICAgIGFwcG9pbnRFeHRQcmVtOiAnJywKICAgICAgfSwKICAgICAgcnVsZTogewogICAgICAgIHJ1bGVCdXNzTW9kdURldGE6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmoLjkv53op4TliJnnu4bnsbsnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkZXNjcmlwdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWFrOW8j+aPj+i/sCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLyoKICAgICAgICAgIHRoaXMuaW5pdFRhYmxlRGF0YUZvcm11bGEoKQogICAgKi8KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRQcm9kdWN0SW5mbygpCiAgICB0aGlzLmluaXRQcm9kdWN0T3B0aW9ucygpCiAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0RHRUeXBlID0gdGhpcy5ndWFyYW50ZWVEZXRhaWxzOwogICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uRXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGU7CgogICAgdGhpcy5maW5kVHlwZVJlZ2lvbigpOwoKICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLnByb2R1Y3QgPSB0aGlzLnByb2R1Y3QucGRDb2RlICsgIjoiICsgdGhpcy5wcm9kdWN0LmlkCiAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJvZHVjdCA9IHRoaXMucHJvZHVjdC5wZENvZGUgKyAiOiIgKyB0aGlzLnByb2R1Y3QuaWQKICAgIHRoaXMuZmluZFByZW1CeUlkKHRoaXMucHJvZHVjdC5pZCkKICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0gPSB0aGlzLnBkVXdTaVR5cGVPcHRpb25zOwogICAgdGhpcy5maW5kRXh0UHJlbUJ5SWQodGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJlbSkKICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0gPSB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMKCiAgICB0aGlzLmFwcG9pbnRGaW5kUHJlbUJ5SWQodGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByb2R1Y3QpCgogICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByZW0gPSB0aGlzLnBkVXdTaVR5cGVPcHRpb25zOwogICAgdGhpcy5hcHBvaW50RmluZEFFeHRQcmVtQnlJZCh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJlbSkKICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmFwcG9pbnRFeHRQcmVtID0gdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zOwogICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uRXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGU7CiAgICB0aGlzLmhhbmRsZVNlYXJjaCgpOwogIH0sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIC8v5Yid5aeL5YyW5Lqn5ZOB57uG57G7CiAgICBmaW5kVHlwZVJlZ2lvbigpIHsKICAgICAgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucHJvZHVjdC5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVtpXS5wZENsc1R5cGUgPT0gMSkgewogICAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0VHlwZSA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMyOwogICAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0QmlnVHlwZSA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMxOyAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+aYvuekuue8tOi0uemhueaVsOe7hAogICAgZmluZFByZW1CeUlkKGlkKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgcGRJZDogaWQsCiAgICAgIH07CiAgICAgIGZpbmRQcmVtQnlJZChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHRoaXMuT3B0aW9uczEgPSBbXTsKICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbyhkYXRhKQogICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICAgIHRoaXMuT3B0aW9uczEucHVzaCh7CiAgICAgICAgICAgICAga2V5OiB2YWwuaWQsCiAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCArICI6IiArIHZhbC5wZFByZW1Db2RlLAogICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRQcmVtQ29kZSArICI6IiArIHZhbC5wZFBheU5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLk9wdGlvbnMxKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mmL7npLrliqDotLnpobnmlbDnu4QKICAgIGZpbmRFeHRQcmVtQnlJZChyb3cpIHsKICAgICAgbGV0IGNvZGUgPSB0aGlzLmdldENhcHRpb24ocm93LCAxKTsKICAgICAgZmluZEV4dFByZW1CeUlkKGNvZGUpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHRoaXMuT3B0aW9uczIgPSBbXTsKICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIGRhdGEuZm9yRWFjaCh2YWwgPT4gewogICAgICAgICAgICB0aGlzLk9wdGlvbnMyLnB1c2goewogICAgICAgICAgICAgIGtleTogdmFsLmlkLAogICAgICAgICAgICAgIHZhbHVlOiB2YWwuaWQgKyAiOiIgKyB2YWwucGRFeHRQcmVtQ29kZSwKICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkRXh0UHJlbUNvZGUgKyAiOiIgKyB2YWwucGRFeHRQcmVtTmFtZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5pi+56S65oyH5a6a57y06LS56aG55pWw57uECiAgICBhcHBvaW50RmluZFByZW1CeUlkKHJvdykgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5PcHRpb25zMyA9IFtdOwogICAgICAgIGxldCBpZCA9IHRoaXMuZ2V0Q2FwdGlvbihyb3csIDEpOwogICAgICAgIGxldCBwYXJhbXMyID0gewogICAgICAgICAgcGRJZDogaWQsCiAgICAgICAgfTsKICAgICAgICBhcHBvaW50RmluZFByZW1CeUlkKHBhcmFtczIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICAgICAgdGhpcy5PcHRpb25zMy5wdXNoKHsKICAgICAgICAgICAgICAgIGtleTogdmFsLmlkLAogICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCArICI6IiArIHZhbC5wZFByZW1Db2RlLAogICAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZFByZW1Db2RlICsgIjoiICsgdmFsLnBkUGF5TmFtZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkKCiAgICB9LAogICAgLy/mmL7npLrmjIflrprliqDotLnpobnmlbDnu4QKICAgIGFwcG9pbnRGaW5kQUV4dFByZW1CeUlkKHJvdykgewogICAgICBsZXQgY29kZSA9IHRoaXMuZ2V0Q2FwdGlvbihyb3csIDEpOwogICAgICBmaW5kRXh0UHJlbUJ5SWQoY29kZSkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy5PcHRpb25zNCA9IFtdOwogICAgICAgIGlmIChkYXRhLmxlbmd0aCkgewogICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICAgIHRoaXMuT3B0aW9uczQucHVzaCh7CiAgICAgICAgICAgICAga2V5OiB2YWwuaWQsCiAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCArICI6IiArIHZhbC5wZEV4dFByZW1Db2RlLAogICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRFeHRQcmVtQ29kZSArICI6IiArIHZhbC5wZEV4dFByZW1OYW1lCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2FwdGlvbihvYmosIHN0YXRlKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gb2JqLmxhc3RJbmRleE9mKCI6IikKICAgICAgaWYgKHN0YXRlID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoMCwgaW5kZXgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKQogICAgICB9CiAgICB9LAogICAgaW5pdFByb2R1Y3RJbmZvKCkgewogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgICAgaWYgKE9iamVjdC5rZXlzKHBkdGVtcFBkSW5mbykubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wcm9kdWN0LCBwZHRlbXBQZEluZm8pCiAgICAgIH0KICAgIH0sCiAgICBpbml0UHJvZHVjdE9wdGlvbnMoKSB7CiAgICAgIGZpbmRBbGxQcm9kdWN0KHRoaXMucHJvZHVjdC5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2godmFsID0+IHsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0T3B0aW9uTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXk6IHZhbC5pZCwKICAgICAgICAgICAgICB2YWx1ZTogdmFsLnBkQ29kZSArICI6IiArIHZhbC5pZCwKICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQ29kZSArICI6IiArIHZhbC5wZE5hbWUKICAgICAgICAgICAgfSkKCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgZ29BbmRJbml0VVJMKGNvZGUpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICfmoKHpqozlnovop4TliJknLCBwYXJhbXM6IHtydWxlRmxhZzogJzEnLCBydWxlQ29kZTogY29kZX19KQogICAgfSwKICAgIGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdCcsIGZhbHNlKQogICAgfSwKICAgIHJlZnJlc2goKXsKICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJvZHVjdCA9IHRoaXMucHJvZHVjdC5wZENvZGUgKyAiOiIgKyB0aGlzLnByb2R1Y3QuaWQKICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByb2R1Y3QgPSB0aGlzLnByb2R1Y3QucGRDb2RlICsgIjoiICsgdGhpcy5wcm9kdWN0LmlkCiAgICAgIHRoaXMuZmluZFByZW1CeUlkKHRoaXMucHJvZHVjdC5pZCkKICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJlbSA9IHRoaXMucGRVd1NpVHlwZU9wdGlvbnM7CiAgICAgIHRoaXMuZmluZEV4dFByZW1CeUlkKHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0pCiAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0gPSB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMKCiAgICAgIHRoaXMuYXBwb2ludEZpbmRQcmVtQnlJZCh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJvZHVjdCkKCiAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmFwcG9pbnRQcmVtID0gdGhpcy5wZFV3U2lUeXBlT3B0aW9uczsKICAgICAgdGhpcy5hcHBvaW50RmluZEFFeHRQcmVtQnlJZCh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJlbSkKICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludEV4dFByZW0gPSB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMKICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKTsKICAgIH0sCiAgICBhc3luYyBoYW5kbGVTZWFyY2goKSB7CiAgICAgIC8v5YiG6aG15Lyg6L6T5pWw5o2uCiAgICAgIGlmICh0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByb2R1Y3QsIDEpKSB7CiAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgZXFfcGRJbmZvSWQ6IHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJvZHVjdCwgMSksCiAgICAgICAgICBlcV9wZFByZW1Db2RlOiB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByZW0sIDEpLAogICAgICAgICAgZXFfcGRFeHRQcmVtQ29kZTogdGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludEV4dFByZW0sCiAgICAgICAgICBlcV9idXNzdHlwZTogdGhpcy5ndWFyYW50ZWVEZXRhaWxzLAogICAgICAgICAgZXFfYnVzc2RldGFpbHR5cGU6IHRoaXMucHJvZHVjdEJuZnRGb3JtLkV4cHJlc3Npb25UeXBlLAogICAgICAgICAgbGlrZV9wZFJ1bGVEdENsczogdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucGRCdXNzQ29kZSwKICAgICAgICB9OwogICAgICAgIGF3YWl0IGZpbmRGb3JtdWxhKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLnJ1bGVUYWJsZSA9IHJlcy5kYXRhOwogICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMucnVsZVRhYmxlKQogICAgICAgICAgY29uc29sZS5pbmZvKHJlcy5kYXRhKQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9BZGRGb3JtdWxhKCkgewogICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICBwZEJ1c3NUeXBlOiB0aGlzLmd1YXJhbnRlZURldGFpbHMsCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlCiAgICAgIH0KICAgICAgbGV0IHBkRWRpdGlvbiA9ICcnOwogICAgICBsZXQgYmFjazEgPSBwZHRlbXBQZEluZm9MaXN0KHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5hcHBvaW50UHJvZHVjdCwgMSkpOwogICAgICBiYWNrMS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHBkRWRpdGlvbiA9IHJlc3BvbnNlLmRhdGEucGRFZGl0aW9uOwoKICAgICAgICB9CiAgICAgIH0pOwogICAgICBnZXRSdWxlQ29kZSgpLnRoZW4ocmVzID0+IHsKCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ+inhOWImeWumuS5ieeVjOmdoicsIHBhcmFtczogewogICAgICAgICAgICBydWxlRmxhZzogJzAnLAogICAgICAgICAgICAvLyBwYWdlTmFtZTogJ1Byb2R1Y3RNYWluJywKICAgICAgICAgICAgYXR0cmlidXRlT2JqOiB7CiAgICAgICAgICAgICAgY29kZTogcmVzLmRhdGEsCiAgICAgICAgICAgICAgcnVsZUJ1c3NNb2R1OiB0aGlzLmd1YXJhbnRlZURldGFpbHMgKyAnJywKICAgICAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgKyAnJywKICAgICAgICAgICAgICBydWxlVHlwZTogJzEnLAogICAgICAgICAgICAgIHJ1bGVBdHRyOiAnMicsLy/op4TliJnlsZ7mgKcKICAgICAgICAgICAgICBwZFR5cGU6ICcxJywvL+WVhuWTgeexu+WeiwogICAgICAgICAgICAgIHJpc2tUeXBlOiB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcm9kdWN0QmlnVHlwZSwvL+S6p+WTgeexu+WeiwogICAgICAgICAgICAgIHJpc2tEZXRhaWw6IHRoaXMucHJvZHVjdEJuZnRGb3JtLnByb2R1Y3RUeXBlLC8v5Lqn5ZOB57uG57G7CiAgICAgICAgICAgICAgcGRDb2RlOiB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uYXBwb2ludFByb2R1Y3QsIDApLAogICAgICAgICAgICAgIHBkRWRpdGlvbjogcGRFZGl0aW9uCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1lbnVQYWdlOiBmYWxzZSwKICAgICAgICAgICAgbm9kZU5hbWU6ICdydWxlRGVmaW5pdGlvbicKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CgogICAgfSwKCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgewogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMucHJvZHVjdEJuZnRGb3JtLmlkKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbkRldGFpbHMgPSByb3c7CiAgICAgICAgICBjb25zb2xlLmluZm8odGhpcy5jb2x1bW5EZXRhaWxzKQogICAgICAgICAgY29uc29sZS5pbmZvKHJvdyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHJvdykgewogICAgICB0aGlzLnJ1bGVUYWJsZUNvcHkgPSByb3c7CiAgICB9LAogICAgLy/pgInmi6kt5YWz6IGUCiAgICBzZWxlY3RBc3NvY2lhdGlvbigpIHsKICAgICAgbGV0IHBkdGVtcFBkUnVsZXNMaXN0ID0gW107CiAgICAgIHRoaXMucnVsZVRhYmxlQ29weS5mb3JFYWNoKHJ1bGUgPT4gewogICAgICAgIGxldCBwZHRlbXBQZFJ1bGVzID0gewogICAgICAgICAgcGRWZXJJZDogdGhpcy5wcm9kdWN0LnBkVmVySWQsCiAgICAgICAgICBwZFR5cGU6ICcxJywKICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsCiAgICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsCiAgICAgICAgICBwZFJ1bGVHcmFkZTogdGhpcy5ndWFyYW50ZWVEZXRhaWxzLC8v57y06LS5CiAgICAgICAgICBwZFByb2dDb2RlOiAnJywKICAgICAgICAgIHBkQm5mdENvZGU6ICcnLAogICAgICAgICAgcGRCbmZ0RHRDb2RlOiAnJywKICAgICAgICAgIHBkUHJlbUNvZGU6ICcnLAogICAgICAgICAgcGRFeHRQcmVtQ29kZTonJywKICAgICAgICAgIHBkUnVsZUNsczogcnVsZS5wZFJ1bGVDbHMsCiAgICAgICAgICBwZFJ1bGVEdENsczogcnVsZS5wZFJ1bGVEdENscywKICAgICAgICAgIHBkUnVsZVByb3BDbHM6IHJ1bGUucGRSdWxlUHJvcENscywKICAgICAgICAgIHBkUnVsZVByb3BEdENsczogcnVsZS5wZFJ1bGVQcm9wRHRDbHMsCiAgICAgICAgICBwZFJ1bGVDb2RlOiBydWxlLnBkUnVsZUNvZGUsCiAgICAgICAgICBwZFJ1bGVEZXNjOiBydWxlLnBkUnVsZURlc2MKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtKQogICAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtKQogICAgICAgIGlmICh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtICE9PSB1bmRlZmluZWQpewogICAgICAgICAgcGR0ZW1wUGRSdWxlcy5wZFByZW1Db2RlID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0sMSkKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0gIT09IHVuZGVmaW5lZCl7CiAgICAgICAgICBwZHRlbXBQZFJ1bGVzLnBkRXh0UHJlbUNvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uZXh0UHJlbSwxKQogICAgICAgIH0KICAgICAgICBwZHRlbXBQZFJ1bGVzTGlzdC5wdXNoKHBkdGVtcFBkUnVsZXMpOwogICAgICB9KTsKICAgICAgLyogICAgIGlmICh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5ibmZ0ICE9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgcGR0ZW1wUGRSdWxlcy5wZFJ1bGVHcmFkZSA9ICcnCiAgICAgICAgICAgfSAqLwogICAgICBhZGRQZHRlbXBQZFJ1bGVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InJ1bGVzIjpwZHRlbXBQZFJ1bGVzTGlzdH0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCLlhbPogZTmiJDlip8iKTsKICAgICAgICB0aGlzLmZpbmRQZHRlbXBQZFJ1bGVzQnlQcm9kdWN0SWQoKTsKICAgICAgfSk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule-select","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" @backTo=\"back\" :label=\"$t('pay_def.premium_rule_def')\" />\r\n    <el-form ref=\"productBnftForm\" :model=\"productBnftForm\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('customComponents.product')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.product\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" :disabled=\"true\">\r\n              <el-option v-for=\"item in productOptionList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.paymentItem')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.prem\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" :disabled=\"true\"\r\n                       @change=\"findExtPremById($event)\">\r\n              <el-option v-for=\"item in Options1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.addPayItem')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.extPrem\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" :disabled=\"true\">\r\n              <el-option v-for=\"item in Options2\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <cus-form-title :label=\"$t('i18nView.feeRuleSelect')\" :first=\"true\"></cus-form-title>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\">\r\n            <cus-select :codetype=\"'ProductCategory'\" v-model=\"productBnftForm.productType\"\r\n                        :disabled=\"true\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.appointedProduct')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.appointProduct\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" @change=\"appointFindPremById($event)\">\r\n              <el-option v-for=\"item in productOptionList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.appointedPrem')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.appointPrem\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"><!-- @change=\"appointFindAExtPremById($event)\"-->\r\n              <el-option v-for=\"item in Options3\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('premFormulaSelect.appointedExtPrem')\">\r\n            <el-select clearable filterable v-model=\"productBnftForm.appointExtPrem\"\r\n                       :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\">\r\n              <el-option v-for=\"item in Options4\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdRuleDtCls')\">\r\n            <cus-select :codetype=\"'ruleBusinessDetailClass'\" v-model=\"productBnftForm.ExpressionType\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdRuleCode')\">\r\n              <el-input v-model=\"productBnftForm.pdBussCode\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">\r\n            {{$t('table.search')}}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <br>\r\n    <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-circle-plus el-icon--left\" @click=\"toAddFormula\">\r\n      {{$t('rule.toAddRule')}}\r\n    </el-button>\r\n    <br>\r\n    <cus-table-title :label=\"$t('i18nView.ruleParams')\" />\r\n    <el-table :data=\"ruleTable\" ref=\"ruleTable\" size=\"mini\" fit element-loading-text=\"Loading\" border\r\n              highlight-current-row align=\"center\" class=\"wraper-table\"  @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\r\n      <el-table-column  :label=\"$t('table.detail')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button  size=\"small\" @click=\"goAndInitURL(scope.row.pdRuleCode)\" type=\"text\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ruleBussDetail')\" prop=\"pdRuleDtCls\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleCode')\" prop=\"pdRuleCode\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDesc')\" prop=\"pdRuleDesc\" align=\"center\"></el-table-column>\r\n    </el-table>\r\n    <el-form>\r\n      <el-form-item align=\"right\">\r\n        <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-connection\" @click=\"selectAssociation\">\r\n          {{$t('form.select')}}\r\n        </el-button>\r\n        <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"refresh\">\r\n          {{$t('table.refresh')}}\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\n  import {\r\n    findExtPremById, pdtempPdClsLabList, findAllProduct, appointFindPremById, findPremById\r\n  } from \"@/api/basicinfo/premAmountFormula\";\r\n\r\n  import {getCalcCode} from \"@/api/basicinfo/underwritingAmountFormulaSelect\";\r\n\r\n  import {\r\n    findFormula, addPdtempPdCalc,getRuleCode\r\n  } from \"@/api/basicinfo/premRules\";\r\n\r\n  import {\r\n    addPdtempPdRules,\r\n\r\n  } from '@/api/basicinfo/acceptInsuranceRules';\r\n\r\n  import {\r\n    pdtempPdInfoList\r\n  } from '@/api/basicinfo/ProductAttributeDefinition'\r\n\r\n  let _this\r\n\r\n  export default {\r\n    name: 'premRulesSelect',\r\n    filters: {\r\n      filter_pdBussType(code) {\r\n        return _this.getCodeName('pdCalcBussType', code)\r\n      },\r\n      filter_pdBussDetailType(code) {\r\n        return _this.getCodeName('ruleBusinessDetailClass', code)\r\n      }\r\n    },\r\n    props: {\r\n      guaranteeDetails: {\r\n        type: String,\r\n        default: undefined\r\n      },\r\n\r\n      calculationFormulaType: {\r\n        type: String,\r\n        default: undefined\r\n      },\r\n      pdUwSiTypeOptions: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      pdUwSiTypeDtOptions: {\r\n        type: String,\r\n        required: false,\r\n        default: undefined\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n      return {\r\n        product: {\r\n          id: undefined,\r\n          pdCode: '',\r\n          pdEdition: '',\r\n          pdVerId: undefined,\r\n          pdSalechnl: '',\r\n          pdName: '',\r\n          pdShortname: '',\r\n          pdEnName: '',\r\n          pdShortEnName: '',\r\n          operator: '',\r\n          pdApplDate: undefined,\r\n          pdProcessId: undefined,\r\n          createTime: undefined,\r\n          updateTime: undefined\r\n        },\r\n        form_rule: {\r\n          ruleBussModuDeta: '',\r\n          description: ''\r\n        },\r\n        params: {\r\n          currentProductId: undefined,\r\n          eq_pdInfoId: undefined,\r\n          eq_pdBussType: '',\r\n          eq_pdBussDetailType: '',\r\n          like_calcCode: ''\r\n        },\r\n        pdUwSiType: '',\r\n        tableData_formula: [],\r\n        productOptionList: [],//产品数组\r\n        Options1: [],//保障数组\r\n        Options: [],\r\n        Options2: [],\r\n        Options3: [],//指定保障数组\r\n        Options4: [],//指定保障明细数组\r\n        ruleTable: [],\r\n        selectedFormula: {},\r\n        columnDetails: {},\r\n        productBnftForm: {\r\n          prem: '',\r\n          extPrem: '',\r\n          appointPrem: '',\r\n          appointExtPrem: '',\r\n        },\r\n        rule: {\r\n          ruleBussModuDeta: [{\r\n            required: true,\r\n            message: '请选择核保规则细类',\r\n            trigger: 'change'\r\n          }],\r\n          description: [{\r\n            required: true,\r\n            message: '请输入公式描述',\r\n            trigger: 'blur'\r\n          }]\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      /*\r\n            this.initTableDataFormula()\r\n      */\r\n    },\r\n    created() {\r\n      this.initProductInfo()\r\n      this.initProductOptions()\r\n      this.productBnftForm.bnftDtType = this.guaranteeDetails;\r\n      this.productBnftForm.ExpressionType = this.calculationFormulaType;\r\n\r\n      this.findTypeRegion();\r\n\r\n      this.productBnftForm.product = this.product.pdCode + \":\" + this.product.id\r\n      this.productBnftForm.appointProduct = this.product.pdCode + \":\" + this.product.id\r\n      this.findPremById(this.product.id)\r\n      this.productBnftForm.prem = this.pdUwSiTypeOptions;\r\n      this.findExtPremById(this.productBnftForm.prem)\r\n      this.productBnftForm.extPrem = this.pdUwSiTypeDtOptions\r\n\r\n      this.appointFindPremById(this.productBnftForm.appointProduct)\r\n\r\n      this.productBnftForm.appointPrem = this.pdUwSiTypeOptions;\r\n      this.appointFindAExtPremById(this.productBnftForm.appointPrem)\r\n      this.productBnftForm.appointExtPrem = this.pdUwSiTypeDtOptions;\r\n      this.productBnftForm.ExpressionType = this.calculationFormulaType;\r\n      this.handleSearch();\r\n    },\r\n    watch: {},\r\n    methods: {\r\n      //初始化产品细类\r\n      findTypeRegion() {\r\n        pdtempPdClsLabList(this.product.id).then(response => {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            if (response.data[i].pdClsType == 1) {\r\n              this.productBnftForm.productType = response.data[i].pdCls2;\r\n              this.productBnftForm.productBigType = response.data[i].pdCls1;            }\r\n\r\n          }\r\n        });\r\n      },\r\n      //显示缴费项数组\r\n      findPremById(id) {\r\n        let params = {\r\n          pdId: id,\r\n        };\r\n        findPremById(params).then(res => {\r\n          let data = res.data;\r\n          this.Options1 = [];\r\n          if (data.length) {\r\n            console.info(data)\r\n            data.forEach(val => {\r\n              this.Options1.push({\r\n                key: val.id,\r\n                value: val.id + \":\" + val.pdPremCode,\r\n                label: val.pdPremCode + \":\" + val.pdPayName\r\n              });\r\n            });\r\n            console.info(this.Options1)\r\n          }\r\n        });\r\n      },\r\n      //显示加费项数组\r\n      findExtPremById(row) {\r\n        let code = this.getCaption(row, 1);\r\n        findExtPremById(code).then(res => {\r\n          let data = res.data;\r\n          this.Options2 = [];\r\n          if (data.length) {\r\n            data.forEach(val => {\r\n              this.Options2.push({\r\n                key: val.id,\r\n                value: val.id + \":\" + val.pdExtPremCode,\r\n                label: val.pdExtPremCode + \":\" + val.pdExtPremName\r\n              });\r\n\r\n            });\r\n          }\r\n        });\r\n      },\r\n      //显示指定缴费项数组\r\n      appointFindPremById(row) {\r\n        this.$nextTick(() => {\r\n          this.Options3 = [];\r\n          let id = this.getCaption(row, 1);\r\n          let params2 = {\r\n            pdId: id,\r\n          };\r\n          appointFindPremById(params2).then(res => {\r\n            let data = res.data;\r\n            if (data.length) {\r\n              data.forEach(val => {\r\n                this.Options3.push({\r\n                  key: val.id,\r\n                  value: val.id + \":\" + val.pdPremCode,\r\n                  label: val.pdPremCode + \":\" + val.pdPayName\r\n                });\r\n              });\r\n            }\r\n          });\r\n        })\r\n\r\n      },\r\n      //显示指定加费项数组\r\n      appointFindAExtPremById(row) {\r\n        let code = this.getCaption(row, 1);\r\n        findExtPremById(code).then(res => {\r\n          let data = res.data;\r\n          this.Options4 = [];\r\n          if (data.length) {\r\n            data.forEach(val => {\r\n              this.Options4.push({\r\n                key: val.id,\r\n                value: val.id + \":\" + val.pdExtPremCode,\r\n                label: val.pdExtPremCode + \":\" + val.pdExtPremName\r\n              });\r\n\r\n            });\r\n          }\r\n        });\r\n      },\r\n      getCaption(obj, state) {\r\n        const index = obj.lastIndexOf(\":\")\r\n        if (state === 0) {\r\n          return obj.substring(0, index)\r\n        } else {\r\n          return obj.substring(index + 1, obj.length)\r\n        }\r\n      },\r\n      initProductInfo() {\r\n        let pdtempPdInfo = this.getPdData();\r\n        if (Object.keys(pdtempPdInfo).length > 0) {\r\n          Object.assign(this.product, pdtempPdInfo)\r\n        }\r\n      },\r\n      initProductOptions() {\r\n        findAllProduct(this.product.id).then(response => {\r\n          if (response.data.length) {\r\n            response.data.forEach(val => {\r\n              this.productOptionList.push({\r\n                key: val.id,\r\n                value: val.pdCode + \":\" + val.id,\r\n                label: val.pdCode + \":\" + val.pdName\r\n              })\r\n\r\n            })\r\n          }\r\n        })\r\n      },\r\n\r\n      goAndInitURL(code) {\r\n        this.$router.push({name: '校验型规则', params: {ruleFlag: '1', ruleCode: code}})\r\n      },\r\n      back() {\r\n        this.$emit('changeDialogVisible_formulaSelect', false)\r\n      },\r\n      refresh(){\r\n        this.productBnftForm.product = this.product.pdCode + \":\" + this.product.id\r\n        this.productBnftForm.appointProduct = this.product.pdCode + \":\" + this.product.id\r\n        this.findPremById(this.product.id)\r\n        this.productBnftForm.prem = this.pdUwSiTypeOptions;\r\n        this.findExtPremById(this.productBnftForm.prem)\r\n        this.productBnftForm.extPrem = this.pdUwSiTypeDtOptions\r\n\r\n        this.appointFindPremById(this.productBnftForm.appointProduct)\r\n\r\n        this.productBnftForm.appointPrem = this.pdUwSiTypeOptions;\r\n        this.appointFindAExtPremById(this.productBnftForm.appointPrem)\r\n        this.productBnftForm.appointExtPrem = this.pdUwSiTypeDtOptions\r\n        this.handleSearch();\r\n      },\r\n      async handleSearch() {\r\n        //分页传输数据\r\n        if (this.getCaption(this.productBnftForm.appointProduct, 1)) {\r\n          const params = {\r\n            eq_pdInfoId: this.getCaption(this.productBnftForm.appointProduct, 1),\r\n            eq_pdPremCode: this.getCaption(this.productBnftForm.appointPrem, 1),\r\n            eq_pdExtPremCode: this.productBnftForm.appointExtPrem,\r\n            eq_busstype: this.guaranteeDetails,\r\n            eq_bussdetailtype: this.productBnftForm.ExpressionType,\r\n            like_pdRuleDtCls: this.productBnftForm.pdBussCode,\r\n          };\r\n          await findFormula(this.buildRequestData(params)).then(res => {\r\n            this.ruleTable = res.data;\r\n            console.info(this.ruleTable)\r\n            console.info(res.data)\r\n          });\r\n        }\r\n      },\r\n      toAddFormula() {\r\n        const param = {\r\n          pdBussType: this.guaranteeDetails,\r\n          pdBussDetailType: this.calculationFormulaType\r\n        }\r\n        let pdEdition = '';\r\n        let back1 = pdtempPdInfoList(this.getCaption(this.productBnftForm.appointProduct, 1));\r\n        back1.then(response => {\r\n          if (response.code == 200) {\r\n            pdEdition = response.data.pdEdition;\r\n\r\n          }\r\n        });\r\n        getRuleCode().then(res => {\r\n\r\n          this.$router.push({\r\n            name: '规则定义界面', params: {\r\n              ruleFlag: '0',\r\n              // pageName: 'ProductMain',\r\n              attributeObj: {\r\n                code: res.data,\r\n                ruleBussModu: this.guaranteeDetails + '',\r\n                ruleBussModuDeta: this.calculationFormulaType + '',\r\n                ruleType: '1',\r\n                ruleAttr: '2',//规则属性\r\n                pdType: '1',//商品类型\r\n                riskType: this.productBnftForm.productBigType,//产品类型\r\n                riskDetail: this.productBnftForm.productType,//产品细类\r\n                pdCode: this.getCaption(this.productBnftForm.appointProduct, 0),\r\n                pdEdition: pdEdition\r\n              },\r\n              menuPage: false,\r\n              nodeName: 'ruleDefinition'\r\n            }\r\n          });\r\n        });\r\n\r\n      },\r\n\r\n      rowClick(row, column, event) {\r\n        if (event.target.nodeName === \"INPUT\") {\r\n          if (row.id === this.productBnftForm.id) {\r\n            this.columnDetails = row;\r\n            console.info(this.columnDetails)\r\n            console.info(row);\r\n          }\r\n        }\r\n      },\r\n      handleSelectionChange(row) {\r\n        this.ruleTableCopy = row;\r\n      },\r\n      //选择-关联\r\n      selectAssociation() {\r\n        let pdtempPdRulesList = [];\r\n        this.ruleTableCopy.forEach(rule => {\r\n          let pdtempPdRules = {\r\n            pdVerId: this.product.pdVerId,\r\n            pdType: '1',\r\n            pdInfoId: this.product.id,\r\n            pdCode: this.product.pdCode,\r\n            pdRuleGrade: this.guaranteeDetails,//缴费\r\n            pdProgCode: '',\r\n            pdBnftCode: '',\r\n            pdBnftDtCode: '',\r\n            pdPremCode: '',\r\n            pdExtPremCode:'',\r\n            pdRuleCls: rule.pdRuleCls,\r\n            pdRuleDtCls: rule.pdRuleDtCls,\r\n            pdRulePropCls: rule.pdRulePropCls,\r\n            pdRulePropDtCls: rule.pdRulePropDtCls,\r\n            pdRuleCode: rule.pdRuleCode,\r\n            pdRuleDesc: rule.pdRuleDesc\r\n          };\r\n          console.info(this.productBnftForm.prem)\r\n          console.info(this.productBnftForm.extPrem)\r\n          if (this.productBnftForm.prem !== undefined){\r\n            pdtempPdRules.pdPremCode = this.getCaption(this.productBnftForm.prem,1)\r\n          }\r\n          if (this.productBnftForm.extPrem !== undefined){\r\n            pdtempPdRules.pdExtPremCode = this.getCaption(this.productBnftForm.extPrem,1)\r\n          }\r\n          pdtempPdRulesList.push(pdtempPdRules);\r\n        });\r\n        /*     if (this.productBnftForm.bnft !== undefined){\r\n               pdtempPdRules.pdRuleGrade = ''\r\n             } */\r\n        addPdtempPdRules(this.buildRequestData({\"rules\":pdtempPdRulesList})).then(res => {\r\n          this.notifySuccess(\"关联成功\");\r\n          this.findPdtempPdRulesByProductId();\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
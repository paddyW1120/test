{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\ElementMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\ElementMain.vue","mtime":1609847106589},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZScNCmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAndGhyb3R0bGUtZGVib3VuY2UnDQppbXBvcnQgcmVuZGVyIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXIvcmVuZGVyJw0KaW1wb3J0IFJpZ2h0UGFuZWwgZnJvbSAnLi9SaWdodFBhbmVsJw0KaW1wb3J0IHsgaW5wdXRDb21wb25lbnRzLCBzZWxlY3RDb21wb25lbnRzLCBsYXlvdXRDb21wb25lbnRzLCBmb3JtQ29uZjIgfSBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2NvbmZpZycNCmltcG9ydCB7ZGVlcENsb25lfSBmcm9tICdAL3V0aWxzL2luZGV4Jw0KaW1wb3J0IGRyYXdpbmdEZWZhbHV0IGZyb20gJ0AvY29tcG9uZW50cy9nZW5lcmF0b3IvZHJhd2luZ0RlZmFsdXQnDQppbXBvcnQgRHJhZ2dhYmxlSXRlbSBmcm9tICcuL0RyYWdnYWJsZUl0ZW0nDQppbXBvcnQgeyBnZXRJZEdsb2JhbCwgc2F2ZUlkR2xvYmFsLCBnZXRGb3JtQ29uZixjbGVhckRyYXdpbmdMaXN0ICB9IGZyb20gJ0AvdXRpbHMvZGInDQppbXBvcnQge3NhdmV0YWJsZWRlZmluaXRpb259ZnJvbSAnQC9hcGkvY29tbW9uL3BkZ2VubHBnZWxpbmZvJw0KbGV0IG9sZEFjdGl2ZUlkDQpsZXQgdGVtcEFjdGl2ZURhdGENCmNvbnN0IGZvcm1Db25mSW5EQiA9IGdldEZvcm1Db25mKCkNCmNvbnN0IGlkR2xvYmFsID0gZ2V0SWRHbG9iYWwoKQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBkcmFnZ2FibGUsDQogICAgcmVuZGVyLA0KICAgIFJpZ2h0UGFuZWwsDQogICAgRHJhZ2dhYmxlSXRlbQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZEdsb2JhbCwNCiAgICAgIGlucHV0Q29tcG9uZW50cywNCiAgICAgIHNlbGVjdENvbXBvbmVudHMsDQogICAgICBsYXlvdXRDb21wb25lbnRzLA0KICAgICAgZm9ybUNvbmY6IGZvcm1Db25mMiwNCiAgICAgIGxhYmVsV2lkdGg6IDEwMCwNCiAgICAgIGRyYXdpbmdMaXN0OiBkcmF3aW5nRGVmYWx1dCwNCiAgICAgIGRyYXdpbmdEYXRhOiB7fSwNCiAgICAgIGFjdGl2ZUlkOiAnJywNCiAgICAgIGZvcm1EYXRhOiB7fSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZ2VuZXJhdGVDb25mOiBudWxsLA0KICAgICAgc2hvd0ZpbGVOYW1lOiBmYWxzZSwNCiAgICAgIGFjdGl2ZURhdGE6IGRyYXdpbmdEZWZhbHV0WzBdLA0KICAgICAgc2F2ZUlkR2xvYmFsRGVib3VuY2U6IGRlYm91bmNlKDM0MCwgc2F2ZUlkR2xvYmFsKSwNCiAgICAgIGxlZnRDb21wb25lbnRzOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogJ+i+k+WFpeWei+e7hOS7ticsDQogICAgICAgICAgbGlzdDogaW5wdXRDb21wb25lbnRzDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogJ+mAieaLqeWei+e7hOS7ticsDQogICAgICAgICAgbGlzdDogc2VsZWN0Q29tcG9uZW50cw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICfooajmoLznu4Tku7YnLA0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgYWRkU2hvdzogdHJ1ZSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogIH0sDQogIHdhdGNoOiB7DQogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXMNCiAgICAnYWN0aXZlRGF0YS5jb25maWcubGFiZWwnOiBmdW5jdGlvbiAodmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyID09PSB1bmRlZmluZWQNCiAgICAgICAgfHwgIXRoaXMuYWN0aXZlRGF0YS5jb25maWcudGFnDQogICAgICAgIHx8IG9sZEFjdGl2ZUlkICE9PSB0aGlzLmFjdGl2ZUlkDQogICAgICApIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIgPSB0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIucmVwbGFjZShvbGRWYWwsICcnKSArIHZhbA0KICAgIH0sDQogICAgYWN0aXZlSWQ6IHsNCiAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgIG9sZEFjdGl2ZUlkID0gdmFsDQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICBkcmF3aW5nTGlzdDogew0KICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHRoaXMuaWRHbG9iYWwgPSAxMDANCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlDQogICAgfSwNCiAgICBpZEdsb2JhbDogew0KICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgdGhpcy5zYXZlSWRHbG9iYWxEZWJvdW5jZSh2YWwpDQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZHJhd2luZ0xpc3QgPSBbXQ0KICAgIC8vIHRoaXMuZHJhd2luZ0xpc3QgPSBkcmF3aW5nRGVmYWx1dA0KICAgIC8vIHRoaXMuYWN0aXZlRm9ybUl0ZW0odGhpcy5kcmF3aW5nTGlzdFswXSkNCiAgICAvLyBpZiAoZm9ybUNvbmZJbkRCKSB7DQogICAgLy8gICB0aGlzLmZvcm1Db25mID0gZm9ybUNvbmZJbkRCDQogICAgLy8gfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYWN0aXZlRm9ybUl0ZW0oZWxlbWVudCkgew0KICAgICAgdGhpcy5hY3RpdmVEYXRhID0gZWxlbWVudA0KICAgICAgdGhpcy5hY3RpdmVJZCA9IGVsZW1lbnQuY29uZmlnLmZvcm1JZA0KICAgIH0sDQogICAgb25FbmQob2JqKSB7DQogICAgICBpZiAob2JqLmZyb20gIT09IG9iai50bykgew0KICAgICAgICB0aGlzLmFjdGl2ZURhdGEgPSB0ZW1wQWN0aXZlRGF0YQ0KICAgICAgICB0aGlzLmFjdGl2ZUlkID0gdGhpcy5pZEdsb2JhbA0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkQ29tcG9uZW50KGl0ZW0pIHsNCiAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5jbG9uZUNvbXBvbmVudChpdGVtKQ0KICAgICAgdGhpcy5kcmF3aW5nTGlzdC5wdXNoKGNsb25lKQ0KICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbShjbG9uZSkNCiAgICB9LA0KICAgIGNsb25lQ29tcG9uZW50KG9yaWdpbikgew0KICAgICAgY29uc3QgY2xvbmUgPSBkZWVwQ2xvbmUob3JpZ2luKQ0KICAgICAgY29uc3QgY29uZmlnID0gY2xvbmUuY29uZmlnDQogICAgICBjb25maWcuc3BhbiA9IHRoaXMuZm9ybUNvbmYuc3BhbiAvLyDnlJ/miJDku6PnoIHml7bvvIzkvJrmoLnmja5zcGFu5YGa57K+566A5Yik5patDQogICAgICB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNsb25lKQ0KICAgICAgY2xvbmUucGxhY2Vob2xkZXIgIT09IHVuZGVmaW5lZCAmJiAoY2xvbmUucGxhY2Vob2xkZXIgKz0gY29uZmlnLmxhYmVsKQ0KICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZQ0KICAgICAgcmV0dXJuIHRlbXBBY3RpdmVEYXRhDQogICAgfSwNCiAgICBjcmVhdGVJZEFuZEtleShpdGVtKSB7DQogICAgICBjb25zdCBjb25maWcgPSBpdGVtLmNvbmZpZw0KICAgICAgY29uZmlnLmZvcm1JZCA9ICsrdGhpcy5pZEdsb2JhbA0KICAgICAgY29uZmlnLnJlbmRlcktleSA9ICtuZXcgRGF0ZSgpIC8vIOaUueWPmHJlbmRlcktleeWQjuWPr+S7peWunueOsOW8uuWItuabtOaWsOe7hOS7tg0KICAgICAgaWYgKGNvbmZpZy5sYXlvdXQgPT09ICdjb2xGb3JtSXRlbScpIHsNCiAgICAgICAgaWYgKCFpdGVtLnZNb2RlbCl7DQogICAgICAgICAgaXRlbS52TW9kZWwgPSBgZmllbGQke3RoaXMuaWRHbG9iYWx9YA0KICAgICAgICB9DQogICAgICB9IGVsc2UgaWYgKGNvbmZpZy5sYXlvdXQgPT09ICdyb3dGb3JtSXRlbScpIHsNCiAgICAgICAgY29uZmlnLmNvbXBvbmVudE5hbWUgPSBgcm93JHt0aGlzLmlkR2xvYmFsfWANCiAgICAgICAgIUFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSAmJiAoY29uZmlnLmNoaWxkcmVuID0gW10pDQogICAgICAgIGRlbGV0ZSBjb25maWcubGFiZWwgLy8gcm93Rm9ybUl0ZW3ml6DpnIDphY3nva5sYWJlbOWxnuaApw0KICAgICAgfQ0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSkgew0KICAgICAgICBjb25maWcuY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW4ubWFwKGNoaWxkSXRlbSA9PiB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNoaWxkSXRlbSkpDQogICAgICB9DQogICAgICByZXR1cm4gaXRlbQ0KICAgIH0sDQogICAgQXNzZW1ibGVGb3JtRGF0YSgpIHsNCiAgICAgIHRoaXMuZm9ybURhdGEgPSB7DQogICAgICAgIGZpZWxkczogZGVlcENsb25lKHRoaXMuZHJhd2luZ0xpc3QpLA0KICAgICAgICAuLi50aGlzLmZvcm1Db25mDQogICAgICB9DQogICAgfSwNCiAgICBlbXB0eSgpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuimgea4heepuuaJgOaciee7hOS7tuWQl++8nycsICfmj5DnpLonLCB7IHR5cGU6ICd3YXJuaW5nJyB9KS50aGVuKA0KICAgICAgICAoKSA9PiB7DQogICAgICAgICAgY2xlYXJEcmF3aW5nTGlzdCgpDQogICAgICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IFtdDQogICAgICAgICAgdGhpcy5pZEdsb2JhbCA9IDEwMA0KICAgICAgICB9DQogICAgICApDQogICAgfSwNCiAgICBkcmF3aW5nSXRlbUNvcHkoaXRlbSwgcGFyZW50KSB7DQogICAgICBsZXQgY2xvbmUgPSBkZWVwQ2xvbmUoaXRlbSkNCiAgICAgIGNsb25lID0gdGhpcy5jcmVhdGVJZEFuZEtleShjbG9uZSkNCiAgICAgIHBhcmVudC5wdXNoKGNsb25lKQ0KICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbShjbG9uZSkNCiAgICB9LA0KICAgIGRyYXdpbmdJdGVtRGVsZXRlKGluZGV4LCBwYXJlbnQpIHsNCiAgICAgIHBhcmVudC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuZHJhd2luZ0xpc3QubGVuZ3RoDQogICAgICAgIGlmIChsZW4pIHsNCiAgICAgICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKHRoaXMuZHJhd2luZ0xpc3RbbGVuIC0gMV0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBzaG93SnNvbigpIHsNCiAgICAgIHRoaXMuQXNzZW1ibGVGb3JtRGF0YSgpDQogICAgfSwNCiAgICB0YWdDaGFuZ2UobmV3VGFnKSB7DQogICAgICBuZXdUYWcgPSB0aGlzLmNsb25lQ29tcG9uZW50KG5ld1RhZykNCiAgICAgIGNvbnN0IGNvbmZpZyA9IG5ld1RhZy5jb25maWcNCiAgICAgIG5ld1RhZy52TW9kZWwgPSB0aGlzLmFjdGl2ZURhdGEudk1vZGVsDQogICAgICBjb25maWcuZm9ybUlkID0gdGhpcy5hY3RpdmVJZA0KICAgICAgY29uZmlnLnNwYW4gPSB0aGlzLmFjdGl2ZURhdGEuY29uZmlnLnNwYW4NCiAgICAgIHRoaXMuYWN0aXZlRGF0YS5jb25maWcudGFnID0gY29uZmlnLnRhZw0KICAgICAgdGhpcy5hY3RpdmVEYXRhLmNvbmZpZy50YWdJY29uID0gY29uZmlnLnRhZ0ljb24NCiAgICAgIHRoaXMuYWN0aXZlRGF0YS5jb25maWcuZG9jdW1lbnQgPSBjb25maWcuZG9jdW1lbnQNCiAgICAgIGlmICh0eXBlb2YgdGhpcy5hY3RpdmVEYXRhLmNvbmZpZy5kZWZhdWx0VmFsdWUgPT09IHR5cGVvZiBjb25maWcuZGVmYXVsdFZhbHVlKSB7DQogICAgICAgIGNvbmZpZy5kZWZhdWx0VmFsdWUgPSB0aGlzLmFjdGl2ZURhdGEuY29uZmlnLmRlZmF1bHRWYWx1ZQ0KICAgICAgfQ0KICAgICAgT2JqZWN0LmtleXMobmV3VGFnKS5mb3JFYWNoKGtleSA9PiB7DQogICAgICAgIGlmICh0aGlzLmFjdGl2ZURhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgbmV3VGFnW2tleV0gPSB0aGlzLmFjdGl2ZURhdGFba2V5XQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy5hY3RpdmVEYXRhID0gbmV3VGFnDQogICAgICB0aGlzLnVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgdGhpcy5kcmF3aW5nTGlzdCkNCiAgICB9LA0KICAgIHVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgbGlzdCkgew0KICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uY29uZmlnLmZvcm1JZCA9PT0gdGhpcy5hY3RpdmVJZCkNCiAgICAgIGlmIChpbmRleCA+IC0xKSB7DQogICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxLCBuZXdUYWcpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jb25maWcuY2hpbGRyZW4pKSB0aGlzLnVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgaXRlbS5jb25maWcuY2hpbGRyZW4pDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBzaG93dGFibGVkZWZpbml0aW9uKCl7DQogICAgICB0aGlzLiRlbWl0KCdkcmFnJywgdHJ1ZSk7DQogICAgfSwNCiAgfQ0KfQ0K"},{"version":3,"sources":["ElementMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ElementMain.vue","sourceRoot":"src/views/business-general-conf/pdgenlpgelinfo/draggable","sourcesContent":["\r\n<template>\r\n  <div class=\"container\">\r\n    <div class=\"left-board\" v-if=\"addShow\">\r\n      <div class=\"logo-wrapper\">\r\n        <div class=\"logo\">\r\n        </div>\r\n      </div>\r\n      <el-scrollbar class=\"left-scrollbar\" >\r\n        <div class=\"components-list\">\r\n          <div v-for=\"(item, listIndex) in leftComponents\" :key=\"listIndex\">\r\n            <div class=\"components-title\">\r\n              <svg-icon icon-class=\"component\" />\r\n              {{ item.title }}\r\n            </div>\r\n            <draggable\r\n              class=\"components-draggable\"\r\n              :list=\"item.list\"\r\n              :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\r\n              :clone=\"cloneComponent\"\r\n              draggable=\".components-item\"\r\n              :sort=\"false\"\r\n              @end=\"onEnd\"\r\n            >\r\n              <div\r\n                v-for=\"(element, index) in item.list\"\r\n                :key=\"index\"\r\n                class=\"components-item\"\r\n                @click=\"addComponent(element)\"\r\n              >\r\n                <div class=\"components-body\">\r\n                  <svg-icon :icon-class=\"element.config.tagIcon\" />\r\n                  {{ element.config.label }}\r\n                </div>\r\n              </div>\r\n            </draggable>\r\n          </div>\r\n          <div class=\"components-item\" @click=\"showtabledefinition()\">\r\n            <div class=\"components-body\" >\r\n              <svg-icon :icon-class=\"'table'\" />\r\n              {{$t('i18nView.tableOptFrame')}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-scrollbar>\r\n    </div>\r\n\r\n    <div class=\"center-board\" :class=\"{'leftHide': !addShow}\">\r\n      <div class=\"action-bar\">\r\n        <el-button  size=\"small\" class=\"delete-btn\" icon=\"el-icon-delete\" type=\"text\" @click=\"empty\">\r\n          {{$t('table.clear')}}\r\n        </el-button>\r\n      </div>\r\n      <el-scrollbar class=\"center-scrollbar\">\r\n        <el-row class=\"center-board-row\" :gutter=\"formConf.gutter\">\r\n          <el-form\r\n            :size=\"formConf.size\"\r\n            :label-position=\"formConf.labelPosition\"\r\n            :disabled=\"formConf.disabled\"\r\n            :label-width=\"formConf.labelWidth + 'px'\"\r\n          >\r\n            <draggable class=\"drawing-board\" :list=\"drawingList\" :animation=\"340\" group=\"componentsGroup\">\r\n              <draggable-item\r\n                v-for=\"(element, index) in drawingList\"\r\n                :key=\"element.renderKey\"\r\n                :drawing-list=\"drawingList\"\r\n                :element=\"element\"\r\n                :index=\"index\"\r\n                :active-id=\"activeId\"\r\n                :form-conf=\"formConf\"\r\n                @activeItem=\"activeFormItem\"\r\n                @copyItem=\"drawingItemCopy\"\r\n                @deleteItem=\"drawingItemDelete\"\r\n              />\r\n            </draggable>\r\n            <div v-show=\"!drawingList.length\" class=\"empty-info\">\r\n              {{$t('i18nView.formDesign')}}\r\n            </div>\r\n          </el-form>\r\n        </el-row>\r\n      </el-scrollbar>\r\n    </div>\r\n\r\n    <right-panel\r\n      :active-data=\"activeData\"\r\n      :form-conf=\"formConf\"\r\n      :show-field=\"!!drawingList.length\"\r\n      @tag-change=\"tagChange\"\r\n    />\r\n    <input id=\"copyNode\" type=\"hidden\">\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable'\r\nimport { debounce } from 'throttle-debounce'\r\nimport render from '@/components/render/render'\r\nimport RightPanel from './RightPanel'\r\nimport { inputComponents, selectComponents, layoutComponents, formConf2 } from '@/components/generator/config'\r\nimport {deepClone} from '@/utils/index'\r\nimport drawingDefalut from '@/components/generator/drawingDefalut'\r\nimport DraggableItem from './DraggableItem'\r\nimport { getIdGlobal, saveIdGlobal, getFormConf,clearDrawingList  } from '@/utils/db'\r\nimport {savetabledefinition}from '@/api/common/pdgenlpgelinfo'\r\nlet oldActiveId\r\nlet tempActiveData\r\nconst formConfInDB = getFormConf()\r\nconst idGlobal = getIdGlobal()\r\n\r\nexport default {\r\n  components: {\r\n    draggable,\r\n    render,\r\n    RightPanel,\r\n    DraggableItem\r\n  },\r\n  data() {\r\n    return {\r\n      idGlobal,\r\n      inputComponents,\r\n      selectComponents,\r\n      layoutComponents,\r\n      formConf: formConf2,\r\n      labelWidth: 100,\r\n      drawingList: drawingDefalut,\r\n      drawingData: {},\r\n      activeId: '',\r\n      formData: {},\r\n      dialogVisible: false,\r\n      generateConf: null,\r\n      showFileName: false,\r\n      activeData: drawingDefalut[0],\r\n      saveIdGlobalDebounce: debounce(340, saveIdGlobal),\r\n      leftComponents: [\r\n        {\r\n          title: '输入型组件',\r\n          list: inputComponents\r\n        },\r\n        {\r\n          title: '选择型组件',\r\n          list: selectComponents\r\n        },\r\n        {\r\n          title: '表格组件',\r\n        }\r\n      ],\r\n      addShow: true,\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  watch: {\r\n    // eslint-disable-next-line func-names\r\n    'activeData.config.label': function (val, oldVal) {\r\n      if (\r\n        this.activeData.placeholder === undefined\r\n        || !this.activeData.config.tag\r\n        || oldActiveId !== this.activeId\r\n      ) {\r\n        return\r\n      }\r\n      this.activeData.placeholder = this.activeData.placeholder.replace(oldVal, '') + val\r\n    },\r\n    activeId: {\r\n      handler(val) {\r\n        oldActiveId = val\r\n      },\r\n      immediate: true\r\n    },\r\n    drawingList: {\r\n      handler(val) {\r\n        if (val.length === 0) this.idGlobal = 100\r\n      },\r\n      deep: true\r\n    },\r\n    idGlobal: {\r\n      handler(val) {\r\n        this.saveIdGlobalDebounce(val)\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawingList = []\r\n    // this.drawingList = drawingDefalut\r\n    // this.activeFormItem(this.drawingList[0])\r\n    // if (formConfInDB) {\r\n    //   this.formConf = formConfInDB\r\n    // }\r\n  },\r\n  methods: {\r\n    activeFormItem(element) {\r\n      this.activeData = element\r\n      this.activeId = element.config.formId\r\n    },\r\n    onEnd(obj) {\r\n      if (obj.from !== obj.to) {\r\n        this.activeData = tempActiveData\r\n        this.activeId = this.idGlobal\r\n      }\r\n    },\r\n    addComponent(item) {\r\n      const clone = this.cloneComponent(item)\r\n      this.drawingList.push(clone)\r\n      this.activeFormItem(clone)\r\n    },\r\n    cloneComponent(origin) {\r\n      const clone = deepClone(origin)\r\n      const config = clone.config\r\n      config.span = this.formConf.span // 生成代码时，会根据span做精简判断\r\n      this.createIdAndKey(clone)\r\n      clone.placeholder !== undefined && (clone.placeholder += config.label)\r\n      tempActiveData = clone\r\n      return tempActiveData\r\n    },\r\n    createIdAndKey(item) {\r\n      const config = item.config\r\n      config.formId = ++this.idGlobal\r\n      config.renderKey = +new Date() // 改变renderKey后可以实现强制更新组件\r\n      if (config.layout === 'colFormItem') {\r\n        if (!item.vModel){\r\n          item.vModel = `field${this.idGlobal}`\r\n        }\r\n      } else if (config.layout === 'rowFormItem') {\r\n        config.componentName = `row${this.idGlobal}`\r\n        !Array.isArray(config.children) && (config.children = [])\r\n        delete config.label // rowFormItem无需配置label属性\r\n      }\r\n      if (Array.isArray(config.children)) {\r\n        config.children = config.children.map(childItem => this.createIdAndKey(childItem))\r\n      }\r\n      return item\r\n    },\r\n    AssembleFormData() {\r\n      this.formData = {\r\n        fields: deepClone(this.drawingList),\r\n        ...this.formConf\r\n      }\r\n    },\r\n    empty() {\r\n      this.$confirm('确定要清空所有组件吗？', '提示', { type: 'warning' }).then(\r\n        () => {\r\n          clearDrawingList()\r\n          this.drawingList = []\r\n          this.idGlobal = 100\r\n        }\r\n      )\r\n    },\r\n    drawingItemCopy(item, parent) {\r\n      let clone = deepClone(item)\r\n      clone = this.createIdAndKey(clone)\r\n      parent.push(clone)\r\n      this.activeFormItem(clone)\r\n    },\r\n    drawingItemDelete(index, parent) {\r\n      parent.splice(index, 1)\r\n      this.$nextTick(() => {\r\n        const len = this.drawingList.length\r\n        if (len) {\r\n          this.activeFormItem(this.drawingList[len - 1])\r\n        }\r\n      })\r\n    },\r\n    showJson() {\r\n      this.AssembleFormData()\r\n    },\r\n    tagChange(newTag) {\r\n      newTag = this.cloneComponent(newTag)\r\n      const config = newTag.config\r\n      newTag.vModel = this.activeData.vModel\r\n      config.formId = this.activeId\r\n      config.span = this.activeData.config.span\r\n      this.activeData.config.tag = config.tag\r\n      this.activeData.config.tagIcon = config.tagIcon\r\n      this.activeData.config.document = config.document\r\n      if (typeof this.activeData.config.defaultValue === typeof config.defaultValue) {\r\n        config.defaultValue = this.activeData.config.defaultValue\r\n      }\r\n      Object.keys(newTag).forEach(key => {\r\n        if (this.activeData[key] !== undefined) {\r\n          newTag[key] = this.activeData[key]\r\n        }\r\n      })\r\n      this.activeData = newTag\r\n      this.updateDrawingList(newTag, this.drawingList)\r\n    },\r\n    updateDrawingList(newTag, list) {\r\n      const index = list.findIndex(item => item.config.formId === this.activeId)\r\n      if (index > -1) {\r\n        list.splice(index, 1, newTag)\r\n      } else {\r\n        list.forEach(item => {\r\n          if (Array.isArray(item.config.children)) this.updateDrawingList(newTag, item.config.children)\r\n        })\r\n      }\r\n    },\r\n    showtabledefinition(){\r\n      this.$emit('drag', true);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import '@/styles/home';\r\n</style>\r\n"]}]}
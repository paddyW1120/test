{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\commonpa\\commonpa-item-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\commonpa\\commonpa-item-def\\index.vue","mtime":1609847106571},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7DQogIGNoZWNrVXBkYXRlUGRQYUluZm8sDQogIGRlbGV0ZVBkUGFJbmZvLA0KICBqdWRnZURlbGV0LA0KICBzYXZlUGRQYUluZm8sDQogIHNlbGVjdFBkRGVzVHlwZQ0KfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vY29tbW9ucGFkZWYiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImNvbW1vblBhRGVmIiwNCiAgZGF0YSgpIHsNCiAgICBjb25zdCB2YWxpZGF0ZVBkUGFDb2RlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kdCgnZm9ybS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ2NvbW1vblBhRGVmLnBkUGFDb2RlJykpKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKCEvXltBLVphLXowLTldKyQvLnRlc3QodmFsdWUpKSB7DQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKFN0cmluZyh0aGlzLiR0KCdjb21tb25QYURlZi5wZFBhTWVzc2FnZScpKSkpDQogICAgICAgIH0NCiAgICAgICAgY2FsbGJhY2soKQ0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gew0KICAgICAgdGFibGVEYXRhUGE6IFtdLA0KICAgICAgc2VsZWN0ZWRQYToge30sDQogICAgICBmb3JtX3BhOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRQYUNvZGU6ICcnLA0KICAgICAgICBwZFBhTmFtZTogJycsDQogICAgICAgIHBkUGFPcGVyYXRpb25GYWxnOidOJywNCiAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICBwZFZlcklkOiAnJywNCiAgICAgICAgcGRJbmZvSWQ6ICcnLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZEF0dHI6ICcnLA0KICAgICAgICBwZERlc1R5cGU6IFtdLA0KICAgICAgICBwZENhbGNDb2RlOiAnJywNCiAgICAgICAgY3JlYXRlVGltZTogJycsDQogICAgICAgIHVwZGF0ZVRpbWU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybURlc1R5cGU6IHsNCiAgICAgICAgcGREZXNUeXBlOiBbXSwNCiAgICAgIH0sDQogICAgICBydWxlc19wYTogew0KICAgICAgICBwZFBhQ29kZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywNCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGRQYUNvZGUNCiAgICAgICAgfV0sDQogICAgICAgIHBkUGFOYW1lOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdjb21tb25QYURlZi5wZFBhTmFtZScpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICBwZEF0dHI6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdjb21tb25QYURlZi5wZFBhQXR0cmlidXRlcycpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICBwZERlc1R5cGU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdjb21tb25QYURlZi5wZFBhVHlwZScpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dDQogICAgICB9LA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgfSwNCiAgcHJvcHMgOiBbJ3NlbGVjdGVkUGFJdGVtJ10sDQogIHdhdGNoIDogew0KICAgICAgJ3NlbGVjdGVkUGFJdGVtJyA6IGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKXsNCiAgICAgICAgLyoqIHRoaXMuZm9ybV9wYS5wZERlc1R5cGU9W107DQogICAgICAgICAgZm9yKHZhciBhID0wOyBhIDwgbmV3VmFsLnBkZ2VubFBkUGFEZXNUeXBlTGlzdC5sZW5ndGggOyBhKyspew0KICAgICAgICAgICAgICAgICB0aGlzLmZvcm1fcGEucGREZXNUeXBlW2FdPW5ld1ZhbC5wZGdlbmxQZFBhRGVzVHlwZUxpc3RbYV0ucGREZXNUeXBlOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmZvcm1fcGEgPSBuZXdWYWwqLw0KICAgICAgICAgIGlmKE9iamVjdC5rZXlzKG5ld1ZhbCkubGVuZ3RoPjApew0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUGFDaGFuZ2VkKG5ld1ZhbCk7DQogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYSA9IG5ld1ZhbDsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYSA9IHt9Ow0KICAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm1QYSgpOw0KICAgICAgICAgIH0NCg0KICAgICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMucmVzZXRGb3JtUGEoKQ0KICB9LA0KICBjb21wdXRlZDoge30sDQogIG1ldGhvZHM6IHsNCiAgICBiYWNrKCkgew0KICAgICAgdGhpcy4kZW1pdCgnZGlhbG9nQ2xvc2VkJykNCiAgICB9LA0KICAgIHNlbGVjdGVkUGFDaGFuZ2VkKHZhbCkgew0KICAgICAgdGhpcy5yZXNldEZvcm1QYSgpDQogICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9wYSwgdmFsKQ0KICAgICAgLyrmn6Xor6LlvZPliY3kv53lhajpobnnm67kuIvnmoTkuqflk4Horr7orqHnsbvlnosqLw0KICAgICAgc2VsZWN0UGREZXNUeXBlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7ImlkIjogdmFsLmlkfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5mb3JtX3BhLnBkRGVzVHlwZSA9IHJlcy5kYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgcm93Q2xpY2tfcGEocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRQYS5pZCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYSA9IHt9DQogICAgICAgICAgdGhpcy5yZXNldEZvcm1QYSgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZVBhSW5mbyhyb3cpIHsNCiAgICAgIGRlYnVnZ2VyDQogICAgICBqdWRnZURlbGV0KHJvdy5pZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLkv53lhajpobnnm67lt7LooqvlhbPogZTvvIzor7flhYjliKDpmaTlhbPogZTmlbDmja4iKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGRlbGV0ZVBkUGFJbmZvKHJvdy5pZCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpDQogICAgICAgICAgICB0aGlzLnJlZnJlc2goKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9LA0KDQogICAgaGFuZGxlU2F2ZVBhSW5mbygpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9wYS52YWxpZGF0ZShwYXNzID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICB0aGlzLmZvcm1EZXNUeXBlLnBkRGVzVHlwZSA9IHRoaXMuZm9ybV9wYS5wZERlc1R5cGUNCiAgICAgICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgICAgIFBkZ2VubFBkUGFJbmZvOiB0aGlzLmZvcm1fcGEsDQogICAgICAgICAgICBQZGdlbmxQZFBhRGVzVHlwZTogdGhpcy5mb3JtRGVzVHlwZSwNCiAgICAgICAgICB9DQogICAgICAgICAgY29uc29sZS5sb2coImhhbmRsZVNhdmVQYUluZm8iLHBhcmFtKTsNCiAgICAgICAgICBzYXZlUGRQYUluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKQ0KICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlVXBkYXRlUGFJbmZvKCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtX3BhLnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIGNoZWNrVXBkYXRlUGRQYUluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHsiaWQiOiB0aGlzLmZvcm1fcGEuaWR9KSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coInJlcyIscmVzKTsNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5wZG9wZXJQZFZlclJsc0xpc3QubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi5L+d5YWo6aG555uu6KKr5bey5Y+R5biD5Lqn5ZOB5YWz6IGUIikNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5wZHRlbXBQZFBhSW5mb0xpc3QubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5YWz6IGU5pyq5Y+R5biD5Lqn5ZOBLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybURlc1R5cGUucGREZXNUeXBlID0gdGhpcy5mb3JtX3BhLnBkRGVzVHlwZQ0KICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICAgICAgICAgICAgUGRnZW5sUGRQYUluZm86IHRoaXMuZm9ybV9wYSwNCiAgICAgICAgICAgICAgICAgIFBkZ2VubFBkUGFEZXNUeXBlOiB0aGlzLmZvcm1EZXNUeXBlLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzYXZlUGRQYUluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UudXBkYXRlJykpDQogICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojkv67mlLknDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtRGVzVHlwZS5wZERlc1R5cGUgPSB0aGlzLmZvcm1fcGEucGREZXNUeXBlDQogICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICAgICAgICAgIFBkZ2VubFBkUGFJbmZvOiB0aGlzLmZvcm1fcGEsDQogICAgICAgICAgICAgICAgUGRnZW5sUGRQYURlc1R5cGU6IHRoaXMuZm9ybURlc1R5cGUsDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgc2F2ZVBkUGFJbmZvKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS51cGRhdGUnKSkNCiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICByZWZyZXNoKCkgew0KICAgIC8vIHRoaXMuJHJlZnMucGFnZV9wYS5yZWxvYWQoKSBkaWFsb2dDbG9zZWQNCiAgICAgIGRlYnVnZ2VyDQogICAgICB0aGlzLiRwYXJlbnQuJHBhcmVudC5kaWFsb2dDbG9zZWQoKTsNCiAgICAgIHRoaXMucmVzZXRGb3JtUGEoKQ0KICAgICAgdGhpcy5zZWxlY3RlZFBhID0ge30NCiAgICB9LA0KICAgIHJlc2V0Rm9ybVBhKCkgew0KICAgICAgdGhpcy5mb3JtX3BhID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkUGFDb2RlOiAnJywNCiAgICAgICAgcGRQYU5hbWU6ICcnLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkVmVySWQ6ICcnLA0KICAgICAgICBwZEluZm9JZDogJycsDQogICAgICAgIHBkUGFPcGVyYXRpb25GYWxnOidOJywNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRBdHRyOiAnJywNCiAgICAgICAgcGREZXNUeXBlOiBbXSwNCiAgICAgICAgcGRDYWxjQ29kZTogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6ICcnLA0KICAgICAgICB1cGRhdGVUaW1lOiAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtRGVzVHlwZSA9IHsNCiAgICAgICAgcGREZXNUeXBlOiBbXSwNCiAgICAgIH0NCiAgICAgIC8vdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAvLyAgIHRoaXMuJHJlZnMuZm9ybV9wYS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIC8vfSkNCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/business-general-conf/commonpa/commonpa-item-def","sourcesContent":["<template>\r\n   <!-- <cus-page-title-back :isDialog=\"true\" :label=\"$t('commonPa.paDef')\" @backTo=\"back\"></cus-page-title-back>\r\n\r\n    <el-table :data=\"tableDataPa\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\" @row-click=\"rowClick_pa\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedPa\" @change=\"selectedPaChanged\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_pa', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('commonPaDef.pdPaCode')\" align=\"center\" prop=\"pdPaCode\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('commonPaDef.pdPaName')\" align=\"center\" prop=\"pdPaName\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-popover v-auth=\"'common-pd-pa-info:judgeDelet'\" :content=\"$t('confirmMessage.delete')\"\r\n                       icon=\"el-icon-delete\"\r\n                       size=\"mini\" type=\"danger\" @confirm=\"deletePaInfo(scope.row)\"></cus-popover>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page_pa\" v-model=\"tableDataPa\" :pageSize=\"10\" :params=\"undefined\"\r\n                    url=\"/common-pd-pa-def/base/list\"/>\r\n\r\n    <cus-form-title :label=\"$t('commonPa.paDef')\"></cus-form-title> -->\r\n    <el-form ref=\"form_pa\" :model=\"form_pa\" :rules=\"rules_pa\" label-position=\"right\" label-width=\"150px\"\r\n             style=\"margin: 10px 0 0 0\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaDef.pdPaCode')\" prop=\"pdPaCode\">\r\n            <el-input v-model=\"form_pa.pdPaCode\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable\r\n                      maxlength=\"20\" show-word-limit type=\"text\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaDef.pdPaName')\" prop=\"pdPaName\">\r\n            <el-input v-model=\"form_pa.pdPaName\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable\r\n                      maxlength=\"100\" show-word-limit type=\"text\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('commonPaDef.pdPaOperationFalg')\" >\r\n              <el-switch active-value=\"Y\" inactive-value=\"N\" v-model=\"form_pa.pdPaOperationFalg\"></el-switch>\r\n            </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n         <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaDef.pdPaAttributes')\" prop=\"pdAttr\">\r\n            <cus-radio v-model=\"form_pa.pdAttr\" :codetype=\"'pdPaAttributes'\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"16\">\r\n          <el-form-item :label=\"$t('commonPaDef.pdPaType')\" prop=\"pdDesType\">\r\n            <cus-checkbox v-model=\"form_pa.pdDesType\" :codetype=\"'ProductDesignType'\"></cus-checkbox>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n      <div style=\"float: right\">\r\n        <el-button v-show=\"Object.keys(selectedPa).length === 0\" v-auth=\"'common-pd-pa-info:save'\" size=\"small\"\r\n                   style=\"margin: 0 10px 0 0\"\r\n                   type=\"primary\" @click=\"handleSavePaInfo\">\r\n          <i class=\"el-icon-success el-icon--left\"></i>\r\n          {{ $t('table.save') }}\r\n        </el-button>\r\n        <el-button v-show=\"Object.keys(selectedPa).length > 0\" v-auth=\"'common-pd-pa-info:save'\" size=\"small\"\r\n                   style=\"margin: 0 10px 0 0\"\r\n                   type=\"primary\" @click=\"handleUpdatePaInfo\">\r\n          <i class=\"el-icon-success el-icon--left\"></i>\r\n          {{ $t('table.update') }}\r\n        </el-button>\r\n        <el-button size=\"small\" style=\"margin: 0\" type=\"primary\" @click=\"refresh\">\r\n          <i class=\"el-icon-refresh el-icon--left\"></i>\r\n          {{ $t('table.refresh') }}\r\n        </el-button>\r\n      </div>\r\n    </el-row>\r\n    </el-form>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  checkUpdatePdPaInfo,\r\n  deletePdPaInfo,\r\n  judgeDelet,\r\n  savePdPaInfo,\r\n  selectPdDesType\r\n} from \"@/api/basicinfo/commonpadef\"\r\n\r\nexport default {\r\n  name: \"commonPaDef\",\r\n  data() {\r\n    const validatePdPaCode = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.$t('form.please_enter') + this.$t('commonPaDef.pdPaCode')))\r\n      } else {\r\n        if (!/^[A-Za-z0-9]+$/.test(value)) {\r\n          callback(new Error(String(this.$t('commonPaDef.pdPaMessage'))))\r\n        }\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      tableDataPa: [],\r\n      selectedPa: {},\r\n      form_pa: {\r\n        id: '',\r\n        pdPaCode: '',\r\n        pdPaName: '',\r\n        pdPaOperationFalg:'N',\r\n        operator: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdAttr: '',\r\n        pdDesType: [],\r\n        pdCalcCode: '',\r\n        createTime: '',\r\n        updateTime: ''\r\n      },\r\n      formDesType: {\r\n        pdDesType: [],\r\n      },\r\n      rules_pa: {\r\n        pdPaCode: [{\r\n          required: true,\r\n          trigger: 'change',\r\n          validator: validatePdPaCode\r\n        }],\r\n        pdPaName: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('commonPaDef.pdPaName'),\r\n          trigger: 'change'\r\n        }],\r\n        pdAttr: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('commonPaDef.pdPaAttributes'),\r\n          trigger: 'change'\r\n        }],\r\n        pdDesType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('commonPaDef.pdPaType'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  props : ['selectedPaItem'],\r\n  watch : {\r\n      'selectedPaItem' : function(newVal, oldVal){\r\n        /** this.form_pa.pdDesType=[];\r\n          for(var a =0; a < newVal.pdgenlPdPaDesTypeList.length ; a++){\r\n                 this.form_pa.pdDesType[a]=newVal.pdgenlPdPaDesTypeList[a].pdDesType;\r\n          }\r\n          this.form_pa = newVal*/\r\n          if(Object.keys(newVal).length>0){\r\n              this.selectedPaChanged(newVal);\r\n              this.selectedPa = newVal;\r\n          }else{\r\n               this.selectedPa = {};\r\n               this.resetFormPa();\r\n          }\r\n\r\n      }\r\n  },\r\n  mounted() {\r\n    this.resetFormPa()\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    back() {\r\n      this.$emit('dialogClosed')\r\n    },\r\n    selectedPaChanged(val) {\r\n      this.resetFormPa()\r\n      Object.assign(this.form_pa, val)\r\n      /*查询当前保全项目下的产品设计类型*/\r\n      selectPdDesType(this.buildRequestData({\"id\": val.id})).then(res => {\r\n        this.form_pa.pdDesType = res.data\r\n      })\r\n    },\r\n    rowClick_pa(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedPa.id) {\r\n          this.selectedPa = {}\r\n          this.resetFormPa()\r\n        }\r\n      }\r\n    },\r\n    deletePaInfo(row) {\r\n      debugger\r\n      judgeDelet(row.id).then(response => {\r\n        if (response.data.length > 0) {\r\n          this.notifyError(\"保全项目已被关联，请先删除关联数据\")\r\n        } else {\r\n          deletePdPaInfo(row.id).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.delete'))\r\n            this.refresh()\r\n          })\r\n        }\r\n      })\r\n\r\n    },\r\n\r\n    handleSavePaInfo() {\r\n      this.$refs.form_pa.validate(pass => {\r\n        if (pass) {\r\n          this.formDesType.pdDesType = this.form_pa.pdDesType\r\n          const param = {\r\n            PdgenlPdPaInfo: this.form_pa,\r\n            PdgenlPdPaDesType: this.formDesType,\r\n          }\r\n          console.log(\"handleSavePaInfo\",param);\r\n          savePdPaInfo(this.buildRequestData(param)).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            this.refresh()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleUpdatePaInfo() {\r\n      this.$refs.form_pa.validate(pass => {\r\n        if (pass) {\r\n          checkUpdatePdPaInfo(this.buildRequestData({\"id\": this.form_pa.id})).then(res => {\r\n            console.log(\"res\",res);\r\n            if (res.data.pdoperPdVerRlsList.length != 0) {\r\n              this.notifyError(\"保全项目被已发布产品关联\")\r\n              return;\r\n            } else if (res.data.pdtempPdPaInfoList.length != 0) {\r\n              this.$confirm('此操作关联未发布产品, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n              }).then(() => {\r\n                this.formDesType.pdDesType = this.form_pa.pdDesType\r\n                const param = {\r\n                  PdgenlPdPaInfo: this.form_pa,\r\n                  PdgenlPdPaDesType: this.formDesType,\r\n                }\r\n                savePdPaInfo(this.buildRequestData(param)).then(() => {\r\n                  this.notifySuccess(this.$t('successMessage.update'))\r\n                  this.refresh()\r\n                })\r\n              }).catch(() => {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: '已取消修改'\r\n                });\r\n              });\r\n            } else {\r\n              this.formDesType.pdDesType = this.form_pa.pdDesType\r\n              const param = {\r\n                PdgenlPdPaInfo: this.form_pa,\r\n                PdgenlPdPaDesType: this.formDesType,\r\n              }\r\n              savePdPaInfo(this.buildRequestData(param)).then(() => {\r\n                this.notifySuccess(this.$t('successMessage.update'))\r\n                this.refresh()\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    refresh() {\r\n    // this.$refs.page_pa.reload() dialogClosed\r\n      debugger\r\n      this.$parent.$parent.dialogClosed();\r\n      this.resetFormPa()\r\n      this.selectedPa = {}\r\n    },\r\n    resetFormPa() {\r\n      this.form_pa = {\r\n        id: '',\r\n        pdPaCode: '',\r\n        pdPaName: '',\r\n        operator: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdPaOperationFalg:'N',\r\n        pdCode: '',\r\n        pdAttr: '',\r\n        pdDesType: [],\r\n        pdCalcCode: '',\r\n        createTime: '',\r\n        updateTime: ''\r\n      }\r\n      this.formDesType = {\r\n        pdDesType: [],\r\n      }\r\n      //this.$nextTick(() => {\r\n     //   this.$refs.form_pa.clearValidate()\r\n      //})\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-statistic\\product-evaluate\\evaluate-detail\\index.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-statistic\\product-evaluate\\evaluate-detail\\index.vue","mtime":1609847106674},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLXRhYmxlIC5jZWxsIHsNCiAgd2hpdGUtc3BhY2U6IHByZS1saW5lOw0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwVA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-statistic/product-evaluate/evaluate-detail","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :label=\"$t('route.productEvaluateDetail')\" @backTo=\"backPage\"/>\r\n    <el-form :model=\"form\" ref=\"form\">\r\n      <cus-row>\r\n        <cus-col :span=\"16\">\r\n          <el-form-item :label=\"$t('productEvaluateDetail.case')\">\r\n            <el-tag  style=\"margin-right: 10px\" type=\"info\" v-if=\"form.sex != ''\">{{form.sex | filter_sex}}</el-tag>\r\n            <el-tag  style=\"margin-right: 10px\" type=\"info\" v-if=\"form.age >= 0 && form.ageUnit != ''\">{{form.age + form.ageUnit}}</el-tag>\r\n            <el-tag  style=\"margin-right: 10px\" type=\"info\" v-if=\"form.occupationType != ''\">{{ $t('productEvaluateDetail.occupationType') }} {{form.occupationType | filter_occupationType}}</el-tag>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col :span=\"8\">\r\n        </cus-col>\r\n      </cus-row>\r\n    </el-form>\r\n\r\n    <el-table :data=\"tableData\" element-loading-text=\"Loading\" border class=\"wraper-table\" align=\"center\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('productEvaluateDetail.product')\" prop=\"product\" align=\"center\"\r\n                       fixed></el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.baseInfo')\" align=\"center\">\r\n        <el-table-column :label=\"$t('i18nView.payTerm')\" prop=\"baseInfo.payTerm\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.benefitTerm')\" prop=\"baseInfo.benefitTerm\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.payIntv')\" prop=\"baseInfo.payIntv\"\r\n                         align=\"center\" :formatter=\"filterPayIntv\">\r\n<!--          <template slot-scope=\"scope\">-->\r\n<!--            <cus-select :codetype=\"'paymentFrequency'\" :disabled=\"true\"></cus-select>-->\r\n<!--          </template>-->\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.proposalAge')\" prop=\"baseInfo.proposalAge\"\r\n                         align=\"center\"></el-table-column>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.features')\" align=\"center\">\r\n        <el-table-column v-for=\"col in featuresCols\" :label=\"col.label\" v-if=\"col.show\"\r\n                         :prop=\"col.prop\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover\r\n              v-if=\"scope.row[scope.column.property] != undefined && scope.row[scope.column.property].length > 1\"\r\n              placement=\"top\" trigger=\"hover\">\r\n              <el-tag v-for=\"item in scope.row[scope.column.property]\" size=\"medium\">{{ item }}</el-tag>\r\n              <div slot=\"reference\" class=\"name-wrapper\">\r\n                <el-tag size=\"medium\">{{ scope.row[scope.column.property][0] }}...</el-tag>\r\n              </div>\r\n            </el-popover>\r\n            <el-tag\r\n              v-if=\"scope.row[scope.column.property] != undefined && scope.row[scope.column.property].length === 1\"\r\n              size=\"medium\">{{ scope.row[scope.column.property][0] }}\r\n            </el-tag>\r\n            <p v-if=\"scope.row[scope.column.property] == undefined || scope.row[scope.column.property].length === 0\">\r\n              ~~</p>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.bnftInfo')\" align=\"center\">\r\n        <el-table-column v-for=\"col in bnftInfoCols\" :label=\"col.label\" width=\"100%\" v-if=\"col.show\"\r\n                         :prop=\"col.prop\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n\r\n\r\n            <el-popover\r\n              v-if=\"scope.row[scope.column.property] != undefined && scope.row[scope.column.property].length > 1\"\r\n              placement=\"top\" trigger=\"hover\">\r\n              <el-tag v-for=\"item in scope.row[scope.column.property]\" size=\"medium\">{{ item }}</el-tag>\r\n              <div slot=\"reference\" class=\"name-wrapper\">\r\n                <el-tag size=\"medium\">{{ scope.row[scope.column.property][0] }}...</el-tag>\r\n              </div>\r\n            </el-popover>\r\n            <el-tag\r\n              v-if=\"scope.row[scope.column.property] != undefined && scope.row[scope.column.property].length === 1\"\r\n              size=\"medium\">{{ scope.row[scope.column.property][0] }}\r\n            </el-tag>\r\n            <p v-if=\"scope.row[scope.column.property] == undefined || scope.row[scope.column.property].length === 0\">\r\n              ~~</p>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.amntTestCal')\" prop=\"amnt\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.premTestCal')\" prop=\"prem\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('productEvaluateDetail.currentTestCal')\" align=\"center\" fixed=\"right\" width=\"130\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button icon=\"el-icon-success\" size=\"small\" v-auth=\"'productEvaluate:currentDetail'\"\r\n                     type=\"primary\"\r\n                     @click=\"showCurrentDetail(scope.row)\">\r\n            {{ $t('productEvaluateDetail.currentDetail') }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog append-to-body :show-close=\"false\"\r\n               :close-on-click-modal=\"false\"\r\n               v-if=\"currentShow\" width=\"80%\"\r\n               :visible.sync=\"currentShow\" center v-dialog-drag>\r\n      <cus-page-title-back :label=\"$t('productEvaluateDetail.productCurrent')\" :isDialog=\"true\"\r\n                           @backTo=\"closeDialog\"></cus-page-title-back>\r\n\r\n      <el-form :model=\"currentForm\" ref=\"currentForm\" style=\"margin: 10px 10px\">\r\n        <cus-row :style=\"'margin-bottom:10px'\">\r\n          <cus-col :span=\"24\">\r\n            {{currentForm.product}}\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col :span=\"8\">\r\n            {{$t('i18nView.moneny')}}:{{ currentForm.vpu }}\r\n          </cus-col>\r\n          <cus-col :span=\"8\"> </cus-col>\r\n          <cus-col :span=\"8\" align=\"right\" :offset=\"8\">\r\n            {{$t('i18nView.unit')}}:{{$t('i18nView.yuan')}}\r\n          </cus-col>\r\n        </cus-row>\r\n      </el-form>\r\n      <el-table :data=\"currentData\" element-loading-text=\"Loading\" border class=\"wraper-table\" align=\"center\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('productEvaluateDetail.policyYear')\" prop=\"policy1\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.yearCurrent')\" prop=\"current1\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.policyYear')\" prop=\"policy2\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.yearCurrent')\" prop=\"current2\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.policyYear')\" prop=\"policy3\"\r\n                         align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('productEvaluateDetail.yearCurrent')\" prop=\"current3\"\r\n                         align=\"center\"></el-table-column>\r\n\r\n      </el-table>\r\n\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport {executePdEvaluate,executeCvTest} from '@/api/basicinfo/productEvaluate'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'productEvaluateDetail',\r\n  filters: {\r\n    filter_sex(code){\r\n      return _this.getCodeName('sex',code);\r\n    },\r\n    filter_occupationType(code){\r\n      return _this.getCodeName('occupationtype',code);\r\n    }\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      form: {\r\n        sex:'',\r\n        age: 0,\r\n        ageUnit: '',\r\n        occupationType: '',\r\n        payIntv:''\r\n      },\r\n      currentShow: false,\r\n      tableData: [\r\n        // {\r\n        //   product: '111:产品1',\r\n        //   baseInfo: {\r\n        //     payTerm: '1Y',\r\n        //     benefitTerm: '1Y',\r\n        //     payIntv: '0',\r\n        //     proposalAge: '10D~70A',\r\n        //   },\r\n        //   A01T01: ['便宜', '实惠'],\r\n        //   A01T02: ['买吧', '不吃亏'],\r\n        //   DEATH: ['A003040:赔付明细名称样例1'],\r\n        //   amnt: '111.00',\r\n        //   prem: '111.00'\r\n        // }\r\n        ],\r\n      featuresCols: [\r\n        {prop: \"A01T01\", label: \"产品 购买需求\",show:false},\r\n        {prop: \"A01T02\", label: \"产品 保障特色\",show:false},\r\n        {prop: \"A01T03\", label: \"产品 保障人群\",show:false},\r\n        {prop: \"A01T04\", label: \"产品 保障区域\",show:false},\r\n        {prop: \"A01T05\", label: \"产品 保费特色\",show:false},\r\n        {prop: \"A02T01\", label: \"保费 购买需求\",show:false},\r\n        {prop: \"A02T02\", label: \"保费 保障特色\",show:false},\r\n        {prop: \"A02T03\", label: \"保费 保障人群\",show:false},\r\n        {prop: \"A02T04\", label: \"保费 保障区域\",show:false},\r\n        {prop: \"A02T05\", label: \"保费 保费特色\",show:false},\r\n        {prop: \"A02T01\", label: \"保障 购买需求\",show:false},\r\n        {prop: \"A02T02\", label: \"保障 保障特色\",show:false},\r\n        {prop: \"A02T03\", label: \"保障 保障人群\",show:false},\r\n        {prop: \"A02T04\", label: \"保障 保障区域\",show:false},\r\n        {prop: \"A02T05\", label: \"保障 保费特色\",show:false},\r\n      ],\r\n      bnftInfoCols: [\r\n        {prop: \"MATUITY\", label: \"满期金保障\",show:false},\r\n        {prop: \"ANNUITY\", label: \"年金保障\",show:false},\r\n        {prop: \"DEATH\", label: \"身故保障\",show:false},\r\n        {prop: \"DISABILITY\", label: \"伤残保障\",show:false},\r\n        {prop: \"DISEASE\", label: \"重疾保障\",show:false},\r\n        {prop: \"MEDICAL\", label: \"医疗保障\",show:false},\r\n        {prop: \"WAIVE\", label: \"豁免保障\",show:false},\r\n        {prop: \"HIGH_DISABILITY\", label: \"高残保障\",show:false},\r\n        {prop: \"TOTAL_DISABILITY\", label: \"全残保障\",show:false},\r\n        {prop: \"LOSE_OF_ENERGY\", label: \"失能保障\",show:false},\r\n        {prop: \"UNEMPLOYMENT\", label: \"失业保障\",show:false},\r\n      ],\r\n      currentData: [],\r\n      currentForm: {\r\n        vpu: 1000,\r\n        product:''\r\n      },\r\n      occupationTypes:{'1':'职业等级一级','2':'职业等级二级','3':'职业等级三级','4':'职业等级四级','5':'职业等级五级','6':'职业等级六级'}\r\n    }\r\n  },\r\n  watch: {},\r\n  created() {\r\n    //从前一个页面获取数据\r\n    let params = this.getJsonData(\"evaluateData\");\r\n    let evaluateData = eval(\"(\"+params+\")\");\r\n\r\n    Object.assign(this.form,evaluateData.basicInfo);\r\n\r\n    //访问后台调用查询引擎\r\n    executePdEvaluate(this.buildRequestData(evaluateData)).then(res=>{\r\n      //将返回的Data进行解析\r\n      this.checkShowFeatures(res.data);\r\n      this.checkShowBnftInfos(res.data);\r\n      this.tableData =  res.data;\r\n    })\r\n\r\n\r\n  },\r\n  methods: {\r\n    backPage() {\r\n      this.$router.push({path: '/commodity-statistic/product-evaluate/evaluate'})\r\n    },\r\n    showCurrentDetail(val) {\r\n\r\n      let params = this.getJsonData(\"evaluateData\");\r\n      let evaluateData = eval(\"(\"+params+\")\");\r\n      let data = {\r\n        'evaluateData': evaluateData,\r\n        'productCode': val.product,\r\n        'amnt':val.amnt,\r\n        'prem':val.prem\r\n      }\r\n\r\n\r\n      executeCvTest(this.buildRequestData(data)).then(res=>{\r\n        this.currentData = [];\r\n        let resCurrentData = res.data;\r\n        let row = {policy1: '', current1: '', policy2: '', current2: '', policy3: '', current3: ''};\r\n        let col = 0;\r\n        let length = resCurrentData.length;\r\n        resCurrentData.forEach((data,index) => {\r\n            if (col == 3) {\r\n              this.currentData.push(row);\r\n              row = {policy1: '', current1: '', policy2: '', current2: '', policy3: '', current3: ''}\r\n              col = 0;\r\n            }\r\n            if (col == 0) {\r\n              row.policy1 = data.interval;\r\n              row.current1 = data.current;\r\n              col++\r\n            } else if (col == 1) {\r\n              row.policy2 = data.interval;\r\n              row.current2 = data.current;\r\n              col++\r\n            } else if (col == 2) {\r\n              row.policy3 = data.interval;\r\n              row.current3 = data.current;\r\n              col++\r\n            }\r\n\r\n            if((length - 1) === index){\r\n              this.currentData.push(row);\r\n            }\r\n          }\r\n        )\r\n        this.currentShow = true;\r\n\r\n        this.currentForm.product = val.product\r\n      })\r\n\r\n\r\n      // let resCurrentData = [{interval: 1, current: 50}, {interval: 2, current: 100}, {interval: 3, current: 150}, {\r\n      //   interval: 4,\r\n      //   current: 200\r\n      // }, {interval: 5, current: 250}, {interval: 6, current: 300}, {interval: 7, current: 350}]\r\n\r\n\r\n    },\r\n    closeDialog() {\r\n      this.currentShow = false;\r\n    },\r\n    filterPayIntv(value){\r\n      if(value == '1'){\r\n        return '1:月缴';\r\n      }else if(value == '-1'){\r\n        return '-1:不定期缴费';\r\n      }else if(value == '0'){\r\n        return '0:趸缴';\r\n      }else if(value == '3'){\r\n        return '3:季缴';\r\n      }else if(value == '6'){\r\n        return '4:半年缴';\r\n      }else if(value == '12'){\r\n        return '12:年缴';\r\n      }else{\r\n        return '12:年缴';\r\n      }\r\n    },\r\n    // 根据tableData来决定要显示的列\r\n    checkShowFeatures(val){\r\n      this.featuresCols.forEach( cols =>{\r\n        val.forEach(data =>{\r\n          if(data[cols.prop] != undefined && data[cols.prop] != '' && data[cols.prop].length > 0){\r\n            cols.show = true;\r\n          }\r\n        })\r\n      })\r\n    },\r\n\r\n    // 根据tableData来决定要显示的列\r\n    checkShowBnftInfos(val){\r\n      this.bnftInfoCols.forEach( cols =>{\r\n        val.forEach(data =>{\r\n          if(data[cols.prop] != undefined && data[cols.prop] != '' && data[cols.prop].length > 0){\r\n            cols.show = true;\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n<style>\r\n.el-table .cell {\r\n  white-space: pre-line;\r\n}\r\n</style>\r\n"]}]}
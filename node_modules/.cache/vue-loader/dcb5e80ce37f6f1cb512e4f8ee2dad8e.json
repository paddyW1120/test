{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\pd-data-release\\main\\index.vue?vue&type=style&index=0&id=7f598df0&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\pd-data-release\\main\\index.vue","mtime":1609847106653},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9uZ0lucHV0IHsKICB3aWR0aDogNjY2cHg7Cn0KCi5kaXZjbGFzcyB7CiAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDJlOwogIHdpZHRoOiA3MzVweDsKICBoZWlnaHQ6IGF1dG87Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6cA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-release/pd-data-release/main","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :label=\"$t('route.dataRelease')\" />\r\n    <el-form  :model=\"selectForm\" ref=\"selectForm\" label-width=\"auto\" label-position=\"right\">\r\n      <el-row  :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\">\r\n            <cus-select :codetype=\"'ProductCategory'\" clearable  @change=\"selectedDetailTypeChanged\"\r\n                        filterable v-model=\"searchpdRegionType\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('customComponents.product')\">\r\n            <el-select  @change=\"editionSelect\" clearable filterable  v-model=\"selectForm.pdCode\">\r\n              <el-option\r\n                :key=\"index\"\r\n                :label=\"item.pdCode+':'+item.pdName\"\r\n                :value=\"item.pdCode\"\r\n                v-for=\"(item,index) in selectData\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\">\r\n            <el-select  clearable filterable  v-model=\"selectForm.pdEdition\">\r\n              <el-option\r\n                :key=\"index\"\r\n                :label=\"item.pdEdition\"\r\n                :value=\"item.pdEdition\"\r\n                v-for=\"(item,index) in selectEdition\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row  :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.pdFileType')\">\r\n            <cus-cascader :codetype=\"'pdfiletype'\" :placeholder=\"$t('i18nView.pdFileType')\" class=\"cusSelect\"\r\n                           clearable v-model=\"selectForm.pdFileType\"></cus-cascader>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n        <el-button  size=\"small\" @click=\"searchDataByCondition\" icon=\"el-icon-search\" type=\"primary\" >{{$t('pddataRelease.search') }}</el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-table-title :label=\"$t('pddataRelease.productFile')\" />\r\n    <el-table :data=\"tableData\" border element-loading-text=\"Loading\" fit highlight-current-row max-height=\"500\"\r\n              size=\"mini\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55px\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"  prop=\"pdCode\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"  prop=\"pdName\"></el-table-column>\r\n      <el-table-column :label=\"$t('customComponents.pdEdition')\" align=\"center\"\r\n                       prop=\"pdEdition\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdFileType')\" align=\"center\"  prop=\"pdFileType\" :filter-method=\"filterHandler\"\r\n                       :filters=\"pdFileTypeFilters\">\r\n        <template v-slot=\"scope\">{{scope.row.pdFileType | filter_getFileType}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdFileName')\" align=\"center\"  prop=\"pdFileName\">\r\n        <template v-slot=\"scope\">{{scope.row.pdFileName | filter_getFileName}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdFileDesc')\" align=\"center\" prop=\"pdFileDesc\"></el-table-column>\r\n      <el-table-column :filter-method=\"filterHandler\" :filters=\"content\" :label=\"$t('pddataRelease.pdUpdDepmt')\"\r\n                       align=\"center\" prop=\"pdUpdDepmt\">\r\n        <template v-slot=\"scope\">{{scope.row.pdUpdDepmt | filter_getUpdDepmt}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdUpDate')\" align=\"center\" prop=\"createTime\" sortable></el-table-column>\r\n    </el-table>\r\n    <cus-form-title :label=\"$t('table.publish')\"></cus-form-title>\r\n    <el-form v-if=\"showRele\" ref=\"PdtempPdDataRlsForm\" :inline=\"true\" :model=\"PdtempPddatarelease\" :rules=\"rules\"\r\n             label-width=\"auto\" label-position=\"right\" style=\"margin-left: 55px;\">\r\n      <!-- 发布方式 -->\r\n      <el-row :gutter=\"10\" class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n          <el-form-item prop=\"pdReleWay\" :label=\"$t('i18nView.releaseMethod')\">\r\n            <el-input disabled v-model=\"PdtempPddatarelease.pdReleWay\">\r\n            </el-input>\r\n          </el-form-item>\r\n      </el-row>\r\n      <!-- 发布说明 -->\r\n      <el-row>\r\n        <el-form-item :label=\"$t('i18nView.releaseDetails')\" prop=\"pdReleDetails\" >\r\n          <el-input v-model=\"PdtempPddatarelease.pdReleDetails\"\r\n                    maxlength=\"500\"\r\n                    :placeholder=\"$t('i18nView.pleInput')\"\r\n                    show-word-limit\r\n                    style=\"width: 588px;\"\r\n                    type=\"textarea\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('i18nView.pdAuditConc')\" prop=\"pdAuditConc\">\r\n            <el-checkbox-group v-model=\"PdtempPddatarelease.pdAuditConc\" @change=\"showPath\">\r\n              <el-checkbox v-for=\"path in pdtempPdReleSyspathList\" :key=\"path.id\" :label=\"path\">\r\n                {{ path.pdReleSysname }}\r\n              </el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row v-if=\"tableflag\">\r\n        <el-table :data=\"pathtableData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n          <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"55px\"></el-table-column>\r\n          <el-table-column :label=\"$t('')\" align=\"center\"\r\n                           prop=\"pdReleSysname\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdReleIp')\" align=\"center\"\r\n                           prop=\"pdReleIp\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdRelePort')\" align=\"center\"\r\n                           prop=\"pdRelePort\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdUsername')\" align=\"center\"\r\n                           prop=\"pdUsername\"></el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"row-bg\" type=\"flex\">\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('i18nView.pdReleFileName')\">\r\n            <el-input v-model=\"PdtempPddatarelease.pdReleFile\" readonly style=\"width: 588px\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <!--发布确认按钮-->\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button  size=\"small\" icon=\"el-icon-success\" :disabled=\"releButton\" type=\"primary\" @click=\"submitReleInfo(PdtempPddatarelease)\">\r\n            {{ $t('pddataRelease.releBut') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" :disabled=\"releButton\" icon=\"el-icon-refresh\" type=\"primary\" @click=\"refreshPage()\">\r\n            {{ $t('pddataRelease.releRefresh') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\n  import {findAllProductByPdDetailType} from \"@/api/basicinfo/pdclaimverification\"\r\n  import {queryPddataRelease,downloadFile,relePdIncre} from \"@/api/basicinfo/pddatarelease\"\r\n  import { getAllPath } from '@/api/basicinfo/pdtemppdrelease'\r\n  let _this\r\n  export default {\r\n    name: 'pddataRelease',\r\n    filters: {\r\n      filter_getFileType(code) {\r\n        if (code != null) {\r\n          return _this.getCascaderCodeName('pdfiletype', code);\r\n        }\r\n      },\r\n      filter_getFileName(code) {\r\n        if (code != null) {\r\n          let filename = JSON.parse(code)\r\n          let rename = ''\r\n          for (let i = 0; i < filename.length; i++) {\r\n            if (i === filename.length - 1) {\r\n              rename += filename[i]\r\n            } else {\r\n              rename += filename[i] + \"; \"\r\n            }\r\n          }\r\n          return rename\r\n        }\r\n      },\r\n      filter_getUpdDepmt(code) {\r\n        if (code != null) {\r\n          return _this.getCodeName('pddepmt', code)\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n      return {\r\n        pdFileTypeFilters:[],\r\n        searchpdRegionType:'',//产品细类\r\n        selectEdition: [],// 搜索  版别 下拉选\r\n        selectData: [],// 搜索  产品 下拉选\r\n        content: [],// 表格  过滤  选项\r\n        //表格数据\r\n        tableData: [],\r\n        //保存参数\r\n        selectForm: {\r\n          pdCode: '',  //产品编码\r\n          pdName: '',  //产品名称\r\n          pdEdition: '',  //产品版别\r\n          pdFileType: [],  //文件类型\r\n        },\r\n        pdtempPdReleSyspathList: [],//发布环境\r\n        //表格多选\r\n        multipleSelection: [],\r\n        PdtempPddatarelease: {\r\n          pdReleWay:'',//发布方式\r\n          pdReleDetails:'',//  发布说明\r\n          pdAuditConc:[],//  发布环境\r\n          pdReleEnv: '',  //  发至环境\r\n          pdReleFile: '',  //  生成文件名\r\n\r\n\r\n        },\r\n        showRele: false,\r\n        pathtableData: [],//发布环境表格\r\n        tableflag: false,\r\n        releButton: false,\r\n        //检验规则\r\n        rules: {\r\n          pdReleWay: [{required: true, message: '请选择发布方式', trigger: 'change'}],\r\n          pdReleDetails: [{required: true, message: '请输入发布说明', trigger: 'change'}],\r\n          pdAuditConc: [{required: true, message: '请选择发布环境', trigger: 'change'}]\r\n        },\r\n        envList:[]\r\n      }\r\n\r\n    },\r\n    computed: {},\r\n    created() {\r\n      this.initQueryTableData();\r\n    },\r\n    watch:{\r\n      'PdtempPddatarelease.pdAuditConc'(val) {\r\n        this.envList = val\r\n      },\r\n      'searchpdRegionType'(){\r\n        if (!this.searchpdRegionType){\r\n          this.selectForm.pdCode='';\r\n          this.selectForm.pdEdition='';\r\n        }\r\n      },\r\n      'selectForm.pdCode'(){\r\n        if (!this.selectForm.pdCode){\r\n          this.selectForm.pdEdition='';\r\n          this.selectEdition=[];\r\n        }\r\n      },\r\n      tableData() {\r\n        if (this.tableData.length > 0) {\r\n          this.pdFileTypeFilters = [];\r\n          this.tableData.forEach(val => {\r\n            this.pdFileTypeFilters.push({\r\n              text: this.getCascaderCodeName('pdfiletype', val.pdFileType),\r\n              value: val.pdFileType\r\n            });\r\n          });\r\n          //文件类型\r\n          this.pdFileTypeFilters = this.pdFileTypeFilters.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n      },\r\n      },\r\n    methods: {\r\n      filterHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      /*初始化加载表格数据*/\r\n      initQueryTableData() {\r\n        queryPddataRelease(this.buildRequestData(this.selectForm)).then(res => {\r\n          if (res.code === 200) {\r\n            this.tableData = res.data.pddataRelease;\r\n            for (const row of res.data.pddataRelease) {\r\n              let sdata = {code: '', name: '', edition: ''}\r\n              sdata.code = row.pdCode\r\n              sdata.name = row.pdName\r\n              sdata.edition = row.pdEdition\r\n              let filDepmt = {text: '', value: ''}\r\n              filDepmt.text = this.getCodeName('pddepmt', row.pdUpdDepmt, true)\r\n              filDepmt.value = row.pdUpdDepmt\r\n              this.content.push(filDepmt)\r\n            }\r\n            this.content = this.unique(this.content)\r\n          }\r\n        })\r\n      },\r\n      unique(arr) { // 根据唯一标识no来对数组进行过滤\r\n        const res = new Map()  //定义常量 res,值为一个Map对象实例\r\n        //返回arr数组过滤后的结果，结果为一个数组   过滤条件是，如果res中没有某个键，就设置这个键的值为1\r\n        return arr.filter((arr) => !res.has(arr.text) && res.set(arr.text, 1))\r\n      },\r\n      /*搜索部分，选择产品细类，控制产品*/\r\n      selectedDetailTypeChanged(val){\r\n        let param={\r\n          pdRegionType:val\r\n        }\r\n        if(\"\".endsWith(val) || val==undefined){\r\n          return false\r\n        }\r\n        findAllProductByPdDetailType(this.buildRequestData(param)).then(response =>{\r\n          this.selectData =[]\r\n          let detailTypeOptionList =response.data;\r\n          this.selectForm.pdCode='';\r\n          this.selectForm.pdEdition='';\r\n          this.selectEdition=[];\r\n          for (const productOption of  this.tableData) {\r\n            for (const product of detailTypeOptionList) {\r\n              if (productOption.pdCode === product.pdCode) {\r\n                this.selectData.push(productOption)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          this.selectData = this.selectData.reduce(function(prev, element) {\r\n            if (!prev.find(el => el.pdCode == element.pdCode)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n\r\n        })\r\n      },\r\n      /*搜索部分  选择产品，控制版别*/\r\n      editionSelect(val) {\r\n        this.selectEdition = [];\r\n        if (val) {\r\n          for (const valKey of this.selectData) {\r\n            if (val == valKey.pdCode) {\r\n              let edition = {pdCode: '', pdEdition: ''}\r\n              edition.pdCode = valKey.pdCode\r\n              edition.pdEdition = valKey.pdEdition\r\n              this.selectEdition.push(edition);\r\n            }\r\n          }\r\n          this.selectForm.pdEdition = (this.selectEdition[0].pdEdition)\r\n\r\n        }\r\n      },\r\n      //搜索\r\n      searchDataByCondition() {\r\n        let data ={\r\n          pdCode: this.selectForm.pdCode,  //产品编码\r\n          pdName:this.selectForm.pdName,  //产品名称\r\n          pdEdition: this.selectForm.pdEdition,  //产品版别\r\n          pdFileType: this.selectForm.pdFileType,  //文件类型\r\n          pdRegionType:this.searchpdRegionType\r\n        }\r\n        console.log(data)\r\n        queryPddataRelease(this.buildRequestData(data)).then(res => {\r\n          if (res.code === 200) {\r\n            this.tableData = res.data.pddataRelease;\r\n            for (const row of res.data.pddataRelease) {\r\n              let sdata = {code: '', name: '', edition: ''}\r\n              sdata.code = row.pdCode\r\n              sdata.name = row.pdName\r\n              sdata.edition = row.pdEdition\r\n              let filDepmt = {text: '', value: ''}\r\n              filDepmt.text = this.getCodeName('pddepmt', row.pdUpdDepmt, true)\r\n              filDepmt.value = row.pdUpdDepmt\r\n              this.content.push(filDepmt)\r\n            }\r\n            this.content = this.unique(this.content)\r\n          }\r\n        })\r\n      },\r\n      /*文件下载*/\r\n      downloadFile(row) {\r\n        let fileNames = JSON.parse(row.pdFileName);\r\n        let paths = JSON.parse(row.pdFilePath)\r\n        for (let i = 0; i < paths.length; i++) {\r\n          let path = paths[i]\r\n          let fileName = fileNames[i]\r\n          downloadFile(this.buildRequestData({\"pdFilePath\": path})).then(response => {\r\n            this.downloadResponseFile(response, fileName)\r\n            this.notifySuccess('下载成功')\r\n          })\r\n        }\r\n      },\r\n      /*  多选待发布数据，获取并准备 发布数据  */\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = [];\r\n        this.checkId = [];\r\n        if (val) {\r\n          this.showRele = val.length > 0;\r\n          for (const valElement of val) {\r\n            this.checkId.push(valElement.id)\r\n          }\r\n          this.multipleSelection = val\r\n          let pdReleWay1='4';\r\n          this.PdtempPddatarelease.pdReleWay = this.filterHandler('releaseway', pdReleWay1);\r\n          this.pdtempPdReleSyspathList = [];\r\n          getAllPath().then(res => {\r\n            for (const argument of res.data) {\r\n              this.pdtempPdReleSyspathList.push(argument)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //根据key值查value\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      /*  发布多选-显示环境  */\r\n      showPath(val) {\r\n        this.PdtempPddatarelease.pdReleEnv = '';\r\n        for (const argument of val) {\r\n          this.PdtempPddatarelease.pdReleEnv += argument + \";\"\r\n        }\r\n        this.pathtableData = [];\r\n        this.pathtableData = val\r\n        this.tableflag = this.pathtableData.length !== 0\r\n      },\r\n      /*刷新*/\r\n      refreshPage() {\r\n        this.PdtempPddatarelease.pdReleDetails = \"\";\r\n        this.PdtempPddatarelease.pdAuditConc = [];\r\n        this.tableflag = false;\r\n\r\n      },\r\n      /* 发布确认 */\r\n      submitReleInfo() {\r\n        this.$refs.PdtempPdDataRlsForm.validate(pass => {\r\n          if(pass){\r\n            let params ={\r\n              \"PdtempPdFileList\": this.multipleSelection,\r\n              \"pdtempPdReleSyspathList\": Array.isArray(this.envList) ? this.envList : Array(this.envList),\r\n              \"pdReleWay\": \"4\",\r\n              \"pdReleDetails\": this.PdtempPddatarelease.pdReleDetails,\r\n              \"releType\": \"2\",\r\n              \"releTypeDet\": \"1\",\r\n              \"pdReleStu\": \"3\",\r\n              \"pdReleContend\": \"1\"\r\n            }\r\n            relePdIncre(this.buildRequestData(params)).then(res => {\r\n              this.PdtempPddatarelease.pdReleFile = '';\r\n              if (res.data.length === 1) {\r\n                this.PdtempPddatarelease.pdReleFile = res.data[0].pdReleFileName\r\n                let filePath = res.data[0].pdReleFilePath + \"//\" + res.data[0].pdReleFileName;\r\n                let fileName = res.data[0].pdReleFileName;\r\n                let data = {\"pdFilePath\": filePath}\r\n                console.log(fileName);\r\n                downloadFile(this.buildRequestData(data)).then(res => {\r\n                  this.downloadResponseFile(res, fileName)\r\n                })\r\n              } else {\r\n                for (const pdoperPdVerRls of res.data) {\r\n                  this.PdtempPddatarelease.pdReleFile += pdoperPdVerRls.pdReleFileName + \"; \";\r\n                  let filePath = pdoperPdVerRls.pdReleFilePath + \"//\" + pdoperPdVerRls.pdReleFileName;\r\n                  let fileName = pdoperPdVerRls.pdReleFileName;\r\n                  let data = {\"pdFilePath\": filePath}\r\n                  console.log(fileName);\r\n                  downloadFile(this.buildRequestData(data)).then(res => {\r\n                    this.downloadResponseFile(res, fileName)\r\n                  })\r\n                }\r\n                this.PdtempPddatarelease.pdReleFile = this.PdtempPddatarelease.pdReleFile.substring(0, this.PdtempPddatarelease.pdReleFile.length - 2)\r\n              }\r\n              this.notifySuccess(res.message);\r\n            })\r\n          }else {\r\n            this.focusItem()\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .longInput {\r\n    width: 666px;\r\n  }\r\n\r\n  .divclass {\r\n    border: 1px solid #0000002e;\r\n    width: 735px;\r\n    height: auto;\r\n  }\r\n</style>\r\n"]}]}
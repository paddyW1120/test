{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-formula-rev\\pd-info-formula-rev\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-formula-rev\\pd-info-formula-rev\\index.vue","mtime":1609847107075},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYWNjb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vYWNjb3VudC1mZWUtZm9ybXVsYS9hY2NvdW50RmVlRm9ybXVsYS9pbmRleCINCmltcG9ydCBwcmVtQW1vdW50Rm9ybXVsYSBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1mb3JtdWxhIjsNCmltcG9ydCBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdA0KICBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1mb3JtdWxhLXNlbGVjdCI7DQppbXBvcnQgYm5mdEFtb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vYm5mdC1mb3JtdWxhL2JuZnRBbW91bnRGb3JtdWxhIjsNCmltcG9ydCBibmZ0QW1vdW50Rm9ybXVsYVNlbGVjdCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9ibmZ0LWZvcm11bGEvYm5mdEFtb3VudEZvcm11bGFTZWxlY3QiOw0KaW1wb3J0IGludkFtb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vaW52LWZvcm11bGEvaW52QW1vdW50Rm9ybXVsYSI7DQppbXBvcnQgaW52QW1vdW50Rm9ybXVsYVNlbGVjdCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9pbnYtZm9ybXVsYS9pbnZBbW91bnRGb3JtdWxhU2VsZWN0IjsNCmltcG9ydCB7DQogIGZpbmRQZHRlbXBQZEJuZnRCeUNvZGUsDQogIGZpbmRQZHRlbXBQZENsbUJuZnRCeUNvZGUsDQogIGZpbmRQZHRlbXBQZFNydmxCbmZ0QnlDb2RlDQp9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wcm9kdWN0Q2FsY1JldmlzaW9uIg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJwcm9kdWN0SW5mb1J1bGUiLA0KICBjb21wb25lbnRzOiB7DQogICAgaW52QW1vdW50Rm9ybXVsYSwNCiAgICBpbnZBbW91bnRGb3JtdWxhU2VsZWN0LA0KICAgIGJuZnRBbW91bnRGb3JtdWxhLA0KICAgIGJuZnRBbW91bnRGb3JtdWxhU2VsZWN0LA0KICAgIHByZW1BbW91bnRGb3JtdWxhLA0KICAgIHByZW1BbW91bnRGb3JtdWxhU2VsZWN0LA0KICAgIGFjY291bnRGb3JtdWxhDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbzogZmFsc2UsDQogICAgICBwYWdlOiB1bmRlZmluZWQsDQogICAgICBwYWdlU2l6ZTogdW5kZWZpbmVkLA0KICAgICAgLy/lhazlvI8NCiAgICAgIGRpYWxvZ1Nob3c6IHsNCiAgICAgICAgcHJlbUFtb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UsDQogICAgICAgIHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICBibmZ0QW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UsDQogICAgICAgIGludkFtb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICBpbnZBbW91bnRGb3JtdWxhU2VsZWN0OiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIGd1YXJhbnRlZURldGFpbHM6IFtdLA0KICAgICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogJycsDQogICAgICBwZFV3U2lUeXBlT3B0aW9uczogJycsDQogICAgICBwZFV3U2lUeXBlRHRPcHRpb25zOiAnJywNCiAgICAgIGFjdGl2YXRlZE5hbWU6ICdwcmVtaXVtJywNCiAgICAgIHNlbGVjdGVkQnVzc09iamVjdDoge30sDQogICAgICBwZFV3U2lUeXBlRm9yU2VsZWN0OiAnJywNCiAgICAgIGRlZmluaW5nQW1vdW50OiAnJywNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5zZWxlY3RlZEJ1c3NPYmplY3QgPSB0aGlzLmdldFBkRGF0YSgpDQogICAgdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPT09ICd0cnVlJw0KICAgIHRoaXMucGFnZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2UNCiAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy4kcm91dGUucXVlcnkucGFnZVNpemUNCiAgfSwNCiAgd2F0Y2g6IHt9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5pS255uK5YWs5byPDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9pbnZGb3JtdWxhKGZsYWcpIHsNCiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7DQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLmZvcm0uZm9ybV9pbnYNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5pbnZBbW91bnRGb3JtdWxhID0gZmxhZw0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9pbnZGb3JtdWxhU2VsZWN0KGZsYWcsIGd1YXJhbnRlZURldGFpbHMsIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIHR5cGUsIGludikgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IGludg0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSB0eXBlDQogICAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGd1YXJhbnRlZURldGFpbHMNCiAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gY2FsY3VsYXRpb25Gb3JtdWxhVHlwZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kaWFsb2dTaG93LmludkFtb3VudEZvcm11bGEgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5kaWFsb2dTaG93LmludkFtb3VudEZvcm11bGEgPSB0cnVlDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Nob3cuaW52QW1vdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWcNCiAgICAgIGlmICh0aGlzLmRpYWxvZ1Nob3cuaW52QW1vdW50Rm9ybXVsYVNlbGVjdCA9PT0gZmFsc2UpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5pbnZBbW91bnRGb3JtdWxhLmluaXRUYWJsZURhdGFJblJldigpDQogICAgICB9DQogICAgfSwNCiAgICAvL+e8tOi0ueWFrOW8jw0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYShmbGFnKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5wZHRlbXBQZEJuZnQNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYSA9IGZsYWcNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdChmbGFnLCBndWFyYW50ZWVEZXRhaWxzLCBjYWxjdWxhdGlvbkZvcm11bGFUeXBlLCBwcmVtLCBleHRQcmVtKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gcHJlbQ0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSBleHRQcmVtDQogICAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGd1YXJhbnRlZURldGFpbHMNCiAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gY2FsY3VsYXRpb25Gb3JtdWxhVHlwZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kaWFsb2dTaG93LnByZW1BbW91bnRGb3JtdWxhID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYSA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWcNCiAgICAgIGlmICh0aGlzLmRpYWxvZ1Nob3cucHJlbUFtb3VudEZvcm11bGFTZWxlY3QgPT09IGZhbHNlKSB7DQogICAgICAgIHRoaXMuJHJlZnMucHJlbUFtb3VudEZvcm11bGEuaW5pdFRhYmxlRGF0YUluUmV2KCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYTIoZmxhZykgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMucGR0ZW1wUGRCbmZ0Ow0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dTaG93LnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSBmbGFnDQogICAgfSwNCiAgICBnZXRDYXB0aW9uKG9iaiwgc3RhdGUpIHsNCiAgICAgIGNvbnN0IGluZGV4ID0gb2JqLmxhc3RJbmRleE9mKCI6IikNCiAgICAgIGlmIChzdGF0ZSA9PT0gMCkgew0KICAgICAgICByZXR1cm4gb2JqLnN1YnN0cmluZygwLCBpbmRleCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBvYmouc3Vic3RyaW5nKGluZGV4ICsgMSwgb2JqLmxlbmd0aCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdDIoZmxhZywgZ3VhcmFudGVlRGV0YWlscywgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSwgYm5mdCwgYm5mdER0KSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICBpZiAoYm5mdCkgew0KICAgICAgICAgIGF3YWl0IGZpbmRQZHRlbXBQZEJuZnRCeUNvZGUodGhpcy5nZXRDYXB0aW9uKGJuZnQsIDApKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0ge30NCiAgICAgICAgfQ0KICAgICAgICBpZiAoYm5mdER0KSB7DQogICAgICAgICAgbGV0IGJuZnRUeXBlID0gZ3VhcmFudGVlRGV0YWlsc1swXQ0KICAgICAgICAgIGlmIChibmZ0VHlwZSA9PT0gJ0MnKSB7DQogICAgICAgICAgICBhd2FpdCBmaW5kUGR0ZW1wUGRDbG1CbmZ0QnlDb2RlKGJuZnREdCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGF3YWl0IGZpbmRQZHRlbXBQZFNydmxCbmZ0QnlDb2RlKGJuZnREdCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IHt9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5ndWFyYW50ZWVEZXRhaWxzID0gZ3VhcmFudGVlRGV0YWlscw0KICAgICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBjYWxjdWxhdGlvbkZvcm11bGFUeXBlDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Nob3cuYm5mdEFtb3VudEZvcm11bGFTZWxlY3QgPSBmbGFnOw0KICAgICAgaWYgKHRoaXMuZGlhbG9nU2hvdy5ibmZ0QW1vdW50Rm9ybXVsYVNlbGVjdCA9PT0gZmFsc2UpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5ibmZ0QW1vdW50Rm9ybXVsYS5oYW5kbGVTZWFyY2hJblJldmlzaW9uKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2tUb01lbnUoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ+S6p+WTgeWFrOW8j+iuouato+S4u+mhtScsIHBhcmFtczoge3BhdGg6IHRoaXMuJHJvdXRlLnBhdGgsIHBhZ2U6IHRoaXMucGFnZSwgcGFnZVNpemU6IHRoaXMucGFnZVNpemV9fSkNCiAgICB9LA0KICAgIGJyaW5nSW5DYWxjQ29kZShwZEJ1c3NEZXRhaWxUeXBlLCBwZEJ1c3NJZCwgcGRDYWxjQ29kZSkgew0KICAgICAgdGhpcy4kcmVmcy5wcmVtQW1vdW50Rm9ybXVsYS5icmluZ0luQ2FsY0NvZGUocGRCdXNzRGV0YWlsVHlwZSwgcGRCdXNzSWQsIHBkQ2FsY0NvZGUpDQogICAgfQ0KICB9DQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-revision/pd-formula-rev/pd-info-formula-rev","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :label=\"$t('productInfoRule.pdStructureCalcRev')\" @backTo=\"backToMenu\"/>\r\n\r\n    <cus-product-info></cus-product-info>\r\n\r\n    <div>\r\n      <el-tabs v-model=\"activatedName\" style=\"margin: 10px 0 0 0\" type=\"border-card\">\r\n        <!-- 产品缴费 -->\r\n        <el-tab-pane :label=\"$t('productCalcRevision.premium')\" name=\"premium\">\r\n          <premAmountFormula v-if=\"activatedName==='premium'\" ref=\"premAmountFormula\"\r\n                             :productCalcRevisionShowINfo=\"productCalcRevisionShowINfo\"\r\n                             @changeDialogVisible_formula=\"changeDialogVisible_formula\"\r\n                             @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormula>\r\n          <!-- 弹窗（公式选择） -->\r\n          <el-dialog v-if=\"dialogShow.premAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                     :show-close=\"false\" :visible.sync=\"dialogShow.premAmountFormulaSelect\" append-to-body center\r\n                     width=\"70%\" @close=\"changeDialogVisible_formulaSelect(false)\">\r\n            <premAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\"\r\n                                     :guaranteeDetails=\"guaranteeDetails\" :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                                     :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                     :productCalcRevisionShowINfo=\"productCalcRevisionShowINfo\"\r\n                                     @bringInCalcCode=\"bringInCalcCode\"\r\n                                     @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormulaSelect>\r\n          </el-dialog>\r\n        </el-tab-pane>\r\n        <!-- 产品保障 -->\r\n        <el-tab-pane :label=\"$t('productCalcRevision.benefit')\" name=\"benefit\">\r\n          <bnftAmountFormula v-if=\"activatedName==='benefit'\" ref=\"bnftAmountFormula\"\r\n                             :productCalcRevisionShowINfo=\"productCalcRevisionShowINfo\"\r\n                             @changeDialogVisible_formula2=\"changeDialogVisible_formula2\"\r\n                             @changeDialogVisible_formulaSelect2=\"changeDialogVisible_formulaSelect2\"></bnftAmountFormula>\r\n          <!-- 弹窗（公式选择） -->\r\n          <el-dialog v-if=\"dialogShow.bnftAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                     :show-close=\"false\" :visible.sync=\"dialogShow.bnftAmountFormulaSelect\" append-to-body center\r\n                     width=\"70%\" @close=\"changeDialogVisible_formulaSelect(false)\">\r\n            <bnftAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\"\r\n                                     :guaranteeDetails=\"guaranteeDetails\" :pdBnftOptions=\"pdUwSiTypeDtOptions\"\r\n                                     :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                     :productCalcRevisionShowINfo=\"productCalcRevisionShowINfo\"\r\n                                     @changeDialogVisible_formulaSelect2=\"changeDialogVisible_formulaSelect2\"></bnftAmountFormulaSelect>\r\n          </el-dialog>\r\n        </el-tab-pane>\r\n        <!-- 产品收益 -->\r\n        <el-tab-pane :label=\"$t('productCalcRevision.income')\" name=\"income\">\r\n          <invAmountFormula v-if=\"activatedName==='income'\" ref=\"invAmountFormula\"\r\n                            :productCalcRevisionShowINfo=\"productCalcRevisionShowINfo\" calculationFormulaType=\"32\"\r\n                            guaranteeDetails=\"3\" @changeDialogVisible_invFormula=\"changeDialogVisible_invFormula\"\r\n                            @changeDialogVisible_invFormulaSelect=\"changeDialogVisible_invFormulaSelect\"></invAmountFormula>\r\n          <!-- 弹窗（公式选择） -->\r\n          <el-dialog v-if=\"dialogShow.invAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                     :show-close=\"false\" :visible.sync=\"dialogShow.invAmountFormulaSelect\" append-to-body center\r\n                     width=\"70%\" @close=\"changeDialogVisible_invFormulaSelect(false)\">\r\n            <invAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\"\r\n                                    :guaranteeDetails=\"guaranteeDetails\" :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                                    :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                    @changeDialogVisible_invFormulaSelect=\"changeDialogVisible_invFormulaSelect\">\r\n            </invAmountFormulaSelect>\r\n          </el-dialog>\r\n        </el-tab-pane>\r\n        <!-- 产品账户 -->\r\n        <el-tab-pane :label=\"$t('productCalcRevision.account')\" name=\"account\">\r\n          <accountFormula v-if=\"activatedName==='account'\" :revisionMark=\"true\"></accountFormula>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport accountFormula from \"@/views/basicinfo/account-fee-formula/accountFeeFormula/index\"\r\nimport premAmountFormula from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula\";\r\nimport premAmountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula-select\";\r\nimport bnftAmountFormula from \"@/views/basicinfo/bnft-formula/bnftAmountFormula\";\r\nimport bnftAmountFormulaSelect from \"@/views/basicinfo/bnft-formula/bnftAmountFormulaSelect\";\r\nimport invAmountFormula from \"@/views/basicinfo/inv-formula/invAmountFormula\";\r\nimport invAmountFormulaSelect from \"@/views/basicinfo/inv-formula/invAmountFormulaSelect\";\r\nimport {\r\n  findPdtempPdBnftByCode,\r\n  findPdtempPdClmBnftByCode,\r\n  findPdtempPdSrvlBnftByCode\r\n} from \"@/api/basicinfo/productCalcRevision\"\r\n\r\nexport default {\r\n  name: \"productInfoRule\",\r\n  components: {\r\n    invAmountFormula,\r\n    invAmountFormulaSelect,\r\n    bnftAmountFormula,\r\n    bnftAmountFormulaSelect,\r\n    premAmountFormula,\r\n    premAmountFormulaSelect,\r\n    accountFormula\r\n  },\r\n  data() {\r\n    return {\r\n      productCalcRevisionShowINfo: false,\r\n      page: undefined,\r\n      pageSize: undefined,\r\n      //公式\r\n      dialogShow: {\r\n        premAmountFormula: false,\r\n        premAmountFormulaSelect: false,\r\n        underwritingAmountFormula: false,\r\n        bnftAmountFormulaSelect: false,\r\n        invAmountFormula: false,\r\n        invAmountFormulaSelect: false\r\n      },\r\n      guaranteeDetails: [],\r\n      calculationFormulaType: '',\r\n      pdUwSiTypeOptions: '',\r\n      pdUwSiTypeDtOptions: '',\r\n      activatedName: 'premium',\r\n      selectedBussObject: {},\r\n      pdUwSiTypeForSelect: '',\r\n      definingAmount: '',\r\n    }\r\n  },\r\n  created() {\r\n    this.selectedBussObject = this.getPdData()\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    // 收益公式\r\n    changeDialogVisible_invFormula(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.form.form_inv\r\n      }\r\n      this.dialogShow.invAmountFormula = flag\r\n    },\r\n    changeDialogVisible_invFormulaSelect(flag, guaranteeDetails, calculationFormulaType, type, inv) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = inv\r\n        this.pdUwSiTypeDtOptions = type\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.invAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.invAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.invAmountFormulaSelect = flag\r\n      if (this.dialogShow.invAmountFormulaSelect === false) {\r\n        this.$refs.invAmountFormula.initTableDataInRev()\r\n      }\r\n    },\r\n    //缴费公式\r\n    changeDialogVisible_formula(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogShow.premAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.premAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.premAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.premAmountFormulaSelect = flag\r\n      if (this.dialogShow.premAmountFormulaSelect === false) {\r\n        this.$refs.premAmountFormula.initTableDataInRev()\r\n      }\r\n    },\r\n    changeDialogVisible_formula2(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft;\r\n      }\r\n      this.dialogShow.underwritingAmountFormula = flag\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    async changeDialogVisible_formulaSelect2(flag, guaranteeDetails, calculationFormulaType, bnft, bnftDt) {\r\n      if (flag === true) {\r\n        if (bnft) {\r\n          await findPdtempPdBnftByCode(this.getCaption(bnft, 0)).then(response => {\r\n            this.pdUwSiTypeOptions = response.data\r\n          })\r\n        } else {\r\n          this.pdUwSiTypeOptions = {}\r\n        }\r\n        if (bnftDt) {\r\n          let bnftType = guaranteeDetails[0]\r\n          if (bnftType === 'C') {\r\n            await findPdtempPdClmBnftByCode(bnftDt).then(response => {\r\n              this.pdUwSiTypeDtOptions = response.data\r\n            })\r\n          } else {\r\n            await findPdtempPdSrvlBnftByCode(bnftDt).then(response => {\r\n              this.pdUwSiTypeDtOptions = response.data\r\n            })\r\n          }\r\n        } else {\r\n          this.pdUwSiTypeDtOptions = {}\r\n        }\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      }\r\n      this.dialogShow.bnftAmountFormulaSelect = flag;\r\n      if (this.dialogShow.bnftAmountFormulaSelect === false) {\r\n        this.$refs.bnftAmountFormula.handleSearchInRevision()\r\n      }\r\n    },\r\n    backToMenu() {\r\n      this.$router.push({name: '产品公式订正主页', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    bringInCalcCode(pdBussDetailType, pdBussId, pdCalcCode) {\r\n      this.$refs.premAmountFormula.bringInCalcCode(pdBussDetailType, pdBussId, pdCalcCode)\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
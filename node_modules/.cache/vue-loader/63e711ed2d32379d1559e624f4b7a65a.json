{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-rule-rev\\pd-info-rule-rev\\index.vue?vue&type=style&index=0&id=08cdef2b&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-rule-rev\\pd-info-rule-rev\\index.vue","mtime":1609847107082},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5zaG93RGl2IHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgbWFyZ2luLXRvcDogLTQwcHg7DQogIG1hcmdpbi1sZWZ0OiAtNDBweDsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBiYWNrZ3JvdW5kOiAjZmZmZmZmMDA7DQogIHotaW5kZXg6IDk5OQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-revision/pd-rule-rev/pd-info-rule-rev","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <!--产品信息-->\r\n    <div>\r\n      <cus-page-title-back :label=\"$t('i18nView.pdGuardInRUle')\" @backTo=\"back\"></cus-page-title-back>\r\n      <cus-product-info></cus-product-info>\r\n    </div>\r\n    <el-tabs v-model=\"activeName\" type=\"border-card\" @tab-click=\"clickTab\">\r\n      <el-tab-pane :label=\"$t('i18nView.pdBnftFactorLimType')\" name=\"bnftRules\">\r\n        <bnftRules v-if=\"activeName === 'bnftRules'\" ref=\"bnftRules\" :ruleRevisionShowINfo=\"ruleRevisionShowINfo\"\r\n                   @changeDialogVisible_rules=\"changeDialogVisible_rules2\"\r\n                   @changeDialogVisible_rulesSelect=\"changeDialogVisible_rulesSelect2\"\r\n                   @childFn=\"parentFn\"></bnftRules>\r\n        <!-- 规则（规则选择） -->\r\n        <el-dialog v-if=\"dialogRulesShow.bnftRulesSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                   :show-close=\"false\"\r\n                   :visible.sync=\"dialogRulesShow.bnftRulesSelect\"\r\n                   append-to-body\r\n                   center\r\n                   width=\"70%\"\r\n                   @close=\"changeDialogVisible_rulesSelect(false)\">\r\n          <bnftRulesSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                           :pdBnftOptions=\"pdUwSiTypeDtOptions\"\r\n                           :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                           @changeDialogVisible_rulesSelect=\"changeDialogVisible_rulesSelect\"></bnftRulesSelect>\r\n        </el-dialog>\r\n      </el-tab-pane>\r\n      <el-tab-pane :label=\"$t('i18nView.income')\" name=\"invRules\">\r\n        <invRules v-if=\"activeName === 'invRules'\" ref=\"invRules\" :ruleRevisionShowINfo=\"ruleRevisionShowINfo\"\r\n                  @changeDialogVisible_invRules=\"changeDialogVisible_invRules\"\r\n                  @changeDialogVisible_invRulesSelect=\"changeDialogVisible_invRulesSelect\"></invRules>\r\n        <!-- 弹窗（规则选择） -->\r\n        <el-dialog v-if=\"dialogRulesShow.invRulesSelect\" v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"false\"\r\n                   :visible.sync=\"dialogRulesShow.invRulesSelect\" append-to-body center width=\"70%\"\r\n                   @close=\"changeDialogVisible_invRulesSelect(false)\">\r\n          <invRulesSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                          :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                          :ruleRevisionShowINfo=\"ruleRevisionShowINfo\"\r\n                          @changeDialogVisible_invRulesSelect=\"changeDialogVisible_invRulesSelect\"></invRulesSelect>\r\n        </el-dialog>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport premRules from '@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule/index'\r\nimport premRulesSelect\r\n  from '@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule-select/index'\r\nimport bnftRules from \"@/views/basicinfo/bnft-rule/bnftRules\"\r\nimport bnftRulesSelect from \"@/views/basicinfo/bnft-rule/bnftRulesSelect\"\r\n\r\nimport invRules from \"@/views/basicinfo/inv-rule/invRules\"\r\nimport invRulesSelect from \"@/views/basicinfo/inv-rule/invRulesSelect\"\r\n\r\n\r\nlet _this\r\nexport default {\r\n  name: \"informationRulesRevisionMain\",\r\n\r\n  filters: {},\r\n  data() {\r\n    _this = this\r\n    return {\r\n      ruleRevisionShowINfo: false,\r\n      guaranteeDetails: '',\r\n      calculationFormulaType: '',\r\n      pdUwSiTypeOptions: '',\r\n      pdUwSiTypeDtOptions: '',\r\n      pdBnftOptions: {},\r\n      configsForm: {\r\n        pdClmBnftName: \"\",\r\n        pdClmBnftType: \"\",\r\n        pdClmMoyType: \"\",\r\n        pdClmMoyCalMode: \"\",\r\n        pdClmFixMoy: \"\",\r\n        pdClmSptSatDateType: \"\",\r\n        pdClmSptPayNum: \"\",\r\n        pdClmSptMinMoy: \"\",\r\n        pdClmSptCalId: \"\",\r\n        pdExptRole: \"\",\r\n        pdExptRoleOrder: \"\",\r\n        pdExptdType: \"\",\r\n        pdDisType: [],\r\n        pdDisCode: []\r\n      },\r\n      //规则\r\n      dialogRulesShow: {\r\n        invRules: false,\r\n        invRulesSelect: false,\r\n        premRules: false,\r\n        premRulesSelect: false,\r\n        bnftRules: false,\r\n        bnftRulesSelect: false\r\n      },\r\n      showProductFlag: false,\r\n      activeName: \"premRules\",\r\n      activatedNames: [\"premRules\"],\r\n      page: undefined,\r\n      pageSize: undefined\r\n    }\r\n  },\r\n  components: {\r\n    invRules,\r\n    invRulesSelect,\r\n    premRules,\r\n    premRulesSelect,\r\n    bnftRules,\r\n    bnftRulesSelect\r\n  },\r\n  created() {\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n    this.ruleRevisionShowINfo = this.$route.query.ruleRevisionShowINfo === 'true'\r\n    if (this.ruleRevisionShowINfo) {\r\n      this.activeName = 'bnftRules'\r\n    }\r\n  },\r\n  methods: {\r\n    //收益\r\n    changeDialogVisible_invRules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.form.form_inv\r\n      }\r\n      this.dialogRulesShow.invRules = flag\r\n    },\r\n    changeDialogVisible_invRulesSelect(flag, guaranteeDetails, calculationFormulaType, type, inv) {\r\n      guaranteeDetails = '3' //业务大类\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = inv\r\n        this.pdUwSiTypeDtOptions = type\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        if (this.ruleRevisionShowINfo) {\r\n          this.$refs.invRules.handleSearchInRevision()\r\n        }\r\n      }\r\n      this.dialogRulesShow.invRulesSelect = flag\r\n    },\r\n    //规则\r\n    changeDialogVisible_rules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogRulesShow.premRules = flag\r\n    },\r\n    changeDialogVisible_rulesSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      calculationFormulaType = '20'\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        if (this.ruleRevisionShowINfo) {\r\n          this.$refs.bnftRules.handleSearchInRevision()\r\n        }\r\n      }\r\n      this.dialogRulesShow.premRulesSelect = flag\r\n      this.dialogRulesShow.bnftRulesSelect = flag\r\n    },\r\n    changeDialogVisible_rules2(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdBnft\r\n        this.pdBnftOptions = this.configsForm\r\n      }\r\n      this.dialogRulesShow.bnftRules = flag\r\n    },\r\n    changeDialogVisible_rulesSelect2(flag, guaranteeDetails, bnft, extBnft, calculationFormulaType) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = bnft\r\n        this.pdUwSiTypeDtOptions = extBnft\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        if (this.ruleRevisionShowINfo) {\r\n          this.$refs.bnftRules.handleSearchInRevision()\r\n        }\r\n      }\r\n      this.dialogRulesShow.bnftRulesSelect = flag\r\n    },\r\n    back() {\r\n      this.$router.push({name: '产品规则订正主页', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    parentFn(val) {\r\n      this.activeName = val\r\n    },\r\n    clickTab(val) {\r\n      let flag = false\r\n      this.activatedNames.forEach(value => {\r\n        if (value === val.name) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (flag === false) {\r\n        this.activatedNames.push(val.name)\r\n      }\r\n    },\r\n    isAlreadyActived(val) {\r\n      let flag = false\r\n      this.activatedNames.forEach(value => {\r\n        if (val === value) {\r\n          flag = true\r\n        }\r\n      })\r\n      return flag\r\n    }\r\n  },\r\n  bringInRuleCode(pdBussDetailType, pdBussCode, ruleCode) {\r\n    if (pdBussDetailType === '5') {\r\n      for (const srvl of this.tableData) {\r\n        if (srvl.pdSrvlBnftCode === pdBussCode) {\r\n          this.$set(srvl, 'pdSrvlDwCdRuleCode', ruleCode)\r\n          break\r\n        }\r\n      }\r\n      if (this.detailsForm.pdSrvlBnftCode === pdBussCode) {\r\n        this.detailsForm.pdSrvlDwCdRuleCode = ruleCode\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.showDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999\r\n}\r\n</style>\r\n"]}]}
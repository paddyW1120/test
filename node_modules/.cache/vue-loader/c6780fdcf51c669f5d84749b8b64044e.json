{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\inv-rule\\invRulesSelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\basicinfo\\inv-rule\\invRulesSelect\\index.vue","mtime":1609847106538},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7YXNzb2NpYXRlLCBmaW5kQWxsUHJvZHVjdEJ5RGV0YWlsVHlwZX0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL2ludlJ1bGVzIg0KaW1wb3J0IHtmaW5kSW52QnlwZEludlR5cGV9IGZyb20gJ0AvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZGludicNCg0KbGV0IF90aGlzDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2JuZnRBbW91bnRGb3JtdWxhU2VsZWN0JywNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2dldFR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZGludnR5cGUnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICAvLyDop4TliJnlpKfnsbsNCiAgICBndWFyYW50ZWVEZXRhaWxzOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiB1bmRlZmluZWQNCiAgICB9LA0KICAgIC8vIOinhOWImee7huexuw0KICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0sDQogICAgLy8g5pS255uK57yW56CBDQogICAgcGRVd1NpVHlwZU9wdGlvbnM6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0sDQogICAgLy8g5pS255uK57G75Z6LDQogICAgcGRVd1NpVHlwZUR0T3B0aW9uczogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgZGVmYXVsdDogdW5kZWZpbmVkDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpcw0KICAgIHJldHVybiB7DQogICAgICBmaWx0ZXJzX3BkQ29kZTogW10sDQogICAgICBydWxlUmV2aXNpb25TaG93SU5mbzogdHJ1ZSwNCiAgICAgIGZvcm11bGFWaWV3OiB7DQogICAgICAgIGZsYWc6ICcnLA0KICAgICAgICBydWxlQ29kZTogJycsDQogICAgICAgIHBlcmZvcm1UeXBlOiAnJywNCiAgICAgICAgdmlzaWJsZTogZmFsc2UNCiAgICAgIH0sDQogICAgICBwcm9kdWN0OiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGJUeXBlOiAnJywNCiAgICAgICAgY1R5cGU6ICcnLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZEVkaXRpb246ICcnLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkU2FsZWNobmw6ICcnLA0KICAgICAgICBwZE5hbWU6ICcnLA0KICAgICAgICBwZFNob3J0bmFtZTogJycsDQogICAgICAgIHBkRW5OYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRBcHBsRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIGZvcm1fcnVsZTogew0KICAgICAgICBydWxlQnVzc01vZHVEZXRhOiAnJywNCiAgICAgICAgZGVzY3JpcHRpb246ICcnDQogICAgICB9LA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHByb2R1Y3Q6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRSdWxlRHRDbHM6IHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSwNCiAgICAgICAgY3VycmVudF9wZEludkNvZGU6IHRoaXMucGRVd1NpVHlwZU9wdGlvbnMsDQogICAgICAgIGVxX3Byb2R1Y3REZXRhaWxUeXBlOiAnJywNCiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgZXFfcGRJbnZDb2RlOiAnJywNCiAgICAgICAgbGlrZV9wZFJ1bGVDb2RlOiAnJw0KICAgICAgfSwNCiAgICAgIHBkVXdTaVR5cGU6ICcnLA0KICAgICAgdGFibGVEYXRhX2Zvcm11bGE6IFtdLA0KICAgICAgcHJvZHVjdE9wdGlvbkxpc3Q6IFtdLC8v5Lqn5ZOB5pWw57uEDQogICAgICBpbnZPcHRpb25zOiBbXSwvL+aUtuebiuaVsOe7hA0KICAgICAgT3B0aW9uczI6IFtdLA0KICAgICAgT3B0aW9uczM6IFtdLC8v5oyH5a6a5L+d6Zqc5pWw57uEDQogICAgICBPcHRpb25zNDogW10sLy/mjIflrprkv53pmpzmmI7nu4bmlbDnu4QNCiAgICAgIHJ1bGVUYWJsZTogW10sDQogICAgICBzZWxlY3RlZEZvcm11bGE6IHt9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuaW5pdFByb2R1Y3RJbmZvKCkNCiAgICB0aGlzLnJ1bGVSZXZpc2lvblNob3dJTmZvID0gdGhpcy4kcm91dGUucXVlcnkucnVsZVJldmlzaW9uU2hvd0lOZm8NCiAgICBpZiAodGhpcy5ydWxlUmV2aXNpb25TaG93SU5mbyA9PSBmYWxzZSkgew0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLnJ1bGVSZXZpc2lvblNob3dJTmZvID0gdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAncnVsZVRhYmxlJygpIHsNCiAgICAgIHRoaXMuZmlsdGVyc19wZENvZGUgPSBbXQ0KICAgICAgdGhpcy5ydWxlVGFibGUuZm9yRWFjaCh2YWwgPT4gew0KICAgICAgICBpZiAoIXRoaXMuXy5pbmNsdWRlcyh0aGlzLl8ubWFwKHRoaXMuZmlsdGVyc19wZENvZGUsICd2YWx1ZScpLCB2YWwucGRDb2RlKSkgew0KICAgICAgICAgIHRoaXMuZmlsdGVyc19wZENvZGUucHVzaCh7DQogICAgICAgICAgICB0ZXh0OiB2YWwucGRDb2RlICsgJzonICsgdmFsLnBkTmFtZSwNCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRDb2RlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBydWxlTWFrZUNsb3NlZCgpIHsNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcudmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBzaG93UnVsZShyb3cpIHsNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJw0KICAgICAgdGhpcy5mb3JtdWxhVmlldy5wZXJmb3JtVHlwZSA9IHJvdy5wZXJmb3JtVHlwZQ0KICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IHJvdy5wZFJ1bGVDb2RlDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBwcm9kdWN0RGV0YWlsVHlwZUNoYW5nZWQodmFsKSB7DQogICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHVuZGVmaW5lZA0KICAgICAgdGhpcy5wcm9kdWN0T3B0aW9uTGlzdCA9IFtdDQogICAgICBmaW5kQWxsUHJvZHVjdEJ5RGV0YWlsVHlwZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoe3Byb2R1Y3REZXRhaWxUeXBlOiB2YWx9KSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbkxpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mmL7npLrmjIflrprmlLbnm4rpobnmlbDnu4QNCiAgICBhc3luYyBhcHBvaW50RmluZEludih2YWwpIHsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICAgICAgdGhpcy5pbnZPcHRpb25zID0gW10NCiAgICAgICAgdGhpcy5wYXJhbXMuZXFfcGRJbnZDb2RlID0gJycNCiAgICAgICAgaWYgKCF2YWwpIHsNCiAgICAgICAgICByZXNvbHZlKCkNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBsZXQgcGFyYW1zaW52ID0gew0KICAgICAgICAgIHByb2R1Y3RJZDogdmFsLA0KICAgICAgICAgIHBkSW52VHlwZTogdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zDQogICAgICAgIH0NCiAgICAgICAgZmluZEludkJ5cGRJbnZUeXBlKHBhcmFtc2ludikudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuaW52T3B0aW9ucyA9IHJlcy5kYXRhDQogICAgICAgICAgcmVzb2x2ZSgpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0Q2FwdGlvbihvYmosIHN0YXRlKSB7DQogICAgICBjb25zdCBpbmRleCA9IG9iai5sYXN0SW5kZXhPZigiOiIpDQogICAgICBpZiAoc3RhdGUgPT09IDApIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoMCwgaW5kZXgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gb2JqLnN1YnN0cmluZyhpbmRleCArIDEsIG9iai5sZW5ndGgpDQogICAgICB9DQogICAgfSwNCiAgICBpbml0UHJvZHVjdEluZm8oKSB7DQogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgICAgaWYgKE9iamVjdC5rZXlzKHBkdGVtcFBkSW5mbykubGVuZ3RoID4gMCkgew0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucHJvZHVjdCwgcGR0ZW1wUGRJbmZvKQ0KICAgICAgICB0aGlzLnBhcmFtcy5wcm9kdWN0ID0gdGhpcy5wcm9kdWN0DQogICAgICAgIHRoaXMucGFyYW1zLmVxX3Byb2R1Y3REZXRhaWxUeXBlID0gdGhpcy5wcm9kdWN0LmNUeXBlDQogICAgICAgIHRoaXMucHJvZHVjdERldGFpbFR5cGVDaGFuZ2VkKHRoaXMucHJvZHVjdC5jVHlwZSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgnbWVzc2FnZS5pbnZhbGlkUHJvZHVjdEluZm8nKSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2soKSB7DQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VEaWFsb2dWaXNpYmxlX2ludlJ1bGVzU2VsZWN0JywgZmFsc2UpDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkNCiAgICB9LA0KICAgIC8v6YCJ5oupLeWFs+iBlA0KICAgIHNlbGVjdEFzc29jaWF0aW9uKHJvdykgew0KICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgIHNlbGVjdGVkUnVsZTogcm93LA0KICAgICAgICBwZEludkNvZGU6IHRoaXMucGRVd1NpVHlwZU9wdGlvbnMsDQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgcGRCdXNzVHlwZTogdGhpcy5ndWFyYW50ZWVEZXRhaWxzLA0KICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsDQogICAgICAgIG5lZWRDaGVja2luZzogdHJ1ZQ0KICAgICAgfQ0KICAgICAgYXNzb2NpYXRlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBsZXQgc3VjY2Vzc0ZsYWcgPSByZXNwb25zZS5kYXRhLnN1Y2Nlc3NGbGFnDQogICAgICAgIGxldCBwZHRlbXBQZFJ1bGVzID0gcmVzcG9uc2UuZGF0YS5wZHRlbXBQZFJ1bGVzDQogICAgICAgIGlmIChzdWNjZXNzRmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdydWxlLmFzc29jaWF0aW9uU3VjY2VzcycpKQ0KICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQ0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2JyaW5nUnVsZUNvZGUnLCBwZHRlbXBQZFJ1bGVzLnBkSW52Q29kZSwgcGR0ZW1wUGRSdWxlcy5wZFJ1bGVDb2RlKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJGNvbmZpcm0oU3RyaW5nKHRoaXMuJHQoJ2JuZnRSdWxlc1NlbGVjdC5jb25maXJtX292ZXJ3cml0ZV9ydWxlJykpLCBTdHJpbmcodGhpcy4kdCgnY29uZmlybU1lc3NhZ2UudGlwJykpLCB7DQogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogU3RyaW5nKHRoaXMuJHQoJ2NvbmZpcm1NZXNzYWdlLmNvbmZpcm0nKSksDQogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBTdHJpbmcodGhpcy4kdCgnY29uZmlybU1lc3NhZ2UuY2FuY2VsJykpLA0KICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICBwYXJhbS5uZWVkQ2hlY2tpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgYXNzb2NpYXRlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICBsZXQgcGR0ZW1wUGRSdWxlcyA9IHJlc3BvbnNlLmRhdGEucGR0ZW1wUGRSdWxlcw0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSkNCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpDQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2JyaW5nUnVsZUNvZGUnLCBwZHRlbXBQZFJ1bGVzLnBkSW52Q29kZSwgcGR0ZW1wUGRSdWxlcy5wZFJ1bGVDb2RlKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2VJbmZvKHRoaXMuJHQoJ3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QuY2FuY2VsZWQnKSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basicinfo/inv-rule/invRulesSelect","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back v-if=\"ruleRevisionShowINfo\" :isDialog=\"true\" :label=\"$t('invRulesSelect.pdInvRulesSelect')\"\r\n                         @backTo=\"back\"/>\r\n\r\n    <el-form ref=\"params\" :model=\"params\" label-width=\"130px\">\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.productDetailsType')\">\r\n            <cus-select v-model=\"params.eq_productDetailType\" :codetype=\"'ProductCategory'\"\r\n                        @change=\"productDetailTypeChanged\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('invRulesSelect.appointProduct')\">\r\n            <el-select v-model=\"params.eq_pdInfoId\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       filterable @change=\"appointFindInv\">\r\n              <el-option v-for=\"item in productOptionList\" :key=\"item.id\" :label=\"item.pdCode + ':' + item.pdName\"\r\n                         :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('invRulesSelect.appointInvItem')\">\r\n            <el-select v-model=\"params.eq_pdInvCode\" clearable filterable>\r\n              <el-option v-for=\"inv in invOptions\" :key=\"inv.id\" :label=\"inv.pdInvCode + ':' + inv.pdInvName\"\r\n                         :value=\"inv.pdInvCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdRuleDtCls')\" prop=\"ruleType\">\r\n            <cus-select v-model=\"params.pdRuleDtCls\" codetype=\"ruleBusinessDetailClass\" disabled\r\n                        filter=\"1$7\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdRuleCode')\">\r\n            <el-input v-model=\"params.like_pdRuleCode\" clearable></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item style=\"text-align: right\">\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"handleSearch\">\r\n              {{ $t('table.search') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('invRulesSelect.invRule')\"/>\r\n    <el-table ref=\"ruleTable\" :data=\"ruleTable\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"showRule(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :filter-method=\"filters_method\" :filters=\"filters_pdCode\" :label=\"$t('rule.product')\"\r\n                       align=\"center\"\r\n                       min-width=\"200\" prop=\"pdCode\" sortable>\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('invRulesSelect.invItem')\" align=\"center\" min-width=\"200\" prop=\"pdInvCode\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdInvCode }}<span v-show=\"scope.row.pdInvCode\">:</span>{{ scope.row.invName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('invRulesSelect.invType')\" align=\"center\" min-width=\"200\" prop=\"invType\">\r\n        <template v-slot=\"scope\">{{ scope.row.invType | filter_getType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDtCls')\" align=\"center\" min-width=\"200\" prop=\"pdRuleDtCls\" sortable>\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdRuleDtCls | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleCode')\" align=\"center\" min-width=\"200\" prop=\"pdRuleCode\" sortable>\r\n        <template v-slot=\"scope\">{{ scope.row.pdRuleCode }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDesc')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdRuleDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n        <template v-slot=\"scope\">\r\n          <el-button v-auth=\"'invAmountFormul:associate'\" icon=\"el-icon-connection\"\r\n                     size=\"mini\" type=\"primary\" @click=\"selectAssociation(scope.row)\">\r\n            {{ $t('form.select') }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page\" v-model=\"ruleTable\" :autoBuild=\"false\" :pageSize=\"5\" :params=\"params\"\r\n                    url=\"/invRules/base/searchInvRules\"/>\r\n\r\n    <!-- 规则查看弹窗 -->\r\n    <cus-rule-modify :flag=\"'1'\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"ruleMakeClosed\" :ruleType=\"'1'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {associate, findAllProductByDetailType} from \"@/api/basicinfo/invRules\"\r\nimport {findInvBypdInvType} from '@/api/basicinfo/pdtemppdinv'\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'bnftAmountFormulaSelect',\r\n  filters: {\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    },\r\n    filter_getType(code) {\r\n      return _this.getCodeName('pdinvtype', code)\r\n    }\r\n  },\r\n  props: {\r\n    // 规则大类\r\n    guaranteeDetails: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    // 规则细类\r\n    calculationFormulaType: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    // 收益编码\r\n    pdUwSiTypeOptions: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    // 收益类型\r\n    pdUwSiTypeDtOptions: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      filters_pdCode: [],\r\n      ruleRevisionShowINfo: true,\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        performType: '',\r\n        visible: false\r\n      },\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_rule: {\r\n        ruleBussModuDeta: '',\r\n        description: ''\r\n      },\r\n      params: {\r\n        product: undefined,\r\n        pdRuleDtCls: this.calculationFormulaType,\r\n        current_pdInvCode: this.pdUwSiTypeOptions,\r\n        eq_productDetailType: '',\r\n        eq_pdInfoId: undefined,\r\n        eq_pdInvCode: '',\r\n        like_pdRuleCode: ''\r\n      },\r\n      pdUwSiType: '',\r\n      tableData_formula: [],\r\n      productOptionList: [],//产品数组\r\n      invOptions: [],//收益数组\r\n      Options2: [],\r\n      Options3: [],//指定保障数组\r\n      Options4: [],//指定保障明细数组\r\n      ruleTable: [],\r\n      selectedFormula: {}\r\n    }\r\n  },\r\n  created() {\r\n    this.initProductInfo()\r\n    this.ruleRevisionShowINfo = this.$route.query.ruleRevisionShowINfo\r\n    if (this.ruleRevisionShowINfo == false) {\r\n    } else {\r\n      this.ruleRevisionShowINfo = true\r\n    }\r\n  },\r\n  watch: {\r\n    'ruleTable'() {\r\n      this.filters_pdCode = []\r\n      this.ruleTable.forEach(val => {\r\n        if (!this._.includes(this._.map(this.filters_pdCode, 'value'), val.pdCode)) {\r\n          this.filters_pdCode.push({\r\n            text: val.pdCode + ':' + val.pdName,\r\n            value: val.pdCode\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    ruleMakeClosed() {\r\n      this.formulaView.visible = false\r\n    },\r\n    showRule(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.ruleCode = row.pdRuleCode\r\n      this.formulaView.visible = true\r\n    },\r\n    productDetailTypeChanged(val) {\r\n      this.params.eq_pdInfoId = undefined\r\n      this.productOptionList = []\r\n      findAllProductByDetailType(this.buildRequestData({productDetailType: val})).then(response => {\r\n        this.productOptionList = response.data\r\n      })\r\n    },\r\n    //显示指定收益项数组\r\n    async appointFindInv(val) {\r\n      return new Promise(resolve => {\r\n        this.invOptions = []\r\n        this.params.eq_pdInvCode = ''\r\n        if (!val) {\r\n          resolve()\r\n          return\r\n        }\r\n        let paramsinv = {\r\n          productId: val,\r\n          pdInvType: this.pdUwSiTypeDtOptions\r\n        }\r\n        findInvBypdInvType(paramsinv).then(res => {\r\n          this.invOptions = res.data\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      if (Object.keys(pdtempPdInfo).length > 0) {\r\n        Object.assign(this.product, pdtempPdInfo)\r\n        this.params.product = this.product\r\n        this.params.eq_productDetailType = this.product.cType\r\n        this.productDetailTypeChanged(this.product.cType)\r\n      } else {\r\n        this.notifyError(this.$t('message.invalidProductInfo'))\r\n      }\r\n    },\r\n    back() {\r\n      this.$emit('changeDialogVisible_invRulesSelect', false)\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload()\r\n    },\r\n    //选择-关联\r\n    selectAssociation(row) {\r\n      const param = {\r\n        selectedRule: row,\r\n        pdInvCode: this.pdUwSiTypeOptions,\r\n        product: this.product,\r\n        pdBussType: this.guaranteeDetails,\r\n        pdBussDetailType: this.calculationFormulaType,\r\n        needChecking: true\r\n      }\r\n      associate(this.buildRequestData(param)).then(response => {\r\n        let successFlag = response.data.successFlag\r\n        let pdtempPdRules = response.data.pdtempPdRules\r\n        if (successFlag === true) {\r\n          this.notifySuccess(this.$t('rule.associationSuccess'))\r\n          this.$refs.page.reload()\r\n          this.$emit('bringRuleCode', pdtempPdRules.pdInvCode, pdtempPdRules.pdRuleCode)\r\n        } else {\r\n          this.$confirm(String(this.$t('bnftRulesSelect.confirm_overwrite_rule')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            associate(this.buildRequestData(param)).then(response => {\r\n              let pdtempPdRules = response.data.pdtempPdRules\r\n              this.notifySuccess(this.$t('rule.associationSuccess'))\r\n              this.$refs.page.reload()\r\n              this.$emit('bringRuleCode', pdtempPdRules.pdInvCode, pdtempPdRules.pdRuleCode)\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('underwritingAmountFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
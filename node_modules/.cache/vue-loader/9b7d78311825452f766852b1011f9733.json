{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-rule-rev\\rule-rev-main\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-rule-rev\\rule-rev-main\\index.vue","mtime":1609847106819},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnDQovLyBpbXBvcnQgYWNjb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vYWNjb3VudEZlZUZvcm11bGEvaW5kZXgiDQovLyBpbXBvcnQgY3VycmVudFZhbHVlRm9ybXVsYSBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLWN1cnJlbnQtcHJpY2UtZGVmL2luZGV4Ig0KLy8gaW1wb3J0IHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYS9pbmRleCINCi8vIGltcG9ydCB1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0IGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QvaW5kZXgiDQppbXBvcnQge2Nsb3NlVmlzaXRUYWd9IGZyb20gIkAvdXRpbHMvdGFnc1ZpZXciDQppbXBvcnQgew0KICBmaW5kQWxsQXVkaXREZXRhaWxCeVBkSW5mb0lkLA0KICBmaW5kQWxsUmV2aXNpb25EZXRhaWxCeVBkSW5mb0lkLA0KICBmaW5kQWxsUnVsZVJldmlzaW9uVGFza3MsDQogIGZpbmlzaFJ1bGVSZXZpc2lvbg0KfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vY29tYm9SdWxlUmV2aXNpb24nDQoNCmxldCBfdGhpcw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdjb21ib1J1bGVSZXZpc2lvbicsDQogIGNvbXBvbmVudHM6IHsNCiAgICAvLyBhY2NvdW50Rm9ybXVsYSwNCiAgICAvLyBjdXJyZW50VmFsdWVGb3JtdWxhLA0KICAgIC8vIHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEsDQogICAgLy8gdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgJ3VzZXJjb2RlJw0KICAgIF0pDQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJEZWZUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRBdWRpdFR5cGUnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICByZXZpc2lvbkRhdGUodmFsKSB7DQogICAgICBpZiAodmFsKSB7DQogICAgICAgIHRoaXMucGFyYW1zLnJldmlzaW9uU3RhcnREYXRlID0gdmFsWzBdDQogICAgICAgIHRoaXMucGFyYW1zLnJldmlzaW9uRW5kRGF0ZSA9IHZhbFsxXQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wYXJhbXMucmV2aXNpb25TdGFydERhdGUgPSAnJw0KICAgICAgICB0aGlzLnBhcmFtcy5yZXZpc2lvbkVuZERhdGUgPSAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hhbmdlRGF0ZSh2YWwpIHsNCiAgICAgIGlmICh2YWwpIHsNCiAgICAgICAgdGhpcy5wYXJhbXMuY2hhbmdlU3RhcnREYXRlID0gdmFsWzBdDQogICAgICAgIHRoaXMucGFyYW1zLmNoYW5nZUVuZERhdGUgPSB2YWxbMV0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGFyYW1zLmNoYW5nZVN0YXJ0RGF0ZSA9ICcnDQogICAgICAgIHRoaXMucGFyYW1zLmNoYW5nZUVuZERhdGUgPSAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgZGV0YWlsVmlzaWJsZTogZmFsc2UsDQogICAgICBkZWZpbmluZ0Ftb3VudDoge30sDQogICAgICBwZFV3U2lUeXBlRm9yU2VsZWN0OiAnJywNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICB0YWJsZURhdGEyOiBbXSwNCiAgICAgIHRhYmxlRGF0YV9hdWRpdDogW10sDQogICAgICB0YWJsZURhdGFfcmV2aXNpb246IFtdLA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHBwQ29kZTogJycsDQogICAgICAgIGlzUmV2aWV3UmV0dXJuOiAnJywgLy/pgIDlm57lrqHmoLjku7YNCiAgICAgICAgcmV2aXNpb25TdGFydERhdGU6ICcnLCAvL+S6p+WTgeiuouato+eUs+ivt+W8gOWni+aXpeacnw0KICAgICAgICByZXZpc2lvbkVuZERhdGU6ICcnLCAvL+S6p+WTgeiuouato+eUs+ivt+e7k+adn+aXpeacnw0KICAgICAgICBjaGFuZ2VTdGFydERhdGU6ICcnLCAvL+S7u+WKoeWIhumFjeW8gOWni+aXpeacnw0KICAgICAgICBjaGFuZ2VFbmREYXRlOiAnJywgLy/ku7vliqHliIbphY3nu5PmnZ/ml6XmnJ8NCiAgICAgIH0sDQogICAgICBkYXRhOiB7DQogICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiAnJywNCiAgICAgICAgdXNlckNvZGU6ICcnDQogICAgICB9LA0KICAgICAgcmV2aXNpb25EYXRlOiBbXSwNCiAgICAgIGNoYW5nZURhdGU6IFtdLA0KICAgICAgcnVsZXM6IHt9LA0KICAgICAgc2VsZWN0ZWRQcm9kdWN0OiB7fSwNCiAgICAgIHByb2R1Y3RMaXN0OiBbXSwNCiAgICAgIHBkRWRpdGlvbkxpc3Q6IFtdLA0KICAgICAgY2FsTWFyazogdHJ1ZSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IHsNCiAgICAgICAgYXVkaXQ6IGZhbHNlLA0KICAgICAgICByZXZpc2lvbjogZmFsc2UsDQogICAgICAgIHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICB1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0OiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIGFjdGl2YXRlZE5hbWU6ICdwcmVtaXVtJywNCiAgICAgIHRhYlZpc2libGU6IGZhbHNlLA0KICAgICAgcHJvZHVjdEluZm9SdWxlU2VsZWN0OiBmYWxzZSwNCiAgICAgIHBpY2tlck9wdGlvbnM6IHsNCiAgICAgICAgc2hvcnRjdXRzOiBbew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7DQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwgew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOw0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sIHsNCiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywNCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsNCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgfQ0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIHBkVXdTaVR5cGVPcHRpb25zOiBbXSwNCiAgICAgIHVuZGVyd3JpdGluZ0xpc3Q6IFtdDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMucGFyYW1zLm9wZXJhdG9yID0gdGhpcy51c2VyY29kZQ0KICAgIHRoaXMuZ2V0Tm93VGltZSgpDQogICAgdGhpcy5zZWxlY3RlZFByb2R1Y3RMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v5Yid5aeL5YyW57uT5p2f5pe26Ze0DQogICAgZ2V0Tm93VGltZSgpIHsNCiAgICAgIHRoaXMuJHNldCh0aGlzLnBhcmFtcywgInJldmlzaW9uRW5kRGF0ZSIsIHRoaXMuZ2V0Q3VycmVudERhdGVTdHIoKSkNCiAgICAgIHRoaXMuJHNldCh0aGlzLnBhcmFtcywgImNoYW5nZUVuZERhdGUiLCB0aGlzLmdldEN1cnJlbnREYXRlU3RyKCkpDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9kdWN0ID0ge30NCiAgICAgIH0pDQogICAgfSwNCiAgICBjaG9vc2VPbmUoKSB7DQogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZFByb2R1Y3QpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5kZXRhaWxWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGV0YWlsVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdGVkUHJvZHVjdExpc3QoKSB7DQogICAgICBmaW5kQWxsUnVsZVJldmlzaW9uVGFza3ModGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMudGFibGVEYXRhMiA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIHRoaXMudGFibGVEYXRhMikgew0KICAgICAgICAgIGxldCBmbGFnID0gZmFsc2UNCiAgICAgICAgICBmb3IgKGNvbnN0IGNvbWJvT3B0aW9uIG9mIHRoaXMucHJvZHVjdExpc3QpIHsNCiAgICAgICAgICAgIGlmIChjb21ib09wdGlvbi5wcENvZGUgPT09IHByb2R1Y3QucHBDb2RlKSB7DQogICAgICAgICAgICAgIGZsYWcgPSB0cnVlDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgdGhpcy5wcm9kdWN0TGlzdC5wdXNoKHByb2R1Y3QpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZmluaXNoUnVsZVJldmlzaW9uKHJvdykgew0KICAgICAgdGhpcy5kYXRhLnByb2Nlc3NJbnN0YW5jZUlkID0gcm93LnBkUHJvY2Vzc0lkDQogICAgICB0aGlzLmRhdGEudXNlckNvZGUgPSByb3cub3BlcmF0b3INCiAgICAgIGZpbmlzaFJ1bGVSZXZpc2lvbih0aGlzLmRhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKQ0KICAgICAgICBjbG9zZVZpc2l0VGFnKCkNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICIvZGFzaGJvYXJkIn0pOw0KICAgICAgfSkNCg0KICAgIH0sDQogICAgc2hvd0F1ZGl0RGV0YWlscyhyb3cpIHsNCiAgICAgIHRoaXMudGFibGVEYXRhX2F1ZGl0ID0gW10NCiAgICAgIGZpbmRBbGxBdWRpdERldGFpbEJ5UGRJbmZvSWQocm93LmlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy50YWJsZURhdGFfYXVkaXQgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS5hdWRpdCA9IHRydWUNCiAgICAgIH0pDQogICAgfSwNCiAgICBzaG93UmV2aXNpb25EZXRhaWxzKHJvdykgew0KICAgICAgdGhpcy50YWJsZURhdGFfcmV2aXNpb24gPSBbXQ0KICAgICAgZmluZEFsbFJldmlzaW9uRGV0YWlsQnlQZEluZm9JZChyb3cuaWQpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnRhYmxlRGF0YV9yZXZpc2lvbiA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnJldmlzaW9uID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYShmbGFnKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUudW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYSA9IGZsYWcNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Byb2R1Y3RJbmZvUnVsZVNlbGVjdChmbGFnKSB7DQogICAgICB0aGlzLnByb2R1Y3RJbmZvUnVsZVNlbGVjdCA9IGZsYWcNCiAgICB9LA0KICAgIHRvQ29tYm9JbnN1cmVSdWxlRGVmaW5pdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUHJvZHVjdC5pZCkgew0KICAgICAgICBjbG9zZVZpc2l0VGFnKCkNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICflpZfppJDmipXkv53op4TliJnorqLmraMnLCBxdWVyeTogeyJwcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8iOiAndHJ1ZSd9LHBhcmFtczp0aGlzLnNlbGVjdGVkUHJvZHVjdH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7flhYjpgInmi6nlpZfppJAiKQ0KICAgICAgfQ0KICAgIH0sDQogICAgdG9Db21ib1VuZGVyd3JpdGluZ0RlZmluaXRpb24oKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZFByb2R1Y3QuaWQpIHsNCiAgICAgICAgY2xvc2VWaXNpdFRhZygpDQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5aWX6aSQ5qC45L+d6KeE5YiZ6K6i5q2jJywgcXVlcnk6IHsicHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvIjogJ3RydWUnfSxwYXJhbXM6dGhpcy5zZWxlY3RlZFByb2R1Y3R9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+35YWI6YCJ5oup5aWX6aSQIikNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdChmbGFnLCBwZFV3U2lUeXBlKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVGb3JTZWxlY3QgPSBwZFV3U2lUeXBlDQogICAgICAgIGZvciAoY29uc3QgYW1vdW50IG9mIHRoaXMudW5kZXJ3cml0aW5nTGlzdCkgew0KICAgICAgICAgIGlmIChhbW91bnQucGRVd1NpVHlwZSA9PT0gcGRVd1NpVHlwZSkgew0KICAgICAgICAgICAgdGhpcy5kZWZpbmluZ0Ftb3VudCA9IGFtb3VudA0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QgPSBmbGFnDQogICAgfSwNCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZFByb2R1Y3QuaWQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZHVjdCA9IHt9DQogICAgICAgICAgdGhpcy5kZXRhaWxWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/package-revision/package-rule-rev/rule-rev-main","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form  :model=\"params\" :rules=\"rules\" label-position=\"right\" label-width=\"auto\"\r\n             style=\"margin: 20px 0 0 0\">\r\n      <el-row :gutter=\"20\" >\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('comboCalcRevision.product')\">\r\n            <el-select v-model=\"params.ppCode\" clearable filterable>\r\n              <el-option v-for=\"product in productList\" :key=\"product.taskId\"\r\n                         :label=\"product.ppCode+':'+product.ppName\" :value=\"product.ppCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('comboCalcRevision.revisionDate')\" prop=\"revisionDate\">\r\n            <el-date-picker v-model=\"revisionDate\" :end-placeholder=\"$t('comboCalcRevision.endPlaceholder')\"\r\n                            :picker-options=\"pickerOptions\" value-format=\"yyyy-MM-dd\"\r\n                            :range-separator=\"$t('comboCalcRevision.rangeSeparator')\"\r\n                            :start-placeholder=\"$t('comboCalcRevision.startPlaceholder')\"\r\n                            type=\"daterange\" unlink-panels></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.pdIsReviewReturn')\">\r\n            <cus-radio :codetype=\"'isReviewReturn'\" v-model=\"params.isReviewReturn\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n        <el-row :gutter=\"20\" >\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('comboCalcRevision.changeDate')\" prop=\"changeDate\">\r\n              <el-date-picker v-model=\"changeDate\" :end-placeholder=\"$t('comboCalcRevision.endPlaceholder')\"\r\n                              :picker-options=\"pickerOptions\" value-format=\"yyyy-MM-dd\"\r\n                              :range-separator=\"$t('comboCalcRevision.rangeSeparator')\"\r\n                              :start-placeholder=\"$t('comboCalcRevision.startPlaceholder')\"\r\n                              type=\"daterange\" unlink-panels></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button v-auth=\"'pdtemp-pd-info:query'\" icon=\"el-icon-search\" type=\"primary\" @click=\"handleSearch\">\r\n            {{ $t('table.search') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :realFirst=\"true\" :label=\"$t('i18nView.correctPpDetail')\"></cus-form-title>\r\n    <cus-table-title :label=\"$t('comboCalcRevision.revisionProduct')\" :realFirst=\"true\"></cus-table-title>\r\n\r\n    <!-- 待订正套餐表格 -->\r\n    <el-table :data=\"tableData\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\"\r\n              style=\"margin: 0 0 20px 0\" @row-click=\"rowClick\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedProduct\" @change=\"chooseOne\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" prop=\"id\" type=\"index\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.pdCode')\" align=\"center\" prop=\"ppCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.pdName')\" align=\"center\" prop=\"ppName\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.revisionApplyDate')\" align=\"center\"\r\n                       prop=\"revisionApplyDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.auditCount')\" align=\"center\" prop=\"auditCount\">\r\n        <template v-slot=\"scope\">\r\n          <span v-if=\"scope.row.auditCount\">\r\n            <el-button type=\"text\" @click=\"showAuditDetails(scope.row)\">{{ scope.row.auditCount }}</el-button>\r\n          </span>\r\n          <span v-else @click=\"showAuditDetails(scope.row)\">0</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.revisionCount')\" align=\"center\" prop=\"revisionCount\">\r\n        <template v-slot=\"scope\">\r\n          <span v-if=\"scope.row.revisionCount\">\r\n            <el-button type=\"text\" @click=\"showRevisionDetails(scope.row)\">{{ scope.row.revisionCount }}</el-button>\r\n          </span>\r\n          <span v-else>0</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('comboCalcRevision.changeDate')\" align=\"center\" prop=\"changeDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"120\">\r\n        <template v-slot=\"scope\">\r\n          <el-button v-auth=\"'combo-rule-revision:finishRuleRevision'\" size=\"mini\" type=\"primary\"\r\n                     @click=\"finishRuleRevision(scope.row)\"><i class=\"el-icon-finished\">{{\r\n              $t('comboCalcRevision.defFinished')\r\n            }}</i></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page\" v-model=\"tableData\" :pageSize=\"10\" :params=\"params\"\r\n                    url=\"/combo-rule-revision/base/list\"/>\r\n\r\n    <div v-if=\"tableData.length > 0\" style=\"margin: 20px 0 0 0\">\r\n      <el-button icon=\"el-icon-edit\" type=\"primary\" @click=\"toComboInsureRuleDefinition\">{{$t('route.comboInsuranceRuleRevision')}}</el-button>\r\n      <el-button icon=\"el-icon-edit\" type=\"primary\" @click=\"toComboUnderwritingDefinition\">{{$t('route.comboInsuranceRuleRevision')}}</el-button>\r\n    </div>\r\n\r\n    <!-- 弹窗（审核详情） -->\r\n    <el-dialog v-if=\"dialogVisible.audit\" v-dialog-drag :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\r\n               :visible.sync=\"dialogVisible.audit\" center width=\"75%\"\r\n               @close=\"dialogVisible.audit = false\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('comboRuleRevision.auditDetails')\"  @backTo=\"dialogVisible.audit = false\"/>\r\n      <el-table :data=\"tableData_audit\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdAuditConc')\" align=\"center\"\r\n                         prop=\"pdAuditConc\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdAuditStaff')\" align=\"center\"\r\n                         prop=\"pdAuditStaff\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdAuditDate')\" align=\"center\"\r\n                         prop=\"pdAuditDate\"></el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n\r\n    <!-- 弹窗（订正详情） -->\r\n    <el-dialog v-if=\"dialogVisible.revision\" v-dialog-drag :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\r\n               :visible.sync=\"dialogVisible.revision\" center width=\"75%\" @close=\"dialogVisible.revision = false\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('comboRuleRevision.revisionDetails')\"\r\n                           @backTo=\"dialogVisible.revision = false\"/>\r\n      <el-table :data=\"tableData_revision\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdReviseExpl')\" align=\"center\"\r\n                         prop=\"pdReviseExpl\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdReviseStaff')\" align=\"center\"\r\n                         prop=\"pdReviseStaff\"></el-table-column>\r\n        <el-table-column :label=\"$t('comboCalcRevision.pdReviseDate')\" align=\"center\"\r\n                         prop=\"pdReviseDate\"></el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\n// import accountFormula from \"@/views/basicinfo/accountFeeFormula/index\"\r\n// import currentValueFormula from \"@/views/product-definition/pd-framework-def/pd-current-price-def/index\"\r\n// import underwritingAmountFormula from \"@/views/basicinfo/underwritingAmountFormula/index\"\r\n// import underwritingAmountFormulaSelect from \"@/views/basicinfo/underwritingAmountFormulaSelect/index\"\r\nimport {closeVisitTag} from \"@/utils/tagsView\"\r\nimport {\r\n  findAllAuditDetailByPdInfoId,\r\n  findAllRevisionDetailByPdInfoId,\r\n  findAllRuleRevisionTasks,\r\n  finishRuleRevision\r\n} from '@/api/basicinfo/comboRuleRevision'\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'comboRuleRevision',\r\n  components: {\r\n    // accountFormula,\r\n    // currentValueFormula,\r\n    // underwritingAmountFormula,\r\n    // underwritingAmountFormulaSelect\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'usercode'\r\n    ])\r\n  },\r\n  filters: {\r\n    filterDefType(code) {\r\n      return _this.getCodeName('pdAuditType', code)\r\n    }\r\n  },\r\n  watch: {\r\n    revisionDate(val) {\r\n      if (val) {\r\n        this.params.revisionStartDate = val[0]\r\n        this.params.revisionEndDate = val[1]\r\n      } else {\r\n        this.params.revisionStartDate = ''\r\n        this.params.revisionEndDate = ''\r\n      }\r\n    },\r\n    changeDate(val) {\r\n      if (val) {\r\n        this.params.changeStartDate = val[0]\r\n        this.params.changeEndDate = val[1]\r\n      } else {\r\n        this.params.changeStartDate = ''\r\n        this.params.changeEndDate = ''\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      detailVisible: false,\r\n      definingAmount: {},\r\n      pdUwSiTypeForSelect: '',\r\n      tableData: [],\r\n      tableData2: [],\r\n      tableData_audit: [],\r\n      tableData_revision: [],\r\n      params: {\r\n        ppCode: '',\r\n        isReviewReturn: '', //退回审核件\r\n        revisionStartDate: '', //产品订正申请开始日期\r\n        revisionEndDate: '', //产品订正申请结束日期\r\n        changeStartDate: '', //任务分配开始日期\r\n        changeEndDate: '', //任务分配结束日期\r\n      },\r\n      data: {\r\n        processInstanceId: '',\r\n        userCode: ''\r\n      },\r\n      revisionDate: [],\r\n      changeDate: [],\r\n      rules: {},\r\n      selectedProduct: {},\r\n      productList: [],\r\n      pdEditionList: [],\r\n      calMark: true,\r\n      dialogVisible: {\r\n        audit: false,\r\n        revision: false,\r\n        underwritingAmountFormula: false,\r\n        underwritingAmountFormulaSelect: false\r\n      },\r\n      activatedName: 'premium',\r\n      tabVisible: false,\r\n      productInfoRuleSelect: false,\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '最近一周',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近一个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近三个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }]\r\n      },\r\n      pdUwSiTypeOptions: [],\r\n      underwritingList: []\r\n    }\r\n  },\r\n  created() {\r\n    this.params.operator = this.usercode\r\n    this.getNowTime()\r\n    this.selectedProductList()\r\n  },\r\n  methods: {\r\n    //初始化结束时间\r\n    getNowTime() {\r\n      this.$set(this.params, \"revisionEndDate\", this.getCurrentDateStr())\r\n      this.$set(this.params, \"changeEndDate\", this.getCurrentDateStr())\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload().then(() => {\r\n        this.selectedProduct = {}\r\n      })\r\n    },\r\n    chooseOne() {\r\n      if (Object.keys(this.selectedProduct).length > 0) {\r\n        this.detailVisible = false\r\n        this.$nextTick(() => {\r\n          this.detailVisible = true\r\n        })\r\n      }\r\n    },\r\n    selectedProductList() {\r\n      findAllRuleRevisionTasks(this.buildRequestData(this.params)).then(response => {\r\n        this.tableData2 = response.data\r\n        for (const product of this.tableData2) {\r\n          let flag = false\r\n          for (const comboOption of this.productList) {\r\n            if (comboOption.ppCode === product.ppCode) {\r\n              flag = true\r\n              break\r\n            }\r\n          }\r\n          if (!flag) {\r\n            this.productList.push(product)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    finishRuleRevision(row) {\r\n      this.data.processInstanceId = row.pdProcessId\r\n      this.data.userCode = row.operator\r\n      finishRuleRevision(this.data).then(res => {\r\n        this.notifySuccess(res.message)\r\n        closeVisitTag()\r\n        this.$router.push({path: \"/dashboard\"});\r\n      })\r\n\r\n    },\r\n    showAuditDetails(row) {\r\n      this.tableData_audit = []\r\n      findAllAuditDetailByPdInfoId(row.id).then(response => {\r\n        this.tableData_audit = response.data\r\n        this.dialogVisible.audit = true\r\n      })\r\n    },\r\n    showRevisionDetails(row) {\r\n      this.tableData_revision = []\r\n      findAllRevisionDetailByPdInfoId(row.id).then(response => {\r\n        this.tableData_revision = response.data\r\n        this.dialogVisible.revision = true\r\n      })\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      this.dialogVisible.underwritingAmountFormula = flag\r\n    },\r\n    changeDialogProductInfoRuleSelect(flag) {\r\n      this.productInfoRuleSelect = flag\r\n    },\r\n    toComboInsureRuleDefinition() {\r\n      if (this.selectedProduct.id) {\r\n        closeVisitTag()\r\n        this.$router.push({name: '套餐投保规则订正', query: {\"productCalcRevisionShowINfo\": 'true'},params:this.selectedProduct})\r\n      } else {\r\n        this.notifyError(\"请先选择套餐\")\r\n      }\r\n    },\r\n    toComboUnderwritingDefinition() {\r\n      if (this.selectedProduct.id) {\r\n        closeVisitTag()\r\n        this.$router.push({name: '套餐核保规则订正', query: {\"productCalcRevisionShowINfo\": 'true'},params:this.selectedProduct})\r\n      } else {\r\n        this.notifyError(\"请先选择套餐\")\r\n      }\r\n    },\r\n    changeDialogVisible_formulaSelect(flag, pdUwSiType) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeForSelect = pdUwSiType\r\n        for (const amount of this.underwritingList) {\r\n          if (amount.pdUwSiType === pdUwSiType) {\r\n            this.definingAmount = amount\r\n            break\r\n          }\r\n        }\r\n      } else {\r\n        this.dialogVisible.underwritingAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogVisible.underwritingAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogVisible.underwritingAmountFormulaSelect = flag\r\n    },\r\n    rowClick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedProduct.id) {\r\n          this.selectedProduct = {}\r\n          this.detailVisible = false\r\n        }\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
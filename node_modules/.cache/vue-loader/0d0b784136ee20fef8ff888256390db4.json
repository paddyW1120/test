{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\package-release\\releaserecord\\index.vue?vue&type=style&index=0&id=6e6adbba&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\package-release\\releaserecord\\index.vue","mtime":1609847106650},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQouc2J1dCB7DQogIHdpZHRoOiAxMDBweDsNCn0NCg0KLmdldG5hbWUgew0KICB3aWR0aDogNTAwcHg7DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyhBA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-release/package-release/releaserecord","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('PPReleasedstatistics.packageReleaseRecord')\"\r\n                         @backTo=\"backRecord\"></cus-page-title-back>\r\n    <el-form ref=\"params\" :model=\"params\" label-position=\"right\" label-width=\"auto\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.combo')\" prop=\"eq_pdInfoId\">\r\n            <el-select v-model=\"params.pdCode\" clearable filterable>\r\n              <el-option v-for=\"product in Recordstatistical\" :key=\"product.id\"\r\n                         :label=\"product.pdCode + ':' + product.pdName\" :value=\"product.pdCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.releaseMethod')\">\r\n            <cus-select v-model=\"params.pdReleWay\" :codetype=\"'releaseway'\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.pdAuditConc')\">\r\n            <el-select v-model=\"params.pdcheckList\" clearable filterable>\r\n              <el-option v-for=\"path in pathtableDataBc\" :key=\"path.id\"\r\n                         :label=\"path.pdReleSysname\" :value=\"path.pdReleSysname\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\" prop=\"pdCode\">\r\n          <el-form-item :label=\"$t('i18nView.releaseDate')\">\r\n            <el-date-picker\r\n              value-format=\"yyyy-MM-dd\"\r\n              v-model=\"applyDateValue\"\r\n              :end-placeholder=\"$t('acceptanceDefinition.pdApplyEndDate')\"\r\n              :picker-options=\"pickerOptions\"\r\n              :range-separator=\"$t('acceptanceDefinition.to')\"\r\n              :start-placeholder=\"$t('acceptanceDefinition.pdApplyStartDate')\"\r\n              type=\"daterange\"\r\n              unlink-panels>\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"queryTableData\">\r\n            {{ $t('PPReleasedstatistics.search') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('PPReleasedstatistics.pdreleaserecordstatistics')\"/>\r\n    <el-table :data=\"Recordstatistical\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\"\r\n              @row-click=\"chooseOneRow\">\r\n      <el-table-column :label=\"$t('PPReleasedstatistics.choose')\" align=\"center\" width=\"55px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"chooseRowId\">\r\n            <el-radio :label=\"scope.row.id\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"\r\n                       width=\"55px\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ppCode')\" align=\"center\"\r\n                       prop=\"pdCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ppName')\" align=\"center\"\r\n                       prop=\"pdName\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ppEdition')\" align=\"center\"\r\n                       prop=\"pdVerId\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.applyDoneDate')\" align=\"center\"\r\n                       prop=\"pdAuditDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdreleaseDate')\" align=\"center\"\r\n                       prop=\"pdReleDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.releaseNumber')\" align=\"center\"\r\n                       prop=\"pdNumber\"></el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page\" v-model=\"Recordstatistical\" :pageSize=\"10\" :params=\"params\"\r\n                    url=\"/comboRelease/getComboInfo\"/>\r\n\r\n    <cus-table-title v-if=\"showReleasenumberTable\" :label=\"$t('i18nView.releaseNumber')\"/>\r\n    <el-table v-if=\"showReleasenumberTable\" :data=\"ReleasenumberTable\" border element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\" @row-click=\"chooseNumberOneRow\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ppCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ppEdition')\" align=\"center\" prop=\"pdVerId\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdReleType')\" align=\"center\" prop=\"pdReleType\">\r\n        <template v-slot=\"scope\">{{ filterHandler('releasetype', scope.row.pdReleType) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.releaseMethod')\" align=\"center\" prop=\"pdReleWay\">\r\n        <template v-slot=\"scope\">{{ filterHandler('releaseway', scope.row.pdReleWay) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.postContent')\" prop=\"pdReleContent\" align=\"center\">\r\n        <template slot-scope=\"scope\">{{ filterHandler('pdReleContent', scope.row.pdReleContent) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.releaseDate')\" align=\"center\" prop=\"pdReleaseTime\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.operator')\" align=\"center\" prop=\"operator\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.download')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" style=\"width: 100px\" type=\"text\" @click=\"downloadReleFile(scope.row)\"><i\r\n            class=\"el-icon-download\"></i></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <h4 v-if=\"showreleasedcontent\">\r\n      <el-divider class=\"divider\" direction=\"vertical\"></el-divider>\r\n      {{ $t('PPReleasedstatistics.releaseDetails') }}\r\n    </h4>\r\n    <h5 v-if=\"showreleasedcontent\">\r\n      <el-divider class=\"divider\" direction=\"vertical\"></el-divider>\r\n      {{ $t('PPReleasedstatistics.tableLabel') }}\r\n    </h5>\r\n\r\n    <el-form v-if=\"showreleasedcontent\" style=\"margin-left: 55px\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-link :underline=\"false\" @click=\"getPackDesignPage\">{{ $t('PPReleasedstatistics.packageInfo') }}<i\r\n            class=\"el-icon-info\"></i></el-link>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-link :underline=\"false\" @click=\"getPackSalePage\">{{ $t('PPReleasedstatistics.packageSaleInfo') }}<i\r\n            class=\"el-icon-info\"></i></el-link>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-link :underline=\"false\" @click=\"getPackProposalPage\">{{ $t('PPReleasedstatistics.packageProposalInfo') }}<i\r\n            class=\"el-icon-info\"></i></el-link>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-link :underline=\"false\" @click=\"getPackUnderwritingPage\">{{ $t('PPReleasedstatistics.packageUnderwritingInfo') }}<i\r\n            class=\"el-icon-info\"></i></el-link>\r\n        </el-col>\r\n\r\n        <el-col :span=\"6\">\r\n          <el-link :underline=\"false\" @click=\"getPackClaimPage\">{{ $t('PPReleasedstatistics.packageClaimInfo') }}<i\r\n            class=\"el-icon-info\"></i></el-link>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <el-divider v-if=\"showPublishedformulaTable\" content-position=\"left\"><i class=\"el-icon-s-grid\">\r\n      {{ $t('PPReleasedstatistics.publishedformula') }}</i>\r\n    </el-divider>\r\n    <el-table v-if=\"showPublishedformulaTable\" :data=\"PublishedformulaTable\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"\r\n                       width=\"60px\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaCode')\" align=\"center\"\r\n                       prop=\"pdReleSysname\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.calcType')\" align=\"center\"\r\n                       prop=\"pdReleIp\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaBussDetial')\" align=\"center\"\r\n                       prop=\"pdRelePort\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaDec')\" align=\"center\"\r\n                       prop=\"pdUsername\" width=\"700px\"></el-table-column>\r\n    </el-table>\r\n\r\n    <el-divider v-if=\"showPublishedruleTable\" content-position=\"left\"><i\r\n      class=\"el-icon-s-grid\">{{ $t('pdReleaseInfoAll.publishedrule') }}</i>\r\n    </el-divider>\r\n    <el-table v-if=\"showPublishedruleTable\" :data=\"PublishedruleTable\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"\r\n                       width=\"60px\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ruleCode')\" align=\"center\"\r\n                       prop=\"pdReleSysname\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ruleType')\" align=\"center\"\r\n                       prop=\"pdReleIp\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ruleBussDetial')\" align=\"center\"\r\n                       prop=\"pdRelePort\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.ruleDec')\" align=\"center\" prop=\"pdUsername\"\r\n                       width=\"700px\"></el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <div  v-if=\"showreleasedcontent\">\r\n      <cus-form-title :label=\"$t('PPReleasedstatistics.release')\"></cus-form-title>\r\n      <el-form ref=\"PdtempPdReleSyspath\" :model=\"PdtempPdreleaserecord\" inline label-width=\"auto\"\r\n               style=\"margin-left: 55px\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('i18nView.releaseMethod')\" prop=\"pdReleWay\">\r\n              <el-input v-model=\"PdtempPdreleaserecord.pdReleWay\" disabled>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('i18nView.releaseDetails')\" prop=\"pdReleDetails\">\r\n              <el-input v-model=\"PdtempPdreleaserecord.pdReleDetails\" disabled style=\"width:588px;\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('i18nView.pdAuditConc')\" prop=\"pdReleEnv\">\r\n              <el-input v-model=\"PdtempPdreleaserecord.pdReleSyspathName\" disabled></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row v-if=\"tableflag\">\r\n          <el-table ref=\"sizeForm3.tableData2\" :data=\"pathtableData\" border class=\"wraper-table\" fit\r\n                    highlight-current-row>\r\n            <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"55px\">\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.currency')\" align=\"center\" prop=\"pdReleSysname\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdReleIp')\" align=\"center\"\r\n                             prop=\"pdReleIp\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdRelePort')\" align=\"center\"\r\n                             prop=\"pdRelePort\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdUsername')\" align=\"center\"\r\n                             prop=\"pdUsername\"></el-table-column>\r\n          </el-table>\r\n        </el-row>\r\n        <el-row style=\"margin-top: 15px\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('i18nView.pdReleFileName')\" prop=\"pdReleFileName\">\r\n              <el-input v-model=\"PdtempPdreleaserecord.pdReleFileName\" disabled style=\"width:588px;\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <cus-page-dialog :dialogShow=\"dialogShow\" :dialogTitle=\"dialogTitle\" :component=\"dialogComponent\" @close=\"closePageDialog\"></cus-page-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  findAllProductByPdDetailType,\r\n  getpathtableData,\r\n  getpdReleSyspathName,\r\n  getPosReleasenumber\r\n} from \"@/api/basicinfo/pdtemppdstatistics\";\r\nimport {getAllPath} from \"@/api/basicinfo/pdtemppdrelease\";\r\nimport {downloadReleFile} from \"@/api/basicinfo/pdtemppdverrls\";\r\n\r\nexport default {\r\n  name: 'releaserecord',\r\n  data() {\r\n    return {\r\n      dialogShow: false,\r\n      dialogTitle:'',\r\n      dialogComponent:'',\r\n      chooseRowId: {},\r\n      chooseNumberRowId: {},\r\n      showReleasenumberTable: false,\r\n      showreleasedcontent: false,\r\n      showPublishedformulaTable: false,\r\n      showPublishedruleTable: false,\r\n      tableflag: false,\r\n      pdPpInfo: {},\r\n      editionOptionList: [],\r\n      pathtableDataBc: [],\r\n      productOptionList: [],\r\n      arr1: [],\r\n      /*日期显示*/\r\n      applyDateValue: '',\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '最近一周',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近一个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近三个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }]\r\n      },\r\n      /*发布环境表格显示*/\r\n      pathtableData: [],\r\n      /*产品发布记录统计表格数据*/\r\n      Recordstatistical: [],\r\n      /*发布记录统计*/\r\n      params: {\r\n        pdReleWay: '',\r\n        pdCode: '',\r\n        pdcheckList: '',\r\n        pdApplyStartDate: undefined,\r\n        pdApplyEndDate: undefined\r\n      },\r\n      //发布\r\n      PdtempPdreleaserecord: {\r\n        pdReleWay: '',\r\n        pdReleDetails: '',\r\n        pdReleSyspathName: '',\r\n        pdReleFileName: '',\r\n      },\r\n      /*发布次数表格数据*/\r\n      ReleasenumberTable: [],\r\n      /*已发布公式表格数据*/\r\n      PublishedformulaTable: [],\r\n      /*已发布规则表格数据*/\r\n      PublishedruleTable: []\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    this.getSysPath();\r\n  },\r\n  watch: {\r\n    applyDateValue(val) {\r\n      if (val) {\r\n        this.params.pdApplyStartDate = val[0];\r\n        this.params.pdApplyEndDate = val[1];\r\n      } else {\r\n        this.params.pdApplyStartDate = '';\r\n        this.params.pdApplyEndDate = ''\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    //根据key值查value\r\n    filterHandler(codetype, value) {\r\n      return this.getCodeName(codetype, value);\r\n    },\r\n    //表格搜索\r\n    queryTableData() {\r\n      if (this.$refs.page) {\r\n        this.$refs.page.reload();\r\n      }\r\n    },\r\n    //根据查询细类查询产品\r\n    selectedDetailTypeChanged(pdRegionType) {\r\n      let param = {\r\n        pdRegionType: pdRegionType\r\n      }\r\n      if (\"\".endsWith(pdRegionType) || pdRegionType == undefined) {\r\n        this.queryTableData();\r\n        return false\r\n      }\r\n      findAllProductByPdDetailType(this.buildRequestData(param)).then(response => {\r\n        this.productOptionList = [];\r\n        this.detailTypeOptionList = response.data;\r\n        for (const product of this.detailTypeOptionList) {\r\n          for (const productOption of this.Recordstatistical) {\r\n            if (productOption.pdCode === product.pdCode) {\r\n              this.productOptionList.push(productOption);\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    closePageDialog(){\r\n      this.dialogShow = false\r\n      this.dialogComponent = ''\r\n    },\r\n    /*页面跳转按钮组*/\r\n    getPackDesignPage() {\r\n      if (this.pdPpInfo) {\r\n        this.cacheCurrPagePdData(this.pdPpInfo)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐框架信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-framework-def/pp-main'\r\n        // this.$router.push({name: '产品框架定义主页', query: {showPageFlag: '1'},params:this.pdInfo})\r\n      }\r\n    },\r\n    getPackSalePage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐销售信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-sales-def/sale-main'\r\n      }\r\n    },\r\n    getPackProposalPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐承保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-acceptance-def/accpt-main'\r\n      }\r\n    },\r\n    getPackUnderwritingPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐核保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-underwriting-def/unw-main'\r\n      }\r\n    },\r\n    getPackClaimPage() {\r\n      if (this.pdPpInfo) {\r\n        let info = Object.assign({},this.pdPpInfo);\r\n        info.pdProcessId = '';\r\n        info.ppCode = info.pdCode;\r\n        info.ppName = info.pdName;\r\n        this.cacheCurrPagePdData(info)\r\n        this.dialogShow = true\r\n        this.dialogTitle = '套餐核保信息查看'\r\n        this.dialogComponent = 'product-package-definition/pp-operation-def/pp-compensation-def/comp-main'\r\n      }\r\n    },\r\n    /*选择表格数据展示发布次数*/\r\n    chooseOneRow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.chooseRowId) {\r\n          this.chooseRowId = {};\r\n          this.pdPpInfo = {};\r\n          this.showReleasenumberTable = false;\r\n        } else {\r\n          this.chooseRowId = row.id;\r\n          this.pdPpInfo = row;\r\n          this.showReleasenumberTable = true;\r\n          let data = this.buildRequestData({\r\n            pdInfoId: row.id,\r\n            pdType: '2'\r\n          });\r\n          getPosReleasenumber(data).then(res => {\r\n            this.ReleasenumberTable = res.data;\r\n          });\r\n        }\r\n      }\r\n    },\r\n    //发布环境\r\n    getSysPath() {\r\n      getAllPath().then(res => {\r\n        this.pathtableDataBc = res.data\r\n      })\r\n    },\r\n    backRecord() {\r\n      this.$emit('changeDialogReleaseRecord', false);\r\n    },\r\n    //展示发布次数\r\n    showReleasenumber(val) {\r\n      if (val.pdNumber) {\r\n        this.showReleasenumberTable = !this.showReleasenumberTable;\r\n        let data = this.buildRequestData({\r\n          pdInfoId: val.id,\r\n          pdType: '2'\r\n        });\r\n        getPosReleasenumber(data).then(res => {\r\n          this.ReleasenumberTable = res.data;\r\n        });\r\n      }\r\n    },\r\n    /*选择发布次数表格*/\r\n    chooseNumberOneRow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.chooseNumberRowId) {\r\n          this.chooseNumberRowId = {};\r\n          this.showreleasedcontent = false;\r\n          this.showPublishedformulaTable = false;\r\n          this.showPublishedruleTable = false;\r\n        } else {\r\n          this.chooseNumberRowId = row.id;\r\n          if (row.pdReleType === \"1\" || (row.pdReleType === \"2\" && row.pdReleContent === \"产品发布\")) {\r\n            this.showreleasedcontent = true;\r\n          } else {\r\n            this.showreleasedcontent = false;\r\n          }\r\n          if (row.pdReleType === \"2\" && row.pdReleContent === \"公式发布\") {\r\n            this.showPublishedformulaTable = true;\r\n          } else {\r\n            this.showPublishedformulaTable = false;\r\n          }\r\n          if (row.pdReleType === \"2\" && row.pdReleContent === \"规则发布\") {\r\n            this.showPublishedruleTable = true;\r\n          } else {\r\n            this.showPublishedruleTable = false;\r\n          }\r\n\r\n          this.PdtempPdreleaserecord.pdReleWay = this.filterHandler('releaseway', row.pdReleWay);\r\n          this.PdtempPdreleaserecord.pdReleDetails = row.pdReleDetails;\r\n          let data = this.buildRequestData({\r\n            pdVerId: row.pdVerId,\r\n            pdInfoId: row.pdInfoId,\r\n            id: row.id\r\n          });\r\n          getpdReleSyspathName(data).then(res => {\r\n            this.PdtempPdreleaserecord.pdReleSyspathName = res.data.pdReleSyspathName;\r\n            if (this.PdtempPdreleaserecord.pdReleSyspathName != null && this.PdtempPdreleaserecord.pdReleSyspathName != '') {\r\n              this.tableflag = true;\r\n              let data = this.buildRequestData({\r\n                pdReleSyspathName: this.PdtempPdreleaserecord.pdReleSyspathName,\r\n              });\r\n              getpathtableData(data).then(res => {\r\n                this.pathtableData = res.data;\r\n              });\r\n            } else {\r\n              this.tableflag = false;\r\n            }\r\n          });\r\n          this.PdtempPdreleaserecord.pdReleFileName = row.pdReleFileName;\r\n\r\n        }\r\n      }\r\n    },\r\n    /*下载*/\r\n    downloadReleFile(row) {\r\n      let filePath = row.pdReleFilePath + \"//\" + row.pdReleFileName;\r\n      let data = {\"filePath\": filePath}\r\n      let fileName = row.pdReleFileName;\r\n      downloadReleFile(this.buildRequestData(data)).then(res => {\r\n        this.downloadResponseFile(res, fileName)\r\n        this.notifySuccess('下载成功')\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.sbut {\r\n  width: 100px;\r\n}\r\n\r\n.getname {\r\n  width: 500px;\r\n}\r\n</style>\r\n"]}]}
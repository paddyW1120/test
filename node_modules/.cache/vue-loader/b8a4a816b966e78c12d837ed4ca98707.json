{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\apply\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\apply\\index.vue","mtime":1609847106963},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2Nsb3NlVmlzaXRUYWd9IGZyb20gIkAvdXRpbHMvdGFnc1ZpZXciDQppbXBvcnQgeyBkaXN0cmlidXRpb25MaXN0LCBmaW5kQWxsUHJvZHVjdEJ5UGREZXRhaWxUeXBlLCBnZXRQb3NQZEF1ZGl0SGlzIH0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL2FjY2VwdEluc3VyYW5jZUFwcGx5Jw0KbGV0IF90aGlzOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncHJvZHVjdFNhbGVEZWZpbml0aW9uQXBwbHknLA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyX3BkTm9kZUNvZGUodmFsKSB7DQogICAgICBsZXQgcmV0dXJuVGV4dCA9ICcnOw0KICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgY2FzZSAncHJvZHVjdFJ1bGVGbGFnJzoNCiAgICAgICAgICByZXR1cm5UZXh0ID0gJ+S6p+WTgeinhOWImeiuouatoyc7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3Byb2R1Y3RGb3JtdWxhRmxhZyc6DQogICAgICAgICAgcmV0dXJuVGV4dCA9ICfkuqflk4HlhazlvI/orqLmraMnOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwcm9kdWN0SW5mb0ZsYWcnOg0KICAgICAgICAgIHJldHVyblRleHQgPSAn5Lqn5ZOB5qGG5p625a6a5LmJJzsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAncHJvZHVjdERpc3RyaWJ1dGlvbkZsYWcnOg0KICAgICAgICAgIHJldHVyblRleHQgPSAn5Lqn5ZOB6ZSA5ZSu5L+h5oGvJzsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAncHJvZHVjdENvdmVyRmxhZyc6DQogICAgICAgICAgcmV0dXJuVGV4dCA9ICfkuqflk4Hmib/kv53kv6Hmga8nOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwcm9kdWN0VW5kZXJ3cml0aW5nRmxhZyc6DQogICAgICAgICAgcmV0dXJuVGV4dCA9ICfkuqflk4HmoLjkv53kv6Hmga8nOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwcm9kdWN0UHJlc2VydmF0aW9uRmxhZyc6DQogICAgICAgICAgcmV0dXJuVGV4dCA9ICfkuqflk4Hkv53lhajkv6Hmga8nOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwcm9kdWN0SGVQZWlGbGFnJzoNCiAgICAgICAgICByZXR1cm5UZXh0ID0gJ+S6p+WTgeaguOi1lOS/oeaBryc7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3Byb2R1Y3RSZW5ld2FsRmxhZyc6DQogICAgICAgICAgcmV0dXJuVGV4dCA9ICfkuqflk4Hnu63mnJ/nu63kv53kv6Hmga8nOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJldHVyblRleHQ7DQogICAgfSwNCiAgICBmaWx0ZXJfRnVuY05vZGVOYW1lKHZhbCkgew0KICAgICAgbGV0IGZ1bmNOb2RlID0gSlNPTi5wYXJzZSh2YWwpOw0KICAgICAgbGV0IHJldHVyblBvaW50cyA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jTm9kZS5sZW5ndGg7IGkrKykgew0KICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IF90aGlzLm5vZGVPcHRpb25zLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgaWYgKGZ1bmNOb2RlW2ldID09PSBfdGhpcy5ub2RlT3B0aW9uc1tqXS5rZXkpIHsNCiAgICAgICAgICAgIHJldHVyblBvaW50cy5wdXNoKF90aGlzLm5vZGVPcHRpb25zW2pdLmxhYmVsKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJldHVyblBvaW50cw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXM7DQogICAgcmV0dXJuIHsNCiAgICAgIG5vZGVPcHRpb25zOiBbDQogICAgICAgIHsna2V5JzogJ3Byb2R1Y3RJbmZvRmxhZycsICdsYWJlbCc6ICfkuqflk4HmoYbmnrblrprkuYknfSwNCiAgICAgICAgeydrZXknOiAncHJvZHVjdERpc3RyaWJ1dGlvbkZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB6ZSA5ZSu5L+h5oGvJ30sDQogICAgICAgIHsna2V5JzogJ3Byb2R1Y3RDb3ZlckZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB5om/5L+d5L+h5oGvJ30sDQogICAgICAgIHsna2V5JzogJ3Byb2R1Y3RVbmRlcndyaXRpbmdGbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeaguOS/neS/oeaBryd9LA0KICAgICAgICB7J2tleSc6ICdwcm9kdWN0UmVuZXdhbEZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB57ut5pyf57ut5L+d5L+h5oGvJ30sDQogICAgICAgIHsna2V5JzogJ3Byb2R1Y3RQcmVzZXJ2YXRpb25GbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeS/neWFqOS/oeaBryd9LA0KICAgICAgICB7J2tleSc6ICdwcm9kdWN0SGVQZWlGbGFnJywgJ2xhYmVsJzogJ+S6p+WTgeaguOi1lOS/oeaBryd9LA0KICAgICAgICB7J2tleSc6ICdwcm9kdWN0UnVsZUZsYWcnLCAnbGFiZWwnOiAn5Lqn5ZOB6KeE5YiZ6K6i5q2jJ30sDQogICAgICAgIHsna2V5JzogJ3Byb2R1Y3RGb3JtdWxhRmxhZycsICdsYWJlbCc6ICfkuqflk4HlhazlvI/orqLmraMnfV0sDQogICAgICAvLyDkuqflk4Hkv6Hmga8NCiAgICAgIHByb2R1Y3Q6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRFZGl0aW9uOiAnJywNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFNhbGVjaG5sOiAnJywNCiAgICAgICAgcGROYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydG5hbWU6ICcnLA0KICAgICAgICBwZEVuTmFtZTogJycsDQogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQXBwbERhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICB9LA0KICAgICAgcHJvZHVjdF9leHRyYToge30sDQogICAgICAvLyDmlrnmoYjooajmoLwNCiAgICAgIHRhYmxlRGF0YV9wcm9kdWN0U2FsZUluZm86IFtdLA0KICAgICAgYXVkaXREYXRhOltdLC8v5a6h5qC46KGo5qC85pWw5o2uDQogICAgICBhdWRpdE1vZHVsRGF0YTpbXSwvL+WuoeaguOihqOagvOaVsOaNrg0KICAgICAgc2hvd1JlbGVIaXN0b3J5OmZhbHNlLA0KICAgICAgZGlhbG9nQXVkaXRWaXNpYmxlOmZhbHNlLA0KICAgICAgcmV0dURlc2lnbiA6ICfpgIDlm57lrprkuYknLA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHBkUmVnaW9uVHlwZTogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkRWRpdGlvbjogJycsDQogICAgICAgIHBkTmFtZTogJycNCiAgICAgIH0sDQogICAgICBwcm9kdWN0TGlzdDogW10sDQogICAgICBwcm9kdWN0T3JpZ2luYWxMaXN0OiBbXSwNCiAgICAgIHBkRWRpdGlvbkxpc3Q6IFtdLA0KICAgICAgc2VsZWN0ZWRQZDp7fSwNCiAgICAgIHNlbGVjdGVkUHJvZHVjdDoge30sDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDoge30sDQogICBjcmVhdGVkKCkgew0KICAgICB0aGlzLmluaXRQcm9kdWN0UXVlcnlEYXRhKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGZpbHRlckhhbmRsZXIoY29kZXR5cGUsIHZhbHVlKSB7DQogICAgICByZXR1cm4gdGhpcy5nZXRDb2RlTmFtZShjb2RldHlwZSwgdmFsdWUpOw0KICAgIH0sDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgdGhpcy4kcmVmcy5wYWdlX3Byb2R1Y3RTYWxlSW5mby5yZWxvYWQoKQ0KICAgIH0sDQogICAgLyog5pi+56S65Y+R5biD5L+h5oGvICovDQogICAgc2hvd1JlbGVIaXMocm93LCBleHBhbmRlZFJvd3Mpew0KICAgICAgdmFyIHRoYXQgPSB0aGlzOw0KICAgICAgdGhpcy5hdWRpdE1vZHVsRGF0YT1bXTsNCiAgICAgIGlmIChleHBhbmRlZFJvd3MubGVuZ3RoPjEpIHsNCiAgICAgICAgdGhhdC5leHBhbmRzID0gW10NCiAgICAgICAgaWYgKHJvdykgew0KICAgICAgICAgIHRoYXQuZXhwYW5kcy5wdXNoKHJvdyk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kcmVmcy5hdWRpdERhdGEudG9nZ2xlUm93RXhwYW5zaW9uKGV4cGFuZGVkUm93c1swXSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGF0LmV4cGFuZHMgPSBbXTsNCiAgICAgIH0NCiAgICAgIHRoaXMuYXVkaXRNb2R1bERhdGE9cm93LnBkb3BlckF1ZGl0RGV0YWlsTm90ZXNJbmZvTGlzdDsNCiAgICB9LA0KICAgIC8qIOWuoeaguOiusOW9lSAqLw0KICAgIHNob3dBdWRpdERpYWxvZyh2YWwpew0KICAgICAgaWYgKHZhbC5hdWRpdFRpbWVzKXsNCiAgICAgICAgdGhpcy5zaG93UmVsZUhpc3RvcnkgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5kaWFsb2dBdWRpdFZpc2libGUgPSB0cnVlOw0KICAgICAgICBsZXQgZGF0YSA9IHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgICAgcGRJbmZvSWQgOiB2YWwuaWQNCiAgICAgICAgfSk7DQogICAgICAgIGdldFBvc1BkQXVkaXRIaXMoZGF0YSkudGhlbihyZXM9PnsNCiAgICAgICAgICB0aGlzLmF1ZGl0RGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGluaXRQcm9kdWN0UXVlcnlEYXRhKCl7DQogICAgICB0aGlzLmZpbHRlclByb2R1Y3RCeU5vZGUodGhpcywnMicsdHJ1ZSkNCiAgICB9LA0KICAgIHNlbGVjdGVkRGV0YWlsVHlwZUNoYW5nZWQodmFsKSB7DQogICAgICB2YWwgPT09ICcnPyAgdGhpcy5pbml0UHJvZHVjdFF1ZXJ5RGF0YSgpIDogdGhpcy5maWx0ZXJQcm9kdWN0QnlDYXRlZ29yeSh0aGlzLHZhbCkNCiAgICB9LA0KICAgIHNlbGVjdGVkUGRDb2RlQ2hhbmdlZChwcm9kdWN0KSB7DQogICAgICB0aGlzLmZpbHRlckVkaXRpb25CeVByb2R1Y3QodGhpcyxwcm9kdWN0KQ0KICAgIH0sDQogICAgY2hvb3NlT25lKHJvdykgew0KICAgICAgY2xvc2VWaXNpdFRhZygpDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ+S6p+WTgemUgOWUruWumuS5ieS4u+mhtScsIHBhcmFtczogcm93fSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-sales-def/apply","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form label-width=\"auto\"  :model=\"params\" style=\"margin: 20px 0 0 0\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('productSaleDefinitionApply.pdDetailType')\">\r\n            <cus-select :codetype=\"'ProductCategory'\" @change=\"selectedDetailTypeChanged\" clearable\r\n                        filterable v-model=\"params.pdRegionType\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('rule.product')\">\r\n            <el-select @change=\"selectedPdCodeChanged\" clearable filterable size=\"max\"\r\n                       v-model=\"selectedPd\" value-key=\"id\">\r\n              <el-option :key=\"product.id\" :label=\"product.pdCode+':'+product.pdName\" :value=\"product\"\r\n                         v-for=\"product in productList\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n            <el-select clearable filterable v-model=\"params.pdEdition\">\r\n              <el-option :key=\"edition\" :label=\"edition\" :value=\"edition\"\r\n                         v-for=\"edition in pdEditionList\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button  size=\"small\" @click=\"handleSearch\" icon=\"el-icon-search\" type=\"primary\">\r\n            {{ $t('table.search') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!-- 产品搜索 -->\r\n\r\n    <cus-table-title :label=\"$t('productSaleDefinitionApply.products_to_be_defined')\"/>\r\n    <!-- 表格 -->\r\n    <el-table :data=\"tableData_productSaleInfo\" border element-loading-text=\"Loading\" fit size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedProduct\">\r\n            <span>\r\n              <el-radio :label=\"scope.row\" @change=\"chooseOne(scope.row)\">{{ '' }}</el-radio>\r\n            </span>\r\n            <span v-if=\"selectedProduct.id && scope.row.id && selectedProduct.id === scope.row.id\"></span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_productSaleInfo', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.pdName')\" prop=\"pdName\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('productSaleDefinitionApply.defType')\" prop=\"defType\">\r\n        <template v-slot=\"scope\">{{ filterHandler('pdAuditType', scope.row.defType) }}</template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('productSaleDefinitionApply.productSaleNature')\" prop=\"productSaleNature\">\r\n        <template v-slot=\"scope\">{{ filterHandler('InsuranceNature', scope.row.productSaleNature) }}</template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('productSaleDefinitionApply.pdApplDate')\" prop=\"pdApplDate\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('productSaleDefinitionApply.changeDate')\" prop=\"changeDate\" sortable>\r\n        <template  v-slot=\"scope\"><span v-if=\"scope.row.defType!=1\">{{scope.row.changeDate}}</span></template>\r\n      </el-table-column>\r\n<!--      <el-table-column sortable align=\"center\" :label=\"$t('productSaleDefinitionApply.testTimes')\"-->\r\n<!--                       prop=\"\"></el-table-column>-->\r\n      <el-table-column sortable align=\"center\" :label=\"$t('productSaleDefinitionApply.auditTimes')\" prop=\"auditTimes\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button  size=\"small\" type=\"text\" @click=\"showAuditDialog(scope.row)\"\r\n                      :disabled=\"scope.row.auditTimes==0||scope.row.auditTimes==null\">{{scope.row.auditTimes}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page_productSaleInfo\"\r\n                    url=\"/pdtemp-pd-sl-info/base/distributionList\" v-model=\"tableData_productSaleInfo\"/>\r\n    <el-dialog :visible.sync=\"dialogAuditVisible\" append-to-body v-dialog-drag :close-on-click-modal=\"false\"\r\n               width=\"75%\">\r\n      <cus-page-title-back :label=\"$t('acceptInsuranceApply.auditHis')\" :isDialog=\"true\" @backTo=\"dialogAuditVisible=false\"></cus-page-title-back>\r\n      <el-table @expand-change=\"showReleHis\" :data=\"auditData\"  fit element-loading-text=\"Loading\" class=\"wraper-table\" border\r\n                style=\"width: 100%\" ref=\"auditData\">\r\n        <el-table-column type=\"index\" :label=\"$t('table.id')\" width=\"50\" align=\"center\"></el-table-column>\r\n        <el-table-column property=\"pdCode\" align=\"center\" :label=\"$t('i18nView.pdCode')\" width=\"150\">\r\n          <template slot-scope=\"scope\">{{scope.row.pdoperAuditDetailInfoList.pdCode}}</template>\r\n        </el-table-column>\r\n        <el-table-column property=\"pdAuditConc\" align=\"center\" :label=\"$t('i18nView.auditRes')\">\r\n          <template slot-scope=\"scope\">{{scope.row.pdoperAuditDetailInfoList.pdAuditConc === 'N'?'不通过':'通过'}}</template>\r\n        </el-table-column>\r\n        <el-table-column property=\"operator\" align=\"center\" :label=\"$t('i18nView.auditOper')\">\r\n          <template slot-scope=\"scope\">{{scope.row.pdoperAuditDetailInfoList.operator}}</template>\r\n        </el-table-column>\r\n        <el-table-column property=\"createTime\" align=\"center\" :label=\"$t('i18nView.auditOper')\">\r\n          <template slot-scope=\"scope\">{{scope.row.pdoperAuditDetailInfoList.createTime}}</template>\r\n        </el-table-column>\r\n        <el-table-column width=\"150\" align=\"center\" type=\"expand\" :label=\"$t('i18nView.pdDet.auditDate')\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.pdoperAuditDetailInfoList.pdAuditConc === 'N'\">\r\n              <el-divider content-position=\"left\" > <i class=\"el-icon-s-grid\">{{$t('i18nView.pdReleAudit')}} </i></el-divider>\r\n              <el-table :data=\"auditModulData\" size=\"mini\" fit element-loading-text=\"Loading\" border\r\n                        highlight-current-row align=\"center\" class=\"wraper-table\">\r\n                <el-table-column property=\"pdDefineContent\" align=\"center\" :label=\"$t('i18nView.defineContent')\" width=\"150\">\r\n                  <template slot-scope=\"scope\">{{scope.row.pdDefineContent| filter_pdNodeCode}}</template>\r\n                </el-table-column>\r\n                <el-table-column property=\"pdAuditConcthis\" align=\"center\" :label=\"$t('i18nView.auditRes')\">\r\n                  <template slot-scope=\"scope\">{{scope.row.pdAuditConcthis === 'N'?'不通过':'通过'}}</template>\r\n                </el-table-column>\r\n                <el-table-column property=\"pdIsCancelDefinition\" align=\"center\" :label=\"$t('i18nView.isCancelDefinition')\">\r\n                  <template slot-scope=\"scope\">{{scope.row.pdIsCancelDefinition === 'N'?'否':'是'}}</template>\r\n                </el-table-column>\r\n                <el-table-column property=\"pdNotPassOpinion\" align=\"center\" :label=\"$t('i18nView.notPassOpinion')\">\r\n                  <template slot-scope=\"scope\">{{scope.row.pdNotPassOpinion}}</template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <el-form  label-width=\"auto\"   style=\"margin: 18px 0 0 0\">\r\n               <!-- <el-form-item label=\"处理结论\" :label=\"$t('acceptInsuranceApply.pdPreservationMain.condition')\">\r\n                  <el-input style=\"width: 288px\" v-model=\"retuDesign\" disabled></el-input>\r\n                </el-form-item>-->\r\n                <el-form-item :label=\"$t('i18nView.reBackNode')\">\r\n                  <span>{{ scope.row.pdoperAuditDetailInfoList.pdReturnFuncNode | filter_FuncNodeName}}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('i18nView.auditContent')\">\r\n                  <span>{{ scope.row.pdoperAuditDetailInfoList.pdAuditIdea }}</span>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {closeVisitTag} from \"@/utils/tagsView\"\r\nimport { distributionList, findAllProductByPdDetailType, getPosPdAuditHis } from '@/api/basicinfo/acceptInsuranceApply'\r\nlet _this;\r\nexport default {\r\n  name: 'productSaleDefinitionApply',\r\n  filters: {\r\n    filter_pdNodeCode(val) {\r\n      let returnText = '';\r\n      switch (val) {\r\n        case 'productRuleFlag':\r\n          returnText = '产品规则订正';\r\n          break;\r\n        case 'productFormulaFlag':\r\n          returnText = '产品公式订正';\r\n          break;\r\n        case 'productInfoFlag':\r\n          returnText = '产品框架定义';\r\n          break;\r\n        case 'productDistributionFlag':\r\n          returnText = '产品销售信息';\r\n          break;\r\n        case 'productCoverFlag':\r\n          returnText = '产品承保信息';\r\n          break;\r\n        case 'productUnderwritingFlag':\r\n          returnText = '产品核保信息';\r\n          break;\r\n        case 'productPreservationFlag':\r\n          returnText = '产品保全信息';\r\n          break;\r\n        case 'productHePeiFlag':\r\n          returnText = '产品核赔信息';\r\n          break;\r\n        case 'productRenewalFlag':\r\n          returnText = '产品续期续保信息';\r\n          break;\r\n      }\r\n      return returnText;\r\n    },\r\n    filter_FuncNodeName(val) {\r\n      let funcNode = JSON.parse(val);\r\n      let returnPoints = [];\r\n      for (let i = 0; i < funcNode.length; i++) {\r\n        for (let j = 0; j < _this.nodeOptions.length; j++) {\r\n          if (funcNode[i] === _this.nodeOptions[j].key) {\r\n            returnPoints.push(_this.nodeOptions[j].label)\r\n          }\r\n        }\r\n      }\r\n      return returnPoints\r\n    }\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      nodeOptions: [\r\n        {'key': 'productInfoFlag', 'label': '产品框架定义'},\r\n        {'key': 'productDistributionFlag', 'label': '产品销售信息'},\r\n        {'key': 'productCoverFlag', 'label': '产品承保信息'},\r\n        {'key': 'productUnderwritingFlag', 'label': '产品核保信息'},\r\n        {'key': 'productRenewalFlag', 'label': '产品续期续保信息'},\r\n        {'key': 'productPreservationFlag', 'label': '产品保全信息'},\r\n        {'key': 'productHePeiFlag', 'label': '产品核赔信息'},\r\n        {'key': 'productRuleFlag', 'label': '产品规则订正'},\r\n        {'key': 'productFormulaFlag', 'label': '产品公式订正'}],\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n      },\r\n      product_extra: {},\r\n      // 方案表格\r\n      tableData_productSaleInfo: [],\r\n      auditData:[],//审核表格数据\r\n      auditModulData:[],//审核表格数据\r\n      showReleHistory:false,\r\n      dialogAuditVisible:false,\r\n      retuDesign : '退回定义',\r\n      params: {\r\n        pdRegionType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdName: ''\r\n      },\r\n      productList: [],\r\n      productOriginalList: [],\r\n      pdEditionList: [],\r\n      selectedPd:{},\r\n      selectedProduct: {},\r\n    }\r\n  },\r\n  computed: {},\r\n   created() {\r\n     this.initProductQueryData()\r\n  },\r\n  methods: {\r\n    filterHandler(codetype, value) {\r\n      return this.getCodeName(codetype, value);\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page_productSaleInfo.reload()\r\n    },\r\n    /* 显示发布信息 */\r\n    showReleHis(row, expandedRows){\r\n      var that = this;\r\n      this.auditModulData=[];\r\n      if (expandedRows.length>1) {\r\n        that.expands = []\r\n        if (row) {\r\n          that.expands.push(row);\r\n        }\r\n        this.$refs.auditData.toggleRowExpansion(expandedRows[0]);\r\n      } else {\r\n        that.expands = [];\r\n      }\r\n      this.auditModulData=row.pdoperAuditDetailNotesInfoList;\r\n    },\r\n    /* 审核记录 */\r\n    showAuditDialog(val){\r\n      if (val.auditTimes){\r\n        this.showReleHistory = false;\r\n        this.dialogAuditVisible = true;\r\n        let data = this.buildRequestData({\r\n          pdInfoId : val.id\r\n        });\r\n        getPosPdAuditHis(data).then(res=>{\r\n          this.auditData = res.data;\r\n        });\r\n      }\r\n    },\r\n    initProductQueryData(){\r\n      this.filterProductByNode(this,'2',true)\r\n    },\r\n    selectedDetailTypeChanged(val) {\r\n      val === ''?  this.initProductQueryData() : this.filterProductByCategory(this,val)\r\n    },\r\n    selectedPdCodeChanged(product) {\r\n      this.filterEditionByProduct(this,product)\r\n    },\r\n    chooseOne(row) {\r\n      closeVisitTag()\r\n      this.$router.push({name: '产品销售定义主页', params: row})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-acceptance-info-def\\index.vue?vue&type=style&index=0&id=247b5cd2&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-acceptance-def\\pd-acceptance-info-def\\index.vue","mtime":1609847106913},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnNob3dEaXYgew0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxMDAlOw0KICBtYXJnaW4tdG9wOiAtNDBweDsNCiAgbWFyZ2luLWxlZnQ6IC00MHB4Ow0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGJhY2tncm91bmQ6ICNmZmZmZmYwMDsNCiAgei1pbmRleDogOTk5Ow0KfQ0KDQouaW5wdXQtbmV3LXRhZyB7DQogIHdpZHRoOiA5MHB4Ow0KICBtYXJnaW4tbGVmdDogMTBweDsNCiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAutGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-acceptance-def/pd-acceptance-info-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form :model=\"searchForm1\" :rules=\"rules\" label-width=\"130px\" ref=\"searchForm1\">\r\n      <div>\r\n        <el-row>\r\n          <cus-form-title :label=\"$t('pdtempPdNbInfo.pdCvliDateTitle')\" :first=\"true\"></cus-form-title>\r\n          <cus-table-title :label=\"$t('pdtempPdNbInfo.pdCvliDateTableTitle')\" />\r\n          <el-table\r\n            :data=\"policyEffectiveDateTable\"\r\n            align=\"center\"\r\n            highlight-current-row\r\n            border\r\n            class=\"wraper-table\"\r\n            ref=\"pagePdCvliDate\"\r\n            element-loading-text=\"Loading\"\r\n            @selection-change=\"rowPolicyEffectiveDate\"\r\n            fit\r\n            size=\"mini\"\r\n          >\r\n            <el-table-column\r\n              :label=\"$t('table.select')\"\r\n              align=\"center\"\r\n              type=\"selection\"\r\n              width=\"50px\"\r\n            ></el-table-column>\r\n            <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n              <template v-slot=\"scope\">{{ initTableIndex('pagePdCvliDate', scope.$index) }}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n              prop=\"pdSlChanl\"\r\n              :formatter=\"pdSlChanlFormat\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              :label=\"$t('pdtempPdNbInfo.pdCvliDateMode')\"\r\n              prop=\"pdNbChoVal\"\r\n              :formatter=\"pdCvliDateModeFormat\"\r\n            ></el-table-column>\r\n          </el-table>\r\n          <!-- 分页 -->\r\n          <cus-pagination\r\n            :pageSize=\"5\"\r\n            :params=\"policyEffectiveDateParams\"\r\n            ref=\"pagePdCvliDate\"\r\n            url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n            v-model=\"policyEffectiveDateTable\"\r\n          />\r\n          <br />\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdSlChanl')\" prop=\"pdSaleChanl\">\r\n                <cus-select\r\n                  v-if=\"selectedPolicyEffectiveDate.length == 1 && policyEffectiveDateJson.id\"\r\n                  :codetype=\"'pdSlChanl'\"\r\n                  :disabledCodeArray=\"pdSaleChanlDisabledCodeArray\"\r\n                  v-model=\"update_pdSaleChanl\"\r\n                ></cus-select>\r\n                <cus-multi-select\r\n                  v-else\r\n                  :codetype=\"'pdSlChanl'\"\r\n                  :disabledCodeArray=\"pdSaleChanlDisabledCodeArray\"\r\n                  v-model=\"pdSaleChanl\"\r\n                ></cus-multi-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdCvliDateMode')\" required>\r\n                <cus-select :codetype=\"'renewalEffectiveDate'\" v-model=\"pdCvliDateMode\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\">\r\n            </cus-col>\r\n          </el-row>\r\n        </el-row>\r\n        <el-row style=\"float: right\">\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            @click=\"addCvliDate\"\r\n            v-if=\" selectedPolicyEffectiveDate.length < 2 && !policyEffectiveDateJson.id\"\r\n            icon=\"el-icon-success\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            v-if=\"selectedPolicyEffectiveDate.length == 1 && policyEffectiveDateJson.id\"\r\n            @click=\"addCvliDate\"\r\n            icon=\"el-icon-success\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deletePolicyEffectiveDate\"\r\n            icon=\"el-icon-delete\"\r\n            style=\"margin-right: 5px;margin-left: 5px\"\r\n            type=\"danger\"\r\n            v-if=\"selectedPolicyEffectiveDate.length > 0\"\r\n            :content=\"$t('confirmMessage.delete')\"\r\n          ></cus-popover>\r\n          <el-button dialog-disable=\"disable\"\r\n            size=\"small\"\r\n            @click=\"resetCvliDate\"\r\n            icon=\"el-icon-refresh\"\r\n            type=\"primary\"\r\n          >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n        </el-row>\r\n        <br />\r\n      </div>\r\n      <br />\r\n      <div v-if=\"searchForm2.showFlag\">\r\n        <cus-form-title :label=\"$t('pdtempPdNbInfo.title2')\" :first=\"true\"></cus-form-title>\r\n        <cus-table-title :label=\"$t('pdtempPdNbInfo.title22')\" />\r\n        <el-table\r\n          :data=\"configs2\"\r\n          @row-click=\"selectedChanged2\"\r\n          align=\"center\"\r\n          border\r\n          class=\"wraper-table\"\r\n          element-loading-text=\"Loading\"\r\n          ref=\"page2\"\r\n          fit\r\n          highlight-current-row\r\n          size=\"mini\"\r\n        >\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" width=\"60\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDef2\" @change=\"selectedChanged2Change(scope.row)\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row.pdtempPdRela\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.relaPdRelaItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.relaPdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.relaPdRelaVal')\"\r\n            align=\"center\"\r\n            prop=\"pdRelaVal\"\r\n            :filter-method=\"filterHandler\"\r\n            :filters=\"pdRelaValFilters\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaVal | filter_codeType('pdRelaVal') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-popover\r\n                :content=\"$t('confirmMessage.delete')\"\r\n                @confirm=\"handleDelete2(scope.row.pdtempPdRela)\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n              ></cus-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination\r\n          :pageSize=\"5\"\r\n          :params=\"params2\"\r\n          ref=\"page2\"\r\n          url=\"/pdtemp-pd-nb-info/base/PdtempPdRelaList\"\r\n          v-model=\"configs2\"\r\n        />\r\n        <br />\r\n        <el-form :model=\"searchForm2\" :rules=\"rules\" label-width=\"130px\" ref=\"searchForm2\">\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaItemVal01')\" prop=\"pdRelaItemVal\">\r\n                <el-select\r\n                  @click.native=\"optionClick1\"\r\n                  clearable\r\n                  filterable\r\n                  v-model=\"searchForm2.pdRelaItemVal\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options1\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.relaPdRelaVal')\" prop=\"pdRelaVal\">\r\n                <cus-select\r\n                  :codetype=\"'insuranceRelationship'\"\r\n                  :disabled=\"true\"\r\n                  v-model=\"searchForm2.pdRelaVal\"\r\n                ></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\">\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdIndpRider')\"\r\n                prop=\"pdIndpRider\"\r\n                v-if=\"searchForm2.pdRelaVal == '01'\"\r\n              >\r\n                <el-switch :disabled=\"searchForm2.flag\" v-model=\"searchForm2.pdIndpRider\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"8\">\r\n              <el-form-item label=\"id\" prop=\"Id\" v-if=\"false\">\r\n                <el-input clearable v-model=\"searchForm2.Id\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-form-item>\r\n              <el-row>\r\n                <cus-col :span=\"24\">\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleCreate2('searchForm2')\"\r\n                    icon=\"el-icon-success\"\r\n                    type=\"primary\"\r\n                    v-auth=\"'pdtemppdrela:add'\"\r\n                    v-if=\"!searchForm2.Id\"\r\n                  >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleUpdate2('searchForm2')\"\r\n                    icon=\"el-icon-success\"\r\n                    type=\"primary\"\r\n                    v-auth=\"'pdtemppdrela:update'\"\r\n                    v-if=\"searchForm2.Id\"\r\n                  >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"resetForm2Copy\"\r\n                    icon=\"el-icon-refresh\"\r\n                    type=\"primary\"\r\n                  >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n                </cus-col>\r\n              </el-row>\r\n            </el-form-item>\r\n          </el-row>\r\n        </el-form>\r\n        <!--搭配险种弹窗-->\r\n        <el-dialog\r\n          append-to-body\r\n          :show-close=\"false\"\r\n          :close-on-click-modal=\"false\"\r\n          v-if=\"searchForm2.detailsShow\"\r\n          width=\"80%\"\r\n          :visible.sync=\"searchForm2.detailsShow\"\r\n          center\r\n          v-dialog-drag\r\n        >\r\n          <cus-page-title-back :label=\"$t('pdtempPdNbInfo.pdTitele')\" :isDialog=\"true\" @backTo=\"closeDialog\"></cus-page-title-back>\r\n          <el-form label-width=\"auto\">\r\n            <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                  <cus-select\r\n                    :codetype=\"'ProductCategory'\"\r\n                    clearable\r\n                    @change=\"selectedDetailTypeChanged\"\r\n                    filterable\r\n                    v-model=\"gridParams.eq_pdDetailType\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                  <el-select\r\n                    @change=\"selectedPdCodeChanged\"\r\n                    clearable\r\n                    filterable\r\n                    v-model=\"gridParams.eq_pdCode\"\r\n                  >\r\n                    <el-option\r\n                      :key=\"product.id\"\r\n                      :label=\"product.pdCode+':'+product.pdName\"\r\n                      :value=\"product.pdCode\"\r\n                      v-for=\"product in productOptionList\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                  <el-select clearable filterable v-model=\"gridParams.eq_pdEdition\">\r\n                    <el-option\r\n                      :key=\"edition\"\r\n                      :label=\"edition\"\r\n                      :value=\"edition\"\r\n                      v-for=\"edition in editionOptionList\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"6\">\r\n                <cus-condition\r\n                  :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                  @show=\"showButton=!showButton\"\r\n                >\r\n                  <el-button dialog-disable=\"disable\"\r\n                    size=\"small\"\r\n                    @click=\"handleSearch2\"\r\n                    icon=\"el-icon-search\"\r\n                    type=\"primary\"\r\n                    v-waves\r\n                  >{{$t('table.search')}}</el-button>\r\n                </cus-condition>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdCode')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdCode\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdName')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdName\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"7\">\r\n                <el-form-item :label=\"$t('i18nView.pdInfoId')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdInfoId\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <div v-if=\"showButton\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductDesignType'\"\r\n                      clearable\r\n                      v-model=\"gridParams.designType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                    <cus-select\r\n                      :codetype=\"'principalRiskFlag'\"\r\n                      clearable\r\n                      v-model=\"gridParams.pdMainSubFlag\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                    <el-date-picker\r\n                      v-model=\"gridParams.pdOnSale\"\r\n                      type=\"daterange\"\r\n                      align=\"right\"\r\n                      unlink-panels\r\n                      :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                      :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                      :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                    >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\"></cus-col>\r\n              </el-row>\r\n            </div>\r\n          </el-form>\r\n          <cus-table-title :label=\"$t('pdtempPdNbInfo.product')\" />\r\n          <el-table\r\n            :data=\"gridData\"\r\n            ref=\"gridPage\"\r\n            @row-click=\"gridSelectedChanged1\"\r\n            align=\"center\"\r\n            border\r\n            element-loading-text=\"Loading\"\r\n            fit\r\n            highlight-current-row\r\n            size=\"mini\"\r\n          >\r\n            <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"50px\">\r\n              <template slot-scope=\"scope\">\r\n                <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef1\">\r\n                  <span class=\"el-radio__label\"></span>\r\n                </el-radio>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdInfo')\" dialog-disable=\"disable\">\r\n                  <i class=\"el-icon-d-arrow-right\"></i>\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n            <el-table-column :label=\"$t('customComponents.pdEdition')\" align=\"center\" prop=\"pdEdition\"></el-table-column>\r\n          </el-table>\r\n          <br />\r\n          <!-- 分页 -->\r\n          <cus-pagination\r\n            :autoBuild=\"false\"\r\n            :pageSize=\"10\"\r\n            :params=\"gridParams\"\r\n            ref=\"gridPage\"\r\n            url=\"/pdtemp-pd-nb-info/base/PdtempPdInfoList\"\r\n            v-model=\"gridData\"\r\n          />\r\n        </el-dialog>\r\n      </div>\r\n      <div v-if=\"searchForm3.showFlag\" style=\"margin: 0 21px 0 1px\">\r\n        <cus-form-title :label=\"$t('pdtempPdNbInfo.title3')\" :first=\"true\"></cus-form-title>\r\n        <cus-table-title :label=\"$t('pdtempPdNbInfo.title33')\" />\r\n        <el-table\r\n          :data=\"configs3\"\r\n          ref=\"configs3\"\r\n          @row-click=\"selectedChanged3\"\r\n          align=\"center\"\r\n          border\r\n          class=\"wraper-table\"\r\n          element-loading-text=\"Loading\"\r\n          fit\r\n          highlight-current-row\r\n          size=\"mini\"\r\n        >\r\n          <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDef3\" @change=\"selectedPdNbINfoChanged(scope.row)\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row.pdtempPdRela\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.exemptionNum')\"\r\n            align=\"center\"\r\n          >{{ $t(this.product.pdCode) }}</el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaCate')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaCate\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaCate | filter_codeType('pdRelaCate') }}</template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdItemName')\"\r\n            align=\"center\"\r\n            prop=\"pdItemName\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaVal\"\r\n          >\r\n            <template\r\n              v-slot=\"scope\"\r\n            >{{ scope.row.pdtempPdRela.pdRelaVal | filter_codeType('pdexptscptype') }}</template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemVal')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemVal\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemName')\"\r\n            align=\"center\"\r\n            prop=\"pdRelaItemName\"\r\n            width=\"180px\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdNbInfo.pdRelaItemId')\"\r\n            align=\"center\"\r\n            prop=\"pdtempPdRela.pdRelaItemId\"\r\n          ></el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-popover\r\n                :content=\"$t('confirmMessage.delete')\"\r\n                @confirm=\"handleDelete3(scope.row.pdtempPdRela)\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n              ></cus-popover>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination\r\n          :pageSize=\"5\"\r\n          :params=\"params3\"\r\n          ref=\"page3\"\r\n          url=\"/pdtemp-pd-nb-info/base/pdtempPdRelaList2\"\r\n          v-model=\"configs3\"\r\n        />\r\n        <br />\r\n        <el-form\r\n          :model=\"searchForm3\"\r\n          :rules=\"rules\"\r\n          label-width=\"130px\"\r\n          ref=\"searchForm3\"\r\n          style=\"width:98%;\"\r\n        >\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaCate')\" prop=\"pdRelaCate\">\r\n                <cus-radio\r\n                  :codetype=\"'exemptionType'\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                  v-model=\"searchForm3.pdRelaCate\"\r\n                  :changeMethod=\"ChangeR\"\r\n                ></cus-radio>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdItemVal1')\"\r\n                v-if=\"searchForm3.pdRelaCate=='ExemptProg'\"\r\n                :rules=\"this.searchForm3.pdRelaCate != ''?rules.pdItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdItemVal\"\r\n              >\r\n                <el-select clearable filterable v-model=\"searchForm3.pdItemVal\">\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options3\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdItemVal2')\"\r\n                v-if=\"searchForm3.pdRelaCate==='ExemptBnft'\"\r\n                :rules=\"this.searchForm3.pdRelaCate != ''?rules.pdItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdItemVal\"\r\n              >\r\n                <el-select clearable filterable v-model=\"searchForm3.pdItemVal\">\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options3\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"6\"></cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"9\">\r\n              <el-form-item :label=\"$t('pdtempPdNbInfo.pdRelaVal')\" prop=\"pdRelaVal\">\r\n                <cus-radio\r\n                  :codetype=\"'pdexptscptype'\"\r\n                  v-model=\"searchForm3.pdRelaVal\"\r\n                  :changeMethod=\"ChangeR2\"\r\n                ></cus-radio>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col :span=\"9\">\r\n            </cus-col>\r\n            <cus-col :span=\"6\"></cus-col>\r\n          </el-row>\r\n          <el-row>\r\n           <cus-col :span=\"9\">\r\n            <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal1')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n                :rules=\"this.searchForm3.pdRelaVal != ''?rules.pdRelaItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdRelaItemVal\"\r\n              >\r\n                <el-select\r\n                  @click.native=\"optionClick2\"\r\n                  clearable\r\n                  filterable\r\n                  v-model=\"searchForm3.pdRelaItemVal\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options4\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              </cus-col>\r\n            <cus-col :span=\"9\">\r\n               <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal11')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n              >\r\n              <el-input\r\n                clearable\r\n                :disabled=\"'disabled'\"\r\n                v-model=\"searchForm3.pdRelaItemVal11\"\r\n              />\r\n              </el-form-item>\r\n              <el-form-item\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaItemVal11')\"\r\n                v-if=\"this.searchForm3.pdRelaVal==='ExemptProd'\"\r\n                :rules=\"this.searchForm3.pdRelaVal != ''?rules.pdRelaItemVal: [{required: false, trigger: 'blur'}]\"\r\n                prop=\"pdRelaItemVal\"\r\n              >\r\n                <el-select\r\n                  @click.native=\"optionClick2\"\r\n                  clearable\r\n                  filterable\r\n                  :disabled=\"this.searchForm3.pdRelaVal==='ExemptProg'\"\r\n                  v-model=\"searchForm3.pdRelaItemVal\"\r\n                  :placeholder=\"$t('form.please_select')\"\r\n                >\r\n                  <el-option\r\n                    :key=\"opt.value\"\r\n                    :label=\"opt.key+':'+opt.value\"\r\n                    :value=\"opt.key\"\r\n                    v-for=\"opt in options4\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n           </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"8\">\r\n              <el-form-item label=\"id\" prop=\"Id\" v-if=\"false\">\r\n                <el-input clearable v-model=\"searchForm2.Id\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n          <el-row>\r\n            <cus-col :span=\"24\">\r\n              <el-form-item style=\"float: right\">\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"handleCreate3('searchForm3')\"\r\n                  icon=\"el-icon-success\"\r\n                  type=\"primary\"\r\n                  v-auth=\"'pdtemppdrela:add'\"\r\n                  v-if=\"!searchForm3.Id\"\r\n                >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"handleUpdate3('searchForm3')\"\r\n                  icon=\"el-icon-success\"\r\n                  type=\"primary\"\r\n                  v-auth=\"'pdtemppdrela:update'\"\r\n                  v-if=\"searchForm3.Id\"\r\n                >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n                <el-button dialog-disable=\"disable\"\r\n                  size=\"small\"\r\n                  @click=\"resetForm3Copy\"\r\n                  icon=\"el-icon-refresh\"\r\n                  type=\"primary\"\r\n                >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </el-row>\r\n        </el-form>\r\n        <el-dialog\r\n          append-to-body\r\n          :close-on-click-modal=\"false\"\r\n          v-if=\"searchForm3.showFlag\"\r\n          width=\"80%\"\r\n          :show-close=\"false\"\r\n          :visible.sync=\"searchForm3.detailsShow\"\r\n          center\r\n          v-dialog-drag\r\n        >\r\n          <div>\r\n            <el-page-header @back=\"exemptBack()\" :content=\"exemptionContent\"></el-page-header>\r\n            <el-divider class=\"titledivider\"></el-divider>\r\n          </div>\r\n          <div v-show=\"searchForm3.pdRelaVal != 'ExemptProg'\">\r\n            <el-form label-width=\"auto\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductCategory'\"\r\n                      clearable\r\n                      @change=\"selectedDetailTypeChanged\"\r\n                      filterable\r\n                      v-model=\"gridParams2.eq_pdDetailType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                    <el-select\r\n                      @change=\"selectedPdCodeChanged\"\r\n                      clearable\r\n                      filterable\r\n                      v-model=\"gridParams2.eq_pdCode\"\r\n                    >\r\n                      <el-option\r\n                        :key=\"product.id\"\r\n                        :label=\"product.pdCode+':'+product.pdName\"\r\n                        :value=\"product.pdCode\"\r\n                        v-for=\"product in productOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                    <el-select clearable filterable v-model=\"gridParams2.eq_pdEdition\">\r\n                      <el-option\r\n                        :key=\"edition\"\r\n                        :label=\"edition\"\r\n                        :value=\"edition\"\r\n                        v-for=\"edition in editionOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <cus-condition\r\n                    :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                    @show=\"showButton2=!showButton2\"\r\n                  >\r\n                    <el-button dialog-disable=\"disable\"\r\n                      size=\"small\"\r\n                      @click=\"handleSearch3\"\r\n                      icon=\"el-icon-search\"\r\n                      type=\"primary\"\r\n                      v-waves\r\n                    >{{$t('table.search')}}</el-button>\r\n                  </cus-condition>\r\n                </cus-col>\r\n              </el-row>\r\n              <div v-show=\"showButton2\">\r\n                <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                      <cus-select\r\n                        :codetype=\"'ProductDesignType'\"\r\n                        clearable\r\n                        v-model=\"gridParams2.designType\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                      <cus-select\r\n                        :codetype=\"'principalRiskFlag'\"\r\n                        clearable\r\n                        v-model=\"gridParams2.pdMainSubFlag\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                      <el-date-picker\r\n                        v-model=\"gridParams2.pdOnSale\"\r\n                        type=\"daterange\"\r\n                        align=\"right\"\r\n                        unlink-panels\r\n                        :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                        :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                        :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                      >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\"></cus-col>\r\n                </el-row>\r\n              </div>\r\n            </el-form>\r\n            <!--产品表格-->\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.product')\" />\r\n            <el-table\r\n              :data=\"gridData2\"\r\n              ref=\"gridPage2\"\r\n              @row-click=\"gridSelectedChanged2\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"80px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef2\">\r\n                    <span class=\"el-radio__label\"></span>\r\n                  </el-radio>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdInfo')\" dialog-disable=\"disable\">\r\n                    <i class=\"el-icon-d-arrow-right\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n             <!-- <el-table-column\r\n                align=\"center\"\r\n               :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n              >{{ this.searchForm3.pdRelaVal | filter_codeType('pdexptscptype') }}</el-table-column> -->\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdName')\" prop=\"pdName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <cus-pagination\r\n              :autoBuild=\"false\"\r\n              :pageSize=\"10\"\r\n              :params=\"gridParams2\"\r\n              ref=\"gridPage2\"\r\n              url=\"/pdtemp-pd-nb-info/base/PdtempPdInfoList\"\r\n              v-model=\"gridData2\"\r\n            />\r\n          </div>\r\n\r\n          <div v-show=\"searchForm3.pdRelaVal === 'ExemptProg'\">\r\n            <!--方案表格-->\r\n            <el-form label-width=\"auto\">\r\n              <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdDetailType')\">\r\n                    <cus-select\r\n                      :codetype=\"'ProductCategory'\"\r\n                      clearable\r\n                      @change=\"selectedDetailTypeChanged\"\r\n                      filterable\r\n                      v-model=\"gridParams3.eq_pdDetailType\"\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('pdtempPdNbInfo.pdInfoName')\">\r\n                    <el-select\r\n                      @change=\"selectedPdCodeChanged\"\r\n                      clearable\r\n                      filterable\r\n                      v-model=\"gridParams3.eq_pdCode\"\r\n                    >\r\n                      <el-option\r\n                        :key=\"product.id\"\r\n                        :label=\"product.pdCode+':'+product.pdName\"\r\n                        :value=\"product.pdCode\"\r\n                        v-for=\"product in productOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n                    <el-select clearable filterable v-model=\"gridParams3.eq_pdEdition\">\r\n                      <el-option\r\n                        :key=\"edition\"\r\n                        :label=\"edition\"\r\n                        :value=\"edition\"\r\n                        v-for=\"edition in editionOptionList\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col :span=\"6\">\r\n                  <cus-condition\r\n                    :label=\"$t('pdtempPdNbInfo.moreCondition')\"\r\n                    @show=\"showButton3=!showButton3\"\r\n                  >\r\n                    <el-button dialog-disable=\"disable\"\r\n                      size=\"small\"\r\n                      @click=\"handleSearch4\"\r\n                      icon=\"el-icon-search\"\r\n                      type=\"primary\"\r\n                      v-waves\r\n                    >{{$t('table.search')}}</el-button>\r\n                  </cus-condition>\r\n                </cus-col>\r\n              </el-row>\r\n              <div v-show=\"showButton3\">\r\n                <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.designType')\" prop=\"defType\">\r\n                      <cus-select\r\n                        :codetype=\"'ProductDesignType'\"\r\n                        clearable\r\n                        v-model=\"gridParams3.eq_pdDesType\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdMainSubFlag')\">\r\n                      <cus-select\r\n                        :codetype=\"'principalRiskFlag'\"\r\n                        clearable\r\n                        v-model=\"gridParams3.eq_pdMainSubFlag\"\r\n                      ></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\">\r\n                    <el-form-item :label=\"$t('pdtempPdNbInfo.pdOnSale')\">\r\n                      <el-date-picker\r\n                        v-model=\"gridParams3.eq_pdOnSale\"\r\n                        type=\"daterange\"\r\n                        align=\"right\"\r\n                        unlink-panels\r\n                        :range-separator=\"$t('pdtempPdNbInfo.range')\"\r\n                        :start-placeholder=\"$t('pdtempPdNbInfo.startPlaceholder')\"\r\n                        :end-placeholder=\"$t('pdtempPdNbInfo.endPlaceholder')\"\r\n                      >:picker-options=\"pickerOptions\"></el-date-picker>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col :span=\"6\"></cus-col>\r\n                </el-row>\r\n              </div>\r\n            </el-form>\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.productSolution')\" />\r\n            <el-table\r\n              :data=\"gridData3\"\r\n              @row-click=\"gridSelectedChanged4\"\r\n              align=\"center\"\r\n              ref=\"gridPage3\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.selection')\" align=\"center\" width=\"80px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio :label=\"scope.row.id\" v-model=\"gridSelectedDef3\">\r\n                    <span class=\"el-radio__label\"></span>\r\n                  </el-radio>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdNbInfo.details')\" width=\"75px\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"text\" @click=\"getPdDesignPage(scope.row,'pdProg')\" dialog-disable=\"disable\">\r\n                    <i class=\"el-icon-d-arrow-right\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n              <!--<el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdRelaVal')\"\r\n              >{{ this.searchForm3.pdRelaVal | filter_codeType('pdexptscptype') }}</el-table-column> -->\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdProgCode')\" prop=\"pdProgCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdProgName')\" prop=\"pdProgName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.pdName')\" prop=\"pdName\"></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.pdEdition')\" prop=\"pdEdition\"></el-table-column>\r\n            </el-table>\r\n            <br />\r\n            <!-- 分页 -->\r\n            <cus-pagination\r\n              :autoBuild=\"false\"\r\n              :pageSize=\"10\"\r\n              :params=\"gridParams3\"\r\n              ref=\"gridPage3\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdProgList\"\r\n              v-model=\"gridData3\"\r\n            />\r\n          </div>\r\n          <el-form>\r\n            <el-row>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdCode')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdCode\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdName')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdName\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"8\">\r\n                <el-form-item :label=\"$t('i18nView.pdInfoId')\" v-if=\"false\">\r\n                  <el-input clearable v-model=\"searchForm2.pdInfoId\"></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-form>\r\n        </el-dialog>\r\n      </div>\r\n\r\n      <cus-form-title :label=\"$t('pdtempPdNbInfo.title4')\"></cus-form-title>\r\n      <cus-table-title :label=\"$t('pdtempPdNbInfo.title44')\" />\r\n\r\n      <el-table\r\n        :data=\"configs4\"\r\n        size=\"mini\"\r\n        fit\r\n        element-loading-text=\"Loading\"\r\n        @row-click=\"handleUpdate\"\r\n        border\r\n        highlight-current-row\r\n        align=\"center\"\r\n        class=\"wraper-table\"\r\n      >\r\n        >\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectRow\">\r\n              <span>\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </span>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" prop=\"index\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">{{ initTableIndex('page4', scope.$index) }}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          :label=\"$t('pdtempPdNbInfo.labelAttribute')\"\r\n          prop=\"pdLabelAttribute\"\r\n          align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.pdLabelAttribute | filterLabelAttr }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelType')\" prop=\"pdLabelType\" align=\"center\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdLabelType | filterLabelType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelContents')\" align=\"center\" width=\"140px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover v-if=\"scope.row.labelContents.length > 1\" placement=\"top\" trigger=\"hover\">\r\n              <el-tag v-for=\"item in scope.row.labelContents\" size=\"medium\">{{ item }}</el-tag>\r\n              <div slot=\"reference\" class=\"name-wrapper\">\r\n                <el-tag size=\"medium\">{{ scope.row.labelContents[0] }}...</el-tag>\r\n              </div>\r\n            </el-popover>\r\n            <el-tag\r\n              v-if=\"scope.row.labelContents.length === 1\"\r\n              size=\"medium\"\r\n            >{{ scope.row.labelContents[0] }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column :label=\"$t('pdtempPdNbInfo.labelDesc')\" prop=\"pdLabelDesc\" align=\"center\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" :label=\"$t('table.actions')\" width=\"120px\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn v-auth=\"'pdtemppdlabeldef:delete'\" @ok=\"handleDelete(scope.row.id)\" />\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <cus-pagination\r\n        ref=\"page4\"\r\n        url=\"/pdtemp-pd-nb-info/base/pdtempPdLabelDefList\"\r\n        :pageSize=\"5\"\r\n        :params=\"params4\"\r\n        v-model=\"configs4\"\r\n      />\r\n      <br />\r\n      <el-form ref=\"formData\" :model=\"formData\" :rules=\"rules\" label-width=\"130px\">\r\n        <el-row>\r\n          <cus-col :span=\"9\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelAttribute')\" prop=\"labelAttribute\">\r\n              <cus-select\r\n                v-model=\"formData.pdLabelAttribute\"\r\n                :codetype=\"'label-attr'\"\r\n                :disabled=\"labelDefDisabled\"\r\n                @change=\"attributeChange($event)\"\r\n              ></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"9\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelType')\" prop=\"labelType\">\r\n              <cus-select\r\n                v-model=\"formData.pdLabelType\"\r\n                :codetype=\"'label-type'\"\r\n                :disabled=\"labelDefDisabled\"\r\n                @change=\"typeChange($event)\"\r\n                :filter=\"attriFilter\"\r\n              ></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-form-item :label=\"$t('pdtempPdNbInfo.labelContents')\">\r\n            <el-tag\r\n              style=\"margin-left: 1px;margin-right: 1px\"\r\n              :key=\"tag\"\r\n              v-for=\"tag in labelContents\"\r\n              closable\r\n              :disable-transitions=\"false\"\r\n              @close=\"handleClose(tag)\"\r\n            >{{ tag }}</el-tag>\r\n\r\n            <el-input\r\n              class=\"input-new-tag\"\r\n              v-if=\"inputVisible\"\r\n              v-model=\"inputValue\"\r\n              ref=\"saveTagInput\"\r\n              size=\"small\"\r\n              :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n              @keyup.enter.native=\"handleInputConfirm\"\r\n              @blur=\"handleInputConfirm\"\r\n            ></el-input>\r\n            <el-button dialog-disable=\"disable\"\r\n              v-else\r\n              class=\"button-new-tag\"\r\n              :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n              icon=\"el-icon-plus\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"showInput\"\r\n            >{{ $t('pdtempPdNbInfo.newTag') }}</el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n        <el-row>\r\n          <cus-col :span=\"18\">\r\n            <el-form-item :label=\"$t('pdtempPdNbInfo.labelDesc')\">\r\n              <el-input\r\n                v-model=\"formData.pdLabelDesc\"\r\n                :disabled=\"(!formData.pdLabelType || !formData.pdLabelAttribute) ? 'disabled':false\"\r\n                :autosize=\"{ minRows: 5, maxRows:5}\"\r\n                maxlength=\"100\"\r\n                :placeholder=\"$t('form.please_enter')\"\r\n                show-word-limit\r\n                type=\"textarea\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n\r\n        <el-form-item align=\"right\">\r\n          <el-button size=\"small\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                     v-auth=\"'pdtemppdlabeldef:initLabel'\"\r\n                     @click=\"initPdtempLabelDef\"\r\n                     type=\"primary\" v-if=\"this.configs4.length < 1\">\r\n            {{ $t('pdtempPdNbInfo.initLabel') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            v-if=\"!updateFlag\"\r\n            v-auth=\"'pdtemppdlabeldef:add'\"\r\n            icon=\"el-icon-success\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handleCreate()\"\r\n          >{{ $t('table.save') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            v-if=\"updateFlag\"\r\n            v-auth=\"'pdtemppdlabeldef:update'\"\r\n            icon=\"el-icon-success\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handleCreate()\"\r\n          >{{ $t('table.update') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\"\r\n            icon=\"el-icon-refresh\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"clearLabelDef\"\r\n          >{{ $t('table.refresh') }}\r\n          </el-button>\r\n        </el-form-item>\r\n\r\n        <div>\r\n          <el-row>\r\n            <cus-form-title :label=\"$t('pdtempPdNbInfo.demandQuestionnaire')\" :first=\"true\"></cus-form-title>\r\n            <cus-table-title :label=\"$t('pdtempPdNbInfo.pdDemandQuestionnaireEdition')\" />\r\n            <el-table\r\n              :data=\"questEditTable\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              ref=\"pageQuestEdit\"\r\n              element-loading-text=\"Loading\"\r\n              @selection-change=\"rowClickQuestEdit\"\r\n              fit\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column\r\n                :label=\"$t('table.select')\"\r\n                align=\"center\"\r\n                type=\"selection\"\r\n                width=\"50px\"\r\n              ></el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n                <template v-slot=\"scope\">{{ initTableIndex('pageQuestEdit', scope.$index) }}</template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                prop=\"pdSlChanl\"\r\n                :formatter=\"pdSlChanlFormat\"\r\n              ></el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.DemandQuestionnaireEdition')\"\r\n                prop=\"pdNbChoVal\"\r\n                :formatter=\"questEditFormat\"\r\n              ></el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('pdtempPdNbInfo.demandQuestionnaireDes')\" prop=\"pdNbChoDescribe\"></el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <cus-pagination\r\n              :pageSize=\"5\"\r\n              :params=\"questEditParams\"\r\n              ref=\"pageQuestEdit\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n              v-model=\"questEditTable\"\r\n            />\r\n            <br />\r\n            <el-row>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item\r\n                  :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                  prop=\"update_questEdit_pdSaleChanl\"\r\n                >\r\n                  <cus-select\r\n                    v-if=\"selectedQuestEdit.length == 1\"\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"questEditArray\"\r\n                    v-model=\"update_questEdit_pdSaleChanl\"\r\n                  ></cus-select>\r\n                  <cus-multi-select\r\n                    v-else\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"questEditArray\"\r\n                    v-model=\"questEdit_pdSaleChanl\"\r\n                  ></cus-multi-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item    :label=\"$t('pdtempPdNbInfo.DemandQuestionnaireEdition')\">\r\n                  <cus-multi-select\r\n                    :codetype=\"'DemandQuestionnaireSection'\"\r\n                    v-model=\"pdQuestEdit\"\r\n                    v-if=\"!questEditJson.id\"\r\n                  ></cus-multi-select>\r\n                  <cus-select\r\n                    :codetype=\"'DemandQuestionnaireSection'\"\r\n                    v-model=\"pdQuestUpdate\"\r\n                    v-if=\"questEditJson.id\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row>\r\n              <cus-col :span=\"18\">\r\n                <el-form-item  :label=\"$t('pdtempPdNbInfo.demandQuestionnaireDes')\">\r\n                  <el-input\r\n                    type=\"textarea\"\r\n                    :autosize=\"{ minRows: 4, maxRows: 25}\"\r\n                    :placeholder=\"$t('pdtempPdNbInfo.content')\"\r\n                    maxlength=\"100\"\r\n                    show-word-limit\r\n                    v-model=\"pdQuestDescribe\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addQuestEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"!questEditJson.id && selectedQuestEdit.length < 2 \"\r\n            >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addQuestEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"questEditJson.id && selectedQuestEdit.length == 1 \"\r\n            >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n            <cus-popover\r\n              :buttonText=\"$t('table.delete')\"\r\n              @confirm=\"deleteQuestEdit\"\r\n              icon=\"el-icon-delete\"\r\n              style=\"margin-right: 5px;margin-left: 5px\"\r\n              type=\"danger\"\r\n              v-if=\"selectedQuestEdit.length > 0\"\r\n              :content=\"$t('confirmMessage.delete')\"\r\n            ></cus-popover>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"resetQuestEdit\"\r\n              icon=\"el-icon-refresh\"\r\n              type=\"primary\"\r\n            >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n          </el-row>\r\n          <br />\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <el-row>\r\n            <cus-form-title   :placeholder=\"$t('pdtempPdNbInfo.content')\" :label=\" $t('pdtempPdNbInfo.informEditionDefinition')\" :first=\"true\"></cus-form-title>\r\n            <cus-table-title  :label=\" $t('pdtempPdNbInfo.pdInformEditionDefinition')\"  />\r\n            <el-table\r\n              :data=\"impartEditTable\"\r\n              align=\"center\"\r\n              border\r\n              class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              @selection-change=\"rowClickImpartEdit\"\r\n              fit\r\n              size=\"mini\"\r\n            >\r\n              <el-table-column\r\n                :label=\"$t('table.select')\"\r\n                align=\"center\"\r\n                type=\"selection\"\r\n                width=\"50px\"\r\n              ></el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\">\r\n                <template v-slot=\"scope\">{{ initTableIndex('pageImpartEdit', scope.$index) }}</template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                prop=\"pdSlChanl\"\r\n                :formatter=\"pdSlChanlFormat\"\r\n              ></el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                :label=\" $t('pdtempPdNbInfo.informEdition')\"\r\n                prop=\"pdNbChoVal\"\r\n                :formatter=\"pdImpartFormat\"\r\n              ></el-table-column>\r\n              <el-table-column align=\"center\" :label=\" $t('pdtempPdNbInfo.informEditionDes')\" prop=\"pdNbChoDescribe\"></el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <cus-pagination\r\n              :pageSize=\"5\"\r\n              :params=\"impartEditParams\"\r\n              ref=\"pageImpartEdit\"\r\n              url=\"/pdtemp-pd-nb-info/base/pdtempPdNbInfoList\"\r\n              v-model=\"impartEditTable\"\r\n            />\r\n            <br />\r\n            <el-row>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item\r\n                  :label=\"$t('pdtempPdNbInfo.pdSlChanl')\"\r\n                  prop=\"update_impartEdit_pdSaleChanl\"\r\n                >\r\n                  <cus-select\r\n                    v-if=\"selectedImpartEdit.length == 1\"\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"impartEditArray\"\r\n                    v-model=\"update_impartEdit_pdSaleChanl\"\r\n                  ></cus-select>\r\n                  <cus-multi-select\r\n                    v-else\r\n                    :codetype=\"'pdSlChanl'\"\r\n                    :disabledCodeArray=\"impartEditArray\"\r\n                    v-model=\"impartEdit_pdSaleChanl\"\r\n                  ></cus-multi-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <cus-col :span=\"9\">\r\n                <el-form-item :label=\" $t('pdtempPdNbInfo.informEdition')\">\r\n                  <cus-multi-select\r\n                    :codetype=\"'InformVersion'\"\r\n                    v-model=\"pdImpartEdit\"\r\n                    v-if=\"!impartEditJson.id\"\r\n                  ></cus-multi-select>\r\n                  <cus-select\r\n                    :codetype=\"'InformVersion'\"\r\n                    v-model=\"pdImpartUpdate\"\r\n                    v-if=\"impartEditJson.id\"\r\n                  ></cus-select>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n            <el-row>\r\n              <cus-col :span=\"18\">\r\n                <el-form-item :label=\" $t('pdtempPdNbInfo.informEditionDes')\">\r\n                  <el-input\r\n                    type=\"textarea\"\r\n                    :autosize=\"{ minRows: 5, maxRows: 5}\"\r\n                    :placeholder=\"$t('pdtempPdNbInfo.content')\"\r\n                    show-word-limit\r\n                    maxlength=\"100\"\r\n                    v-model=\"pdImpartDescribe\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addImpartEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"!impartEditJson.id && selectedImpartEdit.length < 2\"\r\n            >{{ $t('pdtempPdNbInfo.save') }}</el-button>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"addImpartEdit\"\r\n              icon=\"el-icon-success\"\r\n              type=\"primary\"\r\n              v-if=\"impartEditJson.id && selectedImpartEdit.length == 1\"\r\n            >{{ $t('pdtempPdNbInfo.update') }}</el-button>\r\n            <cus-popover\r\n              :buttonText=\"$t('table.delete')\"\r\n              @confirm=\"deleteImpartEdit\"\r\n              icon=\"el-icon-delete\"\r\n              style=\"margin-right: 5px;margin-left: 5px\"\r\n              type=\"danger\"\r\n              v-if=\"selectedImpartEdit.length > 0\"\r\n              :content=\"$t('confirmMessage.delete')\"\r\n            ></cus-popover>\r\n            <el-button dialog-disable=\"disable\"\r\n              size=\"small\"\r\n              @click=\"resetImpartEdit\"\r\n              icon=\"el-icon-refresh\"\r\n              type=\"primary\"\r\n            >{{ $t('pdtempPdNbInfo.clear') }}</el-button>\r\n          </el-row>\r\n          <br />\r\n        </div>\r\n      </el-form>\r\n      <br />\r\n      <br />\r\n    </el-form>\r\n    <cus-page-dialog\r\n      :dialogShow=\"dialogShow\"\r\n      :dialogTitle=\"dialogTitle\"\r\n      :component=\"dialogComponent\"\r\n      @close=\"closePageDialog\"\r\n    ></cus-page-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  addPdtempPdNbInfo,\r\n  addAllPdtempPdNbInfo,\r\n  updatePdtempPdNbInfo,\r\n  addPdtempPdRela,\r\n  deletePdtempPdNbInfo,\r\n  deletePdtempPdRela,\r\n  pdtempPdBnftQuery,\r\n  pdtempPdClmBnftQuery,\r\n  pdtempPdClsLabList,\r\n  programmeQuery,\r\n  selectAllInfo,\r\n  updatePdtempPdRela,\r\n  initializationShow,\r\n  getOneSelect,\r\n  deletePdtempLabelDef,\r\n  updatePdtempPdLabelDef,\r\n  addPdtempPdLabelDef,\r\n  attributeChange,\r\n  typeChange,\r\n  deletePdtempPdNbInfoList,\r\n  initPdtempLabelDef\r\n} from \"@/api/basicinfo/pdtemppdnbinfo\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nimport operationbutton from \"@/views/basicinfo/operationend/index\";\r\nimport { findAllProductByPdDetailType } from \"@/api/basicinfo/pdclaimverification\";\r\n\r\nlet _this;\r\nexport default {\r\n  name: \"pdtempPdNbInfo\",\r\n  components: { operationbutton },\r\n  filters: {\r\n    filter_codeType(code, value) {\r\n      if (value === \"pdCvliDateMode\") {\r\n        return _this.getCodeName(\"renewalEffectiveDate\", code);\r\n      } else if (value == \"pdQuestEdit\") {\r\n        return _this.getCodeName(\"DemandQuestionnaireSection\", code);\r\n      } else if (value == \"pdImpartEdit\") {\r\n        return _this.getCodeName(\"InformVersion\", code);\r\n      } else if (value == \"pdRelaVal\") {\r\n        return _this.getCodeName(\"insuranceRelationship\", code);\r\n      } else if (value == \"pdRelaCate\") {\r\n        //豁免类型\r\n        return _this.getCodeName(\"exemptionType\", code);\r\n      } else if (value == \"pdexptscptype\") {\r\n        //豁免类型\r\n        return _this.getCodeName(\"pdexptscptype\", code);\r\n      }\r\n    },\r\n    filterLabelAttr(code) {\r\n      return _this.getCodeName(\"label-attr\", code);\r\n    },\r\n    filterLabelType(code) {\r\n      return _this.getCodeName(\"label-type\", code);\r\n    }\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      varShow: \"1\",\r\n      dialogShow: false,\r\n      dialogTitle: \"\",\r\n      dialogComponent: \"\",\r\n      pdInfo: {},\r\n      productOptionList: [],\r\n      editionOptionList: [],\r\n      type: \"productCoverFlag\",\r\n      pdProcessId: \"\",\r\n      showPageFlag: 0,\r\n      showButton: false,\r\n      showButton2: false,\r\n      showButton3: false,\r\n      showTable:false,\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        pdCode: \"\",\r\n        pdEdition: \"\",\r\n        pdVerId: undefined,\r\n        pdSalechnl: \"\",\r\n        pdName: \"\",\r\n        pdShortname: \"\",\r\n        pdEnName: \"\",\r\n        pdShortEnName: \"\",\r\n        operator: \"\",\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      pdSaleChanl: [\"00\"],\r\n      update_pdSaleChanl: \"\",\r\n      pdSaleChanlDisabledCodeArray: [],\r\n      questEdit_pdSaleChanl: [\"00\"],\r\n      questEditArray: [],\r\n      update_questEdit_pdSaleChanl: \"\",\r\n      selectedQuestEdit: [],\r\n      questEditDataArray: [],\r\n      //产品承保\r\n      searchForm1: {\r\n        questEditId: \"\",\r\n        impartEditId: \"\",\r\n        pdslChanl: \"\",\r\n        id: \"\",\r\n        pdVerId: \"\",\r\n        operator: \"\",\r\n        pdType: \"\",\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdName: \"\",\r\n        pdNbChoType: \"\",\r\n        pdNbChoVal: \"\"\r\n      },\r\n      selectedImpartEdit: [],\r\n      pdCvliDateMode: \"1\", //保单生效日计算方式\r\n      pdQuestEdit: [], //需求问卷数组\r\n      pdQuestUpdate: \"\", //需求问卷\r\n      pdQuestDescribe: \"\", //需求问卷描述\r\n      pdImpartEdit: [], //告知版别数组\r\n      pdImpartUpdate: \"\", //告知版别\r\n      pdImpartDescribe: \"\", //告知版别描述\r\n      tableData: [],\r\n      selectedDef1: \"\", //表格单选按钮\r\n      //表格数据\r\n      questEditTable: [],\r\n      impartEditTable: [],\r\n      policyEffectiveDateTable: [],\r\n      policyEffectiveDateJson: {},\r\n      selectedPolicyEffectiveDate: [],\r\n      policyEffectiveDateParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"00\"\r\n      },\r\n      questEditParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"01\"\r\n      },\r\n      impartEditArray: [],\r\n      impartEdit_pdSaleChanl: [\"00\"],\r\n      update_impartEdit_pdSaleChanl: \"\",\r\n      impartEditJson: {},\r\n      impartEditParams: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdNbChoType: \"02\"\r\n      },\r\n      questEditJson: {},\r\n      configs: [],\r\n      //表格筛选\r\n      pdRelaValFilters: [],\r\n      //查询参数\r\n      params: {\r\n        eq_pdInfoId: \"\"\r\n      },\r\n      //产品关联关系\r\n      searchForm2: {\r\n        pdCode: \"\", //产品编码\r\n        pdName: \"\", //产品名称\r\n        pdInfoId: \"\", //产品id\r\n        Id: \"\",\r\n        flag: true, //独立赴约的是否可操作\r\n        detailsShow: false, //更多项的显示与隐藏\r\n        insuranceMark: \"\", //主附险标记\r\n        showFlag: false,\r\n        accfee: true,\r\n        pdRelaCate: \"\",\r\n        pdItemCate: \"\",\r\n        pdItemVal: \"\",\r\n        pdRelaItemCate: \"\",\r\n        pdRelaItemVal: \"\", //关联项值 -- 搭配险种值\r\n        pdRelaVal: \"\", //险种关系\r\n        pdRelaDesc: \"\",\r\n        pdIndpRider: false //独立附约\r\n      },\r\n      gridData: [], //更多项的表格\r\n      gridParams: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        pdOnSale: \"\",\r\n        pdStartDate: \"\",\r\n        pdStopDate: \"\",\r\n        pdMainSubFlag: \"\",\r\n        designType: \"\"\r\n      }, //查询参数\r\n      gridSelectedDef1: \"\",\r\n      selectedDef2: {}, //表格单选按钮\r\n      //表格数据\r\n      configs2: [],\r\n      //查询参数\r\n      params2: {\r\n        eq_pdInfoId: \"\",\r\n        eq_pdRelaCate: \"RiskRela\"\r\n      },\r\n      options1: [], //自定义下拉选值\r\n      options2: [], //自定义下拉选值\r\n      //产品豁免\r\n      searchForm3: {\r\n        pdCode: \"\", //产品编码\r\n        pdName: \"\", //产品名称\r\n        pdInfoId: \"\", //产品id\r\n        Id: \"\",\r\n        flag: true, //独立赴约的是否可操作\r\n        detailsShow: false, //更多项的显示与隐藏\r\n        insuranceMark: \"\", //主附险标记\r\n        showFlag: false,\r\n        accfee: true,\r\n        pdRelaCate: \"\", //豁免类型\r\n        pdItemCate: \"\",\r\n        pdItemVal: \"\", //豁免方案/保障code\r\n        pdRelaItemCate: \"\",\r\n        pdRelaItemVal: \"\", //关联项值 -- 搭配险种值\r\n        pdRelaVal: \"\", //被豁免类型\r\n        pdRelaDesc: \"\",\r\n        pdIndpRider: false //独立附约\r\n      },\r\n      gridData2: [], //更多项的表格\r\n      gridParams2: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        designType: \"\",\r\n        pdMainSubFlag: \"\"\r\n      }, //查询参数\r\n      exemptionContent: \"\",\r\n      gridSelectedDef2: \"\",\r\n      gridData3: [], //更多项的表格\r\n      gridParams3: {\r\n        eq_pdDetailType: \"\",\r\n        eq_pdEdition: \"\",\r\n        eq_pdCode: \"\",\r\n        eq_pdInfoId: \"\",\r\n        eq_pdDesType: \"\",\r\n        eq_pdMainSubFlag: \"\",\r\n        eq_pdStopDate: \"\",\r\n        eq_pdStartDate: \"\"\r\n      }, //查询参数\r\n      gridSelectedDef3: \"\",\r\n      selectedDef3: {}, //表格单选按钮\r\n      //表格数据\r\n      configs3: [],\r\n      //查询参数\r\n      params3: {\r\n        eq_pdInfoId: \"\",\r\n        like_pdRelaCate: \"Exempt\"\r\n      },\r\n      options3: [], //自定义下拉选值\r\n      options4: [], //自定义下拉选值\r\n      arr: [], //存储方案下的返回值\r\n      // 标签表格数据\r\n      configs4: [],\r\n      // 标签表格选取数据\r\n      selectRow: {},\r\n      //表单数据与后端实体类对应\r\n      formData: {\r\n        id: \"\", //主键ID\r\n        pdLabelAttribute: \"\",\r\n        pdLabelType: \"\",\r\n        pdLabelDesc: \"\"\r\n      },\r\n      labelContents: [],\r\n      //产品标签查询参数\r\n      params4: {\r\n        eq_pdInfoId: \"\"\r\n      },\r\n      updateFlag: false,\r\n      labelDefDisabled: false,\r\n      inputVisible: false,\r\n      inputValue: \"\",\r\n      attriFilter: \"\",\r\n      pdCvliDateModArray: [],\r\n      pdSlChanlArray: [],\r\n      pdImpartDataArray: [],\r\n      pdDetailTypeArray: [],\r\n      designTypeArray: [],\r\n      pdMainSubFlagArray: [],\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"最近一周\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近一个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近三个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      //检验规则\r\n      rules: {\r\n        pdCvliDateMode: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message1\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaCate: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message2\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdItemVal: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message3\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaItemVal: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message4\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdRelaItemVal2: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message5\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pdSaleChanl: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"pdtempPdNbInfo.message8\"),\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"ldcodes\"])\r\n  },\r\n  async created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag;\r\n    await this.initProductInfo();\r\n    this.initializationShow();\r\n    this.gridParams.eq_pdInfoId = this.product.id;\r\n    this.gridParams2.eq_pdInfoId = this.product.id;\r\n    this.gridParams3.eq_pdInfoId = this.product.id;\r\n    this.params.eq_pdInfoId = this.product.id;\r\n    this.params2.eq_pdInfoId = this.product.id;\r\n    this.params3.eq_pdInfoId = this.product.id;\r\n    this.params4.eq_pdInfoId = this.product.id;\r\n    this.policyEffectiveDateParams.eq_pdInfoId = this.product.id;\r\n    this.questEditParams.eq_pdInfoId = this.product.id;\r\n    this.impartEditParams.eq_pdInfoId = this.product.id;\r\n    this.pdCvliDateModArray = this.ldcodes[\"renewalEffectiveDate\"];\r\n    this.pdSlChanlArray = this.ldcodes[\"pdSlChanl\"];\r\n    this.questEditDataArray = this.ldcodes[\"DemandQuestionnaireSection\"];\r\n    this.pdImpartDataArray = this.ldcodes[\"InformVersion\"];\r\n\r\n    this.pdDetailTypeArray = this.ldcodes[\"ProductCategory\"];\r\n    this.designTypeArray = this.ldcodes[\"ProductDesignType\"];\r\n    this.pdMainSubFlagArray = this.ldcodes[\"principalRiskFlag\"];\r\n  },\r\n  methods: {\r\n    closeDialog() {\r\n      //   let data = this.buildRequestData({\r\n      //     eq_pdInfoId: this.gridParams.eq_pdInfoId,\r\n      //     eq_pdDetailType: this.gridParams.eq_pdDetailType,\r\n      //     eq_pdCode: this.gridParams.eq_pdCode,\r\n      //     eq_pdEdition: this.gridParams.eq_pdEdition,\r\n      //   })\r\n      //\r\n      // getOneSelect(data).then(res => {\r\n      //   if (res.data.records.length === 1){\r\n      //     this.options1.push({\r\n      //       key: res.data.records[0].pdCode,\r\n      //       value: res.data.records[0].pdName,\r\n      //     });\r\n      //     this.searchForm2.pdInfoId = res.data.records[0].id;\r\n      //     this.searchForm2.pdRelaItemVal = res.data.records[0].pdCode;\r\n      //     console.log(res.data.records[0].id)\r\n      //     this.searchForm2.detailsShow = false;\r\n      //   }else {\r\n     /* let  params= {\r\n                eq_pdDetailType: \"\",\r\n                eq_pdEdition: \"\",\r\n                eq_pdCode: \"\",\r\n                pdOnSale: \"\",\r\n                pdStartDate: \"\",\r\n                pdStopDate: \"\",\r\n                pdMainSubFlag: \"\",\r\n                designType: \"\"\r\n              }\r\n      Object.assign(this.gridParams, params);*/\r\n      this.gridData=[];\r\n      this.$refs.gridPage.clearData();\r\n      this.searchForm2.detailsShow = false;\r\n      //   }\r\n      // })\r\n    },\r\n    ChangeR() {\r\n      this.searchForm3.pdItemVal = \"\";\r\n    },\r\n\r\n    ChangeR2() {\r\n      this.searchForm3.pdRelaItemVal = \"\";\r\n    },\r\n    selectedDetailTypeChanged(pdRegionType) {\r\n      let param = {\r\n        pdRegionType: pdRegionType\r\n      };\r\n      if (\"\".endsWith(pdRegionType) || pdRegionType == undefined) {\r\n        return false;\r\n      }\r\n      findAllProductByPdDetailType(this.buildRequestData(param)).then(\r\n        response => {\r\n          this.productOptionList = response.data;\r\n          this.editionOptionList = [];\r\n        }\r\n      );\r\n    },\r\n    async selectedPdCodeChanged(pdCode) {\r\n      this.gridParams.eq_pdEdition = \"\";\r\n      const productOptionList_filter = this._.filter(this.productOptionList, {\r\n        pdCode: pdCode\r\n      });\r\n      this.editionOptionList = this._.map(\r\n        productOptionList_filter,\r\n        \"pdEdition\"\r\n      );\r\n      if (this.editionOptionList.length == 1) {\r\n        this.gridParams.eq_pdEdition = this.editionOptionList[0].pdEdition;\r\n        let data = this.buildRequestData({\r\n          eq_pdInfoId: this.gridParams.eq_pdInfoId,\r\n          eq_pdDetailType: this.gridParams.eq_pdDetailType,\r\n          eq_pdCode: this.gridParams.eq_pdCode,\r\n          eq_pdEdition: this.gridParams.eq_pdEdition\r\n        });\r\n        await getOneSelect(data).then(res => {\r\n          if (res.data.records.length === 1) {\r\n            this.options1.push({\r\n              key: res.data.records[0].pdCode,\r\n              value: res.data.records[0].pdName\r\n            });\r\n            this.searchForm2.pdInfoId = res.data.records[0].id;\r\n            this.searchForm2.pdRelaItemVal = res.data.records[0].pdCode;\r\n            this.searchForm2.pdCode = res.data.records[0].pdCode;\r\n            this.searchForm2.detailsShow = false;\r\n          } else {\r\n            this.searchForm2.detailsShow = false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    refreshsearchForm3() {\r\n      this.searchForm3.pdRelaCate = \"ExemptProg\";\r\n    },\r\n    // 初始化产品信息 -- 从session\r\n    async initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData();\r\n      this.searchForm1.pdInfoId = pdtempPdInfo.id;\r\n      this.searchForm1.pdVerId = pdtempPdInfo.pdVerId;\r\n      this.searchForm1.pdCode = pdtempPdInfo.pdCode;\r\n      this.searchForm1.pdName = pdtempPdInfo.pdName;\r\n      if (pdtempPdInfo) {\r\n        Object.assign(this.product, pdtempPdInfo);\r\n        this.pdProcessId = pdtempPdInfo.pdProcessId;\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload();\r\n    },\r\n    //区域初始化\r\n    initializationShow() {\r\n      //分类标记表\r\n      let back2 = \"\";\r\n      let params = {\r\n        pdCode: this.product.pdCode,\r\n        pdEdition: this.product.pdEdition,\r\n        pdName: this.product.pdName\r\n      };\r\n      back2 = initializationShow(this.buildRequestData(params));\r\n      back2.then(response => {\r\n        if (response.code == 200) {\r\n          for (let i = 0; i < response.data.records.length; i++) {\r\n            if (\r\n              response.data.records[i].pdCls5 == \"R\" ||\r\n              response.data.records[i].pdCls5 == \"N\"\r\n            ) {\r\n              //主附险标记\r\n              this.searchForm2.insuranceMark = true; //此时是附加险\r\n              this.searchForm2.showFlag = false;\r\n            } else {\r\n              this.searchForm2.insuranceMark = false; //此时是主险\r\n              this.searchForm2.showFlag = true;\r\n            }\r\n            if (\r\n              response.data.records[i].pdCls5 == \"R\" ||\r\n              response.data.records[i].pdCls5 == \"N\" ||\r\n              response.data.records[i].pdCls5 == \"Y\"\r\n            ) {\r\n              this.searchForm2.showFlag = true;\r\n            }\r\n            if (\r\n              response.data.records[i].pdAtrsVal == \"\" ||\r\n              response.data.records[i].pdAtrsVal == undefined\r\n            ) {\r\n              this.searchForm3.showFlag = false;\r\n            } else {\r\n              this.searchForm3.showFlag = true;\r\n              this.searchForm3.pdRelaCate = \"ExemptProg\";\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //初始化承保选项的值\r\n    initPdNbChoType() {\r\n      /* selectAllInfo(this.buildRequestData({\"pdInfoId\": this.searchForm1.pdInfoId})).then(response => {\r\n        this.tableData = response.data\r\n        //初始化表格\r\n        this.questEditTable = [];\r\n        this.impartEditTable = [];\r\n        this.policyEffectiveDateTable=[];\r\n        this.pdSaleChanl = [];\r\n        this.pdCvliDateMode ='';\r\n        this.varShow = false;\r\n        for (const pdNbInfo of this.tableData) {\r\n            if (pdNbInfo.pdNbChoType == '00') {\r\n                this.searchForm1 = pdNbInfo;\r\n                pdNbInfo['pdCvliDateMode']=pdNbInfo.pdNbChoVal;\r\n                this.policyEffectiveDateTable.push(pdNbInfo);\r\n            }\r\n          if (pdNbInfo.pdNbChoType == '01') {\r\n               this.questEditTable.push(pdNbInfo);\r\n          }\r\n          if (pdNbInfo.pdNbChoType == '02') {\r\n               this.impartEditTable.push(pdNbInfo);\r\n          }\r\n        }\r\n      })*/\r\n    },\r\n    optionClick1(val) {\r\n       this.searchForm2.detailsShow = true;\r\n    },\r\n    handleSearch2() {\r\n      if (\r\n        this.gridParams.eq_pdCode ||\r\n        this.gridParams.eq_pdDetailType ||\r\n        this.gridParams.eq_pdEdition ||\r\n        this.gridParams.pdOnSale ||\r\n        this.gridParams.designType ||\r\n        this.gridParams.pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    //产品搭配关系 - 更多表格单选按钮\r\n    gridSelectedChanged1(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef1) {\r\n          this.gridSelectedDef1 = \"\";\r\n          this.searchForm2.pdCode = \"\";\r\n          this.searchForm2.pdName = \"\";\r\n          this.searchForm2.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm2.pdInfoId = row.id;\r\n          this.searchForm2.pdCode = row.pdCode;\r\n          this.searchForm2.pdName = row.pdName;\r\n          this.options1 = [];\r\n          this.options1.push({\r\n            key: this.searchForm2.pdCode,\r\n            value: this.searchForm2.pdName\r\n          });\r\n          this.searchForm2.pdRelaItemVal = this.searchForm2.pdCode;\r\n          this.searchForm2.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleCreate2(searchForm2) {\r\n      this.$refs[searchForm2].validate(valid => {\r\n        if (valid) {\r\n          let pdtempPdRela = {\r\n            pdType: \"\",\r\n            pdVerId: \"\",\r\n            pdInfoId: \"\",\r\n            pdCode: \"\",\r\n            pdRelaCate: \"RiskRela\", //RiskRela\r\n            pdItemCate: \"Risk\", //Risk\r\n            pdItemVal: \"\", //本项值类别为险种编码则本项值存放险种编码\r\n            pdRelaItemCate: \"Risk\", //Risk\r\n            pdRelaItemId: \"\", //\r\n            pdRelaItemVal: \"\", //关联项值\r\n            pdRelaVal: \"\", //01-主附 02-主主\r\n            pdRelaDesc: \"\", //关联关系说明\r\n            pdIndpRider: \"\" //独立附约\r\n          };\r\n          pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n          pdtempPdRela.pdInfoId = this.product.id; //\r\n          pdtempPdRela.pdCode = this.product.pdCode; //\r\n          pdtempPdRela.pdName = this.product.pdName; //\r\n          pdtempPdRela.pdType = \"1\"; //\r\n          debugger;\r\n          pdtempPdRela.pdItemVal = this.product.pdCode; //\r\n          pdtempPdRela.pdRelaItemVal = this.searchForm2.pdCode; //\r\n          pdtempPdRela.pdRelaItemId = this.searchForm2.pdInfoId; //\r\n          pdtempPdRela.pdRelaVal = this.searchForm2.pdRelaVal; //\r\n          if (this.searchForm2.pdRelaVal == \"02\") {\r\n            pdtempPdRela.pdIndpRider = \"\"; //\r\n          } else {\r\n            if (this.searchForm2.pdIndpRider == true) {\r\n              pdtempPdRela.pdIndpRider = \"Y\";\r\n            } else {\r\n              pdtempPdRela.pdIndpRider = \"N\";\r\n            }\r\n          }\r\n          let back = \"\";\r\n          back = addPdtempPdRela(pdtempPdRela);\r\n          back.then(response => {\r\n            if (response.code == 200) {\r\n              this.notifySuccess(response.message);\r\n              this.params2.eq_pdInfoId = this.product.id;\r\n              this.$refs.page2.buildData().then(() => {\r\n                this.selectedChanged2Change(this.configs2[0]);\r\n                this.selectedDef2 = this.configs2[0].pdtempPdRela;\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    selectedChanged2Change(row) {\r\n      this.searchForm2.Id = row.pdtempPdRela.id;\r\n      this.searchForm2.pdInfoId = row.pdID;\r\n      this.options1 = [];\r\n      this.options1.push({\r\n        key: row.pdtempPdRela.pdRelaItemVal,\r\n        value: row.pdName\r\n      });\r\n      this.searchForm2.pdRelaItemVal = row.pdtempPdRela.pdRelaItemVal;\r\n      if (row.pdtempPdRela.pdIndpRider == \"Y\") {\r\n        //独立附约\r\n        this.searchForm2.pdIndpRider = true;\r\n      } else {\r\n        this.searchForm2.pdIndpRider = false;\r\n      }\r\n    },\r\n    selectedChanged2(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.pdtempPdRela.id == this.selectedDef2.id) {\r\n          this.selectedDef2 = {};\r\n          this.resetFormData2();\r\n          this.searchForm2.pdInfoId = \"\";\r\n          this.options1 = [];\r\n        }\r\n      }\r\n    },\r\n    resetFormData2() {\r\n      this.$nextTick(function() {\r\n        let searchFormCopy2 = {\r\n          pdCode: \"\", //产品编码\r\n          pdName: \"\", //产品名称\r\n          pdInfoId: \"\", //产品id\r\n          Id: \"\",\r\n          flag: true, //独立赴约的是否可操作\r\n          showFlag: true,\r\n          detailsShow: false, //更多项的显示与隐藏\r\n          insuranceMark: \"\", //主附险标记\r\n          accfee: true,\r\n          pdRelaCate: \"\",\r\n          pdItemCate: \"\",\r\n          pdItemVal: \"\",\r\n          pdRelaItemCate: \"\",\r\n          pdRelaItemVal: \"\", //关联项值 -- 搭配险种值\r\n          pdRelaVal: \"\", //险种关系\r\n          pdRelaDesc: \"\",\r\n          pdIndpRider: false //独立附约\r\n        };\r\n        this.options1 = [];\r\n        this.searchForm2 = searchFormCopy2;\r\n      });\r\n    },\r\n    handleUpdate2() {\r\n      let pdtempPdRela = {\r\n        id: \"\",\r\n        pdInfoId: \"\",\r\n        pdType: \"\",\r\n        pdVerId: \"\",\r\n        pdCode: \"\",\r\n        pdItemCate: \"Risk\", //RiskRela\r\n        pdItemVal: \"\", //RiskRela\r\n        pdRelaCate: \"RiskRela\", //RiskRela\r\n        pdRelaItemCate: \"Risk\", //Risk\r\n        pdRelaItemVal: \"\", //关联项值\r\n        pdRelaItemId: \"\", //\r\n        pdRelaVal: \"\", //01-主附 02-主主\r\n        pdRelaDesc: \"\", //关联关系说明\r\n        pdIndpRider: \"\" //独立附约\r\n      };\r\n      pdtempPdRela.id = this.searchForm2.Id;\r\n      pdtempPdRela.pdType = \"1\";\r\n      pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n      pdtempPdRela.pdCode = this.product.pdCode; //\r\n      pdtempPdRela.pdName = this.product.pdName; //\r\n\r\n      pdtempPdRela.pdItemVal = this.product.pdCode; //\r\n      pdtempPdRela.pdRelaItemVal = this.searchForm2.pdRelaItemVal; //\r\n      pdtempPdRela.pdInfoId = this.product.id;\r\n      pdtempPdRela.pdRelaItemId = this.searchForm2.pdInfoId; //\r\n      pdtempPdRela.pdRelaVal = this.searchForm2.pdRelaVal; //\r\n\r\n      if (this.searchForm2.pdRelaVal == \"02\") {\r\n        pdtempPdRela.pdIndpRider = \"\";\r\n      } else {\r\n        if (this.searchForm2.pdIndpRider == true) {\r\n          pdtempPdRela.pdIndpRider = \"Y\";\r\n        } else {\r\n          pdtempPdRela.pdIndpRider = \"N\";\r\n        }\r\n      }\r\n      let back = \"\";\r\n      back = updatePdtempPdRela(pdtempPdRela);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params2.eq_pdInfoId = this.product.id;\r\n          this.resetForm2Copy();\r\n        }\r\n      });\r\n    },\r\n    handleDelete2(row) {\r\n      let id = row.id;\r\n      let back = \"\";\r\n      back = deletePdtempPdRela(id);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params2.eq_pdInfoId = this.product.id;\r\n          this.$refs.page2.reload();\r\n          this.resetFormData2();\r\n        }\r\n      });\r\n    },\r\n    resetForm2Copy() {\r\n      if (this.searchForm2.Id) {\r\n        this.$refs.page2.buildData().then(() => {\r\n          for (const item of this.configs2) {\r\n            if (item.pdtempPdRela.id == this.searchForm2.Id) {\r\n              this.selectedChanged2Change(item);\r\n              this.selectedDef2 = item.pdtempPdRela;\r\n              break;\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.selectedDef2 = {};\r\n        this.gridSelectedDef1 = \"\";\r\n        this.$refs.searchForm2.resetFields();\r\n        this.$refs.page2.reload();\r\n      }\r\n    },\r\n    //清空\r\n    resetForm2() {\r\n      this.selectedDef2 = {};\r\n      this.gridSelectedDef1 = \"\";\r\n      this.$refs.searchForm2.resetFields();\r\n      this.$refs.page2.reload();\r\n    },\r\n    //产品豁免范围\r\n    optionClick2() {\r\n        this.searchForm3.detailsShow = true;\r\n    },\r\n    handleSearch3() {\r\n      if (\r\n        this.gridParams2.eq_pdCode ||\r\n        this.gridParams2.eq_pdDetailType ||\r\n        this.gridParams2.eq_pdEdition ||\r\n        this.gridParams2.pdOnSale ||\r\n        this.gridParams2.designType ||\r\n        this.gridParams2.pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage2.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    //产品豁免范围 - 更多表格单选按钮\r\n    gridSelectedChanged2(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef2) {\r\n          this.gridSelectedDef2 = \"\";\r\n          this.searchForm3.pdCode = \"\";\r\n          this.searchForm3.pdName = \"\";\r\n          this.searchForm3.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm3.pdInfoId = row.id;\r\n          this.searchForm3.pdCode = row.pdCode;\r\n          this.searchForm3.pdName = row.pdName;\r\n          this.options4 = [];\r\n          this.options4.push({\r\n            key: this.searchForm3.pdCode,\r\n            value: this.searchForm3.pdName\r\n          });\r\n          this.searchForm3.pdRelaItemVal = this.searchForm3.pdCode;\r\n          this.searchForm3.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleSearch4() {\r\n      if (\r\n        this.gridParams3.eq_pdCode ||\r\n        this.gridParams3.eq_pdDetailType ||\r\n        this.gridParams3.eq_pdEdition ||\r\n        this.gridParams3.eq_pdOnSale ||\r\n        this.gridParams3.eq_pdDesType ||\r\n        this.gridParams3.eq_pdMainSubFlag\r\n      ) {\r\n        this.$refs.gridPage3.reload();\r\n      } else {\r\n        this.messageError(this.$t(\"pdtempPdNbInfo.message13\"));\r\n      }\r\n    },\r\n    //产品豁免范围 - 更多表格单选按钮\r\n    gridSelectedChanged4(row, column, event) {\r\n      debugger;\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.gridSelectedDef3) {\r\n          this.gridSelectedDef3 = \"\";\r\n          this.searchForm3.pdCode = \"\";\r\n          this.searchForm3.pdName = \"\";\r\n          this.searchForm3.pdInfoId = \"\";\r\n        } else {\r\n          this.searchForm3.pdInfoId = row.pdInfoId;\r\n          this.searchForm3.pdCode = row.pdProgCode;\r\n          this.searchForm3.pdName = row.pdProgName;\r\n          this.options4 = [];\r\n          this.options4.push({\r\n            key: this.searchForm3.pdCode,\r\n            value: this.searchForm3.pdName\r\n          });\r\n          this.searchForm3.pdRelaItemVal11 = row.pdCode+\":\"+ row.pdName;\r\n          this.searchForm3.pdRelaItemVal = this.searchForm3.pdCode;\r\n          this.searchForm3.detailsShow = false;\r\n        }\r\n      }\r\n    },\r\n    handleCreate3(searchForm2) {\r\n      this.$refs[searchForm2].validate(valid => {\r\n        if (valid) {\r\n          let pdtempPdRela = {\r\n            pdType: \"\",\r\n            pdVerId: \"\",\r\n            pdInfoId: \"\",\r\n            pdCode: \"\",\r\n            pdRelaCate: \"\", //ExemptProg豁免方案 ExemptGet:豁免保障\r\n            pdItemCate: \"\", //Risk-险种编码 Prog-方案编码 Bnft-保障编码\r\n            pdItemVal: \"\", //本项值类别为险种编码则本项值存放险种编码\r\n            pdRelaItemCate: \"\", //Risk-险种编码 Prog-方案编码\r\n            pdRelaItemId: \"\", //\r\n            pdRelaItemVal: \"\", //关联项值\r\n            pdRelaVal: \"\", //05 -豁免险种 06-豁免方案 07-豁免家庭单\r\n            pdRelaDesc: \"\", //关联关系说明\r\n            pdIndpRider: \"\" //独立附约\r\n          };\r\n          pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n          pdtempPdRela.pdInfoId = this.product.id; //\r\n          pdtempPdRela.pdCode = this.product.pdCode; //\r\n          pdtempPdRela.pdName = this.product.pdName; //\r\n          pdtempPdRela.pdType = \"1\"; //\r\n\r\n          pdtempPdRela.pdRelaCate = this.searchForm3.pdRelaCate; //\r\n          pdtempPdRela.pdItemVal = this.searchForm3.pdItemVal; //\r\n\r\n\r\n          pdtempPdRela.pdRelaItemId = this.searchForm3.pdInfoId; //\r\n          pdtempPdRela.pdRelaVal = this.searchForm3.pdRelaVal; //\r\n          pdtempPdRela.pdRelaItemVal = this.searchForm3.pdRelaItemVal; //\r\n          if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n            //当前是方案\r\n            pdtempPdRela.pdItemCate = \"Prog\"; //\r\n            if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n              pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n            } else {\r\n              pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n            }\r\n          } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n            //保障\r\n            pdtempPdRela.pdItemCate = \"Bnft\"; //\r\n            if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n              pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n            } else {\r\n              pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n            }\r\n          }\r\n          let back = \"\";\r\n          back = addPdtempPdRela(pdtempPdRela);\r\n          back.then(response => {\r\n            if (response.code == 200) {\r\n              this.notifySuccess(response.message);\r\n              this.params3.eq_pdInfoId = this.product.id;\r\n              this.selectRowHUOM();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    selectRowHUOM(id) {\r\n      this.$refs.page3.buildData().then(() => {\r\n        if (id) {\r\n          for (const item of this.configs3) {\r\n            if (item.pdtempPdRela.id === id) {\r\n              this.$refs.configs3.setCurrentRow(item);\r\n              this.selectedPdNbINfoChanged(item);\r\n              this.selectedDef3 = item.pdtempPdRela;\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          this.$refs.configs3.setCurrentRow(this.configs3[0]);\r\n          this.selectedPdNbINfoChanged(this.configs3[0]);\r\n          this.selectedDef3 = this.configs3[0].pdtempPdRela;\r\n        }\r\n      });\r\n    },\r\n    selectedChanged3(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.pdtempPdRela.id == this.selectedDef3.id) {\r\n          this.selectedDef3 = {};\r\n          this.resetFormData3();\r\n          this.refreshsearchForm3();\r\n        }\r\n      }\r\n    },\r\n    selectedPdNbINfoChanged(row) {\r\n      debugger\r\n      this.searchForm3.Id = row.pdtempPdRela.id;\r\n      this.options4 = [];\r\n      this.options4.push({\r\n        key: row.pdtempPdRela.pdRelaItemVal,\r\n        value: row.pdRelaItemName\r\n      });\r\n \r\n      this.searchForm3.pdRelaCate = row.pdtempPdRela.pdRelaCate; //\r\n      this.searchForm3.pdRelaItemVal = row.pdtempPdRela.pdRelaItemVal; //\r\n      this.searchForm3.pdItemVal = row.pdtempPdRela.pdItemVal; //\r\n      this.searchForm3.pdRelaVal = row.pdtempPdRela.pdRelaVal; //\r\n     if(row.pdtempPdRela.pdRelaVal == \"ExemptProg\"){\r\n         this.searchForm3.pdRelaItemVal11 = row.pdtempPdRela.pdCode+\":\"+row.pdtempPdRela.pdName\r\n      }\r\n      this.options4 = [];\r\n    },\r\n    rowClickQuestEdit(val) {\r\n      this.selectedQuestEdit = val;\r\n      this.pdQuestUpdate = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.update_questEdit_pdSaleChanl = \"\";\r\n      this.pdQuestDescribe = \"\";\r\n      this.questEditJson = {};\r\n      if (val.length == 1) {\r\n        this.questEditJson = val[0];\r\n        this.pdQuestUpdate = val[0].pdNbChoVal;\r\n        this.update_questEdit_pdSaleChanl = val[0].pdSlChanl;\r\n        this.pdQuestDescribe = val[0].pdNbChoDescribe;\r\n        //置灰 00\r\n        this.questEditArray = [\"00\"];\r\n        return;\r\n      }\r\n    },\r\n    rowClickQuestEditChange(row) {\r\n      this.pdQuestEdit = [row.pdNbChoVal];\r\n      this.pdQuestUpdate = row.pdNbChoVal;\r\n      this.pdQuestDescribe = row.pdNbChoDescribe;\r\n    },\r\n    rowClickImpartEditChange(row) {\r\n      this.pdImpartEdit = [row.pdNbChoVal];\r\n      this.pdImpartUpdate = row.pdNbChoVal;\r\n      this.pdImpartDescribe = row.pdNbChoDescribe;\r\n    },\r\n    rowClickImpartEdit(val) {\r\n      this.selectedImpartEdit = val;\r\n      this.pdImpartUpdate = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.update_impartEdit_pdSaleChanl = \"\";\r\n      this.pdImpartDescribe = \"\";\r\n      this.impartEditJson = {};\r\n      if (val.length == 1) {\r\n        this.impartEditJson = val[0];\r\n        this.pdImpartUpdate = val[0].pdNbChoVal;\r\n        this.update_impartEdit_pdSaleChanl = val[0].pdSlChanl;\r\n        this.pdImpartDescribe = val[0].pdNbChoDescribe;\r\n        //置灰 00\r\n        this.impartEditArray = [\"00\"];\r\n        return;\r\n      }\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row.pdtempPdRela[property] === value;\r\n      }\r\n    },\r\n    //添加承保选项类型的值\r\n    addCvliDate() {\r\n      this.searchForm1.pdNbChoType = \"00\";\r\n      this.searchForm1.id = null;\r\n      this.searchForm1.pdNbChoVal = this.pdCvliDateMode;\r\n      if (!this.policyEffectiveDateJson.id) {\r\n        if (!this.pdCvliDateMode || this.pdSaleChanl.length == 0) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message1\"));\r\n        }\r\n        this.searchForm1.pdSlChanl = this.pdSaleChanl;\r\n      } else {\r\n        if (!this.update_pdSaleChanl || !this.pdCvliDateMode) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message1\"));\r\n        }\r\n        this.searchForm1.id = this.policyEffectiveDateJson.id;\r\n        this.searchForm1.pdSlChanl = this.update_pdSaleChanl;\r\n      }\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetCvliDate();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetCvliDate();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    addQuestEdit() {\r\n      this.searchForm1.pdType = \"0\";\r\n      this.searchForm1.pdNbChoType = \"01\";\r\n      if (!this.questEditJson.id) {\r\n        if (\r\n          this.pdQuestEdit.length == 0 ||\r\n          this.questEdit_pdSaleChanl.length == 0\r\n        ) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message11\"));\r\n        }\r\n        this.searchForm1.id = null;\r\n        this.searchForm1.pdNbChoVal = this.pdQuestEdit;\r\n        this.searchForm1.pdSlChanl = this.questEdit_pdSaleChanl;\r\n      } else {\r\n        if (!this.pdQuestUpdate || !this.update_questEdit_pdSaleChanl) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message11\"));\r\n        }\r\n        this.searchForm1.id = this.questEditJson.id;\r\n        this.searchForm1.pdNbChoVal = this.pdQuestUpdate;\r\n        this.searchForm1.pdSlChanl = this.update_questEdit_pdSaleChanl;\r\n      }\r\n      this.searchForm1.pdNbChoDescribe = this.pdQuestDescribe;\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetQuestEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetQuestEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    resetQuestEditCopy(id) {},\r\n    addImpartEdit() {\r\n      this.searchForm1.pdType = \"0\";\r\n      this.searchForm1.pdNbChoType = \"02\";\r\n      this.searchForm1.id = null;\r\n      if (!this.impartEditJson.id) {\r\n        if (\r\n          this.pdImpartEdit.length == 0 ||\r\n          this.impartEdit_pdSaleChanl.length == 0\r\n        ) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message12\"));\r\n        }\r\n        this.searchForm1.pdNbChoVal = this.pdImpartEdit;\r\n        this.searchForm1.pdSlChanl = this.impartEdit_pdSaleChanl;\r\n      } else {\r\n        if (!this.pdImpartUpdate || !this.update_impartEdit_pdSaleChanl) {\r\n          return this.messageError(this.$t(\"pdtempPdNbInfo.message12\"));\r\n        }\r\n        this.searchForm1.id = this.impartEditJson.id;\r\n        this.searchForm1.pdNbChoVal = this.pdImpartUpdate;\r\n        this.searchForm1.pdSlChanl = this.update_impartEdit_pdSaleChanl;\r\n      }\r\n      this.searchForm1.pdNbChoDescribe = this.pdImpartDescribe;\r\n      addPdtempPdNbInfo(\r\n        this.buildRequestData({ pdtempPdNbInfo: this.searchForm1 })\r\n      ).then(res => {\r\n        if (res.data.message_type == \"add\") {\r\n          this.resetImpartEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message6\"));\r\n        } else if (res.data.message_type == \"update\") {\r\n          this.resetImpartEdit();\r\n          this.$emit(\"childFn\", true);\r\n          this.notifySuccess(this.$t(\"pdtempPdNbInfo.message7\"));\r\n        } else if (res.data.message_type == \"existence\") {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message10\"));\r\n        } else {\r\n          this.notifyError(this.$t(\"pdtempPdNbInfo.message9\"));\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    deleteQuestEdit(row) {\r\n      let delKeys = this.selectedQuestEdit.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.resetQuestEdit();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    deleteImpartEdit(row) {\r\n      let delKeys = this.selectedImpartEdit.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.resetImpartEdit();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    //重置承保选项类型的值\r\n    resetCvliDate() {\r\n      this.policyEffectiveDateJson = {};\r\n      this.pdCvliDateMode = \"\";\r\n      this.pdSaleChanl = [];\r\n      this.update_pdSaleChanl = \"\";\r\n      this.selectedPolicyEffectiveDate = [];\r\n      this.$refs.pagePdCvliDate.reload();\r\n    },\r\n    resetQuestEdit() {\r\n      this.pdQuestEdit = [];\r\n      this.pdQuestUpdate = \"\";\r\n      this.pdQuestDescribe = \"\";\r\n      this.questEditJson = {};\r\n      this.selectedQuestEdit = [];\r\n      this.update_questEdit_pdSaleChanl = \"\";\r\n      this.questEdit_pdSaleChanl = [];\r\n      this.$refs.pageQuestEdit.reload();\r\n    },\r\n    resetImpartEdit() {\r\n      this.pdImpartDescribe = \"\";\r\n      this.pdImpartEdit = [];\r\n      this.pdImpartUpdate = \"\";\r\n      this.update_impartEdit_pdSaleChanl = \"\";\r\n      this.impartEdit_pdSaleChanl = [];\r\n      this.impartEditJson = {};\r\n      this.selectedImpartEdit = [];\r\n      this.$refs.pageImpartEdit.reload();\r\n    },\r\n    resetFormData3() {\r\n      this.$nextTick(function() {\r\n        let searchFormCopy3 = {\r\n          pdCode: \"\", //产品编码\r\n          pdName: \"\", //产品名称\r\n          pdInfoId: \"\", //产品id\r\n          Id: \"\",\r\n          showFlag: true,\r\n          detailsShow: false, //更多项的显示与隐藏\r\n          insuranceMark: \"\", //主附险标记\r\n          accfee: true,\r\n          pdRelaCate: \"ExemptProg\",\r\n          pdItemCate: \"\",\r\n          pdItemVal: \"\",\r\n          pdRelaItemCate: \"\",\r\n          pdRelaItemVal: \"\", //关联项值 -- 搭配险种值\r\n          pdRelaVal: \"\", //险种关系\r\n          pdRelaDesc: \"\"\r\n        };\r\n        this.searchForm3 = searchFormCopy3;\r\n      });\r\n    },\r\n    handleUpdate3(searchForm3) {\r\n      let pdtempPdRela = {\r\n        id: \"\",\r\n        pdType: \"\",\r\n        pdVerId: \"\",\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdRelaCate: \"\", //ExemptProg豁免方案 ExemptGet:豁免保障\r\n        pdItemCate: \"\", //Risk-险种编码 Prog-方案编码 Bnft-保障编码\r\n        pdItemVal: \"\", //本项值类别为险种编码则本项值存放险种编码\r\n        pdRelaItemCate: \"\", //Risk-险种编码 Prog-方案编码\r\n        pdRelaItemId: \"\", //\r\n        pdRelaItemVal: \"\", //关联项值\r\n        pdRelaVal: \"\", //05 -豁免险种 06-豁免方案 07-豁免家庭单\r\n        pdRelaDesc: \"\", //关联关系说明\r\n        pdIndpRider: \"\" //独立附约\r\n      };\r\n      pdtempPdRela.id = this.searchForm3.Id;\r\n      pdtempPdRela.pdVerId = this.product.pdVerId; //\r\n      pdtempPdRela.pdInfoId = this.product.id; //\r\n      pdtempPdRela.pdCode = this.product.pdCode; //\r\n      pdtempPdRela.pdName = this.product.pdName; //\r\n      pdtempPdRela.pdType = \"1\"; //\r\n\r\n      pdtempPdRela.pdRelaCate = this.searchForm3.pdRelaCate; //\r\n      pdtempPdRela.pdItemVal = this.searchForm3.pdItemVal; //\r\n      pdtempPdRela.pdRelaItemId = this.searchForm3.pdInfoId; //\r\n      pdtempPdRela.pdRelaVal = this.searchForm3.pdRelaVal; //\r\n     pdtempPdRela.pdRelaItemVal = this.searchForm3.pdRelaItemVal; //\r\n      if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n        //当前是方案\r\n        pdtempPdRela.pdItemCate = \"Prog\"; //\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n        } else if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n\r\n        }\r\n      } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n        //保障\r\n        pdtempPdRela.pdItemCate = \"Bnft\"; //\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProg\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Prog\"; //\r\n        } else if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n          pdtempPdRela.pdRelaItemCate = \"Risk\"; //\r\n        }\r\n      }\r\n      let back = \"\";\r\n      back = updatePdtempPdRela(pdtempPdRela);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params3.eq_pdInfoId = this.product.id;\r\n          this.$refs.page3.reload();\r\n          this.selectRowHUOM(pdtempPdRela.id);\r\n        }\r\n      });\r\n    },\r\n    handleDelete3(row) {\r\n      let id = row.id;\r\n      let back = \"\";\r\n      back = deletePdtempPdRela(id);\r\n      back.then(response => {\r\n        if (response.code == 200) {\r\n          this.notifySuccess(response.message);\r\n          this.params3.eq_pdInfoId = this.product.id;\r\n          this.$refs.page3.reload();\r\n          this.resetFormData3();\r\n        }\r\n      });\r\n    },\r\n    //清空\r\n    resetForm3() {\r\n      this.selectedDef3 = {};\r\n      this.gridSelectedDef2 = \"\";\r\n      this.gridSelectedDef3 = \"\";\r\n      this.$refs.searchForm3.resetFields();\r\n      this.$refs.page3.reload();\r\n    },\r\n    resetForm3Copy() {\r\n      if (this.searchForm3.Id) {\r\n        for (const item of this.configs3) {\r\n          if (item.pdtempPdRela.id === this.searchForm3.Id) {\r\n            this.$refs.configs3.setCurrentRow(item);\r\n            this.selectedPdNbINfoChanged(item);\r\n            this.selectedDef3 = item.pdtempPdRela;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedDef3 = {};\r\n        this.gridSelectedDef2 = \"\";\r\n        this.gridSelectedDef3 = \"\";\r\n        this.$refs.searchForm3.resetFields();\r\n        this.$refs.page3.reload();\r\n      }\r\n    },\r\n    handleUpdate(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.selectRow.id) {\r\n          this.selectRow = {};\r\n          this.updateFlag = false;\r\n          this.labelDefDisabled = false;\r\n          this.formData.id = \"\";\r\n          this.formData.pdLabelAttribute = \"\";\r\n          this.formData.pdLabelDesc = \"\";\r\n          this.formData.pdLabelType = \"\";\r\n          this.labelContents = [];\r\n        } else {\r\n          this.labelContents = [];\r\n          this.selectRow = row;\r\n          this.labelDefDisabled = true;\r\n          this.updateFlag = true;\r\n          this.formData = Object.assign({}, this.selectRow);\r\n          Object.assign(this.labelContents, this.selectRow.labelContents);\r\n        }\r\n      }\r\n    },\r\n    initPdtempLabelDef(){\r\n      initPdtempLabelDef(this.buildRequestData(this.params4)).then(response => {\r\n        this.handleSearch5();\r\n        this.clearLabelDef();\r\n        this.notifySuccess(this.$t(\"successMessage.submit\"));\r\n      });\r\n    },\r\n    handleCreate() {\r\n      this.$refs.formData.validate(valid => {\r\n        if (valid) {\r\n          if (this.labelContents.length > 0) {\r\n            let back;\r\n            //组装Data\r\n            let labelContentsArray = [];\r\n            this.labelContents.forEach(s =>\r\n              labelContentsArray.push({ pdLabelContent: s })\r\n            );\r\n\r\n            let data;\r\n\r\n            let labelDef = {\r\n              pdInfoId: this.product.id,\r\n              pdCode: this.product.pdCode,\r\n              pdName: this.product.pdName,\r\n              pdVerId: this.product.pdVerId,\r\n              id: this.formData.id,\r\n              pdLabelAttribute: this.formData.pdLabelAttribute,\r\n              pdLabelType: this.formData.pdLabelType,\r\n              pdLabelDesc: this.formData.pdLabelDesc\r\n            };\r\n            if (this.formData.id) {\r\n              data = { labelDef: labelDef, labelContents: labelContentsArray };\r\n              back = updatePdtempPdLabelDef(this.buildRequestData(data));\r\n            } else {\r\n              data = { labelDef: labelDef, labelContents: labelContentsArray };\r\n              back = addPdtempPdLabelDef(this.buildRequestData(data));\r\n            }\r\n            back.then(response => {\r\n              this.handleSearch5();\r\n              this.clearLabelDef();\r\n              this.notifySuccess(this.$t(\"successMessage.submit\"));\r\n            });\r\n          } else {\r\n            this.notifyError(this.$t(\"pdtempPdNbInfo.newTagAddTip\"));\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleClose(tag) {\r\n      this.labelContents.splice(this.labelContents.indexOf(tag), 1);\r\n    },\r\n    handleInputConfirm() {\r\n      let inputValue = this.inputValue;\r\n      if (inputValue) {\r\n        if (this._.indexOf(this.labelContents, inputValue.trim()) === -1) {\r\n          this.labelContents.push(inputValue.trim());\r\n          this.inputVisible = false;\r\n          this.inputValue = \"\";\r\n        } else {\r\n          this.notifyWarning(this.$t(\"pdtempPdNbInfo.newTagTip\"));\r\n        }\r\n      }\r\n    },\r\n    showInput() {\r\n      this.inputVisible = true;\r\n      this.$nextTick(_ => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      });\r\n    },\r\n    clearLabelDef() {\r\n      this.updateFlag = false;\r\n      this.labelDefDisabled = false;\r\n      this.labelContents = [];\r\n      this.selectRow = {};\r\n      this.resetForm();\r\n    },\r\n    resetForm() {\r\n      this.formData = {\r\n        //表单数据与后端实体类对应\r\n        id: \"\",\r\n        pdLabelAttribute: \"\",\r\n        pdLabelType: \"\",\r\n        pdLabelDesc: \"\"\r\n      };\r\n    },\r\n    handleDelete(id) {\r\n      deletePdtempLabelDef(id).then(response => {\r\n        this.handleSearch5();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    handleSearch5() {\r\n      this.resetForm();\r\n      this.labelDefDisabled =false;\r\n      this.labelContents = [];\r\n      this.$refs.page4.reload();\r\n    },\r\n    attributeChange(val) {\r\n      let data = { labelAttri: val, pdInfoId: this.product.id };\r\n      attributeChange(this.buildRequestData(data)).then(response => {\r\n        if (response.code == 200) {\r\n          if (response.data.allTypeNull == true) {\r\n            this.notifyWarning(this.$t(\"pdtempPdNbInfo.updateLabel\"));\r\n          }\r\n          let labelTypes = response.data.labelTypes;\r\n          if (labelTypes.length != 0) {\r\n            this.attriFilter = \"1\";\r\n            for (let types of labelTypes) {\r\n              this.attriFilter += \"$\" + types;\r\n            }\r\n            console.log(this.attriFilter);\r\n          }\r\n          //修改labelType\r\n        }\r\n      });\r\n    },\r\n    typeChange(val) {\r\n      debugger;\r\n      if (\r\n        this.formData.pdLabelAttribute != undefined &&\r\n        this.formData.pdLabelAttribute != \"\"\r\n      ) {\r\n        let data = {\r\n          pdInfoId: this.product.id,\r\n          pdLabelAttribute: this.formData.pdLabelAttribute,\r\n          pdLabelType: val\r\n        };\r\n        typeChange(this.buildRequestData(data)).then(response => {\r\n          this.formData.pdLabelDesc = response.data.pdLabelDesc;\r\n          this.labelContents = [];\r\n          Object.assign(this.labelContents, response.data.labelContents);\r\n        });\r\n      }\r\n      console.log(\"标签类型修改了\");\r\n    },\r\n    rowPolicyEffectiveDate(val) {\r\n      this.selectedPolicyEffectiveDate = val;\r\n      this.pdSaleChanl = [];\r\n      this.pdCvliDateMode = \"\";\r\n      this.update_pdSaleChanl = \"\";\r\n      this.policyEffectiveDateJson = {};\r\n      if (val.length == 1) {\r\n        this.varShow = \"2\";\r\n        this.searchForm1.id = val[0].id;\r\n        this.pdCvliDateMode = val[0].pdNbChoVal;\r\n        this.pdSaleChanl.push(val[0].pdSlChanl);\r\n        this.update_pdSaleChanl = val[0].pdSlChanl;\r\n        this.policyEffectiveDateJson = val[0];\r\n        //置灰 00\r\n        this.pdSaleChanlDisabledCodeArray = [\"00\"];\r\n        return;\r\n      } else if (val.length == 0) {\r\n        this.varShow = \"1\";\r\n      } else {\r\n        this.varShow = \"3\";\r\n      }\r\n    },\r\n    deletePolicyEffectiveDate(row) {\r\n      let delKeys = this.selectedPolicyEffectiveDate.map(sale => sale.id);\r\n      deletePdtempPdNbInfoList(\r\n        this.buildRequestData({ delKeys: delKeys })\r\n      ).then(() => {\r\n        this.update_pdSaleChanl = \"\";\r\n        this.pdSaleChanl = [];\r\n        this.pdCvliDateMode = \"\";\r\n        this.$refs.pagePdCvliDate.reload();\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n      });\r\n    },\r\n    pdSlChanlFormat(row, column) {\r\n      let va = row.pdSlChanl;\r\n      let pdSlChanlValue = \"\";\r\n      this.pdSlChanlArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          pdSlChanlValue = valid.codename;\r\n        }\r\n      });\r\n      return pdSlChanlValue;\r\n    },\r\n    pdCvliDateModeFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let pdCvliDateModValue = \"\";\r\n      this.pdCvliDateModArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          pdCvliDateModValue = valid.codename;\r\n        }\r\n      });\r\n      return pdCvliDateModValue;\r\n    },\r\n    questEditFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let value = \"\";\r\n      this.questEditDataArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          value = valid.codename;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    pdImpartFormat(row, column) {\r\n      let va = row.pdNbChoVal;\r\n      let value = \"\";\r\n      this.pdImpartDataArray.forEach((valid, index) => {\r\n        if (valid.code === va) {\r\n          value = valid.codename;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    exemptBack(){\r\n     if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n         /* let  params= {\r\n                eq_pdDetailType: \"\",\r\n                eq_pdEdition: \"\",\r\n                eq_pdCode: \"\",\r\n                designType: \"\",\r\n                pdMainSubFlag: \"\"\r\n            }\r\n          Object.assign(this.gridParams2, params);*/\r\n          this.gridData2 =[];\r\n          this.$refs.gridPage2.clearData();\r\n      }else{\r\n        /* let params1 = {\r\n            eq_pdDetailType: \"\",\r\n            eq_pdEdition: \"\",\r\n            eq_pdCode: \"\",\r\n            eq_pdDesType: \"\",\r\n            eq_pdMainSubFlag: \"\",\r\n            eq_pdStopDate: \"\",\r\n            eq_pdStartDate: \"\"\r\n          }\r\n         Object.assign(this.gridParams3,params1);*/\r\n         this.gridData3 =[];\r\n         this.$refs.gridPage3.clearData();\r\n      }\r\n      this.searchForm3.detailsShow = false\r\n    },\r\n    //页面跳转按钮\r\n    getPdDesignPage(row, type) {\r\n      if (row) {\r\n          this.cacheCurrPagePdData(row);\r\n          this.dialogShow = true;\r\n          switch (type) {\r\n            case \"pdInfo\":\r\n              this.dialogTitle = \"产品框架信息查看\";\r\n              this.dialogComponent = \"product-definition/pd-framework-def/main\";\r\n              break;\r\n            case \"pdProg\":\r\n              this.dialogTitle = \"产品方案信息查看\";\r\n              this.dialogComponent =\r\n                \"product-definition/pd-framework-def/pd-structure-def/program-def\";\r\n              break;\r\n          }\r\n\r\n        // this.$router.push({name: '产品框架定义主页', query: {showPageFlag: '1'},params:this.pdInfo})\r\n      }\r\n    },\r\n    closePageDialog() {\r\n      this.dialogShow = false;\r\n      this.dialogComponent = \"\";\r\n    }\r\n  },\r\n  watch: {\r\n    \"gridParams.eq_pdCode\"() {\r\n      if (!this.gridParams.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams.eq_pdCode = \"\";\r\n        this.gridParams.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    \"gridParams2.eq_pdCode\"() {\r\n      if (!this.gridParams2.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams2.eq_pdCode = \"\";\r\n        this.gridParams2.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    \"gridParams3.eq_pdCode\"() {\r\n      if (!this.gridParams3.eq_pdCode) {\r\n        this.editionOptionList = [];\r\n        this.productOptionList = [];\r\n        this.gridParams3.eq_pdCode = \"\";\r\n        this.gridParams3.eq_pdEdition = \"\";\r\n      }\r\n    },\r\n    configs2: function() {\r\n      if (this.configs2.length > 0) {\r\n        this.pdRelaValFilters = [];\r\n        this.configs2.forEach(val => {\r\n          this.pdRelaValFilters.push({\r\n            text: this.getCodeName(\r\n              \"insuranceRelationship\",\r\n              val.pdtempPdRela.pdRelaVal\r\n            ),\r\n            value: val.pdtempPdRela.pdRelaVal\r\n          });\r\n        });\r\n        //险种关系筛选\r\n        this.pdRelaValFilters = this.pdRelaValFilters.reduce(function(\r\n          prev,\r\n          element\r\n        ) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        },\r\n        []);\r\n      }\r\n      if (this.configs2.length == 1) {\r\n        this.selectedChanged2Change(this.configs2[0]);\r\n        this.selectedDef2 = this.configs2[0].pdtempPdRela;\r\n      }\r\n    },\r\n    configs3() {\r\n      if (this.configs3.length == 1) {\r\n        this.selectedPdNbINfoChanged(this.configs3[0]);\r\n        this.$refs.configs3.setCurrentRow(this.configs3[0]);\r\n        this.selectedDef3 = this.configs3[0].pdtempPdRela;\r\n      }\r\n    },\r\n    \"searchForm2.pdRelaItemVal\": function(newName, oldName) {\r\n      if (\r\n        this.searchForm2.pdRelaItemVal != \"\" &&\r\n        this.searchForm2.pdRelaItemVal != null\r\n      ) {\r\n        //分类标记表\r\n        let back2 = \"\";\r\n        back2 = pdtempPdClsLabList(this.searchForm2.pdInfoId);\r\n        back2.then(response => {\r\n          if (response.code == 200) {\r\n            for (let i = 0; i < response.data.length; i++) {\r\n              if (response.data[i].pdClsType == 2) {\r\n                if (\r\n                  response.data[i].pdCls5 == \"R\" ||\r\n                  response.data[i].pdCls5 == \"N\"\r\n                ) {\r\n                  //主附险标记\r\n                  this.searchForm2.pdRelaVal = \"01\"; //此时是附加险\r\n                } else {\r\n                  this.searchForm2.pdRelaVal = \"02\"; //此时是主险\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    \"searchForm2.pdRelaVal\": function(newName, oldName) {\r\n      if (this.searchForm2.pdRelaVal == \"01\") {\r\n        this.searchForm2.flag = false; //主附\r\n      } else {\r\n        this.searchForm2.pdIndpRider = false; //\r\n        this.searchForm2.flag = true; //主主\r\n      }\r\n    },\r\n    \"searchForm3.pdRelaCate\": async function(newName, oldName) {\r\n      debugger;\r\n      if (\r\n        this.searchForm3.pdRelaCate != \"\" &&\r\n        this.searchForm3.pdRelaCate != null\r\n      ) {\r\n        //产品方案表\r\n        let back2 = \"\";\r\n        this.options3 = [];\r\n        if (this.searchForm3.pdRelaCate == \"ExemptProg\") {\r\n          const paramsMap = {\r\n            productId: this.product.id\r\n          };\r\n          let releasedProductList = [];\r\n          releasedProductList = (\r\n            await programmeQuery(this.buildRequestData(paramsMap))\r\n          ).data.records;\r\n          this.options3 = [];\r\n          this.arr = [];\r\n          for (let i = 0; i < releasedProductList.length; i++) {\r\n            for (let j = 0; j < releasedProductList[i].benefit.length; j++) {\r\n              if (releasedProductList[i].benefit[j].pdBnftType == \"C\") {\r\n                this.options3.push({\r\n                  key: releasedProductList[i].programmeCode,\r\n                  value: releasedProductList[i].programmeName\r\n                });\r\n                this.arr.push(releasedProductList[i]);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        } else if (this.searchForm3.pdRelaCate == \"ExemptBnft\") {\r\n          const paramsMap = {\r\n            eq_pdInfoId: this.product.id,\r\n            eq_pdBnftType: \"C\"\r\n          };\r\n          let releasedProductList = [];\r\n          releasedProductList = (\r\n            await pdtempPdBnftQuery(this.buildRequestData(paramsMap))\r\n          ).data.records;\r\n          this.options3 = [];\r\n          for (let i = 0; i < releasedProductList.length; i++) {\r\n            this.options3.push({\r\n              key: releasedProductList[i].pdBnftCode,\r\n              value: releasedProductList[i].pdBnftName\r\n            });\r\n          }\r\n        }\r\n        if (this.options3.length == 1) {\r\n          this.searchForm3.pdItemVal = this.options3[0].key;\r\n        }\r\n      } else {\r\n        this.options3 = [];\r\n        this.searchForm3.pdItemVal = \"\";\r\n      }\r\n    },\r\n    \"searchForm3.pdRelaVal\": async function(newName, oldName) {\r\n      //得到被豁免类型\r\n      if (\r\n        this.searchForm3.pdRelaVal != \"\" &&\r\n        this.searchForm3.pdRelaVal != null\r\n      ) {\r\n        if (this.searchForm3.pdRelaVal == \"ExemptProd\") {\r\n            this.searchForm3.pdRelaItemVal11  =\"\"\r\n            this.exemptionContent = this.$t('pdtempPdNbInfo.pdTitele');\r\n        } else {\r\n          this.exemptionContent = this.$t('pdtempPdNbInfo.pdProg');\r\n        }\r\n      } else {\r\n          this.searchForm3.pdRelaItemVal  =\"\"\r\n    \r\n        // this.options4 = [];\r\n        //this.searchForm3.pdRelaItemVal = \"\";\r\n        // this.searchForm3.pdInfoId='';\r\n      }\r\n    },\r\n    pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.pdSaleChanlDisabledCodeArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n              allCodes = allCodes.filter(code => {\r\n                return code !== \"00\";\r\n              });\r\n          this.pdSaleChanlDisabledCodeArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.pdSaleChanlDisabledCodeArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    questEdit_pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.questEditArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== \"00\";\r\n          });\r\n          this.questEditArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.questEditArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    impartEdit_pdSaleChanl(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.impartEditArray = [];\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes[\"pdSlChanl\"], \"code\");\r\n        if (this._.includes(selectedCodes, \"00\")) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== \"00\";\r\n          });\r\n          this.impartEditArray = allCodes;\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === \"00\";\r\n          });\r\n          this.impartEditArray = allCodes;\r\n        }\r\n      }\r\n    },\r\n    \"gridParams.pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams.pdStartDate = val[0];\r\n        this.gridParams.pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams.pdStartDate = \"\";\r\n        this.gridParams.pdStopDate = \"\";\r\n      }\r\n    },\r\n    \"gridParams3.eq_pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams3.eq_pdStartDate = val[0];\r\n        this.gridParams3.eq_pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams3.eq_pdStartDate = \"\";\r\n        this.gridParams3.eq_pdStopDate = \"\";\r\n      }\r\n    },\r\n    \"gridParams2.eq_pdOnSale\"(val) {\r\n      if (val) {\r\n        this.gridParams2.pdStartDate = val[0];\r\n        this.gridParams2.pdStopDate = val[1];\r\n      } else {\r\n        this.gridParams2.pdStartDate = \"\";\r\n        this.gridParams2.pdStopDate = \"\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.showDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n</style>\r\n"]}]}
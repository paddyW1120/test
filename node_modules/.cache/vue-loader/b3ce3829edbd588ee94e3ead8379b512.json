{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\apply\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\apply\\index.vue","mtime":1609847106830},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YXBwbHlQZHRlbXBQZEluZm99IGZyb20gJ0AvYXBpL2Jhc2ljaW5mby9wZHRlbXBQZEluZm8nCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAndnVleCcKaW1wb3J0IHtjbG9zZVZpc2l0VGFnfSBmcm9tICJAL3V0aWxzL3RhZ3NWaWV3IgoKbGV0IF90aGlzCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGR0ZW1wUGRJbmZvJywKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICd1c2VyY29kZScKICAgIF0pCiAgfSwKICAgIHdhdGNoOnsKICAgICAgJ2NvbmZpZ3MnICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlncy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXJMaXN0MSA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDIgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXJMaXN0NCA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5jb25maWdzLmZvckVhY2godmFsID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXJMaXN0MS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdmFsLmF0dHJEZWZTdGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5hdHRyRGVmU3RhdGUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXJMaXN0Mi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIHZhbC5zdHJ1Y3REZWZTdGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5zdHJ1Y3REZWZTdGF0ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWwucHJpY2VEZWZTdGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wcmljZURlZlN0YXRlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDQucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHZhbC5zdXBlcnZpc2VEZWZTdGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5zdXBlcnZpc2VEZWZTdGF0ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QxID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDEucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsKICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QyID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDIucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsKICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QzID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDMucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsKICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3Q0ID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsKICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgIH0sIFtdKTsKICAgICAgICB9CiAgICB9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlckRlZlR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQXVkaXRUeXBlJywgY29kZSkKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXMKCiAgICByZXR1cm4gewogICAgICAgIGZpbHRlckhhbmRsZXJMaXN0MTpbXSwKICAgICAgICBmaWx0ZXJIYW5kbGVyTGlzdDI6W10sCiAgICAgICAgZmlsdGVySGFuZGxlckxpc3QzOltdLAogICAgICAgIGZpbHRlckhhbmRsZXJMaXN0NDpbXSwKICAgICAgLy/ooajmoLzmlbDmja4KICAgICAgY29uZmlnczogW10sCiAgICAgIC8v5p+l6K+i5Y+C5pWwCiAgICAgIHBhcmFtczogewogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZEFwcGxEYXRlOiAnJywKICAgICAgICBwZEVkaXRpb246ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHBkQ29kZTogW3twYXR0ZXJuOiAvXltBLVphLXowLTldezEsMTB9JC8sIG1lc3NhZ2U6ICLlv4XpobvnlLHmlbDlrZflkozlrZfmr43nu4TmiJDvvIzkuJTplb/luqbkuI3otoXov4cxMCIsIHRyaWdnZXI6ICJibHVyIn1dLAogICAgICAgIHBkRWRpdGlvbjogW3twYXR0ZXJuOiAvXlswLTldezEsOH0kLywgbWVzc2FnZTogIuW/hemhu+eUseaVsOWtl+e7hOaIkO+8jOS4lOmVv+W6puS4jei2hei/hzgiLCB0cmlnZ2VyOiAiYmx1ciJ9XQogICAgICB9LAogICAgICByYWRpbzogZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnBhcmFtcy5vcGVyYXRvciA9IHRoaXMudXNlcmNvZGUKICB9LAogIG1ldGhvZHM6IHsKICAgICAgZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWydwcm9wZXJ0eSddOwogICAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOwogICAgICB9LAogICAgaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLiRyZWZzLnBkRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQXBwbHkoKSB7CiAgICAgIHRoaXMuJHJlZnMucGRGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKCiAgICAgICAgICBpZiAoISh0aGlzLnBhcmFtcy5wZENvZGUgPSB0aGlzLnBhcmFtcy5wZENvZGUudHJpbSgpKSkgewogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkSW5mb1ZpZXcubWVzc2FnZS5ub19wZENvZGUnKSkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9IGVsc2UgaWYgKCEodGhpcy5wYXJhbXMucGRFZGl0aW9uID0gdGhpcy5wYXJhbXMucGRFZGl0aW9uLnRyaW0oKSkpIHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEluZm9WaWV3Lm1lc3NhZ2Uubm9fcGRFZGl0aW9uJykpCiAgICAgICAgICAgIHJldHVybgogICAgICAgICAgfQogICAgICAgICAgdGhpcy5wYXJhbXMucGRBcHBsRGF0ZSA9IHRoaXMuZ2V0Q3VycmVudERhdGVTdHIoKQogICAgICAgICAgYXBwbHlQZHRlbXBQZEluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NGbGFnID0gcmVzcG9uc2UuZGF0YS5zdWNjZXNzRmxhZwogICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgICAgIGNvbnN0IHBkdGVtcFBkSW5mbyA9IHJlc3BvbnNlLmRhdGEucGR0ZW1wUGRJbmZvCiAgICAgICAgICAgIGlmIChzdWNjZXNzRmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhtZXNzYWdlKQogICAgICAgICAgICAgIGNsb3NlVmlzaXRUYWcoKQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9kdWN0L3N0b3JhZ2VQcm9kdWN0cycpCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICfkuqflk4HmoYbmnrblrprkuYnkuLvpobUnLCBwYXJhbXM6IHBkdGVtcFBkSW5mb30pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcihtZXNzYWdlKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBjaG9vc2VPbmUocm93KSB7CiAgICAgIHRoaXMucmFkaW8gPSByb3cuaWQKICAgICAgY2xvc2VWaXNpdFRhZygpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5Lqn5ZOB5qGG5p625a6a5LmJ5Li76aG1JywgcGFyYW1zOiByb3d9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/apply","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form label-width=\"auto\" :model=\"params\" :rules=\"rules\" ref=\"pdForm\" style=\"margin: 20px 0 0 0\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('i18nView.pdCode')\" prop=\"pdCode\">\r\n            <el-input clearable v-model=\"params.pdCode\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('i18nView.pdName')\">\r\n            <el-input clearable v-model=\"params.pdName\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\">\r\n            <el-input clearable  v-model=\"params.pdEdition\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n        <el-button  size=\"small\" @click=\"handleSearch\" type=\"primary\" v-auth=\"'pdtemp-pd-info:query'\">\r\n          <i class=\"el-icon-search el-icon--left\"></i>\r\n          {{ $t('pdtempPdInfoView.query') }}\r\n        </el-button>\r\n        <el-button  size=\"small\" @click=\"handleApply\" type=\"primary\" v-auth=\"'pdtemp-pd-info:apply'\">\r\n          <svg-icon icon-class=\"apply\"/>\r\n          {{ $t('pdtempPdInfoView.apply') }}\r\n        </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n      <el-row  :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('pdtempPdInfoView.pdApplDate')\">\r\n            <el-date-picker  type=\"date\" v-model=\"params.pdApplDate\"\r\n                            value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-table-title :label=\"$t('pdtempPdInfoView.product')\"></cus-table-title>\r\n    <el-table :data=\"configs\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit highlight-current-row\r\n              ref=\"singleTable\" size=\"mini\" style=\"margin: 0px 0 20px 0\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio :label=\"scope.row.id\" @change=\"chooseOne(scope.row)\" v-model=\"radio\">{{''}}</el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n      <el-table-column :label=\"$t('customComponents.pdEdition')\" align=\"center\" prop=\"pdEdition\"></el-table-column>\r\n      <el-table-column sortable :label=\"$t('pdtempPdInfoView.pdApplDate')\" align=\"center\" prop=\"pdApplDate\"></el-table-column>\r\n      <el-table-column sortable :label=\"$t('pdtempPdInfoView.updateTime')\" align=\"center\" prop=\"changeDate\">\r\n        <template  v-slot=\"scope\"><span v-if=\"scope.row.defType!=1\">{{scope.row.changeDate}}</span></template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdtempPdInfoView.definitionType')\" align=\"center\" prop=\"defType\">\r\n        <template v-slot=\"scope\">{{scope.row.defType | filterDefType}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdtempPdInfoView.attributeDefinitionState')\"  :filters=\"filterHandlerList1\"\r\n                       :filter-method=\"filterHandler\" align=\"center\"\r\n                       prop=\"attrDefState\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtempPdInfoView.structureDefinitionState')\" align=\"center\" :filters=\"filterHandlerList2\"\r\n                       :filter-method=\"filterHandler\"\r\n                       prop=\"structDefState\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtempPdInfoView.currentPriceDefinitionState')\" align=\"center\" :filters=\"filterHandlerList3\"\r\n                       :filter-method=\"filterHandler\"\r\n                       prop=\"priceDefState\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdtempPdInfoView.superviseDefinitionState')\" align=\"center\" :filters=\"filterHandlerList4\"\r\n                       :filter-method=\"filterHandler\"\r\n                       prop=\"superviseDefState\"></el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page\" url=\"/pdtemp-pd-info/list\" v-model=\"configs\"/>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n  import {applyPdtempPdInfo} from '@/api/basicinfo/pdtempPdInfo'\r\n  import {mapGetters} from 'vuex'\r\n  import {closeVisitTag} from \"@/utils/tagsView\"\r\n\r\n  let _this\r\n  export default {\r\n    name: 'pdtempPdInfo',\r\n    computed: {\r\n      ...mapGetters([\r\n        'usercode'\r\n      ])\r\n    },\r\n      watch:{\r\n        'configs' () {\r\n              if (this.configs.length > 0) {\r\n                  this.filterHandlerList1 = [];\r\n                  this.filterHandlerList2 = [];\r\n                  this.filterHandlerList3 = [];\r\n                  this.filterHandlerList4 = [];\r\n                  this.configs.forEach(val => {\r\n                      this.filterHandlerList1.push({\r\n                          text: val.attrDefState,\r\n                          value: val.attrDefState\r\n                      });\r\n                      this.filterHandlerList2.push({\r\n                          text:  val.structDefState,\r\n                          value: val.structDefState\r\n                      });\r\n                      this.filterHandlerList3.push({\r\n                          text: val.priceDefState,\r\n                          value: val.priceDefState\r\n                      });\r\n                      this.filterHandlerList4.push({\r\n                          text: val.superviseDefState,\r\n                          value: val.superviseDefState\r\n                      });\r\n                  });\r\n              }\r\n            this.filterHandlerList1 = this.filterHandlerList1.reduce(function(prev, element) {\r\n                if (!prev.find(el => el.text == element.text)) {\r\n                    prev.push(element);\r\n                }\r\n                return prev;\r\n            }, []);\r\n            this.filterHandlerList2 = this.filterHandlerList2.reduce(function(prev, element) {\r\n                if (!prev.find(el => el.text == element.text)) {\r\n                    prev.push(element);\r\n                }\r\n                return prev;\r\n            }, []);\r\n            this.filterHandlerList3 = this.filterHandlerList3.reduce(function(prev, element) {\r\n                if (!prev.find(el => el.text == element.text)) {\r\n                    prev.push(element);\r\n                }\r\n                return prev;\r\n            }, []);\r\n            this.filterHandlerList4 = this.filterHandlerList4.reduce(function(prev, element) {\r\n                if (!prev.find(el => el.text == element.text)) {\r\n                    prev.push(element);\r\n                }\r\n                return prev;\r\n            }, []);\r\n          }\r\n      },\r\n    filters: {\r\n      filterDefType(code) {\r\n        return _this.getCodeName('pdAuditType', code)\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n\r\n      return {\r\n          filterHandlerList1:[],\r\n          filterHandlerList2:[],\r\n          filterHandlerList3:[],\r\n          filterHandlerList4:[],\r\n        //表格数据\r\n        configs: [],\r\n        //查询参数\r\n        params: {\r\n          pdCode: '',\r\n          pdName: '',\r\n          pdApplDate: '',\r\n          pdEdition: '',\r\n          operator: ''\r\n        },\r\n        rules: {\r\n          pdCode: [{pattern: /^[A-Za-z0-9]{1,10}$/, message: \"必须由数字和字母组成，且长度不超过10\", trigger: \"blur\"}],\r\n          pdEdition: [{pattern: /^[0-9]{1,8}$/, message: \"必须由数字组成，且长度不超过8\", trigger: \"blur\"}]\r\n        },\r\n        radio: false\r\n      }\r\n    },\r\n    created() {\r\n      this.params.operator = this.usercode\r\n    },\r\n    methods: {\r\n        filterHandler(value, row, column) {\r\n            const property = column['property'];\r\n            return row[property] === value;\r\n        },\r\n      handleSearch() {\r\n        this.$refs.pdForm.validate(valid => {\r\n          if (valid) {\r\n            this.$refs.page.reload()\r\n          }\r\n        })\r\n      },\r\n      handleApply() {\r\n        this.$refs.pdForm.validate(valid => {\r\n          if (valid) {\r\n\r\n            if (!(this.params.pdCode = this.params.pdCode.trim())) {\r\n              this.notifyError(this.$t('pdtempPdInfoView.message.no_pdCode'))\r\n              return\r\n            } else if (!(this.params.pdEdition = this.params.pdEdition.trim())) {\r\n              this.notifyError(this.$t('pdtempPdInfoView.message.no_pdEdition'))\r\n              return\r\n            }\r\n            this.params.pdApplDate = this.getCurrentDateStr()\r\n            applyPdtempPdInfo(this.buildRequestData(this.params)).then(response => {\r\n              const successFlag = response.data.successFlag\r\n              const message = response.data.message\r\n              const pdtempPdInfo = response.data.pdtempPdInfo\r\n              if (successFlag === true) {\r\n                this.notifySuccess(message)\r\n                closeVisitTag()\r\n                this.$store.dispatch('product/storageProducts')\r\n                this.$router.push({name: '产品框架定义主页', params: pdtempPdInfo})\r\n              } else {\r\n                this.notifyError(message)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      chooseOne(row) {\r\n        this.radio = row.id\r\n        closeVisitTag()\r\n        this.$router.push({name: '产品框架定义主页', params: row})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
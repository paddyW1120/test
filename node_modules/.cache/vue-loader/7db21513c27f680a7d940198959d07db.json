{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-renew-rule\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-renew-rule\\index.vue","mtime":1609847107060},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29ublJ1bGVzLAogIGRlbGV0ZVJ1bGUsCiAgcGFja2FnZUxpc3QsCiAgZmluZFJ1bGVzQnlQYXJhbXMsCiAgZmluZFJ1bGVzTGlzdCwKICBnZXRSdWxlQ29kZSwKICBmaW5kUHJvZHVjdExpc3QKfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcmVuZXdJbnN1cmFuY2VSdWxlIjsKaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IgppbXBvcnQgcnVsZU1vZHVsZSBmcm9tICdAL3ZpZXdzL2licm1zL3J1bGVNYW5hZ2VtZW50L3J1bGVNb2R1bGUvaW5kZXgnCmltcG9ydCBydWxlTWFrZSBmcm9tICdAL3ZpZXdzL2licm1zL3J1bGVNYW5hZ2VtZW50L3J1bGVNYWtlL2luZGV4JwoKbGV0IF90aGlzOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZW5ld0luc3VyYW5jZVJ1bGUiLAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9wZFJ1bGVEZWYoY29kZSl7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicnVsZVByb3BlcnRpZXMiLCBjb2RlLCB0cnVlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGRSdWxlUHJvcER0Q2xzKGNvZGUpIHsKICAgICAgaWYgKGNvZGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgncnVsZUFzY3JEZXRhJywgY29kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGNvZGU7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICBydWxlVmlldzogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHVwZGF0ZUR5bmFtaWNUYWJsZTogZmFsc2UsCiAgICAgICAgZmxhZzogJycsCiAgICAgICAgcnVsZUNvZGU6ICcnLAogICAgICAgIHJ1bGVRdWVyeTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGF0dHJpYnV0ZU9iajoge30sCiAgICAgIHJ1bGVWaXNpYmxlOiBmYWxzZSwKICAgICAgcGRQcEluZm86IHt9LAogICAgICByYWRpbzI6IG51bGwsCiAgICAgIHNob3dSdWxlOiBmYWxzZSwKICAgICAgbGFuZ3VhZ2U6IG51bGwsCiAgICAgIHByb2R1Y3RDb2RlOicnLAogICAgICBydWxlTWVzc2FnZUluZm9Cb206IFtdLAogICAgICBydWxlQnVzaW5lc3NNb2R1bGVGaWx0ZXI6JzEkMTAkMTEnLAogICAgICBydWxlUHJvcGVydGllc0ZpbHRlcjonMSQyJDMnLAogICAgICBjdXNDb25maWdzOiBbXSwKICAgICAgcnVsZUNvbmZpZ3M6IFtdLAogICAgICBwcm9kdWN0T3B0aW9uczpbXSwKICAgICAgc2hvd1J1bGVQcm9kdWN0RmxhZzp0cnVlLAogICAgICBwYWNrYWdlT3B0aW9uczogW10sCiAgICAgIGFwcG9pbnRQcm9kdWN0T3B0aW9uczpbXSwKICAgICAgY29kZUZpbHRlcnM6IFtdLAogICAgICBjaG9vc2VSdWxlczogW10sCiAgICAgIC8v5aWX6aSQ6Ieq5a6a5LmJ5oqV5L+d5qC45L+d6KeE5YiZ6YWN572uCiAgICAgIGluc3VyYW5jZVJ1bGVGb3JtOnsKICAgICAgICBwZFJ1bGVHcmFkZTonMicsCiAgICAgICAgcGRHcmFkZUNvZGU6JycKICAgICAgfSwKICAgICAgLy/pgInmi6nop4TliJkKICAgICAgY3VzRm9ybTogewogICAgICAgIHBhY2thZ2U6JycsCiAgICAgICAgcHJvZHVjdDogJycsCiAgICAgICAgcnVsZUNvZGU6ICcnLAogICAgICAgIHJ1bGVCdXNzVHlwZTonJwogICAgICB9LAogICAgICBwcm9kdWN0Rm9ybTogewogICAgICAgIHByb2R1Y3Q6JycsCiAgICAgICAgcnVsZUJ1c3NUeXBlOicnCiAgICAgIH0sCiAgICAgIGluc3VyYW5jZVJ1bGVGb3JtUnVsZTogewogICAgICAgIHBkUnVsZUdyYWRlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6KeE5YiZ5omA5bGe57qn5YirIiwgdHJpZ2dlcjogImJsdXIifV0sCiAgICAgICAgcGRHcmFkZUNvZGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nkuqflk4EiLCB0cmlnZ2VyOiAiYmx1ciJ9XQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdydWxlTWFzc2FnZXMnLAogICAgXSkKICB9LAogIGNvbXBvbmVudHM6IHtydWxlTW9kdWxlLCBydWxlTWFrZX0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubGFuZ3VhZ2U7CiAgICB0aGlzLnJ1bGVNZXNzYWdlSW5mb0JvbSA9IHRoaXMuJHN0b3JlLnN0YXRlLnJ1bGVNZXNzYWdlLnJ1bGVNZXNzYWdlczsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgIHRoaXMucHJvZHVjdEZvcm0ucHJvZHVjdD10aGlzLnBkUHBJbmZvLnBwQ29kZSsiOiIrdGhpcy5wZFBwSW5mby5wcE5hbWU7CiAgICB0aGlzLnByb2R1Y3RGb3JtLnJ1bGVCdXNzVHlwZT0nMTEnOwogICAgaWYgKHRoaXMucGRQcEluZm8pIHsKICAgICAgdGhpcy5maW5kQ3VzQ29uZmlnc0RhdGEoKTsKICAgICAgdGhpcy5maW5kUHJvZHVjdExpc3QoKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJ1bGVDb25maWdzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnJ1bGVDb25maWdzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzID0gW107CiAgICAgICAgdGhpcy5ydWxlQ29uZmlncy5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzLnB1c2goewogICAgICAgICAgICB0ZXh0OiB2YWwucGRSdWxlQ29kZSwKICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFJ1bGVDb2RlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzID0gdGhpcy5jb2RlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LCBbXSk7CiAgICAgIH0KICAgIH0sCiAgICAnaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGUnKCl7CiAgICAgIGNvbnN0IHZhbD10aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlOwogICAgICBpZih2YWw9PScyJyl7CiAgICAgICAgdGhpcy5zaG93UnVsZVByb2R1Y3RGbGFnPXRydWU7CiAgICAgICAgdGhpcy5pbnN1cmFuY2VSdWxlRm9ybVJ1bGUucGRHcmFkZUNvZGU9IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nkuqflk4EiLCB0cmlnZ2VyOiAiYmx1ciJ9XQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWc9ZmFsc2U7CiAgICAgICAgdGhpcy5pbnN1cmFuY2VSdWxlRm9ybVJ1bGUucGRHcmFkZUNvZGU9IFt7cmVxdWlyZWQ6IGZhbHNlfV0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcnVsZU1vZHVsZUNsb3NlZCgpIHsKICAgICAgdGhpcy5ydWxlVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLnNlYXJjaFJ1bGVzKCkKICAgIH0sCiAgICBydWxlTWFrZUNsb3NlZCgpIHsKICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMucmFkaW8yID0gbnVsbAogICAgfSwKICAgIHJ1bGVWaWV3Q2xvc2VkKCkgewogICAgICB0aGlzLnJhZGlvMiA9IG51bGwKICAgIH0sCiAgICBmaW5kUHJvZHVjdEJ5UGFja2FnZUlkKHZhbCl7CiAgICAgIGlmKHZhbD09bnVsbCB8fCB2YWw9PSIiKXsKICAgICAgICB0aGlzLmFwcG9pbnRQcm9kdWN0T3B0aW9ucyA9IFtdOwogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGZpbmRQcm9kdWN0TGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6dmFsfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHRoaXMuYXBwb2ludFByb2R1Y3RPcHRpb25zID0gW107CiAgICAgICAgdGhpcy5jdXNGb3JtLnByb2R1Y3Q9Jyc7CiAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICBkYXRhLmZvckVhY2gocHJvZHVjdCA9PiB7CiAgICAgICAgICAgIHRoaXMuYXBwb2ludFByb2R1Y3RPcHRpb25zLnB1c2goewogICAgICAgICAgICAgIHZhbHVlOiBwcm9kdWN0LnBkQ29kZSwKICAgICAgICAgICAgICBsYWJlbDogcHJvZHVjdC5wZENvZGUgKyAiOiIgKyBwcm9kdWN0LnBkTmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZmluZFByb2R1Y3RMaXN0KCl7CiAgICAgIGZpbmRQcm9kdWN0TGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6dGhpcy5wZFBwSW5mby5pZH0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25zID0gW107CiAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0T3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICB2YWx1ZTogdmFsLnBkQ29kZSwKICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQ29kZSArICI6IiArIHZhbC5wZE5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmRDdXNDb25maWdzRGF0YSgpIHsKICAgICAgZmluZFJ1bGVzTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6dGhpcy5wZFBwSW5mby5pZCwicGRDb2RlIjp0aGlzLnBkUHBJbmZvLnBwQ29kZX0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5jdXNDb25maWdzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmRSdWxlc09wdGlvbnMoKSB7CiAgICAgIHRoaXMuJHJlZnNbImluc3VyYW5jZVJ1bGVGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5zaG93UnVsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLmN1c0Zvcm0ucGFja2FnZSA9IHRoaXMucGRQcEluZm8uaWQ7CiAgICAgICAgICBwYWNrYWdlTGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy5wYWNrYWdlT3B0aW9ucyA9IFtdOwogICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZU9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwuaWQsCiAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucHBDb2RlICsgIjoiICsgdmFsLnBwTmFtZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5maW5kUHJvZHVjdEJ5UGFja2FnZUlkKHRoaXMuY3VzRm9ybS5wYWNrYWdlKTsKICAgICAgICAgICAgdGhpcy5zZWFyY2hSdWxlcygpCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZih0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWcpIHsKICAgICAgICB0aGlzLnByb2R1Y3RDb2RlID0gdGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZEdyYWRlQ29kZTsKICAgICAgICB0aGlzLmN1c0Zvcm0ucHJvZHVjdCA9IHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRHcmFkZUNvZGUKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hSdWxlQ29uZmlncygpIHsKICAgICAgdGhpcy4kcmVmc1siY3VzRm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuc2VhcmNoUnVsZXMoKQogICAgfSwKICAgIGFkZFJ1bGVzKCkgewogICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICBwZEJ1c3NUeXBlOiAnOCcsCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogJzExJwogICAgICB9OwogICAgICBsZXQgcGRDb2RlPScnOwogICAgICBpZih0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWcpewogICAgICAgIHBkQ29kZT10aGlzLnByb2R1Y3RDb2RlCiAgICAgIH1lbHNlewogICAgICAgIHBkQ29kZT10aGlzLnBkUHBJbmZvLnBwQ29kZQogICAgICB9CiAgICAgIGdldFJ1bGVDb2RlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYXR0cmlidXRlT2JqID0gewogICAgICAgICAgY29kZTogcmVzcG9uc2UuZGF0YSwKICAgICAgICAgIHJ1bGVCdXNzTW9kdTogJzgnLAogICAgICAgICAgcnVsZUJ1c3NNb2R1RGV0YTogJzExJywKICAgICAgICAgIHJ1bGVUeXBlOiAnMScsCiAgICAgICAgICBydWxlQXR0cjogJzMnLAogICAgICAgICAgcGRUeXBlOiAnMicsCiAgICAgICAgICBwZENvZGU6IHBkQ29kZSwKICAgICAgICAgIHBkRWRpdGlvbjogJzEnCiAgICAgICAgfTsKICAgICAgICBpZih0aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlPT0nMicpewogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucnVsZVR5cGU9JzEnLAogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iai5wZFR5cGU9JzEnLAogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iai5ydWxlQXR0cj0nMicsCiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JqLnBkQ29kZT10aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkR3JhZGVDb2RlLAogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iai5yaXNrVHlwZT10aGlzLnBkVHlwZSwKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucmlza0RldGFpbD10aGlzLnBkRGV0YWlsVHlwZQogICAgICAgIH0KICAgICAgICB0aGlzLnJ1bGVWaXNpYmxlID0gdHJ1ZQogICAgICB9KQogICAgfSwKICAgIHNob3dSdWxlcyhjb2RlKSB7CiAgICAgIHRoaXMucnVsZVZpZXcuZmxhZyA9ICcxJzsKICAgICAgdGhpcy5ydWxlVmlldy5ydWxlQ29kZSA9IGNvZGU7CiAgICAgIHRoaXMucnVsZVZpZXcucnVsZVF1ZXJ5ID0gdHJ1ZTsKICAgICAgdGhpcy5ydWxlVmlldy51cGRhdGVEeW5hbWljVGFibGUgPSBmYWxzZTsKICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIHNlYXJjaFJ1bGVzKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHBkSW5mb0lkOnRoaXMucGRQcEluZm8uaWQsCiAgICAgICAgcGFja2FnZUlkOiB0aGlzLmN1c0Zvcm0ucGFja2FnZSwKICAgICAgICBwZENvZGU6IHRoaXMuY3VzRm9ybS5wcm9kdWN0LAogICAgICAgIHBkUnVsZUNvZGU6IHRoaXMuY3VzRm9ybS5ydWxlQ29kZSwKICAgICAgICBwZEJ1c3NUeXBlOiB0aGlzLmN1c0Zvcm0ucGRCdXNzVHlwZQogICAgICB9OwogICAgICBpZiAodGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZFJ1bGVHcmFkZT09PScyJyl7CiAgICAgICAgaWYoIXRoaXMuY3VzRm9ybS5wcm9kdWN0KXsKICAgICAgICAgIHBhcmFtcz17fTsKICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgcGRJbmZvSWQ6dGhpcy5wZFBwSW5mby5pZCwKICAgICAgICAgICAgcGFja2FnZUlkOiB0aGlzLmN1c0Zvcm0ucGFja2FnZSwKICAgICAgICAgICAgcGRDb2RlOiB0aGlzLnByb2R1Y3RDb2RlLAogICAgICAgICAgICBwZFJ1bGVDb2RlOiB0aGlzLmN1c0Zvcm0ucnVsZUNvZGUsCiAgICAgICAgICAgIHBkQnVzc1R5cGU6IHRoaXMuY3VzRm9ybS5wZEJ1c3NUeXBlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZpbmRSdWxlc0J5UGFyYW1zKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBkYXRhID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnBkUnVsZUNvZGUgPT0gZWxlbWVudC5wZFJ1bGVDb2RlKSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LCBbXSk7CiAgICAgICAgdGhpcy5ydWxlQ29uZmlncyA9IGRhdGE7CiAgICAgIH0pCiAgICB9LAogICAgY29ublJ1bGVzKCkgewogICAgICBpZiAodGhpcy5jaG9vc2VSdWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfor7fpgInmi6nop4TliJknKTsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBsZXQgcGR0ZW1wUGRSdWxlc0xpc3QgPSBbXTsKICAgICAgdGhpcy5jaG9vc2VSdWxlcy5mb3JFYWNoKHJ1bGUgPT4gewogICAgICAgIGxldCBwZHRlbXBQZFJ1bGVzID0gewogICAgICAgICAgcGRWZXJJZDoxLAogICAgICAgICAgcGRDb2RlOiBydWxlLnBkQ29kZSwKICAgICAgICAgIHBkSW5mb0lkOnRoaXMucGRQcEluZm8uaWQsCiAgICAgICAgICBwZFR5cGU6dGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZFJ1bGVHcmFkZSwKICAgICAgICAgIHBkUnVsZUdyYWRlOiBydWxlLnBkUnVsZUdyYWRlLAogICAgICAgICAgcGRSdWxlQ2xzOiBydWxlLnBkUnVsZUNscywKICAgICAgICAgIHBkUnVsZUR0Q2xzOiBydWxlLnBkUnVsZUR0Q2xzLAogICAgICAgICAgcGRSdWxlUHJvcENsczogcnVsZS5wZFJ1bGVQcm9wQ2xzLAogICAgICAgICAgcGRSdWxlUHJvcER0Q2xzOiBydWxlLnBkUnVsZVByb3BEdENscywKICAgICAgICAgIHBkUnVsZUNvZGU6IHJ1bGUucGRSdWxlQ29kZSwKICAgICAgICAgIHBkUnVsZURlc2M6IHJ1bGUucGRSdWxlRGVzYwogICAgICAgIH07CiAgICAgICAgaWYodGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZFJ1bGVHcmFkZT09JzInKXsKICAgICAgICAgIHBkdGVtcFBkUnVsZXMucGRQYWNrYWdlQ29kZT10aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkR3JhZGVDb2RlCiAgICAgICAgfWVsc2V7CiAgICAgICAgICBwZHRlbXBQZFJ1bGVzLnBkUGFja2FnZUNvZGU9dGhpcy5wZFBwSW5mby5wcENvZGUKICAgICAgICB9CiAgICAgICAgcGR0ZW1wUGRSdWxlc0xpc3QucHVzaChwZHRlbXBQZFJ1bGVzKTsKICAgICAgfSk7CiAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgIHJ1bGVzOiBwZHRlbXBQZFJ1bGVzTGlzdCwKICAgICAgICBwZHRlbXBQcEluZm86IHRoaXMucGRQcEluZm8sCiAgICAgICAgcGRDb2RlOiB0aGlzLnByb2R1Y3RDb2RlLAogICAgICAgIHBkQnVzc1R5cGU6ICc4JywKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAnMTEnCiAgICAgIH07CiAgICAgIGNvbm5SdWxlcyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICB0aGlzLmZpbmRDdXNDb25maWdzRGF0YSgpOwogICAgICAgIHRoaXMuc2VhcmNoUnVsZXMoKTsKICAgICAgfSkKICAgIH0sCiAgICBkZWxDdXNSb3cocm93KSB7CiAgICAgIGRlbGV0ZVJ1bGUocm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIHRoaXMuZmluZEN1c0NvbmZpZ3NEYXRhKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICBpZiAoY29sdW1uKSB7CiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bInByb3BlcnR5Il07CiAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgY2hvb3NlT25lKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09ICJJTlBVVCIpIHsKICAgICAgICBpZiAocm93LmlkID09IHRoaXMucmFkaW8yKSB7CiAgICAgICAgICB0aGlzLnJhZGlvMiA9IG51bGw7CiAgICAgICAgICB0aGlzLiRyZWZzLmN1c1RhYmxlLnNldEN1cnJlbnRSb3coKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJhZGlvMiA9IHJvdy5pZDsKICAgICAgICAgIHRoaXMucnVsZVZpZXcuZmxhZyA9ICcyJzsKICAgICAgICAgIHRoaXMucnVsZVZpZXcucnVsZUNvZGUgPSByb3cucGRSdWxlQ29kZTsKICAgICAgICAgIHRoaXMucnVsZVZpZXcucnVsZVF1ZXJ5ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnVwZGF0ZUR5bmFtaWNUYWJsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnZpc2libGUgPSB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHJvdykgewogICAgICB0aGlzLmNob29zZVJ1bGVzID0gcm93OwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-underwriting-def/unw-renew-rule","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-form-title :label=\"$t('renewInsuranceRule.customRuleConfiguration')\"></cus-form-title>\r\n    <el-form :model=\"insuranceRuleForm\" label-width=\"auto\"  :rules=\"insuranceRuleFormRule\"  ref=\"insuranceRuleForm\" >\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item  :label=\"$t('renewInsuranceRule.pdRuleGrade')\" prop=\"pdRuleGrade\">\r\n            <cus-radio :codetype=\"'ruleProperties'\"  :filter=\"rulePropertiesFilter\"  :isRequired=\"true\" v-model=\"insuranceRuleForm.pdRuleGrade\" ></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"10\">\r\n          <el-form-item  :label=\"$t('renewInsuranceRule.product')\" v-show=\"showRuleProductFlag\"  prop=\"pdGradeCode\">\r\n            <el-select  clearable filterable v-model=\"insuranceRuleForm.pdGradeCode\">\r\n              <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in productOptions\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"findRulesOptions\" icon=\"el-icon-connection\" type=\"primary\">\r\n      {{$t('renewInsuranceRule.ruleSelect')}}\r\n    </el-button>\r\n    <br/>\r\n    <cus-form-title  :label=\"$t('renewInsuranceRule.selectRule')\"></cus-form-title>\r\n    <cus-table-title  :label=\"$t('renewInsuranceRule.productPackageRenewInsuranceRule')\"/>\r\n    <el-table :data=\"cusConfigs\" @row-click=\"chooseOne\" align=\"center\" border class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit highlight-current-row max-height=\"500px\" ref=\"cusTable\" size=\"mini\">\r\n      <el-table-column :label=\"$t('pdtempPdBnft.choose')\" width=\"50\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio :label=\"scope.row.id\" v-model=\"radio2\">\r\n            <span class=\"el-radio__label\"></span>\r\n          </el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('renewInsuranceRule.pdRuleGrade')\" align=\"center\" prop=\"pdType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdType | filter_pdRuleDef }}</template>\r\n      </el-table-column>\r\n      <el-table-column  :label=\"$t('renewInsuranceRule.pdRuleDef')\" align=\"center\" prop=\"pdRuleGrade\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdPackageCode : '套餐:' + scope.row.pdPackageCode}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('renewInsuranceRule.pdRuleCode')\" align=\"center\" prop=\"pdRuleCode\" width=\"180px\"></el-table-column>\r\n      <el-table-column :label=\"$t('renewInsuranceRule.pdRuleDesc')\" align=\"center\" prop=\"pdRuleDesc\" width=\"180px\"></el-table-column>\r\n      <el-table-column :label=\"$t('renewInsuranceRule.details')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"showRules(scope.row.pdRuleCode)\" type=\"text\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('renewInsuranceRule.operation')\" align=\"center\"  width=\"90px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" @click=\"delCusRow(scope.row)\" icon=\"el-icon-delete\"\r\n                     size=\"mini\" type=\"danger\" v-auth=\"'renewInsuranceRule:deleteRule'\"></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-dialog v-dialog-drag v-if=\"showRule\" :close-on-click-modal=\"false\" :visible.sync=\"showRule\" append-to-body center\r\n               width=\"75%\">\r\n      <cus-page-title-back :isDialog=\"true\" @backTo=\"showRule=false\"  :label=\"$t('i18nView.renewalRules')\"/>\r\n      <el-form :model=\"productForm\" label-width=\"auto\" ref=\"productForm\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item  :label=\"$t('renewInsuranceRule.productMeat')\">\r\n              <el-tag type=\"info\">{{ productForm.product }}</el-tag>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" v-show=\"showRuleProductFlag\">\r\n            <el-form-item  :label=\"$t('renewInsuranceRule.product')\">\r\n              <el-select  clearable filterable v-model=\"productCode\" :disabled=\"true\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in productOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('renewInsuranceRule.ruleAttributeType')\">\r\n              <cus-select :codetype=\"'ruleBusinessDetailClass'\" v-model=\"productForm.ruleBussType\" :disabled=\"true\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <cus-form-title :label=\"$t('renewInsuranceRule.ruleSelect')\"></cus-form-title>\r\n      <el-form :model=\"cusForm\" label-width=\"auto\" ref=\"cusForm\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('renewInsuranceRule.pickMeat')\">\r\n              <el-select :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"  clearable filterable\r\n                         v-model=\"cusForm.package\" @change=\"findProductByPackageId\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in packageOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('renewInsuranceRule.designatedProducts')\">\r\n              <el-select :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"  clearable filterable\r\n                         v-model=\"cusForm.product\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in appointProductOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('renewInsuranceRule.ruleAttributeType')\">\r\n              <cus-select :codetype=\"'ruleBusinessDetailClass'\" :filter=\"ruleBusinessModuleFilter\" v-model=\"cusForm.pdBussType\" ></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('renewInsuranceRule.ruleCode')\" prop=\"ruleCode\">\r\n              <el-input v-model=\"cusForm.ruleCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"searchRules\" icon=\"el-icon-search\" type=\"primary\">\r\n                {{ $t('renewInsuranceRule.search') }}</el-button>\r\n        </el-row>\r\n      </el-form>\r\n      <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"addRules\" type=\"primary\"><i class=\"el-icon-plus el-icon--left\"></i>{{ $t('renewInsuranceRule.addRule') }}\r\n      </el-button>\r\n      <cus-table-title :label=\" $t('renewInsuranceRule.rule')\" />\r\n      <el-table :data=\"ruleConfigs\" @selection-change=\"handleSelectionChange\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\" fit highlight-current-row ref=\"configsTable\" size=\"mini\">\r\n        <el-table-column type=\"selection\" width=\"55\"  align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('renewInsuranceRule.pdRuleDef')\" align=\"center\" prop=\"pdRuleGrade\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdCode : '套餐:' + scope.row.pdCode}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\" :filters=\"codeFilters\"\r\n                         :label=\"$t('renewInsuranceRule.ruleCode')\"\r\n                         align=\"center\" prop=\"pdRuleCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('renewInsuranceRule.pdRuleDesc')\" align=\"center\" prop=\"pdRuleDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('renewInsuranceRule.details')\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button  dialog-disable=\"disable\" size=\"small\" @click=\"showRules(scope.row.pdRuleCode)\" type=\"text\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <div style=\"float:right\">\r\n        <el-button  dialog-disable=\"disable\" size=\"small\" @click=\"connRules\" icon=\"el-icon-connection\"  v-auth=\"'renewInsuranceRule:connRules'\" type=\"primary\">\r\n          {{ $t('renewInsuranceRule.choice') }}\r\n        </el-button>\r\n        <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"refreshRuleConfigs\" icon=\"el-icon-refresh\" type=\"primary\">\r\n          {{ $t('renewInsuranceRule.refresh') }}\r\n        </el-button>\r\n      </div>\r\n      <br/>\r\n    </el-dialog>\r\n    <!-- 规则引擎定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"ruleVisible\"></cus-rule-definition>\r\n    <!-- 规则查看弹窗 -->\r\n    <cus-rule-modify :flag=\"ruleView.flag\" :ruleCode=\"ruleView.ruleCode\" :ruleModifyClosed=\"ruleMakeClosed\"\r\n                     :ruleType=\"'1'\" :visible=\"ruleView.visible\"></cus-rule-modify>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {connRules,\r\n    deleteRule,\r\n    packageList,\r\n    findRulesByParams,\r\n    findRulesList,\r\n    getRuleCode,\r\n    findProductList\r\n  } from \"@/api/basicinfo/renewInsuranceRule\";\r\n  import {mapGetters} from \"vuex\"\r\n  import ruleModule from '@/views/ibrms/ruleManagement/ruleModule/index'\r\n  import ruleMake from '@/views/ibrms/ruleManagement/ruleMake/index'\r\n\r\n  let _this;\r\n\r\n  export default {\r\n    name: \"renewInsuranceRule\",\r\n    filters: {\r\n      filter_pdRuleDef(code){\r\n        return _this.getCodeName(\"ruleProperties\", code, true);\r\n      },\r\n      filter_pdRulePropDtCls(code) {\r\n        if (code) {\r\n          return _this.getCascaderCodeName('ruleAscrDeta', code);\r\n        } else {\r\n          return code;\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      _this = this;\r\n      return {\r\n        ruleView: {\r\n          visible: false,\r\n          updateDynamicTable: false,\r\n          flag: '',\r\n          ruleCode: '',\r\n          ruleQuery: undefined\r\n        },\r\n        attributeObj: {},\r\n        ruleVisible: false,\r\n        pdPpInfo: {},\r\n        radio2: null,\r\n        showRule: false,\r\n        language: null,\r\n        productCode:'',\r\n        ruleMessageInfoBom: [],\r\n        ruleBusinessModuleFilter:'1$10$11',\r\n        rulePropertiesFilter:'1$2$3',\r\n        cusConfigs: [],\r\n        ruleConfigs: [],\r\n        productOptions:[],\r\n        showRuleProductFlag:true,\r\n        packageOptions: [],\r\n        appointProductOptions:[],\r\n        codeFilters: [],\r\n        chooseRules: [],\r\n        //套餐自定义投保核保规则配置\r\n        insuranceRuleForm:{\r\n          pdRuleGrade:'2',\r\n          pdGradeCode:''\r\n        },\r\n        //选择规则\r\n        cusForm: {\r\n          package:'',\r\n          product: '',\r\n          ruleCode: '',\r\n          ruleBussType:''\r\n        },\r\n        productForm: {\r\n          product:'',\r\n          ruleBussType:''\r\n        },\r\n        insuranceRuleFormRule: {\r\n          pdRuleGrade: [{required: true, message: \"请选择规则所属级别\", trigger: \"blur\"}],\r\n          pdGradeCode: [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'ruleMassages',\r\n      ])\r\n    },\r\n    components: {ruleModule, ruleMake},\r\n    mounted() {\r\n      this.language = this.$store.state.app.language;\r\n      this.ruleMessageInfoBom = this.$store.state.ruleMessage.ruleMessages;\r\n    },\r\n    created() {\r\n      this.pdPpInfo = this.getPdData();\r\n      this.productForm.product=this.pdPpInfo.ppCode+\":\"+this.pdPpInfo.ppName;\r\n      this.productForm.ruleBussType='11';\r\n      if (this.pdPpInfo) {\r\n        this.findCusConfigsData();\r\n        this.findProductList()\r\n      }\r\n    },\r\n    watch: {\r\n      ruleConfigs: function () {\r\n        if (this.ruleConfigs.length > 0) {\r\n          this.codeFilters = [];\r\n          this.ruleConfigs.forEach(val => {\r\n            this.codeFilters.push({\r\n              text: val.pdRuleCode,\r\n              value: val.pdRuleCode\r\n            });\r\n          });\r\n          this.codeFilters = this.codeFilters.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n      },\r\n      'insuranceRuleForm.pdRuleGrade'(){\r\n        const val=this.insuranceRuleForm.pdRuleGrade;\r\n        if(val=='2'){\r\n          this.showRuleProductFlag=true;\r\n          this.insuranceRuleFormRule.pdGradeCode= [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n        }else{\r\n          this.showRuleProductFlag=false;\r\n          this.insuranceRuleFormRule.pdGradeCode= [{required: false}]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ruleModuleClosed() {\r\n        this.ruleVisible = false;\r\n        this.searchRules()\r\n      },\r\n      ruleMakeClosed() {\r\n        this.ruleView.visible = false;\r\n        this.radio2 = null\r\n      },\r\n      ruleViewClosed() {\r\n        this.radio2 = null\r\n      },\r\n      findProductByPackageId(val){\r\n        if(val==null || val==\"\"){\r\n          this.appointProductOptions = [];\r\n          return\r\n        }\r\n        findProductList(this.buildRequestData({\"pdInfoId\":val})).then(res => {\r\n          let data = res.data;\r\n          this.appointProductOptions = [];\r\n          this.cusForm.product='';\r\n          if (data.length) {\r\n            data.forEach(product => {\r\n              this.appointProductOptions.push({\r\n                value: product.pdCode,\r\n                label: product.pdCode + \":\" + product.pdName\r\n              });\r\n            });\r\n          }\r\n        });\r\n      },\r\n      findProductList(){\r\n        findProductList(this.buildRequestData({\"pdInfoId\":this.pdPpInfo.id})).then(res => {\r\n          let data = res.data;\r\n          this.productOptions = [];\r\n          if (data.length) {\r\n            data.forEach(val => {\r\n              this.productOptions.push({\r\n                value: val.pdCode,\r\n                label: val.pdCode + \":\" + val.pdName\r\n              });\r\n            });\r\n          }\r\n        });\r\n      },\r\n      findCusConfigsData() {\r\n        findRulesList(this.buildRequestData({\"pdInfoId\":this.pdPpInfo.id,\"pdCode\":this.pdPpInfo.ppCode})).then(res => {\r\n          this.cusConfigs = res.data;\r\n        });\r\n      },\r\n      findRulesOptions() {\r\n        this.$refs[\"insuranceRuleForm\"].validate(valid => {\r\n          if (valid) {\r\n            this.showRule = true;\r\n            this.cusForm.package = this.pdPpInfo.id;\r\n            packageList().then(res => {\r\n              let data = res.data;\r\n              this.packageOptions = [];\r\n              if (data.length) {\r\n                data.forEach(val => {\r\n                  this.packageOptions.push({\r\n                    value: val.id,\r\n                    label: val.ppCode + \":\" + val.ppName\r\n                  });\r\n                });\r\n              }\r\n              this.findProductByPackageId(this.cusForm.package);\r\n              this.searchRules()\r\n            });\r\n          }\r\n        });\r\n        if(this.showRuleProductFlag) {\r\n          this.productCode = this.insuranceRuleForm.pdGradeCode;\r\n          this.cusForm.product = this.insuranceRuleForm.pdGradeCode\r\n        }\r\n      },\r\n      refreshRuleConfigs() {\r\n        this.$refs[\"cusForm\"].resetFields();\r\n        this.searchRules()\r\n      },\r\n      addRules() {\r\n        const param = {\r\n          pdBussType: '8',\r\n          pdBussDetailType: '11'\r\n        };\r\n        let pdCode='';\r\n        if(this.showRuleProductFlag){\r\n          pdCode=this.productCode\r\n        }else{\r\n          pdCode=this.pdPpInfo.ppCode\r\n        }\r\n        getRuleCode(this.buildRequestData(param)).then(response => {\r\n          this.attributeObj = {\r\n            code: response.data,\r\n            ruleBussModu: '8',\r\n            ruleBussModuDeta: '11',\r\n            ruleType: '1',\r\n            ruleAttr: '3',\r\n            pdType: '2',\r\n            pdCode: pdCode,\r\n            pdEdition: '1'\r\n          };\r\n          if(this.insuranceRuleForm.pdRuleGrade=='2'){\r\n            this.attributeObj.ruleType='1',\r\n              this.attributeObj.pdType='1',\r\n              this.attributeObj.ruleAttr='2',\r\n              this.attributeObj.pdCode=this.insuranceRuleForm.pdGradeCode,\r\n              this.attributeObj.riskType=this.pdType,\r\n              this.attributeObj.riskDetail=this.pdDetailType\r\n          }\r\n          this.ruleVisible = true\r\n        })\r\n      },\r\n      showRules(code) {\r\n        this.ruleView.flag = '1';\r\n        this.ruleView.ruleCode = code;\r\n        this.ruleView.ruleQuery = true;\r\n        this.ruleView.updateDynamicTable = false;\r\n        this.ruleView.visible = true\r\n      },\r\n      searchRules() {\r\n        let params = {\r\n          pdInfoId:this.pdPpInfo.id,\r\n          packageId: this.cusForm.package,\r\n          pdCode: this.cusForm.product,\r\n          pdRuleCode: this.cusForm.ruleCode,\r\n          pdBussType: this.cusForm.pdBussType\r\n        };\r\n        if (this.insuranceRuleForm.pdRuleGrade==='2'){\r\n          if(!this.cusForm.product){\r\n            params={};\r\n            params = {\r\n              pdInfoId:this.pdPpInfo.id,\r\n              packageId: this.cusForm.package,\r\n              pdCode: this.productCode,\r\n              pdRuleCode: this.cusForm.ruleCode,\r\n              pdBussType: this.cusForm.pdBussType\r\n            }\r\n          }\r\n        }\r\n        findRulesByParams(this.buildRequestData(params)).then(res => {\r\n          let data = res.data;\r\n          data = data.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.pdRuleCode == element.pdRuleCode)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n          this.ruleConfigs = data;\r\n        })\r\n      },\r\n      connRules() {\r\n        if (this.chooseRules.length === 0) {\r\n          this.notifyError('请选择规则');\r\n          return\r\n        }\r\n        let pdtempPdRulesList = [];\r\n        this.chooseRules.forEach(rule => {\r\n          let pdtempPdRules = {\r\n            pdVerId:1,\r\n            pdCode: rule.pdCode,\r\n            pdInfoId:this.pdPpInfo.id,\r\n            pdType:this.insuranceRuleForm.pdRuleGrade,\r\n            pdRuleGrade: rule.pdRuleGrade,\r\n            pdRuleCls: rule.pdRuleCls,\r\n            pdRuleDtCls: rule.pdRuleDtCls,\r\n            pdRulePropCls: rule.pdRulePropCls,\r\n            pdRulePropDtCls: rule.pdRulePropDtCls,\r\n            pdRuleCode: rule.pdRuleCode,\r\n            pdRuleDesc: rule.pdRuleDesc\r\n          };\r\n          if(this.insuranceRuleForm.pdRuleGrade=='2'){\r\n            pdtempPdRules.pdPackageCode=this.insuranceRuleForm.pdGradeCode\r\n          }else{\r\n            pdtempPdRules.pdPackageCode=this.pdPpInfo.ppCode\r\n          }\r\n          pdtempPdRulesList.push(pdtempPdRules);\r\n        });\r\n        const param = {\r\n          rules: pdtempPdRulesList,\r\n          pdtempPpInfo: this.pdPpInfo,\r\n          pdCode: this.productCode,\r\n          pdBussType: '8',\r\n          pdBussDetailType: '11'\r\n        };\r\n        connRules(this.buildRequestData(param)).then(res => {\r\n          this.notifySuccess(res.message);\r\n          this.findCusConfigsData();\r\n          this.searchRules();\r\n        })\r\n      },\r\n      delCusRow(row) {\r\n        deleteRule(row.id).then(res => {\r\n          if (res.code == 200) {\r\n            this.notifySuccess(res.message);\r\n            this.findCusConfigsData();\r\n          }\r\n        });\r\n      },\r\n      filterHandler(value, row, column) {\r\n        if (column) {\r\n          const property = column[\"property\"];\r\n          return row[property] === value;\r\n        }\r\n      },\r\n      chooseOne(row, column, event) {\r\n        if (event.target.nodeName == \"INPUT\") {\r\n          if (row.id == this.radio2) {\r\n            this.radio2 = null;\r\n            this.$refs.cusTable.setCurrentRow()\r\n          } else {\r\n            this.radio2 = row.id;\r\n            this.ruleView.flag = '2';\r\n            this.ruleView.ruleCode = row.pdRuleCode;\r\n            this.ruleView.ruleQuery = false;\r\n            this.ruleView.updateDynamicTable = true;\r\n            this.ruleView.visible = true\r\n          }\r\n        }\r\n      },\r\n      handleSelectionChange(row) {\r\n        this.chooseRules = row;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .cst {\r\n    width: 73px;\r\n    margin-right: -5px;\r\n    border: 0;\r\n  }\r\n.el-input{\r\n  width: 220px;\r\n}\r\n.el-select{\r\n  width: 220px;\r\n}\r\n  hr {\r\n    margin-top: 7px;\r\n    *margin: 0;\r\n    border: 0;\r\n    color: black;\r\n    background-color: black;\r\n    height: 2px;\r\n  }\r\n\r\n  .divider {\r\n    color: black;\r\n    background-color: black;\r\n    width: 1px;\r\n  }\r\n</style>\r\n"]}]}
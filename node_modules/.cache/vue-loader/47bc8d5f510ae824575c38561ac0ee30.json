{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\claim-test\\casedef\\index.vue?vue&type=style&index=0&id=f02f7d3a&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\claim-test\\casedef\\index.vue","mtime":1609847107091},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KLmRpdmlkZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgbWFyZ2luLWxlZnQ6IDRweDsNCn0NCg0KLmZvcm10aXRsZSB7DQogIHBhZGRpbmctdG9wOiAxMHB4Ow0KICBmb250LXNpemU6IDE1cHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5kaXZjbGFzcyB7DQogIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDAyZTsNCiAgd2lkdGg6IDczNXB4Ow0KICBoZWlnaHQ6IGF1dG87DQp9DQoNCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA84EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/claim-test/casedef","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :label=\"$t('claimTestCaseDef.CaseDefinition')\" @backTo=\"backPage\"/>\r\n\r\n    <!-- 产品信息 -->\r\n    <cus-commodity-info></cus-commodity-info>\r\n\r\n    <div style=\"margin: 20px 30px 30px 0px\">\r\n      <el-row class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n        <el-col :span=\"7\">\r\n          <el-button icon=\"el-icon-cloudy\" size=\"small\" type=\"primary\" @click=\"openUploadDialog\">\r\n            {{ $t('claimTestCaseDef.testCaseUpload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n\r\n    <!--测试案例-->\r\n    <cus-table-title :label=\"$t('claimTestCaseDef.testCase')\"/>\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs1\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCase\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('claimTestCaseDef.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('claimTestCaseDef.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testPoint')\" align=\"center\"\r\n                       prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}、</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewDetails.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('productTestingNewDetails.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-if=\"scope.row.pdTestCaseDefinition === '2'\" v-auth=\"'new-single-test:downloadCase'\" class=\"filter-button\"\r\n                     icon=\"el-icon-download\" size=\"mini\" @click=\"downloadCaseDef(scope.row)\">\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'new-single-test:deleteCase'\" :disabled=\"scope.row.pdTestStatus==='1'\"\r\n                       @ok=\"deleteCaseDef(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page1\" v-model=\"configs1\" :pageSize=\"10\" :params=\"params1\"\r\n                    url=\"/claim-test/base/queryPdTestCase\"/>\r\n\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('claimTestCaseDef.CaseDefinition')\"/>\r\n    <el-form ref=\"caseDefForm\" :model=\"CaseDefinition\" :rules=\"defRules\" class=\"demo-ruleForm\"\r\n             label-width=\"auto\" style=\"margin-left: 30px\">\r\n\r\n      <el-form-item :label=\"$t('claimTestCaseDef.testPoint')\" prop=\"testPoint\">\r\n        <el-select v-model=\"CaseDefinition.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable multiple\r\n                   style=\"width: 300px\">\r\n          <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\"\r\n                     :value=\"item.value\"/>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item :label=\"$t('claimTestCaseDef.testCaseDesc')\"  prop=\"pdTestCaseDesc\">\r\n        <el-input v-model=\"CaseDefinition.pdTestCaseDesc\" :autosize=\"{ minRows: 3, maxRows:6}\" maxlength=\"100\"\r\n                  :placeholder=\"$t('i18nView.pleInput')\" show-word-limit style=\"width: 300px\"\r\n                  type=\"textarea\"></el-input>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n\r\n\r\n    <!--出险客户-->\r\n    <cus-form-title :label=\"$t('claimTestCaseDef.outOfRiskCustomer')\"/>\r\n\r\n    <el-form ref=\"riskCustomerForm\"  :model=\"outOfRiskCustomer\" :rules=\"customerRules\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.accidentDate')\"\r\n                        prop=\"accidentDate\">\r\n            <el-date-picker v-model=\"outOfRiskCustomer.accidentDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.dateOfDiagnosis')\">\r\n            <el-date-picker v-model=\"outOfRiskCustomer.dateOfDiagnosis\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.dateOfDeath')\">\r\n            <el-date-picker v-model=\"outOfRiskCustomer.dateOfDeath\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.causeOfRisk')\" prop=\"causeOfRisk\">\r\n            <cus-select v-model=\"outOfRiskCustomer.causeOfRisk\" :codetype=\"'pdclmbnfttype1'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.diseaseCode')\">\r\n            <el-input v-model=\"outOfRiskCustomer.diseaseCode\" clearable>\r\n              <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                 @click=\"diseaseVisible=true\"></i>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.outOfDangerResult')\">\r\n            <cus-select v-model=\"outOfRiskCustomer.outOfDangerResult\" :codetype=\"'accidentcode'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.countryOfTreatment')\">\r\n            <cus-select v-model=\"outOfRiskCustomer.countryOfTreatment\" :codetype=\"'nativeplace'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital1')\">\r\n            <el-input v-model=\"outOfRiskCustomer.treatmentHospital\" clearable>\r\n              <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                 @click=\"openHospitalDialog('1')\"></i>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.ageOfInsuredCustomer')\">\r\n            <el-input v-model.number=\"outOfRiskCustomer.ageOfInsuredCustomer\" clearable\r\n                      type=\"number\">\r\n              <el-select slot=\"append\" v-model=\"outOfRiskCustomer.ageUnit\" class=\"cst\">\r\n                <el-option :label=\"$t('i18nView.ageY')\" value=\"Y\"/>\r\n                <el-option :label=\"$t('i18nView.dayD')\" value=\"D\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.typeOfExemption')\">\r\n            <cus-select v-model=\"outOfRiskCustomer.typeOfExemption\" :codetype=\"'exemptType'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.exemptCustomerSeq')\">\r\n            <el-input v-model.number=\"outOfRiskCustomer.exemptCustomerSeq\" clearable type=\"number\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\"></el-col>\r\n      </el-row>\r\n\r\n\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('claimTestCaseDef.claimType')\" prop=\"claimType\">\r\n            <cus-checkbox v-model=\"outOfRiskCustomer.claimType\" :codetype=\"'pdclmbnfttype2'\"/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col  align=\"left\">\r\n          <el-button icon='el-icon-success' size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"openSelectPolicy(false)\">\r\n            {{ $t('claimTestCaseDef.selectPolicy') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-form>\r\n\r\n\r\n    <cus-table-title :label=\"$t('claimTestCaseDef.policy')\"/>\r\n\r\n    <el-table :data=\"selectedPolicys\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('claimTestCaseDef.contNo')\" align=\"center\"\r\n                       prop=\"contNo\"></el-table-column>\r\n      <el-table-column :label=\"$t('claimTestCaseDef.effectiveDate')\" align=\"center\"\r\n                       prop=\"effectiveDate\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('claimTestCaseDef.paymentMode')\" align=\"center\"\r\n      >\r\n        <template v-slot=\"scope\">{{ scope.row.paymentMode | filterPaymentMode }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"delSelectedPolicy(scope.row)\">-</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <cus-form-title :label=\"$t('claimTestCaseDef.medicalBill')\" :showArrow=\"true\"\r\n                    @show=\"medicalBillFlag=!medicalBillFlag\"/>\r\n\r\n    <div v-if=\"medicalBillFlag\">\r\n      <!--医疗账单费用-->\r\n      <cus-table-title :label=\"$t('claimTestCaseDef.medicalBillPay')\"/>\r\n      <el-table :data=\"medicalBills\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectMedicalBill\">\r\n              <el-radio :label=\"scope.row\" @change=\"handleSelectMedicalBill\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.medBillType')\" align=\"center\"\r\n                         prop=\"billType\"></el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.hospitalName')\" align=\"center\"\r\n                         prop=\"hospitalName\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.startDate')\" align=\"center\"\r\n                         prop=\"startDate\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.endDate')\" align=\"center\"\r\n                         prop=\"endDate\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.days')\" align=\"center\"\r\n                         prop=\"days\"/>\r\n        <el-table-column :label=\"$t('i18nView.feeType')\" align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.feeType | filterCurrency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.currency')\" align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.expenses')\" align=\"center\"\r\n                         prop=\"expenses\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.payAmount')\" align=\"center\" label=\"自费/自付金额\"\r\n                         prop=\"payAmount\"/>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"delMedicalBill(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!--门诊费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.outpatientExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"outExpensesFlag=!outExpensesFlag\"/>\r\n      <div v-if=\"outExpensesFlag\">\r\n\r\n        <el-form ref=\"outExpensesForm\"  :model=\"outExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.accountNumber')\"\r\n                            prop=\"accidentDate\">\r\n                <el-input v-model=\"outExpensesForm.accountNumber\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.countryOfTreatment')\">\r\n                <cus-select v-model=\"outExpensesForm.countryOfTreatment\" :codetype=\"'nativeplace'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital')\">\r\n                <el-input v-model=\"outExpensesForm.hospitalName\" clearable>\r\n                  <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                     @click=\"openHospitalDialog('2')\"></i>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.startDate')\" prop=\"startDate\">\r\n                <el-date-picker v-model=\"outExpensesForm.startDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.endDate')\" prop=\"endDate\">\r\n                <el-date-picker v-model=\"outExpensesForm.endDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.days')\">\r\n                <el-input v-model.number=\"outExpensesForm.days\" clearable>\r\n                  <span slot=\"suffix\">{{ $t('i18nView.day') }}</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.feeType')\" prop=\"feeType\">\r\n                <el-select v-model=\"outExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('01')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"outExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model.number=\"outExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expenses')\" prop=\"expenses\">\r\n                <el-input v-model.number=\"outExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" label=\"自费/自付金额\" prop=\"payAmount\">\r\n                <el-input v-model.number=\"outExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveOutExpensesForm()\">\r\n                {{ outExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n      <!--住院费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.hospitalExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"hospitalExpensesFlag=!hospitalExpensesFlag\"/>\r\n      <div v-if=\"hospitalExpensesFlag\">\r\n\r\n        <el-form ref=\"hospitalExpensesForm\"  :model=\"hospitalExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.accountNumber')\"\r\n                            prop=\"accidentDate\">\r\n                <el-input v-model=\"hospitalExpensesForm.accountNumber\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.countryOfTreatment')\">\r\n                <cus-select v-model=\"hospitalExpensesForm.countryOfTreatment\" :codetype=\"'nativeplace'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital')\">\r\n                <el-input v-model=\"hospitalExpensesForm.hospitalName\" clearable>\r\n                  <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                     @click=\"openHospitalDialog('3')\"></i>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.startDate')\" prop=\"startDate\">\r\n                <el-date-picker v-model=\"hospitalExpensesForm.startDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.endDate')\" prop=\"endDate\">\r\n                <el-date-picker v-model=\"hospitalExpensesForm.endDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.actualHospitalStay')\">\r\n                <el-input v-model.number=\"hospitalExpensesForm.days\" clearable>\r\n                  <span slot=\"suffix\">{{ $t('i18nView.day') }}</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.feeType')\" prop=\"feeType\">\r\n                <el-select v-model=\"hospitalExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('02')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"hospitalExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model.number=\"hospitalExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expenses')\" prop=\"expenses\">\r\n                <el-input v-model.number=\"hospitalExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" label=\"自费/自付金额\" prop=\"payAmount\">\r\n                <el-input v-model.number=\"hospitalExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveHospitalExpensesForm()\">\r\n                {{ hospitalExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n\r\n      <!--牙科费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.dentalExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"dentalExpensesFlag=!dentalExpensesFlag\"/>\r\n      <div v-if=\"dentalExpensesFlag\">\r\n\r\n        <el-form ref=\"dentalExpensesForm\"  :model=\"dentalExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.accountNumber')\"\r\n                            prop=\"accidentDate\">\r\n                <el-input v-model=\"dentalExpensesForm.accountNumber\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.countryOfTreatment')\">\r\n                <cus-select v-model=\"dentalExpensesForm.countryOfTreatment\" :codetype=\"'nativeplace'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital')\">\r\n                <el-input v-model=\"dentalExpensesForm.hospitalName\" clearable>\r\n                  <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                     @click=\"openHospitalDialog('4')\"></i>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.startDate')\" prop=\"startDate\">\r\n                <el-date-picker v-model=\"dentalExpensesForm.startDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.endDate')\" prop=\"endDate\">\r\n                <el-date-picker v-model=\"dentalExpensesForm.endDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.days')\">\r\n                <el-input v-model.number=\"dentalExpensesForm.days\" clearable>\r\n                  <span slot=\"suffix\">{{ $t('i18nView.day') }}</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.feeType')\" prop=\"feeType\">\r\n                <el-select v-model=\"dentalExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('03')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"dentalExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model=\"dentalExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expenses')\" prop=\"expenses\">\r\n                <el-input v-model.number=\"dentalExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" label=\"自费/自付金额\" prop=\"payAmount\">\r\n                <el-input v-model.number=\"dentalExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveDentalExpensesForm()\">\r\n                {{ dentalExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n\r\n      <!--眼科费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.ophthalmologyExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"ophthalmologyExpensesFlag=!ophthalmologyExpensesFlag\"/>\r\n      <div v-if=\"ophthalmologyExpensesFlag\">\r\n\r\n        <el-form ref=\"ophthalmologyExpensesForm\"  :model=\"ophthalmologyExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.accountNumber')\"\r\n                            prop=\"accidentDate\">\r\n                <el-input v-model=\"ophthalmologyExpensesForm.accountNumber\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.countryOfTreatment')\">\r\n                <cus-select v-model=\"ophthalmologyExpensesForm.countryOfTreatment\" :codetype=\"'nativeplace'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital')\">\r\n                <el-input v-model=\"ophthalmologyExpensesForm.hospitalName\" clearable>\r\n                  <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                     @click=\"openHospitalDialog('5')\"></i>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.startDate')\" prop=\"startDate\">\r\n                <el-date-picker v-model=\"ophthalmologyExpensesForm.startDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.endDate')\" prop=\"endDate\">\r\n                <el-date-picker v-model=\"ophthalmologyExpensesForm.endDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.days')\">\r\n                <el-input v-model.number=\"ophthalmologyExpensesForm.days\" clearable>\r\n                  <span slot=\"suffix\">{{ $t('i18nView.day') }}</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.feeType')\"  prop=\"feeType\">\r\n                <el-select v-model=\"ophthalmologyExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('04')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"ophthalmologyExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model=\"ophthalmologyExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expenses')\" prop=\"expenses\">\r\n                <el-input v-model=\"ophthalmologyExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" prop=\"payAmount\">\r\n                <el-input v-model=\"ophthalmologyExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveOphthalmologyExpensesForm()\">\r\n                {{ ophthalmologyExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n\r\n      <!--体检费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.examinationExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"examinationExpensesFlag=!examinationExpensesFlag\"/>\r\n      <div v-if=\"examinationExpensesFlag\">\r\n\r\n        <el-form ref=\"examinationExpensesForm\"  :model=\"examinationExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.accountNumber')\"\r\n                            prop=\"accidentDate\">\r\n                <el-input v-model=\"examinationExpensesForm.accountNumber\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.treatmentHospital')\">\r\n                <el-input v-model=\"examinationExpensesForm.hospitalName\" clearable>\r\n                  <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                     @click=\"openHospitalDialog('6')\"></i>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.examinationDate')\">\r\n                <el-date-picker v-model=\"examinationExpensesForm.examinationDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('i18nView.feeType')\">\r\n                <el-select v-model=\"examinationExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('05')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"examinationExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model=\"examinationExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expenses')\" prop=\"expenses\">\r\n                <el-input v-model=\"examinationExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" prop=\"payAmount\">\r\n                <el-input v-model=\"examinationExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveExaminationExpensesForm()\">\r\n                {{ examinationExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n\r\n      <!--特种费用用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.specialExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"specialExpensesFlag=!specialExpensesFlag\"/>\r\n      <div v-if=\"specialExpensesFlag\">\r\n\r\n        <el-form ref=\"specialExpensesForm\"  :model=\"specialExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.specialExpensesCode')\">\r\n                <el-select v-model=\"specialExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('06')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"specialExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model=\"specialExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.startDate')\" prop=\"startDate\">\r\n                <el-date-picker v-model=\"specialExpensesForm.startDate\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.specialExpenses')\">\r\n                <el-input v-model=\"specialExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.payAmount')\" prop=\"payAmount\">\r\n                <el-input v-model=\"specialExpensesForm.payAmount\" clearable type=\"number\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveSpecialExpensesForm()\">\r\n                {{ specialExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n      <!--社保第三方费用定义-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.socialExpensesDef')\" :showArrow=\"true\"\r\n                      @show=\"socialExpensesFlag=!socialExpensesFlag\"/>\r\n      <div v-if=\"socialExpensesFlag\">\r\n\r\n        <el-form ref=\"socialExpensesForm\"  :model=\"socialExpensesForm\" :rules=\"outExpensesRules\"\r\n                 label-width=\"auto\" style=\"margin: 40px 30px 30px 0px\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.expensesCode')\" prop=\"feeType\">\r\n                <el-select v-model=\"socialExpensesForm.feeType\" clearable filterable>\r\n                  <el-option v-for=\"item in buildBillTypeOptions('07')\" :label=\"item.medFeeBillCode+':'+item.medFeeBillName\"\r\n                             :value=\"item.medFeeBillCode\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.currency')\">\r\n                <cus-select v-model=\"socialExpensesForm.currency\" :codetype=\"'currency2'\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.exchangeRate')\">\r\n                <el-input v-model=\"socialExpensesForm.exchangeRate\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.specialExpenses')\">\r\n                <el-input v-model=\"socialExpensesForm.expenses\" clearable/>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('claimTestCaseDef.serviceOrgName')\">\r\n                <el-input v-model=\"socialExpensesForm.serviceOrgName\" clearable type=\"text\"/>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n\r\n\r\n          <el-row>\r\n            <el-col  align=\"right\">\r\n              <el-button icon='el-icon-success' size=\"small\"\r\n                         type=\"primary\"\r\n                         @click=\"saveSocialExpensesForm()\">\r\n                {{ socialExpensesUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n        </el-form>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <br/>\r\n    <br/>\r\n\r\n    <!--伤残等级-->\r\n    <cus-form-title :label=\"$t('claimTestCaseDef.disabilityDef')\" :showArrow=\"true\" @show=\"showDisability\"/>\r\n    <div v-if=\"disabilityFlag\">\r\n      <cus-table-title :label=\"$t('claimTestCaseDef.disabilityLevel')\"/>\r\n      <el-table :data=\"disabilityDatas\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectDisability\">\r\n              <el-radio :label=\"scope.row\" @change=\"handleSelectDisability\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.disabilityType')\" align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.disabilityType | filterDisabilityType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.disabilityLevel')\" align=\"center\"\r\n                         prop=\"disabilityLevel\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.disabilityLevelName')\" align=\"center\"\r\n                         prop=\"disabilityLevelName\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.payoutRatio')\" align=\"center\"\r\n                         prop=\"payoutRatio\"/>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"deleteDisability(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-form ref=\"disabilityForm\"  :model=\"disabilityForm\" label-width=\"auto\"\r\n               style=\"margin: 20px 30px 30px 0px\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.disabilityType')\"\r\n                          prop=\"accidentDate\">\r\n              <cus-select v-model=\"disabilityForm.disabilityType\" :codetype=\"'dbltype'\" @change=\"changeDblTypeCode\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.disabilityLevel')\">\r\n              <el-select v-model=\"disabilityForm.disabilityLevel\" @change=\"changeDisabilityLevel\">\r\n                <el-option v-for=\"item in dblGrdCodeOptions\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.payoutRatio')\">\r\n              <el-input v-model=\"disabilityForm.payoutRatio\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <!--            <el-col :span=\"7\">-->\r\n          <!--              <el-form-item :label=\"$t('claimTestCaseDef.disabilityLevelName')\">-->\r\n          <!--                <cus-select :codetype=\"'exemptType'\" v-model=\"disabilityForm.disabilityLevelName\"/>-->\r\n          <!--              </el-form-item>-->\r\n          <!--            </el-col>-->\r\n        </el-row>\r\n\r\n        <!--          <el-row>-->\r\n        <!--            <el-col :span=\"7\">-->\r\n        <!--              <el-form-item :label=\"$t('claimTestCaseDef.payoutRatio')\">-->\r\n        <!--                <el-input  v-model=\"disabilityForm.payoutRatio\"/>-->\r\n        <!--              </el-form-item>-->\r\n        <!--            </el-col>-->\r\n        <!--          </el-row>-->\r\n        <el-row>\r\n          <el-col  align=\"right\">\r\n            <el-button icon='el-icon-success' size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"saveDisabilityForm()\">\r\n              {{ disabilityUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n\r\n      </el-form>\r\n\r\n    </div>\r\n\r\n    <br/>\r\n\r\n    <!--既往赔付定义-->\r\n    <cus-form-title :label=\"$t('claimTestCaseDef.pastClaimsDef')\" :showArrow=\"true\" @show=\"showPastClaims\"/>\r\n    <div v-if=\"pastClaimsFlag\">\r\n      <cus-table-title :label=\"$t('claimTestCaseDef.pastClaims')\"/>\r\n      <el-table :data=\"claimsDatas\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectClaims\">\r\n              <el-radio :label=\"scope.row\" @change=\"handleSelectClaims\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.contNo')\" align=\"center\" prop=\"contNo\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column  align=\"center\" :label=\"$t('rule.product')\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.pdCode + ':' + scope.row.pdName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.guarantee')\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.guarantee + ':' + scope.row.guaranteeName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"\r\n                         prop=\"guaranteeType\">\r\n          <template v-slot=\"scope\">{{ scope.row.guaranteeType | filterBnftType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.payoutAmount')\" align=\"center\"\r\n                         prop=\"payoutAmount\"/>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.stopMark')\" align=\"center\"\r\n                         prop=\"stopMark\"/>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"deleteClaimsData(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-form ref=\"claimsForm\"  :model=\"claimsForm\" label-width=\"auto\"\r\n               style=\"margin-top: 30px\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.contNo')\"\r\n                          prop=\"accidentDate\">\r\n              <el-input v-model=\" claimsForm.contNo\">\r\n                <i slot=\"suffix\" class=\"el-input__icon el-icon-search\" style=\"cursor: pointer\"\r\n                   @click=\"openSelectPolicy(true)\"></i>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('rule.product')\">\r\n              <el-select v-model=\"claimsForm.pdCode\" @change=\"changeSelectPd\">\r\n                <el-option v-for=\"item in products\" :label=\"item.pdCode+':'+item.pdName\"\r\n                           :value=\"item.pdCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('i18nView.guarantee')\" >\r\n              <el-select v-model=\"claimsForm.guarantee\" @change=\"changeSelectBnft\">\r\n                <el-option v-for=\"item in bnfts\" :label=\"item.benefitCode+':'+item.benefitName\"\r\n                           :value=\"item.benefitCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.payoutDetail')\">\r\n              <el-input v-model=\"claimsForm.payoutDetail\" clearable/>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.payoutAmount')\">\r\n              <el-input v-model=\"claimsForm.payoutAmount\" clearable/>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.stopMark')\">\r\n              <el-switch v-model=\"claimsForm.stopMark\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n        </el-row>\r\n        <el-row>\r\n          <el-col  align=\"right\">\r\n            <el-button icon='el-icon-success' size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"savePastClaimsForm()\">\r\n              {{ claimsUpdateFlag ? $t('table.update') : $t('table.add') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n\r\n      </el-form>\r\n\r\n    </div>\r\n\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col align=\"right\">\r\n        <el-button v-auth=\"'claim-test:saveCaseDef'\" icon=\"el-icon-success\" size=\"small\"\r\n                   type=\"primary\"\r\n                   @click=\"saveCaseDef\">\r\n          {{ this.testCaseUpdateFlag ? $t('table.update') : $t('table.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!--选择保单-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"dialogTableVisible2\" center\r\n               top=\"8vh\" width=\"80%\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('claimTestCaseDef.selectPolicy')\" @backTo=\"back2()\"/>\r\n\r\n      <!--保单选择-->\r\n      <cus-form-title :label=\"$t('claimTestCaseDef.policySelection')\"/>\r\n\r\n      <el-form ref=\"policySelForm\"  :model=\"policySelection\" label-width=\"auto\" style=\"margin-left: 30px\">\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.contNo')\" prop=\"contNo\">\r\n              <el-input v-model=\"policySelection.contNo\" clearable/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.paymentMode')\" prop=\"paymentMode\">\r\n              <cus-select v-model=\"policySelection.paymentMode\" :codetype=\"'pd_prem_freq'\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('claimTestCaseDef.effectiveDate')\" prop=\"testPoint\">\r\n              <el-date-picker\r\n                v-model=\"policySelection.effectiveDate\"\r\n                :end-placeholder=\"$t('productSelect.productApplyEndDate')\"\r\n                :range-separator=\"$t('productSelect.to')\"\r\n                :start-placeholder=\"$t('productSelect.productApplyStartDate')\"\r\n                type=\"daterange\"\r\n                value-format=\"yyyy-MM-dd\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"7\">\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"searchPolicyData\">\r\n              {{ $t('renewalTest.search') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n\r\n\r\n      </el-form>\r\n\r\n      <div style=\"margin: 20px 30px 30px 0px\">\r\n        <el-row class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n          <el-col :span=\"7\">\r\n            <el-button icon=\"el-icon-circle-plus-outline\" size=\"small\" type=\"primary\" @click=\"addPolicy\">\r\n              {{ $t('claimTestCaseDef.addPolicy') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <cus-table-title :label=\"$t('claimTestCaseDef.policy')\"/>\r\n\r\n      <el-table ref=\"multipleTable\" :data=\"policys\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\"\r\n                @selection-change=\"handleSelectionChange\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" type=\"selection\" width=\"50\"/>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.contNo')\" align=\"center\"\r\n                         prop=\"contNo\"></el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.effectiveDate')\" align=\"center\"\r\n                         prop=\"effectiveDate\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('claimTestCaseDef.paymentMode')\" align=\"center\"\r\n        >\r\n          <template v-slot=\"scope\">{{ scope.row.paymentMode | filterPaymentMode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button :icon=\"resultIcon\"\r\n                       class=\"filter-button\" size=\"mini\" @click=\"hidePolicyDataDetail(scope.row)\">\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-row style=\"margin-top: 35px\">\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon=\"el-icon-success\" size=\"small\" style=\"width: 120px\"\r\n                     type=\"primary\"\r\n                     @click=\"confirmSelectedPolicy\">\r\n            {{ $t('form.select') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n\r\n      <div v-if=\"policyDetailShow\">\r\n        <!--产品-->\r\n        <cus-table-title :label=\"$t('productTestingNewDetails.product')\"></cus-table-title>\r\n        <el-table :data=\"configs5\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs5\">\r\n                  <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPlanData\">{{ '' }}</el-radio>\r\n                  </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.effectiveDate')\" align=\"center\"\r\n                           prop=\"effectiveDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentDeadline')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n        <!--方案-->\r\n        <cus-table-title :label=\"$t('productTestingNewDetails.programInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs6\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs6\">\r\n                  <span>\r\n                <el-radio :label=\"scope.row\" @change=\"buildPaymentAndBnftData\">{{ '' }}</el-radio>\r\n                  </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.programName')\" align=\"center\"\r\n                           prop=\"planName\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentDeadline')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n        </el-table>\r\n\r\n\r\n        <!--缴费信息-->\r\n        <cus-table-title :label=\"$t('productTestingNewDetails.paymentInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs7\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\"  type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentCode')\" align=\"center\"\r\n                           prop=\"paymentCode\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentName')\" align=\"center\"\r\n                           prop=\"paymentName\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.currency')\" align=\"center\" prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.premium')\" align=\"center\" prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.premiumCalculation')\" align=\"center\"\r\n                           prop=\"premiumCalMethod\">\r\n            <template v-slot=\"scope\">{{ scope.row.premiumCalMethod | filterCalMethod }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentBeginDate')\" align=\"center\"\r\n                           prop=\"payStartDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentEndDate')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.paymentMethod')\" align=\"center\"\r\n                           prop=\"paymentMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.paymentMode | filterFreqType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n\r\n        <!--保障信息-->\r\n        <cus-table-title :label=\"$t('productTestingNewDetails.guaranteeInformation')\"></cus-table-title>\r\n        <el-table :data=\"configs8\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\"\r\n                           prop=\"benefitCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftName')\" align=\"center\"\r\n                           prop=\"benefitName\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"\r\n                           prop=\"\">\r\n            <template v-slot=\"scope\">{{ scope.row.benefitType | filterBnftType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftDetailType')\" align=\"center\"\r\n                           prop=\"bnftDetailType\">\r\n            <template v-slot=\"scope\">{{ filterBnftDetailType(scope.row.benefitType, scope.row.bnftDetailType) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.sumAssured')\" align=\"center\" prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.startDateOfInsurance')\" align=\"center\"\r\n                           prop=\"starBnftDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.endDateOfInsurance')\" align=\"center\"\r\n                           prop=\"endBnftDate\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.startDateOfCollection')\" align=\"center\"\r\n                           prop=\"startDateOfCollection\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.endDateOfCollection')\" align=\"center\"\r\n                           prop=\"collectionDeadline\"/>\r\n          <el-table-column :label=\"$t('productTestingNewDetails.coverageForTheNextYear')\" align=\"center\"\r\n                           prop=\"nextYearAmount\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n    </el-dialog>\r\n\r\n\r\n    <!--测试案例上传弹窗-->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"dialogTableVisible1\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('claimTestCaseDef.testCaseNewUpload')\" @backTo=\"back2()\"/>\r\n\r\n      <cus-commodity-info></cus-commodity-info>\r\n\r\n      <el-row style=\"margin-top: 15px;margin-bottom: 15px\">\r\n        <el-col :span=\"24\" align=\"left\">\r\n          <el-button v-auth=\"'new-single-test:downloadTemplate'\" icon=\"el-icon-download\" size=\"small\"\r\n\r\n                     type=\"primary\" @click=\"templateDownload\">\r\n            {{ $t('claimTestCaseDef.templateDownload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <div align=\"left\" class=\"divclass\">\r\n        <div style=\"margin-left: 18px;margin-top: 18px;margin-bottom: 18px\">\r\n          <el-form id=\"uploadForm\">\r\n            <el-form-item>\r\n              <el-upload ref=\"upload\" :auto-upload=\"false\" :file-list=\"fileList\" :limit=\"1\"\r\n                         :on-change=\"handleChange\" :on-remove=\"handleRemove\" action=\"\" drag multiple>\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.uploadText1')}}<em>{{$t('i18nView.uploadText2')}}</em></div>\r\n                <div class=\"el-upload__text\">{{$t('i18nView.chooseOverClick')}}\"{{ $t('table.upload') }}\"{{$t('i18nView.button')}}</div>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">{{$t('i18nView.onlyUploadModelFile')}}</div>\r\n              </el-upload>\r\n\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <el-row style=\"margin-top: 35px\">\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button icon=\"el-icon-upload\" size=\"small\"  type=\"primary\" @click=\"testCaseUpload\">\r\n            {{ $t('claimTestCaseDef.upload') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"hospitalVisible\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('claimTestCaseDef.selectHospital')\" @backTo=\"back3()\"/>\r\n      <hospital v-if=\"hospitalVisible\" @select=\"selectHospital\"></hospital>\r\n    </el-dialog>\r\n\r\n\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :show-close=true :visible.sync=\"diseaseVisible\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('claimTestCaseDef.selectDisease')\" @backTo=\"back4()\"/>\r\n      <disease v-if=\"diseaseVisible\" @select=\"selectDisease\"></disease>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  deleteCase,\r\n  downloadCaseDef,\r\n  downloadCaseTemplate,\r\n  queryBillType,\r\n  queryDisability,\r\n  queryPdTestFunc,\r\n  queryPolicyData,\r\n  saveCaseDef,\r\n  uploadTestCase\r\n} from '@/api/pdtest/productClaimTest'\r\n\r\nimport hospital from '@/views/product-testing/claim-test/hospital'\r\nimport disease from '@/views/product-testing/claim-test/disease'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'claimTestCaseDef',\r\n  filters: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code]\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code]\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName('sex', code, true)\r\n    }, filterRela(code) {\r\n      return _this.getCodeName('insuranceRelationship', code)\r\n    },\r\n    filterPaymentMode(code) {\r\n      return _this.getCodeName('pd_prem_freq', code)\r\n    },\r\n    filterCalMethod(code) {\r\n      return _this.getCodeName('pd_prem_cal_method', code, true)\r\n    },\r\n    filterCurrency(code) {\r\n      return _this.getCodeName('currency2', code, true)\r\n    },\r\n    filterBnftType(code) {\r\n      return _this.getCodeName('guaranteeDetails', code, true)\r\n    },\r\n    filterFreqType(code) {\r\n      return _this.getCodeName('pd_prem_freq', code, true)\r\n    },\r\n    filterDisabilityType(code) {\r\n      return _this.getCodeName('dbltype', code, true)\r\n    }\r\n  },\r\n  components: {\r\n    hospital,\r\n    disease\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      testCaseType: {'1': '自动化测试', '2': '自定义测试'},\r\n      testCaseDefinition: {'1': '页面定义', '2': '上传定义'},\r\n      outOfRiskCustomer: {\r\n        accidentDate: '',\r\n        dateOfDiagnosis: '',\r\n        dateOfDeath: '',\r\n        causeOfRisk: '',\r\n        diseaseCode: '',\r\n        outOfDangerResult: '',\r\n        countryOfTreatment: '',\r\n        treatmentHospital: '',\r\n        ageOfInsuredCustomer: '',\r\n        typeOfExemption: '',\r\n        exemptCustomerSeq: '',\r\n        claimType: [],\r\n        ageUnit: ''\r\n      },\r\n      billTypes: [],\r\n      customerRules: {\r\n        accidentDate: [{\r\n          required: true,\r\n          message: this.$t('claimTestCaseDef.casedescmsg'),\r\n          trigger: 'blur'\r\n        }],\r\n        causeOfRisk: [{\r\n          required: true,\r\n          message: this.$t('claimTestCaseDef.testpointmsg'),\r\n          trigger: 'change'\r\n        }],\r\n        claimType: [{\r\n          required: true,\r\n          message: this.$t('claimTestCaseDef.casedescmsg'),\r\n          trigger: 'blur'\r\n        }]\r\n      },\r\n      policySelection: {\r\n        contNo: '',\r\n        effectiveDate: '',\r\n        paymentMode: '',\r\n        startDate: '',\r\n        endDate: ''\r\n      },\r\n      multipleTableData: [],\r\n      policys: [],\r\n      selectedPolicys: [],\r\n      selectPolicys: '',\r\n      policyDetailShow: false,\r\n      medicalBillFlag: false,\r\n      medicalBills: [],\r\n      selectMedicalBill: [],\r\n      disabilityFlag: false,\r\n      disabilityDatas: [],\r\n      disabilityGrades: [],\r\n      dblGrdCodeOptions: [],\r\n      selectDisability: {},\r\n      disabilityForm: {\r\n        disabilityType: '',\r\n        disabilityLevel: '',\r\n        disabilityLevelName: '',\r\n        payoutRatio: ''\r\n      },\r\n      disabilityUpdateFlag: false,\r\n      pastClaimsFlag: false,\r\n      pastClaimsSelectPolicy: false,\r\n      pastClaimsSelectedPolicy: [],\r\n      claimsDatas: [],\r\n      selectClaims: {},\r\n      claimsForm: {\r\n        contNo: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        guarantee: '',\r\n        guaranteeName: '',\r\n        guaranteeType: '',\r\n        payoutAmount: '',\r\n        payoutDetail: '',\r\n        stopMark: ''\r\n      },\r\n      products: [],\r\n      bnfts: [],\r\n      claimsUpdateFlag: false,\r\n      outExpensesFlag: false,\r\n      outExpensesUpdateFlag: false,\r\n      outExpensesForm: {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      outExpensesRules: {\r\n        startDate: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('claimTestCaseDef.startDate'),\r\n          trigger: 'blur'\r\n        }],\r\n        endDate: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('claimTestCaseDef.endDate'),\r\n          trigger: 'blur'\r\n        }],\r\n        feeType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('claimTestCaseDef.feeType'),\r\n          trigger: 'change'\r\n        }],\r\n        expenses: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('claimTestCaseDef.expenses'),\r\n          trigger: 'blur'\r\n        }],\r\n        payAmount: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('claimTestCaseDef.payAmount'),\r\n          trigger: 'blur'\r\n        }]\r\n      },\r\n      hospitalExpensesFlag: false,\r\n      hospitalExpensesUpdateFlag: false,\r\n      hospitalExpensesForm: {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      dentalExpensesFlag: false,\r\n      dentalExpensesUpdateFlag: false,\r\n      dentalExpensesForm: {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      ophthalmologyExpensesFlag: false,\r\n      ophthalmologyExpensesUpdateFlag: false,\r\n      ophthalmologyExpensesForm: {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      examinationExpensesFlag: false,\r\n      examinationExpensesUpdateFlag: false,\r\n      examinationExpensesForm: {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        examinationDate: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      specialExpensesFlag: false,\r\n      specialExpensesUpdateFlag: false,\r\n      specialExpensesForm: {\r\n        pKey: '',\r\n        startDate: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      },\r\n      socialExpensesFlag: false,\r\n      socialExpensesUpdateFlag: false,\r\n      socialExpensesForm: {\r\n        pKey: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        serviceOrgName: ''\r\n      },\r\n      resultIcon: 'el-icon-arrow-down',\r\n      selectedId: '',\r\n      policyDetailData: {},\r\n      configs5: [],\r\n      selectConfigs5: '',\r\n      configs6: [],\r\n      selectConfigs6: '',\r\n      configs7: [],\r\n      configs8: [],\r\n      selectConfigs2: '',\r\n      selectConfigs3: '',\r\n      funcSelect: [],\r\n      elementRules: {},\r\n      configs1: [],\r\n      selectConfigs1: '',\r\n      configs2: [],\r\n      configs3: [],\r\n      testCaseUpdateFlag: false,\r\n      quickicon: 'el-icon-arrow-right',\r\n      fileList: [],\r\n      params1: {},\r\n      pdInfo: {\r\n        pdInfoId: '',\r\n        commodityType: ''\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: '',\r\n        pdTestCaseDesc: '',\r\n        testPoint: ''\r\n      },\r\n      defRules: {\r\n        pdTestCaseDesc: [{\r\n          required: true,\r\n          message: this.$t('claimTestCaseDef.casedescmsg'),\r\n          trigger: 'blur'\r\n        }],\r\n        testPoint: [{\r\n          required: true,\r\n          message: this.$t('claimTestCaseDef.testpointmsg'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      CaseDetails: {},\r\n      specificItemUpdateFlag: false,\r\n      specificItem: {\r\n        premiumDueDate: '',\r\n        startPeriodOfExemption: '',\r\n        endPeriodOfExemption: '',\r\n        expiryDateOfInsurance: ''\r\n      },\r\n      dialogTableVisible1: false,\r\n      dialogTableVisible2: false,\r\n      hospitalVisible: false,\r\n      diseaseVisible: false,\r\n      needValueType: ''\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdInfo = this.getJsonData('pdTestInfo')\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id\r\n      this.pdInfo.pdInfoId = pdInfo.id\r\n      this.pdInfo.commodityType = pdInfo.commodityType\r\n\r\n      this.CaseDefinition.pdInfoId = pdInfo.id\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode\r\n      this.CaseDefinition.pdName = pdInfo.pdName\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition\r\n\r\n      this.initTestFuncSelect(pdInfo.id)\r\n      this.initPolicyData(pdInfo.id)\r\n      this.initBillType()\r\n    }\r\n  },\r\n  methods: {\r\n    initBillType() {\r\n      queryBillType().then(res => {\r\n        this.billTypes = res.data\r\n      })\r\n    },\r\n    buildBillTypeOptions(val) {\r\n      return this.billTypes.filter(type => type.medBillTypeCode === val)\r\n    },\r\n    filterBnftDetailType(code, sencode) {\r\n      return this.getCodeName('guaranteeDetails.' + code, sencode, true)\r\n    },\r\n    selectHospital(row) {\r\n      if ('1' === this.needValueType) {\r\n        this.outOfRiskCustomer.treatmentHospital = row.hospitalName\r\n      } else if ('2' === this.needValueType) {\r\n        this.outExpensesForm.hospitalName = row.hospitalName\r\n      } else if ('3' === this.needValueType) {\r\n        this.hospitalExpensesForm.hospitalName = row.hospitalName\r\n      } else if ('4' === this.needValueType) {\r\n        this.dentalExpensesForm.hospitalName = row.hospitalName\r\n      } else if ('5' === this.needValueType) {\r\n        this.ophthalmologyExpensesForm.hospitalName = row.hospitalName\r\n      } else if ('6' === this.needValueType) {\r\n        this.examinationExpensesForm.hospitalName = row.hospitalName\r\n      }\r\n      this.hospitalVisible = false\r\n    },\r\n    selectDisease(row) {\r\n      this.outOfRiskCustomer.diseaseCode = row.disCode\r\n      this.diseaseVisible = false\r\n    },\r\n    delSelectedPolicy(row) {\r\n      this.selectedPolicys = this.selectedPolicys.filter(data => data.contNo !== row.contNo)\r\n    },\r\n    delMedicalBill(row) {\r\n      this.medicalBills = this.medicalBills.filter(data => data.pKey !== row.pKey)\r\n    },\r\n    searchPolicyData() {\r\n      if (this.policySelection.effectiveDate) {\r\n        this.policySelection.startDate = this.policySelection.effectiveDate[0]\r\n        this.policySelection.endDate = this.policySelection.effectiveDate[1]\r\n      } else {\r\n        this.policySelection.startDate = ''\r\n        this.policySelection.endDate = ''\r\n      }\r\n\r\n      let params = {\r\n        'pdInfoId': this.params1.pdInfoId,\r\n        'contNo': this.policySelection.contNo,\r\n        'paymentMode': this.policySelection.paymentMode,\r\n        'startDate': this.policySelection.startDate,\r\n        'endDate': this.policySelection.endDate\r\n      }\r\n\r\n      queryPolicyData(this.buildRequestData(params)).then(res => {\r\n        this.policys = res.data\r\n      })\r\n\r\n    },\r\n    initPolicyData(pdInfoId) {\r\n      queryPolicyData(this.buildRequestData({'pdInfoId': pdInfoId})).then(res => {\r\n        this.policys = res.data\r\n      })\r\n    },\r\n    hidePolicyDataDetail(row) {\r\n      if (this.resultIcon === 'el-icon-arrow-down') {\r\n        this.policyDetailShow = true\r\n        this.resultIcon = 'el-icon-arrow-up'\r\n        this.handleSelectPolicys(row)\r\n      } else if (this.resultIcon === 'el-icon-arrow-up') {\r\n        this.policyDetailShow = false\r\n        this.resultIcon = 'el-icon-arrow-down'\r\n      }\r\n    },\r\n    openSelectPolicy(flag) {\r\n      this.dialogTableVisible2 = true\r\n      this.pastClaimsSelectPolicy = flag\r\n      if (this.multipleTableData.length > 0) {\r\n        this.$refs.multipleTable.clearSelection()\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleTableData = val\r\n    },\r\n    confirmSelectedPolicy() {\r\n      let temp = JSON.parse(JSON.stringify(this.multipleTableData))\r\n      if (!this.pastClaimsSelectPolicy) {\r\n        if (this.multipleTableData.length < 1) {\r\n          this.notifyError(this.$t('claimTestCaseDef.selectPolicysError'))\r\n        } else {\r\n          this.back2()\r\n          this.selectedPolicys = temp\r\n        }\r\n      } else {\r\n        if (this.multipleTableData.length !== 1) {\r\n          this.notifyError(this.$t('claimTestCaseDef.selectOnePolicyError'))\r\n        } else {\r\n          this.back2()\r\n          this.pastClaimsSelectedPolicy = temp[0]\r\n\r\n          let data = temp[0]\r\n          this.claimsForm.contNo = data.contNo\r\n          this.products = data.products\r\n          console.log(data)\r\n        }\r\n      }\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + '上传定义.xlsm'\r\n      downloadCaseDef(this.buildRequestData({'testCasePath': row.pdTestCasePath})).then(res => {\r\n        this.downloadResponseFile(res, fileName)\r\n      })\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then(res => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$refs.page1.reload()\r\n        this.resetCaseDef()\r\n      })\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = ''\r\n      this.CaseDefinition.pdTestCaseDesc = ''\r\n      this.CaseDefinition.testPoint = ''\r\n      this.testCaseUpdateFlag = false\r\n      this.selectedPolicys = []\r\n      this.medicalBills = []\r\n      this.disabilityDatas = []\r\n      this.claimsDatas = []\r\n      this.policyDetailShow = false\r\n      this.specificItemUpdateFlag = false\r\n      this.resetRiskCustomer()\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true\r\n      this.CaseDefinition.id = row.id\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId\r\n      this.CaseDefinition.pdCode = row.pdCode\r\n      this.CaseDefinition.pdEdition = row.pdEdition\r\n      this.CaseDefinition.pdName = row.pdName\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(data => data.pd_test_func_id)\r\n      //处理data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData)\r\n      let data = pdTestCaseData.testData\r\n      this.selectedPolicys = data.policys\r\n      this.outOfRiskCustomer = data.riskCustomer\r\n      this.medicalBillFlag = true\r\n      this.medicalBills = data.medicalBills\r\n      this.disabilityFlag = true\r\n      this.disabilityDatas = data.disabilitys\r\n      this.pastClaimsFlag = true\r\n      this.claimsDatas = data.claimsDatas\r\n\r\n    },\r\n    addPolicy() {\r\n      this.$router.push({path: '/product-testing/claim-test/claim-test-addpolicy'})\r\n    },\r\n    handleSelectMedicalBill(row) {\r\n      if (row.pKey.indexOf('OutpatientExpenses') >= 0) {\r\n        this.outExpensesForm = Object.assign({}, row)\r\n        this.outExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('HospitalExpenses') >= 0) {\r\n        this.hospitalExpensesForm = Object.assign({}, row)\r\n        this.hospitalExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('DentalExpenses') >= 0) {\r\n        this.dentalExpensesForm = Object.assign({}, row)\r\n        this.dentalExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('OphthalmologyExpenses') >= 0) {\r\n        this.ophthalmologyExpensesForm = Object.assign({}, row)\r\n        this.ophthalmologyExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('ExaminationExpenses') >= 0) {\r\n        this.examinationExpensesForm = Object.assign({}, row)\r\n        this.examinationExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('SpecialExpenses') >= 0) {\r\n        this.specialExpensesForm = Object.assign({}, row)\r\n        this.specialExpensesUpdateFlag = true\r\n      } else if (row.pKey.indexOf('SocialExpenses') >= 0) {\r\n        this.socialExpensesForm = Object.assign({}, row)\r\n        this.socialExpensesUpdateFlag = true\r\n      }\r\n    },\r\n    showDisability() {\r\n      this.disabilityFlag = !this.disabilityFlag\r\n    },\r\n    changeDblTypeCode(val) {\r\n      this.disabilityForm.disabilityLevel = ''\r\n      this.disabilityForm.disabilityLevelName = ''\r\n      this.disabilityForm.payoutRatio = ''\r\n      queryDisability(this.buildRequestData({'dblTypeCode': val})).then(res => {\r\n        let grades = res.data\r\n        this.disabilityGrades = grades\r\n        this.dblGrdCodeOptions = []\r\n        grades.forEach(g => {\r\n          this.dblGrdCodeOptions.push({\r\n            value: g.dblGrdCode,\r\n            label: g.dblGrdCode + ':' + g.dblGrdName\r\n          })\r\n        })\r\n      })\r\n    },\r\n    saveHospitalExpensesForm() {\r\n      this.$refs['hospitalExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.hospitalExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.hospitalExpensesForm.pKey\r\n            let temp = Object.assign({}, this.hospitalExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.hospitalExpensesUpdateFlag = false\r\n          } else {\r\n            this.hospitalExpensesForm.pKey = 'HospitalExpenses' + (this.medicalBills.length + 1)\r\n            this.hospitalExpensesForm.billType = '住院费用'\r\n            let temp = Object.assign({}, this.hospitalExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['hospitalExpensesForm'].resetFields()\r\n        }\r\n      })\r\n    },\r\n    saveOutExpensesForm() {\r\n      this.$refs['outExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.outExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.outExpensesForm.pKey\r\n            let temp = Object.assign({}, this.outExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.outExpensesUpdateFlag = false\r\n          } else {\r\n            this.outExpensesForm.pKey = 'OutpatientExpenses' + (this.medicalBills.length + 1)\r\n            this.outExpensesForm.billType = '门诊费用'\r\n            let temp = Object.assign({}, this.outExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['outExpensesForm'].resetFields()\r\n          this.resetOutExpense()\r\n        }\r\n      })\r\n    },\r\n    saveDentalExpensesForm() {\r\n      this.$refs['dentalExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.dentalExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.dentalExpensesForm.pKey\r\n            let temp = Object.assign({}, this.dentalExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.dentalExpensesUpdateFlag = false\r\n          } else {\r\n            this.dentalExpensesForm.pKey = 'DentalExpenses' + (this.medicalBills.length + 1)\r\n            this.dentalExpensesForm.billType = '牙科费用'\r\n            let temp = Object.assign({}, this.dentalExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['dentalExpensesForm'].resetFields()\r\n          this.resetDentalExpenses()\r\n        }\r\n      })\r\n    },\r\n    saveOphthalmologyExpensesForm() {\r\n      this.$refs['ophthalmologyExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.ophthalmologyExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.ophthalmologyExpensesForm.pKey\r\n            let temp = Object.assign({}, this.ophthalmologyExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.ophthalmologyExpensesUpdateFlag = false\r\n          } else {\r\n            this.ophthalmologyExpensesForm.pKey = 'OphthalmologyExpenses' + (this.medicalBills.length + 1)\r\n            this.ophthalmologyExpensesForm.billType = '眼科费用'\r\n            let temp = Object.assign({}, this.ophthalmologyExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['ophthalmologyExpensesForm'].resetFields()\r\n          this.resetOphthalmologyExpenses()\r\n        }\r\n      })\r\n    },\r\n    saveExaminationExpensesForm() {\r\n      this.$refs['examinationExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.examinationExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.examinationExpensesForm.pKey\r\n            let temp = Object.assign({}, this.examinationExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.examinationExpensesUpdateFlag = false\r\n          } else {\r\n            this.examinationExpensesForm.pKey = 'ExaminationExpenses' + (this.medicalBills.length + 1)\r\n            this.examinationExpensesForm.billType = '体检费用'\r\n            let temp = Object.assign({}, this.examinationExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['examinationExpensesForm'].resetFields()\r\n          this.resetExaminationExpenses()\r\n        }\r\n      })\r\n    },\r\n    saveSpecialExpensesForm() {\r\n      this.$refs['specialExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.specialExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.specialExpensesForm.pKey\r\n            let temp = Object.assign({}, this.specialExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.specialExpensesUpdateFlag = false\r\n          } else {\r\n            this.specialExpensesForm.pKey = 'SpecialExpenses' + (this.medicalBills.length + 1)\r\n            this.specialExpensesForm.billType = '特种费用'\r\n            let temp = Object.assign({}, this.specialExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['specialExpensesForm'].resetFields()\r\n          this.resetSpecialExpenses()\r\n        }\r\n      })\r\n    },\r\n    saveSocialExpensesForm() {\r\n      this.$refs['socialExpensesForm'].validate(pass => {\r\n        if (pass) {\r\n          if (this.socialExpensesUpdateFlag) { //当前为更新\r\n            let currentKey = this.socialExpensesForm.pKey\r\n            let temp = Object.assign({}, this.socialExpensesForm)\r\n            this.medicalBills = this.medicalBills.map(item => item.pKey === currentKey ? temp : item)\r\n            this.socialExpensesUpdateFlag = false\r\n          } else {\r\n            this.socialExpensesForm.pKey = 'SocialExpenses' + (this.medicalBills.length + 1)\r\n            this.socialExpensesForm.billType = '社保第三方费用'\r\n            let temp = Object.assign({}, this.socialExpensesForm)\r\n            this.medicalBills.push(temp)\r\n          }\r\n          this.$refs['socialExpensesForm'].resetFields()\r\n          this.resetSocialExpenses()\r\n        }\r\n      })\r\n    },\r\n    changeDisabilityLevel(val) {\r\n      this.disabilityForm.payoutRatio = this.disabilityGrades.filter(d => d.dblGrdCode === val).map(dg => dg.dblGrdRatio)[0]\r\n      this.disabilityForm.disabilityLevelName = this.disabilityGrades.filter(d => d.dblGrdCode === val).map(dg => dg.dblGrdName)[0]\r\n    },\r\n    handleSelectDisability(row) {\r\n      this.disabilityForm = Object.assign({}, row)\r\n      this.disabilityUpdateFlag = true\r\n    },\r\n    saveDisabilityForm() {\r\n      if (this.disabilityUpdateFlag) { //当前为更新\r\n        let currentKey = this.disabilityForm.pKey\r\n        let temp = Object.assign({}, this.disabilityForm)\r\n        this.disabilityDatas = this.disabilityDatas.map(item => item.pKey === currentKey ? temp : item)\r\n        this.disabilityUpdateFlag = false\r\n      } else {\r\n        this.disabilityForm.pKey = 'disability' + (this.disabilityDatas.length + 1)\r\n        let temp = Object.assign({}, this.disabilityForm)\r\n        this.disabilityDatas.push(temp)\r\n      }\r\n      this.resetDisabilityForm()\r\n    },\r\n    deleteDisability(row) {\r\n      this.disabilityDatas = this.disabilityDatas.filter(data => data.pKey !== row.pKey)\r\n    },\r\n    changeSelectPd(val) {\r\n      this.claimsForm.pdName = this.products.filter(p => p.pdCode === val)[0].pdName\r\n      this.bnfts = this.pastClaimsSelectedPolicy.bnfts.filter(bnf => bnf.pdCode === val)\r\n    },\r\n    changeSelectBnft(val) {\r\n      let bnft = this.bnfts.filter(bnf => bnf.benefitCode === val)[0]\r\n      this.claimsForm.guaranteeName = bnft.benefitName\r\n      this.claimsForm.guaranteeType = bnft.benefitType\r\n    },\r\n    showPastClaims() {\r\n      this.pastClaimsFlag = !this.pastClaimsFlag\r\n    },\r\n    savePastClaimsForm() {\r\n      if (this.claimsUpdateFlag) { //当前为更新\r\n        let currentKey = this.claimsForm.pKey\r\n        let temp = Object.assign({}, this.claimsForm)\r\n        this.claimsDatas = this.claimsDatas.map(item => item.pKey === currentKey ? temp : item)\r\n        this.claimsUpdateFlag = false\r\n      } else {\r\n        this.claimsForm.pKey = 'pastclaims' + (this.claimsDatas.length + 1)\r\n        let temp = Object.assign({}, this.claimsForm)\r\n        this.claimsDatas.push(temp)\r\n      }\r\n      this.resetClaimsForm()\r\n    },\r\n    handleSelectClaims(row) {\r\n      this.claimsForm = Object.assign({}, row)\r\n      this.claimsUpdateFlag = true\r\n    },\r\n    deleteClaimsData(row) {\r\n      this.claimsDatas = this.claimsDatas.filter(data => data.pKey !== row.pKey)\r\n    },\r\n    handleSelectPolicys(row) {\r\n      this.policyDetailShow = true\r\n      this.resultIcon = 'el-icon-arrow-up'\r\n      this.selectedId = row.contNo\r\n      this.policyDetailData = row\r\n      this.configs5 = row.products\r\n      this.configs6 = row.plans\r\n      this.configs7 = row.payments\r\n      this.configs8 = row.bnfts\r\n      this.resetRiskCustomer()\r\n      this.specificItemUpdateFlag = false\r\n      if (row.specificItem) {\r\n        this.specificItem = row.specificItem\r\n        this.specificItemUpdateFlag = true\r\n      }\r\n    },\r\n    resetRiskCustomer() {\r\n      this.outOfRiskCustomer = {\r\n        accidentDate: '',\r\n        dateOfDiagnosis: '',\r\n        dateOfDeath: '',\r\n        causeOfRisk: '',\r\n        diseaseCode: '',\r\n        outOfDangerResult: '',\r\n        countryOfTreatment: '',\r\n        treatmentHospital: '',\r\n        ageOfInsuredCustomer: '',\r\n        typeOfExemption: '',\r\n        exemptCustomerSeq: '',\r\n        claimType: [],\r\n        ageUnit: ''\r\n      }\r\n    },\r\n    resetOutExpense() {\r\n      this.outExpensesForm = {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      }\r\n    },\r\n    resetHospitalExpenses() {\r\n      this.hospitalExpensesForm = {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      }\r\n    },\r\n    resetDentalExpenses() {\r\n      this.dentalExpensesForm = {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      }\r\n    },\r\n    resetOphthalmologyExpenses() {\r\n      this.ophthalmologyExpensesForm = {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        days: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      }\r\n    },\r\n    resetExaminationExpenses() {\r\n      this.examinationExpensesForm = {\r\n        pKey: '',\r\n        accountNumber: '',\r\n        countryOfTreatment: '',\r\n        hospitalName: '',\r\n        examinationDate: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n      }\r\n    },\r\n    resetSpecialExpenses() {\r\n      this.specialExpensesForm = {\r\n        pKey: '',\r\n        startDate: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        payAmount: ''\r\n\r\n      }\r\n    },\r\n    resetSocialExpenses() {\r\n      this.socialExpensesForm = {\r\n        pKey: '',\r\n        feeType: '',\r\n        currency: '01',\r\n        exchangeRate: '',\r\n        expenses: '',\r\n        serviceOrgName: ''\r\n      }\r\n    },\r\n    resetDisabilityForm() {\r\n      this.disabilityForm = {\r\n        disabilityType: '',\r\n        disabilityLevel: '',\r\n        disabilityLevelName: '',\r\n        payoutRatio: ''\r\n      }\r\n    },\r\n    resetClaimsForm() {\r\n      this.claimsForm = {\r\n        contNo: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        guarantee: '',\r\n        guaranteeName: '',\r\n        guaranteeType: '',\r\n        payoutAmount: '',\r\n        payoutDetail: '',\r\n        stopMark: ''\r\n      }\r\n    },\r\n    buildPlanData(row) {\r\n      this.configs6 = this.policyDetailData.plans.filter(plan => plan.pdCode === row.pdCode)\r\n    }\r\n    ,\r\n    buildPaymentAndBnftData(row) {\r\n      this.configs7 = this.policyDetailData.payments.filter(payment => payment.planCode === row.planCode)\r\n      this.configs8 = this.policyDetailData.bnfts.filter(payment => payment.planCode === row.planCode)\r\n    }\r\n    ,\r\n    openHospitalDialog(type) {\r\n      this.needValueType = type\r\n      this.hospitalVisible = true\r\n    }\r\n    ,\r\n    saveCaseDef() {\r\n      this.$refs.caseDefForm.validate(pass1 => {\r\n        if (pass1) {\r\n          this.$refs.riskCustomerForm.validate(pass2 => {\r\n            if (pass2) {\r\n              this.CaseDefinition['data'] = {}\r\n              //保存出险客户\r\n              this.CaseDefinition.data['riskCustomer'] = this.outOfRiskCustomer\r\n              //保存保单数据\r\n              this.CaseDefinition.data['policys'] = this.selectedPolicys\r\n              //医疗账单费用\r\n              this.CaseDefinition.data['medicalBills'] = this.medicalBills\r\n              //伤残定义\r\n              this.CaseDefinition.data['disabilitys'] = this.disabilityDatas\r\n              //既往赔付定义\r\n              this.CaseDefinition.data['claimsDatas'] = this.claimsDatas\r\n\r\n              saveCaseDef(this.buildRequestData(this.CaseDefinition)).then(res => {\r\n                this.notifySuccess(this.$t('successMessage.save'))\r\n                this.$refs.page1.reload()\r\n                this.resetCaseDef()\r\n              })\r\n            } else {\r\n              this.focusItem()\r\n            }\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    initTestFuncSelect(pdInfoId) {\r\n      this.funcSelect = []\r\n      queryPdTestFunc(this.buildRequestData({'pdInfoId': pdInfoId})).then(res => {\r\n        let funcs = res.data\r\n        for (let i = 0; i < funcs.length; i++) {\r\n          let data = funcs[i]\r\n          this.funcSelect.push({'label': data.pdTestFuncCode + ':' + data.pdTestFuncDesc, 'value': data.id})\r\n        }\r\n      })\r\n    }\r\n    ,\r\n    templateDownload() {\r\n      downloadCaseTemplate(this.buildRequestData({'testModule': 'new-single-test'})).then(res => {\r\n        this.downloadResponseFile(res, 'NewSingleTestCaseTemplate.xlsm')\r\n      })\r\n    }\r\n    ,\r\n    openUploadDialog() {\r\n      this.dialogTableVisible1 = true\r\n    }\r\n    ,\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError('请选择上传的文件')\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList)\r\n        formData.append('pdInfoId', this.CaseDefinition.pdInfoId)\r\n        uploadTestCase(formData).then(res => {\r\n          this.notifySuccess('上传成功')\r\n          this.$refs.upload.clearFiles()\r\n          this.back1()\r\n          this.$refs.page1.reload()\r\n        })\r\n      }\r\n    }\r\n    ,\r\n    back1() {\r\n      this.dialogTableVisible1 = false\r\n    }\r\n    ,\r\n    back2() {\r\n      this.dialogTableVisible2 = false\r\n    }\r\n    ,\r\n    back3() {\r\n      this.hospitalVisible = false\r\n    }\r\n    ,\r\n    back4() {\r\n      this.diseaseVisible = false\r\n    }\r\n    ,\r\n    backPage() {\r\n      this.$router.push({path: '/product-testing/claim-test/claim-test-detail'})\r\n    }\r\n    ,\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: '上传文件名不能重复!',\r\n              duration: 2000\r\n            })\r\n            fileList.pop()\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList\r\n\r\n      /*\r\n     var msg = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n     //判断文件格式\r\n     if (!(msg === 'xls' || msg === 'xlsx')) {\r\n       this.$notify.error({\r\n         title: '错误',\r\n         message: '上传文件只能是 xls、xlsx格式!',\r\n         duration: 200\r\n       })\r\n       return\r\n     }*/\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '上传文件大小不能超过 10MB!',\r\n          duration: 500\r\n        })\r\n        return\r\n      }\r\n\r\n    }\r\n    ,\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: '提示',\r\n        message: '最多上传三个文件,替换请先移除！',\r\n        duration: 1000\r\n      })\r\n    }\r\n    ,\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n\r\n      } else {\r\n        this.$message.error(`上传文件失败`)\r\n      }\r\n    }\r\n    ,\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.formtitle {\r\n  padding-top: 10px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n\r\n</style>\r\n\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\singlePdProcess.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\singlePdProcess.vue","mtime":1609847107219},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KDQoNCmltcG9ydCBWdWUgZnJvbSAndnVlJw0KaW1wb3J0IHsNCiAgQnV0dG9uLA0KICBDZWxsR3JvdXAsDQogIERyb3Bkb3duTWVudSwNCiAgRHJvcGRvd25JdGVtLA0KICBGaWVsZCwNCiAgQWRkcmVzc0xpc3QNCiAgLCBQYWdpbmF0aW9uDQogICxUb2FzdA0KfSBmcm9tICd2YW50Jw0KDQoNCg0KDQoNCg0KDQoNCg0KDQpWdWUudXNlKFBhZ2luYXRpb24pDQpWdWUudXNlKEFkZHJlc3NMaXN0KQ0KVnVlLnVzZShGaWVsZCkNClZ1ZS51c2UoRHJvcGRvd25NZW51KQ0KVnVlLnVzZShEcm9wZG93bkl0ZW0pDQpWdWUudXNlKENlbGxHcm91cCkNClZ1ZS51c2UoVG9hc3QpDQpWdWUudXNlKEJ1dHRvbikNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnc2luZ2xlUGRQcm9jZXNzJywNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICdyb2xlY29kZXMnDQogICAgXSkNCiAgfSwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbmZpZ3M6IFtdLA0KICAgICAgZGF0YXM6IFtdLA0KICAgICAgY2hvc2VuUGQ6ICcnLA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycNCiAgICAgIH0sDQogICAgICBzaG93bXNnOiB0cnVlLA0KICAgICAgbW9uaXRvclNob3c6IGZhbHNlLA0KICAgICAgZW5hYmxlQWRkOiBmYWxzZSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICBpc0Rvd25Mb2FkaW5nOiBmYWxzZSwgLy8g5LiL5ouJ5Yi35pawDQogICAgICBpc1VwTG9hZGluZzogZmFsc2UsIC8vIOS4iuaLieWKoOi9vQ0KICAgICAgdXBGaW5pc2hlZDogZmFsc2UgLy8g5LiK5ouJ5Yqg6L295a6M5q+VDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5wYXJhbXMucGROYW1lID0gdGhpcy5nZXRTdHJEYXRhKCdwZE5hbWUnKQ0KICAgIHRoaXMucGFyYW1zLnBkQ29kZSA9IHRoaXMuZ2V0U3RyRGF0YSgncGRDb2RlJykNCiAgICBpZiAodGhpcy5wYXJhbXMucGROYW1lIT0gJycgfHwgdGhpcy5wYXJhbXMucGRDb2RlIT0gJycgKXsNCiAgICAgIHRoaXMuc2hvd21zZyA9IGZhbHNlDQogICAgICB0aGlzLiRyZWZzLnBhZ2UuYnVpbGREYXRhKCkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBkb0Fzc2lnbigpIHsNCiAgICAgICAgaWYgKHRoaXMuY2hvc2VuUGQpew0KICAgICAgICAgIHRoaXMuY2FjaGVTdHJEYXRhKCdhY3RpdmUnLCAnU2luZ2xlUGRQcm9jZXNzJykNCiAgICAgICAgICBsZXQgcm93ID0gICB0aGlzLmNvbmZpZ3MuZmlsdGVyKGMgPT4gYy5pZCA9PT0gdGhpcy5jaG9zZW5QZClbMF0NCiAgICAgICAgICB0aGlzLmNhY2hlSnNvbkRhdGEoJ3Bob25lLXBkSW5mbycsIHJvdykNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvcHJvY2VzcyIsIHBhcmFtczp7fX0pOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICBUb2FzdCgn6K+35YWI6YCJ5oup5Lqn5ZOBJykNCiAgICAgICAgfQ0KICAgIH0sDQogICAgcmVmcmVzaERvbmUoZGF0YSkgew0KICAgICAgY29uc3Qgcm93cyA9IGRhdGEucmVjb3Jkcw0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGRhdGEuY3VycmVudA0KICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWwNCiAgICAgIHRoaXMuZGF0YXMgPSBbXQ0KICAgICAgdGhpcy5jb25maWdzID0gcm93cw0KICAgICAgcm93cy5mb3JFYWNoKGMgPT4gew0KICAgICAgICB0aGlzLmRhdGFzLnB1c2goew0KICAgICAgICAgIGlkOiBjLmlkLA0KICAgICAgICAgIG5hbWU6ICfkuqflk4E6JyArIGMucGROYW1lLA0KICAgICAgICAgIHRlbDogYy5wZENvZGUsDQogICAgICAgICAgYWRkcmVzczogJ+S6p+WTgeeJiOWIqzonKyBjLnBkRWRpdGlvbg0KICAgICAgICB9KQ0KICAgICAgfSkNCg0KICAgIH0sDQogICAgY2hhbmdlUGFnZSh2YWwpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZS5wYWdlID0gdmFsDQogICAgICB0aGlzLiRyZWZzLnBhZ2UuYnVpbGREYXRhKCkNCiAgICB9LA0KICAgIG9uQ29uZmlybSgpIHsNCiAgICAgIGlmICh0aGlzLnBhcmFtcy5wZE5hbWU9PSAnJyAmJiB0aGlzLnBhcmFtcy5wZENvZGU9PSAnJyApew0KICAgICAgICAgIFRvYXN0KCfoh7PlsJHovpPlhaXkuIDkuKrmnaHku7YnKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy5jYWNoZVN0ckRhdGEoJ3BkTmFtZScsdGhpcy5wYXJhbXMucGROYW1lKQ0KICAgICAgdGhpcy5jYWNoZVN0ckRhdGEoJ3BkQ29kZScsdGhpcy5wYXJhbXMucGRDb2RlKQ0KICAgICAgdGhpcy5zaG93bXNnID0gZmFsc2UNCiAgICAgIHRoaXMuJHJlZnMuaXRlbS50b2dnbGUoKQ0KICAgICAgdGhpcy5kYXRhcyA9IFtdDQogICAgICB0aGlzLiRyZWZzLnBhZ2UucGFnZSA9IDENCiAgICAgIHRoaXMuJHJlZnMucGFnZS5idWlsZERhdGEoKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["singlePdProcess.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"singlePdProcess.vue","sourceRoot":"src/views/wecom-login/wecom-dashboard/wecomlist","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <van-dropdown-menu active-color=\"#2C40A6\">\r\n      <van-dropdown-item title=\"筛选\" ref=\"item\">\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdName\" clearable :label=\"$t('i18nView.pdName')\" :placeholder=\"$t('form.please_enter')\"/>\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdCode\" clearable :label=\"$t('i18nView.pdCode')\" :placeholder=\"$t('form.please_enter')\"/>\r\n        </van-cell-group>\r\n        <div style=\"padding: 5px 16px;\">\r\n          <van-button color=\"#2C40A6\" size=\"small\" block round @click=\"onConfirm\">\r\n            {{$t('confirmMessage.confirm')}}\r\n          </van-button>\r\n        </div>\r\n      </van-dropdown-item>\r\n    </van-dropdown-menu>\r\n\r\n    <van-address-list v-show=\"!showmsg\"\r\n      active-color=\"#1989fa\"\r\n      v-model=\"chosenPd\"\r\n      :list=\"datas\"\r\n      default-tag-text=\"选中\"\r\n      add-button-text=\"查看进度\"\r\n    />\r\n\r\n    <van-pagination v-if=\"!showmsg\" v-model=\"currentPage\" :items-per-page=\"5\" :total-items=\"total\" mode=\"simple\" @change=\"changePage\"/>\r\n\r\n\r\n    <div style=\"width: 100%;margin-top: 25px;margin-bottom: 50px;text-align: center\">\r\n      <van-button  color=\"#2C40A6\" v-show=\"!showmsg\" round type=\"info\" size=\"small\" style=\"width: 120px\" @click=\"doAssign\">{{$t('i18nView.searchPrograse')}}</van-button>\r\n    </div>\r\n\r\n\r\n    <van-panel\r\n      v-show=\"showmsg\"\r\n      title=\"表格状态\"\r\n      desc=\"请先输入筛选条件\"></van-panel>\r\n\r\n\r\n    <cus-pagination :autoBuild=\"false\" v-show=\"false\" :pageSize=\"5\" :refreshDone=\"refreshDone\" :params=\"params\"\r\n                    ref=\"page\"\r\n                    url=\"/workflow/single-pd-list\"\r\n                    v-model=\"configs\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapGetters } from 'vuex'\r\n\r\n\r\nimport Vue from 'vue'\r\nimport {\r\n  Button,\r\n  CellGroup,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  Field,\r\n  AddressList\r\n  , Pagination\r\n  ,Toast\r\n} from 'vant'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nVue.use(Pagination)\r\nVue.use(AddressList)\r\nVue.use(Field)\r\nVue.use(DropdownMenu)\r\nVue.use(DropdownItem)\r\nVue.use(CellGroup)\r\nVue.use(Toast)\r\nVue.use(Button)\r\n\r\nexport default {\r\n  name: 'singlePdProcess',\r\n  computed: {\r\n    ...mapGetters([\r\n      'rolecodes'\r\n    ])\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      configs: [],\r\n      datas: [],\r\n      chosenPd: '',\r\n      params: {\r\n        pdCode: '',\r\n        pdName: ''\r\n      },\r\n      showmsg: true,\r\n      monitorShow: false,\r\n      enableAdd: false,\r\n      total: 0,\r\n      currentPage: 1,\r\n      isDownLoading: false, // 下拉刷新\r\n      isUpLoading: false, // 上拉加载\r\n      upFinished: false // 上拉加载完毕\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    this.params.pdName = this.getStrData('pdName')\r\n    this.params.pdCode = this.getStrData('pdCode')\r\n    if (this.params.pdName!= '' || this.params.pdCode!= '' ){\r\n      this.showmsg = false\r\n      this.$refs.page.buildData()\r\n    }\r\n  },\r\n  methods: {\r\n    doAssign() {\r\n        if (this.chosenPd){\r\n          this.cacheStrData('active', 'SinglePdProcess')\r\n          let row =   this.configs.filter(c => c.id === this.chosenPd)[0]\r\n          this.cacheJsonData('phone-pdInfo', row)\r\n          this.$router.push({ path: \"/process\", params:{}});\r\n        }else {\r\n            Toast('请先选择产品')\r\n        }\r\n    },\r\n    refreshDone(data) {\r\n      const rows = data.records\r\n      this.currentPage = data.current\r\n      this.total = data.total\r\n      this.datas = []\r\n      this.configs = rows\r\n      rows.forEach(c => {\r\n        this.datas.push({\r\n          id: c.id,\r\n          name: '产品:' + c.pdName,\r\n          tel: c.pdCode,\r\n          address: '产品版别:'+ c.pdEdition\r\n        })\r\n      })\r\n\r\n    },\r\n    changePage(val) {\r\n      this.$refs.page.page = val\r\n      this.$refs.page.buildData()\r\n    },\r\n    onConfirm() {\r\n      if (this.params.pdName== '' && this.params.pdCode== '' ){\r\n          Toast('至少输入一个条件')\r\n          return\r\n      }\r\n      this.cacheStrData('pdName',this.params.pdName)\r\n      this.cacheStrData('pdCode',this.params.pdCode)\r\n      this.showmsg = false\r\n      this.$refs.item.toggle()\r\n      this.datas = []\r\n      this.$refs.page.page = 1\r\n      this.$refs.page.buildData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.dashboard-container {\r\n  background-color: #f7f8fa;\r\n  overflow-y: scroll;\r\n}\r\n\r\n.van-address-item__edit {\r\n  display: none;\r\n}\r\n\r\n.van-pagination {\r\n  margin-top: -28px;\r\n}\r\n\r\n\r\n.van-address-item__name{\r\n   font-size: 14px;\r\n}\r\n\r\n\r\n.van-address-list__bottom{\r\n  bottom: 56px;\r\n  width: 130px;\r\n  display: none;\r\n}\r\n\r\n.van-pagination__item{\r\n   color: #2C40A6 !important;\r\n}\r\n\r\n</style>\r\n"]}]}
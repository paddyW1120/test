{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-query\\package-query\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-query\\package-query\\index.vue","mtime":1609847106629},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29tYm9TZWxlY3RJbmRleERhdGEsZ2V0U3RhdHVzfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vY29tYm9JbmZvU2VsZWN0JwoKbGV0IF90aGlzCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY29tYm9TZWxlY3QiLAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9wZFByb2Nlc3MoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMucGRQcm9jZXNzU1tjb2RlXQogICAgfSwKICAgIGZpbHRlcl9wcFR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMucHBUeXBlc1tjb2RlXQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIF90aGlzID0gdGhpczsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlckNvbW1vZGl0eUJyZWFrZG93bjogW10sCiAgICAgIC8v5Yid5aeL5YyW6KGo5qC8CiAgICAgIGNvbWJvU2VsZWN0VGFibGU6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvL+WIneWni+WMluS4i+aLiemAiQogICAgICBwYWNrYWdlTGlzdDogW10sCiAgICAgIGNvbWJvTGlzdDogW10sCiAgICAgIGRhdGVWYWx1ZTogW10sCiAgICAgIHVybDogIi9jb21ib1NlbGVjdC9iYXNlL2luZGV4RGF0YSIsCiAgICAgIHNlbGVjdE9wZXJhdGlvbjoge30sCiAgICAgIHN0YXR1c0RhdGE6IHt9LAogICAgICBzdGF0dXNEYXRhMjoge30sCiAgICAgIHN0YXR1c0RhdGEzOiB7fSwKICAgICAgc3RhdHVzRGF0YTQ6IHt9LAogICAgICBzdGF0dXNEYXRhNToge30sCiAgICAgIHBkSW5mb0lkOiAnJywKICAgICAgcGRQcm9jZXNzSWQ6ICcnLAogICAgICBtb2R1bGVOb2RlOiAnJywKICAgICAgcGRQcm9jZXNzUzogeycxJzogJ+WumuS5ieS4rScsICcyJzogJ+a1i+ivleS4rScsICczJzogJ+WuoeaguOS4rScsICc0JzogJ+W+heWPkeW4gycsICc1JzogJ+W3suWPkeW4gycsICc2JzogJ+W3suWBnOWUricsJzcnOiAn6KeE5YiZ6K6i5q2j5LitJywnOCc6ICflhazlvI/orqLmraPkuK0nfSwKICAgICAgcHBUeXBlczogeydOJzogJ+iHquWumuS5iScsICcwJzogJ+S6p+WTgee7hOijhSd9LAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbewogICAgICAgICAgdGV4dDogJ+acgOi/keS4gOWRqCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/keS4ieS4quaciCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9LAogICAgICBwYXJhbXM6IHsKICAgICAgICBwcENvZGU6ICcnLAogICAgICAgIHBwTmFtZTogJycsCiAgICAgICAgY29tYm9BcHBseVN0YXJ0RGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGNvbWJvQXBwbHlFbmREYXRlOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgc2VsZWN0ZWRQcDp7fSwKICAgICAgc2VsZWN0ZUNvbmZpZ3MyOiB7fSwKICAgICAgLy/kuqflk4HokKXov5Dnm5HmjqflrprkuYnlrozmr5XkvKDlj4IKICAgICAgZGF0YTogewogICAgICAgIHByb2R1Y3RUZXN0RmxhZzogJzEnLAogICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiAnJwogICAgICB9LAogICAgICAvL+WKqOaAgeaYvuekugogICAgICBzaG93T3BlcmF0aW9uUHJvZ3Jlc3M6IGZhbHNlLAoKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRlVmFsdWUodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnBhcmFtcy5jb21ib0FwcGx5U3RhcnREYXRlID0gdmFsWzBdOwogICAgICAgIHRoaXMucGFyYW1zLmNvbWJvQXBwbHlFbmREYXRlID0gdmFsWzFdCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXJhbXMuY29tYm9BcHBseVN0YXJ0RGF0ZSA9ICcnOwogICAgICAgIHRoaXMucGFyYW1zLmNvbWJvQXBwbHlFbmREYXRlID0gJycKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2VsZWN0Q29tYm8oKQoKICAgIGxldCByb3cgPSB0aGlzLmdldEpzb25EYXRhKCJvcGVyYXRpb25TZWxlY3QiKQogICAgaWYgKHJvdy5pZCAhPSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5zZWxlY3RPcGVyYXRpb24gPSByb3cuaWQKICAgICAgdGhpcy5wZEluZm9JZCA9IHJvdy5pZAogICAgICB0aGlzLnNob3dPcGVyYXRpb25Qcm9ncmVzcyA9IHRydWUKICAgICAgdGhpcy5jaGVja1Byb2Nlc3MoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZG9TZWFyY2goKSB7CiAgICAgIHRoaXMuc2VsZWN0Q29tYm8oKQogICAgICB0aGlzLmRhdGFSZWxvYWQoKQogICAgICB0aGlzLnNlbGVjdE9wZXJhdGlvbiA9IHt9CiAgICAgIHRoaXMuc2hvd09wZXJhdGlvblByb2dyZXNzID0gZmFsc2UKICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyKGNvZGV0eXBlLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRDb2RlTmFtZShjb2RldHlwZSwgdmFsdWUpOwogICAgfSwKICAgIGZpbHRlclBwUHJvY2Vzc0hhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7CiAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWydwcm9wZXJ0eSddCiAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZQogICAgfSwKICAgIGZpbHRlclBwVHlwZUhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7CiAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWydwcm9wZXJ0eSddCiAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZQogICAgfSwKICAgIGZpbHRlckRlZlR5cGVIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsncHJvcGVydHknXQogICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWUKICAgIH0sCiAgICBkYXRhUmVsb2FkKCkgewogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuJHJlZnMuZGF0YVBhZ2UpOwogICAgICBpZiAodGhpcy4kcmVmcy5kYXRhUGFnZSkgewogICAgICAgIHRoaXMuJHJlZnMuZGF0YVBhZ2UucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RDb21ibygpIHsKICAgICAgICB0aGlzLmZpbHRlclBhY2thZ2VCeU5vZGUodGhpcykKICAgIH0sCiAgICBzZWxlY3RlZFBwQ29kZUNoYW5nZWQoY29tYm8pIHsKICAgICAgICB0aGlzLnBhcmFtcy5wcE5hbWUgPSBjb21iby5wcE5hbWUKICAgICAgICB0aGlzLnBhcmFtcy5wcENvZGUgPSBjb21iby5wcENvZGUKICAgIH0sCiAgICByb3dDbGlja19PcGVyYXRpb24ocm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsKICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdE9wZXJhdGlvbikgewogICAgICAgICAgdGhpcy5zZWxlY3RPcGVyYXRpb24gPSB7fQogICAgICAgICAgdGhpcy5zaG93T3BlcmF0aW9uUHJvZ3Jlc3MgPSBmYWxzZQogICAgICAgICAgdGhpcy5jYWNoZUpzb25EYXRhKCdvcGVyYXRpb25TZWxlY3QnLCB0aGlzLnNlbGVjdE9wZXJhdGlvbikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jYWNoZUpzb25EYXRhKCdvcGVyYXRpb25TZWxlY3QnLCByb3cpCiAgICAgICAgICB0aGlzLnBkSW5mb0lkID0gcm93LmlkCiAgICAgICAgICB0aGlzLnBkUHJvY2Vzc0lkID0gcm93LnBkUHJvY2Vzc0lkcGRQcm9jZXNzSWQKICAgICAgICAgIHRoaXMuc2hvd09wZXJhdGlvblByb2dyZXNzID0gdHJ1ZQogICAgICAgICAgdGhpcy5jaGVja1Byb2Nlc3MoKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrUHJvY2VzcygpIHsKICAgICAgZ2V0U3RhdHVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkUHJvY2Vzc0lkIjogdGhpcy5wZFByb2Nlc3NJZCwgIm1vZHVsZU5vZGUiOiAncGRQcERlZid9KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc3RhdHVzRGF0YSA9IHJlcy5kYXRhWzBdCiAgICAgIH0pCiAgICAgIGdldFN0YXR1cyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZFByb2Nlc3NJZCI6IHRoaXMucGRQcm9jZXNzSWQsICJtb2R1bGVOb2RlIjogJ3BhY2thZ2VPcGVyYXRpb25hbCd9KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc3RhdHVzRGF0YTIgPSByZXMuZGF0YVswXQogICAgICB9KQogICAgICBnZXRTdGF0dXModGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRQcm9jZXNzSWQiOiB0aGlzLnBkUHJvY2Vzc0lkLCAibW9kdWxlTm9kZSI6ICd0ZXN0J30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNEYXRhMyA9IHJlcy5kYXRhWzBdCiAgICAgIH0pCiAgICAgIGdldFN0YXR1cyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZFByb2Nlc3NJZCI6IHRoaXMucGRQcm9jZXNzSWQsICJtb2R1bGVOb2RlIjogJ3BkUHBFeGFtaW5lJ30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNEYXRhNCA9IHJlcy5kYXRhWzBdCiAgICAgIH0pCiAgICAgIGdldFN0YXR1cyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZFByb2Nlc3NJZCI6IHRoaXMucGRQcm9jZXNzSWQsICJtb2R1bGVOb2RlIjogJ3BkUHBSZWxlYXNlJ30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNEYXRhNSA9IHJlcy5kYXRhWzBdCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlR29QYWdlKHR5cGUpIHsKICAgICAgbGV0IHBhdGggPSB0aGlzLm1lbnVOYW1lVG9QYXRoKHR5cGUpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBwYXRofSk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-query/package-query","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title :label=\"$t('route.comboSelect')\"></cus-page-title>\r\n\r\n    <el-form  label-width=\"auto\" ref=\"params\" :model=\"params\">\r\n    <el-row :gutter=\"10\">\r\n      <cus-col >\r\n        <el-form-item :label=\"$t('comboSelect.combo')\">\r\n          <el-select  clearable filterable value-key=\"id\" @change=\"selectedPpCodeChanged\"\r\n                     v-model=\"selectedPp\" >\r\n            <el-option :key=\"combo.id\" :label=\"combo.ppCode+':'+combo.ppName\" :value=\"combo\"\r\n                       v-for=\"combo in packageList\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </cus-col>\r\n\r\n      <cus-col >\r\n        <el-form-item :label=\"$t('comboSelect.ppApplyDate')\">\r\n          <el-date-picker v-model=\"dateValue\" type=\"daterange\" unlink-panels\r\n                          value-format=\"yyyy-MM-dd\"\r\n                          :range-separator=\"$t('comboSelect.to')\"\r\n                          :start-placeholder=\"$t('comboSelect.comboApplyStartDate')\"\r\n                          :end-placeholder=\"$t('comboSelect.comboApplyEndDate')\"\r\n                          :picker-options=\"pickerOptions\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n      </cus-col>\r\n\r\n      <cus-btn-wrapper>\r\n        <el-button  size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"doSearch\">\r\n          {{$t('comboSelect.search')}}\r\n        </el-button>\r\n      </cus-btn-wrapper>\r\n\r\n    </el-row>\r\n  </el-form>\r\n\r\n  <el-divider content-position=\"left\"><i class=\"el-icon-s-grid\"></i>{{$t('route.comboSelect')}}\r\n  </el-divider>\r\n  <el-table :data=\"comboSelectTable\" size=\"mini\" @row-click=\"rowClick_Operation\" highlight-current-row\r\n            fit element-loading-text=\"Loading\" border align=\"center\" class=\"wraper-table\">\r\n    <el-table-column width=\"50\" :label=\"$t('productSelect.selection')\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-radio-group v-model=\"selectOperation\">\r\n          <el-radio :label=\"scope.row.id\">{{''}}</el-radio>\r\n        </el-radio-group>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"></el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppCode')\" prop=\"ppCode\" align=\"center\"></el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppName')\" prop=\"ppName\" align=\"center\"></el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppType')\" prop=\"ppType\" align=\"center\"\r\n                     :filters=\"[{text: '自定义', value: 'N'}, {text: '产品组装', value: '0'}]\"\r\n                     :filter-method=\"filterPpTypeHandler\" column-key=\"ppType\" :filter-multiple=\"false\">\r\n      <template v-slot=\"scope\">{{scope.row.ppType | filter_ppType}}</template>\r\n    </el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppProcess')\" prop=\"pdProcess\" align=\"center\"\r\n                     :filters=\"[{text: '定义中', value: '1'}, {text: '测试中', value: '2'},\r\n                       {text: '审核中', value: '3'}, {text: '待发布', value: '4'}, {text: '已发布', value: '5'}, {text: '已停售', value: '6'},{value:'7', text:'规则订正中'},{value:'8', text:'公式订正中'}]\"\r\n                     :filter-method=\"filterPpProcessHandler\" column-key=\"pdProcess\" :filter-multiple=\"false\">\r\n      <template v-slot=\"scope\">{{scope.row.pdProcess | filter_pdProcess}}</template>\r\n    </el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.defType')\" prop=\"defType\" align=\"center\"\r\n                     :filters=\"[{text: '新套餐', value: '1'}, {text: '订正套餐', value: '2'}, {text: '停售套餐', value: '3'}]\"\r\n                     :filter-method=\"filterDefTypeHandler\" column-key=\"defType\" :filter-multiple=\"false\">\r\n      <template v-slot=\"scope\">{{filterHandler('pdAuditType',scope.row.defType )}}</template>\r\n    </el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppApplyDate')\" prop=\"applyTime\" align=\"center\"></el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppRelDate')\" prop=\"pdStartDate\" align=\"center\"></el-table-column>\r\n    <el-table-column :label=\"$t('comboSelect.ppDisDate')\" prop=\"pdStopDate\" align=\"center\"></el-table-column>\r\n  </el-table>\r\n  <!-- 分页 -->\r\n  <cus-pagination ref=\"dataPage\" :url=\"url\" :pageSize=\"10\" :params=\"params\" v-model=\"comboSelectTable\"/>\r\n  <br>\r\n    <!--产品营运定义进度-->\r\n    <div v-if=\"showOperationProgress\">\r\n\r\n\r\n      <!--产品框架定义详情-->\r\n      <cus-form-title  :label=\"$t('comboSelect.pdInfo')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      <!--产品营运定义详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboSelect.operational')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData2.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--产品测试详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboSelect.test')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData3.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage3(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--产品审核详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboSelect.examine')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData4.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage('产品审核')\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--产品发布详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboSelect.release')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData5.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage('item1.moduleName')\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {comboSelectIndexData,getStatus} from '@/api/basicinfo/comboInfoSelect'\r\n\r\n  let _this\r\n  export default {\r\n    name: \"comboSelect\",\r\n    filters: {\r\n      filter_pdProcess(code) {\r\n        return _this.pdProcessS[code]\r\n      },\r\n      filter_ppType(code) {\r\n        return _this.ppTypes[code]\r\n      }\r\n    },\r\n    data() {\r\n      _this = this;\r\n      return {\r\n        filterCommodityBreakdown: [],\r\n        //初始化表格\r\n        comboSelectTable: [],\r\n        tableData: [],\r\n        //初始化下拉选\r\n        packageList: [],\r\n        comboList: [],\r\n        dateValue: [],\r\n        url: \"/comboSelect/base/indexData\",\r\n        selectOperation: {},\r\n        statusData: {},\r\n        statusData2: {},\r\n        statusData3: {},\r\n        statusData4: {},\r\n        statusData5: {},\r\n        pdInfoId: '',\r\n        pdProcessId: '',\r\n        moduleNode: '',\r\n        pdProcessS: {'1': '定义中', '2': '测试中', '3': '审核中', '4': '待发布', '5': '已发布', '6': '已停售','7': '规则订正中','8': '公式订正中'},\r\n        ppTypes: {'N': '自定义', '0': '产品组装'},\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        params: {\r\n          ppCode: '',\r\n          ppName: '',\r\n          comboApplyStartDate: undefined,\r\n          comboApplyEndDate: undefined\r\n        },\r\n        selectedPp:{},\r\n        selecteConfigs2: {},\r\n        //产品营运监控定义完毕传参\r\n        data: {\r\n          productTestFlag: '1',\r\n          processInstanceId: ''\r\n        },\r\n        //动态显示\r\n        showOperationProgress: false,\r\n\r\n      }\r\n    },\r\n    watch: {\r\n      dateValue(val) {\r\n        if (val) {\r\n          this.params.comboApplyStartDate = val[0];\r\n          this.params.comboApplyEndDate = val[1]\r\n        } else {\r\n          this.params.comboApplyStartDate = '';\r\n          this.params.comboApplyEndDate = ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.selectCombo()\r\n\r\n      let row = this.getJsonData(\"operationSelect\")\r\n      if (row.id != undefined) {\r\n        this.selectOperation = row.id\r\n        this.pdInfoId = row.id\r\n        this.showOperationProgress = true\r\n        this.checkProcess()\r\n      }\r\n    },\r\n    methods: {\r\n      doSearch() {\r\n        this.selectCombo()\r\n        this.dataReload()\r\n        this.selectOperation = {}\r\n        this.showOperationProgress = false\r\n      },\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      filterPpProcessHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      filterPpTypeHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      filterDefTypeHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      dataReload() {\r\n        //console.log(this.$refs.dataPage);\r\n        if (this.$refs.dataPage) {\r\n          this.$refs.dataPage.reload();\r\n        }\r\n      },\r\n      selectCombo() {\r\n          this.filterPackageByNode(this)\r\n      },\r\n      selectedPpCodeChanged(combo) {\r\n          this.params.ppName = combo.ppName\r\n          this.params.ppCode = combo.ppCode\r\n      },\r\n      rowClick_Operation(row, column, event) {\r\n        if (event.target.nodeName === \"INPUT\") {\r\n          if (row.id === this.selectOperation) {\r\n            this.selectOperation = {}\r\n            this.showOperationProgress = false\r\n            this.cacheJsonData('operationSelect', this.selectOperation)\r\n          } else {\r\n            this.cacheJsonData('operationSelect', row)\r\n            this.pdInfoId = row.id\r\n            this.pdProcessId = row.pdProcessIdpdProcessId\r\n            this.showOperationProgress = true\r\n            this.checkProcess()\r\n          }\r\n        }\r\n      },\r\n      checkProcess() {\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpDef'})).then(res => {\r\n          this.statusData = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'packageOperational'})).then(res => {\r\n          this.statusData2 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'test'})).then(res => {\r\n          this.statusData3 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpExamine'})).then(res => {\r\n          this.statusData4 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpRelease'})).then(res => {\r\n          this.statusData5 = res.data[0]\r\n        })\r\n      },\r\n      handleGoPage(type) {\r\n        let path = this.menuNameToPath(type)\r\n        this.$router.push({name: path});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
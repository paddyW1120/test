{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-amount\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-amount\\index.vue","mtime":1609847106981},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7DQogIGFkZEFsbFBkdGVtcFBkVXdTaSwNCiAgZGVsZXRlUGR0ZW1wUGRVd1NpLA0KICBmaW5kQWxsUGR0ZW1wUGRVd1NpQnlQb2R1Y3RJZCwNCiAgdXBkYXRlUGR0ZW1wUGRVd1NpLA0KICBmaW5kUGR0ZW1wUGRVd1NpQ29uZkJ5UGFyYW0NCn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkdW5kZXJ3cml0aW5nYW1vdW50Ig0KaW1wb3J0IHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGENCiAgZnJvbSAiQC92aWV3cy9wcm9kdWN0LWRlZmluaXRpb24vcGQtb3BlcmF0aW9uLWRlZi9wZC11bmRlcndyaXRpbmctZGVmL3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEiDQppbXBvcnQgdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdA0KICBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1vcGVyYXRpb24tZGVmL3BkLXVuZGVyd3JpdGluZy1kZWYvdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdCINCmltcG9ydCBvcGVyYXRpb25idXR0b24gZnJvbSAnQC92aWV3cy9iYXNpY2luZm8vb3BlcmF0aW9uZW5kL2luZGV4Jw0KaW1wb3J0IHtjbG9zZVZpc2l0VGFnfSBmcm9tICJAL3V0aWxzL3RhZ3NWaWV3Ig0KDQpsZXQgX3RoaXMNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAndW5kZXJ3cml0aW5nQW1vdW50JywNCiAgcHJvcHM6IHt9LA0KICBjb21wb25lbnRzOiB7dW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYSwgdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdCwgb3BlcmF0aW9uYnV0dG9ufSwNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZFV3U2lUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDYXNjYWRlckNvZGVOYW1lKCd1bmRlcndyaXRpbmdBbW91bnRUeXBlJywgY29kZS5zcGxpdCgnXycpKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkVXdTaUNhbGNCc1ZhbChjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3VuZGVyd3JpdGluZ0Ftb3VudENhbGNCYXNlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZFV3U2lDYWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgndW5kZXJ3cml0aW5nQW1vdW50Q2FsY01vZGUnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgcGFnZTogdW5kZWZpbmVkLA0KICAgICAgcGFnZVNpemU6IHVuZGVmaW5lZCwNCiAgICAgIHNob3dQYWdlRmxhZzogJzAnLA0KICAgICAgcHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvOiBmYWxzZSwNCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QwOiBbXSwNCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QxOiBbXSwNCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QyOiBbXSwNCiAgICAgIHR5cGU6ICdwcm9kdWN0VW5kZXJ3cml0aW5nRmxhZycsDQogICAgICBxdWlja1RhYmxlRGF0YTogW10sDQogICAgICBwZFByb2Nlc3NJZDogJycsDQogICAgICBkaWFsb2dWaXNpYmxlOiB7DQogICAgICAgIHVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICB1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0OiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIHBhZ2VfcGFyYW1zOiB7DQogICAgICAgIGVxX3BkRGV0YWlsVHlwZTogJycsDQogICAgICAgIGVxX3BkSW5mb0lkOiAnJywNCiAgICAgICAgcGRVd1NpVHlwZTogW10NCiAgICAgIH0sDQogICAgICAvLyDkuqflk4Hkv6Hmga8NCiAgICAgIHByb2R1Y3Q6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRFZGl0aW9uOiAnJywNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFNhbGVjaG5sOiAnJywNCiAgICAgICAgcGROYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydG5hbWU6ICcnLA0KICAgICAgICBwZEVuTmFtZTogJycsDQogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQXBwbERhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBwcm9kdWN0TGlzdDogW10sDQogICAgICBwYXJhbXM6IHt9LA0KICAgICAgc2VsZWN0ZWRBbW91bnQ6IHt9LA0KICAgICAgZGVmaW5pbmdBbW91bnQ6IHt9LA0KICAgICAgbmVlZFNob3dNb3JlX2Ftb3VudDogZmFsc2UsDQogICAgICBuZWVkU2hvd01vcmVfZm9ybXVsYTogZmFsc2UsDQogICAgICBzaG93QWxsX2Ftb3VudDogZmFsc2UsDQogICAgICBzaG93QWxsX2Zvcm11bGE6IGZhbHNlLA0KICAgICAgZGF0YV9hbW91bnQ6IFtdLA0KICAgICAgZGF0YV9mb3JtdWxhOiBbXSwNCiAgICAgIHRhYmxlRGF0YV9hbW91bnQ6IFtdLA0KICAgICAgdGFibGVEYXRhX2Zvcm11bGE6IFtdLA0KICAgICAgcGRVd1NpVHlwZUZvckZvcm11bGE6ICcnLA0KICAgICAgcGRVd1NpVHlwZU9wdGlvbnM6IFtdLA0KICAgICAgcGRVd1NpVHlwZUZvclNlbGVjdDogJycsDQogICAgICB2aXNpYmxlX2Zvcm11bGFUYWJsZTogZmFsc2UsDQogICAgICBxdWlja3Nob3c6IGZhbHNlLA0KICAgICAgcXVpY2tpY29uOiAnZWwtaWNvbi1hcnJvdy1yaWdodCcsDQogICAgICBmb3JtX2Ftb3VudDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRUeXBlOiAnJywNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRVd1NpVHlwZTogW10sDQogICAgICAgIHBkVXdTaUNhbFR5cGU6ICcnLA0KICAgICAgICBwZFV3U2lGaW5hbEFtb3VudDogdW5kZWZpbmVkLA0KICAgICAgICBwZFV3U2lSYXRpbzogdW5kZWZpbmVkLA0KICAgICAgICBwZFV3U2lDYWxjQnNWYWw6ICcnLA0KICAgICAgICBwZENhbGNDb2RlOiAnJywNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBmb3JtX2Ftb3VudF9lbnRpdHk6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkVHlwZTogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkVXdTaVR5cGU6ICcnLA0KICAgICAgICBwZFV3U2lDYWxUeXBlOiAnJywNCiAgICAgICAgcGRVd1NpRmluYWxBbW91bnQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRVd1NpUmF0aW86IHVuZGVmaW5lZCwNCiAgICAgICAgcGRVd1NpQ2FsY0JzVmFsOiAnJywNCiAgICAgICAgcGRDYWxjQ29kZTogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgZm9ybV9jb25maWc6IHsNCiAgICAgICAgcmlza0RldGFpbDogJycsDQogICAgICAgIGVxX3BkRGV0YWlsVHlwZTogJycsDQogICAgICAgIHBkVXdTaVR5cGU6ICcnLA0KICAgICAgICBlcV9wZEluZm9JZDogJycNCg0KICAgICAgfSwNCiAgICAgIHJ1bGU6IHsNCiAgICAgICAgcGRVd1NpVHlwZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3BkdGVtcFBkVW5kZXJ3cml0aW5nQW1vdW50LnBkVXdTaVR5cGUnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgICAgcGRVd1NpQ2FsY0JzVmFsOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX3NlbGVjdCcpICsgdGhpcy4kdCgncGR0ZW1wUGRVbmRlcndyaXRpbmdBbW91bnQucGRVd1NpQ2FsY0JzVmFsJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgIHBkVXdTaUNhbFR5cGU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdwZHRlbXBQZFVuZGVyd3JpdGluZ0Ftb3VudC5wZFV3U2lDYWxUeXBlJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgIHBkVXdTaUZpbmFsQW1vdW50OiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwZHRlbXBQZFVuZGVyd3JpdGluZ0Ftb3VudC5wZFV3U2lGaW5hbEFtb3VudCcpLA0KICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICAgIH1dLA0KICAgICAgICBwZFV3U2lSYXRpbzogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgncGR0ZW1wUGRVbmRlcndyaXRpbmdBbW91bnQucGRVd1NpUmF0aW8nKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJ3RhYmxlRGF0YV9hbW91bnQnKCkgew0KICAgICAgaWYgKHRoaXMudGFibGVEYXRhX2Ftb3VudC5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDAgPSBbXTsNCiAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MSA9IFtdOw0KICAgICAgICB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QyID0gW107DQogICAgICAgIHRoaXMudGFibGVEYXRhX2Ftb3VudC5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MC5wdXNoKHsNCiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgndW5kZXJ3cml0aW5nQW1vdW50VHlwZScsIHZhbC5wZFV3U2lUeXBlLnNwbGl0KCdfJykpLA0KICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFV3U2lUeXBlDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MS5wdXNoKHsNCiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0Q29kZU5hbWUoJ3VuZGVyd3JpdGluZ0Ftb3VudENhbGNCYXNlJywgdmFsLnBkVXdTaUNhbGNCc1ZhbCksDQogICAgICAgICAgICB2YWx1ZTogdmFsLnBkVXdTaUNhbGNCc1ZhbA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDIucHVzaCh7DQogICAgICAgICAgICB0ZXh0OiB0aGlzLmdldENvZGVOYW1lKCd1bmRlcndyaXRpbmdBbW91bnRDYWxjTW9kZScsIHZhbC5wZFV3U2lDYWxUeXBlKSwNCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRVd1NpQ2FsVHlwZQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MCA9IHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDAucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7DQogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQpKSB7DQogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBwcmV2Ow0KICAgICAgICB9LCBbXSk7DQogICAgICAgIHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDEgPSB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QxLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZWxlbWVudCkgew0KICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgew0KICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOw0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gcHJldjsNCiAgICAgICAgfSwgW10pOw0KICAgICAgICB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QyID0gdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0Mi5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsNCiAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsNCiAgICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHByZXY7DQogICAgICAgIH0sIFtdKTsNCiAgICAgIH0NCiAgICB9LA0KICAgICdmb3JtX2Ftb3VudC5wZFV3U2lDYWxUeXBlJyh2YWwpIHsNCiAgICAgIHN3aXRjaCAodmFsKSB7DQogICAgICAgIGNhc2UgJzAxJzoNCiAgICAgICAgICB0aGlzLmZvcm1fYW1vdW50LnBkVXdTaUZpbmFsQW1vdW50ID0gdW5kZWZpbmVkDQogICAgICAgICAgdGhpcy5mb3JtX2Ftb3VudC5wZFV3U2lSYXRpbyA9IHVuZGVmaW5lZA0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJzAyJzoNCiAgICAgICAgICB0aGlzLmZvcm1fYW1vdW50LnBkQ2FsY0NvZGUgPSB1bmRlZmluZWQNCiAgICAgICAgICB0aGlzLmZvcm1fYW1vdW50LnBkVXdTaUZpbmFsQW1vdW50ID0gdW5kZWZpbmVkDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnMDMnOg0KICAgICAgICAgIHRoaXMuZm9ybV9hbW91bnQucGRDYWxjQ29kZSA9IHVuZGVmaW5lZA0KICAgICAgICAgIHRoaXMuZm9ybV9hbW91bnQucGRVd1NpUmF0aW8gPSB1bmRlZmluZWQNCiAgICAgICAgICBicmVhaw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMucGFnZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2UNCiAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy4kcm91dGUucXVlcnkucGFnZVNpemUNCiAgICB0aGlzLnNob3dQYWdlRmxhZyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNob3dQYWdlRmxhZw0KICAgIHRoaXMuaW5pdFByb2R1Y3RJbmZvKCkNCiAgICB0aGlzLmluaXRUYWJsZURhdGFfYW1vdW50KCk7DQogICAgdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gIT09IHVuZGVmaW5lZDsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdvQmFjaygpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5Lqn5ZOB5YWs5byP6K6i5q2j5Li76aG1JywgcGFyYW1zOiB7cGF0aDogdGhpcy4kcm91dGUucGF0aCwgcGFnZTogdGhpcy5wYWdlLCBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZX19KQ0KICAgIH0sDQogICAgZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsNCiAgICAgIGlmIChjb2x1bW4pIHsNCiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bInByb3BlcnR5Il07DQogICAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2tUb01lbnUoKSB7DQogICAgICBjbG9zZVZpc2l0VGFnKCkNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5Lqn5ZOB5qC45L+d5a6a5LmJJywgcGFyYW1zOiB7fX0pDQogICAgfSwNCiAgICBpbml0UHJvZHVjdEluZm8oKSB7DQogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsNCiAgICAgIGlmICghIXBkdGVtcFBkSW5mbykgew0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucHJvZHVjdCwgcGR0ZW1wUGRJbmZvKQ0KICAgICAgICB0aGlzLnBkUHJvY2Vzc0lkID0gcGR0ZW1wUGRJbmZvLnBkUHJvY2Vzc0lkDQogICAgICAgIHRoaXMucGFnZV9wYXJhbXMuZXFfcGREZXRhaWxUeXBlID0gcGR0ZW1wUGRJbmZvLmNUeXBlDQogICAgICB9DQogICAgfSwNCiAgICBpbml0VGFibGVEYXRhX2Ftb3VudCgpIHsNCiAgICAgIGZpbmRBbGxQZHRlbXBQZFV3U2lCeVBvZHVjdElkKHRoaXMucHJvZHVjdC5pZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuZGF0YV9hbW91bnQgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMuc2hvd0FsbF9hbW91bnQgPSBmYWxzZQ0KICAgICAgICBpZiAodGhpcy5kYXRhX2Ftb3VudC5sZW5ndGggPiAxMCkgew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Ftb3VudCA9IHRoaXMuZGF0YV9hbW91bnQuc2xpY2UoMCwgMTApDQogICAgICAgICAgdGhpcy5uZWVkU2hvd01vcmVfYW1vdW50ID0gdHJ1ZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Ftb3VudCA9IHRoaXMuZGF0YV9hbW91bnQNCiAgICAgICAgICB0aGlzLm5lZWRTaG93TW9yZV9hbW91bnQgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICAgIC8vIOWmguaenOS/nemineiuoeeul+aWueW8j+acieKAnOiHquWumuS5ieKAneeahOmhue+8jOWImeaYvuekuuiuoeeul+WFrOW8j+eahOihqOagvA0KICAgICAgICB0aGlzLnZpc2libGVfZm9ybXVsYVRhYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5kYXRhX2Zvcm11bGEgPSBbXQ0KICAgICAgICBmb3IgKGNvbnN0IGFtb3VudCBvZiB0aGlzLmRhdGFfYW1vdW50KSB7DQogICAgICAgICAgaWYgKGFtb3VudC5wZFV3U2lDYWxUeXBlID09PSAnMDEnKSB7DQogICAgICAgICAgICB0aGlzLnZpc2libGVfZm9ybXVsYVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5kYXRhX2Zvcm11bGEucHVzaChhbW91bnQpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuc2hvd0FsbF9mb3JtdWxhID0gZmFsc2UNCiAgICAgICAgaWYgKHRoaXMuZGF0YV9mb3JtdWxhLmxlbmd0aCA+IDEwKSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGFfZm9ybXVsYSA9IHRoaXMuZGF0YV9mb3JtdWxhLnNsaWNlKDAsIDEwKQ0KICAgICAgICAgIHRoaXMubmVlZFNob3dNb3JlX2Zvcm11bGEgPSB0cnVlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGFfZm9ybXVsYSA9IHRoaXMuZGF0YV9mb3JtdWxhDQogICAgICAgICAgdGhpcy5uZWVkU2hvd01vcmVfZm9ybXVsYSA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBzaG93TW9yZV9hbW91bnQoKSB7DQogICAgICB0aGlzLnNob3dBbGxfYW1vdW50ID0gdHJ1ZQ0KICAgICAgdGhpcy50YWJsZURhdGFfYW1vdW50ID0gdGhpcy5kYXRhX2Ftb3VudA0KICAgIH0sDQogICAgc2hvd0JhY2tfYW1vdW50KCkgew0KICAgICAgdGhpcy5zaG93QWxsX2Ftb3VudCA9IGZhbHNlDQogICAgICB0aGlzLnRhYmxlRGF0YV9hbW91bnQgPSB0aGlzLmRhdGFfYW1vdW50LnNsaWNlKDAsIDEwKQ0KICAgIH0sDQogICAgc2hvd01vcmVfZm9ybXVsYSgpIHsNCiAgICAgIHRoaXMuc2hvd0FsbF9mb3JtdWxhID0gdHJ1ZQ0KICAgICAgdGhpcy50YWJsZURhdGFfZm9ybXVsYSA9IHRoaXMuZGF0YV9mb3JtdWxhDQogICAgfSwNCiAgICBzaG93QmFja19mb3JtdWxhKCkgew0KICAgICAgdGhpcy5zaG93QWxsX2Zvcm11bGEgPSBmYWxzZQ0KICAgICAgdGhpcy50YWJsZURhdGFfZm9ybXVsYSA9IHRoaXMuZGF0YV9mb3JtdWxhLnNsaWNlKDAsIDEwKQ0KICAgIH0sDQogICAgc2VsZWN0ZWRBbW91bnRDaGFuZ2VkKCkgew0KICAgICAgdGhpcy5yZXNldEZvcm1BbW91bnQoKQ0KICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fYW1vdW50LCB0aGlzLnNlbGVjdGVkQW1vdW50KQ0KICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybV9hbW91bnQsICdwZFV3U2lUeXBlJywgdGhpcy5mb3JtX2Ftb3VudC5wZFV3U2lUeXBlLnNwbGl0KCdfJykpDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfYWRkLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X3VwZGF0ZS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZEFtb3VudC5pZCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBbW91bnQgPSB7fQ0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtQW1vdW50KCkNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X2FkZC5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfdXBkYXRlLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZUFtb3VudChyb3cpIHsNCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBpZDogcm93LmlkLA0KICAgICAgICBwZEluZm9JZDogdGhpcy5wcm9kdWN0LmlkDQogICAgICB9DQogICAgICBkZWxldGVQZHRlbXBQZFV3U2kodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkNCiAgICAgICAgdGhpcy5pbml0VGFibGVEYXRhX2Ftb3VudCgpDQogICAgICAgIHRoaXMuc2VsZWN0ZWRBbW91bnQgPSB7fQ0KICAgICAgICB0aGlzLnJlc2V0Rm9ybUFtb3VudCgpDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X2FkZC5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X3VwZGF0ZS5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBzYXZlQW1vdW50KCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBbW91bnQuaWQpIHsNCiAgICAgICAgLy8g5pu05paw5LiA5p2h6K6w5b2VDQogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfdXBkYXRlLnZhbGlkYXRlKGZsYWcgPT4gew0KICAgICAgICAgIGlmIChmbGFnKSB7DQogICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybUFtb3VudEVudGl0eSgpDQogICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9hbW91bnRfZW50aXR5LCB0aGlzLmZvcm1fYW1vdW50KQ0KICAgICAgICAgICAgdGhpcy5mb3JtX2Ftb3VudF9lbnRpdHkucGRVd1NpVHlwZSA9IHRoaXMuZm9ybV9hbW91bnRfZW50aXR5LnBkVXdTaVR5cGUuam9pbignXycpOw0KICAgICAgICAgICAgdXBkYXRlUGR0ZW1wUGRVd1NpKHRoaXMuZm9ybV9hbW91bnRfZW50aXR5KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnVwZGF0ZScpKQ0KICAgICAgICAgICAgICBmaW5kQWxsUGR0ZW1wUGRVd1NpQnlQb2R1Y3RJZCh0aGlzLnByb2R1Y3QuaWQpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZGF0YV9hbW91bnQgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5zaG93QWxsX2Ftb3VudCA9IGZhbHNlDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YV9hbW91bnQubGVuZ3RoID4gMTApIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Ftb3VudCA9IHRoaXMuZGF0YV9hbW91bnQuc2xpY2UoMCwgMTApDQogICAgICAgICAgICAgICAgICB0aGlzLm5lZWRTaG93TW9yZV9hbW91bnQgPSB0cnVlDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Ftb3VudCA9IHRoaXMuZGF0YV9hbW91bnQNCiAgICAgICAgICAgICAgICAgIHRoaXMubmVlZFNob3dNb3JlX2Ftb3VudCA9IGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOWmguaenOS/nemineiuoeeul+aWueW8j+acieKAnOiHquWumuS5ieKAneeahOmhue+8jOWImeaYvuekuuiuoeeul+WFrOW8j+eahOihqOagvA0KICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZV9mb3JtdWxhVGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuZGF0YV9mb3JtdWxhID0gW10NCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFtb3VudCBvZiB0aGlzLmRhdGFfYW1vdW50KSB7DQogICAgICAgICAgICAgICAgICBpZiAoYW1vdW50LnBkVXdTaUNhbFR5cGUgPT09ICcwMScpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlX2Zvcm11bGFUYWJsZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhX2Zvcm11bGEucHVzaChhbW91bnQpDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsbF9mb3JtdWxhID0gZmFsc2UNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhX2Zvcm11bGEubGVuZ3RoID4gMTApIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Zvcm11bGEgPSB0aGlzLmRhdGFfZm9ybXVsYS5zbGljZSgwLCAxMCkNCiAgICAgICAgICAgICAgICAgIHRoaXMubmVlZFNob3dNb3JlX2Zvcm11bGEgPSB0cnVlDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhX2Zvcm11bGEgPSB0aGlzLmRhdGFfZm9ybXVsYQ0KICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkU2hvd01vcmVfZm9ybXVsYSA9IGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YV9hbW91bnQpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudGFibGVEYXRhX2Ftb3VudCkgew0KICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnNlbGVjdGVkQW1vdW50LmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQW1vdW50ID0ge307DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQW1vdW50ID0gaXRlbTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBbW91bnRDaGFuZ2VkKCk7DQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgnZm9ybS5mb3JtX3ZhbGlkYXRpb25fZmFpbGVkJykpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5om56YeP5paw5aKeDQogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfYWRkLnZhbGlkYXRlKGZsYWcgPT4gew0KICAgICAgICAgIGlmIChmbGFnKSB7DQogICAgICAgICAgICBsZXQgYWRkTGlzdCA9IFtdDQogICAgICAgICAgICBmb3IgKGNvbnN0IHBkVXdTaVR5cGUgb2YgdGhpcy5mb3JtX2Ftb3VudC5wZFV3U2lUeXBlKSB7DQogICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtQW1vdW50RW50aXR5KCkNCiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fYW1vdW50X2VudGl0eSwgdGhpcy5mb3JtX2Ftb3VudCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2Ftb3VudF9lbnRpdHkucGRVd1NpVHlwZSA9IHBkVXdTaVR5cGUuam9pbignXycpDQogICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnRhYmxlRGF0YV9hbW91bnQpIHsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wZFV3U2lUeXBlID09PSB0aGlzLmZvcm1fYW1vdW50X2VudGl0eS5wZFV3U2lUeXBlKSB7DQogICAgICAgICAgICAgICAgICBsZXQgc3RyciA9IHRoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgndW5kZXJ3cml0aW5nQW1vdW50VHlwZScsIGl0ZW0ucGRVd1NpVHlwZS5zcGxpdCgnXycpKTsNCiAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuaguOS/neS/nemineexu+WeizpbIiArIHN0cnIgKyAiXeW3suWtmOWcqCIpDQogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCk7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgYWRkTGlzdC5wdXNoKHRoaXMuZm9ybV9hbW91bnRfZW50aXR5KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgICAgICAgYWRkTGlzdDogYWRkTGlzdA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYWRkQWxsUGR0ZW1wUGRVd1NpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuYWRkJykpDQogICAgICAgICAgICAgIHRoaXMuaW5pdFRhYmxlRGF0YV9hbW91bnQoKQ0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQW1vdW50ID0ge30NCiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm1BbW91bnQoKQ0KICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2Ftb3VudF9hZGQuY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2Ftb3VudF91cGRhdGUuY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ2Zvcm0uZm9ybV92YWxpZGF0aW9uX2ZhaWxlZCcpKQ0KICAgICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlZnJlc2goKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZEFtb3VudC5pZCkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkQW1vdW50Q2hhbmdlZCgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlc2V0Rm9ybUFtb3VudCgpDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X2FkZC5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYW1vdW50X3VwZGF0ZS5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvRm9ybXVsYURlZihyb3cpIHsNCiAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSBbXQ0KICAgICAgZm9yIChjb25zdCBmb3JtdWxhIG9mIHRoaXMudGFibGVEYXRhX2Zvcm11bGEpIHsNCiAgICAgICAgaWYgKCF0aGlzLl8uaW5jbHVkZXModGhpcy5fLm1hcCh0aGlzLnBkVXdTaVR5cGVPcHRpb25zLCAndmFsdWUnKSwgZm9ybXVsYS5wZFV3U2lUeXBlKSkgew0KICAgICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICB2YWx1ZTogZm9ybXVsYS5wZFV3U2lUeXBlLA0KICAgICAgICAgICAgbGFiZWw6IHRoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgndW5kZXJ3cml0aW5nQW1vdW50VHlwZScsIGZvcm11bGEucGRVd1NpVHlwZS5zcGxpdCgnXycpKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMucGRVd1NpVHlwZUZvckZvcm11bGEgPSByb3cucGRVd1NpVHlwZQ0KICAgICAgdGhpcy5kZWZpbmluZ0Ftb3VudCA9IHJvdw0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSB0cnVlDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGEoZmxhZykgew0KICAgICAgaWYgKGZsYWcgPT09IGZhbHNlKSB7DQogICAgICAgIHRoaXMuaW5pdFRhYmxlRGF0YV9hbW91bnQoKQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QoZmxhZywgcGRVd1NpVHlwZSkgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlRm9yU2VsZWN0ID0gcGRVd1NpVHlwZQ0KICAgICAgICBmb3IgKGNvbnN0IGFtb3VudCBvZiB0aGlzLnRhYmxlRGF0YV9mb3JtdWxhKSB7DQogICAgICAgICAgaWYgKGFtb3VudC5wZFV3U2lUeXBlID09PSBwZFV3U2lUeXBlKSB7DQogICAgICAgICAgICB0aGlzLmRlZmluaW5nQW1vdW50ID0gYW1vdW50DQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSB0cnVlDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUudW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWcNCiAgICB9LA0KICAgIHJlc2V0Rm9ybUFtb3VudCgpIHsNCiAgICAgIHRoaXMuZm9ybV9hbW91bnQgPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkSW5mb0lkOiB1bmRlZmluZWQsDQogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICBwZFR5cGU6ICcnLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZFV3U2lUeXBlOiBbXSwNCiAgICAgICAgcGRVd1NpQ2FsVHlwZTogJycsDQogICAgICAgIHBkVXdTaUZpbmFsQW1vdW50OiB1bmRlZmluZWQsDQogICAgICAgIHBkVXdTaVJhdGlvOiB1bmRlZmluZWQsDQogICAgICAgIHBkVXdTaUNhbGNCc1ZhbDogJycsDQogICAgICAgIHBkQ2FsY0NvZGU6ICcnLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtQW1vdW50RW50aXR5KCkgew0KICAgICAgdGhpcy5mb3JtX2Ftb3VudF9lbnRpdHkgPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkSW5mb0lkOiB1bmRlZmluZWQsDQogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICBwZFR5cGU6ICcnLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZFV3U2lUeXBlOiAnJywNCiAgICAgICAgcGRVd1NpQ2FsVHlwZTogJycsDQogICAgICAgIHBkVXdTaUZpbmFsQW1vdW50OiB1bmRlZmluZWQsDQogICAgICAgIHBkVXdTaVJhdGlvOiB1bmRlZmluZWQsDQogICAgICAgIHBkVXdTaUNhbGNCc1ZhbDogJycsDQogICAgICAgIHBkQ2FsY0NvZGU6ICcnLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lv6vmjbflrprkuYkNCiAgICBpc1Nob3dRdWljaygpIHsNCiAgICAgIGlmICghdGhpcy5xdWlja3Nob3cpIHsNCiAgICAgICAgdGhpcy5xdWlja2ljb24gPSAnZWwtaWNvbi1hcnJvdy1kb3duJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5xdWlja2ljb24gPSAnZWwtaWNvbi1hcnJvdy1yaWdodCcNCiAgICAgIH0NCiAgICAgIHJldHVybiB0aGlzLnF1aWNrc2hvdyA9ICF0aGlzLnF1aWNrc2hvdw0KICAgIH0sDQogICAgY29weVBkdGVtcFBkVW5kZXJ3cml0aW5nQW1vdW50KHJvdykgew0KICAgICAgdGhpcy5yZXNldEZvcm1BbW91bnRFbnRpdHkoKTsNCiAgICAgIGxldCBhZGRMaXN0ID0gW10NCiAgICAgIHRoaXMuZm9ybV9hbW91bnRfZW50aXR5LnBkVXdTaVR5cGUgPSByb3cucGRVd1NpVHlwZQ0KICAgICAgdGhpcy5mb3JtX2Ftb3VudF9lbnRpdHkucGRVd1NpQ2FsVHlwZSA9IHJvdy5wZFV3U2lDYWxUeXBlDQogICAgICB0aGlzLmZvcm1fYW1vdW50X2VudGl0eS5wZFV3U2lGaW5hbEFtb3VudCA9IHJvdy5wZFV3U2lGaW5hbEFtb3VudA0KICAgICAgdGhpcy5mb3JtX2Ftb3VudF9lbnRpdHkucGRVd1NpUmF0aW8gPSByb3cucGRVd1NpUmF0aW8NCiAgICAgIHRoaXMuZm9ybV9hbW91bnRfZW50aXR5LnBkVXdTaUNhbGNCc1ZhbCA9IHJvdy5wZFV3U2lDYWxjQnNWYWwNCiAgICAgIHRoaXMuZm9ybV9hbW91bnRfZW50aXR5LnBkQ2FsY0NvZGUgPSByb3cucGRDYWxjQ29kZQ0KICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudGFibGVEYXRhX2Ftb3VudCkgew0KICAgICAgICBpZiAoaXRlbS5wZFV3U2lUeXBlID09PSB0aGlzLmZvcm1fYW1vdW50X2VudGl0eS5wZFV3U2lUeXBlKSB7DQogICAgICAgICAgbGV0IHN0cnIgPSB0aGlzLmdldENhc2NhZGVyQ29kZU5hbWUoJ3VuZGVyd3JpdGluZ0Ftb3VudFR5cGUnLCBpdGVtLnBkVXdTaVR5cGUuc3BsaXQoJ18nKSk7DQogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi5qC45L+d5L+d6aKd57G75Z6LOlsiICsgc3RyciArICJd5bey5a2Y5ZyoIikNCiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGFkZExpc3QucHVzaCh0aGlzLmZvcm1fYW1vdW50X2VudGl0eSkNCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFkZExpc3Q6IGFkZExpc3QNCiAgICAgIH0NCiAgICAgIGFkZEFsbFBkdGVtcFBkVXdTaSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmFkZCcpKQ0KICAgICAgICB0aGlzLmluaXRUYWJsZURhdGFfYW1vdW50KCkNCiAgICAgICAgdGhpcy5zZWxlY3RlZEFtb3VudCA9IHt9DQogICAgICAgIHRoaXMucmVzZXRGb3JtQW1vdW50KCkNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfYWRkLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hbW91bnRfdXBkYXRlLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICB9KQ0KICAgICAgfSkNCg0KDQogICAgfSwNCiAgICBzZWxlY3RlZERldGFpbFR5cGVDaGFuZ2VkKHZhbCkgew0KICAgICAgZGVidWdnZXINCiAgICAgIHRoaXMucGFnZV9wYXJhbXMuZXFfcGREZXRhaWxUeXBlID0gdmFsOw0KICAgICAgZmluZFBkdGVtcFBkVXdTaUNvbmZCeVBhcmFtKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnBhZ2VfcGFyYW1zKSkudGhlbigocmVwKSA9PiB7DQogICAgICAgICAgIGxldCBkYXRhTGlzdCA9IHJlcC5kYXRhLnJlY29yZHM7DQogICAgICAgICAgIHRoaXMucHJvZHVjdExpc3QgPSBbXTsNCiAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhTGlzdC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgbGV0IHN0YXRlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgbGV0IHBkID0gIGRhdGFMaXN0W2ldOw0KICAgICAgICAgICAgICBmb3IodmFyIGE9MDsgYSA8IHRoaXMucHJvZHVjdExpc3QubGVuZ3RoO2ErKyl7DQogICAgICAgICAgICAgICAgICBpZih0aGlzLnByb2R1Y3RMaXN0W2FdLnBkQ29kZSA9PT0gcGQucGRDb2RlICYmIHRoaXMucHJvZHVjdExpc3RbYV0ucGRJbmZvSWQgPT09IHBkLnBkSW5mb0lkKXsNCiAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmKHN0YXRlKXsNCiAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdExpc3QucHVzaChwZCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLnByb2R1Y3RMaXN0Iix0aGlzLnByb2R1Y3RMaXN0KTsNCg0KICAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2hQZFVuZGVyd3JpdGluZygpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZV9xdWljay5yZWxvYWQoKTsNCiAgICB9LA0KICAgIHJvd0NsaWNrX3F1aWNrKHJvdykgew0KDQogICAgfQ0KDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-underwriting-def/underwriting-amount","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': showPageFlag === '1' }\"></div>\r\n\r\n    <cus-page-title-back v-if=\"productCalcRevisionShowINfo\" :label=\"$t('pdtempPdUnderwritingAmount.pdUwFormulaRev')\"\r\n                         @backTo=\"goBack\"/>\r\n\r\n    <div v-if=\"!productCalcRevisionShowINfo\">\r\n      <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"isShowQuick\">{{ $t('pdtempPdUnderwritingAmount.quick_inv') }}<i\r\n        :class=\"quickicon\"></i>\r\n      </el-button>\r\n    </div>\r\n\r\n    <div v-if=\"quickshow\">\r\n      <cus-form-title :first=\"true\"\r\n                      :label=\"$t('pdtempPdUnderwritingAmount.pdtempPdUnderwritingAmountQuickdef')\"></cus-form-title>\r\n      <el-form ref=\"pdtempUwConfig\" :model=\"form_config\" label-width=\"auto\">\r\n        <el-row :gutter=\"10\">\r\n          <cus-col :span=\"6\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.riskDetail')\" prop=\"riskDetail\">\r\n              <cus-select v-model=\"page_params.eq_pdDetailType\" :codetype=\"'ProductCategory'\"\r\n                          @change=\"selectedDetailTypeChanged\"></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"6\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.referenceProduct')\" prop=\"referenceProduct\">\r\n              <el-select v-model=\"page_params.eq_pdInfoId\"\r\n                         :placeholder=\"$t('pay_def.message.typeRegion_finelinesRegion_first')\" clearable filterable>\r\n                <el-option v-for=\"product in productList\" :label=\"product.pdCode + ':' + product.pdName\"\r\n                           :value=\"product.pdInfoId\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"6\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\" prop=\"pdUwSiType\">\r\n              <cus-cascader v-model=\"page_params.pdUwSiType\" :codetype=\"'underwritingAmountType'\"\r\n                            :is_multiple=\"true\"></cus-cascader>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"6\">\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-search\" size=\"small\" style=\"margin-left: 5px\"\r\n                       type=\"primary\"\r\n                       @click=\"handleSearchPdUnderwriting\">\r\n              {{ $t('table.search') }}\r\n            </el-button>\r\n          </cus-col>\r\n        </el-row>\r\n        <cus-table-title :label=\"$t('pdtempPdUnderwritingAmount.table_list')\"></cus-table-title>\r\n        <el-table :data=\"quickTableData\" border\r\n                  element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\" @row-click=\"rowClick_quick\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\">\r\n            <template v-slot=\"scope\">\r\n              {{ initTableIndex('page_quick', scope.$index) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n          <el-table-column\r\n            :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\"\r\n            align=\"center\"\r\n            prop=\"pdUwSiType\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdUwSiType | filter_pdUwSiType }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalcBsVal')\"\r\n                           align=\"center\" prop=\"pdUwSiCalcBsVal\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdUwSiCalcBsVal|filter_pdUwSiCalcBsVal }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalType')\"\r\n                           align=\"center\" prop=\"pdUwSiCalType\">\r\n            <template v-slot=\"scope\"> {{ scope.row.pdUwSiCalType|filter_pdUwSiCalType }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiRatio')\" align=\"center\"\r\n                           prop=\"pdUwSiRatio\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiFinalAmount')\" align=\"center\"\r\n                           prop=\"pdUwSiFinalAmount\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdCalcCode')\" align=\"center\"\r\n                           prop=\"pdCalcCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.operation')\" align=\"center\" width=\"150px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button dialog-disable=\"disable\" size=\"small\" type=\"primary\"\r\n                         @click=\"copyPdtempPdUnderwritingAmount(scope.row)\"><i\r\n                class=\"el-icon-document-copy\"></i>{{ $t('pdtempPdUnderwritingAmount.copyPremium') }}\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination ref=\"page_quick\" v-model=\"quickTableData\" :pageSize=\"5\"\r\n                        :params=\"page_params\" url=\"/pdtemp-pd-uw-si-conf/base/findPdtempPdUwSiConfByParam\"/>\r\n      </el-form>\r\n    </div>\r\n    <!--<cus-form-title v-if=\"!productCalcRevisionShowINfo\"\r\n                    :first=\"true\"\r\n                    :label=\"$t('pdtempPdUnderwritingAmount.underwritingProductAmountDef')\"></cus-form-title> -->\r\n    <div v-if=\"!productCalcRevisionShowINfo\">\r\n      <cus-table-title :label=\"$t('pdtempPdUnderwritingAmount.underwritingProductAmount')\"></cus-table-title>\r\n      <el-table :data=\"tableData_amount\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\" style=\"margin: 20px 0 0 0\" @row-click=\"rowClick\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedAmount\" @change=\"selectedAmountChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\" :filters=\"quickfilterHandlerList0\"\r\n                         :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\"\r\n                         align=\"center\"\r\n                         prop=\"pdUwSiType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdUwSiType | filter_pdUwSiType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\"\r\n                         :filters=\"quickfilterHandlerList1\" :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalcBsVal')\"\r\n                         align=\"center\" prop=\"pdUwSiCalcBsVal\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdUwSiCalcBsVal | filter_pdUwSiCalcBsVal }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\"\r\n                         :filters=\"quickfilterHandlerList2\" :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalType')\"\r\n                         align=\"center\" prop=\"pdUwSiCalType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdUwSiCalType | filter_pdUwSiCalType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiRatio')\" align=\"center\"\r\n                         prop=\"pdUwSiRatio\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiFinalAmount')\" align=\"center\"\r\n                         prop=\"pdUwSiFinalAmount\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdCalcCode')\" align=\"center\"\r\n                         prop=\"pdCalcCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-popover v-auth=\"'pdtemp-pd-uw-si-conf:delete'\" :content=\"$t('confirmMessage.delete')\"\r\n                         icon=\"el-icon-delete\" size=\"mini\" type=\"danger\"\r\n                         @confirm=\"deleteAmount(scope.row)\"></cus-popover>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-button dialog-disable=\"disable\" v-if=\"needShowMore_amount && !showAll_amount\" size=\"small\" type=\"text\" @click=\"showMore_amount\">\r\n        {{ $t('pdtempPdInv.inv_more') }}\r\n        <i class=\"el-icon-arrow-down\"></i>\r\n      </el-button>\r\n      <el-button dialog-disable=\"disable\" v-if=\"needShowMore_amount && showAll_amount\" size=\"small\" type=\"text\" @click=\"showBack_amount\">\r\n        {{ $t('pdtempPdInv.inv_retract') }}\r\n        <i class=\"el-icon-arrow-up\"></i>\r\n      </el-button>\r\n\r\n      <!-- 新增 -->\r\n      <el-form v-show=\"Object.keys(selectedAmount).length === 0\" ref=\"form_amount_add\" :model=\"form_amount\"\r\n               :rules=\"rule\" label-position=\"right\" label-width=\"130px\" style=\"margin: 20px 0 0 0\">\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\" prop=\"pdUwSiType\">\r\n              <cus-cascader v-model=\"form_amount.pdUwSiType\" :codetype=\"'underwritingAmountType'\"\r\n                            :is_multiple=\"true\"></cus-cascader>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalcBsVal')\" prop=\"pdUwSiCalcBsVal\">\r\n              <cus-radio v-model=\"form_amount.pdUwSiCalcBsVal\" :codetype=\"'underwritingAmountCalcBase'\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalType')\" prop=\"pdUwSiCalType\">\r\n              <cus-radio v-model=\"form_amount.pdUwSiCalType\" :codetype=\"'underwritingAmountCalcMode'\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col v-if=\"form_amount.pdUwSiCalType === '03'\" :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiFinalAmount')\"\r\n                          prop=\"pdUwSiFinalAmount\">\r\n              <el-input-number v-model=\"form_amount.pdUwSiFinalAmount\" :min=\"0\"\r\n                               :placeholder=\"$t('form.please_enter') + $t('form.number')\"\r\n                               :step=\"10000\"></el-input-number>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col v-if=\"form_amount.pdUwSiCalType === '02'\" :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiRatio')\" prop=\"pdUwSiRatio\">\r\n              <el-input-number v-model=\"form_amount.pdUwSiRatio\" :max=\"1\" :min=\"0\"\r\n                               :placeholder=\"$t('form.please_enter') + $t('form.number')\"\r\n                               :step=\"0.1\"></el-input-number>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <!-- 修改 -->\r\n      <el-form v-show=\"Object.keys(selectedAmount).length > 0\" ref=\"form_amount_update\" :model=\"form_amount\"\r\n               :rules=\"rule\" label-position=\"right\" label-width=\"130px\" style=\"margin: 20px 0 0 0\">\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\" prop=\"pdUwSiType\">\r\n              <cus-cascader v-model=\"form_amount.pdUwSiType\" :codetype=\"'underwritingAmountType'\"\r\n                            :disabled=\"true\"></cus-cascader>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalcBsVal')\" prop=\"pdUwSiCalcBsVal\">\r\n              <cus-radio v-model=\"form_amount.pdUwSiCalcBsVal\" :codetype=\"'underwritingAmountCalcBase'\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiCalType')\" prop=\"pdUwSiCalType\">\r\n              <cus-radio v-model=\"form_amount.pdUwSiCalType\" :codetype=\"'underwritingAmountCalcMode'\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col v-if=\"form_amount.pdUwSiCalType === '03'\" :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiFinalAmount')\" prop=\"pdUwSiFinalAmount\">\r\n              <el-input-number v-model=\"form_amount.pdUwSiFinalAmount\" :min=\"0\"\r\n                               :placeholder=\"$t('form.please_enter') + $t('form.number')\"\r\n                               :step=\"10000\"></el-input-number>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col v-if=\"form_amount.pdUwSiCalType === '02'\" :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiRatio')\" prop=\"pdUwSiRatio\">\r\n              <el-input-number v-model=\"form_amount.pdUwSiRatio\" :max=\"1\" :min=\"0\"\r\n                               :placeholder=\"$t('form.please_enter') + $t('form.number')\"\r\n                               :step=\"0.1\"></el-input-number>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <el-row>\r\n        <div style=\"text-align: right\">\r\n          <el-button dialog-disable=\"disable\" v-show=\"selectedAmount.id\" v-auth=\"'pdtemp-pd-uw-si-conf:update'\" icon=\"el-icon-success\"\r\n                     size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"saveAmount\">\r\n            {{ $t('table.update') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\" v-show=\"!selectedAmount.id\" v-auth=\"'pdtemp-pd-uw-si-conf:addAll'\" icon=\"el-icon-success\"\r\n                     size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"saveAmount\">\r\n            {{ $t('table.save') }}\r\n          </el-button>\r\n          <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refresh\">\r\n            {{ $t('table.refresh') }}\r\n          </el-button>\r\n        </div>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 自定义计算公式（动态显示） -->\r\n    <div v-if=\"visible_formulaTable || productCalcRevisionShowINfo\">\r\n      <cus-form-title v-if=\"!this.productCalcRevisionShowINfo\" :first=\"true\"\r\n                      :label=\"$t('pdtempPdUnderwritingAmount.underwritingProductAmountFormulaDef')\"></cus-form-title>\r\n\r\n      <cus-table-title :first=\"true\"\r\n                       :label=\"$t('pdtempPdUnderwritingAmount.underwritingProductAmountFormula')\"></cus-table-title>\r\n\r\n      <el-table :data=\"tableData_formula\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\"\r\n                style=\"margin: 20px 0 0 0;width: 50%\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdUwSiType')\" align=\"center\"\r\n                         prop=\"pdUwSiType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdUwSiType | filter_pdUwSiType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdUnderwritingAmount.pdCalcCode')\" align=\"center\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdCalcCode }}\r\n            <svg-icon icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer;float: right\"\r\n                      @click=\"toFormulaDef(scope.row)\"/>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-button dialog-disable=\"disable\" v-if=\"needShowMore_formula && !showAll_formula\" size=\"small\" type=\"text\" @click=\"showMore_formula\">\r\n        {{ $t('pdtempPdInv.inv_more') }}\r\n        <i class=\"el-icon-arrow-down\"></i>\r\n      </el-button>\r\n      <el-button dialog-disable=\"disable\" v-if=\"needShowMore_formula && showAll_formula\" size=\"small\" type=\"text\" @click=\"showBack_formula\">\r\n        {{ $t('pdtempPdInv.inv_retract') }}\r\n        <i class=\"el-icon-arrow-up\"></i>\r\n      </el-button>\r\n    </div>\r\n\r\n    <!-- 弹窗（公式定义） -->\r\n    <el-dialog v-if=\"dialogVisible.underwritingAmountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :close-on-press-escape=\"false\" :show-close=\"false\"\r\n               :visible.sync=\"dialogVisible.underwritingAmountFormula\"\r\n               center width=\"80%\" @close=\"changeDialogVisible_formula(false)\">\r\n      <underwritingAmountFormula :definingAmount=\"definingAmount\" :pdUwSiTypeForFormula=\"pdUwSiTypeForFormula\"\r\n                                 :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                 @changeDialogVisible_formula=\"changeDialogVisible_formula\"\r\n                                 @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></underwritingAmountFormula>\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogVisible.underwritingAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :close-on-press-escape=\"false\" :show-close=\"false\"\r\n                 :visible.sync=\"dialogVisible.underwritingAmountFormulaSelect\" append-to-body\r\n                 center width=\"70%\"\r\n                 @close=\"changeDialogVisible_formulaSelect(false)\">\r\n        <underwritingAmountFormulaSelect :definingAmount=\"definingAmount\" :pdUwSiTypeForSelect=\"pdUwSiTypeForSelect\"\r\n                                         :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                         @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></underwritingAmountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n  addAllPdtempPdUwSi,\r\n  deletePdtempPdUwSi,\r\n  findAllPdtempPdUwSiByPoductId,\r\n  updatePdtempPdUwSi,\r\n  findPdtempPdUwSiConfByParam\r\n} from \"@/api/basicinfo/pdtemppdunderwritingamount\"\r\nimport underwritingAmountFormula\r\n  from \"@/views/product-definition/pd-operation-def/pd-underwriting-def/underwritingAmountFormula\"\r\nimport underwritingAmountFormulaSelect\r\n  from \"@/views/product-definition/pd-operation-def/pd-underwriting-def/underwritingAmountFormulaSelect\"\r\nimport operationbutton from '@/views/basicinfo/operationend/index'\r\nimport {closeVisitTag} from \"@/utils/tagsView\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'underwritingAmount',\r\n  props: {},\r\n  components: {underwritingAmountFormula, underwritingAmountFormulaSelect, operationbutton},\r\n  filters: {\r\n    filter_pdUwSiType(code) {\r\n      return _this.getCascaderCodeName('underwritingAmountType', code.split('_'))\r\n    },\r\n    filter_pdUwSiCalcBsVal(code) {\r\n      return _this.getCodeName('underwritingAmountCalcBase', code)\r\n    },\r\n    filter_pdUwSiCalType(code) {\r\n      return _this.getCodeName('underwritingAmountCalcMode', code)\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      page: undefined,\r\n      pageSize: undefined,\r\n      showPageFlag: '0',\r\n      productCalcRevisionShowINfo: false,\r\n      quickfilterHandlerList0: [],\r\n      quickfilterHandlerList1: [],\r\n      quickfilterHandlerList2: [],\r\n      type: 'productUnderwritingFlag',\r\n      quickTableData: [],\r\n      pdProcessId: '',\r\n      dialogVisible: {\r\n        underwritingAmountFormula: false,\r\n        underwritingAmountFormulaSelect: false\r\n      },\r\n      page_params: {\r\n        eq_pdDetailType: '',\r\n        eq_pdInfoId: '',\r\n        pdUwSiType: []\r\n      },\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      productList: [],\r\n      params: {},\r\n      selectedAmount: {},\r\n      definingAmount: {},\r\n      needShowMore_amount: false,\r\n      needShowMore_formula: false,\r\n      showAll_amount: false,\r\n      showAll_formula: false,\r\n      data_amount: [],\r\n      data_formula: [],\r\n      tableData_amount: [],\r\n      tableData_formula: [],\r\n      pdUwSiTypeForFormula: '',\r\n      pdUwSiTypeOptions: [],\r\n      pdUwSiTypeForSelect: '',\r\n      visible_formulaTable: false,\r\n      quickshow: false,\r\n      quickicon: 'el-icon-arrow-right',\r\n      form_amount: {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdUwSiType: [],\r\n        pdUwSiCalType: '',\r\n        pdUwSiFinalAmount: undefined,\r\n        pdUwSiRatio: undefined,\r\n        pdUwSiCalcBsVal: '',\r\n        pdCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_amount_entity: {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdUwSiType: '',\r\n        pdUwSiCalType: '',\r\n        pdUwSiFinalAmount: undefined,\r\n        pdUwSiRatio: undefined,\r\n        pdUwSiCalcBsVal: '',\r\n        pdCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_config: {\r\n        riskDetail: '',\r\n        eq_pdDetailType: '',\r\n        pdUwSiType: '',\r\n        eq_pdInfoId: ''\r\n\r\n      },\r\n      rule: {\r\n        pdUwSiType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pdtempPdUnderwritingAmount.pdUwSiType'),\r\n          trigger: 'change'\r\n        }],\r\n        pdUwSiCalcBsVal: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pdtempPdUnderwritingAmount.pdUwSiCalcBsVal'),\r\n          trigger: 'change'\r\n        }],\r\n        pdUwSiCalType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pdtempPdUnderwritingAmount.pdUwSiCalType'),\r\n          trigger: 'change'\r\n        }],\r\n        pdUwSiFinalAmount: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('pdtempPdUnderwritingAmount.pdUwSiFinalAmount'),\r\n          trigger: 'change'\r\n        }],\r\n        pdUwSiRatio: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('pdtempPdUnderwritingAmount.pdUwSiRatio'),\r\n          trigger: 'change'\r\n        }],\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'tableData_amount'() {\r\n      if (this.tableData_amount.length > 0) {\r\n        this.quickfilterHandlerList0 = [];\r\n        this.quickfilterHandlerList1 = [];\r\n        this.quickfilterHandlerList2 = [];\r\n        this.tableData_amount.forEach(val => {\r\n          this.quickfilterHandlerList0.push({\r\n            text: this.getCascaderCodeName('underwritingAmountType', val.pdUwSiType.split('_')),\r\n            value: val.pdUwSiType\r\n          });\r\n          this.quickfilterHandlerList1.push({\r\n            text: this.getCodeName('underwritingAmountCalcBase', val.pdUwSiCalcBsVal),\r\n            value: val.pdUwSiCalcBsVal\r\n          });\r\n          this.quickfilterHandlerList2.push({\r\n            text: this.getCodeName('underwritingAmountCalcMode', val.pdUwSiCalType),\r\n            value: val.pdUwSiCalType\r\n          });\r\n        });\r\n        this.quickfilterHandlerList0 = this.quickfilterHandlerList0.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        this.quickfilterHandlerList1 = this.quickfilterHandlerList1.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        this.quickfilterHandlerList2 = this.quickfilterHandlerList2.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n      }\r\n    },\r\n    'form_amount.pdUwSiCalType'(val) {\r\n      switch (val) {\r\n        case '01':\r\n          this.form_amount.pdUwSiFinalAmount = undefined\r\n          this.form_amount.pdUwSiRatio = undefined\r\n          break\r\n        case '02':\r\n          this.form_amount.pdCalcCode = undefined\r\n          this.form_amount.pdUwSiFinalAmount = undefined\r\n          break\r\n        case '03':\r\n          this.form_amount.pdCalcCode = undefined\r\n          this.form_amount.pdUwSiRatio = undefined\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    this.initProductInfo()\r\n    this.initTableData_amount();\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo !== undefined;\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.push({name: '产品公式订正主页', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row[property] === value;\r\n      }\r\n    },\r\n    backToMenu() {\r\n      closeVisitTag()\r\n      this.$router.push({name: '产品核保定义', params: {}})\r\n    },\r\n    initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData();\r\n      if (!!pdtempPdInfo) {\r\n        Object.assign(this.product, pdtempPdInfo)\r\n        this.pdProcessId = pdtempPdInfo.pdProcessId\r\n        this.page_params.eq_pdDetailType = pdtempPdInfo.cType\r\n      }\r\n    },\r\n    initTableData_amount() {\r\n      findAllPdtempPdUwSiByPoductId(this.product.id).then(response => {\r\n        this.data_amount = response.data\r\n        this.showAll_amount = false\r\n        if (this.data_amount.length > 10) {\r\n          this.tableData_amount = this.data_amount.slice(0, 10)\r\n          this.needShowMore_amount = true\r\n        } else {\r\n          this.tableData_amount = this.data_amount\r\n          this.needShowMore_amount = false\r\n        }\r\n        // 如果保额计算方式有“自定义”的项，则显示计算公式的表格\r\n        this.visible_formulaTable = false\r\n        this.data_formula = []\r\n        for (const amount of this.data_amount) {\r\n          if (amount.pdUwSiCalType === '01') {\r\n            this.visible_formulaTable = true\r\n            this.data_formula.push(amount)\r\n          }\r\n        }\r\n        this.showAll_formula = false\r\n        if (this.data_formula.length > 10) {\r\n          this.tableData_formula = this.data_formula.slice(0, 10)\r\n          this.needShowMore_formula = true\r\n        } else {\r\n          this.tableData_formula = this.data_formula\r\n          this.needShowMore_formula = false\r\n        }\r\n      })\r\n    },\r\n    showMore_amount() {\r\n      this.showAll_amount = true\r\n      this.tableData_amount = this.data_amount\r\n    },\r\n    showBack_amount() {\r\n      this.showAll_amount = false\r\n      this.tableData_amount = this.data_amount.slice(0, 10)\r\n    },\r\n    showMore_formula() {\r\n      this.showAll_formula = true\r\n      this.tableData_formula = this.data_formula\r\n    },\r\n    showBack_formula() {\r\n      this.showAll_formula = false\r\n      this.tableData_formula = this.data_formula.slice(0, 10)\r\n    },\r\n    selectedAmountChanged() {\r\n      this.resetFormAmount()\r\n      Object.assign(this.form_amount, this.selectedAmount)\r\n      this.$set(this.form_amount, 'pdUwSiType', this.form_amount.pdUwSiType.split('_'))\r\n      this.$nextTick(() => {\r\n        this.$refs.form_amount_add.clearValidate()\r\n        this.$refs.form_amount_update.clearValidate()\r\n      })\r\n    },\r\n    rowClick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAmount.id) {\r\n          this.selectedAmount = {}\r\n          this.resetFormAmount()\r\n          this.$nextTick(() => {\r\n            this.$refs.form_amount_add.clearValidate()\r\n            this.$refs.form_amount_update.clearValidate()\r\n          })\r\n        }\r\n      }\r\n    },\r\n    deleteAmount(row) {\r\n      const param = {\r\n        id: row.id,\r\n        pdInfoId: this.product.id\r\n      }\r\n      deletePdtempPdUwSi(this.buildRequestData(param)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.initTableData_amount()\r\n        this.selectedAmount = {}\r\n        this.resetFormAmount()\r\n        this.$nextTick(() => {\r\n          this.$refs.form_amount_add.clearValidate()\r\n          this.$refs.form_amount_update.clearValidate()\r\n        })\r\n      })\r\n    },\r\n    saveAmount() {\r\n      if (this.selectedAmount.id) {\r\n        // 更新一条记录\r\n        this.$refs.form_amount_update.validate(flag => {\r\n          if (flag) {\r\n            this.resetFormAmountEntity()\r\n            Object.assign(this.form_amount_entity, this.form_amount)\r\n            this.form_amount_entity.pdUwSiType = this.form_amount_entity.pdUwSiType.join('_');\r\n            updatePdtempPdUwSi(this.form_amount_entity).then(() => {\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n              findAllPdtempPdUwSiByPoductId(this.product.id).then(response => {\r\n                this.data_amount = response.data\r\n                this.showAll_amount = false\r\n                if (this.data_amount.length > 10) {\r\n                  this.tableData_amount = this.data_amount.slice(0, 10)\r\n                  this.needShowMore_amount = true\r\n                } else {\r\n                  this.tableData_amount = this.data_amount\r\n                  this.needShowMore_amount = false\r\n                }\r\n                // 如果保额计算方式有“自定义”的项，则显示计算公式的表格\r\n                this.visible_formulaTable = false\r\n                this.data_formula = []\r\n                for (const amount of this.data_amount) {\r\n                  if (amount.pdUwSiCalType === '01') {\r\n                    this.visible_formulaTable = true\r\n                    this.data_formula.push(amount)\r\n                  }\r\n                }\r\n                this.showAll_formula = false\r\n                if (this.data_formula.length > 10) {\r\n                  this.tableData_formula = this.data_formula.slice(0, 10)\r\n                  this.needShowMore_formula = true\r\n                } else {\r\n                  this.tableData_formula = this.data_formula\r\n                  this.needShowMore_formula = false\r\n                }\r\n                this.$nextTick(() => {\r\n                  if (this.tableData_amount) {\r\n                    for (const item of this.tableData_amount) {\r\n                      if (item.id === this.selectedAmount.id) {\r\n                        this.selectedAmount = {};\r\n                        this.selectedAmount = item;\r\n                        this.selectedAmountChanged();\r\n                      }\r\n                    }\r\n                  } else {\r\n\r\n                  }\r\n                });\r\n              })\r\n\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('form.form_validation_failed'))\r\n          }\r\n        })\r\n      } else {\r\n        // 批量新增\r\n        this.$refs.form_amount_add.validate(flag => {\r\n          if (flag) {\r\n            let addList = []\r\n            for (const pdUwSiType of this.form_amount.pdUwSiType) {\r\n              this.resetFormAmountEntity()\r\n              Object.assign(this.form_amount_entity, this.form_amount)\r\n              this.form_amount_entity.pdUwSiType = pdUwSiType.join('_')\r\n              for (const item of this.tableData_amount) {\r\n                if (item.pdUwSiType === this.form_amount_entity.pdUwSiType) {\r\n                  let strr = this.getCascaderCodeName('underwritingAmountType', item.pdUwSiType.split('_'));\r\n                  this.notifyError(\"核保保额类型:[\" + strr + \"]已存在\")\r\n                  return new Error();\r\n\r\n                }\r\n              }\r\n              addList.push(this.form_amount_entity)\r\n            }\r\n            const param = {\r\n              product: this.product,\r\n              addList: addList\r\n            }\r\n            addAllPdtempPdUwSi(this.buildRequestData(param)).then(() => {\r\n              this.notifySuccess(this.$t('successMessage.add'))\r\n              this.initTableData_amount()\r\n              this.selectedAmount = {}\r\n              this.resetFormAmount()\r\n              this.$nextTick(() => {\r\n                this.$refs.form_amount_add.clearValidate()\r\n                this.$refs.form_amount_update.clearValidate()\r\n              })\r\n            })\r\n          } else {\r\n            this.notifyError(this.$t('form.form_validation_failed'))\r\n            this.focusItem()\r\n          }\r\n        })\r\n      }\r\n    },\r\n    refresh() {\r\n      if (this.selectedAmount.id) {\r\n        this.selectedAmountChanged()\r\n      } else {\r\n        this.resetFormAmount()\r\n        this.$nextTick(() => {\r\n          this.$refs.form_amount_add.clearValidate()\r\n          this.$refs.form_amount_update.clearValidate()\r\n        })\r\n      }\r\n    },\r\n    toFormulaDef(row) {\r\n      this.pdUwSiTypeOptions = []\r\n      for (const formula of this.tableData_formula) {\r\n        if (!this._.includes(this._.map(this.pdUwSiTypeOptions, 'value'), formula.pdUwSiType)) {\r\n          this.pdUwSiTypeOptions.push({\r\n            value: formula.pdUwSiType,\r\n            label: this.getCascaderCodeName('underwritingAmountType', formula.pdUwSiType.split('_'))\r\n          })\r\n        }\r\n      }\r\n      this.pdUwSiTypeForFormula = row.pdUwSiType\r\n      this.definingAmount = row\r\n      this.dialogVisible.underwritingAmountFormula = true\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      if (flag === false) {\r\n        this.initTableData_amount()\r\n      }\r\n      this.dialogVisible.underwritingAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect(flag, pdUwSiType) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeForSelect = pdUwSiType\r\n        for (const amount of this.tableData_formula) {\r\n          if (amount.pdUwSiType === pdUwSiType) {\r\n            this.definingAmount = amount\r\n            break\r\n          }\r\n        }\r\n      } else {\r\n        this.dialogVisible.underwritingAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogVisible.underwritingAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogVisible.underwritingAmountFormulaSelect = flag\r\n    },\r\n    resetFormAmount() {\r\n      this.form_amount = {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdUwSiType: [],\r\n        pdUwSiCalType: '',\r\n        pdUwSiFinalAmount: undefined,\r\n        pdUwSiRatio: undefined,\r\n        pdUwSiCalcBsVal: '',\r\n        pdCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n    },\r\n    resetFormAmountEntity() {\r\n      this.form_amount_entity = {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdUwSiType: '',\r\n        pdUwSiCalType: '',\r\n        pdUwSiFinalAmount: undefined,\r\n        pdUwSiRatio: undefined,\r\n        pdUwSiCalcBsVal: '',\r\n        pdCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n    },\r\n    //快捷定义\r\n    isShowQuick() {\r\n      if (!this.quickshow) {\r\n        this.quickicon = 'el-icon-arrow-down'\r\n      } else {\r\n        this.quickicon = 'el-icon-arrow-right'\r\n      }\r\n      return this.quickshow = !this.quickshow\r\n    },\r\n    copyPdtempPdUnderwritingAmount(row) {\r\n      this.resetFormAmountEntity();\r\n      let addList = []\r\n      this.form_amount_entity.pdUwSiType = row.pdUwSiType\r\n      this.form_amount_entity.pdUwSiCalType = row.pdUwSiCalType\r\n      this.form_amount_entity.pdUwSiFinalAmount = row.pdUwSiFinalAmount\r\n      this.form_amount_entity.pdUwSiRatio = row.pdUwSiRatio\r\n      this.form_amount_entity.pdUwSiCalcBsVal = row.pdUwSiCalcBsVal\r\n      this.form_amount_entity.pdCalcCode = row.pdCalcCode\r\n      for (const item of this.tableData_amount) {\r\n        if (item.pdUwSiType === this.form_amount_entity.pdUwSiType) {\r\n          let strr = this.getCascaderCodeName('underwritingAmountType', item.pdUwSiType.split('_'));\r\n          this.notifyError(\"核保保额类型:[\" + strr + \"]已存在\")\r\n          return new Error();\r\n        }\r\n      }\r\n      addList.push(this.form_amount_entity)\r\n      const param = {\r\n        product: this.product,\r\n        addList: addList\r\n      }\r\n      addAllPdtempPdUwSi(this.buildRequestData(param)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.add'))\r\n        this.initTableData_amount()\r\n        this.selectedAmount = {}\r\n        this.resetFormAmount()\r\n        this.$nextTick(() => {\r\n          this.$refs.form_amount_add.clearValidate()\r\n          this.$refs.form_amount_update.clearValidate()\r\n        })\r\n      })\r\n\r\n\r\n    },\r\n    selectedDetailTypeChanged(val) {\r\n      debugger\r\n      this.page_params.eq_pdDetailType = val;\r\n      findPdtempPdUwSiConfByParam(this.buildRequestData(this.page_params)).then((rep) => {\r\n           let dataList = rep.data.records;\r\n           this.productList = [];\r\n           for(var i=0; i < dataList.length;i++){\r\n              let state = true;\r\n              let pd =  dataList[i];\r\n              for(var a=0; a < this.productList.length;a++){\r\n                  if(this.productList[a].pdCode === pd.pdCode && this.productList[a].pdInfoId === pd.pdInfoId){\r\n                      state = false;\r\n                      break;\r\n                  }\r\n              }\r\n              if(state){\r\n                  this.productList.push(pd);\r\n              }\r\n           }\r\n          console.log(\"this.productList\",this.productList);\r\n\r\n       })\r\n    },\r\n    handleSearchPdUnderwriting() {\r\n      this.$refs.page_quick.reload();\r\n    },\r\n    rowClick_quick(row) {\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
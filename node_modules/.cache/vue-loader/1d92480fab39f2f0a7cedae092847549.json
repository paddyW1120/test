{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-formula-rev\\discount-formula-rev\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-formula-rev\\discount-formula-rev\\index.vue","mtime":1609847106808},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RlbGV0ZVBkdGVtcFBkQ21wbkluZm8sIHBkZ2VubENtcG5JbmZvTGlzdH0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY21wbmluZm8nDQppbXBvcnQgew0KICBpbml0UHBJbmZvUGRMaXN0c0MsDQogIHNhdmVQcFByZW1pdW1EaXNjb3VudERlbW8sDQogIHVwZGF0ZVBwUHJlbWl1bURpc2NvdW50RGVtbw0KfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vcGRwcFByZW1pdW1kaXNjb3VudCcNCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAidnVleCI7DQppbXBvcnQge3F1ZXJ5cGRQcEluZm99IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZHBwRGVmaW5pdGlvbiI7DQppbXBvcnQge2Nsb3NlVmlzaXRUYWd9IGZyb20gIkAvdXRpbHMvdGFnc1ZpZXciDQppbXBvcnQgcHBEaXNjb3VudEZvcm11bGEgZnJvbSAiQC92aWV3cy9wYWNrYWdlLXJldmlzaW9uL3BhY2thZ2UtZm9ybXVsYS1yZXYvZGlzY291bnQtZm9ybXVsYS1yZXYvcHBkaXNjb3VudC1mb3JtdWxhIjsNCmltcG9ydCBwZERpc2NvdW50Rm9ybXVsYVNlbGVjdCBmcm9tICJAL3ZpZXdzL3BhY2thZ2UtcmV2aXNpb24vcGFja2FnZS1mb3JtdWxhLXJldi9kaXNjb3VudC1mb3JtdWxhLXJldi9wcGRpc2NvdXQtZm9ybXVsYS1zZWxlY3QiOw0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3BkcHBQcmVtaXVtZGlzY291bnQnLA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWyJ1c2VyY29kZSIsICJ0ZW5hbnRDb2RlIl0pDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBwcERpc2NvdW50Rm9ybXVsYSwNCiAgICBwZERpc2NvdW50Rm9ybXVsYVNlbGVjdCwNCiAgfSwNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9jb2RlVHlwZShjb2RlLCB2YWx1ZSkgew0KICAgICAgaWYgKHZhbHVlID09PSAncGRDbXBuVHlwZScpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVmZXJlbnRpYWxUeXBlJywgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdwZFBvbEN1cnInKSB7DQogICAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncHJvZHVjdEN1cnJlbmN5JywgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdjbXBuVHlwZScpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVmZXJlbnRpYWxUeXBlJywgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdwZENtcG5DYWxjTW9kZScpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVmZXJlbnRpYWxDbGN1bGF0aW9uVHlwZScsIGNvZGUpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnY21wbkNhbGNNb2RlJykgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3ByZWZlcmVudGlhbENsY3VsYXRpb25UeXBlJywgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdjbXBuUGF5Q3VycicpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcm9kdWN0Q3VycmVuY3knLCBjb2RlKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ3BwQ21wVHlwZScpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcENtcFR5cGUnLCBjb2RlKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpczsNCiAgICByZXR1cm4gew0KICAgICAgcGREaXNjb3VudFJhbmdlT3B0aW9uczogJycsDQogICAgICBndWFyYW50ZWVEZXRhaWxzOiAnJywNCiAgICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU6ICcnLA0KICAgICAgcGREaXNDb3VudDogJycsDQogICAgICBwZFBwSW5mb3M6IHsNCiAgICAgICAgaWQ6ICcnLC8v5aWX6aSQaWQNCiAgICAgICAgcHBDb2RlOiAnJywvL+Wll+mkkGNvZGUNCiAgICAgICAgcHBOYW1lOiAnJywvL+Wll+mkkE5hbWUNCiAgICAgICAgcHBWZXJJZDogJycsLy/lpZfppJBWZXJJZA0KICAgICAgICBwcENtcFR5cGU6ICcnLC8v5LyY5oOg5a+56LGh57G75Z6LDQogICAgICAgIHBkQ29kZTogJycsLy/kvJjmg6Dlr7nosaFjb2RlDQogICAgICAgIHBkTmFtZTogJycsLy/kvJjmg6Dlr7nosaFOYW1lDQogICAgICAgIHBkRWRpdGlvbjogJycsLy/kvJjmg6Dlr7nosaHniYjmnKwNCiAgICAgICAgcGRDbXBuSWQ6ICcnLC8v5LyY5oOg5L+h5oGv55qESWQNCiAgICAgICAgcGRJbmZvSWQ6ICcnLy/ljZXkuIDkuqflk4HnmoTkuqflk4FpZA0KICAgICAgfSwNCiAgICAgIGRpYWxvZ1Nob3c6IHsNCiAgICAgICAgcHJlbUFtb3VudEZvcm11bGE6IGZhbHNlLA0KICAgICAgICBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UsDQogICAgICAgIHBkRGlzY291bnRGb3JtdWxhOiBmYWxzZSwNCiAgICAgICAgcGREaXNjb3VudEZvcm11bGFTZWxlY3Q6IGZhbHNlDQogICAgICB9LA0KICAgICAgLy/kuqflk4HlpZfppJDkv6Hmga8NCiAgICAgIHBkUHBJbmZvOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcHBDb2RlOiAnJywNCiAgICAgICAgcHBOYW1lOiAnJywNCiAgICAgICAgcHBUeXBlOiAnJywvL+exu+Weiw0KICAgICAgICBwcFBsYW5OYW1lOiAnJywNCiAgICAgICAgcHBQbGFuQ29kZTogJycsDQogICAgICAgIHBwUGVyc29uTnVtOiAnJywNCiAgICAgIH0sDQogICAgICBwcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm86IGZhbHNlLA0KICAgICAgLy/ljZXkuIDkuqflk4Hnsbvlnovml7bkvJjmg6Dlr7nosaHpm4blkIjmmL7npLrmoIfor4YNCiAgICAgIHBkUHBJbmZvUGRMaXN0U2hvdzogZmFsc2UsDQogICAgICAvL+WNleS4gOS6p+WTgeexu+Wei+aXtuS8mOaDoOWvueixoembhuWQiA0KICAgICAgcGRQcEluZm9QZExpc3Q6IFtdLA0KDQoNCiAgICAgIC8v5aWX6aSQ5LyY5oOg5L+h5oGv5YiX6KGoDQogICAgICBwZFBwSW5mb0NtcG5MaXN0OiBbXSwNCiAgICAgIC8v5YiX6KGo6KGM5pWw5o2uDQogICAgICBwZFBwUHJlbWl1bURpc2NvdW50SW5mbzogew0KICAgICAgICBwcENtcFR5cGU6ICcnLA0KICAgICAgICBwcENtcEl0ZW1JZDogJycsDQogICAgICAgIHBwQ21wSXRlbUNvZGU6ICcnLA0KICAgICAgICBwZENtcG5UeXBlOiAnJywNCiAgICAgICAgY21wbkluZm9JZDogJycsDQogICAgICAgIHBkQ21wbkNvZGU6ICcnLA0KICAgICAgICBwZENtcG5PcmRlcjogJycsDQogICAgICAgIHBkQ21wbkNhbGNNb2RlOiAnJywNCiAgICAgICAgcGRDbXBuVmFsOiAnJywNCiAgICAgICAgcGRDbXBuRGVzYzogJycsDQogICAgICB9LA0KICAgICAgLy/liJfooajmlbDmja4NCiAgICAgIHBkUHBQcmVtaXVtRGlzY291bnRJbmZvTGlzdDogW10sDQoNCiAgICAgIGl0ZW1TZWFyY2hGb3JtOiB7DQogICAgICAgIHBwQ21wVHlwZTogJycsLy/lpZfppJDkvJjmg6Dlr7nosaHnsbvlnosNCiAgICAgICAgcHBDbXBJdGVtQ29kZTogJycsLy/lpZfppJDkvJjmg6Dlr7nosaHnvJbnoIENCiAgICAgIH0sDQogICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgIHBkQ21wblR5cGU6ICcnLC8v5LyY5oOg57G75Z6LDQogICAgICAgIHBkQ21wbkNvZGU6ICcnLC8v5LyY5oOg57yW56CBDQogICAgICAgIHBkQ21wbkNhbGNNb2RlOiAnJywvL+S8mOaDoOiuoeeul+aWueW8jw0KICAgICAgICBwZENtcG5WYWw6ICcnLC8v5LyY5oOg6YeR6aKdDQogICAgICAgIHBkQ21wbkNhbGNDb2RlOiAnJywvL+S8mOaDoOWFrOW8j+iuoeeul2lkDQogICAgICAgIHByZWZlcmVudGlhbEFtb3VudFNob3c6IGZhbHNlLC8v5LyY5oOg6YeR6aKd5pi+56S65LiO6ZqQ6JePDQogICAgICAgIHBkQ21wbkRlc2M6ICcnLC8v5LyY5oOg5o+P6L+wDQogICAgICAgIHBkQ21wbk9yZGVyOiAnJywvL+S8mOaDoOmhuuW6jw0KICAgICAgICBkZXRhaWxzU2hvdzogZmFsc2UsLy/mjqfliLbor6bmg4XooajmoLzmmL7npLrkuI7pmpDol48NCiAgICAgICAgZGV0YWlsc0ljb246ICdlbC1pY29uLWFycm93LWRvd24nLC8v5o6n5Yi25pi+56S65Zu+5qCHDQogICAgICAgIGlkOiAnJywvL+S6p+WTgeihqGlkDQogICAgICAgIGNtcG5JbmZvSWQ6ICcnLC8v6YCa55So6YWN572u6KGoaWQNCiAgICAgICAgcHJlZmVyZW50aWFsVHlwZVNob3c6IGZhbHNlLC8v5LyY5oOg57G75Z6L5ZKM5LyY5oOg57yW56CB5pi+56S65LiO6ZqQ6JePDQoNCiAgICAgICAgZ3JpZERhdGE6IFtdLC8v6K+m5oOF6KGo5qC85pWw5o2uDQogICAgICB9LA0KICAgICAgc2hvd1BhZ2VGbGFnOiAnJywNCiAgICAgIHBhcmFtczogew0KICAgICAgICBlcV9wZEluZm9JZDogJycsDQogICAgICAgIGVxX3BkQ29kZTogJycsDQogICAgICAgIGVxX3BkQ21wbkNhbGNNb2RlOicnDQogICAgICB9LA0KICAgICAgY29uZmlnczogW10sDQogICAgICBvcHRpb25zMTogW10sDQogICAgICBzZWxlY3RlZERlZjoge30sLy/ooajmoLznmoTljZXpgInmjInpkq4NCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBkQ21wbk9yZGVyOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdwZHBwUHJlbWl1bWRpc2NvdW50Lm1lc3NhZ2UzJyksIHRyaWdnZXI6ICdibHVyJ30sDQogICAgICAgIF0sDQogICAgICAgIHBkQ21wblZhbDogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRwcFByZW1pdW1kaXNjb3VudC5tZXNzYWdlNCcpLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICBdLA0KICAgICAgICBwZENtcG5DYWxjQ29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRwcFByZW1pdW1kaXNjb3VudC5tZXNzYWdlNycpLCB0cmlnZ2VyOiAnYmx1cid9LF0sDQogICAgICAgIHBwQ21wVHlwZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRwcFByZW1pdW1kaXNjb3VudC5tZXNzYWdlNScpLCB0cmlnZ2VyOiAnYmx1cid9XSwNCiAgICAgICAgcHBDbXBJdGVtQ29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGRwcFByZW1pdW1kaXNjb3VudC5tZXNzYWdlNicpLCB0cmlnZ2VyOiAnYmx1cid9XSwNCiAgICAgICAgcGRDbXBuVHlwZTogW3ttZXNzYWdlOiB0aGlzLiR0KCdwZHBwUHJlbWl1bWRpc2NvdW50Lm1lc3NhZ2U1JyksIHRyaWdnZXI6ICdibHVyJ31dDQogICAgICB9LA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnNob3dQYWdlRmxhZyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNob3dQYWdlRmxhZw0KICAgIHRoaXMuaW5pdFByb2R1Y3RJbmZvKCk7DQogICAgdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm87DQogICAgaWYgKHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID09IHRydWUpIHsNCiAgICAgIHRoaXMucGFyYW1zLmVxX3BkQ21wbkNhbGNNb2RlPScyJw0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbyA9IGZhbHNlOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KLy8g5Yid5aeL5YyW5Lqn5ZOB5L+h5oGvIC0tIOS7jnNlc3Npb24NCiAgICBpbml0UHJvZHVjdEluZm8oKSB7DQogICAgICBsZXQgX3BkcHBJbmZvID0gIHRoaXMuZ2V0UGREYXRhKCk7DQogICAgICBpZiAoX3BkcHBJbmZvKSB7DQogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wZFBwSW5mbywgX3BkcHBJbmZvKTsNCiAgICAgICAgdGhpcy5wYXJhbXMuZXFfcGRDb2RlID0gdGhpcy5wZFBwSW5mby5wcENvZGU7DQogICAgICAgIHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkID0gdGhpcy5wZFBwSW5mby5pZDsNCiAgICAgICAgdGhpcy5pdGVtU2VhcmNoRm9ybS5wcENtcFR5cGUgPSAnMSc7DQogICAgICB9DQogICAgICB0aGlzLmluaXRQcEluZm9wZExpc3QoX3BkcHBJbmZvKTsNCiAgICAgIHF1ZXJ5cGRQcEluZm8odGhpcy5idWlsZFJlcXVlc3REYXRhKHsicHBJbmZvSWQiOiB0aGlzLnBkUHBJbmZvLmlkfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5wZFBwSW5mbyA9IHJlcy5kYXRhOw0KICAgICAgICB0aGlzLmNhY2hlQ3VyclBhZ2VQZERhdGEodGhpcy5wZFBwSW5mbykNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIGluaXRQcEluZm9wZExpc3QoX3BkcHBJbmZvKSB7DQogICAgICB0aGlzLnBkUHBJbmZvID0gX3BkcHBJbmZvOw0KICAgICAgbGV0IG1hcCA9IHsicGRwcEluZm9SIjogX3BkcHBJbmZvfQ0KICAgICAgaW5pdFBwSW5mb1BkTGlzdHNDKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShtYXApKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMucGRQcEluZm9QZExpc3QgPSByZXMuZGF0YS5wZGluZm9zUjsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBwQ21wVHlwZSA9ICcxJzsNCiAgICAgIH0pDQogICAgfSwNCiAgICBpbml0UHBQcmVtaXVtZGlzY291bnQoKSB7DQogICAgICBsZXQgbWFwID0gew0KICAgICAgICAiZXFfcHBDbXBJdGVtQ29kZSI6IHRoaXMucGRQcEluZm8ucHBDb2RlDQogICAgICB9DQogICAgICBzZWFyY2hQcFByZW1pdW1EaXNjb3VudExpc3RWbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEobWFwKSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLnBkUHBJbmZvQ21wbkxpc3QgPSByZXMuZGF0YS5vcmRlcnM7DQogICAgICB9KQ0KICAgICAgLy/liJ3lp4vljJblpZfppJDkvJjmg6DooajmoLwNCiAgICB9LA0KICAgIHByZWZlcmVudGlhbFR5cGVTZWxlY3QodmFsKSB7DQogICAgICB0aGlzLmNsZWFyUGRjbXBuSW5mbygpOw0KICAgICAgdGhpcy5vcHRpb25zMSA9IFtdOw0KICAgICAgbGV0IHBkZ2VubENtcG5JbmZvID0gew0KICAgICAgICBjbXBuVHlwZTogdmFsDQogICAgICB9DQogICAgICBwZGdlbmxDbXBuSW5mb0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRnZW5sQ21wbkluZm8iOiBwZGdlbmxDbXBuSW5mb30pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdGhpcy5vcHRpb25zMS5wdXNoKHsNCiAgICAgICAgICAgICAga2V5OiByZXNwb25zZS5kYXRhW2ldLmNtcG5Db2RlLA0KICAgICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2UuZGF0YVtpXS5jbXBuQ2hOYW1lLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHByZWZlcmVudGlhbENvZGVTZWxlY3QoKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNvZGUgPT0gJycpIHsNCiAgICAgICAgdGhpcy5jbGVhclBkY21wbkluZm8oKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5WYWwgPSAnJzsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNhbGNNb2RlID0gJyc7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZSA9ICcnOw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuRGVzYyA9ICcnOw0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmdyaWREYXRhID0gW107DQogICAgICAgICAgbGV0IHBkZ2VubENtcG5JbmZvID0gew0KICAgICAgICAgICAgY21wblR5cGU6IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5UeXBlLA0KICAgICAgICAgICAgY21wbkNvZGU6IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5Db2RlDQogICAgICAgICAgfTsNCiAgICAgICAgICBwZGdlbmxDbXBuSW5mb0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRnZW5sQ21wbkluZm8iOiBwZGdlbmxDbXBuSW5mb30pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCAmJiByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmNtcG5JbmZvSWQgPSByZXNwb25zZS5kYXRhWzBdLmlkOw0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY01vZGUgPSByZXNwb25zZS5kYXRhWzBdLmNtcG5DYWxjTW9kZTsvL+S8mOaDoOiuoeeul+aWueW8jw0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuVmFsID0gcmVzcG9uc2UuZGF0YVswXS5jbXBuVmFsOy8v5LyY5oOg6YeR6aKdDQogICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5EZXNjID0gcmVzcG9uc2UuZGF0YVswXS5jbXBuRGVzYzsvL+S8mOaDoOaPj+i/sA0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY0NvZGUgPSByZXNwb25zZS5kYXRhWzBdLmNtcG5DYWxjQ29kZTsvL+S8mOaDoOiuoeeul+WFrOW8jw0KICAgICAgICAgICAgICAvL+S8mOaDoOmhuuW6jw0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0uZ3JpZERhdGEucHVzaCh7DQogICAgICAgICAgICAgICAgY21wbkNvZGU6IHJlc3BvbnNlLmRhdGFbMF0uY21wbkNvZGUsDQogICAgICAgICAgICAgICAgY21wblR5cGU6IHJlc3BvbnNlLmRhdGFbMF0uY21wblR5cGUsDQogICAgICAgICAgICAgICAgY21wbkNoTmFtZTogcmVzcG9uc2UuZGF0YVswXS5jbXBuQ2hOYW1lLA0KICAgICAgICAgICAgICAgIGNtcG5Fbk5hbWU6IHJlc3BvbnNlLmRhdGFbMF0uY21wbkVuTmFtZSwNCiAgICAgICAgICAgICAgICBjbXBuUGF5Q3VycjogcmVzcG9uc2UuZGF0YVswXS5jbXBuUGF5Q3VyciwNCiAgICAgICAgICAgICAgICBjbXBuUG9sQ3VycjogcmVzcG9uc2UuZGF0YVswXS5jbXBuUG9sQ3VyciwNCiAgICAgICAgICAgICAgICBjbXBuU3RhcnREYXRlOiByZXNwb25zZS5kYXRhWzBdLmNtcG5TdGFydERhdGUsDQogICAgICAgICAgICAgICAgY21wbkVuZERhdGU6IHJlc3BvbnNlLmRhdGFbMF0uY21wbkVuZERhdGUsDQogICAgICAgICAgICAgICAgY21wbkNhbGNNb2RlOiByZXNwb25zZS5kYXRhWzBdLmNtcG5DYWxjTW9kZSwNCiAgICAgICAgICAgICAgICBjbXBuVmFsOiByZXNwb25zZS5kYXRhWzBdLmNtcG5WYWwsDQogICAgICAgICAgICAgICAgY2FsY0lkOiByZXNwb25zZS5kYXRhWzBdLmlkLA0KICAgICAgICAgICAgICAgIGNhbGNDb21zRmxhZzogcmVzcG9uc2UuZGF0YVswXS5jYWxjQ29tc0ZsYWcsDQogICAgICAgICAgICAgICAgY2FsY0NvbXNCYXNpYzogcmVzcG9uc2UuZGF0YVswXS5jYWxjQ29tc0Jhc2ljLA0KICAgICAgICAgICAgICAgIGNtcG5TZE5vdGljZTogcmVzcG9uc2UuZGF0YVswXS5jbXBuU2ROb3RpY2UsDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgbmV3bHlBZGRlZENsaWNrKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAn5LyY5oOg6aG56YWN572uJw0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsZWFyUGRjbXBuSW5mbygpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5WYWwgPSAnJzsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5Db2RlID0gJyc7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY01vZGUgPSAnJzsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZSA9ICcnOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkRlc2MgPSAnJzsNCiAgICB9LA0KICAgIGhhbmRsZUNyZWF0ZSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5wcmVmZXJlbnRpYWxUeXBlU2hvdyA9PSBmYWxzZSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5jbXBuSW5mb0lkICE9ICIiICYmIHRoaXMuc2VhcmNoRm9ybS5jbXBuSW5mb0lkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZ3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdzW2ldLnBkQ21wbkNvZGUgPT0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNvZGUpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuW9k+WJjeS6p+WTgeW3sue7j+WumuS5iei/h+ivpeS8mOaDoO+8jOivt+mAieaLqeWFtuS7luS8mOaDoCIpOw0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdzW2ldLnBkQ21wbk9yZGVyID09IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlcikgew0KICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlXYXJuaW5nKCLkvJjmg6Dpobrluo/kuI3lj6/ph43lpI0s6K+36YeN5paw5b2V5YWlIik7DQogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGxldCBwZHRlbXBQZENtcG5JbmZvID0gew0KICAgICAgICAgICAgICAgIHBkQ21wblR5cGU6ICcnLA0KICAgICAgICAgICAgICAgIGNtcG5JbmZvSWQ6ICcnLA0KICAgICAgICAgICAgICAgIFBkVmVySWQ6ICcnLA0KICAgICAgICAgICAgICAgIFBkVHlwZTogJycsLy/ov5nkuKrlgLzvvJ/vvJ/vvJ8NCiAgICAgICAgICAgICAgICBQZEluZm9JZDogJycsDQogICAgICAgICAgICAgICAgUGRDb2RlOiAnJywNCiAgICAgICAgICAgICAgICAvLyBwZFBvbEN1cnI6JycsDQogICAgICAgICAgICAgICAgcGRDbXBuT3JkZXI6ICcnLA0KICAgICAgICAgICAgICAgIHBkQ21wbkNhbGNNb2RlOiAnJywNCiAgICAgICAgICAgICAgICBwZENtcG5DYWxjQ29kZTogJycsDQogICAgICAgICAgICAgICAgcGRDbXBuVmFsOiAnJywNCiAgICAgICAgICAgICAgICBwZENtcG5EZXNjOiAnJywNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5UeXBlID0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wblR5cGU7Ly/kvJjmg6DnsbvlnosNCiAgICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5Db2RlID0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNvZGU7Ly/kvJjmg6DnvJbnoIENCiAgICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5jbXBuSW5mb0lkID0gdGhpcy5zZWFyY2hGb3JtLmNtcG5JbmZvSWQ7Ly/kvJjmg6BpZA0KICAgICAgICAgICAgICBwZHRlbXBQZENtcG5JbmZvLnBkQ21wbkNhbGNNb2RlID0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNhbGNNb2RlOy8v5LyY5oOg6K6h566X5pa55byPDQogICAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY01vZGUgIT0gJzEnKSB7DQogICAgICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5DYWxjQ29kZSA9IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHBkdGVtcFBkQ21wbkluZm8ucGRDbXBuVmFsID0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wblZhbDsvL+S8mOaDoOmHkeminQ0KICAgICAgICAgICAgICBwZHRlbXBQZENtcG5JbmZvLnBkQ21wbkRlc2MgPSB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuRGVzYzsvL+S8mOaDoOaPj+i/sA0KICAgICAgICAgICAgICBwZHRlbXBQZENtcG5JbmZvLnBkQ21wbk9yZGVyID0gdGhpcy5zZWFyY2hGb3JtLnBkQ21wbk9yZGVyOy8v5LyY5oOg6aG65bqPDQogICAgICAgICAgICAgIGxldCBtYXAgPSB7fQ0KICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtU2VhcmNoRm9ybS5wcENtcFR5cGUgPT09ICIxIikgew0KICAgICAgICAgICAgICAgIG1hcCA9IHsNCiAgICAgICAgICAgICAgICAgICJQZHRlbXBQZENtcG5JbmZvcyI6IHBkdGVtcFBkQ21wbkluZm8sDQogICAgICAgICAgICAgICAgICAicGRQUEluZm9TIjogdGhpcy5wZFBwSW5mbywNCiAgICAgICAgICAgICAgICAgICJwcENtcFR5cGUiOiB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wVHlwZSwNCiAgICAgICAgICAgICAgICAgICJwcENtcEl0ZW1Db2RlIjogdGhpcy5wZFBwSW5mby5wcENvZGUsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBUeXBlID09PSAiMCIpIHsNCiAgICAgICAgICAgICAgICBtYXAgPSB7DQogICAgICAgICAgICAgICAgICAiUGR0ZW1wUGRDbXBuSW5mb3MiOiBwZHRlbXBQZENtcG5JbmZvLA0KICAgICAgICAgICAgICAgICAgInBkUFBJbmZvUyI6IHRoaXMucGRQcEluZm8sDQogICAgICAgICAgICAgICAgICAicHBDbXBUeXBlIjogdGhpcy5pdGVtU2VhcmNoRm9ybS5wcENtcFR5cGUsDQogICAgICAgICAgICAgICAgICAicHBDbXBJdGVtQ29kZSI6IHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBJdGVtQ29kZSwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlXYXJuaW5nKCLkuqflk4HlpZfppJDkvJjmg6Dlr7nosaHnsbvlnovmnKrnqboiKTsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIHNhdmVQcFByZW1pdW1EaXNjb3VudERlbW8odGhpcy5idWlsZFJlcXVlc3REYXRhKG1hcCkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucGRQcEluZm8uaWQ7DQogICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuZXFfcGRDb2RlID0gdGhpcy5wZFBwSW5mby5wcENvZGU7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpOw0KICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5V2FybmluZyh0aGlzLiR0KCdwZHBwUHJlbWl1bWRpc2NvdW50Lm1lc3NhZ2UxJykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlncy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdzW2ldLnBkQ21wbk9yZGVyID09IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlcikgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGVmLnBkQ21wbk9yZGVyICE9IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlcikgew0KICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlXYXJuaW5nKCLkvJjmg6Dpobrluo/kuI3lj6/ph43lpI0s6K+36YeN5paw5b2V5YWlIik7DQogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgcGR0ZW1wUGRDbXBuSW5mbyA9IHsNCiAgICAgICAgICAgICAgcGRDbXBuVHlwZTogJycsDQogICAgICAgICAgICAgIGNtcG5JbmZvSWQ6ICcnLA0KICAgICAgICAgICAgICBQZFZlcklkOiAnJywNCiAgICAgICAgICAgICAgUGRUeXBlOiAnJywvL+i/meS4quWAvO+8n++8n++8nw0KICAgICAgICAgICAgICBQZEluZm9JZDogJycsDQogICAgICAgICAgICAgIFBkQ29kZTogJycsDQogICAgICAgICAgICAgIC8vIHBkUG9sQ3VycjonJywNCiAgICAgICAgICAgICAgcGRDbXBuT3JkZXI6ICcnLA0KICAgICAgICAgICAgICBwZENtcG5DYWxjTW9kZTogJycsDQogICAgICAgICAgICAgIHBkQ21wbkNhbGNDb2RlOiAnJywNCiAgICAgICAgICAgICAgcGRDbXBuVmFsOiAnJywNCiAgICAgICAgICAgICAgcGRDbXBuRGVzYzogJycsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5DYWxjTW9kZSA9IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjTW9kZTsvL+S8mOaDoOiuoeeul+aWueW8jw0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjTW9kZSAhPSAnMScpIHsNCiAgICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5DYWxjQ29kZSA9IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5WYWwgPSB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuVmFsOy8v5LyY5oOg6YeR6aKdDQogICAgICAgICAgICBwZHRlbXBQZENtcG5JbmZvLnBkQ21wbkRlc2MgPSB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuRGVzYzsvL+S8mOaDoOaPj+i/sA0KICAgICAgICAgICAgcGR0ZW1wUGRDbXBuSW5mby5wZENtcG5PcmRlciA9IHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlcjsvL+S8mOaDoOmhuuW6jw0KICAgICAgICAgICAgbGV0IG1hcCA9IHsNCiAgICAgICAgICAgICAgIlBkdGVtcFBkQ21wbkluZm9zIjogcGR0ZW1wUGRDbXBuSW5mbywNCiAgICAgICAgICAgICAgInBkUFBJbmZvUyI6IHRoaXMucGRQcEluZm8sDQogICAgICAgICAgICAgICJwZENtcG5JZFMiOiB0aGlzLnNlbGVjdGVkRGVmLnBkQ21wbklkLA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdXBkYXRlUHBQcmVtaXVtRGlzY291bnREZW1vKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShtYXApKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgICAgIHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkID0gdGhpcy5wZFBwSW5mby5pZDsNCiAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuZXFfcGRDb2RlID0gdGhpcy5wZFBwSW5mby5wcENvZGU7DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKTsNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgcmVzZXRGb3JtKCkgew0KDQogICAgICAvL2lmICh0aGlzLnNlYXJjaEZvcm0ucHJlZmVyZW50aWFsVHlwZVNob3cgPT0gZmFsc2UpIHtjb25zb2xlLmxvZygxMjMpDQogICAgICAgIC8vIHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBJdGVtQ29kZSA9ICcnOw0KICAgICAgICAvL3RoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBUeXBlID0gJzEnOw0KICAgICAgICAvL3RoaXMuJHJlZnMuc2VhcmNoRm9ybS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAvL3RoaXMuc2VhcmNoRm9ybS5wcmVmZXJlbnRpYWxUeXBlU2hvdyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm1yZXN0KCk7DQogICAgIC8vfSBlbHNlIHsNCiAgICAgICAvL3RoaXMuY2hvb3NlT25lKHRoaXMuc2VsZWN0ZWREZWYpOw0KICAgICAgLy99DQogICAgfSwNCiAgICBzZWFyY2hGb3JtcmVzdCgpew0KICAgICAgdGhpcy5zZWxlY3RlZERlZj17fSwNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zZWFyY2hmcGRDbXBuVHlwZT0gJycsLy/kvJjmg6DnsbvlnosNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNvZGU9ICcnLC8v5LyY5oOg57yW56CBDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjTW9kZT0nJywvL+S8mOaDoOiuoeeul+aWueW8jw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuVmFsPSAnJywvL+S8mOaDoOmHkeminQ0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY0NvZGU9JycsLy/kvJjmg6DlhazlvI/orqHnrpdpZA0KICAgICAgICAvL3RoaXMucHJlZmVyZW50aWFsQW1vdW50U2hvdz0gZmFsc2UsLy/kvJjmg6Dph5Hpop3mmL7npLrkuI7pmpDol48NCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkRlc2M9ICcnLC8v5LyY5oOg5o+P6L+wDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlcj0gJycsLy/kvJjmg6Dpobrluo8NCiAgICAgICAvLyBkZXRhaWxzU2hvdyA6IGZhbHNlLC8v5o6n5Yi26K+m5oOF6KGo5qC85pi+56S65LiO6ZqQ6JePDQogICAgICAgLy8gZGV0YWlsc0ljb24gOiAnZWwtaWNvbi1hcnJvdy1kb3duJywvL+aOp+WItuaYvuekuuWbvuaghw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0uaWQ9ICcnLC8v5Lqn5ZOB6KGoaWQNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmNtcG5JbmZvSWQ9ICcnLA0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucHJlZmVyZW50aWFsVHlwZVNob3c9IGZhbHNlIC8v5LyY5oOg57G75Z6L5ZKM5LyY5oOg57yW56CB5pi+56S65LiO6ZqQ6JePDQogICAgICAgIC8vZ3JpZERhdGE6IFtdLC8v6K+m5oOF6KGo5qC85pWw5o2uDQogICAgfSwNCiAgICBzZWxlY3RlZENoYW5nZWQocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cucGRDbXBuSWQgPT0gdGhpcy5zZWxlY3RlZERlZi5wZENtcG5JZCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWYgPSB7fTsNCiAgICAgICAgICB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wVHlwZSA9ICcxJzsNCiAgICAgICAgICBpZih0aGlzLiRyZWZzLnNlYXJjaEZvcm0pew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZSA9ICcnDQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnByZWZlcmVudGlhbFR5cGVTaG93ID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNob29zZU9uZShyb3cpIHsNCiAgICAgIHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBUeXBlID0gcm93LnBwQ21wVHlwZTsNCiAgICAgIHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBJdGVtQ29kZSA9IHJvdy5wcENtcEl0ZW1Db2RlICsgIjoiICsgcm93LnBwQ21wSXRlbU5hbWU7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuVHlwZSA9IHJvdy5jbXBuVHlwZTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5Db2RlID0gcm93LmNtcG5DaE5hbWVDb2RlOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLmNtcG5JbmZvSWQgPSByb3cuY21wbkluZm9JZDsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wcmVmZXJlbnRpYWxUeXBlU2hvdyA9IHRydWU7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY01vZGUgPSByb3cucGRDbXBuQ2FsY01vZGU7Ly/kvJjmg6DorqHnrpfmlrnlvI8NCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZSA9IHJvdy5wZENtcG5DYWxjQ29kZTsvL+S8mOaDoOiuoeeul+WFrOW8jw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wblZhbCA9IHJvdy5wZENtcG5WYWw7Ly/kvJjmg6Dph5Hpop0NCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5EZXNjID0gcm93LnBkQ21wbkRlc2M7Ly/kvJjmg6Dmj4/ov7ANCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5PcmRlciA9IHJvdy5wZENtcG5PcmRlcjsvL+S8mOaDoOmhuuW6jw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLmlkID0gcm93LnBkQ21wbklkOy8vaWQNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZSgpIHsNCiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0uaWQgIT0gIiIgJiYgdGhpcy5zZWFyY2hGb3JtLmlkICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGlkID0gdGhpcy5zZWFyY2hGb3JtLmlkOw0KICAgICAgICBsZXQgYmFjayA9ICcnOw0KICAgICAgICBiYWNrID0gZGVsZXRlUGR0ZW1wUGRDbXBuSW5mbyhpZCk7DQogICAgICAgIGJhY2sudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7DQogICAgICAgICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucGRQcEluZm8uaWQ7DQogICAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCk7DQogICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeVdhcm5pbmcodGhpcy4kdCgncGR0ZW1wUGRDbXBuSW5mby5tZXNzYWdlMicpKTsNCiAgICAgIH0NCg0KICAgIH0sDQogICAgcGRDbXBuQ2FsY01vZGVDaGFuZ2UodmFsKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLnByZWZlcmVudGlhbFR5cGVTaG93ID09IGZhbHNlKSB7DQogICAgICAgIGlmICh2YWwgPT0gMSkgew0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5WYWwgPSAnJzsNCiAgICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMikgew0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wZENtcG5DYWxjQ29kZSA9ICcnOw0KICAgICAgICB9DQoNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBfdmFsID0gdGhpcy5zZWxlY3RlZERlZi5wZENtcG5WYWw7DQogICAgICAgIGxldCBfY2FsY0NvZGUgPSB0aGlzLnNlbGVjdGVkRGVmLnBkQ21wbkNhbGNDb2RlOw0KICAgICAgICBpZiAodmFsID09IDEpIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuVmFsID0gJyc7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNhbGNDb2RlID0gX2NhbGNDb2RlOw0KICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PSAyKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wbkNhbGNDb2RlID0gJyc7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBkQ21wblZhbCA9IF92YWw7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgIH0sDQogICAgYmFja1RvTWVudSgpIHsNCiAgICAgIGNsb3NlVmlzaXRUYWcoKTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5aWX6aSQ5YWs5byP6K6i5q2j5Li76aG1J30pDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3BkRGlzY291bnQoZmxhZywgdmFsKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICAvLyB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5wZHRlbXBQZEJuZnQNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wZERpc2NvdW50Rm9ybXVsYSA9IGZsYWcNCiAgICB9LA0KICAgIGJyaW5nSW5DYWxjQ29kZShwZEJ1c3NJZCwgY2FsY0NvZGUpIHsNCiAgICAgIGZvciAoY29uc3QgZGlzY291bnQgb2YgdGhpcy5jb25maWdzKSB7DQogICAgICAgIGlmIChkaXNjb3VudC5wZENtcG5JZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICAgIHRoaXMuJHNldChkaXNjb3VudCwgJ3BkQ21wbkNhbGNDb2RlJywgY2FsY0NvZGUpDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGRDbXBuQ2FsY0NvZGUgPSBjYWxjQ29kZQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9wcERpc2NvdW50U2VsZWN0KGZsYWcpIHsNCiAgICAgIGlmIChmbGFnKSB7DQogICAgICAgIHRoaXMucmVzZXRQZFBwSW5mbygpOw0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dTaG93LnBkRGlzY291bnRGb3JtdWxhU2VsZWN0ID0gZmxhZw0KICAgICAgaWYgKGZsYWcgPT09IGZhbHNlKSB7DQogICAgICAgIHRoaXMuZGlhbG9nU2hvdy5wZERpc2NvdW50Rm9ybXVsYSA9IGZhbHNlDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmRpYWxvZ1Nob3cucGREaXNjb3VudEZvcm11bGEgPSB0cnVlDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICByZXNldFBkUHBJbmZvKCkgew0KICAgICAgaWYgKHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBUeXBlID09PSAnMScpIHsNCiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMucGRQcEluZm9QZExpc3QpIHsNCiAgICAgICAgICBpZiAoaXRlbS5wZENvZGUgPT09IHRoaXMuaXRlbVNlYXJjaEZvcm0ucHBDbXBJdGVtQ29kZSkgew0KICAgICAgICAgICAgdGhpcy5wZFBwSW5mb3MucGROYW1lID0gaXRlbS5wZE5hbWUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMucGRQcEluZm9zLmlkID0gdGhpcy5wZFBwSW5mby5pZA0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcENvZGUgPSB0aGlzLnBkUHBJbmZvLnBwQ29kZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcE5hbWUgPSB0aGlzLnBkUHBJbmZvLnBwTmFtZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcENtcFR5cGUgPSB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wVHlwZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wZENvZGUgPSB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wSXRlbUNvZGUNCiAgICAgICAgdGhpcy5wZFBwSW5mb3MucGRDbXBuSWQgPSB0aGlzLnNlbGVjdGVkRGVmLnBkQ21wbklkDQogICAgICAgIHRoaXMucGRQcEluZm9zLnBwVmVySWQgPSB0aGlzLnBkUHBJbmZvLnBkVmVySWQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGRQcEluZm9zLmlkID0gdGhpcy5wZFBwSW5mby5pZA0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcENvZGUgPSB0aGlzLnBkUHBJbmZvLnBwQ29kZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcE5hbWUgPSB0aGlzLnBkUHBJbmZvLnBwTmFtZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wcENtcFR5cGUgPSB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wVHlwZQ0KICAgICAgICB0aGlzLnBkUHBJbmZvcy5wZENvZGUgPSB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wSXRlbUNvZGUNCiAgICAgICAgdGhpcy5wZFBwSW5mb3MucGROYW1lID0gdGhpcy5wZFBwSW5mby5wcE5hbWUNCiAgICAgICAgdGhpcy5wZFBwSW5mb3MucGRDbXBuSWQgPSB0aGlzLnNlbGVjdGVkRGVmLnBkQ21wbklkDQogICAgICAgIHRoaXMucGRQcEluZm9zLnBwVmVySWQgPSB0aGlzLnBkUHBJbmZvLnBkVmVySWQNCiAgICAgIH0NCiAgICAgIGZvciAoY29uc3QgcGRQZEluZm8gb2YgdGhpcy5wZFBwSW5mb1BkTGlzdCkgew0KICAgICAgICBpZiAocGRQZEluZm8ucGRDb2RlID09PSB0aGlzLml0ZW1TZWFyY2hGb3JtLnBwQ21wSXRlbUNvZGUuc3BsaXQoJzonKVswXSkgew0KICAgICAgICAgIHRoaXMucGRQcEluZm9zLnBkSW5mb0lkID0gcGRQZEluZm8uaWQNCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBvbmNsaWNrUGRDbXBuQ2FsYygpIHsNCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERlZi5wZENtcG5JZCkgew0KICAgICAgICB0aGlzLm5vdGlmeVdhcm5pbmcoIuivt+mAieaLqeS8mOaDoOS/oeaBryIpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlc2V0UGRQcEluZm8oKTsNCiAgICAgICAgdGhpcy5kaWFsb2dTaG93LnBkRGlzY291bnRGb3JtdWxhID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/package-revision/package-formula-rev/discount-formula-rev","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <!-- 套餐公式订正 中复用页面 显示信息 -->\r\n    <div v-if=\"productCalcRevisionShowINfo\">\r\n      <cus-page-title-back :label=\"$t('i18nView.ppFormulaDet')\" @backTo=\"backToMenu\"></cus-page-title-back>\r\n    </div>\r\n    <cus-page-title :label=\"$t('pdppPremiumdiscount.pdppPremiumtitle')\"></cus-page-title>\r\n    <cus-form-title :first=\"true\" :label=\"$t('pdppPremiumdiscount.pdppPremiumtitle1')\"></cus-form-title>\r\n    <el-form ref=\"pdPpInfo\" :disabled=\"showPageFlag=='1'\" :model=\"pdPpInfo\" :rules=\"rules\" label-width=\"120px\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.pdppInfoName')\" prop=\"ppType\"\r\n                        style=\"white-space: nowrap;\">\r\n            <el-tag type=\"info\">{{ pdPpInfo.ppCode + \":\" + pdPpInfo.ppName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"white-space: nowrap;\">\r\n          <el-form-item v-if=\"!productCalcRevisionShowINfo\" :label=\"$t('pdppPremiumdiscount.pdppPremType')\"\r\n                        prop=\"ppCmpType\">\r\n            <cus-radio v-model=\"itemSearchForm.ppCmpType\" :codetype=\"'ppCmpType'\"\r\n                       :disabled=\"searchForm.preferentialTypeShow\"\r\n                       :isRequired=\"true\"\r\n            >\r\n            </cus-radio>\r\n\r\n          </el-form-item>\r\n          <!-- 套餐公式订正 中复用页面 显示信息 -->\r\n          <el-form-item v-if=\"productCalcRevisionShowINfo\" :label=\"$t('pdppPremiumdiscount.pdppPremType')\"\r\n                        prop=\"ppCmpType\"\r\n                        style=\"white-space: nowrap;\">\r\n            <cus-radio v-model=\"itemSearchForm.ppCmpType\" :codetype=\"'ppCmpType'\"\r\n                       :disabled=\"productCalcRevisionShowINfo\"\r\n                       :isRequired=\"true\"\r\n            >\r\n            </cus-radio>\r\n\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"white-space: nowrap;\">\r\n          <el-form-item v-show=\"itemSearchForm.ppCmpType=='0'\" :label=\"$t('pdppPremiumdiscount.pdppPremType2')\"\r\n                        prop=\"ppCmpItemCode\">\r\n            <el-select v-model=\"itemSearchForm.ppCmpItemCode\" :placeholder=\"$t('form.please_select')\">\r\n              <el-option v-for=\"item in pdPpInfoPdList\" :key=\"item.pdCode\"\r\n                         v-model=\"item.pdCode+':'+item.pdName\"\r\n                         :disabled=\"searchForm.preferentialTypeShow\"\r\n                         :value=\"item.pdCode\">\r\n                <span style=\"float: left\">{{ item.pdCode + \":\" + item.pdName }}</span>\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item v-show=\"itemSearchForm.ppCmpType=='1'\" :label=\"$t('pdppPremiumdiscount.pdppPremType2')\"\r\n                        prop=\"ppCmpItemCode\">\r\n            <el-select v-model=\"pdPpInfo.ppCode +':'+pdPpInfo.ppName\" :disabled=\"true\">\r\n              <el-option :key=\"pdPpInfo.ppCode\"\r\n                         :disabled=\"searchForm.preferentialTypeShow\"\r\n                         :value=\"pdPpInfo.ppCode\">\r\n                <span style=\"float: left\">{{ pdPpInfo.ppCode + \":\" + pdPpInfo.ppName }}</span>\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-form ref=\"configs\" v-model=\"configs\" :disabled=\"showPageFlag=='1'\" :rules=\"rules\" label-width=\"120px\">\r\n      <cus-table-title :label=\"$t('pdppPremiumdiscount.tableTitle')\"/>\r\n      <el-table ref=\"configs\" :data=\"configs\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\" @row-click=\"selectedChanged\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedDef\" @change=\"chooseOne\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdppPremType2')\" align=\"center\"  prop=\"ppCmpType\">\r\n          <template v-slot=\"scope\">{{ scope.row.ppCmpType | filter_codeType('ppCmpType') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdppPremType3')\" align=\"center\"\r\n                         prop=\"ppCmpItemCode\">\r\n          <template v-slot=\"scope\">{{ scope.row.ppCmpItemName }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.cmpnType')\" align=\"center\" prop=\"pdCmpnType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnType | filter_codeType('pdCmpnType') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnChName')\" align=\"center\"  prop=\"cmpnChName\">\r\n          <template v-slot=\"scope\">{{ scope.row.cmpnChName }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnOrder')\" align=\"center\"\r\n                         prop=\"pdCmpnOrder\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnCalcMode')\" align=\"center\"\r\n                         prop=\"pdCmpnCalcMode\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnCalcMode | filter_codeType('pdCmpnCalcMode') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnVal')\" align=\"center\" prop=\"pdCmpnVal\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnVal }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <cus-pagination ref=\"page\" v-model=\"configs\" :pageSize=\"10\"\r\n                      :params=\"params\" url=\"/pd-pp-premiumDiscount/base/searchPpPremiumDiscountListVo\"/>\r\n      <br/>\r\n    </el-form>\r\n    <!-- 套餐公式订正 中复用页面 显示信息 -->\r\n    <!-- <el-form  :model=\"searchForm\" label-width=\"120px\" ref=\"searchForm\" :rules=\"rules\" v-if=\"productCalcRevisionShowINfo\">\r\n       <el-row>\r\n     <el-col :span=\"8\">\r\n       <el-form-item label=\"优惠计算公式\" prop=\"pdCmpnCalcCode\"\r\n                     :label=\"$t('pdppPremiumdiscount.calcId')\"\r\n                     :rules=\"this.searchForm.pdCmpnCalcMode == 2?rules.pdCmpnCalcCode: [{required: false, trigger: 'blur'}]\">\r\n         <el-input class=\"input-with-select\" type=\"number\" v-model=\"searchForm.pdCmpnCalcCode\">\r\n           <svg-icon @click=\"onclickPdCmpnCalc\" icon-class=\"calc\" slot=\"suffix\" style=\"color: #606266;font-size: 18px\"/>\r\n         </el-input>\r\n       </el-form-item>\r\n     </el-col>\r\n       </el-row>\r\n     </el-form>-->\r\n\r\n    <el-form v-if=\"!productCalcRevisionShowINfo\" ref=\"searchForm\" :disabled=\"showPageFlag=='1'\" :model=\"searchForm\"\r\n             :rules=\"rules\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.cmpnType')\" prop=\"pdCmpnType\">\r\n            <cus-select v-show=\"!searchForm.preferentialTypeShow\" v-model=\"searchForm.pdCmpnType\"\r\n                        :codetype=\"'preferentialType'\" @change=\"preferentialTypeSelect\">\r\n            </cus-select>\r\n            <el-tag v-show=\"searchForm.preferentialTypeShow\" type=\"info\">{{\r\n                selectedDef.pdCmpnType |\r\n                  filter_codeType('pdCmpnType')\r\n              }}\r\n            </el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.preferentialInformation')\"  prop=\"pdCmpnCode\">\r\n            <el-select v-show=\"!searchForm.preferentialTypeShow\" v-model=\"searchForm.pdCmpnCode\" clearable\r\n                       filterable @change=\"preferentialCodeSelect\">\r\n              <el-option\r\n                v-for=\"opt in options1\"\r\n                :key=\"opt.value\"\r\n                :label=\"opt.key+':'+opt.value\"\r\n                :value=\"opt.key\"\r\n              ></el-option>\r\n            </el-select>\r\n            <el-tag v-show=\"searchForm.preferentialTypeShow\" type=\"info\">{{\r\n                selectedDef.cmpnChNameCode\r\n                + ':' + selectedDef.cmpnChName\r\n              }}\r\n            </el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <cus-btn-wrapper>\r\n          <el-button v-show=\"!searchForm.preferentialTypeShow\" size=\"small\" type=\"text\" dialog-disable=\"disable\"\r\n                     @click=\"searchForm.detailsShow = true\">\r\n            详情\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.pdCmpnOrder')\"  prop=\"pdCmpnOrder\">\r\n            <el-input v-model=\"searchForm.pdCmpnOrder\" class=\"input-with-select\" type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-dialog :visible.sync=\"searchForm.detailsShow\" width=\"80%\">\r\n\r\n        <cus-page-title-back :label=\"$t('pdppPremiumdiscount.detailedInformation')\"\r\n                             @backTo=\"searchForm.detailsShow=false\"></cus-page-title-back>\r\n        <el-table :data=\"searchForm.gridData\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                  fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnCode')\" align=\"center\" property=\"cmpnCode\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.cmpnType')\" align=\"center\"\r\n                           property=\"cmpnType\">\r\n            <template v-slot=\"scope\">{{ scope.row.cmpnType | filter_codeType('cmpnType') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnChName')\" align=\"center\"\r\n                           property=\"cmpnChName\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnEnName')\" align=\"center\"\r\n                           property=\"cmpnEnName\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnPayCurr')\" align=\"center\"\r\n                           property=\"cmpnPayCurr\">\r\n            <template v-slot=\"scope\">{{ scope.row.cmpnPayCurr | filter_codeType('cmpnPayCurr') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnPolCurr')\" align=\"center\"\r\n                           property=\"cmpnPolCurr\">\r\n            <template v-slot=\"scope\">{{ scope.row.cmpnPolCurr | filter_codeType('pdPolCurr') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnStartDate')\" align=\"center\"\r\n                           property=\"cmpnStartDate\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnEndDate')\" align=\"center\"\r\n                           property=\"cmpnEndDate\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnCalcMode')\" align=\"center\"\r\n                           property=\"cmpnCalcMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.cmpnCalcMode | filter_codeType('cmpnCalcMode') }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.pdCmpnVal')\" align=\"center\" property=\"cmpnVal\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.calcId')\" align=\"center\" property=\"calcId\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.calcComsFlag')\" align=\"center\"\r\n                           property=\"calcComsFlag\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.calcComsBasic')\" align=\"center\"\r\n                           property=\"calcComsBasic\">\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdppPremiumdiscount.cmpnSdNotice')\" align=\"center\"\r\n                           property=\"cmpnSdNotice\">\r\n          </el-table-column>\r\n        </el-table>\r\n        <br>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"newlyAddedClick\" dialog-disable=\"disable\"><i class=\"el-icon-edit\"></i>{{\r\n            $t('pdppPremiumdiscount.newlyAdded')\r\n          }}\r\n        </el-button>\r\n      </el-dialog>\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item v-show=\"false\" label=\"id\" prop=\"id\">\r\n            <el-input v-model=\"searchForm.id\" class=\"input-with-select\" type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item v-show=\"false\" label=\"cmpnInfoId\" prop=\"cmpnInfoId\">\r\n            <el-input v-model=\"searchForm.cmpnInfoId\" class=\"input-with-select\" type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.pdCmpnCalcMode')\"\r\n                        prop=\"pdCmpnCalcMode\">\r\n            <cus-radio v-model=\"searchForm.pdCmpnCalcMode\" :changeMethod=\"pdCmpnCalcModeChange\"\r\n                       :codetype=\"'preferentialClculationType'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col v-if=\"searchForm.pdCmpnCalcMode==='1'\" :span=\"7\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.pdCmpnVal')\"\r\n                        :rules=\"this.searchForm.pdCmpnCalcMode == 1?rules.pdCmpnVal: [{required: false, trigger: 'blur'}]\"\r\n\r\n                        prop=\"pdCmpnVal\">\r\n            <el-input v-model=\"searchForm.pdCmpnVal\" type=\"number\">\r\n              <template slot=\"suffix\">元</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"13\">\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.preferentialDescription')\" prop=\"pdCmpnDesc\">\r\n            <el-input\r\n              v-model=\"searchForm.pdCmpnDesc\"\r\n              maxlength=\"100\"\r\n              show-word-limit\r\n              type=\"textarea\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <el-form-item style=\"float: right\">\r\n            <el-row>\r\n              <el-col :span=\"24\">\r\n                <el-button v-show=\"!searchForm.preferentialTypeShow\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" dialog-disable=\"disable\"\r\n                           @click=\"handleCreate('searchForm')\">\r\n                  {{ $t('pdppPremiumdiscount.save') }}\r\n                </el-button>\r\n                <el-button v-show=\"searchForm.preferentialTypeShow\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" dialog-disable=\"disable\"\r\n                           @click=\"handleCreate('searchForm')\">\r\n                  {{ $t('pdppPremiumdiscount.update') }}\r\n                </el-button>\r\n                <el-button v-show=\"searchForm.preferentialTypeShow\" icon=\"el-icon-delete\" size=\"small\" type=\"danger\" dialog-disable=\"disable\"\r\n                           @click=\"handleDelete\">\r\n                  {{ $t('table.delete') }}\r\n                </el-button>\r\n                <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"resetForm\" dialog-disable=\"disable\">\r\n                  {{ $t('pdppPremiumdiscount.clear') }}\r\n                </el-button>\r\n              </el-col>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-form>\r\n    <el-form :disabled=\"showPageFlag=='1'\">\r\n      <el-row v-if=\"this.searchForm.pdCmpnCalcMode=='2'\">\r\n        <el-col :span=\"8\">\r\n          <cus-form-title :label=\"$t('i18nView.cmpnCalcFormula')\"></cus-form-title>\r\n          <el-form-item :label=\"$t('pdppPremiumdiscount.calcId')\" label-width=\"150px\"\r\n                        prop=\"pdCmpnCalcCode\">\r\n            <el-input v-model=\"searchForm.pdCmpnCalcCode\" readonly>\r\n              <el-tooltip\r\n                slot=\"suffix\"\r\n                :content=\"!(Object.keys(configs).length>0)?$t('pdtempPdSrvlBnft.message.pleaseSelectDetailBenefit'):''\"\r\n                :disabled=\"Object.keys(configs).length>0\" effect=\"dark\"\r\n                placement=\"top\">\r\n                <svg-icon\r\n                  :style=\"{cursor:Object.keys(configs).length>0?'pointer':'not-allowed'}\"\r\n                  icon-class=\"calc\"\r\n                  style=\"color: #606266;font-size: 18px\"\r\n                  @click=\"onclickPdCmpnCalc\"/>\r\n              </el-tooltip>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!--优惠计算公式定义-->\r\n    <el-dialog v-if=\"dialogShow.pdDiscountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :close-on-press-escape=\"false\" :show-close=\"false\" :visible.sync=\"dialogShow.pdDiscountFormula\" center\r\n               width=\"80%\" @close=\"changeDialogVisible_pdDiscount(false)\">\r\n      <ppDiscountFormula :ppDisCount=\"pdPpInfos\" @bringInCalcCode=\"bringInCalcCode\"\r\n                         @changeDialogVisible_pdDiscount=\"changeDialogVisible_pdDiscount\"\r\n                         @changeDialogVisible_ppDiscountSelect=\"changeDialogVisible_ppDiscountSelect\"></ppDiscountFormula>\r\n      <!-- 传值：套餐信息。规则细类，规则大类 -->\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogShow.pdDiscountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :close-on-press-escape=\"false\" :show-close=\"false\" :visible.sync=\"dialogShow.pdDiscountFormulaSelect\"\r\n                 append-to-body center width=\"70%\" @close=\"changeDialogVisible_ppDiscountSelect(false)\">\r\n        <pdDiscountFormulaSelect :ppDisCount=\"pdPpInfos\" calculationFormulaType=\"40\" guaranteeDetails=\"1\"\r\n                                 @bringInCalcCode=\"bringInCalcCode\"\r\n                                 @changeDialogVisible_ppDiscountSelect=\"changeDialogVisible_ppDiscountSelect\"></pdDiscountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {deletePdtempPdCmpnInfo, pdgenlCmpnInfoList} from '@/api/basicinfo/pdtemppdcmpninfo'\r\nimport {\r\n  initPpInfoPdListsC,\r\n  savePpPremiumDiscountDemo,\r\n  updatePpPremiumDiscountDemo\r\n} from '@/api/basicinfo/pdppPremiumdiscount'\r\nimport {mapGetters} from \"vuex\";\r\nimport {querypdPpInfo} from \"@/api/basicinfo/pdppDefinition\";\r\nimport {closeVisitTag} from \"@/utils/tagsView\"\r\nimport ppDiscountFormula from \"@/views/package-revision/package-formula-rev/discount-formula-rev/ppdiscount-formula\";\r\nimport pdDiscountFormulaSelect from \"@/views/package-revision/package-formula-rev/discount-formula-rev/ppdiscout-formula-select\";\r\n\r\nlet _this\r\nexport default {\r\n  name: 'pdppPremiumdiscount',\r\n  computed: {\r\n    ...mapGetters([\"usercode\", \"tenantCode\"])\r\n  },\r\n  components: {\r\n    ppDiscountFormula,\r\n    pdDiscountFormulaSelect,\r\n  },\r\n  filters: {\r\n    filter_codeType(code, value) {\r\n      if (value === 'pdCmpnType') {\r\n        return _this.getCodeName('preferentialType', code);\r\n      } else if (value == 'pdPolCurr') {\r\n        return _this.getCodeName('productCurrency', code);\r\n      } else if (value == 'cmpnType') {\r\n        return _this.getCodeName('preferentialType', code);\r\n      } else if (value == 'pdCmpnCalcMode') {\r\n        return _this.getCodeName('preferentialClculationType', code);\r\n      } else if (value == 'cmpnCalcMode') {\r\n        return _this.getCodeName('preferentialClculationType', code);\r\n      } else if (value == 'cmpnPayCurr') {\r\n        return _this.getCodeName('productCurrency', code);\r\n      } else if (value == 'ppCmpType') {\r\n        return _this.getCodeName('ppCmpType', code);\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      pdDiscountRangeOptions: '',\r\n      guaranteeDetails: '',\r\n      calculationFormulaType: '',\r\n      pdDisCount: '',\r\n      pdPpInfos: {\r\n        id: '',//套餐id\r\n        ppCode: '',//套餐code\r\n        ppName: '',//套餐Name\r\n        ppVerId: '',//套餐VerId\r\n        ppCmpType: '',//优惠对象类型\r\n        pdCode: '',//优惠对象code\r\n        pdName: '',//优惠对象Name\r\n        pdEdition: '',//优惠对象版本\r\n        pdCmpnId: '',//优惠信息的Id\r\n        pdInfoId: ''//单一产品的产品id\r\n      },\r\n      dialogShow: {\r\n        premAmountFormula: false,\r\n        premAmountFormulaSelect: false,\r\n        pdDiscountFormula: false,\r\n        pdDiscountFormulaSelect: false\r\n      },\r\n      //产品套餐信息\r\n      pdPpInfo: {\r\n        id: '',\r\n        ppCode: '',\r\n        ppName: '',\r\n        ppType: '',//类型\r\n        ppPlanName: '',\r\n        ppPlanCode: '',\r\n        ppPersonNum: '',\r\n      },\r\n      productCalcRevisionShowINfo: false,\r\n      //单一产品类型时优惠对象集合显示标识\r\n      pdPpInfoPdListShow: false,\r\n      //单一产品类型时优惠对象集合\r\n      pdPpInfoPdList: [],\r\n\r\n\r\n      //套餐优惠信息列表\r\n      pdPpInfoCmpnList: [],\r\n      //列表行数据\r\n      pdPpPremiumDiscountInfo: {\r\n        ppCmpType: '',\r\n        ppCmpItemId: '',\r\n        ppCmpItemCode: '',\r\n        pdCmpnType: '',\r\n        cmpnInfoId: '',\r\n        pdCmpnCode: '',\r\n        pdCmpnOrder: '',\r\n        pdCmpnCalcMode: '',\r\n        pdCmpnVal: '',\r\n        pdCmpnDesc: '',\r\n      },\r\n      //列表数据\r\n      pdPpPremiumDiscountInfoList: [],\r\n\r\n      itemSearchForm: {\r\n        ppCmpType: '',//套餐优惠对象类型\r\n        ppCmpItemCode: '',//套餐优惠对象编码\r\n      },\r\n      searchForm: {\r\n        pdCmpnType: '',//优惠类型\r\n        pdCmpnCode: '',//优惠编码\r\n        pdCmpnCalcMode: '',//优惠计算方式\r\n        pdCmpnVal: '',//优惠金额\r\n        pdCmpnCalcCode: '',//优惠公式计算id\r\n        preferentialAmountShow: false,//优惠金额显示与隐藏\r\n        pdCmpnDesc: '',//优惠描述\r\n        pdCmpnOrder: '',//优惠顺序\r\n        detailsShow: false,//控制详情表格显示与隐藏\r\n        detailsIcon: 'el-icon-arrow-down',//控制显示图标\r\n        id: '',//产品表id\r\n        cmpnInfoId: '',//通用配置表id\r\n        preferentialTypeShow: false,//优惠类型和优惠编码显示与隐藏\r\n\r\n        gridData: [],//详情表格数据\r\n      },\r\n      showPageFlag: '',\r\n      params: {\r\n        eq_pdInfoId: '',\r\n        eq_pdCode: '',\r\n        eq_pdCmpnCalcMode:''\r\n      },\r\n      configs: [],\r\n      options1: [],\r\n      selectedDef: {},//表格的单选按钮\r\n      rules: {\r\n        pdCmpnOrder: [\r\n          {required: true, message: this.$t('pdppPremiumdiscount.message3'), trigger: 'blur'},\r\n        ],\r\n        pdCmpnVal: [\r\n          {required: true, message: this.$t('pdppPremiumdiscount.message4'), trigger: 'blur'},\r\n        ],\r\n        pdCmpnCalcCode: [{required: true, message: this.$t('pdppPremiumdiscount.message7'), trigger: 'blur'},],\r\n        ppCmpType: [{required: true, message: this.$t('pdppPremiumdiscount.message5'), trigger: 'blur'}],\r\n        ppCmpItemCode: [{required: true, message: this.$t('pdppPremiumdiscount.message6'), trigger: 'blur'}],\r\n        pdCmpnType: [{message: this.$t('pdppPremiumdiscount.message5'), trigger: 'blur'}]\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    this.initProductInfo();\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo;\r\n    if (this.productCalcRevisionShowINfo == true) {\r\n      this.params.eq_pdCmpnCalcMode='2'\r\n    } else {\r\n      this.productCalcRevisionShowINfo = false;\r\n    }\r\n  },\r\n  methods: {\r\n// 初始化产品信息 -- 从session\r\n    initProductInfo() {\r\n      let _pdppInfo =  this.getPdData();\r\n      if (_pdppInfo) {\r\n        Object.assign(this.pdPpInfo, _pdppInfo);\r\n        this.params.eq_pdCode = this.pdPpInfo.ppCode;\r\n        this.params.eq_pdInfoId = this.pdPpInfo.id;\r\n        this.itemSearchForm.ppCmpType = '1';\r\n      }\r\n      this.initPpInfopdList(_pdppInfo);\r\n      querypdPpInfo(this.buildRequestData({\"ppInfoId\": this.pdPpInfo.id})).then(res => {\r\n        this.pdPpInfo = res.data;\r\n        this.cacheCurrPagePdData(this.pdPpInfo)\r\n      })\r\n    },\r\n\r\n    initPpInfopdList(_pdppInfo) {\r\n      this.pdPpInfo = _pdppInfo;\r\n      let map = {\"pdppInfoR\": _pdppInfo}\r\n      initPpInfoPdListsC(this.buildRequestData(map)).then(res => {\r\n        this.pdPpInfoPdList = res.data.pdinfosR;\r\n        this.searchForm.ppCmpType = '1';\r\n      })\r\n    },\r\n    initPpPremiumdiscount() {\r\n      let map = {\r\n        \"eq_ppCmpItemCode\": this.pdPpInfo.ppCode\r\n      }\r\n      searchPpPremiumDiscountListVo(this.buildRequestData(map)).then(res => {\r\n        this.pdPpInfoCmpnList = res.data.orders;\r\n      })\r\n      //初始化套餐优惠表格\r\n    },\r\n    preferentialTypeSelect(val) {\r\n      this.clearPdcmpnInfo();\r\n      this.options1 = [];\r\n      let pdgenlCmpnInfo = {\r\n        cmpnType: val\r\n      }\r\n      pdgenlCmpnInfoList(this.buildRequestData({\"pdgenlCmpnInfo\": pdgenlCmpnInfo})).then(response => {\r\n        if (response.code == 200 && response.data.length > 0) {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            this.options1.push({\r\n              key: response.data[i].cmpnCode,\r\n              value: response.data[i].cmpnChName,\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    preferentialCodeSelect() {\r\n      if (this.searchForm.pdCmpnCode == '') {\r\n        this.clearPdcmpnInfo();\r\n      } else {\r\n        this.searchForm.pdCmpnVal = '';\r\n        this.searchForm.pdCmpnCalcMode = '';\r\n        this.searchForm.pdCmpnCalcCode = '';\r\n        this.searchForm.pdCmpnDesc = '';\r\n        this.$nextTick(() => {\r\n          this.searchForm.gridData = [];\r\n          let pdgenlCmpnInfo = {\r\n            cmpnType: this.searchForm.pdCmpnType,\r\n            cmpnCode: this.searchForm.pdCmpnCode\r\n          };\r\n          pdgenlCmpnInfoList(this.buildRequestData({\"pdgenlCmpnInfo\": pdgenlCmpnInfo})).then(response => {\r\n            if (response.code == 200 && response.data.length > 0) {\r\n              this.searchForm.cmpnInfoId = response.data[0].id;\r\n              this.searchForm.pdCmpnCalcMode = response.data[0].cmpnCalcMode;//优惠计算方式\r\n              this.searchForm.pdCmpnVal = response.data[0].cmpnVal;//优惠金额\r\n              this.searchForm.pdCmpnDesc = response.data[0].cmpnDesc;//优惠描述\r\n              this.searchForm.pdCmpnCalcCode = response.data[0].cmpnCalcCode;//优惠计算公式\r\n              //优惠顺序\r\n              this.searchForm.gridData.push({\r\n                cmpnCode: response.data[0].cmpnCode,\r\n                cmpnType: response.data[0].cmpnType,\r\n                cmpnChName: response.data[0].cmpnChName,\r\n                cmpnEnName: response.data[0].cmpnEnName,\r\n                cmpnPayCurr: response.data[0].cmpnPayCurr,\r\n                cmpnPolCurr: response.data[0].cmpnPolCurr,\r\n                cmpnStartDate: response.data[0].cmpnStartDate,\r\n                cmpnEndDate: response.data[0].cmpnEndDate,\r\n                cmpnCalcMode: response.data[0].cmpnCalcMode,\r\n                cmpnVal: response.data[0].cmpnVal,\r\n                calcId: response.data[0].id,\r\n                calcComsFlag: response.data[0].calcComsFlag,\r\n                calcComsBasic: response.data[0].calcComsBasic,\r\n                cmpnSdNotice: response.data[0].cmpnSdNotice,\r\n              })\r\n            }\r\n          });\r\n        });\r\n      }\r\n    },\r\n    newlyAddedClick() {\r\n      this.$router.push({\r\n        name: '优惠项配置'\r\n      })\r\n    },\r\n    clearPdcmpnInfo() {\r\n      this.searchForm.pdCmpnVal = '';\r\n      this.searchForm.pdCmpnCode = '';\r\n      this.searchForm.pdCmpnCalcMode = '';\r\n      this.searchForm.pdCmpnCalcCode = '';\r\n      this.searchForm.pdCmpnDesc = '';\r\n    },\r\n    handleCreate() {\r\n      this.$refs.searchForm.validate((valid) => {\r\n        if (valid) {\r\n          if (this.searchForm.preferentialTypeShow == false) {\r\n            if (this.searchForm.cmpnInfoId != \"\" && this.searchForm.cmpnInfoId != null) {\r\n              for (let i = 0; i < this.configs.length; i++) {\r\n                if (this.configs[i].pdCmpnCode == this.searchForm.pdCmpnCode) {\r\n                  this.notifyError(\"当前产品已经定义过该优惠，请选择其他优惠\");\r\n                  return false;\r\n                }\r\n                if (this.configs[i].pdCmpnOrder == this.searchForm.pdCmpnOrder) {\r\n                  this.notifyWarning(\"优惠顺序不可重复,请重新录入\");\r\n                  return false;\r\n                }\r\n              }\r\n              let pdtempPdCmpnInfo = {\r\n                pdCmpnType: '',\r\n                cmpnInfoId: '',\r\n                PdVerId: '',\r\n                PdType: '',//这个值？？？\r\n                PdInfoId: '',\r\n                PdCode: '',\r\n                // pdPolCurr:'',\r\n                pdCmpnOrder: '',\r\n                pdCmpnCalcMode: '',\r\n                pdCmpnCalcCode: '',\r\n                pdCmpnVal: '',\r\n                pdCmpnDesc: '',\r\n              };\r\n              pdtempPdCmpnInfo.pdCmpnType = this.searchForm.pdCmpnType;//优惠类型\r\n              pdtempPdCmpnInfo.pdCmpnCode = this.searchForm.pdCmpnCode;//优惠编码\r\n              pdtempPdCmpnInfo.cmpnInfoId = this.searchForm.cmpnInfoId;//优惠id\r\n              pdtempPdCmpnInfo.pdCmpnCalcMode = this.searchForm.pdCmpnCalcMode;//优惠计算方式\r\n              if (this.searchForm.pdCmpnCalcMode != '1') {\r\n                pdtempPdCmpnInfo.pdCmpnCalcCode = this.searchForm.pdCmpnCalcCode\r\n              }\r\n              pdtempPdCmpnInfo.pdCmpnVal = this.searchForm.pdCmpnVal;//优惠金额\r\n              pdtempPdCmpnInfo.pdCmpnDesc = this.searchForm.pdCmpnDesc;//优惠描述\r\n              pdtempPdCmpnInfo.pdCmpnOrder = this.searchForm.pdCmpnOrder;//优惠顺序\r\n              let map = {}\r\n              if (this.itemSearchForm.ppCmpType === \"1\") {\r\n                map = {\r\n                  \"PdtempPdCmpnInfos\": pdtempPdCmpnInfo,\r\n                  \"pdPPInfoS\": this.pdPpInfo,\r\n                  \"ppCmpType\": this.itemSearchForm.ppCmpType,\r\n                  \"ppCmpItemCode\": this.pdPpInfo.ppCode,\r\n                }\r\n              } else if (this.itemSearchForm.ppCmpType === \"0\") {\r\n                map = {\r\n                  \"PdtempPdCmpnInfos\": pdtempPdCmpnInfo,\r\n                  \"pdPPInfoS\": this.pdPpInfo,\r\n                  \"ppCmpType\": this.itemSearchForm.ppCmpType,\r\n                  \"ppCmpItemCode\": this.itemSearchForm.ppCmpItemCode,\r\n                }\r\n              } else {\r\n                this.notifyWarning(\"产品套餐优惠对象类型未空\");\r\n              }\r\n\r\n              savePpPremiumDiscountDemo(this.buildRequestData(map)).then(response => {\r\n                this.notifySuccess(response.message);\r\n                this.params.eq_pdInfoId = this.pdPpInfo.id;\r\n                this.params.eq_pdCode = this.pdPpInfo.ppCode;\r\n                this.$refs.page.reload();\r\n                this.resetForm()\r\n              })\r\n            } else {\r\n              this.notifyWarning(this.$t('pdppPremiumdiscount.message1'));\r\n            }\r\n          } else {\r\n            for (let i = 0; i < this.configs.length; i++) {\r\n              if (this.configs[i].pdCmpnOrder == this.searchForm.pdCmpnOrder) {\r\n                if (this.selectedDef.pdCmpnOrder != this.searchForm.pdCmpnOrder) {\r\n                  this.notifyWarning(\"优惠顺序不可重复,请重新录入\");\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            let pdtempPdCmpnInfo = {\r\n              pdCmpnType: '',\r\n              cmpnInfoId: '',\r\n              PdVerId: '',\r\n              PdType: '',//这个值？？？\r\n              PdInfoId: '',\r\n              PdCode: '',\r\n              // pdPolCurr:'',\r\n              pdCmpnOrder: '',\r\n              pdCmpnCalcMode: '',\r\n              pdCmpnCalcCode: '',\r\n              pdCmpnVal: '',\r\n              pdCmpnDesc: '',\r\n            };\r\n            pdtempPdCmpnInfo.pdCmpnCalcMode = this.searchForm.pdCmpnCalcMode;//优惠计算方式\r\n            if (this.searchForm.pdCmpnCalcMode != '1') {\r\n              pdtempPdCmpnInfo.pdCmpnCalcCode = this.searchForm.pdCmpnCalcCode\r\n            }\r\n            pdtempPdCmpnInfo.pdCmpnVal = this.searchForm.pdCmpnVal;//优惠金额\r\n            pdtempPdCmpnInfo.pdCmpnDesc = this.searchForm.pdCmpnDesc;//优惠描述\r\n            pdtempPdCmpnInfo.pdCmpnOrder = this.searchForm.pdCmpnOrder;//优惠顺序\r\n            let map = {\r\n              \"PdtempPdCmpnInfos\": pdtempPdCmpnInfo,\r\n              \"pdPPInfoS\": this.pdPpInfo,\r\n              \"pdCmpnIdS\": this.selectedDef.pdCmpnId,\r\n            }\r\n            updatePpPremiumDiscountDemo(this.buildRequestData(map)).then(res => {\r\n              this.notifySuccess(res.message);\r\n              this.params.eq_pdInfoId = this.pdPpInfo.id;\r\n              this.params.eq_pdCode = this.pdPpInfo.ppCode;\r\n              this.$refs.page.reload();\r\n            })\r\n\r\n          }\r\n        }\r\n      });\r\n    },\r\n    resetForm() {\r\n\r\n      //if (this.searchForm.preferentialTypeShow == false) {console.log(123)\r\n        // this.itemSearchForm.ppCmpItemCode = '';\r\n        //this.itemSearchForm.ppCmpType = '1';\r\n        //this.$refs.searchForm.clearSelection();\r\n        //this.searchForm.preferentialTypeShow = false;\r\n        this.searchFormrest();\r\n     //} else {\r\n       //this.chooseOne(this.selectedDef);\r\n      //}\r\n    },\r\n    searchFormrest(){\r\n      this.selectedDef={},\r\n      this.searchForm.searchfpdCmpnType= '',//优惠类型\r\n        this.searchForm.pdCmpnCode= '',//优惠编码\r\n        this.searchForm.pdCmpnCalcMode='',//优惠计算方式\r\n        this.searchForm.pdCmpnVal= '',//优惠金额\r\n        this.searchForm.pdCmpnCalcCode='',//优惠公式计算id\r\n        //this.preferentialAmountShow= false,//优惠金额显示与隐藏\r\n        this.searchForm.pdCmpnDesc= '',//优惠描述\r\n        this.searchForm.pdCmpnOrder= '',//优惠顺序\r\n       // detailsShow : false,//控制详情表格显示与隐藏\r\n       // detailsIcon : 'el-icon-arrow-down',//控制显示图标\r\n        this.searchForm.id= '',//产品表id\r\n        this.searchForm.cmpnInfoId= '',\r\n        this.searchForm.preferentialTypeShow= false //优惠类型和优惠编码显示与隐藏\r\n        //gridData: [],//详情表格数据\r\n    },\r\n    selectedChanged(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.pdCmpnId == this.selectedDef.pdCmpnId) {\r\n          this.selectedDef = {};\r\n          this.itemSearchForm.ppCmpType = '1';\r\n          if(this.$refs.searchForm){\r\n            this.$refs.searchForm.resetFields();\r\n          }\r\n          this.searchForm.pdCmpnCalcCode = ''\r\n          this.searchForm.preferentialTypeShow = false;\r\n        }\r\n      }\r\n    },\r\n    chooseOne(row) {\r\n      this.itemSearchForm.ppCmpType = row.ppCmpType;\r\n      this.itemSearchForm.ppCmpItemCode = row.ppCmpItemCode + \":\" + row.ppCmpItemName;\r\n      this.searchForm.pdCmpnType = row.cmpnType;\r\n      this.searchForm.pdCmpnCode = row.cmpnChNameCode;\r\n      this.searchForm.cmpnInfoId = row.cmpnInfoId;\r\n      this.searchForm.preferentialTypeShow = true;\r\n      this.searchForm.pdCmpnCalcMode = row.pdCmpnCalcMode;//优惠计算方式\r\n      this.searchForm.pdCmpnCalcCode = row.pdCmpnCalcCode;//优惠计算公式\r\n      this.searchForm.pdCmpnVal = row.pdCmpnVal;//优惠金额\r\n      this.searchForm.pdCmpnDesc = row.pdCmpnDesc;//优惠描述\r\n      this.searchForm.pdCmpnOrder = row.pdCmpnOrder;//优惠顺序\r\n      this.searchForm.id = row.pdCmpnId;//id\r\n    },\r\n    handleDelete() {\r\n      if (this.searchForm.id != \"\" && this.searchForm.id != null) {\r\n        let id = this.searchForm.id;\r\n        let back = '';\r\n        back = deletePdtempPdCmpnInfo(id);\r\n        back.then(response => {\r\n          if (response.code == 200) {\r\n            this.notifySuccess(response.message);\r\n            this.params.eq_pdInfoId = this.pdPpInfo.id;\r\n            this.$refs.page.reload();\r\n            this.resetForm();\r\n          }\r\n        });\r\n      } else {\r\n        this.notifyWarning(this.$t('pdtempPdCmpnInfo.message2'));\r\n      }\r\n\r\n    },\r\n    pdCmpnCalcModeChange(val) {\r\n      if (this.searchForm.preferentialTypeShow == false) {\r\n        if (val == 1) {\r\n          this.searchForm.pdCmpnVal = '';\r\n        } else if (val == 2) {\r\n          this.searchForm.pdCmpnCalcCode = '';\r\n        }\r\n\r\n      } else {\r\n        let _val = this.selectedDef.pdCmpnVal;\r\n        let _calcCode = this.selectedDef.pdCmpnCalcCode;\r\n        if (val == 1) {\r\n          this.searchForm.pdCmpnVal = '';\r\n          this.searchForm.pdCmpnCalcCode = _calcCode;\r\n        } else if (val == 2) {\r\n          this.searchForm.pdCmpnCalcCode = '';\r\n          this.searchForm.pdCmpnVal = _val;\r\n        }\r\n      }\r\n\r\n    },\r\n    backToMenu() {\r\n      closeVisitTag();\r\n      this.$router.push({name: '套餐公式订正主页'})\r\n    },\r\n    changeDialogVisible_pdDiscount(flag, val) {\r\n      if (flag === true) {\r\n        // this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogShow.pdDiscountFormula = flag\r\n    },\r\n    bringInCalcCode(pdBussId, calcCode) {\r\n      for (const discount of this.configs) {\r\n        if (discount.pdCmpnId === Number(pdBussId)) {\r\n          this.$set(discount, 'pdCmpnCalcCode', calcCode)\r\n          break\r\n        }\r\n      }\r\n      if (this.searchForm.id === Number(pdBussId)) {\r\n        this.searchForm.pdCmpnCalcCode = calcCode\r\n      }\r\n    },\r\n    changeDialogVisible_ppDiscountSelect(flag) {\r\n      if (flag) {\r\n        this.resetPdPpInfo();\r\n      }\r\n      this.dialogShow.pdDiscountFormulaSelect = flag\r\n      if (flag === false) {\r\n        this.dialogShow.pdDiscountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.pdDiscountFormula = true\r\n        })\r\n      }\r\n    },\r\n    resetPdPpInfo() {\r\n      if (this.itemSearchForm.ppCmpType === '1') {\r\n        for (const item of this.pdPpInfoPdList) {\r\n          if (item.pdCode === this.itemSearchForm.ppCmpItemCode) {\r\n            this.pdPpInfos.pdName = item.pdName\r\n            break\r\n          }\r\n        }\r\n        this.pdPpInfos.id = this.pdPpInfo.id\r\n        this.pdPpInfos.ppCode = this.pdPpInfo.ppCode\r\n        this.pdPpInfos.ppName = this.pdPpInfo.ppName\r\n        this.pdPpInfos.ppCmpType = this.itemSearchForm.ppCmpType\r\n        this.pdPpInfos.pdCode = this.itemSearchForm.ppCmpItemCode\r\n        this.pdPpInfos.pdCmpnId = this.selectedDef.pdCmpnId\r\n        this.pdPpInfos.ppVerId = this.pdPpInfo.pdVerId\r\n      } else {\r\n        this.pdPpInfos.id = this.pdPpInfo.id\r\n        this.pdPpInfos.ppCode = this.pdPpInfo.ppCode\r\n        this.pdPpInfos.ppName = this.pdPpInfo.ppName\r\n        this.pdPpInfos.ppCmpType = this.itemSearchForm.ppCmpType\r\n        this.pdPpInfos.pdCode = this.itemSearchForm.ppCmpItemCode\r\n        this.pdPpInfos.pdName = this.pdPpInfo.ppName\r\n        this.pdPpInfos.pdCmpnId = this.selectedDef.pdCmpnId\r\n        this.pdPpInfos.ppVerId = this.pdPpInfo.pdVerId\r\n      }\r\n      for (const pdPdInfo of this.pdPpInfoPdList) {\r\n        if (pdPdInfo.pdCode === this.itemSearchForm.ppCmpItemCode.split(':')[0]) {\r\n          this.pdPpInfos.pdInfoId = pdPdInfo.id\r\n          break\r\n        }\r\n      }\r\n    },\r\n    onclickPdCmpnCalc() {\r\n      if (!this.selectedDef.pdCmpnId) {\r\n        this.notifyWarning(\"请选择优惠信息\")\r\n      } else {\r\n        this.resetPdPpInfo();\r\n        this.dialogShow.pdDiscountFormula = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
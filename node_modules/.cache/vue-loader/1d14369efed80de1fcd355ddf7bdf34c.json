{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-formula-rev\\discount-formula-rev\\ppdiscount-formula\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\package-revision\\package-formula-rev\\discount-formula-rev\\ppdiscount-formula\\index.vue","mtime":1609847106810},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RlbGV0ZURpc2NvdW50Rm9ybXVsYX0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcERpc2NvdW50Rm9ybXVsYSINCg0KbGV0IF90aGlzDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdwcERpc2NvdW50Rm9ybXVsYScsDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRCdXNzVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQ2FsY0J1c3NUeXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBwcERpc0NvdW50OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgc2VsZWN0ZWRGb3JtdWxhOiB7fSwNCiAgICAgIGZvcm11bGFWaWV3OiB7DQogICAgICAgIGZsYWc6ICcnLA0KICAgICAgICBydWxlQ29kZTogJycsDQogICAgICAgIHZpc2libGU6IGZhbHNlDQogICAgICB9LA0KICAgICAgcHJvZHVjdDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZEVkaXRpb246ICcnLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkU2FsZWNobmw6ICcnLA0KICAgICAgICBwZE5hbWU6ICcnLA0KICAgICAgICBwZFNob3J0bmFtZTogJycsDQogICAgICAgIHBkRW5OYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRBcHBsRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIHBhcmFtczogew0KICAgICAgICBlcV9wZEluZm9JZDogdW5kZWZpbmVkLA0KICAgICAgICBlcV9wZEJ1c3NUeXBlOiAnMScsDQogICAgICAgIGVxX3BkQnVzc0RldGFpbFR5cGU6ICc0MCcsDQogICAgICAgIGVxX3BkVHlwZTogJzInLA0KICAgICAgICBlcV9wZEJ1c3NJZDogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgcHJvZHVjdE9wdGlvbkxpc3Q6IFtdLC8v5Lqn5ZOB5pWw57uEDQogICAgICBwcmVtT3B0aW9uczogW10sLy/nvLTotLkNCiAgICAgIGZvcm11bGFMaXN0OiBbXSwNCiAgICAgIHByb2R1Y3RCaWdUeXBlOiAnJywNCiAgICAgIHByb2R1Y3RGb3JtOiB7DQogICAgICAgIHByb2R1Y3RUeXBlOiAnJywNCiAgICAgICAgYXBwb2ludFByb2R1Y3Q6ICcnLA0KICAgICAgICBhcHBvaW50UHJlbTogJycsDQogICAgICAgIHBkRGlzQ291bnRUeXBlOiAnJywNCiAgICAgICAgcGRDYWxjQ29kZTogJycNCiAgICAgIH0sDQogICAgICBydWxlOiB7DQogICAgICAgIHJ1bGVCdXNzTW9kdURldGE6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeaguOS/neinhOWImee7huexuycsDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgIGRlc2NyaXB0aW9uOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlhazlvI/mj4/ov7AnLA0KICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIHBkUHBJbmZvOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcHBDb2RlOiAnJywNCiAgICAgICAgcHBOYW1lOiAnJywNCiAgICAgICAgcHBUeXBlOiAnJywvL+exu+Weiw0KICAgICAgICBwcFBsYW5OYW1lOiAnJywNCiAgICAgICAgcHBQbGFuQ29kZTogJycsDQogICAgICAgIHBwUGVyc29uTnVtOiAnJywNCiAgICAgIH0sDQogICAgICBwcm9kdWN0UHBGb3JtOiB7DQogICAgICAgIGlkOiAnJywvL+Wll+mkkElEDQogICAgICAgIHBwQ29kZTogJycsLy/lpZfppJDnvJbnoIENCiAgICAgICAgcHBOYW1lOiAnJywvL+Wll+mkkOWQjeensA0KICAgICAgICBwcFZlcklkOiAnJywvL+Wll+mkkFZlcklkDQogICAgICAgIHBkQ21wbkNvZGU6ICcnLC8v5LyY5oOg5a+56LGhDQogICAgICAgIHBkY29kZTogJycsLy/kvJjmg6Dlr7nosaFDT0RFDQogICAgICAgIHBkTmFtZTogJycsLy/kvJjmg6Dlr7nosaHlkI3np7ANCiAgICAgICAgcGRDbXBuSWQ6ICcnLy/kvJjmg6Dkv6Hmga9pZA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAodGhpcy5wcERpc0NvdW50LnBwQ21wVHlwZSA9PT0gJzAnKSB7DQogICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucHBEaXNDb3VudC5wZEluZm9JZA0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLnBhcmFtcy5lcV9wZEluZm9JZCA9IHRoaXMucHBEaXNDb3VudC5pZA0KICAgIH0NCiAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCkNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsZXQgX3BkcHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgIGlmIChfcGRwcEluZm8pIHsNCiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wZFBwSW5mbywgX3BkcHBJbmZvKTsNCiAgICB9DQogICAgdGhpcy5wcm9kdWN0UHBGb3JtLmlkID0gdGhpcy5wcERpc0NvdW50LmlkOw0KICAgIHRoaXMucHJvZHVjdFBwRm9ybS5wcENvZGUgPSB0aGlzLnBwRGlzQ291bnQucHBDb2RlOw0KICAgIHRoaXMucHJvZHVjdFBwRm9ybS5wcE5hbWUgPSB0aGlzLnBwRGlzQ291bnQucHBOYW1lOw0KICAgIHRoaXMucHJvZHVjdFBwRm9ybS5wZENtcG5Db2RlID0gdGhpcy5wcERpc0NvdW50LnBwQ21wVHlwZTsNCiAgICB0aGlzLnByb2R1Y3RQcEZvcm0ucGRjb2RlID0gdGhpcy5wcERpc0NvdW50LnBkQ29kZTsNCiAgICB0aGlzLnByb2R1Y3RQcEZvcm0ucGROYW1lID0gdGhpcy5wcERpc0NvdW50LnBkTmFtZTsNCiAgICB0aGlzLnByb2R1Y3RQcEZvcm0ucGRDbXBuSWQgPSB0aGlzLnBwRGlzQ291bnQucGRDbXBuSWQ7DQogICAgdGhpcy5wcm9kdWN0UHBGb3JtLnBwVmVySWQgPSB0aGlzLnBwRGlzQ291bnQucHBWZXJJZDsNCiAgICB0aGlzLnBhcmFtcy5lcV9wZEJ1c3NJZCA9IHRoaXMucHBEaXNDb3VudC5wZENtcG5JZDsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGZvcm11bGFWaWV3Q2xvc2VkKCkgew0KICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtdWxhID0ge30NCiAgICB9LA0KICAgIHNlbGVjdGVkRm9ybXVsYUNoYW5nZWQoKSB7DQogICAgICB0aGlzLmZvcm11bGFWaWV3LmZsYWcgPSAnMicNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcucnVsZUNvZGUgPSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5wZENhbGNDb2RlDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICAvKkZvcm11bGHor6bmg4UqLw0KICAgIHNob3dGb3JtdWxhKGNvZGUpIHsNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJw0KICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IGNvZGUNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcudmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGJhY2soKSB7DQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VEaWFsb2dWaXNpYmxlX3BkRGlzY291bnQnLCBmYWxzZSkNCiAgICB9LA0KICAgIHRvU2VsZWN0Rm9ybXVsYSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZURpYWxvZ1Zpc2libGVfcHBEaXNjb3VudFNlbGVjdCcsIHRydWUpDQogICAgfSwNCiAgICBoYW5kbGVEZWxldGVGb3JtdWxhKHJvdykgew0KICAgICAgZGVsZXRlRGlzY291bnRGb3JtdWxhKHJvdykudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkNCiAgICAgICAgdGhpcy4kZW1pdCgnYnJpbmdJbkNhbGNDb2RlJywgcm93LnBkQnVzc0lkLCB1bmRlZmluZWQpDQogICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/package-revision/package-formula-rev/discount-formula-rev/ppdiscount-formula","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('ppDiscountFormulaSelect.pdDisCountCalcMenu')\" @backTo=\"back\"/>\r\n    <el-form ref=\"productForm\" :model=\"productPpForm\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('ppDiscountFormulaSelect.product')\">\r\n            <el-tag type=\"info\">{{ productPpForm.ppCode + ':' + productPpForm.ppName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('ppDiscountFormulaSelect.ppCmlnType')\">\r\n            <cus-radio v-model=\"productPpForm.pdCmpnCode\" :codetype=\"'ppCmpType'\" :disabled=\"true\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('ppDiscountFormulaSelect.ppCmlnName')\">\r\n            <el-tag type=\"info\">{{ productPpForm.pdcode }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <el-button icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"toSelectFormula\">\r\n      {{ $t('pdDiscountFormula.selectFormula') }}\r\n    </el-button>\r\n\r\n    <cus-table-title :label=\"$t('pdDiscountFormula.pdDiscountFormula')\"/>\r\n    <el-table ref=\"formulaList\" :data=\"formulaList\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              max-height=\"250\" size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedFormula\" @change=\"selectedFormulaChanged\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('ppDiscountFormulaSelect.index')\" align=\"center\" type=\"index\"\r\n                       width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('ppDiscountFormulaSelect.details')\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row.pdCalcCode)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('ppDiscountFormulaSelect.pdBussDetailType')\" align=\"center\" prop=\"pdBussDetailType\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('ppDiscountFormulaSelect.pdCalcCode')\" align=\"center\"\r\n                       prop=\"pdCalcCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('ppDiscountFormulaSelect.pdCalcDesc')\" align=\"center\"\r\n                       prop=\"pdCalcDesc\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('rule.ruleAttr')\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '') }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n        <template v-slot=\"scope\">\r\n          <cus-del-btn v-auth=\"'pdtemp-pd-discount-formula:delete'\" @ok=\"handleDeleteFormula(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page\" v-model=\"formulaList\" :autoBuild=\"false\" :pageSize=\"10\"\r\n                    :params=\"params\" url=\"/pd-pp-premiumDiscount/base/search\"/>\r\n\r\n    <!-- 公式查看和决策树编辑弹窗 -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :ruleCode=\"formulaView.ruleCode\" :ruleModifyClosed=\"formulaViewClosed\"\r\n                     :ruleType=\"'2'\" :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {deleteDiscountFormula} from \"@/api/basicinfo/pdtempDiscountFormula\"\r\n\r\nlet _this\r\nexport default {\r\n  name: 'ppDiscountFormula',\r\n  filters: {\r\n    filter_pdBussType(code) {\r\n      return _this.getCodeName('pdCalcBussType', code)\r\n    },\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    }\r\n  },\r\n  props: {\r\n    ppDisCount: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      selectedFormula: {},\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        visible: false\r\n      },\r\n      product: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      params: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdBussType: '1',\r\n        eq_pdBussDetailType: '40',\r\n        eq_pdType: '2',\r\n        eq_pdBussId: undefined\r\n      },\r\n      productOptionList: [],//产品数组\r\n      premOptions: [],//缴费\r\n      formulaList: [],\r\n      productBigType: '',\r\n      productForm: {\r\n        productType: '',\r\n        appointProduct: '',\r\n        appointPrem: '',\r\n        pdDisCountType: '',\r\n        pdCalcCode: ''\r\n      },\r\n      rule: {\r\n        ruleBussModuDeta: [{\r\n          required: true,\r\n          message: '请选择核保规则细类',\r\n          trigger: 'change'\r\n        }],\r\n        description: [{\r\n          required: true,\r\n          message: '请输入公式描述',\r\n          trigger: 'blur'\r\n        }]\r\n      },\r\n      pdPpInfo: {\r\n        id: '',\r\n        ppCode: '',\r\n        ppName: '',\r\n        ppType: '',//类型\r\n        ppPlanName: '',\r\n        ppPlanCode: '',\r\n        ppPersonNum: '',\r\n      },\r\n      productPpForm: {\r\n        id: '',//套餐ID\r\n        ppCode: '',//套餐编码\r\n        ppName: '',//套餐名称\r\n        ppVerId: '',//套餐VerId\r\n        pdCmpnCode: '',//优惠对象\r\n        pdcode: '',//优惠对象CODE\r\n        pdName: '',//优惠对象名称\r\n        pdCmpnId: ''//优惠信息id\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.ppDisCount.ppCmpType === '0') {\r\n      this.params.eq_pdInfoId = this.ppDisCount.pdInfoId\r\n    } else {\r\n      this.params.eq_pdInfoId = this.ppDisCount.id\r\n    }\r\n    this.$refs.page.reload()\r\n  },\r\n  created() {\r\n    let _pdppInfo = this.getPdData()\r\n    if (_pdppInfo) {\r\n      Object.assign(this.pdPpInfo, _pdppInfo);\r\n    }\r\n    this.productPpForm.id = this.ppDisCount.id;\r\n    this.productPpForm.ppCode = this.ppDisCount.ppCode;\r\n    this.productPpForm.ppName = this.ppDisCount.ppName;\r\n    this.productPpForm.pdCmpnCode = this.ppDisCount.ppCmpType;\r\n    this.productPpForm.pdcode = this.ppDisCount.pdCode;\r\n    this.productPpForm.pdName = this.ppDisCount.pdName;\r\n    this.productPpForm.pdCmpnId = this.ppDisCount.pdCmpnId;\r\n    this.productPpForm.ppVerId = this.ppDisCount.ppVerId;\r\n    this.params.eq_pdBussId = this.ppDisCount.pdCmpnId;\r\n  },\r\n  methods: {\r\n    formulaViewClosed() {\r\n      this.formulaView.visible = false\r\n      this.selectedFormula = {}\r\n    },\r\n    selectedFormulaChanged() {\r\n      this.formulaView.flag = '2'\r\n      this.formulaView.ruleCode = this.selectedFormula.pdCalcCode\r\n      this.formulaView.visible = true\r\n    },\r\n    /*Formula详情*/\r\n    showFormula(code) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.ruleCode = code\r\n      this.formulaView.visible = true\r\n    },\r\n    back() {\r\n      this.$emit('changeDialogVisible_pdDiscount', false)\r\n    },\r\n    toSelectFormula() {\r\n      this.$emit('changeDialogVisible_ppDiscountSelect', true)\r\n    },\r\n    handleDeleteFormula(row) {\r\n      deleteDiscountFormula(row).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$emit('bringInCalcCode', row.pdBussId, undefined)\r\n        this.$refs.page.reload()\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style>\r\n\r\n</style>\r\n"]}]}
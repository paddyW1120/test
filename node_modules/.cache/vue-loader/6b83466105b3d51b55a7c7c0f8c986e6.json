{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\underwriting-test\\casedef\\index.vue?vue&type=style&index=0&id=f5b9a386&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\underwriting-test\\casedef\\index.vue","mtime":1615943895924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmRpdmlkZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgbWFyZ2luLWxlZnQ6IDRweDsNCn0NCg0KLmZvcm10aXRsZSB7DQogIHBhZGRpbmctdG9wOiAxMHB4Ow0KICBmb250LXNpemU6IDE1cHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5kaXZjbGFzcyB7DQogIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDAyZTsNCiAgd2lkdGg6IDczNXB4Ow0KICBoZWlnaHQ6IGF1dG87DQp9DQoNCi5jc3Qgew0KICB3aWR0aDogODBweDsNCiAgYm9yZGVyOiAwOw0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAi4CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/underwriting-test/casedef","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :label=\"$t('productUnderwritingTestCaseDefinition.CaseDefinition')\" @backTo=\"backPage\"/>\r\n\r\n    <cus-commodity-info></cus-commodity-info>\r\n    <!--测试案例-->\r\n\r\n    <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.testCase')\"/>\r\n\r\n    <el-table :data=\"configs1\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs1\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCase\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseCode')\" align=\"center\"\r\n                       prop=\"pdTestCaseCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseType')\" align=\"center\"\r\n                       prop=\"pdTestCaseType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseType | filterCaseType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testPoint')\" align=\"center\"\r\n                       prop=\"pdFuncDesc\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover v-if=\"scope.row.pdFuncDesc.length > 1\" placement=\"top\" trigger=\"hover\">\r\n            <span v-for=\"item in scope.row.pdFuncDesc\">{{ item.pd_test_func_desc }}、</span>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}...</el-tag>\r\n            </div>\r\n          </el-popover>\r\n          <el-tag v-if=\"scope.row.pdFuncDesc.length === 1\" size=\"medium\">{{ scope.row.pdFuncDesc[0].pd_test_func_desc }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.testCaseDefType')\" align=\"center\"\r\n                       prop=\"pdTestCaseDefinition\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdTestCaseDefinition | filterCaseDefinition }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.creatDate')\" align=\"center\" fixed=\"right\"\r\n                       prop=\"createTime\"></el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-if=\"scope.row.pdTestCaseDefinition === '2'\" v-auth=\"'new-single-test:downloadCase'\" class=\"filter-button\" icon=\"el-icon-download\"\r\n                     size=\"mini\" @click=\"downloadCaseDef(scope.row)\">\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'new-single-test:deleteCase'\" :disabled=\"scope.row.pdTestStatus==='1'\"\r\n                       @ok=\"deleteCaseDef(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page1\" v-model=\"configs1\" :pageSize=\"10\" :params=\"params1\"\r\n                    url=\"/underwriting-test/base/queryPdTestCase\"/>\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('productUnderwritingTestCaseDefinition.CaseDefinition')\"/>\r\n    <el-form ref=\"caseDefForm\" :model=\"CaseDefinition\" :rules=\"defRules\" class=\"demo-ruleForm\"\r\n             label-width=\"auto\" style=\"margin-left: 30px\">\r\n\r\n      <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.testPoint')\" prop=\"testPoint\">\r\n        <el-select v-model=\"CaseDefinition.testPoint\" :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\" clearable multiple\r\n                   style=\"width: 300px\">\r\n          <el-option v-for=\"item in funcSelect\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n\r\n    <cus-form-title :label=\"$t('productUnderwritingTestCaseDefinition.insuranceSelection')\"/>\r\n\r\n    <el-form ref=\"searchForm\" :model=\"insuranceSearch\" class=\"demo-ruleForm\" label-width=\"auto\"\r\n             style=\"margin-left: 30px\">\r\n      <el-row>\r\n        <el-col :span=\"5\">\r\n          <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.insuranceCode')\">\r\n            <el-input v-model=\"insuranceSearch.insuranceCode\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :offset=\"3\" :span=\"7\">\r\n          <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.effectiveDate')\">\r\n            <el-date-picker v-model=\"insuranceSearch.times\" :end-placeholder=\"$t('productSelect.productApplyEndDate')\" :range-separator=\"$t('productSelect.to')\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            :start-placeholder=\"$t('productSelect.productApplyStartDate')\" type=\"daterange\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item>\r\n            <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"searchPolicyData\">\r\n              {{ $t('productTestingUnderwriting.search') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addInsurance\">\r\n          {{ $t('productUnderwritingTestCaseDefinition.addInsurance') }}\r\n        </el-button>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.insurance')\"/>\r\n\r\n    <el-table :data=\"policyConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs2\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleSelectPolicys\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceCode')\" align=\"center\"\r\n                       prop=\"contNo\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceStartDate')\" align=\"center\"\r\n                       prop=\"effectiveDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.insuranceDetail')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button :disabled=\"scope.row.contNo !== selectedId\" :icon=\"resultIcon\"\r\n                     class=\"filter-button\" size=\"mini\" @click=\"hidePolicyDataDetail(scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div v-if=\"policyDetailShow\">\r\n      <!--产品-->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.product')\"></cus-table-title>\r\n        <el-table :data=\"productConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs5\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row\" @change=\"buildPlanData\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"\r\n                           prop=\"pdName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.effectiveDate')\" align=\"center\"\r\n                           prop=\"effectiveDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentDeadline')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n      <!--方案-->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.programInformation')\"></cus-table-title>\r\n        <el-table :data=\"planConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectConfigs6\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row\" @change=\"buildPaymentAndBnftData\">{{ '' }}</el-radio>\r\n                </span>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.programName')\" align=\"center\"\r\n                           prop=\"planName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentDeadline')\" align=\"center\"\r\n                           prop=\"insuranceEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.expiryDateOfInsurance')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n        </el-table>\r\n\r\n      </div>\r\n      <!--缴费信息-->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.paymentInformation')\"></cus-table-title>\r\n        <el-table :data=\"paymentConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentCode')\" align=\"center\"\r\n                           prop=\"paymentCode\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentName')\" align=\"center\"\r\n                           prop=\"paymentName\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.currency')\" align=\"center\"\r\n                           prop=\"currency\">\r\n            <template v-slot=\"scope\">{{ scope.row.currency | filterCurrency }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                           prop=\"premium\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premiumCalculation')\" align=\"center\"\r\n                           prop=\"premiumCalMethod\">\r\n            <template v-slot=\"scope\">{{ scope.row.premiumCalMethod | filterCalMethod }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentBeginDate')\" align=\"center\"\r\n                           prop=\"payStartDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentEndDate')\" align=\"center\"\r\n                           prop=\"payEndDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentMethod')\" align=\"center\"\r\n                           prop=\"paymentMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.paymentMode | filterFreqType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.preferentialAmount')\" align=\"center\"\r\n                           prop=\"discountMoney\"/>\r\n        </el-table>\r\n      </div>\r\n\r\n      <!--保障信息-->\r\n      <div>\r\n        <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.guaranteeInformation')\"></cus-table-title>\r\n        <el-table :data=\"bnftConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                           prop=\"pdCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                           prop=\"planCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.guaranteeCode')\" align=\"center\"\r\n                            prop=\"benefitCode\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftName')\" align=\"center\" prop=\"benefitName\"/>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftType')\" align=\"center\"  prop=\"\">\r\n            <template v-slot=\"scope\">{{ scope.row.benefitType | filterBnftType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdBnftDetailType')\" align=\"center\" prop=\"bnftDetailType\">\r\n            <template v-slot=\"scope\">{{ filterBnftDetailType(scope.row.benefitType, scope.row.bnftDetailType) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.sumAssured')\" align=\"center\"\r\n                           prop=\"amount\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.startDateOfInsurance')\" align=\"center\"\r\n                           prop=\"starBnftDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.endDateOfInsurance')\" align=\"center\"\r\n                           prop=\"endBnftDate\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.startDateOfCollection')\" align=\"center\"\r\n                           prop=\"startDateOfCollection\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.endDateOfCollection')\" align=\"center\"\r\n                           prop=\"collectionDeadline\"/>\r\n          <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.coverageForTheNextYear')\" align=\"center\"\r\n                           prop=\"nextYearAmount\"/>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    <cus-form-title :label=\"$t('productUnderwritingTestCaseDefinition.increaseDefine')\" :showArrow=\"true\"\r\n                    @show=\"showIncreaseDefine\"/>\r\n    <div v-if=\"increaseDefineFlag\">\r\n      <cus-table-title :label=\"$t('productUnderwritingTestCaseDefinition.increaseInformation')\"></cus-table-title>\r\n      <el-table :data=\"increaseConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                         prop=\"pdCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.schemeCode')\" align=\"center\"\r\n                         prop=\"planCode\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentCode')\" align=\"center\"\r\n                         prop=\"paymentCode\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.paymentName')\" align=\"center\"\r\n                         prop=\"paymentName\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.premium')\" align=\"center\"\r\n                         prop=\"premium\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseObject')\" align=\"center\"\r\n                         prop=\"increaseObject\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseMethod')\" align=\"center\"\r\n                         prop=\"increaseMethod\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseType')\" align=\"center\"\r\n                         prop=\"increaseType\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('productUnderwritingTestCaseDefinition.increaseCount')\" align=\"center\"\r\n                         prop=\"increaseCount\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"80px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"delSelectRelaPd(scope.$index,scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <el-form ref=\"insuredForm\"  :model=\"increase\" label-width=\"auto\">\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.product')\" prop=\"product\">\r\n              <el-select v-model=\"increase.product\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable>\r\n                <el-option v-for=\"item in productOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.paymentInformation')\"\r\n                          prop=\"payment\">\r\n              <el-select v-model=\"increase.payment\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable\r\n                         @change=\"findExtPremOptionsByCode\">\r\n                <el-option v-for=\"item in paymentOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increase')\" prop=\"payment\">\r\n              <el-select v-model=\"increase.increase\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable\r\n                         @change=\"findExtPermInfo\">\r\n                <el-option v-for=\"item in increaseOptions\" :key=\"item.id\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseObject')\"\r\n                          prop=\"increaseObject\">\r\n              <!-- <el-select v-model=\"increase.increaseObject\" disabled clearable>\r\n                <el-option v-for=\"item in increaseObjectOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseObject\" :codetype=\"'pdAddPremObj'\" disabled></cus-select>\r\n\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseMethod')\"\r\n                          prop=\"increaseMethod\">\r\n              <!-- <el-select v-model=\"increase.increaseMethod\" disabled clearable>\r\n                <el-option v-for=\"item in increaseMethodOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseMethod\" :codetype=\"'pd_prem_addition_addition_mode'\"\r\n                          disabled></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseType')\"\r\n                          prop=\"increaseType\">\r\n              <!-- <el-select v-model=\"increase.increaseType\" disabled clearable>\r\n                <el-option v-for=\"item in increaseTypeOptions\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select> -->\r\n              <cus-select v-model=\"increase.increaseType\" :codetype=\"'pd_prem_addition_type'\" disabled></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.comment')\">\r\n              <el-input v-model.number=\"increase.comment\" clearable>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('productUnderwritingTestCaseDefinition.increaseCount')\">\r\n              <el-input v-model.number=\"increase.increaseCount\" clearable>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col  align=\"right\">\r\n            <el-button icon=\"el-icon-plus\" size=\"small\"  type=\"primary\" @click=\"addIncrease\">\r\n              {{ $t('productUnderwritingTestCaseDefinition.add') }}\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <el-row style=\"margin-top: 35px\">\r\n      <el-col :span=\"24\" align=\"right\">\r\n        <el-button icon=\"el-icon-success\" size=\"small\"  type=\"primary\" @click=\"saveCaseDef\">\r\n          {{ $t('table.save') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport {\r\n  deleteCase,\r\n  downloadCaseDef,\r\n  downloadCaseTemplate,\r\n  findExtPremOptionsByCode,\r\n  findFuncDataById,\r\n  initElement,\r\n  queryCustomerNo,\r\n  queryPdTestFunc,\r\n  queryPolicyData,\r\n  queryRelaPd,\r\n  saveCaseDef,\r\n  uploadTestCase,\r\n} from \"@/api/basicinfo/productUnderwritingTest\";\r\n\r\nlet _this;\r\nexport default {\r\n  name: \"underwritingTestCaseDefinition\",\r\n  filters: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code];\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code];\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName(\"sex\", code, true);\r\n    },\r\n    filterRela(code) {\r\n      return _this.getCodeName(\"insuranceRelationship\", code);\r\n    },\r\n    filterRelationToInsured(code) {\r\n      return _this.getCodeName(\"relagenttoins\", code);\r\n    },\r\n    filterCurrency(code) {\r\n      return _this.getCodeName(\"currency2\", code, true);\r\n    },\r\n    filterCalMethod(code) {\r\n      return _this.getCodeName(\"pd_prem_cal_method\", code, true);\r\n    },\r\n    filterFreqType(code) {\r\n      return _this.getCodeName(\"pd_prem_freq\", code, true);\r\n    },\r\n    filterBnftType(code) {\r\n      return _this.getCodeName(\"guaranteeDetails\", code, true);\r\n    },\r\n  },\r\n  data() {\r\n    let checkAge = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(\r\n          new Error(this.$t(\"productTestingNewCaseDefinition.AppntAgemsg\"))\r\n        );\r\n      }\r\n      if (!Number.isInteger(value)) {\r\n        callback(new Error(this.$t(\"i18nView.pleaseInputNumValue\")));\r\n      } else {\r\n        if (value < 1) {\r\n          return callback(new Error(this.$t(\"i18nView.notAge\")));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    let checkSeq = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(\r\n          new Error(this.$t(\"productTestingNewCaseDefinition.AppntSeqmsg\"))\r\n        );\r\n      }\r\n      if (value < 1) {\r\n        return callback(new Error(\"不可小于1\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    _this = this;\r\n    return {\r\n      testCaseType: {\"1\": \"自动化测试\", \"2\": \"自定义测试\"},\r\n      testCaseDefinition: {\"1\": \"页面定义\", \"2\": \"上传定义\"},\r\n      selectConfigs1: \"\",\r\n      selectConfigs2: \"\",\r\n      selectConfigs3: \"\",\r\n      selectedId: \"\",\r\n      funcSelect: [],\r\n      elementDatas: {},\r\n      currentPdPageData: {},\r\n      elementRules: {},\r\n      policyDetailData: {},\r\n      increase: {},\r\n      configs1: [],\r\n      configs2: [],\r\n      configs3: [],\r\n      productConfigs: [],\r\n      planConfigs: [],\r\n      paymentConfigs: [],\r\n      bnftConfigs: [],\r\n      policyConfigs: [],\r\n      increaseConfigs: [],\r\n      productOptions: [],\r\n      paymentOptions: [],\r\n      increaseOptions: [],\r\n      increaseObjectOptions: [],\r\n      increaseMethodOptions: [],\r\n      increaseTypeOptions: [],\r\n      selectPolicys: [],\r\n      selectConfigs5: \"\",\r\n      selectConfigs6: \"\",\r\n      testCaseUpdateFlag: false,\r\n      increaseDefineFlag: false,\r\n      resultIcon: \"el-icon-arrow-down\",\r\n      relaPdList: [],\r\n      relaPdSelect: [],\r\n      relaPdEditionSelect: [],\r\n      relaPdPageEleDatas: [],\r\n      relaPdForm: {\r\n        relaPdSed: \"\",\r\n        relaPdEditionSed: \"\",\r\n      },\r\n      relaPdRules: {\r\n        relaPdSed: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.relaPdmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        relaPdEditionSed: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\r\n              \"productTestingNewCaseDefinition.relaPdEditionmsg\"\r\n            ),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      relaPdCode: \"\",\r\n      relaPdEdition: \"\",\r\n      relaElementDatas: {},\r\n      relaElementShow: false,\r\n      tableFlag: false,\r\n      quickicon: \"el-icon-arrow-right\",\r\n      fileList: [],\r\n      params1: {},\r\n      params2: {},\r\n      pdInfo: {\r\n        pdInfoId: \"\",\r\n        commodityType: \"\",\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: \"\",\r\n        pdCode: \"\",\r\n        pdName: \"\",\r\n        pdEdition: \"\",\r\n        pdTestCaseDesc: \"\",\r\n        testPoint: \"\",\r\n      },\r\n      defRules: {\r\n        pdTestCaseDesc: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.casedescmsg\"),\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        testPoint: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.testpointmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      CaseDetails: {},\r\n      customers: [],\r\n      policy: [],\r\n      policyUpdateFlag: false,\r\n      policyHolder: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"policyholder\",\r\n        appntSeq: 1,\r\n        appntAge: \"\",\r\n        appntNo: \"\",\r\n        appntSex: \"\",\r\n        ageUnit: \"Y\",\r\n        smokeFlag: \"N\",\r\n        relationToInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      policyHolderRules: {\r\n        appntSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        appntAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        appntSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      insuredUpdateFlag: false,\r\n      insured: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"insured\",\r\n        insuredSeq: 1,\r\n        insuredAppAge: \"\",\r\n        ageUnit: \"Y\",\r\n        insuredNo: \"\",\r\n        insuredSex: \"\",\r\n        smokeFlag: \"N\",\r\n        relationToMInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      insuredRules: {\r\n        insuredSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        insuredAppAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        insuredSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      beneficiary: {\r\n        pKey: \"\",\r\n        customerRole: \"\",\r\n        customerCode: \"beneficiary\",\r\n        bnfSeq: 1,\r\n        belToInsuredSeq: \"\",\r\n        bnfAge: \"\",\r\n        ageUnit: \"Y\",\r\n        bnfNo: \"\",\r\n        bnfSex: \"\",\r\n        smokeFlag: \"N\",\r\n        relationToInsured: \"\",\r\n        occupationType: \"\",\r\n        salary: \"\",\r\n      },\r\n      beneficiaryRules: {\r\n        bnfSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        belToInsuredSeq: [{validator: checkSeq, trigger: \"blur\"}],\r\n        bnfAge: [{validator: checkAge, trigger: \"blur\"}],\r\n        bnfSex: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"productTestingNewCaseDefinition.AppntSexmsg\"),\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      beneficiaryFormFlag: false,\r\n      bnfUpdateFlag: false,\r\n      relaUpdateFlag: false,\r\n      dialogTableVisible1: false,\r\n      policyDetailShow: false,\r\n      //检验规则\r\n      rules: {},\r\n      insuranceSearch: {\r\n        pdInfoId: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdInfo = this.getJsonData(\"pdTestInfo\");\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id;\r\n      this.pdInfo.pdInfoId = pdInfo.id;\r\n      this.insuranceSearch.pdInfoId = pdInfo.id;\r\n      this.pdInfo.commodityType = pdInfo.commodityType;\r\n\r\n      this.CaseDefinition.pdInfoId = pdInfo.id;\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode;\r\n      this.CaseDefinition.pdName = pdInfo.pdName;\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition;\r\n\r\n      this.initTestFuncSelect(\"underwritingtest\", pdInfo.id);\r\n      this.initElement(pdInfo.pdCode, pdInfo.id);\r\n      this.findFuncDataById(pdInfo.id);\r\n    }\r\n  },\r\n  methods: {\r\n    findFuncDataById(pdInfoId) {\r\n      findFuncDataById(\r\n        this.buildRequestData({\r\n          pdInfoId: pdInfoId,\r\n        })\r\n      ).then((res) => {\r\n        this.policyConfigs = res.data;\r\n      });\r\n    },\r\n    filterCustomerNo(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntNo;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredNo;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfNo;\r\n      }\r\n    },\r\n    filterSeq(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntSeq;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredSeq;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfSeq;\r\n      }\r\n    },\r\n    filterSex(row) {\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntSex;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredSex;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfSex;\r\n      }\r\n    },\r\n    filterAge(row) {\r\n      let unit = \"\";\r\n      if (row.ageUnit === \"Y\") {\r\n        unit = \"(岁)\";\r\n      }\r\n      if (row.ageUnit === \"D\") {\r\n        unit = \"(天)\";\r\n      }\r\n      if (row.customerCode === \"policyholder\") {\r\n        return row.appntAge + unit;\r\n      } else if (row.customerCode === \"insured\") {\r\n        return row.insuredAppAge + unit;\r\n      } else if (row.customerCode === \"beneficiary\") {\r\n        return row.bnfAge + unit;\r\n      }\r\n    },\r\n    filterBnftDetailType(code, sencode) {\r\n      return this.getCodeName(\"guaranteeDetails.\" + code, sencode, true);\r\n    },\r\n    addInsurance() {\r\n      this.$router.push({\r\n        path: \"/product-testing/underwriting-test/underwriting-test-addpolicy\",\r\n      });\r\n    },\r\n    savePolicyHolder() {\r\n      this.$refs.policyForm.validate((pass) => {\r\n        if (pass) {\r\n          //查询客户号\r\n          queryCustomerNo(\r\n            this.buildRequestData({\r\n              sex: this.policyHolder.appntSex,\r\n              age: this.policyHolder.appntAge,\r\n            })\r\n          ).then((res) => {\r\n            let customNo = res.data;\r\n            if (customNo) {\r\n              this.policyHolder.appntNo = res.data;\r\n              if (this.policyUpdateFlag) {\r\n                //当前为更新\r\n                let currentKey = this.policyHolder.pKey;\r\n                let temp = Object.assign({}, this.policyHolder);\r\n                this.customers = this.customers.map((item) =>\r\n                  item.pKey === currentKey ? temp : item\r\n                );\r\n                this.policyUpdateFlag = false;\r\n              } else {\r\n                this.policyHolder.pKey = \"policy\" + (this.customers.length + 1);\r\n                this.policyHolder.customerRole = \"投保人\";\r\n                let temp = Object.assign({}, this.policyHolder);\r\n                this.customers.push(temp);\r\n              }\r\n              this.$refs.policyForm.resetFields();\r\n              this.policyHolder.appntSeq = this.policyHolder.appntSeq + 1;\r\n              this.policyHolder.appntNo = \"\";\r\n            } else {\r\n              this.notifyError(\r\n                this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    saveInsured() {\r\n      this.$refs[\"insuredForm\"].validate((pass) => {\r\n        if (pass) {\r\n          //查询客户号\r\n          queryCustomerNo(\r\n            this.buildRequestData({\r\n              sex: this.insured.insuredSex,\r\n              age: this.insured.insuredAppAge,\r\n            })\r\n          ).then((res) => {\r\n            let customNo = res.data;\r\n            if (customNo) {\r\n              this.insured.insuredNo = res.data;\r\n              if (this.insuredUpdateFlag) {\r\n                //当前为更新\r\n                let currentKey = this.insured.pKey;\r\n                let temp = Object.assign({}, this.insured);\r\n                this.customers = this.customers.map((item) =>\r\n                  item.pKey === currentKey ? temp : item\r\n                );\r\n                this.insuredUpdateFlag = false;\r\n              } else {\r\n                this.insured.pKey = \"insured\" + (this.customers.length + 1);\r\n                this.insured.customerRole = \"被保人\";\r\n                let temp = Object.assign({}, this.insured);\r\n                this.customers.push(temp);\r\n              }\r\n              this.$refs.insuredForm.resetFields();\r\n              this.insured.insuredSeq = this.insured.insuredSeq + 1;\r\n              this.insured.insuredNo = \"\";\r\n            } else {\r\n              this.notifyError(\r\n                this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    showBeneficiaryForm() {\r\n      this.beneficiaryFormFlag = !this.beneficiaryFormFlag;\r\n    },\r\n    saveBeneficiary() {\r\n      let insuredSeq = this.beneficiary.belToInsuredSeq;\r\n\r\n      this.$refs[\"bnfForm\"].validate((pass) => {\r\n        if (pass) {\r\n          //校验被保人序列存在\r\n          if (\r\n            this.customers.filter(\r\n              (res) =>\r\n                res.customerCode === \"insured\" && res.insuredSeq === insuredSeq\r\n            ).length > 0\r\n          ) {\r\n            //查询客户号\r\n            queryCustomerNo(\r\n              this.buildRequestData({\r\n                sex: this.beneficiary.bnfSex,\r\n                age: this.beneficiary.bnfAge,\r\n              })\r\n            ).then((res) => {\r\n              let customNo = res.data;\r\n              if (customNo) {\r\n                this.beneficiary.bnfNo = res.data;\r\n                if (this.bnfUpdateFlag) {\r\n                  //当前为更新\r\n                  let currentKey = this.beneficiary.pKey;\r\n                  let temp = Object.assign({}, this.beneficiary);\r\n                  this.customers = this.customers.map((item) =>\r\n                    item.pKey === currentKey ? temp : item\r\n                  );\r\n                  this.bnfUpdateFlag = false;\r\n                } else {\r\n                  this.beneficiary.pKey = \"bnf\" + (this.customers.length + 1);\r\n                  this.beneficiary.customerRole = \"受益人\";\r\n                  let temp = Object.assign({}, this.beneficiary);\r\n                  this.customers.push(temp);\r\n                }\r\n                this.$refs.bnfForm.resetFields();\r\n                this.beneficiary.bnfSeq = this.insured.bnfSeq + 1;\r\n                this.beneficiary.bnfNo = \"\";\r\n              } else {\r\n                this.notifyError(\r\n                  this.$t(\"productTestingNewCaseDefinition.customNoErrorMsg\")\r\n                );\r\n              }\r\n            });\r\n          } else {\r\n            this.notifyError(\r\n              this.$t(\r\n                \"productTestingNewCaseDefinition.notExistInsureSeqErrorMsg\"\r\n              )\r\n            );\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delCustomer(row) {\r\n      this.customers = this.customers.filter((data) => data.pKey !== row.pKey);\r\n      this.$refs.policyHolder.resetFields();\r\n    },\r\n    handleSelectPolicys(row) {\r\n      this.initProductOptions(row);\r\n      this.policyDetailShow = true;\r\n      this.resultIcon = \"el-icon-arrow-up\";\r\n      this.selectedId = row.contNo;\r\n      this.policyDetailData = row;\r\n      this.productConfigs = row.products;\r\n      this.planConfigs = row.plans;\r\n      this.paymentConfigs = row.payments;\r\n      this.bnftConfigs = row.bnfts;\r\n      this.selectPolicys = row;\r\n    },\r\n    buildPlanData(row) {\r\n      this.planConfigs = this.policyDetailData.plans.filter(\r\n        (plan) => plan.pdCode === row.pdCode\r\n      );\r\n    },\r\n    buildPaymentAndBnftData(row) {\r\n      this.paymentConfigs = this.policyDetailData.payments.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n      this.bnftConfigs = this.policyDetailData.bnfts.filter(\r\n        (payment) => payment.planCode === row.planCode\r\n      );\r\n    },\r\n    showIncreaseDefine() {\r\n      this.increaseDefineFlag = !this.increaseDefineFlag;\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + \"上传定义.xlsm\";\r\n      downloadCaseDef(\r\n        this.buildRequestData({testCasePath: row.pdTestCasePath})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, fileName);\r\n      });\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then((res) => {\r\n        this.notifySuccess(this.$t(\"successMessage.delete\"));\r\n        this.$refs.page1.reload();\r\n        this.resetCaseDef();\r\n      });\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = \"\";\r\n      this.CaseDefinition.pdTestCaseDesc = \"\";\r\n      this.CaseDefinition.testPoint = \"\";\r\n      this.testCaseUpdateFlag = false;\r\n      this.customers = [];\r\n      this.currentPdPageData = {};\r\n      this.relaPdPageEleDatas = [];\r\n      this.configs3 = [];\r\n      this.tableFlag = false;\r\n      this.relaElementShow = false;\r\n      this.initElement(\r\n        this.CaseDefinition.pdCode,\r\n        this.CaseDefinition.pdInfoId\r\n      );\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true;\r\n      this.CaseDefinition.id = row.id;\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId;\r\n      this.CaseDefinition.pdCode = row.pdCode;\r\n      this.CaseDefinition.pdEdition = row.pdEdition;\r\n      this.CaseDefinition.pdName = row.pdName;\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc;\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(\r\n        (data) => data.pd_test_func_id\r\n      );\r\n      //处理data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData);\r\n\r\n      let data = pdTestCaseData.testData;\r\n\r\n      this.customers = data.customers;\r\n      this.currentPdPageData = data.currentPdPageData;\r\n      this.relaPdPageEleDatas = data.relaPdPageData;\r\n\r\n      if (this.pdInfo.commodityType === \"R\") {\r\n        //回显险种定义页面的栏位\r\n\r\n        //不能直接遍历赋值 需使用中间转换\r\n        let temp = JSON.parse(JSON.stringify(this.elementDatas));\r\n        temp.forEach((tem) => {\r\n          tem.config.defaultValue = this.currentPdPageData[tem.vModel];\r\n        });\r\n        this.elementDatas = temp;\r\n        this.queryRelaPdData();\r\n      }\r\n    },\r\n    initElement(pdCode, pdInfoId) {\r\n      let data = {\r\n        pdCode: pdCode,\r\n        pdInfoId: pdInfoId,\r\n      };\r\n      initElement(this.buildRequestData(data)).then((response) => {\r\n        this.elementDatas = response.data;\r\n      });\r\n    },\r\n    initProductOptions(data) {\r\n      this.productOptions = [];\r\n      this.paymentOptions = [];\r\n      data.products.forEach((product) => {\r\n        this.productOptions.push({\r\n          label: product.pdCode + \":\" + product.pdName,\r\n          value: product.pdCode,\r\n        });\r\n      });\r\n      data.payments.forEach((payment) => {\r\n        this.paymentOptions.push({\r\n          label: payment.paymentCode + \":\" + payment.paymentName,\r\n          value: JSON.stringify(payment),\r\n        });\r\n      });\r\n    },\r\n    findExtPremOptionsByCode(code) {\r\n      let payment = JSON.parse(code);\r\n      this.increaseObjectOptions = [];\r\n      this.increaseMethodOptions = [];\r\n      this.increaseTypeOptions = [];\r\n      findExtPremOptionsByCode(\r\n        this.buildRequestData({\r\n          code: payment.paymentCode,\r\n        })\r\n      ).then((res) => {\r\n        let data = res.data;\r\n        if (data) {\r\n          data.forEach((extPrem) => {\r\n            this.increaseOptions.push({\r\n              label: extPrem.pdExtPremCode + \":\" + extPrem.pdExtPremName,\r\n              value: JSON.stringify(extPrem),\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    findExtPermInfo(data) {\r\n      if (data) {\r\n        let extPrem = JSON.parse(data);\r\n        this.increase.increaseObject = extPrem.pdExtPremObj;\r\n        this.increase.increaseMethod = extPrem.pdExtPremMode;\r\n        this.increase.increaseType = extPrem.pdExtPremType;\r\n      } else {\r\n        this.increase.increaseObject = \"\";\r\n        this.increase.increaseMethod = \"\";\r\n        this.increase.increaseType = \"\";\r\n      }\r\n    },\r\n    addIncrease() {\r\n      let increase = {\r\n        pdCode: this.increase.product,\r\n        planCode: JSON.parse(this.increase.payment).planCode,\r\n        paymentCode: JSON.parse(this.increase.payment).paymentCode,\r\n        paymentName: JSON.parse(this.increase.payment).paymentName,\r\n        premium: JSON.parse(this.increase.payment).premium,\r\n        increaseCode: JSON.parse(this.increase.increase).pdExtPremCode,\r\n        increaseObject: this.increase.increaseObject,\r\n        increaseMethod: this.increase.increaseMethod,\r\n        increaseType: this.increase.increaseType,\r\n        increaseCount: this.increase.increaseCount,\r\n        comment: this.increase.comment,\r\n      };\r\n      this.increaseConfigs.push(increase);\r\n    },\r\n    buildElementRules() {\r\n      if (this.elementDatas) {\r\n        for (let i = 0; i < this.elementDatas.length; i++) {\r\n          let ele = this.elementDatas[i];\r\n          ele[ele.vModel] = ele.config.defaultValue;\r\n          if (ele.required) {\r\n            this.elementRules[ele.vModel] = [\r\n              {\r\n                required: true,\r\n                message: \"请输入\" + ele.label,\r\n                trigger: ele.type === \"select\" ? \"change\" : \"blur\",\r\n              },\r\n            ];\r\n          }\r\n        }\r\n      }\r\n    },\r\n    queryRelaPdData() {\r\n      this.tableFlag = !this.tableFlag;\r\n      if (this.tableFlag) {\r\n        let data = {pdInfoId: this.pdInfo.pdInfoId};\r\n        queryRelaPd(this.buildRequestData(data)).then((res) => {\r\n          let list = res.data;\r\n          this.relaPdList = res.data;\r\n          this.relaPdSelect = [];\r\n          for (let i = 0; i < list.length; i++) {\r\n            let data = list[i];\r\n            this.relaPdSelect.push({\r\n              label: data.pdRelaItemVal + \":\" + data.pdRelaItemName,\r\n              value: data.pdRelaItemVal,\r\n            });\r\n          }\r\n\r\n          //回填数据\r\n          if (this.relaPdPageEleDatas && this.relaPdPageEleDatas.length > 0) {\r\n            this.configs3 = [];\r\n            this.relaPdPageEleDatas.forEach((data) => {\r\n              let pdCode = data.relaPdCode;\r\n              let pdEdition = data.relaPdEdition;\r\n              let tempData = this.relaPdList.filter(\r\n                (data2) =>\r\n                  data2.pdRelaItemVal === pdCode &&\r\n                  data2.pdRelaItemEdition === pdEdition\r\n              )[0];\r\n              tempData[\"defStatus\"] = \"Y\";\r\n              this.configs3.push(tempData);\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    queryPdEdtion(val) {\r\n      this.relaPdEditionSelect = [];\r\n      this.relaPdList\r\n        .filter((data) => data.pdRelaItemVal === val)\r\n        .forEach((data) => {\r\n          this.relaPdEditionSelect.push({\r\n            label: data.pdRelaItemEdition,\r\n            value: data.pdRelaItemEdition,\r\n          });\r\n        });\r\n      this.relaPdForm.relaPdEditionSed = \"\";\r\n    },\r\n    searchPolicyData() {\r\n      if (this.insuranceSearch.time) {\r\n        this.insuranceSearch.startDate = this.insuranceSearch.time[0];\r\n        this.insuranceSearch.endDate = this.insuranceSearch.time[1];\r\n      } else {\r\n        this.insuranceSearch.startDate = \"\";\r\n        this.insuranceSearch.endDate = \"\";\r\n      }\r\n      let params = {\r\n        pdInfoId: this.params1.pdInfoId,\r\n        contNo: this.insuranceSearch.insuranceCode,\r\n        startDate: this.insuranceSearch.startDate,\r\n        endDate: this.insuranceSearch.endDate,\r\n      };\r\n\r\n      queryPolicyData(this.buildRequestData(params)).then((res) => {\r\n        this.policys = res.data;\r\n      });\r\n    },\r\n    initRelaPdTableData() {\r\n      this.$refs.relaPdForm.validate((pass) => {\r\n        if (pass) {\r\n          let pdCode = this.relaPdForm.relaPdSed;\r\n          let pdEdition = this.relaPdForm.relaPdEditionSed;\r\n          this.relaElementShow = false;\r\n          let flag = this.configs3.some((data) => {\r\n            return (\r\n              data.pdRelaItemVal === pdCode &&\r\n              data.pdRelaItemEdition === pdEdition\r\n            );\r\n          });\r\n          if (!flag) {\r\n            let tempData = this.relaPdList.filter(\r\n              (data2) =>\r\n                data2.pdRelaItemVal === pdCode &&\r\n                data2.pdRelaItemEdition === pdEdition\r\n            )[0];\r\n            tempData[\"defStatus\"] = \"N\";\r\n            this.configs3.push(tempData);\r\n            this.selectConfigs3 = \"\";\r\n          } else {\r\n            this.notifyError(\r\n              this.$t(\"productTestingNewCaseDefinition.relaAddMsg\")\r\n            );\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delSelectRelaPd(index, row) {\r\n      this.increaseConfigs.splice(index, 1);\r\n      this.relaPdPageEleDatas = this.relaPdPageEleDatas.filter(\r\n        (data2) =>\r\n          !(\r\n            row.pdRelaItemVal === data2.relaPdCode &&\r\n            row.pdRelaItemEdition === data2.relaPdEdition\r\n          )\r\n      );\r\n    },\r\n    saveRelaPdPageElement() {\r\n      let data = {};\r\n      let result = {};\r\n      let flag = true;\r\n      for (let i = 0; i < this.relaElementDatas.length; i++) {\r\n        let data = this.relaElementDatas[i];\r\n        if (data.required) {\r\n          if (!data.config.defaultValue) {\r\n            flag = false;\r\n            this.notifyError(\"请输入\" + data.label);\r\n            break;\r\n          }\r\n        }\r\n        result[data.vModel] = data.config.defaultValue;\r\n      }\r\n      if (flag) {\r\n        data[\"relaPdCode\"] = this.relaPdCode;\r\n        data[\"relaPdEdition\"] = this.relaPdEdition;\r\n        data[\"param\"] = result;\r\n        if (this.relaUpdateFlag) {\r\n          this.relaPdPageEleDatas = this.relaPdPageEleDatas.map((item) =>\r\n            item.relaPdCode === this.relaPdCode &&\r\n            item.relaPdEdition === this.relaPdEdition\r\n              ? data\r\n              : item\r\n          );\r\n          this.notifySuccess(this.$t(\"successMessage.update\"));\r\n        } else {\r\n          this.relaPdPageEleDatas.push(data);\r\n          let tempConfigs3 = JSON.parse(JSON.stringify(this.configs3));\r\n          tempConfigs3.forEach((con) => {\r\n            if (\r\n              con.pdRelaItemVal === this.relaPdCode &&\r\n              con.pdRelaItemEdition === this.relaPdEdition\r\n            ) {\r\n              con.defStatus = \"Y\";\r\n            }\r\n          });\r\n          this.configs3 = tempConfigs3;\r\n          console.log(this.configs3);\r\n          this.notifySuccess(this.$t(\"successMessage.add\"));\r\n        }\r\n        this.relaUpdateFlag = true;\r\n      }\r\n    },\r\n    handleRelaPd(row) {\r\n      this.relaPdEdition = row.pdRelaItemEdition;\r\n      this.relaPdCode = row.pdRelaItemVal;\r\n      let data = {\r\n        pdCode: row.pdRelaItemVal,\r\n        pdInfoId: row.pdRelaItemId,\r\n      };\r\n      this.relaElementShow = false;\r\n      this.relaUpdateFlag = false;\r\n      initElement(this.buildRequestData(data)).then((response) => {\r\n        this.relaElementDatas = response.data;\r\n        let temp = JSON.parse(JSON.stringify(this.relaElementDatas)); //深克隆\r\n        if (this.relaElementDatas.length > 0) {\r\n          this.relaElementShow = true;\r\n          //回显当前搭配产品下险种页面的数据\r\n          this.relaPdPageEleDatas\r\n            .filter(\r\n              (reladata) =>\r\n                reladata.relaPdCode === data.pdCode &&\r\n                reladata.relaPdEdition === this.relaPdEdition\r\n            )\r\n            .forEach((temp2) => {\r\n              let param = temp2.param;\r\n              temp.forEach((rela) => {\r\n                rela.config.defaultValue = param[rela.vModel];\r\n                this.relaUpdateFlag = true;\r\n              });\r\n            });\r\n          this.relaElementDatas = temp;\r\n        }\r\n      });\r\n    },\r\n    saveCaseDef() {\r\n      this.$refs.caseDefForm.validate((pass) => {\r\n        if (pass) {\r\n          console.log(this.selectPolicys);\r\n          if (this.selectPolicys) {\r\n            this.CaseDefinition[\"data\"] = {};\r\n            //保存产品险种定制页面信息\r\n            let result = {};\r\n            result[\"productCode\"] = this.CaseDefinition.pdCode;\r\n            result[\"productVersionNo\"] = this.CaseDefinition.pdEdition;\r\n            this.CaseDefinition.data[\"policy\"] = this.selectConfigs2;\r\n            this.CaseDefinition.data[\"addFeeData\"] = this.increaseConfigs;\r\n            //保存入库\r\n            saveCaseDef(this.buildRequestData(this.CaseDefinition)).then(\r\n              (res) => {\r\n                this.notifySuccess(this.$t(\"successMessage.save\"));\r\n                this.$refs.page1.reload();\r\n                this.resetCaseDef();\r\n              }\r\n            );\r\n          } else {\r\n            this.notifyError(\"请选择一张保单\");\r\n          }\r\n        } else {\r\n          this.focusItem();\r\n        }\r\n      });\r\n    },\r\n    initTestFuncSelect(testModuleCode, pdInfoId) {\r\n      this.funcSelect = [];\r\n      queryPdTestFunc(\r\n        this.buildRequestData({\r\n          testModuleCode: testModuleCode,\r\n          pdInfoId: pdInfoId,\r\n        })\r\n      ).then((res) => {\r\n        let funcs = res.data;\r\n        for (let i = 0; i < funcs.length; i++) {\r\n          let data = funcs[i];\r\n          this.funcSelect.push({\r\n            label: data.pdTestFuncCode + \":\" + data.pdTestFuncDesc,\r\n            value: data.id,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    templateDownload() {\r\n      downloadCaseTemplate(\r\n        this.buildRequestData({testModule: \"new-single-test\"})\r\n      ).then((res) => {\r\n        this.downloadResponseFile(res, \"NewSingleTestCaseTemplate.xlsm\");\r\n      });\r\n    },\r\n    openUploadDialog() {\r\n      this.dialogTableVisible1 = true;\r\n    },\r\n    hidePolicyDataDetail() {\r\n      if (this.resultIcon === \"el-icon-arrow-down\") {\r\n        this.policyDetailShow = true;\r\n        this.resultIcon = \"el-icon-arrow-up\";\r\n      } else if (this.resultIcon === \"el-icon-arrow-up\") {\r\n        this.policyDetailShow = false;\r\n        this.resultIcon = \"el-icon-arrow-down\";\r\n      }\r\n    },\r\n    testCaseUpload() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError(\"请选择上传的文件\");\r\n      } else {\r\n        let formData = this.uploadUtil(this.fileList);\r\n        formData.append(\"pdInfoId\", this.CaseDefinition.pdInfoId);\r\n        uploadTestCase(formData).then((res) => {\r\n          this.notifySuccess(\"上传成功\");\r\n          this.$refs.upload.clearFiles();\r\n          this.back1();\r\n          this.$refs.page1.reload();\r\n        });\r\n      }\r\n    },\r\n    back1() {\r\n      this.dialogTableVisible1 = false;\r\n    },\r\n    backPage() {\r\n      this.$router.push({path: \"/product-testing/underwriting-test/underwriting-test-detail\"});\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      if (fileList.length > 1) {\r\n        for (let i = 0; i < fileList.length - 1; i++) {\r\n          if (file.name === fileList[i].name) {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: \"上传文件名不能重复!\",\r\n              duration: 2000,\r\n            });\r\n            fileList.pop();\r\n          }\r\n        }\r\n      }\r\n      this.fileList = fileList;\r\n\r\n      /*\r\n       var msg = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n       //判断文件格式\r\n       if (!(msg === 'xls' || msg === 'xlsx')) {\r\n         this.$notify.error({\r\n           title: '错误',\r\n           message: '上传文件只能是 xls、xlsx格式!',\r\n           duration: 200\r\n         })\r\n         return\r\n       }*/\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        // this.$refs.fileUpload.clearFiles()\r\n        this.$notify.error({\r\n          title: \"错误\",\r\n          message: \"上传文件大小不能超过 10MB!\",\r\n          duration: 500,\r\n        });\r\n        return;\r\n      }\r\n    },\r\n    //文件超出个数限制时的钩子\r\n    handleExceed(files, fileList) {\r\n      this.$notify.warning({\r\n        title: \"提示\",\r\n        message: \"最多上传三个文件,替换请先移除！\",\r\n        duration: 1000,\r\n      });\r\n    },\r\n    handleResult(response, file, fileList) {\r\n      if (response.success) {\r\n      } else {\r\n        this.$message.error(`上传文件失败`);\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.formtitle {\r\n  padding-top: 10px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n.cst {\r\n  width: 80px;\r\n  border: 0;\r\n}\r\n</style>\r\n\r\n"]}]}
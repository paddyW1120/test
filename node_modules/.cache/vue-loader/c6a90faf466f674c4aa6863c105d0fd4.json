{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\DraggableItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\pdgenlpgelinfo\\draggable\\DraggableItem.vue","mtime":1609847106588},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZScNCmltcG9ydCByZW5kZXIgZnJvbSAnQC9jb21wb25lbnRzL3JlbmRlci9yZW5kZXInDQoNCmNvbnN0IGNvbXBvbmVudHMgPSB7DQogIGl0ZW1CdG5zKGgsIGVsZW1lbnQsIGluZGV4LCBwYXJlbnQpIHsNCiAgICBjb25zdCB7ZGVsZXRlSXRlbSB9ID0gdGhpcy4kbGlzdGVuZXJzDQogICAgcmV0dXJuIFsNCiAgICAgIDxzcGFuIGNsYXNzPSJkcmF3aW5nLWl0ZW0tZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbkNsaWNrPXtldmVudCA9PiB7DQogICAgICAgIGRlbGV0ZUl0ZW0oaW5kZXgsIHBhcmVudCk7IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpDQogICAgICB9fT4NCiAgICAgICAgPGkgY2xhc3M9ImVsLWljb24tZGVsZXRlIiAvPg0KICAgICAgPC9zcGFuPg0KICAgIF0NCiAgfQ0KfQ0KY29uc3QgbGF5b3V0cyA9IHsNCiAgY29sRm9ybUl0ZW0oaCwgZWxlbWVudCwgaW5kZXgsIHBhcmVudCkgew0KICAgIGNvbnN0IHsgYWN0aXZlSXRlbSB9ID0gdGhpcy4kbGlzdGVuZXJzDQogICAgY29uc3QgY29uZmlnID0gZWxlbWVudC5jb25maWcNCiAgICBsZXQgY2xhc3NOYW1lID0gdGhpcy5hY3RpdmVJZCA9PT0gY29uZmlnLmZvcm1JZCA/ICdkcmF3aW5nLWl0ZW0gYWN0aXZlLWZyb20taXRlbScgOiAnZHJhd2luZy1pdGVtJw0KICAgIGlmICh0aGlzLmZvcm1Db25mLnVuRm9jdXNlZENvbXBvbmVudEJvcmRlcikgY2xhc3NOYW1lICs9ICcgdW5mb2N1cy1ib3JkZXJlZCcNCiAgICBsZXQgbGFiZWxXaWR0aCA9ICcxNjBweCcNCiAgICBpZiAoY29uZmlnLnNob3dMYWJlbCA9PT0gZmFsc2UpIGxhYmVsV2lkdGggPSAnMCcNCiAgICByZXR1cm4gKA0KICAgICAgPGVsLWNvbCBzcGFuPXtjb25maWcuc3Bhbn0gY2xhc3M9e2NsYXNzTmFtZX0NCiAgICAgICAgbmF0aXZlT25DbGljaz17ZXZlbnQgPT4geyBhY3RpdmVJdGVtKGVsZW1lbnQpOyBldmVudC5zdG9wUHJvcGFnYXRpb24oKSB9fT4NCiAgICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbC13aWR0aD17bGFiZWxXaWR0aH0NCiAgICAgICAgICBsYWJlbD17Y29uZmlnLnNob3dMYWJlbCA/IGNvbmZpZy5sYWJlbCA6ICcnfSByZXF1aXJlZD17Y29uZmlnLnJlcXVpcmVkfT4NCiAgICAgICAgICA8cmVuZGVyIGtleT17Y29uZmlnLnJlbmRlcktleX0gY29uZj17ZWxlbWVudH0gb25JbnB1dD17IGV2ZW50ID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHNldChjb25maWcsICdkZWZhdWx0VmFsdWUnLCBldmVudCkNCiAgICAgICAgICB9fSAvPg0KICAgICAgICA8L2VsLWZvcm0taXRlbT4NCiAgICAgICAge2NvbXBvbmVudHMuaXRlbUJ0bnMuYXBwbHkodGhpcywgYXJndW1lbnRzKX0NCiAgICAgIDwvZWwtY29sPg0KICAgICkNCiAgfSwNCiAgcm93Rm9ybUl0ZW0oaCwgZWxlbWVudCwgaW5kZXgsIHBhcmVudCkgew0KICAgIGNvbnN0IHsgYWN0aXZlSXRlbSB9ID0gdGhpcy4kbGlzdGVuZXJzDQogICAgY29uc3QgY2xhc3NOYW1lID0gdGhpcy5hY3RpdmVJZCA9PT0gZWxlbWVudC5jb25maWcuZm9ybUlkDQogICAgICA/ICdkcmF3aW5nLXJvdy1pdGVtIGFjdGl2ZS1mcm9tLWl0ZW0nDQogICAgICA6ICdkcmF3aW5nLXJvdy1pdGVtJw0KICAgIGxldCBjaGlsZCA9IHJlbmRlckNoaWxkcmVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykNCiAgICBpZiAoZWxlbWVudC50eXBlID09PSAnZmxleCcpIHsNCiAgICAgIGNoaWxkID0gPGVsLXJvdyB0eXBlPXtlbGVtZW50LnR5cGV9IGp1c3RpZnk9e2VsZW1lbnQuanVzdGlmeX0gYWxpZ249e2VsZW1lbnQuYWxpZ259Pg0KICAgICAgICAgICAgICB7Y2hpbGR9DQogICAgICAgICAgICA8L2VsLXJvdz4NCiAgICB9DQogICAgcmV0dXJuICgNCiAgICAgIDxlbC1jb2wgc3Bhbj17ZWxlbWVudC5jb25maWcuc3Bhbn0+DQogICAgICAgIDxlbC1yb3cgZ3V0dGVyPXtlbGVtZW50LmNvbmZpZy5ndXR0ZXJ9IGNsYXNzPXtjbGFzc05hbWV9DQogICAgICAgICAgbmF0aXZlT25DbGljaz17ZXZlbnQgPT4geyBhY3RpdmVJdGVtKGVsZW1lbnQpOyBldmVudC5zdG9wUHJvcGFnYXRpb24oKSB9fT4NCiAgICAgICAgICA8c3BhbiBjbGFzcz0iY29tcG9uZW50LW5hbWUiPntlbGVtZW50LmNvbmZpZy5jb21wb25lbnROYW1lfTwvc3Bhbj4NCiAgICAgICAgICA8ZHJhZ2dhYmxlIGxpc3Q9e2VsZW1lbnQuY29uZmlnLmNoaWxkcmVufSBhbmltYXRpb249ezM0MH0gZ3JvdXA9ImNvbXBvbmVudHNHcm91cCIgY2xhc3M9ImRyYWctd3JhcHBlciI+DQogICAgICAgICAgICB7Y2hpbGR9DQogICAgICAgICAgPC9kcmFnZ2FibGU+DQogICAgICAgICAge2NvbXBvbmVudHMuaXRlbUJ0bnMuYXBwbHkodGhpcywgYXJndW1lbnRzKX0NCiAgICAgICAgPC9lbC1yb3c+DQogICAgICA8L2VsLWNvbD4NCiAgICApDQogIH0NCn0NCg0KZnVuY3Rpb24gcmVuZGVyQ2hpbGRyZW4oaCwgZWxlbWVudCwgaW5kZXgsIHBhcmVudCkgew0KICBjb25zdCBjb25maWcgPSBlbGVtZW50LmNvbmZpZw0KICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSkgcmV0dXJuIG51bGwNCiAgcmV0dXJuIGNvbmZpZy5jaGlsZHJlbi5tYXAoKGVsLCBpKSA9PiB7DQogICAgY29uc3QgbGF5b3V0ID0gbGF5b3V0c1tlbC5jb25maWcubGF5b3V0XQ0KICAgIGlmIChsYXlvdXQpIHsNCiAgICAgIHJldHVybiBsYXlvdXQuY2FsbCh0aGlzLCBoLCBlbCwgaSwgY29uZmlnLmNoaWxkcmVuKQ0KICAgIH0NCiAgICByZXR1cm4gbGF5b3V0SXNOb3RGb3VuZC5jYWxsKHRoaXMpDQogIH0pDQp9DQoNCmZ1bmN0aW9uIGxheW91dElzTm90Rm91bmQoKSB7DQogIHRocm93IG5ldyBFcnJvcihg5rKh5pyJ5LiOJHt0aGlzLmVsZW1lbnQuY29uZmlnLmxheW91dH3ljLnphY3nmoRsYXlvdXRgKQ0KfQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICByZW5kZXIsDQogICAgZHJhZ2dhYmxlDQogIH0sDQogIHByb3BzOiBbDQogICAgJ2VsZW1lbnQnLA0KICAgICdpbmRleCcsDQogICAgJ2RyYXdpbmdMaXN0JywNCiAgICAnYWN0aXZlSWQnLA0KICAgICdmb3JtQ29uZicNCiAgXSwNCiAgcmVuZGVyKGgpIHsNCiAgICBjb25zdCBsYXlvdXQgPSBsYXlvdXRzW3RoaXMuZWxlbWVudC5jb25maWcubGF5b3V0XQ0KDQogICAgaWYgKGxheW91dCkgew0KICAgICAgcmV0dXJuIGxheW91dC5jYWxsKHRoaXMsIGgsIHRoaXMuZWxlbWVudCwgdGhpcy5pbmRleCwgdGhpcy5kcmF3aW5nTGlzdCkNCiAgICB9DQogICAgcmV0dXJuIGxheW91dElzTm90Rm91bmQuY2FsbCh0aGlzKQ0KICB9DQp9DQo="},{"version":3,"sources":["DraggableItem.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DraggableItem.vue","sourceRoot":"src/views/business-general-conf/pdgenlpgelinfo/draggable","sourcesContent":["<script>\r\nimport draggable from 'vuedraggable'\r\nimport render from '@/components/render/render'\r\n\r\nconst components = {\r\n  itemBtns(h, element, index, parent) {\r\n    const {deleteItem } = this.$listeners\r\n    return [\r\n      <span class=\"drawing-item-delete\" title=\"删除\" onClick={event => {\r\n        deleteItem(index, parent); event.stopPropagation()\r\n      }}>\r\n        <i class=\"el-icon-delete\" />\r\n      </span>\r\n    ]\r\n  }\r\n}\r\nconst layouts = {\r\n  colFormItem(h, element, index, parent) {\r\n    const { activeItem } = this.$listeners\r\n    const config = element.config\r\n    let className = this.activeId === config.formId ? 'drawing-item active-from-item' : 'drawing-item'\r\n    if (this.formConf.unFocusedComponentBorder) className += ' unfocus-bordered'\r\n    let labelWidth = '160px'\r\n    if (config.showLabel === false) labelWidth = '0'\r\n    return (\r\n      <el-col span={config.span} class={className}\r\n        nativeOnClick={event => { activeItem(element); event.stopPropagation() }}>\r\n        <el-form-item label-width={labelWidth}\r\n          label={config.showLabel ? config.label : ''} required={config.required}>\r\n          <render key={config.renderKey} conf={element} onInput={ event => {\r\n            this.$set(config, 'defaultValue', event)\r\n          }} />\r\n        </el-form-item>\r\n        {components.itemBtns.apply(this, arguments)}\r\n      </el-col>\r\n    )\r\n  },\r\n  rowFormItem(h, element, index, parent) {\r\n    const { activeItem } = this.$listeners\r\n    const className = this.activeId === element.config.formId\r\n      ? 'drawing-row-item active-from-item'\r\n      : 'drawing-row-item'\r\n    let child = renderChildren.apply(this, arguments)\r\n    if (element.type === 'flex') {\r\n      child = <el-row type={element.type} justify={element.justify} align={element.align}>\r\n              {child}\r\n            </el-row>\r\n    }\r\n    return (\r\n      <el-col span={element.config.span}>\r\n        <el-row gutter={element.config.gutter} class={className}\r\n          nativeOnClick={event => { activeItem(element); event.stopPropagation() }}>\r\n          <span class=\"component-name\">{element.config.componentName}</span>\r\n          <draggable list={element.config.children} animation={340} group=\"componentsGroup\" class=\"drag-wrapper\">\r\n            {child}\r\n          </draggable>\r\n          {components.itemBtns.apply(this, arguments)}\r\n        </el-row>\r\n      </el-col>\r\n    )\r\n  }\r\n}\r\n\r\nfunction renderChildren(h, element, index, parent) {\r\n  const config = element.config\r\n  if (!Array.isArray(config.children)) return null\r\n  return config.children.map((el, i) => {\r\n    const layout = layouts[el.config.layout]\r\n    if (layout) {\r\n      return layout.call(this, h, el, i, config.children)\r\n    }\r\n    return layoutIsNotFound.call(this)\r\n  })\r\n}\r\n\r\nfunction layoutIsNotFound() {\r\n  throw new Error(`没有与${this.element.config.layout}匹配的layout`)\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    render,\r\n    draggable\r\n  },\r\n  props: [\r\n    'element',\r\n    'index',\r\n    'drawingList',\r\n    'activeId',\r\n    'formConf'\r\n  ],\r\n  render(h) {\r\n    const layout = layouts[this.element.config.layout]\r\n\r\n    if (layout) {\r\n      return layout.call(this, h, this.element, this.index, this.drawingList)\r\n    }\r\n    return layoutIsNotFound.call(this)\r\n  }\r\n}\r\n</script>\r\n"]}]}
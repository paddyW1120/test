{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-new-rule\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-underwriting-def\\unw-new-rule\\index.vue","mtime":1609847107058},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29ublJ1bGVzLAogIGRlbGV0ZVBkdGVtcFBkUnVsZXMsCiAgcGFja2FnZUxpc3QsCiAgZmluZFJ1bGVzQnlQYXJhbXMsCiAgZmluZFJ1bGVzTGlzdCwKICBnZXRSdWxlQ29kZSwKICBmaW5kUHJvZHVjdExpc3QsCn0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL3VuZGVyd3JpdGluZ1J1bGUiOwppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiCmltcG9ydCBydWxlTW9kdWxlIGZyb20gJ0Avdmlld3MvaWJybXMvcnVsZU1hbmFnZW1lbnQvcnVsZU1vZHVsZS9pbmRleCcKaW1wb3J0IHJ1bGVNYWtlIGZyb20gJ0Avdmlld3MvaWJybXMvcnVsZU1hbmFnZW1lbnQvcnVsZU1ha2UvaW5kZXgnCgpsZXQgX3RoaXM7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVuZGVyd3JpdGluZ1J1bGUiLAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9wZFJ1bGVEZWYoY29kZSl7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicnVsZVByb3BlcnRpZXMiLCBjb2RlLCB0cnVlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGRSdWxlUHJvcER0Q2xzKGNvZGUpIHsKICAgICAgaWYgKGNvZGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgncnVsZUFzY3JEZXRhJywgY29kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGNvZGU7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICBydWxlVmlldzogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHVwZGF0ZUR5bmFtaWNUYWJsZTogZmFsc2UsCiAgICAgICAgZmxhZzogJycsCiAgICAgICAgcnVsZUNvZGU6ICcnLAogICAgICAgIHJ1bGVRdWVyeTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGF0dHJpYnV0ZU9iajoge30sCiAgICAgIHJ1bGVWaXNpYmxlOiBmYWxzZSwKICAgICAgcGRQcEluZm86IHt9LAogICAgICByYWRpbzI6IG51bGwsCiAgICAgIHNob3dSdWxlOiBmYWxzZSwKICAgICAgbGFuZ3VhZ2U6IG51bGwsCiAgICAgIHByb2R1Y3RDb2RlOicnLAogICAgICBydWxlTWVzc2FnZUluZm9Cb206IFtdLAogICAgICBydWxlQnVzaW5lc3NNb2R1bGVGaWx0ZXI6JzEkMTAkMTEnLAogICAgICBydWxlUHJvcGVydGllc0ZpbHRlcjonMSQyJDMnLAogICAgICBjdXNDb25maWdzOiBbXSwKICAgICAgcnVsZUNvbmZpZ3M6IFtdLAogICAgICBwcm9kdWN0T3B0aW9uczpbXSwKICAgICAgc2hvd1BhZ2VGbGFnOicnLAogICAgICBzaG93UnVsZVByb2R1Y3RGbGFnOnRydWUsCiAgICAgIHBhY2thZ2VPcHRpb25zOiBbXSwKICAgICAgYXBwb2ludFByb2R1Y3RPcHRpb25zOltdLAogICAgICBjb2RlRmlsdGVyczogW10sCiAgICAgIGNob29zZVJ1bGVzOiBbXSwKICAgICAgLy/lpZfppJDoh6rlrprkuYnmipXkv53moLjkv53op4TliJnphY3nva4KICAgICAgaW5zdXJhbmNlUnVsZUZvcm06ewogICAgICAgIHBkUnVsZUdyYWRlOicyJywKICAgICAgICBwZEdyYWRlQ29kZTonJwogICAgICB9LAogICAgICAvL+mAieaLqeinhOWImQogICAgICBjdXNGb3JtOiB7CiAgICAgICAgcGFja2FnZTonJywKICAgICAgICBwcm9kdWN0OiAnJywKICAgICAgICBydWxlQ29kZTogJycsCiAgICAgICAgcnVsZUJ1c3NUeXBlOicnCiAgICAgIH0sCiAgICAgIHByb2R1Y3RGb3JtOiB7CiAgICAgICAgcHJvZHVjdDonJywKICAgICAgICBydWxlQnVzc1R5cGU6JycKICAgICAgfSwKICAgICAgaW5zdXJhbmNlUnVsZUZvcm1SdWxlOiB7CiAgICAgICAgcGRSdWxlR3JhZGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nop4TliJnmiYDlsZ7nuqfliKsiLCB0cmlnZ2VyOiAiYmx1ciJ9XSwKICAgICAgICBwZEdyYWRlQ29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeS6p+WTgSIsIHRyaWdnZXI6ICJibHVyIn1dCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgJ3J1bGVNYXNzYWdlcycsCiAgICBdKQogIH0sCiAgY29tcG9uZW50czoge3J1bGVNb2R1bGUsIHJ1bGVNYWtlfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sYW5ndWFnZSA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5sYW5ndWFnZTsKICAgIHRoaXMucnVsZU1lc3NhZ2VJbmZvQm9tID0gdGhpcy4kc3RvcmUuc3RhdGUucnVsZU1lc3NhZ2UucnVsZU1lc3NhZ2VzOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnCiAgICB0aGlzLnBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgIHRoaXMucHJvZHVjdEZvcm0ucHJvZHVjdD10aGlzLnBkUHBJbmZvLnBwQ29kZSsiOiIrdGhpcy5wZFBwSW5mby5wcE5hbWU7CiAgICB0aGlzLnByb2R1Y3RGb3JtLnJ1bGVCdXNzVHlwZT0nMTAnOwogICAgaWYgKHRoaXMucGRQcEluZm8pIHsKICAgICAgdGhpcy5maW5kQ3VzQ29uZmlnc0RhdGEoKTsKICAgICAgdGhpcy5maW5kUHJvZHVjdExpc3QoKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJ1bGVDb25maWdzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnJ1bGVDb25maWdzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzID0gW107CiAgICAgICAgdGhpcy5ydWxlQ29uZmlncy5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzLnB1c2goewogICAgICAgICAgICB0ZXh0OiB2YWwucGRSdWxlQ29kZSwKICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFJ1bGVDb2RlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzID0gdGhpcy5jb2RlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LCBbXSk7CiAgICAgIH0KICAgIH0sCiAgICAnaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGUnKCl7CiAgICAgIGNvbnN0IHZhbD10aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlOwogICAgICBpZih2YWw9PScyJyl7CiAgICAgICAgdGhpcy5zaG93UnVsZVByb2R1Y3RGbGFnPXRydWU7CiAgICAgICAgdGhpcy5pbnN1cmFuY2VSdWxlRm9ybVJ1bGUucGRHcmFkZUNvZGU9IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nkuqflk4EiLCB0cmlnZ2VyOiAiYmx1ciJ9XQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWc9ZmFsc2U7CiAgICAgICAgdGhpcy5pbnN1cmFuY2VSdWxlRm9ybVJ1bGUucGRHcmFkZUNvZGU9IFt7cmVxdWlyZWQ6IGZhbHNlfV0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcnVsZVZpZXdDbG9zZWQoKSB7CiAgICAgIHRoaXMucmFkaW8yID0gbnVsbAogICAgfSwKICAgIHJ1bGVNb2R1bGVDbG9zZWQoKSB7CiAgICAgIHRoaXMucnVsZVZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLnNlYXJjaFJ1bGVzKCkKICAgIH0sCiAgICBydWxlTWFrZUNsb3NlZCgpIHsKICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gZmFsc2UKICAgICAgdGhpcy5yYWRpbzIgPSBudWxsCiAgICB9LAogICAgZmluZFByb2R1Y3RCeVBhY2thZ2VJZCh2YWwpewogICAgICBpZih2YWw9PW51bGwgfHwgdmFsPT0iIil7CiAgICAgICAgdGhpcy5hcHBvaW50UHJvZHVjdE9wdGlvbnMgPSBbXTsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBmaW5kUHJvZHVjdExpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRJbmZvSWQiOnZhbH0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICB0aGlzLmFwcG9pbnRQcm9kdWN0T3B0aW9ucyA9IFtdOwogICAgICAgIHRoaXMuY3VzRm9ybS5wcm9kdWN0PScnOwogICAgICAgIGlmIChkYXRhLmxlbmd0aCkgewogICAgICAgICAgZGF0YS5mb3JFYWNoKHByb2R1Y3QgPT4gewogICAgICAgICAgICB0aGlzLmFwcG9pbnRQcm9kdWN0T3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICB2YWx1ZTogcHJvZHVjdC5wZENvZGUsCiAgICAgICAgICAgICAgbGFiZWw6IHByb2R1Y3QucGRDb2RlICsgIjoiICsgcHJvZHVjdC5wZE5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmRQcm9kdWN0TGlzdCgpewogICAgICBmaW5kUHJvZHVjdExpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRJbmZvSWQiOnRoaXMucGRQcEluZm8uaWR9KSkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy5wcm9kdWN0T3B0aW9ucyA9IFtdOwogICAgICAgIGlmIChkYXRhLmxlbmd0aCkgewogICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZENvZGUsCiAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZENvZGUgKyAiOiIgKyB2YWwucGROYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmaW5kQ3VzQ29uZmlnc0RhdGEoKSB7CiAgICAgIGZpbmRSdWxlc0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRJbmZvSWQiOnRoaXMucGRQcEluZm8uaWQsInBkQ29kZSI6dGhpcy5wZFBwSW5mby5wcENvZGV9KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuY3VzQ29uZmlncyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBmaW5kUnVsZXNPcHRpb25zKCkgewogICAgICB0aGlzLiRyZWZzWyJpbnN1cmFuY2VSdWxlRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc2hvd1J1bGUgPSB0cnVlOwogICAgICAgICAgdGhpcy5jdXNGb3JtLnBhY2thZ2UgPSB0aGlzLnBkUHBJbmZvLmlkOwogICAgICAgICAgcGFja2FnZUxpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgIHRoaXMucGFja2FnZU9wdGlvbnMgPSBbXTsKICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VPcHRpb25zLnB1c2goewogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLmlkLAogICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBwQ29kZSArICI6IiArIHZhbC5wcE5hbWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZmluZFByb2R1Y3RCeVBhY2thZ2VJZCh0aGlzLmN1c0Zvcm0ucGFja2FnZSk7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoUnVsZXMoKQogICAgICAgICAgfSk7CgogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmKHRoaXMuc2hvd1J1bGVQcm9kdWN0RmxhZyl7CiAgICAgICAgdGhpcy5wcm9kdWN0Q29kZT10aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkR3JhZGVDb2RlCiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoUnVsZUNvbmZpZ3MoKSB7CiAgICAgIHRoaXMuJHJlZnNbImN1c0Zvcm0iXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLnNlYXJjaFJ1bGVzKCkKICAgIH0sCiAgICBhZGRSdWxlcygpIHsKICAgICAgY29uc3QgcGFyYW0gPSB7CiAgICAgICAgcGRCdXNzVHlwZTogJzgnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6ICcxMCcKICAgICAgfTsKICAgICAgbGV0IHBkQ29kZT0nJzsKICAgICAgaWYodGhpcy5zaG93UnVsZVByb2R1Y3RGbGFnKXsKICAgICAgICBwZENvZGU9dGhpcy5wcm9kdWN0Q29kZQogICAgICB9ZWxzZXsKICAgICAgICBwZENvZGU9dGhpcy5wZFBwSW5mby5wcENvZGUKICAgICAgfQogICAgICBnZXRSdWxlQ29kZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iaiA9IHsKICAgICAgICAgIGNvZGU6IHJlc3BvbnNlLmRhdGEsCiAgICAgICAgICBydWxlQnVzc01vZHU6ICc4JywKICAgICAgICAgIHJ1bGVCdXNzTW9kdURldGE6ICcxMCcsCiAgICAgICAgICBydWxlVHlwZTogJzEnLAogICAgICAgICAgcnVsZUF0dHI6ICczJywKICAgICAgICAgIHBkVHlwZTogJzInLAogICAgICAgICAgcGRDb2RlOiBwZENvZGUsCiAgICAgICAgICBwZEVkaXRpb246ICcxJwogICAgICAgIH07CiAgICAgICAgaWYodGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZFJ1bGVHcmFkZT09JzInKXsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JqLnJ1bGVUeXBlPScxJywKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucGRUeXBlPScxJywKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucnVsZUF0dHI9JzInLAogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iai5wZENvZGU9dGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZEdyYWRlQ29kZSwKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucmlza1R5cGU9dGhpcy5wZFR5cGUsCiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JqLnJpc2tEZXRhaWw9dGhpcy5wZERldGFpbFR5cGUKICAgICAgICB9CiAgICAgICAgdGhpcy5ydWxlVmlzaWJsZSA9IHRydWUKICAgICAgfSkKICAgIH0sCiAgICBzaG93UnVsZXMoY29kZSkgewogICAgICB0aGlzLnJ1bGVWaWV3LmZsYWcgPSAnMSc7CiAgICAgIHRoaXMucnVsZVZpZXcucnVsZUNvZGUgPSBjb2RlOwogICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVRdWVyeSA9IHRydWU7CiAgICAgIHRoaXMucnVsZVZpZXcudXBkYXRlRHluYW1pY1RhYmxlID0gZmFsc2U7CiAgICAgIHRoaXMucnVsZVZpZXcudmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBzZWFyY2hSdWxlcygpIHsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBwZEluZm9JZDp0aGlzLnBkUHBJbmZvLmlkLAogICAgICAgIHBhY2thZ2VJZDogdGhpcy5jdXNGb3JtLnBhY2thZ2UsCiAgICAgICAgcGRDb2RlOiB0aGlzLmN1c0Zvcm0ucHJvZHVjdCwKICAgICAgICBwZFJ1bGVDb2RlOiB0aGlzLmN1c0Zvcm0ucnVsZUNvZGUsCiAgICAgICAgcGRCdXNzVHlwZTogdGhpcy5jdXNGb3JtLnBkQnVzc1R5cGUKICAgICAgfTsKICAgICAgaWYgKHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGU9PT0nMicpewogICAgICAgIGlmKCF0aGlzLmN1c0Zvcm0ucHJvZHVjdCl7CiAgICAgICAgICBwYXJhbXM9e307CiAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgIHBkSW5mb0lkOnRoaXMucGRQcEluZm8uaWQsCiAgICAgICAgICAgIHBhY2thZ2VJZDogdGhpcy5jdXNGb3JtLnBhY2thZ2UsCiAgICAgICAgICAgIHBkQ29kZTogdGhpcy5wcm9kdWN0Q29kZSwKICAgICAgICAgICAgcGRSdWxlQ29kZTogdGhpcy5jdXNGb3JtLnJ1bGVDb2RlLAogICAgICAgICAgICBwZEJ1c3NUeXBlOiB0aGlzLmN1c0Zvcm0ucGRCdXNzVHlwZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBmaW5kUnVsZXNCeVBhcmFtcyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgZGF0YSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC5wZFJ1bGVDb2RlID09IGVsZW1lbnQucGRSdWxlQ29kZSkpIHsKICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgICAgfSwgW10pOwogICAgICAgIHRoaXMucnVsZUNvbmZpZ3MgPSBkYXRhOwogICAgICB9KQogICAgfSwKICAgIGNvbm5SdWxlcygpIHsKICAgICAgaWYgKHRoaXMuY2hvb3NlUnVsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcign6K+36YCJ5oup6KeE5YiZJyk7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgbGV0IHBkdGVtcFBkUnVsZXNMaXN0ID0gW107CiAgICAgIHRoaXMuY2hvb3NlUnVsZXMuZm9yRWFjaChydWxlID0+IHsKICAgICAgICBsZXQgcGR0ZW1wUGRSdWxlcyA9IHsKICAgICAgICAgIHBkVmVySWQ6MSwKICAgICAgICAgIHBkQ29kZTogcnVsZS5wZENvZGUsCiAgICAgICAgICBwZEluZm9JZDp0aGlzLnBkUHBJbmZvLmlkLAogICAgICAgICAgcGRUeXBlOnRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGUsCiAgICAgICAgICBwZFJ1bGVHcmFkZTogcnVsZS5wZFJ1bGVHcmFkZSwKICAgICAgICAgIHBkUnVsZUNsczogcnVsZS5wZFJ1bGVDbHMsCiAgICAgICAgICBwZFJ1bGVEdENsczogcnVsZS5wZFJ1bGVEdENscywKICAgICAgICAgIHBkUnVsZVByb3BDbHM6IHJ1bGUucGRSdWxlUHJvcENscywKICAgICAgICAgIHBkUnVsZVByb3BEdENsczogcnVsZS5wZFJ1bGVQcm9wRHRDbHMsCiAgICAgICAgICBwZFJ1bGVDb2RlOiBydWxlLnBkUnVsZUNvZGUsCiAgICAgICAgICBwZFJ1bGVEZXNjOiBydWxlLnBkUnVsZURlc2MKICAgICAgICB9OwogICAgICAgIGlmKHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGU9PScyJyl7CiAgICAgICAgICBwZHRlbXBQZFJ1bGVzLnBkUGFja2FnZUNvZGU9dGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZEdyYWRlQ29kZQogICAgICAgIH1lbHNlewogICAgICAgICAgcGR0ZW1wUGRSdWxlcy5wZFBhY2thZ2VDb2RlPXRoaXMucGRQcEluZm8ucHBDb2RlCiAgICAgICAgfQogICAgICAgIHBkdGVtcFBkUnVsZXNMaXN0LnB1c2gocGR0ZW1wUGRSdWxlcyk7CiAgICAgIH0pOwogICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICBydWxlczogcGR0ZW1wUGRSdWxlc0xpc3QsCiAgICAgICAgcGR0ZW1wUHBJbmZvOiB0aGlzLnBkUHBJbmZvLAogICAgICAgIHBkQ29kZTogdGhpcy5wcm9kdWN0Q29kZSwKICAgICAgICBwZEJ1c3NUeXBlOiAnOCcsCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogJzEwJwogICAgICB9OwogICAgICBjb25uUnVsZXModGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgdGhpcy5maW5kQ3VzQ29uZmlnc0RhdGEoKTsKICAgICAgICB0aGlzLnNlYXJjaFJ1bGVzKCk7CiAgICAgIH0pCiAgICB9LAogICAgZGVsQ3VzUm93KHJvdykgewogICAgICBkZWxldGVQZHRlbXBQZFJ1bGVzKHJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICB0aGlzLmZpbmRDdXNDb25maWdzRGF0YSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWyJwcm9wZXJ0eSJdOwogICAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGNob29zZU9uZShyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PSB0aGlzLnJhZGlvMikgewogICAgICAgICAgdGhpcy5yYWRpbzIgPSBudWxsOwogICAgICAgICAgdGhpcy4kcmVmcy5jdXNUYWJsZS5zZXRDdXJyZW50Um93KCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yYWRpbzIgPSByb3cuaWQ7CiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LmZsYWcgPSAnMic7CiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVDb2RlID0gcm93LnBkUnVsZUNvZGU7CiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVRdWVyeSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5ydWxlVmlldy51cGRhdGVEeW5hbWljVGFibGUgPSB0cnVlOwogICAgICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gdHJ1ZQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShyb3cpIHsKICAgICAgdGhpcy5jaG9vc2VSdWxlcyA9IHJvdzsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-underwriting-def/unw-new-rule","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n    <cus-form-title :label=\"$t('underwritingRule.customRuleConfiguration')\"></cus-form-title>\r\n    <el-form :model=\"insuranceRuleForm\" label-width=\"auto\"  :rules=\"insuranceRuleFormRule\"  ref=\"insuranceRuleForm\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item  :label=\"$t('underwritingRule.pdRuleGrade')\" prop=\"pdRuleGrade\">\r\n            <cus-radio :codetype=\"'ruleProperties'\"  :filter=\"rulePropertiesFilter\" :isRequired=\"true\" v-model=\"insuranceRuleForm.pdRuleGrade\" ></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"10\">\r\n          <el-form-item  :label=\"$t('customComponents.product')\" v-show=\"showRuleProductFlag\"  prop=\"pdGradeCode\">\r\n            <el-select  clearable filterable v-model=\"insuranceRuleForm.pdGradeCode\">\r\n              <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in productOptions\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"findRulesOptions\" icon=\"el-icon-connection\" type=\"primary\">\r\n      {{$t('underwritingRule.ruleSelect')}}\r\n    </el-button>\r\n    <br/>\r\n    <cus-form-title :label=\"$t('underwritingRule.selectRule')\"></cus-form-title>\r\n    <cus-table-title :label=\"$t('underwritingRule.productPackageUnderWritingRule')\"/>\r\n    <el-table :data=\"cusConfigs\" @row-click=\"chooseOne\" align=\"center\" border class=\"wraper-table\"\r\n              element-loading-text=\"Loading\" fit highlight-current-row max-height=\"500px\" ref=\"cusTable\" size=\"mini\">\r\n      <el-table-column :label=\"$t('pdtempPdBnft.choose')\" width=\"50\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio :label=\"scope.row.id\" v-model=\"radio2\">\r\n            <span class=\"el-radio__label\"></span>\r\n          </el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingRule.pdRuleGrade')\" align=\"center\" prop=\"pdType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdType | filter_pdRuleDef }}</template>\r\n      </el-table-column>\r\n      <el-table-column  :label=\"$t('underwritingRule.pdRuleDef')\" align=\"center\" prop=\"pdRuleGrade\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdPackageCode : '套餐:' + scope.row.pdPackageCode}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('underwritingRule.pdRuleCode')\" align=\"center\" prop=\"pdRuleCode\" width=\"180px\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingRule.pdRuleDesc')\" align=\"center\" prop=\"pdRuleDesc\" width=\"180px\"></el-table-column>\r\n      <el-table-column :label=\"$t('underwritingRule.details')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"showRules(scope.row.pdRuleCode)\" type=\"text\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('underwritingRule.operation')\" align=\"center\"  width=\"90px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" @click=\"delCusRow(scope.row)\" icon=\"el-icon-delete\"\r\n                     size=\"mini\" type=\"danger\" v-auth=\"'underwritingRule:deleteRule'\"></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog v-dialog-drag v-if=\"showRule\" :close-on-click-modal=\"false\" :visible.sync=\"showRule\" append-to-body center\r\n               width=\"75%\">\r\n      <cus-page-title-back :isDialog=\"true\" @backTo=\"showRule=false\"  :label=\"$t('i18nView.newUnderwritingRules')\"/>\r\n      <el-form :model=\"productForm\" label-width=\"auto\" ref=\"productForm\" >\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('underwritingRule.productMeat')\">\r\n              <el-tag type=\"info\">{{ productForm.product }}</el-tag>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" v-show=\"showRuleProductFlag\">\r\n            <el-form-item :label=\"$t('customComponents.product')\">\r\n              <el-select  :disabled=\"true\" clearable filterable v-model=\"productCode\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in productOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item  :label=\"$t('underwritingRule.ruleAttributeType')\">\r\n              <cus-select :codetype=\"'ruleBusinessDetailClass'\" v-model=\"productForm.ruleBussType\" :disabled=\"true\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <cus-form-title :label=\"$t('underwritingRule.ruleSelect')\"></cus-form-title>\r\n      <el-form :model=\"cusForm\" label-width=\"auto\" ref=\"cusForm\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item  :label=\"$t('underwritingRule.pickMeat')\">\r\n              <el-select :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"  clearable filterable\r\n                         v-model=\"cusForm.package\" @change=\"findProductByPackageId\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in packageOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('underwritingRule.designatedProducts')\">\r\n              <el-select :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"  clearable filterable\r\n                         v-model=\"cusForm.product\">\r\n                <el-option :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" v-for=\"item in appointProductOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item  :label=\"$t('underwritingRule.ruleAttributeType')\">\r\n              <cus-select :codetype=\"'ruleBusinessDetailClass'\" :filter=\"ruleBusinessModuleFilter\" v-model=\"cusForm.pdBussType\" ></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('underwritingRule.ruleCode')\" prop=\"ruleCode\" style=\"width:340px\">\r\n              <el-input v-model=\"cusForm.ruleCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-button dialog-disable=\"disable\" size=\"small\" @click=\"searchRules\" icon=\"el-icon-search\" type=\"primary\">\r\n                {{ $t('underwritingRule.search') }}\r\n          </el-button>\r\n        </el-row>\r\n      </el-form>\r\n      <el-button dialog-disable=\"disable\" size=\"small\" @click=\"addRules\" type=\"primary\"><i class=\"el-icon-plus el-icon--left\"></i>{{ $t('underwritingRule.addRule') }}\r\n      </el-button>\r\n      <cus-table-title :label=\" $t('underwritingRule.rule')\" />\r\n      <el-table :data=\"ruleConfigs\" @selection-change=\"handleSelectionChange\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\"\r\n                fit highlight-current-row ref=\"configsTable\" size=\"mini\">\r\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('underwritingRule.pdRuleDef')\" align=\"center\" prop=\"pdRuleGrade\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdCode : '套餐:' + scope.row.pdCode}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\" :filters=\"codeFilters\"\r\n                         :label=\"$t('underwritingRule.ruleCode')\"\r\n                         align=\"center\" prop=\"pdRuleCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('underwritingRule.pdRuleDesc')\" align=\"center\" prop=\"pdRuleDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('underwritingRule.details')\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button  dialog-disable=\"disable\" size=\"small\" @click=\"showRules(scope.row.pdRuleCode)\" type=\"text\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <div style=\"float:right\">\r\n        <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"connRules\" icon=\"el-icon-connection\" type=\"primary\">\r\n          {{ $t('underwritingRule.choice') }}\r\n        </el-button>\r\n        <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"refreshRuleConfigs\" icon=\"el-icon-refresh\" type=\"primary\">\r\n          {{ $t('underwritingRule.refresh') }}\r\n        </el-button>\r\n      </div>\r\n      <br/>\r\n    </el-dialog>\r\n\r\n    <!-- 规则引擎定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"ruleVisible\"></cus-rule-definition>\r\n\r\n    <!-- 规则查看弹窗 -->\r\n    <cus-rule-modify :flag=\"ruleView.flag\" :ruleCode=\"ruleView.ruleCode\" :ruleModifyClosed=\"ruleMakeClosed\"\r\n                     :ruleType=\"'1'\" :visible=\"ruleView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {connRules,\r\n    deletePdtempPdRules,\r\n    packageList,\r\n    findRulesByParams,\r\n    findRulesList,\r\n    getRuleCode,\r\n    findProductList,\r\n  } from \"@/api/basicinfo/underwritingRule\";\r\n  import {mapGetters} from \"vuex\"\r\n  import ruleModule from '@/views/ibrms/ruleManagement/ruleModule/index'\r\n  import ruleMake from '@/views/ibrms/ruleManagement/ruleMake/index'\r\n\r\n  let _this;\r\n\r\n  export default {\r\n    name: \"underwritingRule\",\r\n    filters: {\r\n      filter_pdRuleDef(code){\r\n        return _this.getCodeName(\"ruleProperties\", code, true);\r\n      },\r\n      filter_pdRulePropDtCls(code) {\r\n        if (code) {\r\n          return _this.getCascaderCodeName('ruleAscrDeta', code);\r\n        } else {\r\n          return code;\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      _this = this;\r\n      return {\r\n        ruleView: {\r\n          visible: false,\r\n          updateDynamicTable: false,\r\n          flag: '',\r\n          ruleCode: '',\r\n          ruleQuery: undefined\r\n        },\r\n        attributeObj: {},\r\n        ruleVisible: false,\r\n        pdPpInfo: {},\r\n        radio2: null,\r\n        showRule: false,\r\n        language: null,\r\n        productCode:'',\r\n        ruleMessageInfoBom: [],\r\n        ruleBusinessModuleFilter:'1$10$11',\r\n        rulePropertiesFilter:'1$2$3',\r\n        cusConfigs: [],\r\n        ruleConfigs: [],\r\n        productOptions:[],\r\n        showPageFlag:'',\r\n        showRuleProductFlag:true,\r\n        packageOptions: [],\r\n        appointProductOptions:[],\r\n        codeFilters: [],\r\n        chooseRules: [],\r\n        //套餐自定义投保核保规则配置\r\n        insuranceRuleForm:{\r\n          pdRuleGrade:'2',\r\n          pdGradeCode:''\r\n        },\r\n        //选择规则\r\n        cusForm: {\r\n          package:'',\r\n          product: '',\r\n          ruleCode: '',\r\n          ruleBussType:''\r\n        },\r\n        productForm: {\r\n          product:'',\r\n          ruleBussType:''\r\n        },\r\n        insuranceRuleFormRule: {\r\n          pdRuleGrade: [{required: true, message: \"请选择规则所属级别\", trigger: \"blur\"}],\r\n          pdGradeCode: [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'ruleMassages',\r\n      ])\r\n    },\r\n    components: {ruleModule, ruleMake},\r\n    mounted() {\r\n      this.language = this.$store.state.app.language;\r\n      this.ruleMessageInfoBom = this.$store.state.ruleMessage.ruleMessages;\r\n    },\r\n    created() {\r\n      this.showPageFlag = this.$route.query.showPageFlag\r\n      this.pdPpInfo = this.getPdData();\r\n      this.productForm.product=this.pdPpInfo.ppCode+\":\"+this.pdPpInfo.ppName;\r\n      this.productForm.ruleBussType='10';\r\n      if (this.pdPpInfo) {\r\n        this.findCusConfigsData();\r\n        this.findProductList()\r\n      }\r\n    },\r\n    watch: {\r\n      ruleConfigs: function () {\r\n        if (this.ruleConfigs.length > 0) {\r\n          this.codeFilters = [];\r\n          this.ruleConfigs.forEach(val => {\r\n            this.codeFilters.push({\r\n              text: val.pdRuleCode,\r\n              value: val.pdRuleCode\r\n            });\r\n          });\r\n          this.codeFilters = this.codeFilters.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n      },\r\n      'insuranceRuleForm.pdRuleGrade'(){\r\n        const val=this.insuranceRuleForm.pdRuleGrade;\r\n        if(val=='2'){\r\n          this.showRuleProductFlag=true;\r\n          this.insuranceRuleFormRule.pdGradeCode= [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n        }else{\r\n          this.showRuleProductFlag=false;\r\n          this.insuranceRuleFormRule.pdGradeCode= [{required: false}]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ruleViewClosed() {\r\n        this.radio2 = null\r\n      },\r\n      ruleModuleClosed() {\r\n        this.ruleVisible = false\r\n        this.searchRules()\r\n      },\r\n      ruleMakeClosed() {\r\n        this.ruleView.visible = false\r\n        this.radio2 = null\r\n      },\r\n      findProductByPackageId(val){\r\n        if(val==null || val==\"\"){\r\n          this.appointProductOptions = [];\r\n          return\r\n        }\r\n        findProductList(this.buildRequestData({\"pdInfoId\":val})).then(res => {\r\n          let data = res.data;\r\n          this.appointProductOptions = [];\r\n          this.cusForm.product='';\r\n          if (data.length) {\r\n            data.forEach(product => {\r\n              this.appointProductOptions.push({\r\n                value: product.pdCode,\r\n                label: product.pdCode + \":\" + product.pdName\r\n              });\r\n            });\r\n          }\r\n        });\r\n      },\r\n      findProductList(){\r\n        findProductList(this.buildRequestData({\"pdInfoId\":this.pdPpInfo.id})).then(res => {\r\n          let data = res.data;\r\n          this.productOptions = [];\r\n          if (data.length) {\r\n            data.forEach(val => {\r\n              this.productOptions.push({\r\n                value: val.pdCode,\r\n                label: val.pdCode + \":\" + val.pdName\r\n              });\r\n            });\r\n          }\r\n        });\r\n      },\r\n      findCusConfigsData() {\r\n        findRulesList(this.buildRequestData({\"pdInfoId\":this.pdPpInfo.id,\"pdCode\":this.pdPpInfo.ppCode})).then(res => {\r\n          this.cusConfigs = res.data;\r\n        });\r\n      },\r\n      findRulesOptions() {\r\n        this.$refs[\"insuranceRuleForm\"].validate(valid => {\r\n          if (valid) {\r\n            this.showRule = true;\r\n            this.cusForm.package = this.pdPpInfo.id;\r\n            packageList().then(res => {\r\n              let data = res.data;\r\n              this.packageOptions = [];\r\n              if (data.length) {\r\n                data.forEach(val => {\r\n                  this.packageOptions.push({\r\n                    value: val.id,\r\n                    label: val.ppCode + \":\" + val.ppName\r\n                  });\r\n                });\r\n              }\r\n              this.findProductByPackageId(this.cusForm.package);\r\n              this.searchRules()\r\n            });\r\n\r\n          }\r\n        });\r\n        if(this.showRuleProductFlag){\r\n          this.productCode=this.insuranceRuleForm.pdGradeCode\r\n        }\r\n      },\r\n      refreshRuleConfigs() {\r\n        this.$refs[\"cusForm\"].resetFields();\r\n        this.searchRules()\r\n      },\r\n      addRules() {\r\n        const param = {\r\n          pdBussType: '8',\r\n          pdBussDetailType: '10'\r\n        };\r\n        let pdCode='';\r\n        if(this.showRuleProductFlag){\r\n          pdCode=this.productCode\r\n        }else{\r\n          pdCode=this.pdPpInfo.ppCode\r\n        }\r\n        getRuleCode(this.buildRequestData(param)).then(response => {\r\n          this.attributeObj = {\r\n            code: response.data,\r\n            ruleBussModu: '8',\r\n            ruleBussModuDeta: '10',\r\n            ruleType: '1',\r\n            ruleAttr: '3',\r\n            pdType: '2',\r\n            pdCode: pdCode,\r\n            pdEdition: '1'\r\n          };\r\n          if(this.insuranceRuleForm.pdRuleGrade=='2'){\r\n            this.attributeObj.ruleType='1',\r\n              this.attributeObj.pdType='1',\r\n              this.attributeObj.ruleAttr='2',\r\n              this.attributeObj.pdCode=this.insuranceRuleForm.pdGradeCode,\r\n              this.attributeObj.riskType=this.pdType,\r\n              this.attributeObj.riskDetail=this.pdDetailType\r\n          }\r\n          this.ruleVisible = true\r\n        })\r\n      },\r\n      showRules(code) {\r\n        this.ruleView.flag = '1';\r\n        this.ruleView.ruleCode = code;\r\n        this.ruleView.ruleQuery = true;\r\n        this.ruleView.updateDynamicTable = false;\r\n        this.ruleView.visible = true\r\n      },\r\n      searchRules() {\r\n        let params = {\r\n          pdInfoId:this.pdPpInfo.id,\r\n          packageId: this.cusForm.package,\r\n          pdCode: this.cusForm.product,\r\n          pdRuleCode: this.cusForm.ruleCode,\r\n          pdBussType: this.cusForm.pdBussType\r\n        };\r\n        if (this.insuranceRuleForm.pdRuleGrade==='2'){\r\n          if(!this.cusForm.product){\r\n            params={};\r\n            params = {\r\n              pdInfoId:this.pdPpInfo.id,\r\n              packageId: this.cusForm.package,\r\n              pdCode: this.productCode,\r\n              pdRuleCode: this.cusForm.ruleCode,\r\n              pdBussType: this.cusForm.pdBussType\r\n            }\r\n          }\r\n        }\r\n        findRulesByParams(this.buildRequestData(params)).then(res => {\r\n          let data = res.data;\r\n          data = data.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.pdRuleCode == element.pdRuleCode)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n          this.ruleConfigs = data;\r\n        })\r\n      },\r\n      connRules() {\r\n        if (this.chooseRules.length === 0) {\r\n          this.notifyError('请选择规则');\r\n          return\r\n        }\r\n        let pdtempPdRulesList = [];\r\n        this.chooseRules.forEach(rule => {\r\n          let pdtempPdRules = {\r\n            pdVerId:1,\r\n            pdCode: rule.pdCode,\r\n            pdInfoId:this.pdPpInfo.id,\r\n            pdType:this.insuranceRuleForm.pdRuleGrade,\r\n            pdRuleGrade: rule.pdRuleGrade,\r\n            pdRuleCls: rule.pdRuleCls,\r\n            pdRuleDtCls: rule.pdRuleDtCls,\r\n            pdRulePropCls: rule.pdRulePropCls,\r\n            pdRulePropDtCls: rule.pdRulePropDtCls,\r\n            pdRuleCode: rule.pdRuleCode,\r\n            pdRuleDesc: rule.pdRuleDesc\r\n          };\r\n          if(this.insuranceRuleForm.pdRuleGrade=='2'){\r\n            pdtempPdRules.pdPackageCode=this.insuranceRuleForm.pdGradeCode\r\n          }else{\r\n            pdtempPdRules.pdPackageCode=this.pdPpInfo.ppCode\r\n          }\r\n          pdtempPdRulesList.push(pdtempPdRules);\r\n        });\r\n        const param = {\r\n          rules: pdtempPdRulesList,\r\n          pdtempPpInfo: this.pdPpInfo,\r\n          pdCode: this.productCode,\r\n          pdBussType: '8',\r\n          pdBussDetailType: '10'\r\n        };\r\n        connRules(this.buildRequestData(param)).then(res => {\r\n          this.notifySuccess(res.message);\r\n          this.findCusConfigsData();\r\n          this.searchRules();\r\n        })\r\n      },\r\n      delCusRow(row) {\r\n        deletePdtempPdRules(row.id).then(res => {\r\n          if (res.code == 200) {\r\n            this.notifySuccess(res.message);\r\n            this.findCusConfigsData();\r\n          }\r\n        });\r\n      },\r\n      filterHandler(value, row, column) {\r\n        if (column) {\r\n          const property = column[\"property\"];\r\n          return row[property] === value;\r\n        }\r\n      },\r\n      chooseOne(row, column, event) {\r\n        if (event.target.nodeName == \"INPUT\") {\r\n          if (row.id == this.radio2) {\r\n            this.radio2 = null;\r\n            this.$refs.cusTable.setCurrentRow()\r\n          } else {\r\n            this.radio2 = row.id;\r\n            this.ruleView.flag = '2';\r\n            this.ruleView.ruleCode = row.pdRuleCode;\r\n            this.ruleView.ruleQuery = false;\r\n            this.ruleView.updateDynamicTable = true;\r\n            this.ruleView.visible = true\r\n          }\r\n        }\r\n      },\r\n      handleSelectionChange(row) {\r\n        this.chooseRules = row;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .showDiv {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-top: -40px;\r\n    margin-left: -40px;\r\n    position: absolute;\r\n    background: #ffffff00;\r\n    z-index: 999;\r\n  }\r\n  .el-input{\r\n    width: 220px;\r\n  }\r\n  .el-select{\r\n    width: 220px;\r\n  }\r\n  .cst {\r\n    width: 73px;\r\n    margin-right: -5px;\r\n    border: 0;\r\n  }\r\n\r\n  hr {\r\n    margin-top: 7px;\r\n    *margin: 0;\r\n    border: 0;\r\n    color: black;\r\n    background-color: black;\r\n    height: 2px;\r\n  }\r\n\r\n  .divider {\r\n    color: black;\r\n    background-color: black;\r\n    width: 1px;\r\n  }\r\n</style>\r\n"]}]}
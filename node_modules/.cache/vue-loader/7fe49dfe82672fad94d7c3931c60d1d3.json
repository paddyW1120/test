{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-acceptance-def\\accpt-rule-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-acceptance-def\\accpt-rule-def\\index.vue","mtime":1609847107020},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBhZGRQZHRlbXBQZEluc3VBZ2VJbmZvLA0KICBjb25uUnVsZXMsDQogIGRlbGV0ZVBkdGVtcFBkSW5zdUFnZUluZm8sDQogIGRlbGV0ZVJ1bGVzLA0KICBmaW5kUGRQYXlGcmVxdWVuY3ksDQogIGZpbmRQcm9kdWN0TGlzdCwNCiAgZmluZFJ1bGVzQnlQYXJhbXMsDQogIGZpbmRSdWxlc0xpc3QsDQogIGdldE1heEFnZU9yZGVyLA0KICBnZXRSdWxlQ29kZSwNCiAgaW5zdXJlUnVsZURlZmluaXRpb25MaXN0LA0KICBwYWNrYWdlTGlzdCwNCiAgdXBkYXRlUGR0ZW1wUGRJbnN1QWdlSW5mbywNCiAgcGR0ZW1wUGRDbHNMYWJMaXN0DQp9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9pbnN1cmVSdWxlRGVmaW5pdGlvbiI7DQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiDQppbXBvcnQgcnVsZU1vZHVsZSBmcm9tICdAL3ZpZXdzL2licm1zL3J1bGVNYW5hZ2VtZW50L3J1bGVNb2R1bGUvaW5kZXgnDQppbXBvcnQgcnVsZU1ha2UgZnJvbSAnQC92aWV3cy9pYnJtcy9ydWxlTWFuYWdlbWVudC9ydWxlTWFrZS9pbmRleCcNCg0KbGV0IF90aGlzOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJpbnN1cmVSdWxlRGVmaW5pdGlvbiIsDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRSb2xlQ29kZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInBkZXhwdHJvbGUiLCBjb2RlKTsNCiAgICB9LA0KICAgIGZpbHRlcl9wZFJ1bGVEZWYoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJydWxlUHJvcGVydGllcyIsIGNvZGUsIHRydWUpOw0KICAgIH0sDQogICAgZmlsdGVyX3BkUm9sZVNleChjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInByb2R1Y3RSdWxlU2V4IiwgY29kZSk7DQogICAgfSwNCiAgICBmaWx0ZXJfcGRNYXhBcHBBZ2VVbml0KGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGRzYm5mdGR5IiwgY29kZSwgdHJ1ZSk7DQogICAgfSwNCiAgICBmaWx0ZXJfcGRQYXlGcmVxKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicGF5bWVudEZyZXF1ZW5jeSIsIGNvZGUpOw0KICAgIH0sDQogICAgZmlsdGVyX3BkUnVsZVByb3BEdENscyhjb2RlKSB7DQogICAgICBpZiAoY29kZSkgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgncnVsZUFzY3JEZXRhJywgY29kZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJyc7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpczsNCiAgICBjb25zdCB2YWxpZGF0ZXBkTWF4QXBwQWdlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHRoaXMuYWdlRm9ybS5wZE1heEFwcEFnZSA8IHRoaXMuYWdlRm9ybS5wZE1pbkFwcEFnZSl7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5pyA5aSn5bm06b6E5LiN6IO95bCP5LqO5pyA5bCP5bm06b6EIikpDQogICAgICB9ZWxzZXsNCiAgICAgICAgY2FsbGJhY2soKQ0KICAgICAgfQ0KICAgIH0NCiAgICBjb25zdCB2YWxpZGF0ZVJvbGVObyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCg0KICAgICAgaWYoX3RoaXMuYWdlQ29uZmlncy5sZW5ndGggPiAwKXsNCiAgICAgICAgbGV0IHJvbGVObyA9IFtdOw0KICAgICAgICBfdGhpcy5hZ2VDb25maWdzLmZvckVhY2goY29uZmlnID0+ew0KICAgICAgICAgIGlmKF90aGlzLmFnZUZvcm0ucGRSdWxlRGVmID09IGNvbmZpZy5wZFJ1bGVEZWYNCiAgICAgICAgICAgICYmIChfdGhpcy5hZ2VGb3JtLnBkRGVmQ29kZSAhPSAnJz9fdGhpcy5hZ2VGb3JtLnBkRGVmQ29kZSA9PSBjb25maWcucGRSdWxlRGVmQ29kZTp0cnVlKQ0KICAgICAgICAgICAgJiYgX3RoaXMuYWdlRm9ybS5wZFJvbGVDb2RlID09IGNvbmZpZy5wZFJvbGVDb2RlKXsNCiAgICAgICAgICAgIHJvbGVOby5wdXNoKGNvbmZpZy5wZFJvbGVObykNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIGlmKHJvbGVOby5pbmRleE9mKHBhcnNlSW50KHZhbHVlKSkgPiAtMSl7DQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJHQoJ2luc3VyZVJ1bGVEZWZpbml0aW9uLnJlcGVhdFJvbGVObycpKSkNCiAgICAgICAgfQ0KICAgICAgfWVsc2V7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIHJ1bGVWaWV3OiB7DQogICAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgICB1cGRhdGVEeW5hbWljVGFibGU6IGZhbHNlLA0KICAgICAgICBmbGFnOiAnJywNCiAgICAgICAgcnVsZUNvZGU6ICcnLA0KICAgICAgICBydWxlUXVlcnk6IHVuZGVmaW5lZCwNCiAgICAgICAgcnVsZVR5cGU6ICcxJw0KICAgICAgfSwNCiAgICAgIGF0dHJpYnV0ZU9iajoge30sDQogICAgICBydWxlVmlzaWJsZTogZmFsc2UsDQogICAgICBwZFBwSW5mbzoge30sDQogICAgICBwcm9kdWN0Q29kZTogJycsDQogICAgICByYWRpbzE6IG51bGwsDQogICAgICByYWRpbzI6IG51bGwsDQogICAgICBwZFR5cGU6IG51bGwsDQogICAgICBwZERldGFpbFR5cGU6IG51bGwsDQogICAgICBzaG93UnVsZTogZmFsc2UsDQogICAgICBsYW5ndWFnZTogbnVsbCwNCiAgICAgIHJ1bGVNZXNzYWdlSW5mb0JvbTogW10sDQogICAgICBhZ2VDb25maWdzOiBbXSwNCiAgICAgIGN1c0NvbmZpZ3M6IFtdLA0KICAgICAgcnVsZUNvbmZpZ3M6IFtdLA0KICAgICAgcGRQYXlGcmVxT3B0aW9uczogW10sDQogICAgICBPcHRpb25zOiBbDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogIjMiLA0KICAgICAgICAgIGxhYmVsOiAiMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAiNSIsDQogICAgICAgICAgbGFiZWw6ICI1Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICIxMCIsDQogICAgICAgICAgbGFiZWw6ICIxMCINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIHByb2R1Y3RPcHRpb25zOiBbXSwNCiAgICAgIHNob3dBZ2VQcm9kdWN0RmxhZzogdHJ1ZSwNCiAgICAgIHNob3dSdWxlUHJvZHVjdEZsYWc6IHRydWUsDQogICAgICBwYWNrYWdlT3B0aW9uczogW10sDQogICAgICBzaG93UGFnZUZsYWc6ICcnLA0KICAgICAgcmV2aXNpb25GbGFnOiBmYWxzZSwNCiAgICAgIGFwcG9pbnRQcm9kdWN0T3B0aW9uczogW10sDQogICAgICBydWxlUHJvcGVydGllc0ZpbHRlcjogJzEkMiQzJywNCiAgICAgIGNvZGVGaWx0ZXJzOiBbXSwNCiAgICAgIGNob29zZVJ1bGVzOiBbXSwNCiAgICAgIGNvbmZpZ0FnZUxlbmd0aDogJycsDQogICAgICAvL+Wll+mkkOaKleS/neW5tOm+hOinhOWImemFjee9rg0KICAgICAgYWdlRm9ybTogew0KICAgICAgICBwZFJvbGVDb2RlOiAnMDAnLA0KICAgICAgICBwZFJ1bGVEZWY6ICcyJywNCiAgICAgICAgcGREZWZDb2RlOiAnJywNCiAgICAgICAgcGRSb2xlTm86ICcnLA0KICAgICAgICBwZFJvbGVTZXg6ICcxJywNCiAgICAgICAgcGRJbnN1UGVyaW9kOiAnJywNCiAgICAgICAgcGRJbnN1UGVyaW9kVW5pdDogJ1knLA0KICAgICAgICBwZFBheVBlcmlvZDogJycsDQogICAgICAgIHBkUGF5UGVyaW9kVW5pdDogJ1knLA0KICAgICAgICBwZFBheUZyZXE6ICcnLA0KICAgICAgICBwZE1heEFwcEFnZTogJycsDQogICAgICAgIHBkTWF4QXBwQWdlVW5pdDogJ0EnLA0KICAgICAgICBwZE1pbkFwcEFnZTogJycsDQogICAgICAgIHBkTWluQXBwQWdlVW5pdDogJ0EnDQogICAgICB9LA0KICAgICAgLy/lpZfppJDoh6rlrprkuYnmipXkv53op4TliJnphY3nva4NCiAgICAgIGluc3VyYW5jZVJ1bGVGb3JtOiB7DQogICAgICAgIHBkUnVsZUdyYWRlOiAnMicsDQogICAgICAgIHBkR3JhZGVDb2RlOiAnJw0KICAgICAgfSwNCiAgICAgIC8v6YCJ5oup6KeE5YiZDQogICAgICBjdXNGb3JtOiB7DQogICAgICAgIHBhY2thZ2U6ICcnLA0KICAgICAgICBwcm9kdWN0OiAnJywNCiAgICAgICAgcnVsZUNvZGU6ICcnLA0KICAgICAgICBydWxlRGVzYzogJycNCiAgICAgIH0sDQogICAgICBwcm9kdWN0Rm9ybTogew0KICAgICAgICBwcm9kdWN0OiAnJw0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBkUm9sZUNvZGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nop5LoibIiLCB0cmlnZ2VyOiAiYmx1ciJ9XSwNCiAgICAgICAgcGRSdWxlRGVmOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6KeE5YiZ5bGe5oCnIiwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIHBkRGVmQ29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeinhOWImeWxnuaAp+WFs+iBlOe8lueggSIsIHRyaWdnZXI6ICJibHVyIn1dLA0KICAgICAgICBwZFJvbGVObzogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeinkuiJsumhuuW6jyIsIHRyaWdnZXI6ICJibHVyIn0sDQogICAgICAgICAge3BhdHRlcm46IC9eWzEtNl0kLywgbWVzc2FnZTogIuWPquiDvei+k+WFpTEtNueahOaVsOWtlyIsIHRyaWdnZXI6ICJibHVyIn0sDQogICAgICAgICAge3ZhbGlkYXRvcjogdmFsaWRhdGVSb2xlTm8sdHJpZ2dlcjonYmx1cid9XSwNCiAgICAgICAgcGRSb2xlU2V4OiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5oCn5YirIiwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIHBkTWF4QXBwQWdlOiBbe3BhdHRlcm46IC9eWzAtOV0qJC8sIG1lc3NhZ2U6ICLmnIDlpKfmipXkv53lubTpvoTlv4XpobvkuLrmlbDlrZciLCB0cmlnZ2VyOiAiYmx1ciJ9LCB7dmFsaWRhdG9yOiB2YWxpZGF0ZXBkTWF4QXBwQWdlLCB0cmlnZ2VyOiAnYmx1cid9XSwNCiAgICAgICAgcGRNaW5BcHBBZ2U6IFt7cGF0dGVybjogL15bMC05XSokLywgbWVzc2FnZTogIuacgOWwj+aKleS/neW5tOm+hOW/hemhu+S4uuaVsOWtlyIsIHRyaWdnZXI6ICJibHVyIn1dDQogICAgICB9LA0KICAgICAgaW5zdXJhbmNlUnVsZUZvcm1SdWxlOiB7DQogICAgICAgIHBkUnVsZUdyYWRlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6KeE5YiZ5omA5bGe57qn5YirIiwgdHJpZ2dlcjogImJsdXIifV0sDQogICAgICAgIHBkR3JhZGVDb2RlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5Lqn5ZOBIiwgdHJpZ2dlcjogImJsdXIifV0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbDQogICAgICAncnVsZU1hc3NhZ2VzJywNCiAgICBdKQ0KICB9LA0KICBjb21wb25lbnRzOiB7cnVsZU1vZHVsZSwgcnVsZU1ha2V9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubGFuZ3VhZ2U7DQogICAgdGhpcy5ydWxlTWVzc2FnZUluZm9Cb20gPSB0aGlzLiRzdG9yZS5zdGF0ZS5ydWxlTWVzc2FnZS5ydWxlTWVzc2FnZXM7DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5zaG93UGFnZUZsYWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zaG93UGFnZUZsYWcNCiAgICB0aGlzLnJldmlzaW9uRmxhZyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbyA9PT0gJ3RydWUnDQogICAgdGhpcy5wZFBwSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCk7DQogICAgdGhpcy5wcm9kdWN0Rm9ybS5wcm9kdWN0ID0gdGhpcy5wZFBwSW5mby5wcENvZGUgKyAiOiIgKyB0aGlzLnBkUHBJbmZvLnBwTmFtZTsNCiAgICBpZiAodGhpcy5yZXZpc2lvbkZsYWcpIHsNCiAgICAgIHRoaXMuZmluZEN1c0NvbmZpZ3NEYXRhKCkNCiAgICAgIHRoaXMuZmluZFByb2R1Y3RMaXN0KCkNCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKHRoaXMucGRQcEluZm8ucGRJbmZvSWQpIHsNCiAgICAgICAgdGhpcy5maW5kUGRQYXlGcmVxdWVuY3koKQ0KICAgICAgICAvLyB0aGlzLmZpbmRQZFR5cGUoKQ0KICAgICAgICB0aGlzLmluc3VyZVJ1bGVEZWZpbml0aW9uTGlzdCgpDQogICAgICAgIHRoaXMuZmluZEN1c0NvbmZpZ3NEYXRhKCkNCiAgICAgICAgdGhpcy5maW5kUHJvZHVjdExpc3QoKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAgIHNob3dSdWxlOmZ1bmN0aW9uKCl7DQogICAgICAgIGlmICh0aGlzLnNob3dSdWxlID09IGZhbHNlKXsNCiAgICAgICAgICB0aGlzLnJ1bGVDb25maWdzPVtdOw0KICAgICAgICB9DQogICAgICB9LA0KICAgIHJ1bGVDb25maWdzOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5ydWxlQ29uZmlncy5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMuY29kZUZpbHRlcnMgPSBbXTsNCiAgICAgICAgdGhpcy5ydWxlQ29uZmlncy5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgdGhpcy5jb2RlRmlsdGVycy5wdXNoKHsNCiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFJ1bGVDb2RlLA0KICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFJ1bGVDb2RlDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLmNvZGVGaWx0ZXJzID0gdGhpcy5jb2RlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsNCiAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dCkpIHsNCiAgICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHByZXY7DQogICAgICAgIH0sIFtdKTsNCiAgICAgIH0NCiAgICB9LA0KICAgICdhZ2VGb3JtLnBkUnVsZURlZicoKSB7DQogICAgICBjb25zdCB2YWwgPSB0aGlzLmFnZUZvcm0ucGRSdWxlRGVmOw0KICAgICAgaWYgKHZhbCA9PSAnMicpIHsNCiAgICAgICAgdGhpcy5zaG93QWdlUHJvZHVjdEZsYWcgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnNob3dBZ2VQcm9kdWN0RmxhZyA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgJ2luc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlJygpIHsNCiAgICAgIGNvbnN0IHZhbCA9IHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGU7DQogICAgICBpZiAodmFsID09ICcyJykgew0KICAgICAgICB0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWcgPSB0cnVlOw0KICAgICAgICB0aGlzLmluc3VyYW5jZVJ1bGVGb3JtUnVsZS5wZEdyYWRlQ29kZSA9IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nkuqflk4EiLCB0cmlnZ2VyOiAiYmx1ciJ9XQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zaG93UnVsZVByb2R1Y3RGbGFnID0gZmFsc2U7DQogICAgICAgIHRoaXMuaW5zdXJhbmNlUnVsZUZvcm1SdWxlLnBkR3JhZGVDb2RlID0gW3tyZXF1aXJlZDogZmFsc2V9XQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWdlQ29uZmlncygpIHsNCiAgICAgIC8v6I635Y+W5bm06b6E6KeS6Imy6aG65bqPDQogICAgICBnZXRNYXhBZ2VPcmRlcih0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6IHRoaXMucGRQcEluZm8uaWR9KSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmNvbmZpZ0FnZUxlbmd0aCA9IHJlcy5kYXRhOw0KICAgICAgICB0aGlzLmFnZUZvcm0ucGRSb2xlTm8gPSByZXMuZGF0YTsNCiAgICAgIH0pOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNoYW5nZVJvbGVObyh2YWwpew0KICAgICAgbGV0IG1heE5vID0gMDsNCiAgICAgIGxldCBmbGFnID0gZmFsc2U7DQogICAgICB0aGlzLmFnZUNvbmZpZ3MuZm9yRWFjaChjb25maWc9PnsNCiAgICAgICAgaWYoY29uZmlnLnBkUm9sZUNvZGUgPT0gdmFsKXsNCiAgICAgICAgICBpZihjb25maWcucGRSdWxlRGVmID09IHRoaXMuYWdlRm9ybS5wZFJ1bGVEZWYgJiZjb25maWcucGRSdWxlRGVmQ29kZSA9PSB0aGlzLmFnZUZvcm0ucGREZWZDb2RlKXsNCiAgICAgICAgICAgIGlmKGNvbmZpZy5wZFJvbGVObyA+IG1heE5vKXsNCiAgICAgICAgICAgICAgZmxhZyA9IHRydWU7DQogICAgICAgICAgICAgIG1heE5vID0gY29uZmlnLnBkUm9sZU5vDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmKGZsYWcgPT0gdHJ1ZSl7DQogICAgICAgICAgICB0aGlzLmFnZUZvcm0ucGRSb2xlTm8gPSBtYXhObyArIDE7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgYmFjaygpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAn5aWX6aSQ5qCh6aqM6KeE5YiZ6K6i5q2j5Li76aG1J30pDQogICAgfSwNCiAgICBydWxlTW9kdWxlQ2xvc2VkKCkgew0KICAgICAgdGhpcy5ydWxlVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5zZWFyY2hSdWxlcygpDQogICAgfSwNCiAgICBydWxlTWFrZUNsb3NlZCgpIHsNCiAgICAgIHRoaXMucnVsZVZpZXcudmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5yYWRpbzIgPSBudWxsDQogICAgfSwNCiAgICBydWxlVmlld0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMucmFkaW8yID0gbnVsbA0KICAgIH0sDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgdGhpcy5pbnN1cmVSdWxlRGVmaW5pdGlvbkxpc3QoKTsNCiAgICB9LA0KICAgIGluc3VyZVJ1bGVEZWZpbml0aW9uTGlzdCgpIHsNCiAgICAgIGluc3VyZVJ1bGVEZWZpbml0aW9uTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6IHRoaXMucGRQcEluZm8uaWR9KSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmFnZUNvbmZpZ3MgPSByZXMuZGF0YQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBmaW5kUHJvZHVjdEJ5UGFja2FnZUlkKHZhbCkgew0KICAgICAgaWYgKHZhbCA9PSBudWxsIHx8IHZhbCA9PSAiIikgew0KICAgICAgICB0aGlzLmFwcG9pbnRQcm9kdWN0T3B0aW9ucyA9IFtdOw0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGZpbmRQcm9kdWN0TGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6IHZhbH0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7DQogICAgICAgIHRoaXMuYXBwb2ludFByb2R1Y3RPcHRpb25zID0gW107DQogICAgICAgIHRoaXMuY3VzRm9ybS5wcm9kdWN0ID0gJyc7DQogICAgICAgIGlmIChkYXRhLmxlbmd0aCkgew0KICAgICAgICAgIGRhdGEuZm9yRWFjaChwcm9kdWN0ID0+IHsNCiAgICAgICAgICAgIHRoaXMuYXBwb2ludFByb2R1Y3RPcHRpb25zLnB1c2goew0KICAgICAgICAgICAgICB2YWx1ZTogcHJvZHVjdC5wZENvZGUsDQogICAgICAgICAgICAgIGxhYmVsOiBwcm9kdWN0LnBkQ29kZSArICI6IiArIHByb2R1Y3QucGROYW1lDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQoNCiAgICB9LA0KICAgIGZpbmRQcm9kdWN0TGlzdCgpIHsNCiAgICAgIGZpbmRQcm9kdWN0TGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6IHRoaXMucGRQcEluZm8uaWR9KSkudGhlbihyZXMgPT4gew0KICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25zID0gW107DQogICAgICAgIGlmIChkYXRhLmxlbmd0aCkgew0KICAgICAgICAgIGRhdGEuZm9yRWFjaCh2YWwgPT4gew0KICAgICAgICAgICAgdGhpcy5wcm9kdWN0T3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZENvZGUsDQogICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRDb2RlICsgIjoiICsgdmFsLnBkTmFtZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZmluZFBkVHlwZSgpIHsNCiAgICAgIHBkdGVtcFBkQ2xzTGFiTGlzdCh0aGlzLnBkUHBJbmZvLnBkSW5mb0lkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09IDEpIHsNCiAgICAgICAgICAgIHRoaXMucGRUeXBlID0gcmVzcG9uc2UuZGF0YVtpXS5wZENsczE7DQogICAgICAgICAgICB0aGlzLnBkRGV0YWlsVHlwZSA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMyOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgIH0sDQogICAgZmluZFBkUGF5RnJlcXVlbmN5KCkgew0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIHBkQ29kZTogdGhpcy5wZFBwSW5mby5wcENvZGUsDQogICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkUHBJbmZvLnBkSW5mb0lkDQogICAgICB9Ow0KICAgICAgZmluZFBkUGF5RnJlcXVlbmN5KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLnBkUGF5RnJlcU9wdGlvbnMgPSBbXTsNCiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChhdHJzSW5mbyA9PiB7DQogICAgICAgICAgdGhpcy5wZFBheUZyZXFPcHRpb25zLnB1c2goew0KICAgICAgICAgICAgdmFsdWU6IGF0cnNJbmZvLnBkQXRyc1ZhbCwNCiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldENvZGVOYW1lKCJwYXltZW50RnJlcXVlbmN5IiwgYXRyc0luZm8ucGRBdHJzVmFsKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZmluZEN1c0NvbmZpZ3NEYXRhKCkgew0KDQogICAgICBmaW5kUnVsZXNMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkSW5mb0lkIjogdGhpcy5wZFBwSW5mby5pZCwgInBkQ29kZSI6IHRoaXMucGRQcEluZm8ucHBDb2RlfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5jdXNDb25maWdzID0gcmVzLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGZpbmRSdWxlc09wdGlvbnMoKSB7DQogICAgICB0aGlzLiRyZWZzWyJpbnN1cmFuY2VSdWxlRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdGhpcy5zaG93UnVsZSA9IHRydWU7DQogICAgICAgICAgdGhpcy5jdXNGb3JtLnBhY2thZ2UgPSB0aGlzLnBkUHBJbmZvLmlkOw0KICAgICAgICAgIHBhY2thZ2VMaXN0KCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIHRoaXMucGFja2FnZU9wdGlvbnMgPSBbXTsNCiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VPcHRpb25zLnB1c2goew0KICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCwNCiAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucHBDb2RlICsgIjoiICsgdmFsLnBwTmFtZQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZmluZFByb2R1Y3RCeVBhY2thZ2VJZCh0aGlzLmN1c0Zvcm0ucGFja2FnZSk7DQogICAgICAgICAgICB0aGlzLnNlYXJjaFJ1bGVzKCkNCiAgICAgICAgICB9KTsNCg0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIGlmICh0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWcpIHsNCiAgICAgICAgdGhpcy5wcm9kdWN0Q29kZSA9IHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRHcmFkZUNvZGUNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbmRSdWxlc0J5UGFyYW1zKHBhcmFtcykgew0KICAgICAgZmluZFJ1bGVzQnlQYXJhbXModGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgZGF0YSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7DQogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwucGRSdWxlQ29kZSA9PSBlbGVtZW50LnBkUnVsZUNvZGUpKSB7DQogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBwcmV2Ow0KICAgICAgICB9LCBbXSk7DQogICAgICAgIHRoaXMucnVsZUNvbmZpZ3MgPSBkYXRhOw0KICAgICAgfSk7DQogICAgfSwNCiAgICByZWZyZXNoUnVsZUNvbmZpZ3MoKSB7DQogICAgICB0aGlzLiRyZWZzWyJjdXNGb3JtIl0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMuc2VhcmNoUnVsZXMoKQ0KICAgIH0sDQogICAgYWRkUnVsZXMoKSB7DQogICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgcGRCdXNzVHlwZTogJzcnLA0KICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAnOScNCiAgICAgIH07DQogICAgICBsZXQgcGRDb2RlID0gJyc7DQogICAgICBpZiAodGhpcy5zaG93UnVsZVByb2R1Y3RGbGFnKSB7DQogICAgICAgIHBkQ29kZSA9IHRoaXMucHJvZHVjdENvZGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHBkQ29kZSA9IHRoaXMucGRQcEluZm8ucHBDb2RlDQogICAgICB9DQogICAgICBnZXRSdWxlQ29kZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmogPSB7DQogICAgICAgICAgY29kZTogcmVzcG9uc2UuZGF0YSwNCiAgICAgICAgICBydWxlQnVzc01vZHU6ICc3JywNCiAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiAnOScsDQogICAgICAgICAgcnVsZVR5cGU6ICcxJywNCiAgICAgICAgICBydWxlQXR0cjogJzMnLA0KICAgICAgICAgIHBkVHlwZTogJzInLA0KICAgICAgICAgIHBkQ29kZTogcGRDb2RlLA0KICAgICAgICAgIHBkRWRpdGlvbjogJzEnDQogICAgICAgIH07DQogICAgICAgIGlmICh0aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlID09ICcyJykgew0KICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JqLnJ1bGVUeXBlID0gJzEnLA0KICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucGRUeXBlID0gJzEnLA0KICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucnVsZUF0dHIgPSAnMicsDQogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9iai5wZENvZGUgPSB0aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkR3JhZGVDb2RlLA0KICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYmoucmlza1R5cGUgPSB0aGlzLnBkVHlwZSwNCiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JqLnJpc2tEZXRhaWwgPSB0aGlzLnBkRGV0YWlsVHlwZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMucnVsZVZpc2libGUgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgc2hvd1J1bGVzKGNvZGUpIHsNCiAgICAgIHRoaXMucnVsZVZpZXcuZmxhZyA9ICcxJzsNCiAgICAgIHRoaXMucnVsZVZpZXcucnVsZUNvZGUgPSBjb2RlOw0KICAgICAgdGhpcy5ydWxlVmlldy5ydWxlUXVlcnkgPSB0cnVlOw0KICAgICAgdGhpcy5ydWxlVmlldy51cGRhdGVEeW5hbWljVGFibGUgPSBmYWxzZTsNCiAgICAgIHRoaXMucnVsZVZpZXcudmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIHNlYXJjaFJ1bGVzKCkgew0KICAgICAgbGV0IHBhcmFtcyA9e307DQogICAgICBpZih0aGlzLmluc3VyYW5jZVJ1bGVGb3JtLnBkUnVsZUdyYWRlPT09JzInKXsNCiAgICAgICAgaWYoIXRoaXMuY3VzRm9ybS5wcm9kdWN0KXsNCiAgICAgICAgICBwYXJhbXMgPSB7DQogICAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZFBwSW5mby5pZCwNCiAgICAgICAgICAgIHBhY2thZ2VJZDogdGhpcy5jdXNGb3JtLnBhY2thZ2UsDQogICAgICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdENvZGUsDQogICAgICAgICAgICBwZFJ1bGVDb2RlOiB0aGlzLmN1c0Zvcm0ucnVsZUNvZGUNCiAgICAgICAgICB9Ow0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICBwYXJhbXM9IHsNCiAgICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkUHBJbmZvLmlkLA0KICAgICAgICAgICAgcGFja2FnZUlkOiB0aGlzLmN1c0Zvcm0ucGFja2FnZSwNCiAgICAgICAgICAgIHBkQ29kZTogdGhpcy5jdXNGb3JtLnByb2R1Y3QsDQogICAgICAgICAgICBwZFJ1bGVDb2RlOiB0aGlzLmN1c0Zvcm0ucnVsZUNvZGUNCiAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICB9ZWxzZSB7DQogICAgICAgIHBhcmFtcz17DQogICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGRQcEluZm8uaWQsDQogICAgICAgICAgcGFja2FnZUlkOiB0aGlzLmN1c0Zvcm0ucGFja2FnZSwNCiAgICAgICAgICBwZENvZGU6IHRoaXMuY3VzRm9ybS5wcm9kdWN0LA0KICAgICAgICAgIHBkUnVsZUNvZGU6IHRoaXMuY3VzRm9ybS5ydWxlQ29kZQ0KICAgICAgICB9Ow0KICAgICAgfQ0KICAgICAgZmluZFJ1bGVzQnlQYXJhbXModGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgZGF0YSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7DQogICAgICAgICAgaWYgKCFwcmV2LmZpbmQoZWwgPT4gZWwucGRSdWxlQ29kZSA9PSBlbGVtZW50LnBkUnVsZUNvZGUpKSB7DQogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBwcmV2Ow0KICAgICAgICB9LCBbXSk7DQogICAgICAgIHRoaXMucnVsZUNvbmZpZ3MgPSBkYXRhOw0KICAgICAgfSkNCiAgICB9LA0KICAgIGNvbm5SdWxlcygpIHsNCiAgICAgIGlmICh0aGlzLmNob29zZVJ1bGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfor7fpgInmi6nop4TliJknKTsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBsZXQgcGR0ZW1wUGRSdWxlc0xpc3QgPSBbXTsNCiAgICAgIHRoaXMuY2hvb3NlUnVsZXMuZm9yRWFjaChydWxlID0+IHsNCiAgICAgICAgbGV0IHBkdGVtcFBkUnVsZXMgPSB7DQogICAgICAgICAgcGRWZXJJZDogMSwNCiAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZFBwSW5mby5pZCwNCiAgICAgICAgICBwZENvZGU6IHJ1bGUucGRDb2RlLA0KICAgICAgICAgIHBkVHlwZTogdGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZFJ1bGVHcmFkZSwNCiAgICAgICAgICBwZFJ1bGVHcmFkZTogcnVsZS5wZFJ1bGVHcmFkZSwNCiAgICAgICAgICBwZFJ1bGVDbHM6IHJ1bGUucGRSdWxlQ2xzLA0KICAgICAgICAgIHBkUnVsZUR0Q2xzOiBydWxlLnBkUnVsZUR0Q2xzLA0KICAgICAgICAgIHBkUnVsZVByb3BDbHM6IHJ1bGUucGRSdWxlUHJvcENscywNCiAgICAgICAgICBwZFJ1bGVQcm9wRHRDbHM6IHJ1bGUucGRSdWxlUHJvcER0Q2xzLA0KICAgICAgICAgIHBkUnVsZUNvZGU6IHJ1bGUucGRSdWxlQ29kZSwNCiAgICAgICAgICBwZFJ1bGVEZXNjOiBydWxlLnBkUnVsZURlc2MNCiAgICAgICAgfTsNCiAgICAgICAgaWYgKHRoaXMuaW5zdXJhbmNlUnVsZUZvcm0ucGRSdWxlR3JhZGUgPT0gJzInKSB7DQogICAgICAgICAgcGR0ZW1wUGRSdWxlcy5wZFBhY2thZ2VDb2RlID0gdGhpcy5pbnN1cmFuY2VSdWxlRm9ybS5wZEdyYWRlQ29kZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHBkdGVtcFBkUnVsZXMucGRQYWNrYWdlQ29kZSA9IHRoaXMucGRQcEluZm8ucHBDb2RlDQogICAgICAgIH0NCiAgICAgICAgcGR0ZW1wUGRSdWxlc0xpc3QucHVzaChwZHRlbXBQZFJ1bGVzKTsNCiAgICAgIH0pOw0KICAgICAgbGV0IHBkQ29kZTsNCiAgICAgIGlmICh0aGlzLnNob3dSdWxlUHJvZHVjdEZsYWcpIHsNCiAgICAgICAgcGRDb2RlID0gdGhpcy5wcm9kdWN0Q29kZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcGRDb2RlID0gdGhpcy5wZFBwSW5mby5wcENvZGUNCiAgICAgIH0NCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBydWxlczogcGR0ZW1wUGRSdWxlc0xpc3QsDQogICAgICAgIHBkdGVtcFBwSW5mbzogdGhpcy5wZFBwSW5mbywNCiAgICAgICAgcGRDb2RlOiBwZENvZGUsDQogICAgICAgIHBkQnVzc1R5cGU6ICc3JywNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogJzknDQogICAgICB9Ow0KICAgICAgY29ublJ1bGVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgdGhpcy5maW5kQ3VzQ29uZmlnc0RhdGEoKTsNCiAgICAgICAgdGhpcy5zZWFyY2hSdWxlcygpOw0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsZWFuQWdlRm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImFnZUZvcm0iXS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy5hZ2VGb3JtLnBkTWF4QXBwQWdlVW5pdCA9ICJBIjsNCiAgICAgIHRoaXMuYWdlRm9ybS5wZE1pbkFwcEFnZVVuaXQgPSAiQSI7DQogICAgICB0aGlzLmFnZUZvcm0ucGRJbnN1UGVyaW9kVW5pdCA9ICJZIjsNCiAgICAgIHRoaXMuYWdlRm9ybS5wZFBheVBlcmlvZFVuaXQgPSAiWSI7DQogICAgICB0aGlzLmFnZUZvcm0ucGRSb2xlTm8gPSB0aGlzLmNvbmZpZ0FnZUxlbmd0aDsNCiAgICAgIHRoaXMucmFkaW8xID0gbnVsbDsNCiAgICAgIHRoaXMuJHJlZnMuYWdlVGFibGUuc2V0Q3VycmVudFJvdygpDQogICAgfSwNCiAgICBzYXZlQWdlRm9ybSgpIHsNCiAgICAgIGxldCBQZHRlbXBQZEluc3VBZ2VJbmZvID0gew0KICAgICAgICBwZFZlcklkOiAnMScsDQogICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkUHBJbmZvLm9wZXJhdG9yLA0KICAgICAgICBwZFR5cGU6ICcyJywNCiAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGRQcEluZm8uaWQsDQogICAgICAgIHBkQ29kZTogdGhpcy5wZFBwSW5mby5wcENvZGUsDQogICAgICAgIHBkUnVsZURlZjogdGhpcy5hZ2VGb3JtLnBkUnVsZURlZiwNCiAgICAgICAgcGRSb2xlQ29kZTogdGhpcy5hZ2VGb3JtLnBkUm9sZUNvZGUsDQogICAgICAgIHBkUm9sZU5vOiB0aGlzLmFnZUZvcm0ucGRSb2xlTm8sDQogICAgICAgIHBkUm9sZVNleDogdGhpcy5hZ2VGb3JtLnBkUm9sZVNleCwNCiAgICAgICAgcGRJbnN1UGVyaW9kOiB0aGlzLmFnZUZvcm0ucGRJbnN1UGVyaW9kLA0KICAgICAgICBwZEluc3VQZXJpb2RVbml0OiB0aGlzLmFnZUZvcm0ucGRJbnN1UGVyaW9kVW5pdCwNCiAgICAgICAgcGRQYXlQZXJpb2Q6IHRoaXMuYWdlRm9ybS5wZFBheVBlcmlvZCwNCiAgICAgICAgcGRQYXlQZXJpb2RVbml0OiB0aGlzLmFnZUZvcm0ucGRQYXlQZXJpb2RVbml0LA0KICAgICAgICBwZFBheUZyZXE6IHRoaXMuYWdlRm9ybS5wZFBheUZyZXEsDQogICAgICAgIHBkTWF4QXBwQWdlOiB0aGlzLmFnZUZvcm0ucGRNYXhBcHBBZ2UsDQogICAgICAgIHBkTWF4QXBwQWdlVW5pdDogdGhpcy5hZ2VGb3JtLnBkTWF4QXBwQWdlVW5pdCwNCiAgICAgICAgcGRNaW5BcHBBZ2U6IHRoaXMuYWdlRm9ybS5wZE1pbkFwcEFnZSwNCiAgICAgICAgcGRNaW5BcHBBZ2VVbml0OiB0aGlzLmFnZUZvcm0ucGRNaW5BcHBBZ2VVbml0DQogICAgICB9Ow0KICAgICAgLy/np7vpmaTmoKHpqowNCiAgICAgIGlmICh0aGlzLmFnZUZvcm0ucGRSdWxlRGVmID09ICczJykgew0KICAgICAgICB0aGlzLnJ1bGVzLnBkRGVmQ29kZSA9IFt7cmVxdWlyZWQ6IGZhbHNlfV07DQogICAgICAgIFBkdGVtcFBkSW5zdUFnZUluZm8ucGRSdWxlRGVmQ29kZSA9IHRoaXMucGRQcEluZm8ucHBDb2RlDQogICAgICB9IGVsc2Ugew0KICAgICAgICBQZHRlbXBQZEluc3VBZ2VJbmZvLnBkUnVsZURlZkNvZGUgPSB0aGlzLmFnZUZvcm0ucGREZWZDb2RlDQogICAgICB9DQogICAgICB0aGlzLiRyZWZzWyJhZ2VGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBhZGRQZHRlbXBQZEluc3VBZ2VJbmZvKFBkdGVtcFBkSW5zdUFnZUluZm8pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgdGhpcy5jbGVhbkFnZUZvcm0oKTsNCiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB1cGRhdGVBZ2VGb3JtKCkgew0KICAgICAgbGV0IFBkdGVtcFBkSW5zdUFnZUluZm8gPSB7DQogICAgICAgIGlkOiB0aGlzLnJhZGlvMSwNCiAgICAgICAgcGRWZXJJZDogJzEnLA0KICAgICAgICBvcGVyYXRvcjogdGhpcy5wZFBwSW5mby5vcGVyYXRvciwNCiAgICAgICAgcGRUeXBlOiAnMicsDQogICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkUHBJbmZvLmlkLA0KICAgICAgICBwZENvZGU6IHRoaXMucGRQcEluZm8ucHBDb2RlLA0KICAgICAgICBwZFJ1bGVEZWY6IHRoaXMuYWdlRm9ybS5wZFJ1bGVEZWYsDQogICAgICAgIHBkUm9sZUNvZGU6IHRoaXMuYWdlRm9ybS5wZFJvbGVDb2RlLA0KICAgICAgICBwZFJvbGVObzogdGhpcy5hZ2VGb3JtLnBkUm9sZU5vLA0KICAgICAgICBwZFJvbGVTZXg6IHRoaXMuYWdlRm9ybS5wZFJvbGVTZXgsDQogICAgICAgIHBkSW5zdVBlcmlvZDogdGhpcy5hZ2VGb3JtLnBkSW5zdVBlcmlvZCwNCiAgICAgICAgcGRJbnN1UGVyaW9kVW5pdDogdGhpcy5hZ2VGb3JtLnBkSW5zdVBlcmlvZFVuaXQsDQogICAgICAgIHBkUGF5UGVyaW9kOiB0aGlzLmFnZUZvcm0ucGRQYXlQZXJpb2QsDQogICAgICAgIHBkUGF5UGVyaW9kVW5pdDogdGhpcy5hZ2VGb3JtLnBkUGF5UGVyaW9kVW5pdCwNCiAgICAgICAgcGRQYXlGcmVxOiB0aGlzLmFnZUZvcm0ucGRQYXlGcmVxLA0KICAgICAgICBwZE1heEFwcEFnZTogdGhpcy5hZ2VGb3JtLnBkTWF4QXBwQWdlLA0KICAgICAgICBwZE1heEFwcEFnZVVuaXQ6IHRoaXMuYWdlRm9ybS5wZE1heEFwcEFnZVVuaXQsDQogICAgICAgIHBkTWluQXBwQWdlOiB0aGlzLmFnZUZvcm0ucGRNaW5BcHBBZ2UsDQogICAgICAgIHBkTWluQXBwQWdlVW5pdDogdGhpcy5hZ2VGb3JtLnBkTWluQXBwQWdlVW5pdA0KICAgICAgfTsNCiAgICAgIC8v56e76Zmk5qCh6aqMDQogICAgICBpZiAodGhpcy5hZ2VGb3JtLnBkUnVsZURlZiA9PSAnMycpIHsNCiAgICAgICAgdGhpcy5ydWxlcy5wZERlZkNvZGUgPSBbe3JlcXVpcmVkOiBmYWxzZX1dOw0KICAgICAgICBQZHRlbXBQZEluc3VBZ2VJbmZvLnBkUnVsZURlZkNvZGUgPSB0aGlzLnBkUHBJbmZvLnBwQ29kZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgUGR0ZW1wUGRJbnN1QWdlSW5mby5wZFJ1bGVEZWZDb2RlID0gdGhpcy5hZ2VGb3JtLnBkRGVmQ29kZQ0KICAgICAgfQ0KICAgICAgdGhpcy4kcmVmc1siYWdlRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdXBkYXRlUGR0ZW1wUGRJbnN1QWdlSW5mbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZHRlbXBQZEluc3VBZ2VJbmZvIjogUGR0ZW1wUGRJbnN1QWdlSW5mb30pKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgICAgIHRoaXMuY2xlYW5BZ2VGb3JtKCk7DQogICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsUm9sZVJvdyhyb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpCcsICforablkYonLCB7DQogICAgICAgIGRpc3Rpbmd1aXNoQ2FuY2VsQW5kQ2xvc2U6IHRydWUsDQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICBkZWxldGVQZHRlbXBQZEluc3VBZ2VJbmZvKHJvdy5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQoNCiAgICAgIH0pDQogICAgfSwNCiAgICBkZWxDdXNSb3cocm93KSB7DQogICAgICBkZWxldGVSdWxlcyhyb3cuaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgdGhpcy5maW5kQ3VzQ29uZmlnc0RhdGEoKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBmaWx0ZXJIYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgew0KICAgICAgaWYgKGNvbHVtbikgew0KICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsNCiAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hvb3NlT25lMShyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMucmFkaW8xKSB7DQogICAgICAgICAgdGhpcy5yYWRpbzEgPSBudWxsOw0KICAgICAgICAgIHRoaXMuY2xlYW5BZ2VGb3JtKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5yYWRpbzEgPSByb3cuaWQ7DQogICAgICAgICAgLy/ojrflj5booYzmlbDmja4NCiAgICAgICAgICB0aGlzLmFnZUZvcm0ucGRSdWxlRGVmID0gcm93LnBkUnVsZURlZjsNCiAgICAgICAgICBpZiAocm93LnBkUnVsZURlZiA9PSAnMicpIHsNCiAgICAgICAgICAgIHRoaXMuYWdlRm9ybS5wZERlZkNvZGUgPSByb3cucGRSdWxlRGVmQ29kZQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmFnZUZvcm0ucGREZWZDb2RlID0gJycNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkUm9sZUNvZGUgPSByb3cucGRSb2xlQ29kZTsNCiAgICAgICAgICB0aGlzLmFnZUZvcm0ucGRSb2xlTm8gPSByb3cucGRSb2xlTm87DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkUm9sZVNleCA9IHJvdy5wZFJvbGVTZXg7DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkSW5zdVBlcmlvZCA9IHJvdy5wZEluc3VQZXJpb2Q7DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkSW5zdVBlcmlvZFVuaXQgPSByb3cucGRJbnN1UGVyaW9kVW5pdDsNCiAgICAgICAgICB0aGlzLmFnZUZvcm0ucGRQYXlQZXJpb2QgPSByb3cucGRQYXlQZXJpb2Q7DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkUGF5UGVyaW9kVW5pdCA9IHJvdy5wZFBheVBlcmlvZFVuaXQ7DQogICAgICAgICAgdGhpcy5hZ2VGb3JtLnBkTWF4QXBwQWdlID0gcm93LnBkTWF4QXBwQWdlOw0KICAgICAgICAgIHRoaXMuYWdlRm9ybS5wZE1heEFwcEFnZVVuaXQgPSByb3cucGRNYXhBcHBBZ2VVbml0Ow0KICAgICAgICAgIHRoaXMuYWdlRm9ybS5wZE1pbkFwcEFnZSA9IHJvdy5wZE1pbkFwcEFnZTsNCiAgICAgICAgICB0aGlzLmFnZUZvcm0ucGRNaW5BcHBBZ2VVbml0ID0gcm93LnBkTWluQXBwQWdlVW5pdA0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBjaG9vc2VPbmUyKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT0gdGhpcy5yYWRpbzIpIHsNCiAgICAgICAgICB0aGlzLnJhZGlvMiA9IG51bGwNCiAgICAgICAgICB0aGlzLiRyZWZzLmN1c1RhYmxlLnNldEN1cnJlbnRSb3coKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucmFkaW8yID0gcm93LmlkOw0KICAgICAgICAgIHRoaXMucnVsZVZpZXcuZmxhZyA9ICcyJzsNCiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVDb2RlID0gcm93LnBkUnVsZUNvZGU7DQogICAgICAgICAgdGhpcy5ydWxlVmlldy5ydWxlUXVlcnkgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnVwZGF0ZUR5bmFtaWNUYWJsZSA9IHRydWU7DQogICAgICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uocm93KSB7DQogICAgICB0aGlzLmNob29zZVJ1bGVzID0gcm93Ow0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-acceptance-def/accpt-rule-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': showPageFlag == 1 }\"></div>\r\n\r\n    <cus-page-title-back v-if=\"revisionFlag\" :label=\"$t('route.comboRuleRevision')\" @backTo=\"back\"/>\r\n      <el-form label-width=\"auto\" :model=\"pdPpInfo\" ref=\"form\" style=\"margin-left: 20px\">\r\n          <el-form-item :label=\"$t('acceptanceDefinitionMain.productMeat')\">\r\n            <el-tag type=\"info\">{{ pdPpInfo.ppCode + ' : ' + pdPpInfo.ppName }}</el-tag>\r\n          </el-form-item>\r\n      </el-form>\r\n    <div v-if=\"!revisionFlag\">\r\n      <cus-form-title :first=\"true\" :label=\"$t('insureRuleDefinition.ageRuleConfiguration')\"/>\r\n      <cus-table-title :label=\"$t('insureRuleDefinition.ageRule')\"/>\r\n      <el-table ref=\"ageTable\" :data=\"ageConfigs\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\"\r\n                fit highlight-current-row max-height=\"500px\" size=\"mini\" @row-click=\"chooseOne1\">\r\n        <el-table-column :label=\"$t('insureRuleDefinition.choose')\" align=\"center\" width=\"50px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio v-model=\"radio1\" :label=\"scope.row.id\">\r\n              <span class=\"el-radio__label\"></span>\r\n            </el-radio>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.ruleDef')\" align=\"center\" prop=\"pdRuleDef\" width=\"150px\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdRuleDef | filter_pdRuleDef }}:{{ scope.row.pdRuleDefCode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('login.role')\" align=\"center\" prop=\"pdRoleCode\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdRoleCode | filter_pdRoleCode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdRoleNo')\" align=\"center\" prop=\"pdRoleNo\"></el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdRoleSex')\" align=\"center\" prop=\"pdRoleSex\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdRoleSex | filter_pdRoleSex }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdInsuPeriod')\" align=\"center\" prop=\"pdInsuPeriod\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdInsuPeriod }}{{ scope.row.pdInsuPeriodUnit | filter_pdMaxAppAgeUnit }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.payTerm')\" align=\"center\" prop=\"pdPayPeriod\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdPayPeriod }}{{ scope.row.pdPayPeriodUnit | filter_pdMaxAppAgeUnit }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdPayFreq')\" align=\"center\" prop=\"pdPayFreq\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdPayFreq | filter_pdPayFreq }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdMaxAppAge')\" align=\"center\" prop=\"pdMaxAppAge\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdMaxAppAge }}{{ scope.row.pdMaxAppAgeUnit | filter_pdMaxAppAgeUnit }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.pdMinAppAge')\" align=\"center\" prop=\"pdMinAppAge\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdMinAppAge }}{{ scope.row.pdMinAppAgeUnit | filter_pdMaxAppAgeUnit }}\r\n          </template>\r\n        </el-table-column>\r\n      <el-table-column  :label=\"$t('insureRuleDefinition.operation')\" align=\"center\" fixed=\"right\"\r\n                       width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-del-btn v-auth=\"'pd-insure-rule-def:deleteRule'\" @ok=\"delRoleRow(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <!--cus-form-title :first=\"true\" :label=\"$t('insureRuleDefinition.ageRuleDefinition')\"/-->\r\n      <el-form ref=\"ageForm\" :model=\"ageForm\" :rules=\"rules\" label-width=\"auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.ruleDef')\" prop=\"pdRuleDef\">\r\n              <cus-radio v-model=\"ageForm.pdRuleDef\" :codetype=\"'ruleProperties'\" :filter=\"rulePropertiesFilter\"\r\n                         :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item v-show=\"showAgeProductFlag\" :label=\"$t('insureRuleDefinition.product')\" prop=\"pdDefCode\">\r\n              <el-select v-model=\"ageForm.pdDefCode\">\r\n                <el-option v-for=\"item in productOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\"></el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('login.role')\" prop=\"pdRoleCode\"  >\r\n              <cus-radio v-model=\"ageForm.pdRoleCode\" :codetype=\"'pdexptrole'\" :isRequired=\"true\"  :changeMethod=\"changeRoleNo\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.pdRoleNo')\" prop=\"pdRoleNo\">\r\n              <el-input v-model=\"ageForm.pdRoleNo\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.pdRoleSex')\" prop=\"pdRoleSex\">\r\n              <cus-radio v-model=\"ageForm.pdRoleSex\" :codetype=\"'productRuleSex'\" :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdInsuAgeInfo.pdInsuPeriod')\" prop=\"pdInsuPeriod\">\r\n              <el-input v-model=\"ageForm.pdInsuPeriod\">\r\n                <cus-select slot=\"append\" v-model=\"ageForm.pdInsuPeriodUnit\" :codetype=\"'pdsbnftdy'\" class=\"cst\"\r\n                            filter=\"1$Y$M$D$A\"\r\n                ></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.pdPayPeriod')\" prop=\"pdPayPeriod\">\r\n              <el-input v-model=\"ageForm.pdPayPeriod\">\r\n                <cus-select slot=\"append\" v-model=\"ageForm.pdPayPeriodUnit\" :codetype=\"'pdsbnftdy'\" class=\"cst\"\r\n                            filter=\"1$Y$M$D$A\"\r\n                ></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.pdPayFreq')\" prop=\"pdPayFreq\">\r\n              <el-select v-model=\"ageForm.pdPayFreq\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                         filterable>\r\n                <el-option v-for=\"item in pdPayFreqOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdInsuAgeInfo.pdMaxAppAge')\" prop=\"pdMaxAppAge\">\r\n              <el-input v-model=\"ageForm.pdMaxAppAge\">\r\n                <cus-select slot=\"append\" v-model=\"ageForm.pdMaxAppAgeUnit\" :codetype=\"'pdsbnftdy'\" class=\"cst\"\r\n                            filter=\"1$M$D$A\"\r\n                ></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdInsuAgeInfo.pdMinAppAge')\" prop=\"pdMinAppAge\">\r\n              <el-input v-model=\"ageForm.pdMinAppAge\">\r\n                <cus-select slot=\"append\" v-model=\"ageForm.pdMinAppAgeUnit\" :codetype=\"'pdsbnftdy'\" class=\"cst\"\r\n                            filter=\"1$M$D$A\"\r\n                ></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-form-item align=\"right\">\r\n            <el-button dialog-disable=\"disable\" v-if=\"!radio1\" v-auth=\"'pd-insure-rule-def:add'\" icon=\"el-icon-success\" size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"saveAgeForm\">\r\n              {{ $t('insureRuleDefinition.save') }}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" v-if=\"radio1\" v-auth=\"'pd-insure-rule-def:update'\" icon=\"el-icon-success\" size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"updateAgeForm\">\r\n              {{ $t('insureRuleDefinition.update') }}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"cleanAgeForm\">\r\n              {{ $t('insureRuleDefinition.delete') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <cus-form-title :label=\"$t('insureRuleDefinition.packageRuleConfiguration')\"></cus-form-title>\r\n    <cus-form-title :label=\"$t('insureRuleDefinition.customRuleConfiguration')\"></cus-form-title>\r\n    <el-form ref=\"insuranceRuleForm\" :model=\"insuranceRuleForm\" :rules=\"insuranceRuleFormRule\" label-width=\"auto\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('insureRuleDefinition.pdRuleGrade')\">\r\n            <cus-radio v-model=\"insuranceRuleForm.pdRuleGrade\" :codetype=\"'ruleProperties'\"\r\n                       :filter=\"rulePropertiesFilter\"\r\n                       :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item v-show=\"showRuleProductFlag\" :label=\"$t('customComponents.product')\"\r\n                        prop=\"pdGradeCode\">\r\n            <el-select v-model=\"insuranceRuleForm.pdGradeCode\" clearable filterable>\r\n              <el-option v-for=\"item in productOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button dialog-disable=\"disable\" icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"findRulesOptions\">\r\n            {{ $t('insureRuleDefinition.ruleSelect') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('rule.selectedRule')\"></cus-form-title>\r\n    <cus-table-title :label=\"$t('insureRuleDefinition.packageRules')\"/>\r\n    <el-table ref=\"cusTable\" :data=\"cusConfigs\" align=\"center\" border class=\"wraper-table\"\r\n              element-loading-text=\"Loading\"\r\n              fit highlight-current-row max-height=\"500px\" size=\"mini\" @row-click=\"chooseOne2\">\r\n      <el-table-column :label=\"$t('pdtempPdBnft.choose')\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio v-model=\"radio2\" :label=\"scope.row.id\">\r\n            <span class=\"el-radio__label\"></span>\r\n          </el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.index')\" align=\"center\" type=\"index\"\r\n                       width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.pdRuleGrade')\" align=\"center\" prop=\"pdType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdType | filter_pdRuleDef }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" prop=\"pdRuleGrade\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdPackageCode : '套餐:' + scope.row.pdPackageCode\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.pdRuleCode')\" align=\"center\"\r\n                       prop=\"pdRuleCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.pdRuleDesc')\" align=\"center\"\r\n                       prop=\"pdRuleDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.details')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showRules(scope.row.pdRuleCode)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('insureRuleDefinition.operation')\" align=\"center\" width=\"65px\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-del-btn v-auth=\"'pdtemppdinsuageinfo:delete'\" @ok=\"delCusRow(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :visible.sync=\"showRule\" center\r\n               top=\"8vh\" width=\"70%\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('insureRuleDefinition.customRuleConfiguration')\"\r\n                           @backTo=\"showRule = false\"/>\r\n      <el-form ref=\"productForm\" :model=\"productForm\" label-width=\"auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.packageMenu')\">\r\n              <el-tag type=\"info\">{{ productForm.product }}</el-tag>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item v-show=\"showRuleProductFlag\" :label=\"$t('customComponents.product')\">\r\n              <el-select v-model=\"productCode\" :disabled=\"true\" clearable filterable>\r\n                <el-option v-for=\"item in productOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <cus-form-title :first=\"true\" :label=\"$t('insureRuleDefinition.ruleSelect')\"/>\r\n      <el-form ref=\"cusForm\" :model=\"cusForm\" label-width=\"auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.appointPackage')\">\r\n              <el-select v-model=\"cusForm.package\" clearable filterable @change=\"findProductByPackageId\">\r\n                <el-option v-for=\"item in packageOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.designatedProducts')\">\r\n              <el-select v-model=\"cusForm.product\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                         filterable>\r\n                <el-option v-for=\"item in appointProductOptions\" :key=\"item.value\" :label=\"item.label\"\r\n                           :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('insureRuleDefinition.ruleCode')\" prop=\"ruleCode\">\r\n              <el-input v-model=\"cusForm.ruleCode\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item align=\"right\">\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"searchRules\">\r\n                {{ $t('insureRuleDefinition.search') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <el-button  dialog-disable=\"disable\" size=\"small\" type=\"primary\" @click=\"addRules\"><i\r\n        class=\"el-icon-plus el-icon--left\"></i>{{ $t('insureRuleDefinition.newRule') }}\r\n      </el-button>\r\n      <cus-table-title :label=\"$t('insureRuleDefinition.rules')\"></cus-table-title>\r\n      <el-table ref=\"configsTable\" :data=\"ruleConfigs\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\"\r\n                fit highlight-current-row size=\"mini\" @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.ruleDef')\" align=\"center\" prop=\"pdRuleGrade\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.pdRuleGrade === '1' ? '通用' : scope.row.pdRuleGrade === '2' ? '产品:' + scope.row.pdCode : '套餐:' + scope.row.pdCode\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\" :filters=\"codeFilters\"\r\n                         :label=\"$t('insureRuleDefinition.ruleCode')\"\r\n                         align=\"center\" prop=\"pdRuleCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.ruleDesc')\" align=\"center\"\r\n                         prop=\"pdRuleDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('insureRuleDefinition.details')\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showRules(scope.row.pdRuleCode)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <div style=\"float:right\">\r\n        <el-button dialog-disable=\"disable\" icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"connRules\">\r\n          {{ $t('insureRuleDefinition.choice') }}\r\n        </el-button>\r\n        <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refreshRuleConfigs\">\r\n          {{ $t('insureRuleDefinition.refresh') }}\r\n        </el-button>\r\n      </div>\r\n      <br/>\r\n    </el-dialog>\r\n    <!-- 规则引擎定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"ruleVisible\"></cus-rule-definition>\r\n\r\n    <!-- 规则查看弹窗 -->\r\n    <cus-rule-modify :flag=\"ruleView.flag\" :ruleCode=\"ruleView.ruleCode\" :ruleModifyClosed=\"ruleMakeClosed\" :performType=\"ruleView.ruleType\"\r\n                     :ruleType=\"'1'\" :visible=\"ruleView.visible\"></cus-rule-modify>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addPdtempPdInsuAgeInfo,\r\n  connRules,\r\n  deletePdtempPdInsuAgeInfo,\r\n  deleteRules,\r\n  findPdPayFrequency,\r\n  findProductList,\r\n  findRulesByParams,\r\n  findRulesList,\r\n  getMaxAgeOrder,\r\n  getRuleCode,\r\n  insureRuleDefinitionList,\r\n  packageList,\r\n  updatePdtempPdInsuAgeInfo,\r\n  pdtempPdClsLabList\r\n} from \"@/api/basicinfo/insureRuleDefinition\";\r\nimport {mapGetters} from \"vuex\"\r\nimport ruleModule from '@/views/ibrms/ruleManagement/ruleModule/index'\r\nimport ruleMake from '@/views/ibrms/ruleManagement/ruleMake/index'\r\n\r\nlet _this;\r\n\r\nexport default {\r\n  name: \"insureRuleDefinition\",\r\n  filters: {\r\n    filter_pdRoleCode(code) {\r\n      return _this.getCodeName(\"pdexptrole\", code);\r\n    },\r\n    filter_pdRuleDef(code) {\r\n      return _this.getCodeName(\"ruleProperties\", code, true);\r\n    },\r\n    filter_pdRoleSex(code) {\r\n      return _this.getCodeName(\"productRuleSex\", code);\r\n    },\r\n    filter_pdMaxAppAgeUnit(code) {\r\n      return _this.getCodeName(\"pdsbnftdy\", code, true);\r\n    },\r\n    filter_pdPayFreq(code) {\r\n      return _this.getCodeName(\"paymentFrequency\", code);\r\n    },\r\n    filter_pdRulePropDtCls(code) {\r\n      if (code) {\r\n        return _this.getCascaderCodeName('ruleAscrDeta', code);\r\n      } else {\r\n        return '';\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    _this = this;\r\n    const validatepdMaxAppAge = (rule, value, callback) => {\r\n      if (this.ageForm.pdMaxAppAge < this.ageForm.pdMinAppAge){\r\n        callback(new Error(\"最大年龄不能小于最小年龄\"))\r\n      }else{\r\n        callback()\r\n      }\r\n    }\r\n    const validateRoleNo = (rule, value, callback) => {\r\n\r\n      if(_this.ageConfigs.length > 0){\r\n        let roleNo = [];\r\n        _this.ageConfigs.forEach(config =>{\r\n          if(_this.ageForm.pdRuleDef == config.pdRuleDef\r\n            && (_this.ageForm.pdDefCode != ''?_this.ageForm.pdDefCode == config.pdRuleDefCode:true)\r\n            && _this.ageForm.pdRoleCode == config.pdRoleCode){\r\n            roleNo.push(config.pdRoleNo)\r\n          }\r\n        })\r\n        if(roleNo.indexOf(parseInt(value)) > -1){\r\n          callback(new Error(this.$t('insureRuleDefinition.repeatRoleNo')))\r\n        }\r\n      }else{\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      ruleView: {\r\n        visible: false,\r\n        updateDynamicTable: false,\r\n        flag: '',\r\n        ruleCode: '',\r\n        ruleQuery: undefined,\r\n        ruleType: '1'\r\n      },\r\n      attributeObj: {},\r\n      ruleVisible: false,\r\n      pdPpInfo: {},\r\n      productCode: '',\r\n      radio1: null,\r\n      radio2: null,\r\n      pdType: null,\r\n      pdDetailType: null,\r\n      showRule: false,\r\n      language: null,\r\n      ruleMessageInfoBom: [],\r\n      ageConfigs: [],\r\n      cusConfigs: [],\r\n      ruleConfigs: [],\r\n      pdPayFreqOptions: [],\r\n      Options: [\r\n        {\r\n          value: \"3\",\r\n          label: \"3\"\r\n        },\r\n        {\r\n          value: \"5\",\r\n          label: \"5\"\r\n        },\r\n        {\r\n          value: \"10\",\r\n          label: \"10\"\r\n        }\r\n      ],\r\n      productOptions: [],\r\n      showAgeProductFlag: true,\r\n      showRuleProductFlag: true,\r\n      packageOptions: [],\r\n      showPageFlag: '',\r\n      revisionFlag: false,\r\n      appointProductOptions: [],\r\n      rulePropertiesFilter: '1$2$3',\r\n      codeFilters: [],\r\n      chooseRules: [],\r\n      configAgeLength: '',\r\n      //套餐投保年龄规则配置\r\n      ageForm: {\r\n        pdRoleCode: '00',\r\n        pdRuleDef: '2',\r\n        pdDefCode: '',\r\n        pdRoleNo: '',\r\n        pdRoleSex: '1',\r\n        pdInsuPeriod: '',\r\n        pdInsuPeriodUnit: 'Y',\r\n        pdPayPeriod: '',\r\n        pdPayPeriodUnit: 'Y',\r\n        pdPayFreq: '',\r\n        pdMaxAppAge: '',\r\n        pdMaxAppAgeUnit: 'A',\r\n        pdMinAppAge: '',\r\n        pdMinAppAgeUnit: 'A'\r\n      },\r\n      //套餐自定义投保规则配置\r\n      insuranceRuleForm: {\r\n        pdRuleGrade: '2',\r\n        pdGradeCode: ''\r\n      },\r\n      //选择规则\r\n      cusForm: {\r\n        package: '',\r\n        product: '',\r\n        ruleCode: '',\r\n        ruleDesc: ''\r\n      },\r\n      productForm: {\r\n        product: ''\r\n      },\r\n      rules: {\r\n        pdRoleCode: [{required: true, message: \"请选择角色\", trigger: \"blur\"}],\r\n        pdRuleDef: [{required: true, message: \"请选择规则属性\", trigger: \"blur\"}],\r\n        pdDefCode: [{required: true, message: \"请选择规则属性关联编码\", trigger: \"blur\"}],\r\n        pdRoleNo: [{required: true, message: \"请输入角色顺序\", trigger: \"blur\"},\r\n          {pattern: /^[1-6]$/, message: \"只能输入1-6的数字\", trigger: \"blur\"},\r\n          {validator: validateRoleNo,trigger:'blur'}],\r\n        pdRoleSex: [{required: true, message: \"请选择性别\", trigger: \"blur\"}],\r\n        pdMaxAppAge: [{pattern: /^[0-9]*$/, message: \"最大投保年龄必须为数字\", trigger: \"blur\"}, {validator: validatepdMaxAppAge, trigger: 'blur'}],\r\n        pdMinAppAge: [{pattern: /^[0-9]*$/, message: \"最小投保年龄必须为数字\", trigger: \"blur\"}]\r\n      },\r\n      insuranceRuleFormRule: {\r\n        pdRuleGrade: [{required: true, message: \"请选择规则所属级别\", trigger: \"blur\"}],\r\n        pdGradeCode: [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'ruleMassages',\r\n    ])\r\n  },\r\n  components: {ruleModule, ruleMake},\r\n  mounted() {\r\n    this.language = this.$store.state.app.language;\r\n    this.ruleMessageInfoBom = this.$store.state.ruleMessage.ruleMessages;\r\n  },\r\n  created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    this.revisionFlag = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n    this.pdPpInfo = this.getPdData();\r\n    this.productForm.product = this.pdPpInfo.ppCode + \":\" + this.pdPpInfo.ppName;\r\n    if (this.revisionFlag) {\r\n      this.findCusConfigsData()\r\n      this.findProductList()\r\n    } else {\r\n      if (this.pdPpInfo.pdInfoId) {\r\n        this.findPdPayFrequency()\r\n        // this.findPdType()\r\n        this.insureRuleDefinitionList()\r\n        this.findCusConfigsData()\r\n        this.findProductList()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n      showRule:function(){\r\n        if (this.showRule == false){\r\n          this.ruleConfigs=[];\r\n        }\r\n      },\r\n    ruleConfigs: function () {\r\n      if (this.ruleConfigs.length > 0) {\r\n        this.codeFilters = [];\r\n        this.ruleConfigs.forEach(val => {\r\n          this.codeFilters.push({\r\n            text: val.pdRuleCode,\r\n            value: val.pdRuleCode\r\n          });\r\n        });\r\n        this.codeFilters = this.codeFilters.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n      }\r\n    },\r\n    'ageForm.pdRuleDef'() {\r\n      const val = this.ageForm.pdRuleDef;\r\n      if (val == '2') {\r\n        this.showAgeProductFlag = true\r\n      } else {\r\n        this.showAgeProductFlag = false;\r\n      }\r\n    },\r\n    'insuranceRuleForm.pdRuleGrade'() {\r\n      const val = this.insuranceRuleForm.pdRuleGrade;\r\n      if (val == '2') {\r\n        this.showRuleProductFlag = true;\r\n        this.insuranceRuleFormRule.pdGradeCode = [{required: true, message: \"请选择产品\", trigger: \"blur\"}]\r\n      } else {\r\n        this.showRuleProductFlag = false;\r\n        this.insuranceRuleFormRule.pdGradeCode = [{required: false}]\r\n      }\r\n    },\r\n    ageConfigs() {\r\n      //获取年龄角色顺序\r\n      getMaxAgeOrder(this.buildRequestData({\"pdInfoId\": this.pdPpInfo.id})).then(res => {\r\n        this.configAgeLength = res.data;\r\n        this.ageForm.pdRoleNo = res.data;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    changeRoleNo(val){\r\n      let maxNo = 0;\r\n      let flag = false;\r\n      this.ageConfigs.forEach(config=>{\r\n        if(config.pdRoleCode == val){\r\n          if(config.pdRuleDef == this.ageForm.pdRuleDef &&config.pdRuleDefCode == this.ageForm.pdDefCode){\r\n            if(config.pdRoleNo > maxNo){\r\n              flag = true;\r\n              maxNo = config.pdRoleNo\r\n            }\r\n          }\r\n          if(flag == true){\r\n            this.ageForm.pdRoleNo = maxNo + 1;\r\n          }\r\n        }\r\n      })\r\n    },\r\n    back() {\r\n      this.$router.push({name: '套餐校验规则订正主页'})\r\n    },\r\n    ruleModuleClosed() {\r\n      this.ruleVisible = false;\r\n      this.searchRules()\r\n    },\r\n    ruleMakeClosed() {\r\n      this.ruleView.visible = false;\r\n      this.radio2 = null\r\n    },\r\n    ruleViewClosed() {\r\n      this.radio2 = null\r\n    },\r\n    handleSearch() {\r\n      this.insureRuleDefinitionList();\r\n    },\r\n    insureRuleDefinitionList() {\r\n      insureRuleDefinitionList(this.buildRequestData({\"pdInfoId\": this.pdPpInfo.id})).then(res => {\r\n        this.ageConfigs = res.data\r\n      });\r\n    },\r\n    findProductByPackageId(val) {\r\n      if (val == null || val == \"\") {\r\n        this.appointProductOptions = [];\r\n        return\r\n      }\r\n      findProductList(this.buildRequestData({\"pdInfoId\": val})).then(res => {\r\n        let data = res.data;\r\n        this.appointProductOptions = [];\r\n        this.cusForm.product = '';\r\n        if (data.length) {\r\n          data.forEach(product => {\r\n            this.appointProductOptions.push({\r\n              value: product.pdCode,\r\n              label: product.pdCode + \":\" + product.pdName\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n    },\r\n    findProductList() {\r\n      findProductList(this.buildRequestData({\"pdInfoId\": this.pdPpInfo.id})).then(res => {\r\n        let data = res.data;\r\n        this.productOptions = [];\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            this.productOptions.push({\r\n              value: val.pdCode,\r\n              label: val.pdCode + \":\" + val.pdName\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    findPdType() {\r\n      pdtempPdClsLabList(this.pdPpInfo.pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType == 1) {\r\n            this.pdType = response.data[i].pdCls1;\r\n            this.pdDetailType = response.data[i].pdCls2;\r\n          }\r\n        }\r\n      })\r\n\r\n    },\r\n    findPdPayFrequency() {\r\n      let data = {\r\n        pdCode: this.pdPpInfo.ppCode,\r\n        pdInfoId: this.pdPpInfo.pdInfoId\r\n      };\r\n      findPdPayFrequency(this.buildRequestData(data)).then(res => {\r\n        this.pdPayFreqOptions = [];\r\n        res.data.forEach(atrsInfo => {\r\n          this.pdPayFreqOptions.push({\r\n            value: atrsInfo.pdAtrsVal,\r\n            label: this.getCodeName(\"paymentFrequency\", atrsInfo.pdAtrsVal)\r\n          });\r\n        });\r\n      });\r\n    },\r\n    findCusConfigsData() {\r\n\r\n      findRulesList(this.buildRequestData({\"pdInfoId\": this.pdPpInfo.id, \"pdCode\": this.pdPpInfo.ppCode})).then(res => {\r\n        this.cusConfigs = res.data;\r\n      });\r\n    },\r\n    findRulesOptions() {\r\n      this.$refs[\"insuranceRuleForm\"].validate(valid => {\r\n        if (valid) {\r\n          this.showRule = true;\r\n          this.cusForm.package = this.pdPpInfo.id;\r\n          packageList().then(res => {\r\n            let data = res.data;\r\n            this.packageOptions = [];\r\n            if (data.length) {\r\n              data.forEach(val => {\r\n                this.packageOptions.push({\r\n                  value: val.id,\r\n                  label: val.ppCode + \":\" + val.ppName\r\n                });\r\n              });\r\n            }\r\n            this.findProductByPackageId(this.cusForm.package);\r\n            this.searchRules()\r\n          });\r\n\r\n        }\r\n      });\r\n      if (this.showRuleProductFlag) {\r\n        this.productCode = this.insuranceRuleForm.pdGradeCode\r\n      }\r\n    },\r\n    findRulesByParams(params) {\r\n      findRulesByParams(this.buildRequestData(params)).then(res => {\r\n        let data = res.data;\r\n        data = data.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.pdRuleCode == element.pdRuleCode)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        this.ruleConfigs = data;\r\n      });\r\n    },\r\n    refreshRuleConfigs() {\r\n      this.$refs[\"cusForm\"].resetFields();\r\n      this.searchRules()\r\n    },\r\n    addRules() {\r\n      const param = {\r\n        pdBussType: '7',\r\n        pdBussDetailType: '9'\r\n      };\r\n      let pdCode = '';\r\n      if (this.showRuleProductFlag) {\r\n        pdCode = this.productCode\r\n      } else {\r\n        pdCode = this.pdPpInfo.ppCode\r\n      }\r\n      getRuleCode(this.buildRequestData(param)).then(response => {\r\n        this.attributeObj = {\r\n          code: response.data,\r\n          ruleBussModu: '7',\r\n          ruleBussModuDeta: '9',\r\n          ruleType: '1',\r\n          ruleAttr: '3',\r\n          pdType: '2',\r\n          pdCode: pdCode,\r\n          pdEdition: '1'\r\n        };\r\n        if (this.insuranceRuleForm.pdRuleGrade == '2') {\r\n          this.attributeObj.ruleType = '1',\r\n            this.attributeObj.pdType = '1',\r\n            this.attributeObj.ruleAttr = '2',\r\n            this.attributeObj.pdCode = this.insuranceRuleForm.pdGradeCode,\r\n            this.attributeObj.riskType = this.pdType,\r\n            this.attributeObj.riskDetail = this.pdDetailType\r\n        }\r\n        this.ruleVisible = true\r\n      })\r\n    },\r\n    showRules(code) {\r\n      this.ruleView.flag = '1';\r\n      this.ruleView.ruleCode = code;\r\n      this.ruleView.ruleQuery = true;\r\n      this.ruleView.updateDynamicTable = false;\r\n      this.ruleView.visible = true\r\n    },\r\n    searchRules() {\r\n      let params ={};\r\n      if(this.insuranceRuleForm.pdRuleGrade==='2'){\r\n        if(!this.cusForm.product){\r\n          params = {\r\n            pdInfoId: this.pdPpInfo.id,\r\n            packageId: this.cusForm.package,\r\n            pdCode: this.productCode,\r\n            pdRuleCode: this.cusForm.ruleCode\r\n          };\r\n        }else{\r\n          params= {\r\n            pdInfoId: this.pdPpInfo.id,\r\n            packageId: this.cusForm.package,\r\n            pdCode: this.cusForm.product,\r\n            pdRuleCode: this.cusForm.ruleCode\r\n          };\r\n        }\r\n      }else {\r\n        params={\r\n          pdInfoId: this.pdPpInfo.id,\r\n          packageId: this.cusForm.package,\r\n          pdCode: this.cusForm.product,\r\n          pdRuleCode: this.cusForm.ruleCode\r\n        };\r\n      }\r\n      findRulesByParams(this.buildRequestData(params)).then(res => {\r\n        let data = res.data;\r\n        data = data.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.pdRuleCode == element.pdRuleCode)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        this.ruleConfigs = data;\r\n      })\r\n    },\r\n    connRules() {\r\n      if (this.chooseRules.length === 0) {\r\n        this.notifyError('请选择规则');\r\n        return\r\n      }\r\n      let pdtempPdRulesList = [];\r\n      this.chooseRules.forEach(rule => {\r\n        let pdtempPdRules = {\r\n          pdVerId: 1,\r\n          pdInfoId: this.pdPpInfo.id,\r\n          pdCode: rule.pdCode,\r\n          pdType: this.insuranceRuleForm.pdRuleGrade,\r\n          pdRuleGrade: rule.pdRuleGrade,\r\n          pdRuleCls: rule.pdRuleCls,\r\n          pdRuleDtCls: rule.pdRuleDtCls,\r\n          pdRulePropCls: rule.pdRulePropCls,\r\n          pdRulePropDtCls: rule.pdRulePropDtCls,\r\n          pdRuleCode: rule.pdRuleCode,\r\n          pdRuleDesc: rule.pdRuleDesc\r\n        };\r\n        if (this.insuranceRuleForm.pdRuleGrade == '2') {\r\n          pdtempPdRules.pdPackageCode = this.insuranceRuleForm.pdGradeCode\r\n        } else {\r\n          pdtempPdRules.pdPackageCode = this.pdPpInfo.ppCode\r\n        }\r\n        pdtempPdRulesList.push(pdtempPdRules);\r\n      });\r\n      let pdCode;\r\n      if (this.showRuleProductFlag) {\r\n        pdCode = this.productCode\r\n      } else {\r\n        pdCode = this.pdPpInfo.ppCode\r\n      }\r\n      const param = {\r\n        rules: pdtempPdRulesList,\r\n        pdtempPpInfo: this.pdPpInfo,\r\n        pdCode: pdCode,\r\n        pdBussType: '7',\r\n        pdBussDetailType: '9'\r\n      };\r\n      connRules(this.buildRequestData(param)).then(res => {\r\n        this.notifySuccess(res.message);\r\n        this.findCusConfigsData();\r\n        this.searchRules();\r\n      })\r\n    },\r\n    cleanAgeForm() {\r\n      this.$refs[\"ageForm\"].resetFields();\r\n      this.ageForm.pdMaxAppAgeUnit = \"A\";\r\n      this.ageForm.pdMinAppAgeUnit = \"A\";\r\n      this.ageForm.pdInsuPeriodUnit = \"Y\";\r\n      this.ageForm.pdPayPeriodUnit = \"Y\";\r\n      this.ageForm.pdRoleNo = this.configAgeLength;\r\n      this.radio1 = null;\r\n      this.$refs.ageTable.setCurrentRow()\r\n    },\r\n    saveAgeForm() {\r\n      let PdtempPdInsuAgeInfo = {\r\n        pdVerId: '1',\r\n        operator: this.pdPpInfo.operator,\r\n        pdType: '2',\r\n        pdInfoId: this.pdPpInfo.id,\r\n        pdCode: this.pdPpInfo.ppCode,\r\n        pdRuleDef: this.ageForm.pdRuleDef,\r\n        pdRoleCode: this.ageForm.pdRoleCode,\r\n        pdRoleNo: this.ageForm.pdRoleNo,\r\n        pdRoleSex: this.ageForm.pdRoleSex,\r\n        pdInsuPeriod: this.ageForm.pdInsuPeriod,\r\n        pdInsuPeriodUnit: this.ageForm.pdInsuPeriodUnit,\r\n        pdPayPeriod: this.ageForm.pdPayPeriod,\r\n        pdPayPeriodUnit: this.ageForm.pdPayPeriodUnit,\r\n        pdPayFreq: this.ageForm.pdPayFreq,\r\n        pdMaxAppAge: this.ageForm.pdMaxAppAge,\r\n        pdMaxAppAgeUnit: this.ageForm.pdMaxAppAgeUnit,\r\n        pdMinAppAge: this.ageForm.pdMinAppAge,\r\n        pdMinAppAgeUnit: this.ageForm.pdMinAppAgeUnit\r\n      };\r\n      //移除校验\r\n      if (this.ageForm.pdRuleDef == '3') {\r\n        this.rules.pdDefCode = [{required: false}];\r\n        PdtempPdInsuAgeInfo.pdRuleDefCode = this.pdPpInfo.ppCode\r\n      } else {\r\n        PdtempPdInsuAgeInfo.pdRuleDefCode = this.ageForm.pdDefCode\r\n      }\r\n      this.$refs[\"ageForm\"].validate(valid => {\r\n        if (valid) {\r\n          addPdtempPdInsuAgeInfo(PdtempPdInsuAgeInfo).then(res => {\r\n            if (res.code == 200) {\r\n              this.notifySuccess(res.message);\r\n              this.cleanAgeForm();\r\n              this.handleSearch();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    updateAgeForm() {\r\n      let PdtempPdInsuAgeInfo = {\r\n        id: this.radio1,\r\n        pdVerId: '1',\r\n        operator: this.pdPpInfo.operator,\r\n        pdType: '2',\r\n        pdInfoId: this.pdPpInfo.id,\r\n        pdCode: this.pdPpInfo.ppCode,\r\n        pdRuleDef: this.ageForm.pdRuleDef,\r\n        pdRoleCode: this.ageForm.pdRoleCode,\r\n        pdRoleNo: this.ageForm.pdRoleNo,\r\n        pdRoleSex: this.ageForm.pdRoleSex,\r\n        pdInsuPeriod: this.ageForm.pdInsuPeriod,\r\n        pdInsuPeriodUnit: this.ageForm.pdInsuPeriodUnit,\r\n        pdPayPeriod: this.ageForm.pdPayPeriod,\r\n        pdPayPeriodUnit: this.ageForm.pdPayPeriodUnit,\r\n        pdPayFreq: this.ageForm.pdPayFreq,\r\n        pdMaxAppAge: this.ageForm.pdMaxAppAge,\r\n        pdMaxAppAgeUnit: this.ageForm.pdMaxAppAgeUnit,\r\n        pdMinAppAge: this.ageForm.pdMinAppAge,\r\n        pdMinAppAgeUnit: this.ageForm.pdMinAppAgeUnit\r\n      };\r\n      //移除校验\r\n      if (this.ageForm.pdRuleDef == '3') {\r\n        this.rules.pdDefCode = [{required: false}];\r\n        PdtempPdInsuAgeInfo.pdRuleDefCode = this.pdPpInfo.ppCode\r\n      } else {\r\n        PdtempPdInsuAgeInfo.pdRuleDefCode = this.ageForm.pdDefCode\r\n      }\r\n      this.$refs[\"ageForm\"].validate(valid => {\r\n        if (valid) {\r\n          updatePdtempPdInsuAgeInfo(this.buildRequestData({\"pdtempPdInsuAgeInfo\": PdtempPdInsuAgeInfo})).then(res => {\r\n            if (res.code == 200) {\r\n              this.notifySuccess(res.message);\r\n              this.cleanAgeForm();\r\n              this.handleSearch();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    delRoleRow(row) {\r\n      this.$confirm('是否确认删除', '警告', {\r\n        distinguishCancelAndClose: true,\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消'\r\n      }).then(() => {\r\n        deletePdtempPdInsuAgeInfo(row.id).then(res => {\r\n          if (res.code == 200) {\r\n            this.notifySuccess(res.message);\r\n            this.handleSearch();\r\n          }\r\n        });\r\n      }).catch(() => {\r\n\r\n      })\r\n    },\r\n    delCusRow(row) {\r\n      deleteRules(row.id).then(res => {\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.findCusConfigsData();\r\n        }\r\n      });\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row[property] === value;\r\n      }\r\n    },\r\n    chooseOne1(row, column, event) {\r\n      if (event.target.nodeName == \"INPUT\") {\r\n        if (row.id == this.radio1) {\r\n          this.radio1 = null;\r\n          this.cleanAgeForm();\r\n        } else {\r\n          this.radio1 = row.id;\r\n          //获取行数据\r\n          this.ageForm.pdRuleDef = row.pdRuleDef;\r\n          if (row.pdRuleDef == '2') {\r\n            this.ageForm.pdDefCode = row.pdRuleDefCode\r\n          } else {\r\n            this.ageForm.pdDefCode = ''\r\n          }\r\n          this.ageForm.pdRoleCode = row.pdRoleCode;\r\n          this.ageForm.pdRoleNo = row.pdRoleNo;\r\n          this.ageForm.pdRoleSex = row.pdRoleSex;\r\n          this.ageForm.pdInsuPeriod = row.pdInsuPeriod;\r\n          this.ageForm.pdInsuPeriodUnit = row.pdInsuPeriodUnit;\r\n          this.ageForm.pdPayPeriod = row.pdPayPeriod;\r\n          this.ageForm.pdPayPeriodUnit = row.pdPayPeriodUnit;\r\n          this.ageForm.pdMaxAppAge = row.pdMaxAppAge;\r\n          this.ageForm.pdMaxAppAgeUnit = row.pdMaxAppAgeUnit;\r\n          this.ageForm.pdMinAppAge = row.pdMinAppAge;\r\n          this.ageForm.pdMinAppAgeUnit = row.pdMinAppAgeUnit\r\n        }\r\n      }\r\n    },\r\n    chooseOne2(row, column, event) {\r\n      if (event.target.nodeName == \"INPUT\") {\r\n        if (row.id == this.radio2) {\r\n          this.radio2 = null\r\n          this.$refs.cusTable.setCurrentRow()\r\n        } else {\r\n          this.radio2 = row.id;\r\n          this.ruleView.flag = '2';\r\n          this.ruleView.ruleCode = row.pdRuleCode;\r\n          this.ruleView.ruleQuery = false;\r\n          this.ruleView.updateDynamicTable = true;\r\n          this.ruleView.visible = true\r\n        }\r\n      }\r\n    },\r\n    handleSelectionChange(row) {\r\n      this.chooseRules = row;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.showDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n.cst {\r\n  width: 15%;\r\n  margin-right: -5px;\r\n  border: 0;\r\n}\r\n\r\nhr {\r\n  margin-top: 7px;\r\n  *margin: 0;\r\n  border: 0;\r\n  color: black;\r\n  background-color: black;\r\n  height: 2px;\r\n}\r\n\r\n.divider {\r\n  color: black;\r\n  background-color: black;\r\n  width: 1px;\r\n}\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\account-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\account-def\\index.vue","mtime":1609847106855},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcGRnZW5sZnVuZCBmcm9tICJAL3ZpZXdzL2J1c2luZXNzLWdlbmVyYWwtY29uZi9wZGdlbmxmdW5kL2luZGV4Ig0KaW1wb3J0IGFjY291bnRGZWVGb3JtdWxhIGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL2FjY291bnQtZmVlLWZvcm11bGEvYWNjb3VudEZlZUZvcm11bGEiDQppbXBvcnQgZm9ybXVsYVNlbGVjdCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9hY2NvdW50LWZlZS1mb3JtdWxhL2FjY291bnRGZWVGb3JtdWxhU2VsZWN0Ig0KaW1wb3J0IHBkZ2VubGFjY291bnQgZnJvbSAiQC92aWV3cy9nZW5lcmFsLWNvbmZpZy9nZW4tYWNjb3VudC1jb25mIg0KaW1wb3J0IGFjY291bnRJbmZvIGZyb20gIi4vYWNjb3VudEluZm8iDQppbXBvcnQgcHJlbWl1bSBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvaW5kZXgiDQppbXBvcnQgaW52IGZyb20gIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9pbmNvbWUtZGVmL2luZGV4Ig0KaW1wb3J0IGJlbmVmaXQgZnJvbSAiQC92aWV3cy9wcm9kdWN0LWRlZmluaXRpb24vcGQtZnJhbWV3b3JrLWRlZi9wZC1zdHJ1Y3R1cmUtZGVmL2d1YXJhbnRlZS1kZWYvaW5kZXgiDQoNCmltcG9ydCB7DQogIGFjY291bnREZWxldGVEZWYsDQogIGFkZEFjY291bnRBbmRSYXRlLA0KICBhZGRBbGxGdW5kLA0KICBhZGRBbGxSSW5GbG93LA0KICBhZGRQZEFjY291bnRGZWUsDQogIGRlbGV0ZUFjY0ZlZSwNCiAgZGVsZXRlSW5GbG93LA0KICBmaW5kRnVuZEJ5QWNjb3VudElkLA0KICBnZW5lcmFsRG91YmxlQWNjb3VudFZvQWxsLA0KICBnZXRQZHRlbXBQZEJuZnRCeUlkLA0KICBoYW5kbGVEZWxldGVBY2NGZWUsDQogIGluaXRhY2NGZWVUYWJsZUxpc3QsDQogIGluaXRDYXBJbkFuZE91dE9wdGlvbnNEYXRhLA0KICBpbml0cGRBY2NGZWVDYXBJbiwNCiAgaW5zZXJ0UHJlbWl1bVRvQ3VycmVudFByb2R1Y3QsDQogIGxpc3RDYXBpdGFsSW5mbG93LA0KICBsaXN0Q2FwaXRhbE91dGZsb3csDQogIHBkQWNjTGlzdCwNCiAgcGRBY2NSYXRlQWxsLA0KICBxdWVyeVF1aWNrRGVmQWNjb3VudERldGFpbCwNCiAgc2F2ZVBkQWNjQ2FwSW5GZWUsDQogIHVwZGF0ZUFjY291bnRBbmRSYXRlLA0KICB1cGRhdGVQZEFjY291bnRGZWUNCn0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkYWNjJw0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1Byb2R1Y3RBY2NvdW50RGVmaW5pdGlvbicsDQogIGNvbXBvbmVudHM6IHsNCiAgICBwZGdlbmxhY2NvdW50LA0KICAgIGFjY291bnRJbmZvLA0KICAgIHByZW1pdW0sDQogICAgaW52LA0KICAgIGJlbmVmaXQsDQogICAgYWNjb3VudEZlZUZvcm11bGEsDQogICAgZm9ybXVsYVNlbGVjdCwNCiAgICBwZGdlbmxmdW5kDQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRpbnZ0eXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRpbnZ0eXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9zZXR0bGVtZW50ZnJlcXVlbmN5KGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnc2V0dGxlbWVudGZyZXF1ZW5jeScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfY29zdGNhbHdheShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ2Nvc3RjYWx3YXknLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkQWNjSXRlbVR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdjb3N0cHJvdHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfZ2V0QWNjb3VudFR5cGUoY29kZSkgew0KICAgICAgaWYgKGNvZGUgIT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgnYWNjb3VudHR5cGUnLCBjb2RlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlcl9kYW53ZWkoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdkYW53ZWknLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY291bnRPd25lcihjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ2FjY291bnRPd25lcicsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGR0ZW1wcGRhY2N0eXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGR0ZW1wcGRhY2N0eXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9jdXJyZW5jeShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Byb2R1Y3RDdXJyZW5jeScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjb3VudFR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdhY2NvdW50VHlwZUFsbCcsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjRmluVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ2FjY0ZpblR5cGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY0RlYWxGcmVxKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnc2V0dGxlbWVudGZyZXF1ZW5jeScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjSW52ZXN0VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ2FjY2ludnR5cGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY0NyZVBsYWNlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnYWNjQ3JlUGxhY2UnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY0NydERhdGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdhY2NidWlsZGRhdGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY0NvZGVSdWxlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnYWNjcnVsZXMnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX2FjY0RlYWxJbnN0TW9kZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ2NhbHNldG1ldCcsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfZnVuZFR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdpbnZ0YXJnZXR0eXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9mdW5kU3RhdGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdpbnZ0YXJnZXRzdGF0dXMnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkU3J2bEJuZnRUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRTcnZsQm5mdFR5cGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkQWNjQ2FwSW5mVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQWNjQ2FwSW5mVHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRQcmVtVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkUHJlbVR5cGUnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkQWRkQW1vdW50VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQWRkQW1vdW50VHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRBY2NJbmZNb2RlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRBY2NJbmZNb2RlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9hY2NGZWVUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgnYWNjRmVlVHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjSXRlbVR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdjb3N0cHJvdHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjRmVlRGVkdVR5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdjb3N0ZXhwdHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjRmVlRGVkdUZyZXEoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdhY2NGZWVEZWR1RnJlcScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjRmVlQ2FsY01vZGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdhY2NGZWVDYWxjTW9kZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfYWNjRmVlQ2FsY1R5cGUoY29kZSkgew0KICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdjb3N0Y2FsdHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRJbnZUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRpbnZ0eXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZEFjY0ZlZURlZHVUaW1lKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRBY2NGZWVEZWR1VGltZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfUmF0aW8odmFsKSB7DQogICAgICBpZiAodmFsKSB7DQogICAgICAgIHJldHVybiAocGFyc2VJbnQodmFsICogMTAwKSArICclJykNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgYWNjb3VudENvZGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpcw0KICAgIHJldHVybiB7DQogICAgICBwcm9kdWN0TGlzdDogW10sDQogICAgICBwcm9kdWN0T3JpZ2luYWxMaXN0OiBbXSwNCiAgICAgIHBkQWNjQ2FwT3V0ZkNvZGU6ICcnLA0KICAgICAgcGRBY2NGZWVDb2RlOiAnJywNCiAgICAgIHBkQWNjRmVlTmFtZTogJycsDQogICAgICBwZEFjY0NhcEluZkNvZGU6ICcnLA0KICAgICAgYWNjRmVlQWRkOiAnJywNCiAgICAgIGFjY0ZlZVVwZGF0ZTogJ25vbmUnLA0KICAgICAgYWNjRmVlUmVzZXRGb3JtOiAnJywNCiAgICAgIGFjY0ZlZVRhYmxlTGlzdDogW10sDQogICAgICBwZEFjY291bnRGZWVDYXBMaXN0OiBbXSwNCiAgICAgIHBkQWNjb3VudEZlZUNhcEluTGlzdDogW10sDQogICAgICBwZEFjY291bnRGZWVDYXBPdXRMaXN0OiBbXSwNCiAgICAgIGFjY291bnRGZWVUYWJsZTogW10sDQogICAgICBxdWlja1RhYmxlRGF0YTogW10sDQogICAgICB1cGRhdGU6ICdub25lJywNCiAgICAgIGFkZDogJycsDQogICAgICBzaG93UGFnZUZsYWc6ICcwJywNCiAgICAgIC8v5b+r5o235a6a5LmJLS0tLQ0KICAgICAgcXVpY2tpY29uOiAiZWwtaWNvbi1hcnJvdy1yaWdodCIsDQogICAgICBxdWlja3Nob3c6IGZhbHNlLA0KICAgICAgcmVmZXJlbmNlUHJvZHVjdExpc3Q6IFtdLA0KICAgICAgcGFyYW1zX3F1aWNrOiB7DQogICAgICAgIHBkQWNjTmFtZTogJycsDQogICAgICAgIHNlbGVjdFBkSWQ6ICcnLA0KICAgICAgICBwZFJlZ2lvblR5cGU6ICcnLA0KICAgICAgICBhY2NvdW50VHlwZTogJycsDQogICAgICB9LA0KICAgICAgcnVsZXNfcXVpY2s6IHsNCiAgICAgICAgZXFfcGRJbmZvSWQ6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdwYXlfZGVmLnJlZmVyZW5jZVByb2R1Y3QnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIC8vLS0tLeW/q+aNt+WumuS5iQ0KICAgICAgcHJvZHVjdDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZENvZGU6ICcnLA0KICAgICAgICBwZEVkaXRpb246ICcnLA0KICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkU2FsZWNobmw6ICcnLA0KICAgICAgICBwZE5hbWU6ICcnLA0KICAgICAgICBwZFNob3J0bmFtZTogJycsDQogICAgICAgIHBkRW5OYW1lOiAnJywNCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRBcHBsRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIC8v6LWE6YeR5rWB5YWl5rWB5Ye66aG56LS555SoZm9ybQ0KICAgICAgZm9ybV9wZEFjY0NhcEluX0ZlZTogew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkVmVySWQ6ICcnLA0KICAgICAgICBwZEluZm9JZDogJycsDQogICAgICAgIHBkQWNjQ2FwSWQ6ICcnLA0KICAgICAgICBwZEFjY0lkOiAnJywNCiAgICAgICAgcGRBY2NGZWVJZDogJycsDQogICAgICAgIHBkQWNjRmVlRGVkdU9yZGVyOiAnJywNCiAgICAgICAgcGRBY2NGZWVEZWR1VGltZTogJycsDQogICAgICAgIHBkQWNjRmlyc3RGZWVEZWR1RGF5OiAnJywNCiAgICAgICAgcGRBY2NGZWVGaW5hbFZhbDogJycsDQogICAgICAgIHBkQWNjRmVlRmluYWxNYXhWYWw6ICcnLA0KICAgICAgICBwZEFjY0ZlZUZpbmFsUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0ZlZU1heEZpbmFsUmF0aW86ICcnLA0KICAgICAgICBwZENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDb2RlOiAnJywNCiAgICAgICAgcGRBY2NOYW1lOiAnJywNCiAgICAgICAgcGRBY2NGZWVDb2RlOiAnJywNCiAgICAgICAgcGRBY2NGZWVOYW1lOiAnJywNCiAgICAgICAgcGRBY2NGZWVDYWxjTW9kZTogJycNCiAgICAgIH0sDQogICAgICBwZEFjY0NhcElkOiB1bmRlZmluZWQsDQogICAgICBzZWxlY3RlZFBkQWNjb3VudEZlZToge30sDQogICAgICBmb3JtX3BkQWNjQ2FwSW5fRmVlX3J1bGVzOiB7DQogICAgICAgIHBkQWNjRmVlSWQ6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6notLnnlKjpobknLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLA0KICAgICAgICBwZEFjY0ZlZURlZHVPcmRlcjogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmei0ueeUqOaJo+mZpOmhuuW6jycsIHRyaWdnZXI6ICdjaGFuZ2UnfV0sDQogICAgICAgIHBkQWNjRmVlRGVkdVRpbWU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6notLnnlKjmiaPpmaTml7bngrknLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLA0KICAgICAgICBwZEFjY0ZpcnN0RmVlRGVkdURheTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqemmluacn+i0ueeUqOaJo+mZpOaXpScsIHRyaWdnZXI6ICdjaGFuZ2UnfV0sDQogICAgICAgIHBkQWNjRmVlRmluYWxWYWw6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhpnotLnnlKjlm7rlrprlgLwnLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLA0KICAgICAgICBwZEFjY0ZlZUZpbmFsTWF4VmFsOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6LS555So5Zu65a6a5YC85LiK6ZmQJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwNCiAgICAgICAgcGRBY2NGZWVGaW5hbFJhdGlvOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6LS555So5Zu65a6a5q+U5L6LJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwNCiAgICAgICAgcGRBY2NGZWVNYXhGaW5hbFJhdGlvOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6LS555So5Zu65a6a5q+U5L6L5LiK6ZmQJywgdHJpZ2dlcjogJ2NoYW5nZSd9XQ0KICAgICAgfSwNCiAgICAgIC8v6LS555So5a6a5LmJ6KGo5qC8DQogICAgICBmb3JtX2FjY291bnRfZmVlOiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NvdW50SWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NGZWVPcmRlcjogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0ZlZUZpbmFsVmFsOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjRmVlRmluYWxSYXRpbzogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkQWNjb3VudENvZGU6ICcnLA0KICAgICAgICBwZEFjY291bnROYW1lOiAnJywNCiAgICAgICAgcGRBY2NGZWVDb2RlOiAnJywNCiAgICAgICAgcGRBY2NGZWVOYW1lOiAnJywNCiAgICAgICAgcGRBY2NGZWVUeXBlOiAnJywNCiAgICAgICAgcGRBY2NJdGVtVHlwZTogJycsDQogICAgICAgIHBkQWNjRmVlRGVkdVR5cGU6ICcnLA0KICAgICAgICBwZEFjY0ZlZURlZHVGcmVxOiAnJywNCiAgICAgICAgcGRBY2NGZWVDYWxjTW9kZTogJycsDQogICAgICAgIHBkQWNjRmVlQ2FsY1R5cGU6ICcnLA0KICAgICAgICBwZEFjY0ZlZVplcm9GbGFnOiAnTicsDQogICAgICAgIHBkQWNjRmVlQ2FsY0NvZGU6ICcnDQogICAgICB9LA0KICAgICAgLy/otKbmiLfotLnnlKgNCiAgICAgIHNlbGVjdGVkQWNjb3VudEZlZToge30sDQogICAgICBmb3JtX2FjY291bnRfZmVlX3J1bGVzOiB7DQogICAgICAgIHBkQWNjSXRlbVR5cGU6IHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqei0ueeUqOmhueebruexu+WeiycsIHRyaWdnZXI6ICdjaGFuZ2UnfSwNCiAgICAgICAgcGRBY2NGZWVOYW1lOiB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXotLnnlKjlkI3np7AnLCB0cmlnZ2VyOiAnY2hhbmdlJ30sDQogICAgICAgIHBkQWNjRmVlT3JkZXI6IHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpei0ueeUqOmhuuW6jycsIHRyaWdnZXI6ICdjaGFuZ2UnfSwNCiAgICAgICAgcGRBY2NGZWVUeXBlOiB7cmVxdWlyZWQ6IGZhbHNlLCBtZXNzYWdlOiAn6K+36YCJ5oup6LS555So57G75Z6LJywgdHJpZ2dlcjogJ2NoYW5nZSd9LA0KICAgICAgICBwZEFjY0ZlZURlZHVUeXBlOiB7cmVxdWlyZWQ6IGZhbHNlLCBtZXNzYWdlOiAn6K+36YCJ5oup6LS555So5omj6Zmk57G75Z6LJywgdHJpZ2dlcjogJ2NoYW5nZSd9LA0KICAgICAgICBwZEFjY0ZlZUZpbmFsVmFsOiB7cmVxdWlyZWQ6IGZhbHNlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6LS555So5Zu65a6a5YC8JywgdHJpZ2dlcjogJ2NoYW5nZSd9LA0KICAgICAgICBwZEFjY0ZlZUZpbmFsUmF0aW86IHtyZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6ICfor7floavlhpnotLnnlKjlm7rlrprmr5TkvosnLCB0cmlnZ2VyOiAnY2hhbmdlJ30sDQogICAgICAgIHBkQWNjRmVlRGVkdUZyZXE6IHtyZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6ICfor7fpgInmi6notLnnlKjmiaPpmaTpopHnjocnLCB0cmlnZ2VyOiAnY2hhbmdlJ30sDQogICAgICAgIHBkQWNjRmVlQ2FsY01vZGU6IHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqei0ueeUqOiuoeeul+aWueW8jycsIHRyaWdnZXI6ICdjaGFuZ2UnfSwNCiAgICAgICAgcGRBY2NGZWVDYWxjVHlwZToge3JlcXVpcmVkOiBmYWxzZSwgbWVzc2FnZTogJ+ivt+mAieaLqei0ueeUqOiuoeeul+exu+WeiycsIHRyaWdnZXI6ICdjaGFuZ2UnfSwNCiAgICAgICAgcGRBY2NGZWVaZXJvRmxhZzoge3JlcXVpcmVkOiBmYWxzZSwgbWVzc2FnZTogJ+ivt+mAieaLqei0ueeUqOaYr+WQpuWPr+S4uumbticsIHRyaWdnZXI6ICdjaGFuZ2UnfQ0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7fSwNCiAgICAgIHBkZ2VubGZ1bmREYXRhOiB7fSwNCiAgICAgIC8v6LSm5oi35a6a5LmJ6KGo5qC8DQogICAgICBmb3JtX2FjY291bnQ6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NDb2RlOiAnJywNCiAgICAgICAgcGRBY2NOYW1lOiAnJywNCiAgICAgICAgcGRBY2NvdW50VHlwZTogW10sDQogICAgICAgIHBkQWNjb3VudERldFR5cGU6ICcnLA0KICAgICAgICBwZEFjY0ZpblR5cGU6ICcxJywNCiAgICAgICAgcGRBY2NvdW50T3duZXI6ICcxJywNCiAgICAgICAgcGRBY2NJbnZlc3RUeXBlOiAnJywNCiAgICAgICAgcGRBY2NvdW50Q3VycmVuY3k6ICcwMScsDQogICAgICAgIHBkQWNjQ3JlUGxhY2U6ICcxJywNCiAgICAgICAgcGRBY2NDcnREYXRlOiAnMScsDQogICAgICAgIHBkQWNjQ29kZVJ1bGU6ICczJywNCiAgICAgICAgcGRBY2NEZWFsRnJlcTogJycsDQogICAgICAgIHBkQWNjRGVhbERheTogJzEnLA0KICAgICAgICBwZEFjY0RlYWxJbnN0TW9kZTogJycsDQogICAgICAgIHBkQWNjRnVuZEZsYWc6ICdOJw0KICAgICAgfSwNCiAgICAgIGZvcm1fYWNjb3VudFZvOiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgYWNjb3VudENvZGU6ICcnLA0KICAgICAgICBhY2NvdW50TmFtZTogJycsDQogICAgICAgIGFjY291bnRUeXBlOiAnJywNCiAgICAgICAgYWNjRmluVHlwZTogJycsDQogICAgICAgIGFjY291bnRPd25lcjogJycsDQogICAgICAgIGFjY0ludmVzdFR5cGU6ICcnLA0KICAgICAgICBhY2NvdW50Q3VycmVuY3k6ICcnLA0KICAgICAgICBhY2NDcmVQbGFjZTogJycsDQogICAgICAgIGFjY0NydERhdGU6ICcnLA0KICAgICAgICBhY2NDb2RlUnVsZTogJycsDQogICAgICAgIGFjY0RlYWxGcmVxOiAnJywNCiAgICAgICAgYWNjRGVhbERheTogdW5kZWZpbmVkLA0KICAgICAgICBhY2NEZWFsSW5zdE1vZGU6ICcnLA0KICAgICAgICBhY2NGdW5kRmxhZzogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICBmZWVDb3VudDogdW5kZWZpbmVkLA0KICAgICAgICBmZWVMaXN0OiBbXSwNCiAgICAgICAgZnVuZENvdW50OiB1bmRlZmluZWQsDQogICAgICAgIGZ1bmRMaXN0OiBbXQ0KICAgICAgfSwNCiAgICAgIGZvcm1fZmluYW5jaWFsSW5kZXg6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkRmluSW5kaUF0dHI6ICcnLA0KICAgICAgICBwZEJ1c3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEJ1c3NDb2RlOiAnJywNCiAgICAgICAgcGRGaW5JbmRpVHlwZTogJycsDQogICAgICAgIHBkUmF0ZUN1cnI6ICcnLA0KICAgICAgICBwZEFubnVSYXRlOiB1bmRlZmluZWQsDQogICAgICAgIHBkTW9uUmF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZERheVJhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRMZXZ5RmxhZzogJycsDQogICAgICAgIHBkVGF4UmF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZE1uZ0NvbTogJycsDQogICAgICAgIHBkVmFpbFN0YXJ0RGF0ZTogbmV3IERhdGUoKSwNCiAgICAgICAgcGRWYWlsRW5kRGF0ZTogJzk5OTktMTItMzEnLA0KICAgICAgICBwZEZpbkluZEZlZVR5cGU6ICcnLA0KICAgICAgICBwZFN1aXRGbGFnOiAnJywNCiAgICAgICAgcGRDYWxjSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBmb3JtX2Z1bmRWbzogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIGZ1bmRDb2RlOiAnJywNCiAgICAgICAgZnVuZENoTmFtZTogJycsDQogICAgICAgIGZ1bmRFbk5hbWU6ICcnLA0KICAgICAgICBmdW5kQ29tcE5hbWU6ICcnLA0KICAgICAgICBmdW5kVHlwZTogJycsDQogICAgICAgIGZ1bmRSaXNrR3JhZGU6ICcnLA0KICAgICAgICBmdW5kQ3VycmVuY3k6ICcnLA0KICAgICAgICBmdW5kU3RhdGU6ICcnLA0KICAgICAgICBmdW5kU3RhdGVWYWxpRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgZnVuZEludmVzdFJhdGlvOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICAvLyDmtYHlhaXpobnnvLTotLkNCiAgICAgIGZvcm1faW5GbG93OiB7DQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnLA0KICAgICAgICBwZEFkZEFtb3VudFR5cGU6ICdSJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZlJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkQWNjSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NDb2RlOiAnJywNCiAgICAgICAgcGRBY2NOYW1lOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZUeXBlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZEZXRhaWw6ICcnLA0KICAgICAgICBwZEFjY0NhcEluZklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjQ2FwSW5mQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5mTmFtZTogJycsDQogICAgICAgIHBkQWNjSW5mTW9kZTogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6ICcnLA0KICAgICAgICB1cGRhdGVUaW1lOiAnJywNCiAgICAgICAgZmVlQ291bnQ6ICcnLA0KICAgICAgICBmZWVMaXN0OiBbXSwNCiAgICAgICAgYWNjb3VudE93bmVyOiAnJywNCiAgICAgICAgZm9ybXVsYUZsYWc6ICdOJw0KICAgICAgfSwNCiAgICAgIC8vIOa1geWFpemhueaUtuebig0KICAgICAgZm9ybV9pbkZsb3dfSTogew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkQWNjQ2FwQ2FsY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZk1pblJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0sDQogICAgICBmb3JtX2luRmxvd19TOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRBY2NDYXBDYWxjQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlMTogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0luZk1heFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZFByZW1UeXBlOiAnJw0KICAgICAgfSwNCiAgICAgIGZvcm1faW5GbG93X0M6IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybV9vdXRGbG93X0M6IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybV9vdXRGbG93X1M6IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybV9vdXRGbG93X1BBOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRBY2NDYXBDYWxjQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlMTogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0luZk1heFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dFJhdGlvOiAnMScsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0sDQogICAgICBjYWxjRmxhZzogZmFsc2UsDQogICAgICBydWxlc19mb3JtSW5mbG93X1A6IHt9LA0KICAgICAgcnVsZXNfZm9ybUluZmxvd19JOiB7fSwNCiAgICAgIHJ1bGVzX2Zvcm1JbmZsb3dfUzoge30sDQogICAgICBydWxlc19mb3JtSW5mbG93X0M6IHt9LA0KICAgICAgcnVsZXNfZm9ybU91dGZsb3dfUzoge30sDQogICAgICBydWxlc19mb3JtT3V0Zmxvd19DOiB7fSwNCiAgICAgIGZvcm1fcGRBY2NGZWU6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgYWNjb3VudEZlZUlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjRmVlQ29kZTogJycsDQogICAgICAgIHBkQWNjRmVlTmFtZTogJycNCiAgICAgIH0sDQogICAgICBmb3JtX2luRmxvd0ludjogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBhY2NvdW50RmVlSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NGZWVDb2RlOiAnJywNCiAgICAgICAgcGRBY2NGZWVOYW1lOiAnJw0KICAgICAgfSwNCiAgICAgIGZvcm1faW5GbG93U3J2bDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBhY2NvdW50RmVlSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NGZWVDb2RlOiAnJywNCiAgICAgICAgcGRBY2NGZWVOYW1lOiAnJw0KICAgICAgfSwNCiAgICAgIGZvcm1faW5GbG93Q2xtOiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGFjY291bnRGZWVJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0ZlZUNvZGU6ICcnLA0KICAgICAgICBwZEFjY0ZlZU5hbWU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybV9vdXRGbG93OiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjQ2FwT3V0ZlR5cGU6ICcnLA0KICAgICAgICBwZEFjY0NhcE91dGZJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0NhcE91dGZDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBPdXRmTmFtZTogJycsDQogICAgICAgIHBkQWNjT3V0Zk1vZGU6ICcnLA0KICAgICAgICBwZEFjY091dGZSYXRpbzogdW5kZWZpbmVkLA0KICAgICAgICBwZENhbGNJZDogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgc2hvd1BkZ2VubEZ1bmQ6IGZhbHNlLA0KICAgICAgZm9ybV9zcnZsQm5mdDogew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFNydmxCbmZ0Q29kZTogJycsDQogICAgICAgIHBkU3J2bEJuZnROYW1lOiAnJywNCiAgICAgICAgcGRTcnZsQm5mdFR5cGU6ICcnDQogICAgICB9LA0KICAgICAgZm9ybV9jbG1CbmZ0OiB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQ2xtQm5mdENvZGU6ICcnLA0KICAgICAgICBwZENsbUJuZnROYW1lOiAnJywNCiAgICAgICAgcGRDbG1CbmZ0VHlwZTogJycNCiAgICAgIH0sDQogICAgICBmb3JtX2NvbWJpbmF0aW9uOiB7DQogICAgICAgIGFjY2ZlZTogdHJ1ZSwNCiAgICAgICAgcGRhY2NyYXRlZGU6IHRydWUsDQogICAgICAgIHBkYWNjZm91bmRkZTogZmFsc2UsDQogICAgICAgIHBkYWNjZm91bmluZmxvd2RlZGluZTogdHJ1ZSwNCiAgICAgICAgcGRhY2Nmb3VuZEluZ3VhcmFudGVlOiB0cnVlLA0KICAgICAgICBwZGFjY2ZvdW5kQWxpdmVndWFyYW50ZWU6IHRydWUsDQogICAgICAgIHBkYWNjZm91bmRQYXlndWFyYW50ZWU6IHRydWUsDQogICAgICAgIHBkYWNjZm91bmRJbmd1YXJhbnRlZV8xOiBmYWxzZSwNCiAgICAgICAgcGRhY2Nmb3VuZEFsaXZlZ3VhcmFudGVlXzE6IGZhbHNlLA0KICAgICAgICBvdXRGbG93U3J2bDogdHJ1ZSwNCiAgICAgICAgb3V0Rmxvd0NsbTogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIC8vIOS6p+WTgei0puaIt+ihqOagvOafpeivouWPguaVsA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHByb2R1Y3RJZDogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgLy8g6YCa55So6KGo5p+l6K+i5Y+C5pWwDQogICAgICBwYXJhbXMxOiB7DQogICAgICAgIGFjY291bnRJZDogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgLy8g5Lqn5ZOB6KGo5p+l6K+i5Y+C5pWwDQogICAgICBwYXJhbXMyOiB7DQogICAgICAgIGFjY291bnRJZDogdW5kZWZpbmVkLA0KICAgICAgICBwcm9kdWN0SWQ6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIG91dEZsb3dUeXBlOiAnJywNCiAgICAgIGluRmxvd1R5cGU6ICcnLA0KICAgICAgYWN0aXZhdGVkTmFtZTogJ2FjY291bnQnLA0KICAgICAgZGlzYWJsZWRfdGFiOiB0cnVlLA0KICAgICAgY29uZmlnc19hY2NvdW50OiBbXSwNCiAgICAgIGluRmxvd0xpc3Q6IFtdLA0KICAgICAgb3V0Rmxvd0xpc3Q6IFtdLA0KICAgICAgbGlzdEJ5UHJvZHVjdEFjY291bnQ6IFtdLA0KICAgICAgYWNjRmVlOiB7fSwNCiAgICAgIHNlbGVjdGVkQWNjb3VudDoge30sDQogICAgICBzZWxlY3RGb3VuZDoge30sDQogICAgICBzZWxlY3RlZEluRmxvdzoge30sDQogICAgICBzZWxlY3RlZE91dEZsb3c6IHt9LA0KICAgICAgYWNjZmVlVGFibGU6IFtdLA0KICAgICAgcGRnZW5sRm91bmRMaXN0OiBbXSwNCiAgICAgIHNydmxCbmZ0TGlzdDogW10sDQogICAgICBzcnZsQm5mdE9wdGlvbkxpc3Q6IFtdLA0KICAgICAgY2xtQm5mdExpc3Q6IFtdLA0KICAgICAgY2xtQm5mdE9wdGlvbkxpc3Q6IFtdLA0KICAgICAgcGRQYU9wdGlvbkxpc3Q6IFtdLA0KICAgICAgcHJlbWl1bU9wdGlvbkxpc3Q6IFtdLA0KICAgICAgYWNjRmVlT3B0aW9uTGlzdDogW10sDQogICAgICBpbnZPcHRpb25MaXN0OiBbXSwNCiAgICAgIHNlbGVjdGVkUHJlbWl1bUNvZGU6ICcnLA0KICAgICAgc2VsZWN0ZWRJbnZDb2RlOiAnJywNCiAgICAgIHNlbGVjdGVkQm5mdDogJycsDQogICAgICBzZWxlY3RlZENsbUJuZnQ6ICcnLA0KICAgICAgc2VsZWN0ZWRTcnZCbmZ0OiAnJywNCiAgICAgIHNlbGVjdGVkQnVzc09iamVjdDoge30sDQogICAgICBmb3JtdWxhVHlwZTogJycsDQogICAgICByYWRpbzogJycsDQogICAgICBzaG93TW9yZUZ1bmRGbGFnOiBmYWxzZSwNCiAgICAgIHBkQWNjRnVuZERhdGE6IFtdLA0KICAgICAgcGRBY2NGdW5kTGlzdDogW10sDQogICAgICBxdWlja0RlZkFjY291bnRGZWVMaXN0OiBbXSwNCiAgICAgIHF1aWNrRGVmSW5GbG93TGlzdDogW10sDQogICAgICBxdWlja0RlZk91dEZsb3dMaXN0OiBbXSwNCiAgICAgIHF1aWNrQWNjb3VudEluZm86IHt9LA0KICAgICAgcHJlbWl1bUZlZUxpc3Q6IFtdLA0KICAgICAgaW5GbG93SW52TGlzdDogW10sDQogICAgICBpbkZsb3dTcnZsTGlzdDogW10sDQogICAgICBpbkZsb3dDbG1MaXN0OiBbXSwNCiAgICAgIGZvcm1fYXRyc2luZm9fZjogew0KICAgICAgICBwZGF0cnNjb2RlOiAnJywgcGRhdHJzbmFtZTogJ+mihuWPluaWueW8jycsIHBkYXRyc3ZhbDogWycxJ10sDQogICAgICB9LA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBjb25maWdzOiBbXSwNCiAgICAgIHJ1bGVzX2Zvcm1JbmZsb3c6IHsNCiAgICAgICAgJ2Zvcm1fYXRyc2luZm9fZi5wZGF0cnN2YWwnOg0KICAgICAgICAgIFt7DQogICAgICAgICAgICB0eXBlOiAnYXJyYXknLA0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZHRlbXBQZFNydmxCbmZ0Lm1lc3NhZ2UucGxzZScpLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIC8v6LSm5oi357uT5p6E5a6a5LmJ5qOA6aqM6KeE5YiZDQogICAgICBmb3JtX2FjY291bnRfcnVsZXM6IHsNCiAgICAgICAgcGRBY2NJbnZlc3RUeXBlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6LSm5oi35oqV6LWE57G75Z6LIiwgdHJpZ2dlcjogImNoYW5nZSJ9XSwNCiAgICAgICAgcGRBY2NvdW50VHlwZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgICAgICAgIF90aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgIGlmICghX3RoaXMuZm9ybV9hY2NvdW50LnBkQWNjb3VudFR5cGUgfHwgX3RoaXMuZm9ybV9hY2NvdW50LnBkQWNjb3VudFR5cGUubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fpgInmi6notKbmiLfnsbvlnosiKSkNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjaygpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSwgdHJpZ2dlcjogImNoYW5nZSINCiAgICAgICAgfV0sDQogICAgICAgIHBkQWNjTmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpei0puaIt+WQjeensCIsIHRyaWdnZXI6ICJjaGFuZ2UifV0sDQogICAgICAgIHBkQWNjb3VudE93bmVyOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6LSm5oi35omA5pyJ6ICFIiwgdHJpZ2dlcjogImNoYW5nZSJ9XSwNCiAgICAgICAgcGRBY2NvdW50Q3VycmVuY3k6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6notKbmiLfluIHnp40iLCB0cmlnZ2VyOiAiY2hhbmdlIn1dLA0KICAgICAgICBwZEFjY0NyZVBsYWNlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6LSm5oi35bu656uL5pe254K5IiwgdHJpZ2dlcjogImNoYW5nZSJ9XSwNCiAgICAgICAgcGRBY2NDcnREYXRlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6LSm5oi35bu656uL5pelIiwgdHJpZ2dlcjogImNoYW5nZSJ9XSwNCiAgICAgICAgcGRBY2NEZWFsRnJlcTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqee7k+eul+mikeeOhyIsIHRyaWdnZXI6ICJjaGFuZ2UifV0sDQogICAgICAgIHBkQWNjRGVhbERheTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpee7k+eul+aXpSIsIHRyaWdnZXI6ICJjaGFuZ2UifSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMSB8fCB2YWx1ZSA+IDMxKSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLnu5Pnrpfml6XmnJ/pl7TkuLoxLTMxIikpDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2soKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfV0sDQogICAgICAgIHBkQWNjRGVhbEluc3RNb2RlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup57uT5oGv6K6h566X5pa55byPIiwgdHJpZ2dlcjogImNoYW5nZSJ9XQ0KICAgICAgfSwNCiAgICAgIGFzc29jaWF0ZUZ1bmQ6IGZhbHNlLA0KICAgICAgYmVuZWZpdDogZmFsc2UsDQogICAgICBkaWFsb2dWaXNpYmxlOiB7DQogICAgICAgIGFzc29jaWF0ZUZ1bmQ6IGZhbHNlLA0KICAgICAgICBwZGdlbmxhY2NvdW50OiBmYWxzZSwNCiAgICAgICAgYWNjRmVlOiBmYWxzZSwNCiAgICAgICAgZ2VuZXJhbEZ1bmQ6IGZhbHNlLA0KICAgICAgICByZWxhdGVkQWNjb3VudDogZmFsc2UsDQogICAgICAgIGdlbmVyYWxBY2NvdW50RmVlOiBmYWxzZSwNCiAgICAgICAgcHJlbWl1bTogZmFsc2UsDQogICAgICAgIGludjogZmFsc2UsDQogICAgICAgIGNsbUJuZnQ6IGZhbHNlLA0KICAgICAgICBub01lZENsbUJuZnQ6IGZhbHNlLA0KICAgICAgICBzcnZCbmZ0OiBmYWxzZSwNCiAgICAgICAgc3J2Qm5mdDE6IGZhbHNlLA0KICAgICAgICBmb3JtdWxhRGVmX2FjY291bnRGZWU6IGZhbHNlDQogICAgICB9LA0KICAgICAgZmluYWxWYWxGbGFnOiB0cnVlLA0KICAgICAgZmluYWxSYXRpb0ZsYWc6IHRydWUsDQogICAgICBwZEFjY0ZlZUNhbGNDb2RlRmxhZzogdHJ1ZSwNCiAgICAgIGNhcEZlZUZpbmFsVmFsRmxhZzogZmFsc2UsDQogICAgICBjYXBGZWVGaW5hbFJhdGlvRmxhZzogZmFsc2UsDQogICAgICBjYXBGZWVDYWxjQ29kZUZsYWc6IGZhbHNlLA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnByb2R1Y3QgPSB0aGlzLmdldFBkRGF0YSgpDQogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnNob3dQYWdlRmxhZyA9PT0gJzEnKSB7DQogICAgICB0aGlzLnNob3dQYWdlRmxhZyA9ICcxJw0KICAgIH0NCiAgICB0aGlzLnBhcmFtcy5wcm9kdWN0SWQgPSB0aGlzLnByb2R1Y3QuaWQNCiAgICB0aGlzLmluaXQoKQ0KICAgIHRoaXMuZm9ybV9hY2NvdW50LmFjY291bnROYW1lID0gdGhpcy5wcm9kdWN0LnBkTmFtZQ0KDQogICAgLy/liJ3lp4vljJblv6vmjbflrprkuYnmn6Xor6INCiAgICB0aGlzLmluaXRQcm9kdWN0UXVlcnlEYXRhKCkNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAnZm9ybV9pbkZsb3cucGRBY2NJbmZNb2RlJyh2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09ICcwJykgew0KICAgICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjSW5mUmF0aW8gPSAxDQogICAgICB9DQogICAgfSwNCiAgICBhY3RpdmF0ZWROYW1lKHZhbCkgew0KICAgICAgaWYgKHZhbCA9PT0gJ2luRmxvdycpIHsNCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRJbkZsb3cpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NDYXBDb2RlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnb3V0RmxvdycpIHsNCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRPdXRGbG93KS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjQ2FwQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHZhbCAhPT0gJ2luRmxvdycpIHsNCiAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSAnJw0KICAgICAgfQ0KICAgICAgaWYgKHZhbCAhPT0gJ291dEZsb3cnKSB7DQogICAgICAgIHRoaXMucGRBY2NDYXBPdXRmQ29kZSA9ICcnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdGFiQ2xpY2sodGFiKSB7DQogICAgICBsZXQgdGFiTmFtZSA9IHRhYi5uYW1lDQogICAgICBjb25zdCB0aGF0ID0gdGhpcw0KICAgICAgc3dpdGNoICh0YWJOYW1lKSB7DQogICAgICAgIGNhc2UgJ2FjY291bnQnOg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ2FjY291bnRfZmVlJzoNCiAgICAgICAgICB0aGlzLmFjY0ZlZXJlc2V0Rm9ybSgpDQogICAgICAgICAgLy8g6LSm5oi36LS555SoDQogICAgICAgICAgdGhpcy5hY2NGZWVUYWJsZUxpc3QgPSB0aGlzLnNlbGVjdGVkQWNjb3VudC5mZWVMaXN0DQogICAgICAgICAgLy/ojrflj5botKbmiLfotLnnlKjpobrluo8NCg0KICAgICAgICAgIHRoaXMuaW5pdEFjY0ZlZU9yZGVyVmFsKCkNCg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ2luRmxvdyc6DQogICAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpDQogICAgICAgICAgdGhpcy5pbkZsb3dUeXBlQ2hhbmdlZCgpDQogICAgICAgICAgLy/liJ3lp4vljJbmtYHlhaXmtYHlh7rpobnkuIvmi4nmlbDmja4NCiAgICAgICAgICB0aGlzLnBhcmFtczJbJ2NhcEZsb3dUeXBlJ10gPSAnSScNCiAgICAgICAgICBpbml0Q2FwSW5BbmRPdXRPcHRpb25zRGF0YSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wYXJhbXMyKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhhdC5wcmVtaXVtT3B0aW9uTGlzdCA9IHJlcy5kYXRhLnByZW1pdW1zDQogICAgICAgICAgICB0aGF0LmFjY0ZlZU9wdGlvbkxpc3QgPSByZXMuZGF0YS5hY2NvdW50RmVlcw0KICAgICAgICAgICAgdGhhdC5pbnZPcHRpb25MaXN0ID0gcmVzLmRhdGEuaW52cw0KICAgICAgICAgICAgdGhhdC5zcnZsQm5mdE9wdGlvbkxpc3QgPSByZXMuZGF0YS5zQm5mdHMNCiAgICAgICAgICAgIHRoYXQuY2xtQm5mdE9wdGlvbkxpc3QgPSByZXMuZGF0YS5jQm5mdHMNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ291dEZsb3cnOg0KICAgICAgICAgIHRoaXMuaW5pdENhcGl0YWxPdXRmbG93KCkNCiAgICAgICAgICB0aGlzLm91dEZsb3dUeXBlQ2hhbmdlZCgpDQogICAgICAgICAgdGhpcy5wYXJhbXMyWydjYXBGbG93VHlwZSddID0gJ08nDQogICAgICAgICAgaW5pdENhcEluQW5kT3V0T3B0aW9uc0RhdGEodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zMikpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoYXQuc3J2bEJuZnRPcHRpb25MaXN0ID0gcmVzLmRhdGEuc0JuZnRzDQogICAgICAgICAgICB0aGF0LmNsbUJuZnRPcHRpb25MaXN0ID0gcmVzLmRhdGEuY0JuZnRzDQogICAgICAgICAgICB0aGF0LnBkUGFPcHRpb25MaXN0ID0gcmVzLmRhdGEucGFJbmZvcw0KICAgICAgICAgICAgdGhhdC5hY2NGZWVPcHRpb25MaXN0ID0gcmVzLmRhdGEuYWNjb3VudEZlZXMNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfSwNCiAgICBzZWxlY3RBY2NvdW50SXRlbSh2YWwpIHsNCiAgICAgIGxldCBhY2NGZWUgPSB0aGlzLl8uZmluZCh0aGlzLmFjY0ZlZU9wdGlvbkxpc3QsIHtpZDogdmFsfSkNCg0KICAgICAgdGhpcy5zZXRDYXBGZWVGaW5hbFZhbE9yRmluYWxSYXRpbyhhY2NGZWUucGRBY2NGZWVDYWxjTW9kZSkNCg0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlSWQgPSBhY2NGZWUuaWQNCg0KICAgICAgLy/lvZPpgInkuK3kuIDmnaHmtYHlhaXpmY3otLnnlKjml7bkuI3ov5vooYzotYvlgLwNCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFBkQWNjb3VudEZlZS5pZCkgew0KICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVEZWR1T3JkZXIgPSBhY2NGZWUucGRBY2NGZWVPcmRlcg0KICAgICAgfQ0KDQogICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbFZhbCA9IGFjY0ZlZS5wZEFjY0ZlZUZpbmFsVmFsDQogICAgICBpZiAoYWNjRmVlLnBkQWNjRmVlRmluYWxSYXRpbykgew0KICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbFJhdGlvID0gcGFyc2VJbnQoYWNjRmVlLnBkQWNjRmVlRmluYWxSYXRpbyAqIDEwMCkNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZENhbGNDb2RlID0gYWNjRmVlLnBkQWNjRmVlQ2FsY0NvZGUNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NvZGUgPSBhY2NGZWUucGRBY2NvdW50Q29kZQ0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjTmFtZSA9IGFjY0ZlZS5wZEFjY291bnROYW1lDQogICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVDb2RlID0gYWNjRmVlLnBkQWNjRmVlQ29kZQ0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlTmFtZSA9IGFjY0ZlZS5wZEFjY0ZlZU5hbWUNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZUNhbGNNb2RlID0gYWNjRmVlLnBkQWNjRmVlQ2FsY01vZGUNCiAgICB9LA0KICAgIHNldENhcFJhdGlvQW5kQ2FsY0NvZGVfUCgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dFJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NJbmZNaW5SYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjSW5mTWF4UmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcENhbGNDb2RlID0gJycNCiAgICB9LA0KICAgIHNldENhcFJhdGlvQW5kQ2FsY0NvZGVfSSgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjSW5mTWluUmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjSW5mTWF4UmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwQ2FsY0NvZGUgPSAnJw0KICAgIH0sDQogICAgc2V0Q2FwUmF0aW9BbmRDYWxjQ29kZV9TKCkgew0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSW5PdXRSYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NJbmZNaW5SYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NJbmZNYXhSYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgfSwNCiAgICBzZXRDYXBSYXRpb0FuZENhbGNDb2RlX0MoKSB7DQogICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dFJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0luZk1pblJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0luZk1heFJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcENhbGNDb2RlID0gJycNCiAgICB9LA0KICAgIHNldENhcFJhdGlvQW5kQ2FsY0NvZGVfT3V0X0MoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSW5PdXRSYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjSW5mTWluUmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0luZk1heFJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgfSwNCiAgICBzZXRDYXBSYXRpb0FuZENhbGNDb2RlX091dF9TKCkgew0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0luZk1pblJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NJbmZNYXhSYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwQ2FsY0NvZGUgPSAnJw0KICAgIH0sDQogICAgc2V0Q2FwUmF0aW9BbmRDYWxjQ29kZV9PdXRfUEEoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NJbmZNaW5SYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0luZk1heFJhdGlvID0gJycNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1BBLnBkQWNjQ2FwQ2FsY0NvZGUgPSAnJw0KICAgIH0sDQogICAgc2V0RmluYWxWYWxPckZpbmFsUmF0aW8odmFsKSB7DQogICAgICB0aGlzLmZpbmFsVmFsRmxhZyA9IHRydWUNCiAgICAgIHRoaXMuZmluYWxSYXRpb0ZsYWcgPSB0cnVlDQogICAgICB0aGlzLnBkQWNjRmVlQ2FsY0NvZGVGbGFnID0gdHJ1ZQ0KICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgY2FzZSAnMDEnIDoNCiAgICAgICAgY2FzZSAnMDMnIDoNCiAgICAgICAgICB0aGlzLmZpbmFsVmFsRmxhZyA9IGZhbHNlDQogICAgICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlRmluYWxSYXRpbyA9ICcnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnMDInIDoNCiAgICAgICAgY2FzZSAnMDQnIDoNCiAgICAgICAgICB0aGlzLmZpbmFsUmF0aW9GbGFnID0gZmFsc2UNCiAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFZhbCA9ICcnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnMDUnIDoNCiAgICAgICAgY2FzZSAnMDYnIDoNCiAgICAgICAgICB0aGlzLmZpbmFsVmFsRmxhZyA9IGZhbHNlDQogICAgICAgICAgdGhpcy5maW5hbFJhdGlvRmxhZyA9IGZhbHNlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnMDcnIDoNCiAgICAgICAgY2FzZSAnMDgnIDoNCiAgICAgICAgY2FzZSAnMDknIDoNCiAgICAgICAgICB0aGlzLnBkQWNjRmVlQ2FsY0NvZGVGbGFnID0gZmFsc2UNCiAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFJhdGlvID0gJycNCiAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFZhbCA9ICcnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFJhdGlvID0gJycNCiAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFZhbCA9ICcnDQogICAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNldENhcEZlZUZpbmFsVmFsT3JGaW5hbFJhdGlvKHZhbCkgew0KICAgICAgdGhpcy5jYXBGZWVGaW5hbFZhbEZsYWcgPSBmYWxzZQ0KICAgICAgdGhpcy5jYXBGZWVGaW5hbFJhdGlvRmxhZyA9IGZhbHNlDQogICAgICB0aGlzLmNhcEZlZUNhbGNDb2RlRmxhZyA9IGZhbHNlDQoNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gPSAnJw0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlRmluYWxWYWwgPSAnJw0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlTWF4RmluYWxSYXRpbyA9ICcnDQogICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbE1heFZhbCA9ICcnDQoNCg0KICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgY2FzZSAnMDEnIDoNCiAgICAgICAgY2FzZSAnMDMnIDoNCiAgICAgICAgICB0aGlzLmNhcEZlZUZpbmFsVmFsRmxhZyA9IHRydWUNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICcwMicgOg0KICAgICAgICBjYXNlICcwNCcgOg0KICAgICAgICAgIHRoaXMuY2FwRmVlRmluYWxSYXRpb0ZsYWcgPSB0cnVlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnMDUnIDoNCiAgICAgICAgY2FzZSAnMDYnIDoNCiAgICAgICAgICB0aGlzLmNhcEZlZUZpbmFsVmFsRmxhZyA9IHRydWUNCiAgICAgICAgICB0aGlzLmNhcEZlZUZpbmFsUmF0aW9GbGFnID0gdHJ1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJzA3JyA6DQogICAgICAgIGNhc2UgJzA4JyA6DQogICAgICAgIGNhc2UgJzA5JyA6DQogICAgICAgICAgdGhpcy5jYXBGZWVDYWxjQ29kZUZsYWcgPSB0cnVlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgc2V0UGRBY2NGZWVOYW1lKHZhbCkgew0KICAgICAgaWYgKHZhbCAmJiAhdGhpcy5hY2NGZWUuaWQpIHsNCiAgICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlTmFtZSA9ICcnDQogICAgICAgIGxldCBmZWVOYW1lID0gdGhpcy5nZXRDb2RlTmFtZSgnY29zdHByb3R5cGUnLCB2YWwsIHRydWUpDQogICAgICAgIGlmIChmZWVOYW1lKSB7DQogICAgICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlTmFtZSA9IHRoaXMuc2VsZWN0ZWRBY2NvdW50LnBkQWNjTmFtZSArIGZlZU5hbWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWZ0ZXJTZWxlY3RBY2NvdW50VHlwZSh2YWwpIHsNCiAgICAgIGlmICh2YWwgJiYgIXRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkKSB7DQogICAgICAgIHRoaXMuZm9ybV9hY2NvdW50LnBkQWNjTmFtZSA9ICcnDQogICAgICAgIGxldCB0eXBlTmFtZSA9IHRoaXMuZ2V0Q2FzY2FkZXJDb2RlTmFtZSgnYWNjb3VudHR5cGUnLCB2YWwsIHRydWUpDQogICAgICAgIGlmICh0eXBlTmFtZSkgew0KICAgICAgICAgIHRoaXMuZm9ybV9hY2NvdW50LnBkQWNjTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWUgKyB0eXBlTmFtZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBpbml0UHJvZHVjdFF1ZXJ5RGF0YSgpIHsNCiAgICAgIHRoaXMuZmlsdGVyUHJvZHVjdEJ5Tm9kZSh0aGlzLCAnMScsIGZhbHNlKQ0KICAgIH0sDQogICAgc2VsZWN0ZWREZXRhaWxUeXBlQ2hhbmdlZCh2YWwpIHsNCiAgICAgIHZhbCA9PT0gJycgPyB0aGlzLmluaXRQcm9kdWN0UXVlcnlEYXRhKCkgOiB0aGlzLmZpbHRlclByb2R1Y3RCeUNhdGVnb3J5KHRoaXMsIHZhbCkNCiAgICAgIHRoaXMucGFyYW1zX3F1aWNrLnNlbGVjdFBkSWQgPSAnJw0KICAgIH0sDQogICAgc2VsZWN0ZWRQZEFjY291bnRGZWVDaGFuZ2Uocm93KSB7DQogICAgICAvL+mAieS4rea1geWFpea1geWHuui0ueeUqOWQjuiuvue9ruWvueW6lOeahOagj+S9jeaYvuekug0KICAgICAgbGV0IGFjY0ZlZSA9IHRoaXMuXy5maW5kKHRoaXMuYWNjRmVlT3B0aW9uTGlzdCwgeydpZCc6IHJvdy5wZEFjY0ZlZUlkfSkNCg0KICAgICAgdGhpcy5zZXRDYXBGZWVGaW5hbFZhbE9yRmluYWxSYXRpbyhhY2NGZWUucGRBY2NGZWVDYWxjTW9kZSkNCg0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KQ0KDQogICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVNYXhGaW5hbFJhdGlvID0gcGFyc2VJbnQodGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlTWF4RmluYWxSYXRpbyAqIDEwMCkNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gPSBwYXJzZUludCh0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbFJhdGlvICogMTAwKQ0KDQogICAgICB0aGlzLnBkQWNjRmVlQ29kZSA9IHJvdy5wZEFjY0ZlZUNvZGUNCiAgICAgIHRoaXMucGRBY2NGZWVOYW1lID0gcm93LnBkQWNjRmVlTmFtZQ0KDQogICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVDYWxjTW9kZSA9IGFjY0ZlZS5wZEFjY0ZlZUNhbGNNb2RlDQogICAgfSwNCiAgICB0b0Zvcm11bGFEZWYocm93LCBmb3JtdWxhVHlwZSkgew0KICAgICAgaWYgKE9iamVjdC5rZXlzKHJvdykubGVuZ3RoID09PSAwIHx8ICFyb3cuaWQpIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEFjYy5tZXNzYWdlLnBsZWFzZVNhdmVGZWVBbmRDaG9vc2VPbmUnKSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLnNlbGVjdGVkQnVzc09iamVjdCA9IHJvdw0KICAgICAgdGhpcy5mb3JtdWxhVHlwZSA9IGZvcm11bGFUeXBlDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUuZm9ybXVsYURlZl9hY2NvdW50RmVlID0gdHJ1ZQ0KICAgIH0sDQogICAgYnJpbmdJbkNhbGNDb2RlKHBkQnVzc0RldGFpbFR5cGUsIHBkQnVzc0lkLCBjYWxjQ29kZSkgew0KICAgICAgc3dpdGNoIChwZEJ1c3NEZXRhaWxUeXBlKSB7DQogICAgICAgIGNhc2UgJzMzJzovLyDotKbmiLfotLnnlKgNCiAgICAgICAgICBmb3IgKGNvbnN0IGFjY0ZlZSBvZiB0aGlzLmFjY0ZlZVRhYmxlTGlzdCkgew0KICAgICAgICAgICAgaWYgKGFjY0ZlZS5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICAgICAgICB0aGlzLiRzZXQoYWNjRmVlLCAncGRBY2NGZWVDYWxjQ29kZScsIGNhbGNDb2RlKQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGhpcy5mb3JtX2FjY291bnRfZmVlLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVDYWxjQ29kZSA9IGNhbGNDb2RlDQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJzM0JzovLyDmtYHlhaUNCiAgICAgICAgICBmb3IgKGNvbnN0IGluRmxvdyBvZiB0aGlzLmluRmxvd0xpc3QpIHsNCiAgICAgICAgICAgIGlmIChpbkZsb3cuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KGluRmxvdywgJ3BkQWNjQ2FwQ2FsY0NvZGUnLCBjYWxjQ29kZSkNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgc3dpdGNoICh0aGlzLmluRmxvd1R5cGUpIHsNCiAgICAgICAgICAgIGNhc2UgIlAiOg0KICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtX2luRmxvdy5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBDYWxjQ29kZSA9IGNhbGNDb2RlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgIkkiOg0KICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtX2luRmxvd19JLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwQ2FsY0NvZGUgPSBjYWxjQ29kZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICJTIjoNCiAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybV9pbkZsb3dfUy5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAiQyI6DQogICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0MuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9IGNhbGNDb2RlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJzM1JzovLyDmtYHlh7oNCiAgICAgICAgICBmb3IgKGNvbnN0IG91dEZsb3cgb2YgdGhpcy5vdXRGbG93TGlzdCkgew0KICAgICAgICAgICAgaWYgKG91dEZsb3cuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KG91dEZsb3csICdwZEFjY0NhcENhbGNDb2RlJywgY2FsY0NvZGUpDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIHN3aXRjaCAodGhpcy5vdXRGbG93VHlwZSkgew0KICAgICAgICAgICAgY2FzZSAiUyI6DQogICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1fb3V0Rmxvd19TLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0NhcENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAiQyI6DQogICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1fb3V0Rmxvd19DLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAiUEEiOg0KICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtX291dEZsb3dfUEEuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiNjYiOi8vIOa1geWFpei0ueeUqA0KICAgICAgICAgIGZvciAoY29uc3QgYWNjRmVlIG9mIHRoaXMucGRBY2NvdW50RmVlQ2FwSW5MaXN0KSB7DQogICAgICAgICAgICBpZiAoYWNjRmVlLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICAgIHRoaXMuJHNldChhY2NGZWUsICdwZENhbGNDb2RlJywgY2FsY0NvZGUpDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmICh0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUuaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiNjciOi8vIOa1geWHuui0ueeUqA0KICAgICAgICAgIGZvciAoY29uc3QgYWNjRmVlIG9mIHRoaXMucGRBY2NvdW50RmVlQ2FwT3V0TGlzdCkgew0KICAgICAgICAgICAgaWYgKGFjY0ZlZS5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgew0KICAgICAgICAgICAgICB0aGlzLiRzZXQoYWNjRmVlLCAncGRDYWxjQ29kZScsIGNhbGNDb2RlKQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7DQogICAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRDYWxjQ29kZSA9IGNhbGNDb2RlDQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYShmbGFnKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUuZm9ybXVsYURlZl9hY2NvdW50RmVlID0gZmxhZw0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9hY2NGZWUoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUuYWNjRmVlID0gZmFsc2UNCiAgICB9LA0KICAgIGhhbmRsZUFjY0ZlZU1vcmUoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUucGRnZW5sYWNjb3VudCA9IHRydWUNCiAgICB9LA0KICAgIHJlc2V0RGlhbG9nVmlzaWJsZSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHsNCiAgICAgICAgcGRnZW5sYWNjb3VudDogZmFsc2UsDQogICAgICAgIGFjY0ZlZTogZmFsc2UsDQogICAgICAgIGdlbmVyYWxSYXRlOiBmYWxzZSwNCiAgICAgICAgZ2VuZXJhbEZ1bmQ6IGZhbHNlLA0KICAgICAgICByZWxhdGVkQWNjb3VudDogZmFsc2UsDQogICAgICAgIGdlbmVyYWxBY2NvdW50RmVlOiBmYWxzZSwNCiAgICAgICAgcHJlbWl1bTogZmFsc2UsDQogICAgICAgIGludjogZmFsc2UsDQogICAgICAgIGNsbUJuZnQ6IGZhbHNlLA0KICAgICAgICBzcnZCbmZ0OiBmYWxzZSwNCiAgICAgICAgZm9ybXVsYURlZl9hY2NvdW50RmVlOiBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgaW5pdCgpIHsNCiAgICAgIC8vIOmHjee9rumhtemdouaVsOaNrg0KICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnQgPSB7fQ0KICAgICAgdGhpcy5zZWxlY3RlZEluRmxvdyA9IHt9DQogICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KICAgICAgdGhpcy5yZXNldEZvcm1JbkZsb3coKQ0KICAgICAgdGhpcy5wcmVtaXVtRmVlTGlzdCA9IFtdDQogICAgICB0aGlzLmFjY291bnRGZWVMaXN0ID0gW10NCiAgICAgIHRoaXMuaW5GbG93VHlwZSA9ICcnDQogICAgICB0aGlzLm91dEZsb3dUeXBlID0gJycNCiAgICAgIHRoaXMuZGlzYWJsZWRfdGFiID0gdHJ1ZQ0KICAgICAgdGhpcy5hY3RpdmF0ZWROYW1lID0gJ2FjY291bnQnDQogICAgICAvLyDlhbPpl63miYDmnInlvLnnqpcNCiAgICAgIHRoaXMucmVzZXREaWFsb2dWaXNpYmxlKCkNCiAgICAgIHBkQWNjTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5jb25maWdzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlZnJlc2hBY2NvdW50VGFibGUoKSB7DQogICAgICBwZEFjY0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuY29uZmlncyA9IHJlc3BvbnNlLmRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmn6Xor6Llj4LogIPotKbmiLcNCiAgICBnZXRSZWZlcmVuY2VBY2NvdW50TGlzdCh2YWwpIHsNCiAgICAgIHRoaXMucGFyYW1zX3F1aWNrLmFjY291bnRUeXBlID0gJycNCiAgICAgIGlmICh2YWwpIHsNCiAgICAgICAgdGhpcy5wYXJhbXNfcXVpY2suYWNjb3VudFR5cGUgPSB2YWxbdmFsLmxlbmd0aCAtIDFdDQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBhdXRvU2VhcmNoSW5BbGxQcmVtaXVtKCkgew0KICAgICAgdGhpcy4kbmV4dFRpY2soYXN5bmMgKCkgPT4gew0KICAgICAgICBpZiAoIXRoaXMucGFyYW1zX3F1aWNrLmVxX3BkSW5mb0lkKSB7DQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5wYXJhbXNfcXVpY2suYnlQYWdlID0gJ04nDQogICAgICAgIHRoaXMuJHJlZnMucGFnZV9xdWlja19oaWRkZW4ucmVsb2FkKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBkZWFsQWNjRmVlRmluYWxSYXRpbygpIHsNCiAgICAgIGlmICh0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFJhdGlvKSB7DQogICAgICAgIHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gPSB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVGaW5hbFJhdGlvIC8gMTAwDQogICAgICB9DQogICAgfSwNCiAgICAvL+i0puaIt+i0ueeUqOS/neWtmA0KICAgIGFkZFBkQWNjb3VudEZlZSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9hY2NvdW50X2ZlZS52YWxpZGF0ZSgocGFzcykgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQNCiAgICAgICAgICAvL+WkhOeQhui0ueeUqOavlOeOhw0KICAgICAgICAgIHRoaXMuZGVhbEFjY0ZlZUZpbmFsUmF0aW8oKQ0KDQogICAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LA0KICAgICAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgICAgIGZvcm1BY2NvdW50RmVlOiB0aGlzLmZvcm1fYWNjb3VudF9mZWUNCiAgICAgICAgICB9DQogICAgICAgICAgYWRkUGRBY2NvdW50RmVlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEgPT09IC0xKSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncGR0ZW1wUGRBY2MubWVzc2FnZS5mZWVPcmRlckR1cGxpY2F0ZScpKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnVwZGF0ZScpKQ0KICAgICAgICAgICAgICB0aGlzLmFjY0ZlZXJlc2V0Rm9ybSgpDQoNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlT3JkZXIgPSByZXMuZGF0YQ0KICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEFjY291bnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGVkQWNjb3VudCkNCiAgICAgICAgICAgICAgcGRBY2NMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuY29uZmlncyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQWNjb3VudCA9IHt9DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnQgPSB0aGlzLl8uZmluZCh0aGlzLmNvbmZpZ3MsIHsnaWQnOiBzZWxlY3RlZEFjY291bnQuaWR9KQ0KICAgICAgICAgICAgICAgIHRoaXMuYWNjRmVlVGFibGVMaXN0ID0gdGhpcy5zZWxlY3RlZEFjY291bnQuZmVlTGlzdA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/otKbmiLfotLnnlKjmm7TmlrANCiAgICB1cGRhdGVQZEFjY291bnRGZWUoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm1fYWNjb3VudF9mZWUudmFsaWRhdGUoKHBhc3MpID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICAvL+WkhOeQhui0ueeUqOavlOeOhw0KICAgICAgICAgIHRoaXMuZGVhbEFjY0ZlZUZpbmFsUmF0aW8oKQ0KICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtmb3JtQWNjb3VudEZlZTogdGhpcy5mb3JtX2FjY291bnRfZmVlfQ0KICAgICAgICAgIHVwZGF0ZVBkQWNjb3VudEZlZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhID09PSAtMSkgew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQWNjLm1lc3NhZ2UuZmVlT3JkZXJEdXBsaWNhdGUnKSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS51cGRhdGUnKSkNCiAgICAgICAgICAgICAgdGhpcy5pbml0YWNjRmVlVGFibGVMaXN0KCkNCiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRBY2NvdW50ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZWxlY3RlZEFjY291bnQpDQogICAgICAgICAgICAgIC8v5Yi35paw6LSm5oi36KGo5qC8DQogICAgICAgICAgICAgIHBkQWNjTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3MgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnQgPSB0aGlzLl8uZmluZCh0aGlzLmNvbmZpZ3MsIHsnaWQnOiBzZWxlY3RlZEFjY291bnQuaWR9KQ0KICAgICAgICAgICAgICAgIHRoaXMuYWNjRmVlVGFibGVMaXN0ID0gdGhpcy5zZWxlY3RlZEFjY291bnQuZmVlTGlzdA0KICAgICAgICAgICAgICAgIGxldCBhY2NGZWUgPSB0aGlzLl8uZmluZCh0aGlzLmFjY0ZlZVRhYmxlTGlzdCwgeydpZCc6IHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5pZH0pDQogICAgICAgICAgICAgICAgdGhpcy5hY2NGZWUgPSBhY2NGZWUNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFjY0ZlZVRhYmxlLnNldEN1cnJlbnRSb3coYWNjRmVlKQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRhY2NGZWVUYWJsZUNoYW5nZWQodGhpcy5hY2NGZWUpDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmZvY3VzSXRlbSgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2hJbkFsbEFjYygpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZUFjY291bnQucmVsb2FkKCkNCiAgICB9LA0KICAgIGNvcHlQcmVtaXVtVG9DdXJyZW50UHJvZHVjdChyb3cpIHsNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LA0KICAgICAgICBwZFNlbGVjdEFsbFBkQWNjb3VudFZvOiByb3cNCiAgICAgIH0NCiAgICAgIGluc2VydFByZW1pdW1Ub0N1cnJlbnRQcm9kdWN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmFkZCcpKQ0KICAgICAgICB0aGlzLmluaXQoKQ0KICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgdG9QcmVtaXVtUGFnZSgpIHsNCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFByZW1pdW1Db2RlKSB7DQogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncGR0ZW1wUGRBY2MubWVzc2FnZS5wbGVhc2VTZWxlY3RQcmVtaXVtJykpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUucHJlbWl1bSA9IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvSW52UGFnZSgpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbnZDb2RlID0gdGhpcy5wZEFjY0NhcEluZkNvZGUNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS5pbnYgPSB0cnVlDQogICAgfSwNCiAgICB0b0JuZnRQYWdlKGJuZnRUeXBlLCBpbk91dFR5cGUpIHsNCiAgICAgIGxldCBwZEJuZnRJZA0KICAgICAgaWYgKGJuZnRUeXBlID09PSAnY2xtJykgew0KICAgICAgICBmb3IgKGNvbnN0IGNsbSBvZiB0aGlzLmNsbUJuZnRPcHRpb25MaXN0KSB7DQogICAgICAgICAgaWYgKGNsbS5wZEJuZnRDb2RlID09PSAoaW5PdXRUeXBlID09PSAnaW4nID8gdGhpcy5wZEFjY0NhcEluZkNvZGUgOiB0aGlzLnBkQWNjQ2FwT3V0ZkNvZGUpKSB7DQogICAgICAgICAgICBwZEJuZnRJZCA9IGNsbS5pZA0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAoYm5mdFR5cGUgPT09ICdzcnZsJykgew0KICAgICAgICBmb3IgKGNvbnN0IHNydiBvZiB0aGlzLnNydmxCbmZ0T3B0aW9uTGlzdCkgew0KICAgICAgICAgIGlmIChzcnYucGRCbmZ0Q29kZSA9PT0gKGluT3V0VHlwZSA9PT0gJ2luJyA/IHRoaXMucGRBY2NDYXBJbmZDb2RlIDogdGhpcy5wZEFjY0NhcE91dGZDb2RlKSkgew0KICAgICAgICAgICAgcGRCbmZ0SWQgPSBzcnYuaWQNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAocGRCbmZ0SWQpIHsNCiAgICAgICAgZ2V0UGR0ZW1wUGRCbmZ0QnlJZChwZEJuZnRJZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhKSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQWNjLm1lc3NhZ2UuY2Fubm90RmluZEJlbmVmaXQnKSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEJuZnQgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICB0aGlzLmJlbmVmaXQgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEFjYy5tZXNzYWdlLmNhbm5vdEZpbmRCZW5lZml0JykpDQogICAgICB9DQogICAgfSwNCiAgICBpbkZsb3dUeXBlQ2hhbmdlZCgpIHsNCiAgICAgIHRoaXMuY2xlYXJBbGxDb2RlKCkNCiAgICAgIHRoaXMucmVzZXRGb3JtSW5GbG93KCkNCiAgICAgIHRoaXMucmVzZXRGb3JtSW5GbG93SSgpDQogICAgICB0aGlzLnJlc2V0Rm9ybUluRmxvd0MoKQ0KICAgICAgdGhpcy5yZXNldEZvcm1JbkZsb3dTKCkNCiAgICAgIHRoaXMucHJlbWl1bUZlZUxpc3QgPSBbXQ0KICAgICAgdGhpcy5zZWxlY3RlZFByZW1pdW1Db2RlID0gJycNCiAgICB9LA0KICAgIG91dEZsb3dUeXBlQ2hhbmdlZCgpIHsNCiAgICAgIHRoaXMuY2xlYXJBbGxDb2RlKCkNCiAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd0MoKQ0KICAgICAgdGhpcy5yZXNldEZvcm1PdXRGbG93UygpDQogICAgICB0aGlzLnJlc2V0Rm9ybU91dEZsb3dQQSgpDQogICAgfSwNCiAgICByb3dDbGlja19hY2NvdW50X2ZlZShyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZEFjY291bnRGZWUuaWQpIHsNCiAgICAgICAgICB0aGlzLmFjY0ZlZXJlc2V0Rm9ybSgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNob3dBY2NvdW50RmVlKGFjY291bnRWbykgew0KICAgICAgdGhpcy5xdWlja0FjY291bnRJbmZvID0gew0KICAgICAgICAicGRBY2NDb2RlIjogYWNjb3VudFZvLmFjY291bnRDb2RlLA0KICAgICAgICAicGRBY2NOYW1lIjogYWNjb3VudFZvLmFjY291bnROYW1lLA0KICAgICAgICAicGRBY2NvdW50VHlwZSI6IGFjY291bnRWby5hY2NvdW50VHlwZQ0KICAgICAgfQ0KICAgICAgcXVlcnlRdWlja0RlZkFjY291bnREZXRhaWwodGhpcy5idWlsZFJlcXVlc3REYXRhKHsNCiAgICAgICAgImFjY291bnRJZCI6IGFjY291bnRWby5pZCwNCiAgICAgICAgImFjQ2F0ZWdvcnkiOiBhY2NvdW50Vm8uYWNDYXRlZ29yeQ0KICAgICAgfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5xdWlja0RlZkFjY291bnRGZWVMaXN0ID0gcmVzLmRhdGEuYWNjb3VudEZlZXMNCiAgICAgICAgaWYgKGFjY291bnRWby5hY0NhdGVnb3J5ID09PSAnUCcpIHsNCiAgICAgICAgICB0aGlzLnF1aWNrRGVmSW5GbG93TGlzdCA9IHJlcy5kYXRhLmluZmxvd3MNCiAgICAgICAgICB0aGlzLnF1aWNrRGVmT3V0Rmxvd0xpc3QgPSByZXMuZGF0YS5vdXRmbG93cw0KICAgICAgICB9DQogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS5hY2NGZWUgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgcm93Q2xpY2tJbkZsb3cocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0ge30NCiAgICAgICAgICB0aGlzLmluRmxvd1R5cGUgPSAnJw0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcmVtaXVtQ29kZSA9ICcnDQogICAgICAgICAgdGhpcy5yZXNldEZvcm1JbkZsb3coKQ0KICAgICAgICAgIHRoaXMuY2xlYXJQZEFjY0NhcEluX0ZlZSgpDQogICAgICAgICAgdGhpcy5zZXRDYXBGZWVGaW5hbFZhbE9yRmluYWxSYXRpbygpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJvd0NsaWNrc2VsZWN0ZWRPdXRGbG93KHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5pZCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPdXRGbG93ID0ge30NCiAgICAgICAgICB0aGlzLm91dEZsb3dUeXBlID0gJycNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd1MoKQ0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd0MoKQ0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd1BBKCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgcm93Q2xpY2tzZWxlY3RlZEFjY291bnQocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnQgPSB7fQ0KICAgICAgICAgIHRoaXMuaW5pdCgpDQogICAgICAgICAgdGhpcy5yZXNldEZvcm0oKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICByb3dDbGlja3NlbGVjdGVkUGRBY2NvdW50RmVlKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkUGRBY2NvdW50RmVlLmlkKSB7DQogICAgICAgICAgdGhpcy5jbGVhclBkQWNjQ2FwSW5fRmVlKCkNCiAgICAgICAgICB0aGlzLnBkQWNjRmVlQ29kZSA9ICcnDQogICAgICAgICAgdGhpcy5zZXRDYXBGZWVGaW5hbFZhbE9yRmluYWxSYXRpbygpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJvd0NsaWNrYWNjRmVlKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLmFjY0ZlZS5pZCkgew0KICAgICAgICAgIHRoaXMuYWNjRmVlID0ge30NCiAgICAgICAgICB0aGlzLmFjY0ZlZXJlc2V0Rm9ybSgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdGVkQWNjb3VudENoYW5nZWQoKSB7DQogICAgICAvL+i0puaIt+i0ueeUqOWumuS5iea4hee8k+WtmA0KICAgICAgdGhpcy5hY2NGZWUgPSB7fQ0KICAgICAgdGhpcy5hY2NGZWVyZXNldEZvcm0oKQ0KICAgICAgLy/kuqflk4HotKbmiLfotYTph5HmtYHlhaXlrprkuYnmuIXnvJPlrZgNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB7fQ0KICAgICAgdGhpcy5pbkZsb3dUeXBlID0gJycNCiAgICAgIHRoaXMuc2VsZWN0ZWRQcmVtaXVtQ29kZSA9ICcnDQogICAgICAvL+S6p+WTgei0puaIt+i1hOmHkea1geWHuuWumuS5iea4hee8k+WtmA0KICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3cgPSB7fQ0KICAgICAgdGhpcy5vdXRGbG93VHlwZSA9ICcnDQogICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KDQogICAgICB0aGlzLnVwZGF0ZSA9ICcnDQogICAgICB0aGlzLmFkZCA9ICdub25lJw0KICAgICAgdGhpcy5wYXJhbXMxLmFjY291bnRJZCA9IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkDQogICAgICB0aGlzLnBhcmFtczIuYWNjb3VudElkID0gdGhpcy5zZWxlY3RlZEFjY291bnQuaWQNCiAgICAgIHRoaXMucGFyYW1zMi5wcm9kdWN0SWQgPSB0aGlzLnByb2R1Y3QuaWQNCg0KICAgICAgLy8g5Lqn5ZOB6LSm5oi35a6a5LmJDQogICAgICB0aGlzLmluaXRhY2NvdW50X21lbnUodGhpcy5zZWxlY3RlZEFjY291bnQpDQoNCiAgICAgIC8vIOWIqeeOhw0KICAgICAgbGV0IGZpbmRMaXN0ID0gdGhpcy5zZWxlY3RlZEFjY291bnQucGRGaW5JbmRMaXN0DQogICAgICBmaW5kTGlzdC5mb3JFYWNoKGRhdGEgPT4gew0KICAgICAgICBkYXRhLnBkQW5udVJhdGUgPSBwYXJzZUludChkYXRhLnBkQW5udVJhdGUgKiAxMDApDQogICAgICAgIGRhdGEucGRNb25SYXRlID0gcGFyc2VJbnQoZGF0YS5wZE1vblJhdGUgKiAxMDApDQogICAgICAgIGRhdGEucGREYXlSYXRlID0gcGFyc2VJbnQoZGF0YS5wZERheVJhdGUgKiAxMDApDQogICAgICB9KQ0KICAgICAgdGhpcy5saXN0QnlQcm9kdWN0QWNjb3VudCA9IGZpbmRMaXN0DQoNCiAgICAgIC8vIOaKlei1hOagh+eahA0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2NvdW50LnBkQWNjRnVuZEZsYWcgPT09ICdZJykgew0KICAgICAgICB0aGlzLnBkQWNjRnVuZExpc3QgPSB0aGlzLnNlbGVjdGVkQWNjb3VudC5mdW5kTGlzdA0KICAgICAgICB0aGlzLnBkQWNjRnVuZExpc3QuZm9yRWFjaChkYXRhID0+IGRhdGEuZnVuZEludmVzdFJhdGlvID0gcGFyc2VJbnQoZGF0YS5mdW5kSW52ZXN0UmF0aW8gKiAxMDApKQ0KICAgICAgICB0aGlzLmZvcm1fY29tYmluYXRpb24ucGRhY2Nmb3VuZGRlID0gdHJ1ZQ0KICAgICAgfQ0KDQogICAgICB0aGlzLmFjdGl2YXRlZE5hbWUgPSAnYWNjb3VudCcNCiAgICAgIHRoaXMuZGlzYWJsZWRfdGFiID0gZmFsc2UNCiAgICB9LA0KICAgIC8v5Yid5aeL5YyW6LWE6YeR6LSm5oi36LS555So6KGo5qC8DQogICAgaW5pdHBkQWNjRmVlQ2FwSW5PdXQocm93LCB0eXBlKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7cGRBY2NDYXBJZDogcm93LmlkfQ0KICAgICAgaW5pdHBkQWNjRmVlQ2FwSW4odGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnBkQWNjb3VudEZlZUNhcExpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMuc2VsZWN0ZWRQZEFjY291bnRGZWUgPSB7fQ0KICAgICAgICB0aGlzLmNsZWFyUGRBY2NDYXBJbl9GZWUoKQ0KICAgICAgICBpZiAodHlwZSA9PT0gJ0knKSB7DQogICAgICAgICAgdGhpcy5wZEFjY291bnRGZWVDYXBJbkxpc3QgPSB0aGlzLl8uZmlsdGVyKHRoaXMucGRBY2NvdW50RmVlQ2FwTGlzdCwgeydwZEFjY0NhcEZsb3dUeXBlJzogdHlwZX0pDQogICAgICAgICAgLy/orr7nva7otLnnlKjmiaPpmaTotLnnlKgNCiAgICAgICAgICAvL+acqumAieS4reS4gOadoei0ueeUqA0KICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZFBkQWNjb3VudEZlZS5pZCkgew0KICAgICAgICAgICAgbGV0IGNhcEZlZU9yZGVyID0gdGhpcy5fLm1hcCh0aGlzLnBkQWNjb3VudEZlZUNhcEluTGlzdCwgJ3BkQWNjRmVlRGVkdU9yZGVyJykNCiAgICAgICAgICAgIGlmIChjYXBGZWVPcmRlciAmJiBjYXBGZWVPcmRlci5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlRGVkdU9yZGVyID0gdGhpcy5fLm1heChjYXBGZWVPcmRlcikgKyAxDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVEZWR1T3JkZXIgPSAxDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdPJykgew0KICAgICAgICAgIHRoaXMucGRBY2NvdW50RmVlQ2FwT3V0TGlzdCA9IHRoaXMuXy5maWx0ZXIodGhpcy5wZEFjY291bnRGZWVDYXBMaXN0LCB7J3BkQWNjQ2FwRmxvd1R5cGUnOiB0eXBlfSkNCiAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRQZEFjY291bnRGZWUuaWQpIHsNCiAgICAgICAgICAgIGxldCBjYXBGZWVPcmRlciA9IHRoaXMuXy5tYXAodGhpcy5wZEFjY291bnRGZWVDYXBPdXRMaXN0LCAncGRBY2NGZWVEZWR1T3JkZXInKQ0KICAgICAgICAgICAgaWYgKGNhcEZlZU9yZGVyICYmIGNhcEZlZU9yZGVyLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVEZWR1T3JkZXIgPSB0aGlzLl8ubWF4KGNhcEZlZU9yZGVyKSArIDENCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZURlZHVPcmRlciA9IDENCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+WIneWni+WMlui0puaIt+i0ueeUqOihqOagvA0KICAgIGluaXRhY2NGZWVUYWJsZUxpc3QoKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICB9DQogICAgICBpbml0YWNjRmVlVGFibGVMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5hY2NGZWVUYWJsZUxpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmFjY0ZlZSkubGVuZ3RoID4gMCkgew0KICAgICAgICAgIGZvciAoY29uc3QgYWNjRmVlIG9mIHRoaXMuYWNjRmVlVGFibGVMaXN0KSB7DQogICAgICAgICAgICBpZiAoYWNjRmVlLmlkID09PSB0aGlzLmFjY0ZlZS5pZCkgew0KICAgICAgICAgICAgICB0aGlzLmFjY0ZlZSA9IGFjY0ZlZQ0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFjY0ZlZVRhYmxlLnNldEN1cnJlbnRSb3coYWNjRmVlKQ0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkYWNjRmVlVGFibGVDaGFuZ2VkKHRoaXMuYWNjRmVlKQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5Yig6Zmk6LSm5oi36LS555SoDQogICAgaGFuZGxlRGVsZXRlQWNjRmVlKHJvdykgew0KICAgICAgY29uc3QgcGFyYW1zID0ge2FjY0ZlZUlkOiByb3cuaWQsIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsIHBkVmVySWQ6IHRoaXMucHJvZHVjdC5wZFZlcklkfQ0KICAgICAgaGFuZGxlRGVsZXRlQWNjRmVlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSA9PT0gLTEpIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQWNjLm1lc3NhZ2UuZGVsZXRlQWNjRmVlVGlwJykpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQ0KICAgICAgICB0aGlzLmFjY0ZlZXJlc2V0Rm9ybSgpDQogICAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2VsZWN0ZWRBY2NvdW50KQ0KICAgICAgICAvL+WIt+aWsOi0puaIt+ihqOagvA0KICAgICAgICBwZEFjY0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy5jb25maWdzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBY2NvdW50ID0gdGhpcy5fLmZpbmQodGhpcy5jb25maWdzLCB7J2lkJzogc2VsZWN0ZWRBY2NvdW50LmlkfSkNCiAgICAgICAgICB0aGlzLmFjY0ZlZVRhYmxlTGlzdCA9IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmZlZUxpc3QNCiAgICAgICAgICB0aGlzLmluaXRBY2NGZWVPcmRlclZhbCgpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/otKbmiLfpgInkuK3kuIDmnaHluKblm57mlbDmja5mb3JtX2FjY291bnQNCiAgICBpbml0YWNjb3VudF9tZW51KHJvdykgew0KICAgICAgdGhpcy5mb3JtX2FjY291bnQgPSBPYmplY3QuYXNzaWduKHt9LCByb3cpDQogICAgICB0aGlzLmZvcm1fYWNjb3VudC5wZEFjY291bnRUeXBlID0gW10NCiAgICAgIHRoaXMuZm9ybV9hY2NvdW50LnBkQWNjb3VudFR5cGUucHVzaChyb3cucGRBY2NvdW50VHlwZS5zbGljZSgwLCAxKSkNCiAgICAgIHRoaXMuZm9ybV9hY2NvdW50LnBkQWNjb3VudFR5cGUucHVzaChyb3cucGRBY2NvdW50VHlwZSkNCiAgICB9LA0KICAgIGluaXRSYXRlKCkgew0KICAgICAgcGRBY2NSYXRlQWxsKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnBhcmFtczIpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5saXN0QnlQcm9kdWN0QWNjb3VudCA9IHJlc3BvbnNlLmRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBpbml0RnVuZCgpIHsNCiAgICAgIGZpbmRGdW5kQnlBY2NvdW50SWQodGhpcy5zZWxlY3RlZEFjY291bnQuaWQpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnBkQWNjRnVuZExpc3QgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMucGRBY2NGdW5kTGlzdC5mb3JFYWNoKGRhdGEgPT4gZGF0YS5mdW5kSW52ZXN0UmF0aW8gPSBwYXJzZUludChkYXRhLmZ1bmRJbnZlc3RSYXRpbyAqIDEwMCkpDQogICAgICB9KQ0KICAgIH0sDQogICAgaW5pdENhcGl0YWxJbmZsb3coKSB7DQogICAgICAvLyDotYTph5HmtYHlhaUNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICAgICAgbGlzdENhcGl0YWxJbmZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zMikpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuaW5GbG93TGlzdCA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgcmVzb2x2ZSgpOw0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGluaXRDYXBpdGFsT3V0ZmxvdygpIHsNCiAgICAgIC8vIOi1hOmHkea1geWHug0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gew0KICAgICAgICBsaXN0Q2FwaXRhbE91dGZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zMikpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMub3V0Rmxvd0xpc3QgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgIHJlc29sdmUoKTsNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZWxlY3RlZGFjY0ZlZVRhYmxlQ2hhbmdlZChyb3cpIHsNCiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5mb3JtX2FjY291bnRfZmVlLCByb3cpDQogICAgICAvL+WkhOeQhui0ueeUqOavlOS+i+aYvuekug0KICAgICAgaWYgKHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8pIHsNCiAgICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlRmluYWxSYXRpbyA9IHBhcnNlSW50KHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gKiAxMDApDQogICAgICB9DQogICAgICB0aGlzLnNldEZpbmFsVmFsT3JGaW5hbFJhdGlvKHRoaXMuZm9ybV9hY2NvdW50X2ZlZS5wZEFjY0ZlZUNhbGNNb2RlKQ0KICAgICAgdGhpcy5hY2NGZWVBZGQgPSAnbm9uZScNCiAgICAgIHRoaXMuYWNjRmVlVXBkYXRlID0gJycNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2FjY291bnRfZmVlLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNlbGVjdGVkUHJlbWl1bUNvZGVDaGFuZ2VkKHByZW1pdW1Db2RlLCByZXNldEZvcm1JbkZsb3dGbGFnKSB7DQogICAgICBpZiAocmVzZXRGb3JtSW5GbG93RmxhZyAhPT0gZmFsc2UpIHsNCiAgICAgICAgdGhpcy5yZXNldEZvcm1JbkZsb3coKQ0KICAgICAgfQ0KICAgICAgdGhpcy5wcmVtaXVtRmVlTGlzdCA9IFtdDQogICAgICBmb3IgKGNvbnN0IGluRmxvdyBvZiB0aGlzLmluRmxvd0xpc3QpIHsNCiAgICAgICAgaWYgKGluRmxvdy5wZEFjY0NhcEluZlR5cGUgPT09ICdQJyAmJiBpbkZsb3cucGRBY2NDYXBJbmZDb2RlID09PSBwcmVtaXVtQ29kZSkgew0KICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5mb3JtX2luRmxvdywgaW5GbG93KQ0KICAgICAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwQ2FsY0NvZGUgPT09IG51bGwpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dE1vZGUxID0gJzEnDQogICAgICAgICAgfQ0KICAgICAgICAgIGZvciAoY29uc3QgZmVlIG9mIGluRmxvdy5mZWVMaXN0KSB7DQogICAgICAgICAgICB0aGlzLnByZW1pdW1GZWVMaXN0LnB1c2goT2JqZWN0LmFzc2lnbih7fSwgZmVlKSkNCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0ZWRJbkZsb3dDaGFuZ2VkKCkgew0KICAgICAgdGhpcy5jbGVhckluRmxvd19QSVNDKCkNCiAgICAgIHRoaXMuY2xlYXJQZEFjY0NhcEluX0ZlZSgpDQogICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSAnJw0KICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRJbkZsb3cpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbVR5cGUpIHsNCiAgICAgICAgICBjYXNlICdQJzoNCiAgICAgICAgICAgIHRoaXMuaW5GbG93VHlwZSA9ICdQJw0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZFByZW1UeXBlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWRkQW1vdW50VHlwZSA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBZGRBbW91bnRUeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcEluT3V0TW9kZQ0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5pZCA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQNCiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcENhbGNDb2RlKSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dFJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcEluT3V0UmF0aW8gKiAxMDApDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NJbmZNYXhSYXRpbyA9IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NJbmZNYXhSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0luZk1pblJhdGlvICogMTAwKQ0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcxJw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcENhbGNDb2RlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcENhbGNDb2RlDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAnSSc6DQogICAgICAgICAgICB0aGlzLmluRmxvd1R5cGUgPSAnSScNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5pZCA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZFByZW1UeXBlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dE1vZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlDQogICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dE1vZGUxID0gJzEnDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjSW5mTWF4UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjSW5mTWF4UmF0aW8gKiAxMDApDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0luZk1pblJhdGlvICogMTAwKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBDYWxjQ29kZSA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAnUyc6DQogICAgICAgICAgICB0aGlzLmluRmxvd1R5cGUgPSAnUycNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5pZCA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZFByZW1UeXBlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dE1vZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlDQogICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID0gJzEnDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcEluT3V0UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjSW5mTWF4UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjSW5mTWF4UmF0aW8gKiAxMDApDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0luZk1pblJhdGlvICogMTAwKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBDYWxjQ29kZSA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAnQyc6DQogICAgICAgICAgICB0aGlzLmluRmxvd1R5cGUgPSAnQycNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5pZCA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZFByZW1UeXBlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dE1vZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlDQogICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID0gJzEnDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEluT3V0UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjSW5mTWF4UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjSW5mTWF4UmF0aW8gKiAxMDApDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0luZk1pblJhdGlvICogMTAwKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9IHRoaXMuc2VsZWN0ZWRJbkZsb3cucGRBY2NDYXBDYWxjQ29kZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIHRoaXMuaW5GbG93VHlwZSA9ICcnDQogICAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICAgIHRoaXMuaW5pdHBkQWNjRmVlQ2FwSW5PdXQodGhpcy5zZWxlY3RlZEluRmxvdywgJ0knKQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0ZWRPdXRGbG93Q2hhbmdlZCgpIHsNCiAgICAgIHRoaXMuY2xlYXJPdXRGbG93X1NDKCkNCiAgICAgIHRoaXMuY2xlYXJQZEFjY0NhcEluX0ZlZSgpDQogICAgICB0aGlzLnBkQWNjQ2FwT3V0ZkNvZGUgPSAnJw0KICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRPdXRGbG93KS5sZW5ndGggPiAwKSB7DQogICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBJdGVtVHlwZSkgew0KICAgICAgICAgIGNhc2UgJ1MnOg0KICAgICAgICAgICAgdGhpcy5vdXRGbG93VHlwZSA9ICdTJw0KICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5pZCA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LmlkDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkUHJlbVR5cGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlID0gdGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBJbk91dE1vZGUNCiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcxJw0KICAgICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRSYXRpbyA9IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0luZk1heFJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NJbmZNYXhSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NJbmZNaW5SYXRpbyAqIDEwMCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID0gJzInDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBDYWxjQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwQ2FsY0NvZGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMucGRBY2NDYXBPdXRmQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIGNhc2UgJ0MnOg0KICAgICAgICAgICAgdGhpcy5vdXRGbG93VHlwZSA9ICdDJw0KICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5pZCA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LmlkDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkUHJlbVR5cGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZFByZW1UeXBlDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlID0gdGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBJbk91dE1vZGUNCiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcxJw0KICAgICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSW5PdXRSYXRpbyA9IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0luZk1heFJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NJbmZNYXhSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0luZk1pblJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NJbmZNaW5SYXRpbyAqIDEwMCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID0gJzInDQogICAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwQ2FsY0NvZGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMucGRBY2NDYXBPdXRmQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIGNhc2UgJ1BBJzoNCiAgICAgICAgICAgIHRoaXMub3V0Rmxvd1R5cGUgPSAnUEEnDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5pZCA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LmlkDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcEluT3V0TW9kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSW5PdXRNb2RlDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcEluT3V0UmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0NhcEluT3V0UmF0aW8gKiAxMDApDQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0luZk1heFJhdGlvID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NJbmZNYXhSYXRpbyAqIDEwMCkNCiAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1BBLnBkQWNjSW5mTWluUmF0aW8gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0luZk1pblJhdGlvICogMTAwKQ0KICAgICAgICAgICAgdGhpcy5wZEFjY0NhcE91dGZDb2RlID0gdGhpcy5zZWxlY3RlZE91dEZsb3cucGRBY2NDYXBJdGVtQ29kZQ0KICAgICAgICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjQ2FwQ29kZSA9IHRoaXMuc2VsZWN0ZWRPdXRGbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIHRoaXMub3V0Rmxvd1R5cGUgPSAnJw0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmluaXRwZEFjY0ZlZUNhcEluT3V0KHRoaXMuc2VsZWN0ZWRPdXRGbG93LCAnTycpDQogICAgICB9DQogICAgfSwNCiAgICBzaG93UmVsYXRlZEFjY291bnQoZnVuZGlkKSB7DQogICAgICBnZW5lcmFsRG91YmxlQWNjb3VudFZvQWxsKGZ1bmRpZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuY29uZmlnc19hY2NvdW50ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUucmVsYXRlZEFjY291bnQgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlUmF0ZShyb3cpIHsNCiAgICAgIHRoaXMubGlzdEJ5UHJvZHVjdEFjY291bnQuc3BsaWNlKHRoaXMubGlzdEJ5UHJvZHVjdEFjY291bnQuaW5kZXhPZihyb3cpLCAxKQ0KICAgIH0sDQogICAgZGVsZXRlRnVuZChyb3cpIHsNCiAgICAgIHRoaXMucGRBY2NGdW5kTGlzdCA9IHRoaXMucGRBY2NGdW5kTGlzdC5maWx0ZXIoZGF0YSA9PiBkYXRhLmZ1bmRDb2RlICE9PSByb3cuZnVuZENvZGUpDQogICAgfSwNCiAgICBkZWxldGVBY2NGZWUocm93LCB0eXBlKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsDQogICAgICAgIHBkVmVySWQ6IHRoaXMucHJvZHVjdC5wZFZlcklkLA0KICAgICAgICB0eXBlOiB0eXBlLA0KICAgICAgICBpZDogcm93LmlkDQogICAgICB9DQogICAgICBkZWxldGVBY2NGZWUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4oKCkgPT4gew0KICAgICAgICBpZiAodHlwZSA9PT0gJ0knKSB7DQogICAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluRmxvdyA9IHRoaXMuXy5maW5kKHRoaXMuaW5GbG93TGlzdCwgeydpZCc6IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWR9KQ0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluRmxvd0NoYW5nZWQoKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ08nKSB7DQogICAgICAgICAgdGhpcy5pbml0Q2FwaXRhbE91dGZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPdXRGbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogdGhpcy5zZWxlY3RlZE91dEZsb3cuaWR9KQ0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAgIH0pDQogICAgfSwNCiAgICBhZGRSYXRlKCkgew0KICAgICAgdGhpcy5yZXNldEZvcm1GaW5hbmNpYWxJbmRleCgpDQogICAgICB0aGlzLmxpc3RCeVByb2R1Y3RBY2NvdW50LnB1c2godGhpcy5mb3JtX2ZpbmFuY2lhbEluZGV4KQ0KICAgIH0sDQogICAgc2hvd0dlbmVyYWxGdW5kKCkgew0KICAgICAgaWYgKCF0aGlzLmZvcm1fYWNjb3VudC5pZCkgew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQWNjLm1lc3NhZ2UucGxlYXNlU2VsZWN0QWNjb3VudCcpKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMucGRnZW5sZnVuZERhdGEgPSB7DQogICAgICAgICJpZCI6IHRoaXMuZm9ybV9hY2NvdW50LmlkLCAiZW50cmFuY2UiOiAicGRBY2MiLA0KICAgICAgICAiYWNjb3VudENvZGUiOiB0aGlzLmZvcm1fYWNjb3VudC5wZEFjY0NvZGUsDQogICAgICAgICJhY2NvdW50TmFtZSI6IHRoaXMuZm9ybV9hY2NvdW50LnBkQWNjTmFtZQ0KICAgICAgfQ0KICAgICAgdGhpcy5hc3NvY2lhdGVGdW5kID0gdHJ1ZQ0KICAgIH0sDQogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9wZGdlbmxmdW5kKGZsYWcsIGxpc3QpIHsNCiAgICAgIHRoaXMuYXNzb2NpYXRlRnVuZCA9IGZsYWcNCiAgICAgIGZvciAoY29uc3QgZGF0YSBvZiBsaXN0KSB7DQogICAgICAgIGlmICghdGhpcy5wZEFjY0Z1bmRMaXN0LnNvbWUodiA9PiB2LmZ1bmRDb2RlID09PSBkYXRhLmZ1bmRDb2RlKSkgew0KICAgICAgICAgIHRoaXMucGRBY2NGdW5kTGlzdC5wdXNoKGRhdGEpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIHRoaXMuaGFuZGxlU2VhcmNoKCkNCiAgICB9LA0KICAgIC8v5L+d5a2Y6LSm5oi357uT5p6E5a6a5LmJ5ZKM6LSm5oi35L+d6K+B5Yip546H5a6a5LmJDQogICAgYWRkQWNjb3VudEFuZFJhdGUoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm1fYWNjb3VudC52YWxpZGF0ZShwYXNzID0+IHsNCiAgICAgICAgaWYgKHBhc3MpIHsNCiAgICAgICAgICBpZiAoIXRoaXMubGlzdEJ5UHJvZHVjdEFjY291bnQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEFjYy5tZXNzYWdlLmFkZEFjY1RpcCcpKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgfQ0KICAgICAgICAgIGxldCBmb3JtX2FjY291bnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZvcm1fYWNjb3VudCkNCiAgICAgICAgICBmb3JtX2FjY291bnQucGRBY2NvdW50VHlwZSA9IGZvcm1fYWNjb3VudC5wZEFjY291bnRUeXBlWzFdDQoNCiAgICAgICAgICAvL+WkhOeQhuWIqeeOhw0KICAgICAgICAgIHRoaXMuZGVhbEFjY1JhdGUoKQ0KICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgICAgIGZvcm1fYWNjb3VudDogZm9ybV9hY2NvdW50LA0KICAgICAgICAgICAgcGR0ZW1wUGRGaW5JbmRMaXN0OiB0aGlzLmxpc3RCeVByb2R1Y3RBY2NvdW50DQogICAgICAgICAgfQ0KICAgICAgICAgIGFkZEFjY291bnRBbmRSYXRlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgICAgICB0aGlzLmluaXQoKQ0KICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mm7TmlrDotKbmiLfnu5PmnoTlrprkuYnlkozotKbmiLfkv53or4HliKnnjoflrprkuYkNCiAgICB1cGRhdGVBY2NvdW50QW5kUmF0ZSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9hY2NvdW50LnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIGlmICghdGhpcy5saXN0QnlQcm9kdWN0QWNjb3VudC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQWNjLm1lc3NhZ2UuYWRkQWNjVGlwJykpDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGZvcm1fYWNjb3VudCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZm9ybV9hY2NvdW50KQ0KICAgICAgICAgIGZvcm1fYWNjb3VudC5wZEFjY291bnRUeXBlID0gZm9ybV9hY2NvdW50LnBkQWNjb3VudFR5cGVbMV0NCiAgICAgICAgICB0aGlzLmRlYWxBY2NSYXRlKCkNCiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgICAgICBhY2NvdW50SWQ6IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkLA0KICAgICAgICAgICAgZm9ybV9hY2NvdW50OiBmb3JtX2FjY291bnQsDQogICAgICAgICAgICBwZHRlbXBQZEZpbkluZExpc3Q6IHRoaXMubGlzdEJ5UHJvZHVjdEFjY291bnQNCiAgICAgICAgICB9DQogICAgICAgICAgdXBkYXRlQWNjb3VudEFuZFJhdGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZigpDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmZvY3VzSXRlbSgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICByZWZyZXNoQWNjRGVmKGZsYWcgPSB0cnVlKSB7DQogICAgICBwZEFjY0xpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuY29uZmlncyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnQgPSB0aGlzLl8uZmluZCh0aGlzLmNvbmZpZ3MsIHsnaWQnOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZH0pDQogICAgICAgIGlmIChmbGFnKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZEFjY291bnRDaGFuZ2VkKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlYWxBY2NSYXRlKCkgew0KICAgICAgLy/lpITnkIbliKnnjocNCiAgICAgIHRoaXMubGlzdEJ5UHJvZHVjdEFjY291bnQuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgZGF0YS5wZEFubnVSYXRlID0gZGF0YS5wZEFubnVSYXRlIC8gMTAwDQogICAgICAgIGRhdGEucGRNb25SYXRlID0gZGF0YS5wZE1vblJhdGUgLyAxMDANCiAgICAgICAgZGF0YS5wZERheVJhdGUgPSBkYXRhLnBkRGF5UmF0ZSAvIDEwMA0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVNlYXJjaCgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZUFjY291bnQucmVsb2FkKCkNCiAgICAgIHRoaXMucmVzZXRGb3JtKCkNCiAgICB9LA0KICAgIHJlc2V0QWNjb3VudEFuZFJhdGUoKSB7DQogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZEFjY291bnQpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgLy8g6LSm5oi3DQogICAgICAgIHRoaXMuaW5pdGFjY291bnRfbWVudSh0aGlzLnNlbGVjdGVkQWNjb3VudCkNCiAgICAgICAgLy8g5Yip546HDQogICAgICAgIHRoaXMuaW5pdFJhdGUoKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5yZXNldEZvcm1BY2NvdW50KCkNCiAgICAgICAgdGhpcy5saXN0QnlQcm9kdWN0QWNjb3VudCA9IFtdDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm0oKSB7DQogICAgICB0aGlzLnNlbGVjdGVkQWNjb3VudCA9IHt9DQogICAgICAvL+acgOS9juS/neivgeWIqeeOh+ihqOagvA0KICAgICAgdGhpcy5saXN0QnlQcm9kdWN0QWNjb3VudCA9IFtdDQogICAgICAvL+aKlei1hOagh+eahOihqOagvA0KICAgICAgdGhpcy5hY2NGdW5kVGFibGUgPSBbXQ0KICAgICAgdGhpcy5mb3JtX2NvbWJpbmF0aW9uLnByZW1pdW1GbGFnMSA9IGZhbHNlDQogICAgICB0aGlzLmZvcm1fY29tYmluYXRpb24ucHJlbWl1bUZsYWcyID0gZmFsc2UNCiAgICAgIHRoaXMudXBkYXRlID0gJ25vbmUnDQogICAgICB0aGlzLmFkZCA9ICcnDQogICAgICB0aGlzLkZ1bmRGbGFndXBkYXRlID0gJ25vbmUnDQogICAgICB0aGlzLkZ1bmRGbGFBZGQgPSAnJw0KICAgICAgdGhpcy5yZXNldEZvcm1BY2NvdW50KCkNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1siZm9ybV9hY2NvdW50Il0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICAgIHRoaXMuYWN0aXZlTmFtZSA9ICdhY2NvdW50Jw0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVNhdmVGdW5kKCkgew0KICAgICAgaWYgKHRoaXMucGRBY2NGdW5kTGlzdC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEFjYy5tZXNzYWdlLnBsZWFzZUFzc29jaWF0ZUZ1bmQnKSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICBsZXQgYWRkID0ge30NCiAgICAgIGxldCBsaXN0ID0gW10NCiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnBkQWNjRnVuZExpc3QpIHsNCiAgICAgICAgYWRkID0ge30NCiAgICAgICAgYWRkLnBkQWNjSWQgPSB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZA0KICAgICAgICBhZGQuYWNjRnVuZElkID0gaXRlbS5pZA0KICAgICAgICBhZGQucGRBY2NJbnZlc3RSYXRpbyA9IGl0ZW0uZnVuZEludmVzdFJhdGlvIC8gMTAwDQogICAgICAgIGFkZC5wZEFjY0NvZGUgPSB0aGlzLnNlbGVjdGVkQWNjb3VudC5wZEFjY291bnRDb2RlDQogICAgICAgIGFkZC5wZEFjY05hbWUgPSB0aGlzLnNlbGVjdGVkQWNjb3VudC5wZEFjY291bnROYW1lDQogICAgICAgIGFkZC5wZEFjY0Z1bmRDb2RlID0gaXRlbS5mdW5kQ29kZQ0KICAgICAgICBhZGQucGRBY2NGdW5kQ2hOYW1lID0gaXRlbS5mdW5kQ2hOYW1lDQogICAgICAgIGFkZC5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQNCiAgICAgICAgYWRkLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkDQogICAgICAgIGxpc3QucHVzaChhZGQpDQogICAgICB9DQogICAgICBhZGRBbGxGdW5kKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHBkdGVtcFBkQWNjRnVuZExpc3Q6IGxpc3QNCiAgICAgIH0pKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZXRQZXJjZW50YWdlVmFsKCkgew0KICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0UmF0aW8gPSB0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwSW5PdXRSYXRpbyAvIDEwMA0KICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0luZk1heFJhdGlvID0gdGhpcy5mb3JtX2luRmxvdy5wZEFjY0luZk1heFJhdGlvIC8gMTAwDQogICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjSW5mTWluUmF0aW8gPSB0aGlzLmZvcm1faW5GbG93LnBkQWNjSW5mTWluUmF0aW8gLyAxMDANCiAgICB9LA0KICAgIHNldEluRmxvd19JUGVyY2VudGFnZVZhbCgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0UmF0aW8gPSB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dFJhdGlvIC8gMTAwDQogICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NJbmZNYXhSYXRpbyA9IHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0luZk1heFJhdGlvIC8gMTAwDQogICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NJbmZNaW5SYXRpbyA9IHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0luZk1pblJhdGlvIC8gMTAwDQogICAgfSwNCiAgICBzZXRJbkZsb3dfU1BlcmNlbnRhZ2VWYWwoKSB7DQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dFJhdGlvID0gdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSW5PdXRSYXRpbyAvIDEwMA0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjSW5mTWF4UmF0aW8gPSB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NJbmZNYXhSYXRpbyAvIDEwMA0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjSW5mTWluUmF0aW8gPSB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NJbmZNaW5SYXRpbyAvIDEwMA0KICAgIH0sDQogICAgc2V0SW5GbG93X0NQZXJjZW50YWdlVmFsKCkgew0KICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSW5PdXRSYXRpbyA9IHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEluT3V0UmF0aW8gLyAxMDANCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0luZk1heFJhdGlvID0gdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjSW5mTWF4UmF0aW8gLyAxMDANCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0luZk1pblJhdGlvID0gdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjSW5mTWluUmF0aW8gLyAxMDANCiAgICB9LA0KICAgIHNldE91dEZsb3dfUEFQZXJjZW50YWdlVmFsKCkgew0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NDYXBJbk91dFJhdGlvID0gdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NDYXBJbk91dFJhdGlvIC8gMTAwDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0luZk1heFJhdGlvID0gdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NJbmZNYXhSYXRpbyAvIDEwMA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NJbmZNaW5SYXRpbyA9IHRoaXMuZm9ybV9vdXRGbG93X1BBLnBkQWNjSW5mTWluUmF0aW8gLyAxMDANCiAgICB9LA0KICAgIHNldE91dEZsb3dfU1BlcmNlbnRhZ2VWYWwoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRSYXRpbyA9IHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dFJhdGlvIC8gMTAwDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjSW5mTWF4UmF0aW8gPSB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjSW5mTWF4UmF0aW8gLyAxMDANCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NJbmZNaW5SYXRpbyA9IHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NJbmZNaW5SYXRpbyAvIDEwMA0KICAgIH0sDQogICAgc2V0T3V0Rmxvd19DUGVyY2VudGFnZVZhbCgpIHsNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJbk91dFJhdGlvID0gdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0UmF0aW8gLyAxMDANCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NJbmZNYXhSYXRpbyA9IHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NJbmZNYXhSYXRpbyAvIDEwMA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0luZk1pblJhdGlvID0gdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0luZk1pblJhdGlvIC8gMTAwDQogICAgfSwNCiAgICBoYW5kbGVTYXZlSW5GbG93X1AoKSB7DQoNCiAgICAgIGxldCBwcmVtaXVtID0gdGhpcy5fLmZpbmQodGhpcy5wcmVtaXVtT3B0aW9uTGlzdCwgeydwZFByZW1Db2RlJzogdGhpcy5zZWxlY3RlZFByZW1pdW1Db2RlfSkNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJdGVtSWQgPSBwcmVtaXVtLmlkDQogICAgICB0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUgPSBwcmVtaXVtLnBkUHJlbUNvZGUNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJdGVtTmFtZSA9IHByZW1pdW0ucGRQYXlOYW1lDQoNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93LmZvcm11bGFGbGFnID09PSAnTicpIHsNCiAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZENhbGNDb2RlID0gdW5kZWZpbmVkDQogICAgICB9DQoNCiAgICAgIHRoaXMuc2V0UGVyY2VudGFnZVZhbCgpDQoNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LA0KICAgICAgICBhY2NvdW50SWQ6IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkLA0KICAgICAgICB0eXBlOiAnUCcsDQogICAgICAgIHBkQWNjQ2FwRmxvd1R5cGU6ICdJJywNCiAgICAgICAgcHJlbWl1bUluRmxvdzogdGhpcy5mb3JtX2luRmxvdywNCiAgICAgICAgcGRBY2NGZWVMaXN0OiB0aGlzLnByZW1pdW1GZWVMaXN0DQogICAgICB9DQogICAgICB0aGlzLmNhbGNGbGFnID0gdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJw0KICAgICAgdGhpcy5yZXNldEZvcm1JbkZsb3coKQ0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IGluRmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLmluRmxvd0xpc3QsIHsnaWQnOiBpbkZsb3cuaWR9KQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGVJbkZsb3dfUCgpIHsNCg0KICAgICAgbGV0IHByZW1pdW0gPSB0aGlzLl8uZmluZCh0aGlzLnByZW1pdW1PcHRpb25MaXN0LCB7J3BkUHJlbUNvZGUnOiB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGV9KQ0KICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEl0ZW1JZCA9IHByZW1pdW0uaWQNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJdGVtQ29kZSA9IHByZW1pdW0ucGRQcmVtQ29kZQ0KICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEl0ZW1OYW1lID0gcHJlbWl1bS5wZFBheU5hbWUNCg0KICAgICAgaWYgKHRoaXMuZm9ybV9pbkZsb3cuZm9ybXVsYUZsYWcgPT09ICdOJykgew0KICAgICAgICB0aGlzLmZvcm1faW5GbG93LnBkQ2FsY0NvZGUgPSB1bmRlZmluZWQNCiAgICAgIH0NCg0KICAgICAgLy/orr7nva7mr5TkvosNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93LnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzEnKSB7DQogICAgICAgIHRoaXMuc2V0UGVyY2VudGFnZVZhbCgpDQogICAgICB9DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgdHlwZTogJ1AnLA0KICAgICAgICBwZEFjY0NhcEZsb3dUeXBlOiAnSScsDQogICAgICAgIHByZW1pdW1JbkZsb3c6IHRoaXMuZm9ybV9pbkZsb3csDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdCwNCiAgICAgICAgZGVsZXRlRm9ybXVsYUZsYWc6IGZhbHNlDQogICAgICB9DQogICAgICBpZiAodGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcxJykgew0KICAgICAgICBpZiAodGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcENhbGNDb2RlKSB7DQogICAgICAgICAgcGFyYW1zLmRlbGV0ZUZvcm11bGFGbGFnID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicpIHsNCiAgICAgICAgdGhpcy5mb3JtX2luRmxvdy5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIHRoaXMucmVzZXRGb3JtSW5GbG93KCkNCiAgICAgIGFkZEFsbFJJbkZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBpbkZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxJbmZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogaW5GbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93Q2hhbmdlZCgpDQogICAgICAgICAgaWYgKHRoaXMuY2FsY0ZsYWcpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3cucGRBY2NDYXBJbk91dE1vZGUxID0gJzInDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnJlZnJlc2hBY2NEZWYoZmFsc2UpDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlU2F2ZUluRmxvd19JKCkgew0KICAgICAgbGV0IGludiA9IHRoaXMuXy5maW5kKHRoaXMuaW52T3B0aW9uTGlzdCwgeydwZEludkNvZGUnOiB0aGlzLnBkQWNjQ2FwSW5mQ29kZX0pDQogICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJdGVtSWQgPSBpbnYuaWQNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEl0ZW1Db2RlID0gaW52LnBkSW52Q29kZQ0KICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSXRlbU5hbWUgPSBpbnYucGRJbnZOYW1lDQoNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRJbkZsb3dfSVBlcmNlbnRhZ2VWYWwoKQ0KICAgICAgfQ0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdJJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ0knLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1faW5GbG93X0ksDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdA0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJw0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IGluRmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLmluRmxvd0xpc3QsIHsnaWQnOiBpbkZsb3cuaWR9KQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZUluRmxvd19JKCkgew0KICAgICAgbGV0IGludiA9IHRoaXMuXy5maW5kKHRoaXMuaW52T3B0aW9uTGlzdCwgeydwZEludkNvZGUnOiB0aGlzLnBkQWNjQ2FwSW5mQ29kZX0pDQogICAgICB0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJdGVtSWQgPSBpbnYuaWQNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEl0ZW1Db2RlID0gaW52LnBkSW52Q29kZQ0KICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSXRlbU5hbWUgPSBpbnYucGRJbnZOYW1lDQoNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRJbkZsb3dfSVBlcmNlbnRhZ2VWYWwoKQ0KICAgICAgfQ0KDQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgdHlwZTogJ0knLA0KICAgICAgICBwZEFjY0NhcEZsb3dUeXBlOiAnSScsDQogICAgICAgIHByZW1pdW1JbkZsb3c6IHRoaXMuZm9ybV9pbkZsb3dfSSwNCiAgICAgICAgcGRBY2NGZWVMaXN0OiB0aGlzLnByZW1pdW1GZWVMaXN0LA0KICAgICAgICBkZWxldGVGb3JtdWxhRmxhZzogZmFsc2UNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0kucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgaWYgKHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcENhbGNDb2RlKSB7DQogICAgICAgICAgcGFyYW1zLmRlbGV0ZUZvcm11bGFGbGFnID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcENhbGNDb2RlID0gJycNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzInKSB7DQogICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9pbkZsb3dfSS5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJw0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IGluRmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLmluRmxvd0xpc3QsIHsnaWQnOiBpbkZsb3cuaWR9KQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19JLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVNhdmVJbkZsb3dfUygpIHsNCiAgICAgIGxldCBzQm5mdCA9IHRoaXMuXy5maW5kKHRoaXMuc3J2bEJuZnRPcHRpb25MaXN0LCB7J3BkQm5mdENvZGUnOiB0aGlzLnBkQWNjQ2FwSW5mQ29kZX0pDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJdGVtSWQgPSBzQm5mdC5pZA0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSXRlbUNvZGUgPSBzQm5mdC5wZEJuZnRDb2RlDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJdGVtTmFtZSA9IHNCbmZ0LnBkQm5mdE5hbWUNCg0KICAgICAgaWYgKHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcxJykgew0KICAgICAgICB0aGlzLnNldEluRmxvd19TUGVyY2VudGFnZVZhbCgpDQogICAgICB9DQoNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LA0KICAgICAgICBhY2NvdW50SWQ6IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkLA0KICAgICAgICB0eXBlOiAnUycsDQogICAgICAgIHBkQWNjQ2FwRmxvd1R5cGU6ICdJJywNCiAgICAgICAgcHJlbWl1bUluRmxvdzogdGhpcy5mb3JtX2luRmxvd19TLA0KICAgICAgICBwZEFjY0ZlZUxpc3Q6IHRoaXMucHJlbWl1bUZlZUxpc3QNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FsY0ZsYWcgPSB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIGFkZEFsbFJJbkZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBpbkZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxJbmZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogaW5GbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93Q2hhbmdlZCgpDQogICAgICAgICAgaWYgKHRoaXMuY2FsY0ZsYWcpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGVJbkZsb3dfUygpIHsNCiAgICAgIGxldCBzQm5mdCA9IHRoaXMuXy5maW5kKHRoaXMuc3J2bEJuZnRPcHRpb25MaXN0LCB7J3BkQm5mdENvZGUnOiB0aGlzLnBkQWNjQ2FwSW5mQ29kZX0pDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJdGVtSWQgPSBzQm5mdC5pZA0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSXRlbUNvZGUgPSBzQm5mdC5wZEJuZnRDb2RlDQogICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJdGVtTmFtZSA9IHNCbmZ0LnBkQm5mdE5hbWUNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRJbkZsb3dfU1BlcmNlbnRhZ2VWYWwoKQ0KICAgICAgfQ0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdTJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ0knLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1faW5GbG93X1MsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdCwNCiAgICAgICAgZGVsZXRlRm9ybXVsYUZsYWc6IGZhbHNlDQogICAgICB9DQogICAgICBpZiAodGhpcy5mb3JtX2luRmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzEnKSB7DQogICAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgIHBhcmFtcy5kZWxldGVGb3JtdWxhRmxhZyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJykgew0KICAgICAgICB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dFJhdGlvID0gJycNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FsY0ZsYWcgPSB0aGlzLmZvcm1faW5GbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIGFkZEFsbFJJbkZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBpbkZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxJbmZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogaW5GbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93Q2hhbmdlZCgpDQogICAgICAgICAgaWYgKHRoaXMuY2FsY0ZsYWcpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVTYXZlSW5GbG93X0MoKSB7DQoNCiAgICAgIGxldCBjQm5mdCA9IHRoaXMuXy5maW5kKHRoaXMuY2xtQm5mdE9wdGlvbkxpc3QsIHsncGRCbmZ0Q29kZSc6IHRoaXMucGRBY2NDYXBJbmZDb2RlfSkNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEl0ZW1JZCA9IGNCbmZ0LmlkDQogICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJdGVtQ29kZSA9IGNCbmZ0LnBkQm5mdENvZGUNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEl0ZW1OYW1lID0gY0JuZnQucGRCbmZ0TmFtZQ0KDQogICAgICBpZiAodGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzEnKSB7DQogICAgICAgIHRoaXMuc2V0SW5GbG93X0NQZXJjZW50YWdlVmFsKCkNCiAgICAgIH0NCg0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdDJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ0knLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1faW5GbG93X0MsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdA0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJw0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IGluRmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLmluRmxvd0xpc3QsIHsnaWQnOiBpbkZsb3cuaWR9KQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZUluRmxvd19DKCkgew0KICAgICAgbGV0IGNCbmZ0ID0gdGhpcy5fLmZpbmQodGhpcy5jbG1CbmZ0T3B0aW9uTGlzdCwgeydwZEJuZnRDb2RlJzogdGhpcy5wZEFjY0NhcEluZkNvZGV9KQ0KICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSXRlbUlkID0gY0JuZnQuaWQNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEl0ZW1Db2RlID0gY0JuZnQucGRCbmZ0Q29kZQ0KICAgICAgdGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSXRlbU5hbWUgPSBjQm5mdC5wZEJuZnROYW1lDQoNCiAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRJbkZsb3dfQ1BlcmNlbnRhZ2VWYWwoKQ0KICAgICAgfQ0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdDJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ0knLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1faW5GbG93X0MsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdCwNCiAgICAgICAgZGVsZXRlRm9ybXVsYUZsYWc6IGZhbHNlDQogICAgICB9DQogICAgICBpZiAodGhpcy5mb3JtX2luRmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzEnKSB7DQogICAgICAgIGlmICh0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgIHBhcmFtcy5kZWxldGVGb3JtdWxhRmxhZyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJykgew0KICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dFJhdGlvID0gJycNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FsY0ZsYWcgPSB0aGlzLmZvcm1faW5GbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIGFkZEFsbFJJbkZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBpbkZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxJbmZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogaW5GbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93Q2hhbmdlZCgpDQogICAgICAgICAgaWYgKHRoaXMuY2FsY0ZsYWcpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCg0KDQogICAgaGFuZGxlU2F2ZU91dEZsb3dfUygpIHsNCiAgICAgIGxldCBpdGVtID0gdGhpcy5fLmZpbmQodGhpcy5zcnZsQm5mdE9wdGlvbkxpc3QsIHsncGRCbmZ0Q29kZSc6IHRoaXMucGRBY2NDYXBPdXRmQ29kZX0pDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSXRlbUlkID0gaXRlbS5pZA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0NhcEl0ZW1Db2RlID0gaXRlbS5wZEJuZnRDb2RlDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSXRlbU5hbWUgPSBpdGVtLnBkQm5mdE5hbWUNCg0KICAgICAgaWYgKHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRPdXRGbG93X1NQZXJjZW50YWdlVmFsKCkNCiAgICAgIH0NCg0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdTJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ08nLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1fb3V0Rmxvd19TDQogICAgICB9DQogICAgICB0aGlzLmNhbGNGbGFnID0gdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcyJw0KICAgICAgdGhpcy5yZXNldEZvcm1PdXRGbG93UygpDQogICAgICBhZGRBbGxSSW5GbG93KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgY29uc3Qgb3V0RmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbE91dGZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0RmxvdyA9IHRoaXMuXy5maW5kKHRoaXMub3V0Rmxvd0xpc3QsIHsnaWQnOiBvdXRGbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0Rmxvd0NoYW5nZWQoKQ0KICAgICAgICAgIGlmICh0aGlzLmNhbGNGbGFnKSB7DQogICAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9ICcyJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZU91dEZsb3dfUygpIHsNCiAgICAgIGxldCBpdGVtID0gdGhpcy5fLmZpbmQodGhpcy5zcnZsQm5mdE9wdGlvbkxpc3QsIHsncGRCbmZ0Q29kZSc6IHRoaXMucGRBY2NDYXBPdXRmQ29kZX0pDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSXRlbUlkID0gaXRlbS5pZA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUy5wZEFjY0NhcEl0ZW1Db2RlID0gaXRlbS5wZEJuZnRDb2RlDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSXRlbU5hbWUgPSBpdGVtLnBkQm5mdE5hbWUNCg0KICAgICAgaWYgKHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgdGhpcy5zZXRPdXRGbG93X1NQZXJjZW50YWdlVmFsKCkNCiAgICAgIH0NCg0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdTJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ08nLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1fb3V0Rmxvd19TLA0KICAgICAgICBwZEFjY0ZlZUxpc3Q6IHRoaXMucHJlbWl1bUZlZUxpc3QsDQogICAgICAgIGRlbGV0ZUZvcm11bGFGbGFnOiBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMScpIHsNCiAgICAgICAgaWYgKHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBDYWxjQ29kZSkgew0KICAgICAgICAgIHBhcmFtcy5kZWxldGVGb3JtdWxhRmxhZyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwQ2FsY0NvZGUgPSAnJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzInKSB7DQogICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dFJhdGlvID0gJycNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FsY0ZsYWcgPSB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzInDQogICAgICB0aGlzLnJlc2V0Rm9ybU91dEZsb3dTKCkNCiAgICAgIGFkZEFsbFJJbkZsb3codGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtcykpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBvdXRGbG93ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKQ0KICAgICAgICB0aGlzLmluaXRDYXBpdGFsT3V0ZmxvdygpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPdXRGbG93ID0gdGhpcy5fLmZpbmQodGhpcy5vdXRGbG93TGlzdCwgeydpZCc6IG91dEZsb3cuaWR9KQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPdXRGbG93Q2hhbmdlZCgpDQogICAgICAgICAgaWYgKHRoaXMuY2FsY0ZsYWcpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1MucGRBY2NDYXBJbk91dE1vZGUxID0gJzInDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnJlZnJlc2hBY2NEZWYoZmFsc2UpDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlU2F2ZU91dEZsb3dfQygpIHsNCiAgICAgIGxldCBpdGVtID0gdGhpcy5fLmZpbmQodGhpcy5jbG1CbmZ0T3B0aW9uTGlzdCwgeydwZEJuZnRDb2RlJzogdGhpcy5wZEFjY0NhcE91dGZDb2RlfSkNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJdGVtSWQgPSBpdGVtLmlkDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSXRlbUNvZGUgPSBpdGVtLnBkQm5mdENvZGUNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJdGVtTmFtZSA9IGl0ZW0ucGRCbmZ0TmFtZQ0KDQogICAgICBpZiAodGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcxJykgew0KICAgICAgICB0aGlzLnNldE91dEZsb3dfQ1BlcmNlbnRhZ2VWYWwoKQ0KICAgICAgfQ0KDQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgdHlwZTogJ0MnLA0KICAgICAgICBwZEFjY0NhcEZsb3dUeXBlOiAnTycsDQogICAgICAgIHByZW1pdW1JbkZsb3c6IHRoaXMuZm9ybV9vdXRGbG93X0MsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdA0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd0MoKQ0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IG91dEZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxPdXRmbG93KCkudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLm91dEZsb3dMaXN0LCB7J2lkJzogb3V0Rmxvdy5pZH0pDQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGVPdXRGbG93X0MoKSB7DQogICAgICBsZXQgaXRlbSA9IHRoaXMuXy5maW5kKHRoaXMuY2xtQm5mdE9wdGlvbkxpc3QsIHsncGRCbmZ0Q29kZSc6IHRoaXMucGRBY2NDYXBPdXRmQ29kZX0pDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSXRlbUlkID0gaXRlbS5pZA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEl0ZW1Db2RlID0gaXRlbS5wZEJuZnRDb2RlDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSXRlbU5hbWUgPSBpdGVtLnBkQm5mdE5hbWUNCiAgICAgIGlmICh0aGlzLmZvcm1fb3V0Rmxvd19DLnBkQWNjQ2FwSW5PdXRNb2RlMSA9PT0gJzEnKSB7DQogICAgICAgIHRoaXMuc2V0T3V0Rmxvd19DUGVyY2VudGFnZVZhbCgpDQogICAgICB9DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgdHlwZTogJ0MnLA0KICAgICAgICBwZEFjY0NhcEZsb3dUeXBlOiAnTycsDQogICAgICAgIHByZW1pdW1JbkZsb3c6IHRoaXMuZm9ybV9vdXRGbG93X0MsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdCwNCiAgICAgICAgZGVsZXRlRm9ybXVsYUZsYWc6IGZhbHNlDQogICAgICB9DQogICAgICBpZiAodGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPT09ICcxJykgew0KICAgICAgICBpZiAodGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcENhbGNDb2RlKSB7DQogICAgICAgICAgcGFyYW1zLmRlbGV0ZUZvcm11bGFGbGFnID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBDYWxjQ29kZSA9ICcnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicpIHsNCiAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0UmF0aW8gPSAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5jYWxjRmxhZyA9IHRoaXMuZm9ybV9vdXRGbG93X0MucGRBY2NDYXBJbk91dE1vZGUxID09PSAnMicNCiAgICAgIHRoaXMucmVzZXRGb3JtT3V0Rmxvd0MoKQ0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IG91dEZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxPdXRmbG93KCkudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLm91dEZsb3dMaXN0LCB7J2lkJzogb3V0Rmxvdy5pZH0pDQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICBpZiAodGhpcy5jYWxjRmxhZykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX291dEZsb3dfQy5wZEFjY0NhcEluT3V0TW9kZTEgPSAnMicNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucmVmcmVzaEFjY0RlZihmYWxzZSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVTYXZlT3V0Rmxvd19QQSgpIHsNCiAgICAgIGxldCBpdGVtID0gdGhpcy5fLmZpbmQodGhpcy5wZFBhT3B0aW9uTGlzdCwgeydwYUNvZGUnOiB0aGlzLnBkQWNjQ2FwT3V0ZkNvZGV9KQ0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NDYXBJdGVtSWQgPSBpdGVtLmlkDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcEl0ZW1Db2RlID0gaXRlbS5wYUNvZGUNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1BBLnBkQWNjQ2FwSXRlbU5hbWUgPSBpdGVtLnBhTmFtZQ0KDQogICAgICB0aGlzLnNldE91dEZsb3dfUEFQZXJjZW50YWdlVmFsKCkNCg0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsDQogICAgICAgIGFjY291bnRJZDogdGhpcy5zZWxlY3RlZEFjY291bnQuaWQsDQogICAgICAgIHR5cGU6ICdQQScsDQogICAgICAgIHBkQWNjQ2FwRmxvd1R5cGU6ICdPJywNCiAgICAgICAgcHJlbWl1bUluRmxvdzogdGhpcy5mb3JtX291dEZsb3dfUEEsDQogICAgICAgIHBkQWNjRmVlTGlzdDogdGhpcy5wcmVtaXVtRmVlTGlzdA0KICAgICAgfQ0KICAgICAgdGhpcy5yZXNldEZvcm1PdXRGbG93UEEoKQ0KICAgICAgYWRkQWxsUkluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnN0IG91dEZsb3cgPSByZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgIHRoaXMuaW5pdENhcGl0YWxPdXRmbG93KCkudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3cgPSB0aGlzLl8uZmluZCh0aGlzLm91dEZsb3dMaXN0LCB7J2lkJzogb3V0Rmxvdy5pZH0pDQogICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3dDaGFuZ2VkKCkNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5yZWZyZXNoQWNjRGVmKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZU91dEZsb3dfUEEoKSB7DQogICAgICBsZXQgaXRlbSA9IHRoaXMuXy5maW5kKHRoaXMucGRQYU9wdGlvbkxpc3QsIHsncGFDb2RlJzogdGhpcy5wZEFjY0NhcE91dGZDb2RlfSkNCiAgICAgIHRoaXMuZm9ybV9vdXRGbG93X1BBLnBkQWNjQ2FwSXRlbUlkID0gaXRlbS5pZA0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfUEEucGRBY2NDYXBJdGVtQ29kZSA9IGl0ZW0ucGFDb2RlDQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQS5wZEFjY0NhcEl0ZW1OYW1lID0gaXRlbS5wYU5hbWUNCg0KICAgICAgdGhpcy5zZXRPdXRGbG93X1BBUGVyY2VudGFnZVZhbCgpDQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgdHlwZTogJ1BBJywNCiAgICAgICAgcGRBY2NDYXBGbG93VHlwZTogJ08nLA0KICAgICAgICBwcmVtaXVtSW5GbG93OiB0aGlzLmZvcm1fb3V0Rmxvd19QQSwNCiAgICAgICAgcGRBY2NGZWVMaXN0OiB0aGlzLnByZW1pdW1GZWVMaXN0DQogICAgICB9DQogICAgICB0aGlzLnJlc2V0Rm9ybU91dEZsb3dQQSgpDQogICAgICBhZGRBbGxSSW5GbG93KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgY29uc3Qgb3V0RmxvdyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbE91dGZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0RmxvdyA9IHRoaXMuXy5maW5kKHRoaXMub3V0Rmxvd0xpc3QsIHsnaWQnOiBvdXRGbG93LmlkfSkNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0Rmxvd0NoYW5nZWQoKQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnJlZnJlc2hBY2NEZWYoZmFsc2UpDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVzZXRGb3JtQWNjb3VudEZlZSgpIHsNCiAgICAgIHRoaXMuZm9ybV9hY2NvdW50X2ZlZSA9IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY291bnRJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0ZlZU9yZGVyOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjRmVlRmluYWxWYWw6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NGZWVGaW5hbFJhdGlvOiB1bmRlZmluZWQsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGROYW1lOiAnJywNCiAgICAgICAgcGRBY2NvdW50Q29kZTogJycsDQogICAgICAgIHBkQWNjb3VudE5hbWU6ICcnLA0KICAgICAgICBwZEFjY0ZlZUNvZGU6ICcnLA0KICAgICAgICBwZEFjY0ZlZU5hbWU6ICcnLA0KICAgICAgICBwZEFjY0ZlZVR5cGU6ICcnLA0KICAgICAgICBwZEFjY0l0ZW1UeXBlOiAnJywNCiAgICAgICAgcGRBY2NGZWVEZWR1VHlwZTogJycsDQogICAgICAgIHBkQWNjRmVlRGVkdUZyZXE6ICcnLA0KICAgICAgICBwZEFjY0ZlZUNhbGNNb2RlOiAnJywNCiAgICAgICAgcGRBY2NGZWVDYWxjVHlwZTogJycsDQogICAgICAgIHBkQWNjRmVlWmVyb0ZsYWc6ICdOJywNCiAgICAgICAgcGRBY2NGZWVDYWxjQ29kZTogJycNCiAgICAgIH0NCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2FjY291bnRfZmVlLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFjY0ZlZXJlc2V0Rm9ybSgpIHsNCiAgICAgIHRoaXMuYWNjRmVlQWRkID0gJycNCiAgICAgIHRoaXMuYWNjRmVlVXBkYXRlID0gJ25vbmUnDQogICAgICB0aGlzLmFjY0ZlZVJlc2V0Rm9ybSA9ICcnDQogICAgICB0aGlzLmFjY0ZlZSA9IHt9DQogICAgICB0aGlzLnJlc2V0Rm9ybUFjY291bnRGZWUoKQ0KICAgIH0sDQogICAgLy/liKDpmaTlvZPliY3kuqflk4HotKbmiLfnmoTkuIDmnaHotKbmiLcNCiAgICBhY2NvdW50RGVsZXRlKHJvdykgew0KICAgICAgY29uc3QgcGFyYW1zID0ge3BkdGVtcFBkQWNjOiByb3d9DQogICAgICBhY2NvdW50RGVsZXRlRGVmKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQ0KICAgICAgICB0aGlzLmluaXQoKQ0KICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlSW5GbG93KHJvdywgdHlwZSkgew0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwcm9kdWN0SWQ6IHRoaXMucHJvZHVjdC5pZCwNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLnNlbGVjdGVkQWNjb3VudC5pZCwNCiAgICAgICAgaW5GbG93OiByb3cNCiAgICAgIH0NCiAgICAgIGRlbGV0ZUluRmxvdyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkNCiAgICAgICAgdGhpcy5pbml0Q2FwaXRhbEluZmxvdygpDQogICAgICAgIHRoaXMuc2VsZWN0ZWRJbkZsb3cgPSB7fQ0KICAgICAgICB0aGlzLmluRmxvd1R5cGUgPSAnJw0KICAgICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KICAgICAgICB0aGlzLnJlc2V0Rm9ybUluRmxvdygpDQogICAgICAgIHRoaXMuaW5pdHBkQWNjRmVlQ2FwSW5PdXQocm93LCB0eXBlKQ0KICAgICAgICB0aGlzLnJlZnJlc2hBY2NEZWYoZmFsc2UpDQogICAgICB9KQ0KICAgIH0sDQogICAgY2xlYXJJbkZsb3dfUCgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cgPSB7DQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnLA0KICAgICAgICBwZEFkZEFtb3VudFR5cGU6ICdSJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZlJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkQWNjSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NDb2RlOiAnJywNCiAgICAgICAgcGRBY2NOYW1lOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZUeXBlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZEZXRhaWw6ICcnLA0KICAgICAgICBwZEFjY0NhcEluZklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjQ2FwSW5mQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5mTmFtZTogJycsDQogICAgICAgIHBkQWNjSW5mTW9kZTogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6ICcnLA0KICAgICAgICB1cGRhdGVUaW1lOiAnJywNCiAgICAgICAgZmVlQ291bnQ6ICcnLA0KICAgICAgICBmZWVMaXN0OiBbXSwNCiAgICAgICAgYWNjb3VudE93bmVyOiAnJywNCiAgICAgICAgZm9ybXVsYUZsYWc6ICdOJw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xlYXJJbkZsb3dfSSgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSSA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICBjbGVhckluRmxvd19TKCkgew0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkQWNjQ2FwQ2FsY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZk1pblJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFySW5GbG93X0MoKSB7DQogICAgICB0aGlzLmZvcm1faW5GbG93X0MgPSB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRBY2NDYXBDYWxjQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlMTogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0luZk1heFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZFByZW1UeXBlOiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xlYXJPdXRGbG93X1MoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkQWNjQ2FwQ2FsY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZk1pblJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFyT3V0Rmxvd19DKCkgew0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfQyA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICBjbGVhckluRmxvd19QSVNDKCkgew0KICAgICAgdGhpcy5jbGVhckluRmxvd19QKCkNCiAgICAgIHRoaXMuY2xlYXJJbkZsb3dfSSgpDQogICAgICB0aGlzLmNsZWFySW5GbG93X1MoKQ0KICAgICAgdGhpcy5jbGVhckluRmxvd19DKCkNCiAgICB9LA0KICAgIGNsZWFyT3V0Rmxvd19TQygpIHsNCiAgICAgIHRoaXMuY2xlYXJPdXRGbG93X1MoKQ0KICAgICAgdGhpcy5jbGVhck91dEZsb3dfQygpDQogICAgfSwNCiAgICBicmluZ1NydmxCbmZ0KHZhbCkgew0KICAgICAgZm9yIChjb25zdCBzcnZsQm5mdCBvZiB0aGlzLnNydmxCbmZ0T3B0aW9uTGlzdCkgew0KICAgICAgICBpZiAoc3J2bEJuZnQucGRCbmZ0Q29kZSA9PT0gdmFsKSB7DQogICAgICAgICAgdGhpcy5wZEFjY0NhcE91dGZJZCA9IHNydmxCbmZ0LmlkDQogICAgICAgICAgdGhpcy5wZEFjY0NhcE91dGZDb2RlID0gc3J2bEJuZnQucGRCbmZ0Q29kZQ0KICAgICAgICAgIHRoaXMucGRBY2NDYXBPdXRmTmFtZSA9IHNydmxCbmZ0LnBkQm5mdE5hbWUNCiAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TLnBkUHJlbVR5cGUgPSBzcnZsQm5mdC5wZEJuZnREZXRhaWxUeXBlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYnJpbmdDbG1CbmZ0KHZhbCkgew0KICAgICAgZm9yIChjb25zdCBjbG1CbmZ0IG9mIHRoaXMuY2xtQm5mdE9wdGlvbkxpc3QpIHsNCiAgICAgICAgaWYgKGNsbUJuZnQucGRCbmZ0Q29kZSA9PT0gdmFsKSB7DQogICAgICAgICAgdGhpcy5wZEFjY0NhcE91dGZJZCA9IGNsbUJuZnQuaWQNCiAgICAgICAgICB0aGlzLnBkQWNjQ2FwT3V0ZkNvZGUgPSBjbG1CbmZ0LnBkQm5mdENvZGUNCiAgICAgICAgICB0aGlzLnBkQWNjQ2FwT3V0Zk5hbWUgPSBjbG1CbmZ0LnBkQm5mdE5hbWUNCiAgICAgICAgICB0aGlzLmZvcm1fb3V0Rmxvd19DLnBkUHJlbVR5cGUgPSBjbG1CbmZ0LnBkQm5mdERldGFpbFR5cGUNCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBicmluZ1BkUGEodmFsKSB7DQogICAgICBmb3IgKGNvbnN0IHBkUGEgb2YgdGhpcy5wZFBhT3B0aW9uTGlzdCkgew0KICAgICAgICBpZiAocGRQYS5wYUNvZGUgPT09IHZhbCkgew0KICAgICAgICAgIHRoaXMucGRBY2NDYXBPdXRmSWQgPSBwZFBhLmlkDQogICAgICAgICAgdGhpcy5wZEFjY0NhcE91dGZDb2RlID0gcGRQYS5wYUNvZGUNCiAgICAgICAgICB0aGlzLnBkQWNjQ2FwT3V0Zk5hbWUgPSBwZFBhLnBhTmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybV9vdXRGbG93X0MucGRQcmVtVHlwZSA9ICcnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYnJpbmdJbnYodmFsKSB7DQogICAgICBmb3IgKGNvbnN0IGludiBvZiB0aGlzLmludk9wdGlvbkxpc3QpIHsNCiAgICAgICAgaWYgKGludi5wZEludkNvZGUgPT09IHZhbCkgew0KICAgICAgICAgIHRoaXMucGRBY2NDYXBJZCA9IGludi5pZA0KICAgICAgICAgIHRoaXMucGRBY2NDYXBJbmZDb2RlID0gaW52LnBkSW52Q29kZQ0KICAgICAgICAgIHRoaXMucGRBY2NDYXBJbmZOYW1lID0gaW52LnBkSW52TmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSS5wZFByZW1UeXBlID0gaW52LnBkSW52VHlwZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGJyaW5nU3J2bCh2YWwpIHsNCiAgICAgIGZvciAoY29uc3Qgc3J2bCBvZiB0aGlzLnNydmxCbmZ0T3B0aW9uTGlzdCkgew0KICAgICAgICBpZiAoc3J2bC5wZEJuZnRDb2RlID09PSB2YWwpIHsNCiAgICAgICAgICB0aGlzLnBkQWNjQ2FwSWQgPSBzcnZsLmlkDQogICAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSBzcnZsLnBkQm5mdENvZGUNCiAgICAgICAgICB0aGlzLnBkQWNjQ2FwSW5mTmFtZSA9IHNydmwucGRCbmZ0TmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybV9pbkZsb3dfUy5wZFByZW1UeXBlID0gc3J2bC5wZEJuZnREZXRhaWxUeXBlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYnJpbmdDbG0odmFsKSB7DQogICAgICBmb3IgKGNvbnN0IGNsbSBvZiB0aGlzLmNsbUJuZnRPcHRpb25MaXN0KSB7DQogICAgICAgIGlmIChjbG0ucGRCbmZ0Q29kZSA9PT0gdmFsKSB7DQogICAgICAgICAgdGhpcy5wZEFjY0NhcElkID0gY2xtLmlkDQogICAgICAgICAgdGhpcy5wZEFjY0NhcEluZkNvZGUgPSBjbG0ucGRCbmZ0Q29kZQ0KICAgICAgICAgIHRoaXMucGRBY2NDYXBJbmZOYW1lID0gY2xtLnBkQm5mdE5hbWUNCiAgICAgICAgICB0aGlzLmZvcm1faW5GbG93X0MucGRQcmVtVHlwZSA9IGNsbS5wZEJuZnREZXRhaWxUeXBlDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtQWNjb3VudCgpIHsNCiAgICAgIHRoaXMuZm9ybV9hY2NvdW50ID0gew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY05hbWU6ICcnLA0KICAgICAgICBwZEFjY291bnRUeXBlOiBbXSwNCiAgICAgICAgcGRBY2NvdW50RGV0VHlwZTogJycsDQogICAgICAgIHBkQWNjRmluVHlwZTogJzEnLA0KICAgICAgICBwZEFjY291bnRPd25lcjogJzEnLA0KICAgICAgICBwZEFjY0ludmVzdFR5cGU6ICcnLA0KICAgICAgICBwZEFjY291bnRDdXJyZW5jeTogJzAxJywNCiAgICAgICAgcGRBY2NDcmVQbGFjZTogJzEnLA0KICAgICAgICBwZEFjY0NydERhdGU6ICcxJywNCiAgICAgICAgcGRBY2NDb2RlUnVsZTogJzMnLA0KICAgICAgICBwZEFjY0RlYWxGcmVxOiAnJywNCiAgICAgICAgcGRBY2NEZWFsRGF5OiAnMScsDQogICAgICAgIHBkQWNjRGVhbEluc3RNb2RlOiAnJywNCiAgICAgICAgcGRBY2NGdW5kRmxhZzogJ04nDQogICAgICB9DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9hY2NvdW50LmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlc2V0Rm9ybUFjY291bnRWbygpIHsNCiAgICAgIHRoaXMuZm9ybV9hY2NvdW50Vm8gPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgYWNjb3VudENvZGU6ICcnLA0KICAgICAgICBhY2NvdW50TmFtZTogJycsDQogICAgICAgIGFjY291bnRUeXBlOiAnJywNCiAgICAgICAgYWNjRmluVHlwZTogJycsDQogICAgICAgIGFjY291bnRPd25lcjogJycsDQogICAgICAgIGFjY0ludmVzdFR5cGU6ICcnLA0KICAgICAgICBhY2NvdW50Q3VycmVuY3k6ICcnLA0KICAgICAgICBhY2NDcmVQbGFjZTogJycsDQogICAgICAgIGFjY0NydERhdGU6ICcnLA0KICAgICAgICBhY2NDb2RlUnVsZTogJycsDQogICAgICAgIGFjY0RlYWxGcmVxOiAnJywNCiAgICAgICAgYWNjRGVhbERheTogdW5kZWZpbmVkLA0KICAgICAgICBhY2NEZWFsSW5zdE1vZGU6ICcnLA0KICAgICAgICBhY2NGdW5kRmxhZzogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICBmZWVDb3VudDogdW5kZWZpbmVkLA0KICAgICAgICBmZWVMaXN0OiBbXSwNCiAgICAgICAgZnVuZENvdW50OiB1bmRlZmluZWQsDQogICAgICAgIGZ1bmRMaXN0OiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtRnVuZFZvKCkgew0KICAgICAgdGhpcy5mb3JtX2Z1bmRWbyA9IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICBmdW5kQ29kZTogJycsDQogICAgICAgIGZ1bmRDaE5hbWU6ICcnLA0KICAgICAgICBmdW5kRW5OYW1lOiAnJywNCiAgICAgICAgZnVuZENvbXBOYW1lOiAnJywNCiAgICAgICAgZnVuZFR5cGU6ICcnLA0KICAgICAgICBmdW5kUmlza0dyYWRlOiAnJywNCiAgICAgICAgZnVuZEN1cnJlbmN5OiAnJywNCiAgICAgICAgZnVuZFN0YXRlOiAnJywNCiAgICAgICAgZnVuZFN0YXRlVmFsaURhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQsDQogICAgICAgIGZ1bmRJbnZlc3RSYXRpbzogdW5kZWZpbmVkDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1GaW5hbmNpYWxJbmRleCgpIHsNCiAgICAgIHRoaXMuZm9ybV9maW5hbmNpYWxJbmRleCA9IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkRmluSW5kaUF0dHI6ICcnLA0KICAgICAgICBwZEJ1c3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEJ1c3NDb2RlOiAnJywNCiAgICAgICAgcGRGaW5JbmRpVHlwZTogJycsDQogICAgICAgIHBkUmF0ZUN1cnI6ICcnLA0KICAgICAgICBwZEFubnVSYXRlOiB1bmRlZmluZWQsDQogICAgICAgIHBkTW9uUmF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZERheVJhdGU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRMZXZ5RmxhZzogJycsDQogICAgICAgIHBkVGF4UmF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZE1uZ0NvbTogJycsDQogICAgICAgIHBkVmFpbFN0YXJ0RGF0ZTogbmV3IERhdGUoKSwNCiAgICAgICAgcGRWYWlsRW5kRGF0ZTogJzk5OTktMTItMzEnLA0KICAgICAgICBwZEZpbkluZEZlZVR5cGU6ICcnLA0KICAgICAgICBwZFN1aXRGbGFnOiAnJywNCiAgICAgICAgcGRDYWxjSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLA0KICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlc2V0Rm9ybUluRmxvdygpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3cgPSB7DQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnLA0KICAgICAgICBwZEFkZEFtb3VudFR5cGU6ICdSJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZlJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkQWNjSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBY2NDb2RlOiAnJywNCiAgICAgICAgcGRBY2NOYW1lOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZUeXBlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbmZEZXRhaWw6ICcnLA0KICAgICAgICBwZEFjY0NhcEluZklkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjQ2FwSW5mQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5mTmFtZTogJycsDQogICAgICAgIHBkQWNjSW5mTW9kZTogJycsDQogICAgICAgIGNyZWF0ZVRpbWU6ICcnLA0KICAgICAgICB1cGRhdGVUaW1lOiAnJywNCiAgICAgICAgZmVlQ291bnQ6ICcnLA0KICAgICAgICBmZWVMaXN0OiBbXSwNCiAgICAgICAgYWNjb3VudE93bmVyOiAnJywNCiAgICAgICAgZm9ybXVsYUZsYWc6ICdOJw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtSW5GbG93SSgpIHsNCiAgICAgIHRoaXMuZm9ybV9pbkZsb3dfSSA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1JbkZsb3dTKCkgew0KICAgICAgdGhpcy5mb3JtX2luRmxvd19TID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkQWNjQ2FwQ2FsY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZk1pblJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlc2V0Rm9ybUluRmxvd0MoKSB7DQogICAgICB0aGlzLmZvcm1faW5GbG93X0MgPSB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRBY2NDYXBDYWxjQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlMTogJycsDQogICAgICAgIHBkQWNjSW5mTWluUmF0aW86ICcnLA0KICAgICAgICBwZEFjY0luZk1heFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZFByZW1UeXBlOiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtT3V0Rmxvd1MoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19TID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkQWNjQ2FwQ2FsY0NvZGU6ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTE6ICcnLA0KICAgICAgICBwZEFjY0luZk1pblJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NJbmZNYXhSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRSYXRpbzogJycsDQogICAgICAgIHBkQWNjQ2FwSW5PdXRNb2RlOiAnJywNCiAgICAgICAgcGRQcmVtVHlwZTogJycNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlc2V0Rm9ybU91dEZsb3dDKCkgew0KICAgICAgdGhpcy5mb3JtX291dEZsb3dfQyA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0TW9kZTogJycsDQogICAgICAgIHBkUHJlbVR5cGU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1PdXRGbG93UEEoKSB7DQogICAgICB0aGlzLmZvcm1fb3V0Rmxvd19QQSA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcENhbGNDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGUxOiAnJywNCiAgICAgICAgcGRBY2NJbmZNaW5SYXRpbzogJycsDQogICAgICAgIHBkQWNjSW5mTWF4UmF0aW86ICcnLA0KICAgICAgICBwZEFjY0NhcEluT3V0UmF0aW86ICcxJywNCiAgICAgICAgcGRBY2NDYXBJbk91dE1vZGU6ICcnLA0KICAgICAgICBwZFByZW1UeXBlOiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtUGRBY2NGZWUoKSB7DQogICAgICB0aGlzLmZvcm1fcGRBY2NGZWUgPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIGFjY291bnRGZWVJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0ZlZUNvZGU6ICcnLA0KICAgICAgICBwZEFjY0ZlZU5hbWU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1PdXRGbG93KCkgew0KICAgICAgdGhpcy5mb3JtX291dEZsb3cgPSB7DQogICAgICAgIGlkOiB1bmRlZmluZWQsDQogICAgICAgIHBkQWNjQ2FwT3V0ZlR5cGU6ICcnLA0KICAgICAgICBwZEFjY0NhcE91dGZJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEFjY0NhcE91dGZDb2RlOiAnJywNCiAgICAgICAgcGRBY2NDYXBPdXRmTmFtZTogJycsDQogICAgICAgIHBkQWNjT3V0Zk1vZGU6ICcnLA0KICAgICAgICBwZEFjY091dGZSYXRpbzogdW5kZWZpbmVkLA0KICAgICAgICBwZENhbGNJZDogdW5kZWZpbmVkDQogICAgICB9DQogICAgfSwNCiAgICByZXNldEZvcm1TcnZsQm5mdCgpIHsNCiAgICAgIHRoaXMuZm9ybV9zcnZsQm5mdCA9IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRTcnZsQm5mdENvZGU6ICcnLA0KICAgICAgICBwZFNydmxCbmZ0TmFtZTogJycsDQogICAgICAgIHBkU3J2bEJuZnRUeXBlOiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtQ2xtQm5mdCgpIHsNCiAgICAgIHRoaXMuZm9ybV9jbG1CbmZ0ID0gew0KICAgICAgICBpZDogdW5kZWZpbmVkLA0KICAgICAgICBwZENsbUJuZnRDb2RlOiAnJywNCiAgICAgICAgcGRDbG1CbmZ0TmFtZTogJycsDQogICAgICAgIHBkQ2xtQm5mdFR5cGU6ICcnDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTYXZlUGRBY2NDYXBJbl9GZWUodHlwZSkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NDYXBJZCA9IHR5cGUgPT09ICdJJyA/IHRoaXMuc2VsZWN0ZWRJbkZsb3cuaWQgOiB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5pZA0KICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQNCiAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQNCiAgICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NJZCA9IHRoaXMuc2VsZWN0ZWRBY2NvdW50LmlkDQoNCiAgICAgICAgICBpZiAodGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlRmluYWxSYXRpbykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlRmluYWxSYXRpbyA9IHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gLyAxMDANCiAgICAgICAgICB9DQoNCiAgICAgICAgICBpZiAodGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlTWF4RmluYWxSYXRpbykgew0KICAgICAgICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlTWF4RmluYWxSYXRpbyA9IHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZU1heEZpbmFsUmF0aW8gLyAxMDANCiAgICAgICAgICB9DQoNCiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7J2Zvcm1QZEFjY0NhcEluRmVlJzogdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLCAndHlwZSc6IHR5cGUsICdwcm9kdWN0JzogdGhpcy5wcm9kdWN0fQ0KICAgICAgICAgIHNhdmVQZEFjY0NhcEluRmVlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEgPT09IC0xKSB7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncGR0ZW1wUGRBY2MubWVzc2FnZS5mZWVPcmRlckRldUR1cGxpY2F0ZScpKQ0KICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0knKSB7DQogICAgICAgICAgICAgIHRoaXMuaW5pdENhcGl0YWxJbmZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5GbG93ID0gdGhpcy5fLmZpbmQodGhpcy5pbkZsb3dMaXN0LCB7J2lkJzogdGhpcy5zZWxlY3RlZEluRmxvdy5pZH0pDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluRmxvd0NoYW5nZWQoKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTycpIHsNCiAgICAgICAgICAgICAgdGhpcy5pbml0Q2FwaXRhbE91dGZsb3coKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0RmxvdyA9IHRoaXMuXy5maW5kKHRoaXMub3V0Rmxvd0xpc3QsIHsnaWQnOiB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5pZH0pDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE91dEZsb3dDaGFuZ2VkKCkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZm9jdXNJdGVtKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZVVwZGF0ZVBkQWNjQ2FwSW5fRmVlKHR5cGUpIHsNCiAgICAgIGxldCBhY2NGZWUgPSB0aGlzLl8uZmluZCh0aGlzLmFjY0ZlZU9wdGlvbkxpc3QsIHsncGRBY2NGZWVDb2RlJzogdGhpcy5wZEFjY0ZlZUNvZGV9KQ0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLmFjY291bnRGZWVJZCA9IGFjY0ZlZS5pZA0KICAgICAgdGhpcy5mb3JtX3BkQWNjQ2FwSW5fRmVlLnBkQWNjRmVlQ29kZSA9IGFjY0ZlZS5wZEFjY0ZlZUNvZGUNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZU5hbWUgPSBhY2NGZWUucGRBY2NGZWVOYW1lDQoNCiAgICAgIGlmICh0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbFJhdGlvKSB7DQogICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZUZpbmFsUmF0aW8gPSB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVGaW5hbFJhdGlvIC8gMTAwDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVNYXhGaW5hbFJhdGlvKSB7DQogICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0ZlZU1heEZpbmFsUmF0aW8gPSB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NGZWVNYXhGaW5hbFJhdGlvIC8gMTAwDQogICAgICB9DQoNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsnZm9ybVBkQWNjQ2FwSW5GZWUnOiB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUsICd0eXBlJzogdHlwZSwgJ3Byb2R1Y3QnOiB0aGlzLnByb2R1Y3R9DQogICAgICBzYXZlUGRBY2NDYXBJbkZlZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEgPT09IC0xKSB7DQogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZHRlbXBQZEFjYy5tZXNzYWdlLmZlZU9yZGVyRGV1RHVwbGljYXRlJykpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnNhdmUnKSkNCiAgICAgICAgdGhpcy5pbml0cGRBY2NGZWVDYXBJbk91dCh0eXBlID09PSAnSScgPyB0aGlzLnNlbGVjdGVkSW5GbG93IDogdGhpcy5zZWxlY3RlZE91dEZsb3csIHR5cGUpDQogICAgICAgIHRoaXMuY2xlYXJQZEFjY0NhcEluX0ZlZSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVzZXRGb3JtUGRBY2NDYXBJbkZlZSgpIHsNCiAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZSA9IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBwZFZlcklkOiAnJywNCiAgICAgICAgcGRJbmZvSWQ6ICcnLA0KICAgICAgICBwZEFjY0NhcElkOiAnJywNCiAgICAgICAgcGRBY2NJZDogJycsDQogICAgICAgIHBkQWNjRmVlSWQ6ICcnLA0KICAgICAgICBwZEFjY0ZlZURlZHVPcmRlcjogJycsDQogICAgICAgIHBkQWNjRmVlRGVkdVRpbWU6ICcnLA0KICAgICAgICBwZEFjY0ZpcnN0RmVlRGVkdURheTogJycsDQogICAgICAgIHBkQWNjRmVlRmluYWxWYWw6ICcnLA0KICAgICAgICBwZEFjY0ZlZUZpbmFsTWF4VmFsOiAnJywNCiAgICAgICAgcGRBY2NGZWVGaW5hbFJhdGlvOiAnJywNCiAgICAgICAgcGRBY2NGZWVNYXhGaW5hbFJhdGlvOiAnJywNCiAgICAgICAgcGRDYWxjQ29kZTogJycsDQogICAgICAgIHBkQWNjQ2FwQ29kZTogJycsDQogICAgICAgIHBkQWNjQ29kZTogJycsDQogICAgICAgIHBkQWNjTmFtZTogJycsDQogICAgICAgIHBkQWNjRmVlQ29kZTogJycsDQogICAgICAgIHBkQWNjRmVlTmFtZTogJycNCiAgICAgIH0NCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybV9wZEFjY0NhcEluX0ZlZSkgew0KICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybV9wZEFjY0NhcEluX0ZlZS5jbGVhclZhbGlkYXRlKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsZWFyUGRBY2NDYXBJbl9GZWUoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybVBkQWNjQ2FwSW5GZWUoKQ0KICAgICAgdGhpcy5zZWxlY3RlZFBkQWNjb3VudEZlZSA9IHt9DQogICAgICBpZiAodGhpcy5hY3RpdmF0ZWROYW1lID09PSAnaW5GbG93Jykgew0KICAgICAgICB0aGlzLmZvcm1fcGRBY2NDYXBJbl9GZWUucGRBY2NDYXBDb2RlID0gdGhpcy5zZWxlY3RlZEluRmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZhdGVkTmFtZSA9PT0gJ291dEZsb3cnKSB7DQogICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICB9DQogICAgfSwNCiAgICByZWZyZXNoUGRBY2NDYXBGZWUoKSB7DQogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZFBkQWNjb3VudEZlZSkubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkUGRBY2NvdW50RmVlQ2hhbmdlKHRoaXMuc2VsZWN0ZWRQZEFjY291bnRGZWUpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlc2V0Rm9ybVBkQWNjQ2FwSW5GZWUoKQ0KICAgICAgICB0aGlzLnNldENhcEZlZUZpbmFsVmFsT3JGaW5hbFJhdGlvKCkNCiAgICAgICAgdGhpcy5wZEFjY0ZlZUNvZGUgPSAnJw0KICAgICAgICBpZiAodGhpcy5hY3RpdmF0ZWROYW1lID09PSAnaW5GbG93Jykgew0KICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkSW5GbG93LnBkQWNjQ2FwSXRlbUNvZGUNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2YXRlZE5hbWUgPT09ICdvdXRGbG93Jykgew0KICAgICAgICAgIHRoaXMuZm9ybV9wZEFjY0NhcEluX0ZlZS5wZEFjY0NhcENvZGUgPSB0aGlzLnNlbGVjdGVkT3V0Rmxvdy5wZEFjY0NhcEl0ZW1Db2RlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFyQWxsQ29kZSgpIHsNCiAgICAgIHRoaXMucGRBY2NDYXBPdXRmQ29kZSA9ICcnDQogICAgICB0aGlzLnBkQWNjRmVlQ29kZSA9ICcnDQogICAgICB0aGlzLnBkQWNjQ2FwSW5mQ29kZSA9ICcnDQogICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUNvZGUgPSAnJw0KICAgIH0sDQogICAgaW5pdEFjY0ZlZU9yZGVyVmFsKCkgew0KICAgICAgdGhpcy5mb3JtX2FjY291bnRfZmVlLnBkQWNjRmVlT3JkZXIgPSAxDQogICAgICBpZiAodGhpcy5zZWxlY3RlZEFjY291bnQuZmVlQ291bnQgIT0gbnVsbCAmJiB0aGlzLnNlbGVjdGVkQWNjb3VudC5mZWVDb3VudCAhPT0gMCkgew0KICAgICAgICBsZXQgZmVlT3JkZXJzID0gdGhpcy5fLm1hcCh0aGlzLmFjY0ZlZVRhYmxlTGlzdCwgJ3BkQWNjRmVlT3JkZXInKQ0KICAgICAgICB0aGlzLmZvcm1fYWNjb3VudF9mZWUucGRBY2NGZWVPcmRlciA9IHRoaXMuXy5tYXgoZmVlT3JkZXJzKSArIDENCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAolEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/account-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': this.showPageFlag === '1' }\"></div>\r\n    <!-- 产品信息 -->\r\n    <cus-product-info></cus-product-info>\r\n\r\n    <!-- 快捷定义 -->\r\n    <cus-condition :disabled=\"!!accountCode\" :label=\"$t('pdtempPdAcc.quick_def')\"\r\n                   @show=\"quickshow=!quickshow\"></cus-condition>\r\n\r\n    <div v-if=\"quickshow\">\r\n      <cus-form-title :label=\"$t('pdtempPdAcc.accquickdef')\"></cus-form-title>\r\n      <el-form ref=\"form_quick\" :model=\"params_quick\" :rules=\"rules_quick\" label-width=\"auto\">\r\n        <el-row :gutter=\"10\">\r\n          <cus-col :span=\"7\">\r\n            <el-form-item :label=\"$t('applyAudit.pdDetailType')\">\r\n              <cus-select v-model=\"params_quick.pdRegionType\" :codetype=\"'ProductCategory'\" clearable filterable\r\n                          @change=\"selectedDetailTypeChanged\">\r\n              </cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"7\">\r\n            <el-form-item :label=\"$t('ProductAttributeDefinition.referenceProducts')\">\r\n              <el-select v-model=\"params_quick.selectPdId\" clearable\r\n                         filterable>\r\n                <el-option v-for=\"product in productList\" :key=\"product.id\" :label=\"product.pdCode+':'+product.pdName\"\r\n                           :value=\"product.id\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdAcc.accounttype')\">\r\n              <cus-cascader :codetype=\"'accounttype'\" clearable @change=\"getReferenceAccountList\"></cus-cascader>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item :label=\"$t('pdtempPdAcc.pdaccname')\" prop=\"pdAccName\">\r\n              <el-input v-model=\"params_quick.pdAccName\" clearable></el-input>\r\n            </el-form-item>\r\n\r\n          </el-col>\r\n          <cus-btn-wrapper>\r\n            <el-button v-auth=\"'select:AllPdAccount'\" icon=\"el-icon-search\" size=\"small\"\r\n                       type=\"primary\" @click=\"handleSearchInAllAcc\">\r\n              {{ $t('table.search') }}\r\n            </el-button>\r\n          </cus-btn-wrapper>\r\n        </el-row>\r\n      </el-form>\r\n      <cus-table-title :label=\"$t('pdtempPdAcc.pdtemppdacc')\"></cus-table-title>\r\n      <el-table :data=\"quickTableData\" border element-loading-text=\"Loading\" fit\r\n                highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('pageAccount', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" type=\"expand\">\r\n          <template slot-scope=\"props\">\r\n            <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n\r\n              <el-form-item :label=\"$t('pdtempPdAcc.accfintype')\">\r\n                <span>{{ props.row.accFinType | filter_accFinType }}</span>\r\n              </el-form-item>\r\n\r\n              <el-form-item :label=\"$t('pdtempPdAcc.accinvesttype')\">\r\n                <span>{{ props.row.accInvestType | filter_accInvestType }}</span>\r\n              </el-form-item>\r\n\r\n              <el-form-item :label=\"$t('pdtempPdAcc.acccreplace')\">\r\n                <span>{{ props.row.accCrtDate }}</span>\r\n              </el-form-item>\r\n\r\n              <el-form-item :label=\"$t('pdtempPdAcc.acccrtdate')\">\r\n                <span>{{ props.row.accCrePlace | filter_accCrePlace }}</span>\r\n              </el-form-item>\r\n\r\n              <el-form-item :label=\"$t('pdtempPdAcc.accdealday')\">\r\n                <span>{{ props.row.accDealDay }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.accdealinstmode')\">\r\n                <span>{{ props.row.accDealInstMode | filter_accDealInstMode }}</span>\r\n              </el-form-item>\r\n\r\n              <el-form-item>\r\n                <el-button size=\"small\" type=\"text\" @click=\"showAccountFee(props.row)\">\r\n                  {{ $t('pdtempPdAcc.pdAccDetail') }}\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdacccode')\" align=\"center\"\r\n                         prop=\"accountCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdaccname')\" align=\"center\" prop=\"accountName\">\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.accounttype')\" align=\"center\" prop=\"accountType\">\r\n          <template v-slot=\"scope\">{{ scope.row.accountType | filter_accountType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.found')\" align=\"center\" prop=\"accFundFlag\">\r\n        </el-table-column>\r\n\r\n        <el-table-column :label=\"$t('pdtempPdAcc.accountowner')\" align=\"center\" prop=\"accountOwner\">\r\n          <template v-slot=\"scope\">{{ scope.row.accountOwner | filter_accountOwner }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.accountcurrency')\" align=\"center\" prop=\"accountCurrency\">\r\n          <template v-slot=\"scope\">{{ scope.row.accountCurrency | filter_currency }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.accdealfreq')\" align=\"center\" prop=\"accDealFreq\">\r\n          <template v-slot=\"scope\">{{ scope.row.accDealFreq | filter_danwei }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdInsuAgeInfo.operation')\" align=\"center\" width=\"150px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-auth=\"'pdtemp-pd-prem:copyPremium'\" size=\"small\" type=\"primary\"\r\n                       @click=\"copyPremiumToCurrentProduct(scope.row)\"><i\r\n              class=\"el-icon-document-copy\"></i>{{ $t('pdtempPdAcc.copyAccout') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"pageAccount\" v-model=\"quickTableData\" :pageSize=\"10\" :params=\"params_quick\"\r\n                      url=\"/pdtemp-pd-acc/base/AllPdAccount\"/>\r\n    </div>\r\n    <br/>\r\n\r\n    <!-- 产品账户表格 -->\r\n    <div id=\"table_def\">\r\n      <cus-table-title :label=\"$t('pdtempPdAcc.productAccount')\"></cus-table-title>\r\n      <div v-if=\"form_combination.accfee\">\r\n        <el-table ref=\"singleTable\" :data=\"configs\" border element-loading-text=\"Loading\" highlight-current-row\r\n                  size=\"mini\" @row-click=\"rowClickselectedAccount\">\r\n          <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedAccount\" @change=\"selectedAccountChanged\">\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.pdacccode')\" align=\"center\" prop=\"pdAccCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.pdaccname')\" align=\"center\" prop=\"pdAccName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.accounttype')\" align=\"center\" prop=\"pdAccountType\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdAccountType | filter_accountType }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.accountowner')\" align=\"center\" prop=\"pdAccountOwner\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdAccountOwner | filter_accountOwner }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.accountcurrency')\" align=\"center\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdAccountCurrency | filter_currency }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.accdealfreq')\" align=\"center\" prop=\"pdAccDealFreq\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.pdAccDealFreq | filter_accDealFreq }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.pdaccfeecount')\" align=\"center\" prop=\"feeCount\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.accinvestcount')\" align=\"center\" prop=\"fundCount\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.capInCount')\" align=\"center\" prop=\"capInCount\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdAcc.capOutCount')\" align=\"center\" prop=\"capOutCount\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.operation')\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-del-btn v-auth=\"'delete:accountDelete'\" @ok=\"accountDelete(scope.row)\"></cus-del-btn>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n\r\n    <!--tab页面-->\r\n    <div style=\"margin-top: 20px\">\r\n      <el-tabs v-model=\"activatedName\" type=\"border-card\" @tab-click=\"tabClick\">\r\n        <!--产品账户定义-->\r\n        <el-tab-pane :label=\"$t('pdtempPdAcc.account_menu')\" name=\"account\">\r\n          <!-- 账户结构定义 -->\r\n          <cus-form-title :label=\"$t('pdtempPdAcc.AccountStructureDefinition')\"></cus-form-title>\r\n          <el-form ref=\"form_account\" :model=\"form_account\" :rules=\"form_account_rules\" label-width=\"130px\">\r\n            <el-row :gutter=\"3\" type=\"flex\">\r\n              <el-col :span=\"8\">\r\n                <el-form-item :label=\"$t('pdgenlAccount.accountType')\" prop=\"pdAccountType\">\r\n                  <cus-cascader v-model=\"form_account.pdAccountType\" :codetype=\"'accounttype'\"\r\n                                @change=\"afterSelectAccountType\"></cus-cascader>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"16\">\r\n                <el-form-item :label=\"$t('pdgenlAccount.accountName')\" prop=\"pdAccName\">\r\n                  <el-input v-model=\"form_account.pdAccName\" :placeholder=\"$t('pdgenlAccount.accountName')\"\r\n                            clearable></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row justify=\"center\" type=\"flex\">\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accFinType')\">\r\n                  <cus-radio v-model=\"form_account.pdAccFinType\" :codetype=\"'accFinType'\" disabled></cus-radio>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accountOwner')\" prop=\"pdAccountOwner\">\r\n                  <cus-radio v-model=\"form_account.pdAccountOwner\" :codetype=\"'accountOwner'\"\r\n                             :isRequired=\"true\"></cus-radio>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accInvestType')\" prop=\"pdAccInvestType\">\r\n                  <el-col>\r\n                    <cus-select v-model=\"form_account.pdAccInvestType\" :codetype=\"'accinvtype'\"></cus-select>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row justify=\"center\" type=\"flex\">\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accountCurrency')\" prop=\"pdAccountCurrency\">\r\n                  <el-col>\r\n                    <cus-select v-model=\"form_account.pdAccountCurrency\" :codetype=\"'productCurrency'\"></cus-select>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accCrePlace')\" prop=\"pdAccCrePlace\">\r\n                  <el-col>\r\n                    <cus-select v-model=\"form_account.pdAccCrePlace\" :codetype=\"'accbuildpoint'\"></cus-select>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accCrtDate')\" prop=\"pdAccCrtDate\">\r\n                  <el-col>\r\n                    <div class=\"block\">\r\n                      <cus-select v-model=\"form_account.pdAccCrtDate\" :codetype=\"'accbuilddate'\"></cus-select>\r\n                    </div>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row justify=\"center\" type=\"flex\">\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accDealFreq')\" prop=\"pdAccDealFreq\">\r\n                  <el-col>\r\n                    <cus-select v-model=\"form_account.pdAccDealFreq\" :codetype=\"'settlementfrequency'\"></cus-select>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accDealDay')\" prop=\"pdAccDealDay\">\r\n                  <el-col>\r\n                    <el-input v-model=\"form_account.pdAccDealDay\" clearable>\r\n                      <template slot=\"suffix\">{{ $t('pdgenlAccount.day') }}</template>\r\n                    </el-input>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col>\r\n                <el-form-item :label=\"$t('pdgenlAccount.accDealInstMode')\" prop=\"pdAccDealInstMode\">\r\n                  <el-col>\r\n                    <cus-select v-model=\"form_account.pdAccDealInstMode\" :codetype=\"'calsetmet'\"></cus-select>\r\n                  </el-col>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n          </el-form>\r\n\r\n          <!--账户利率-->\r\n          <cus-form-title :label=\"$t('pdtempPdAcc.AccountSecurityInterestRateDefinition')\"></cus-form-title>\r\n          <cus-table-title :label=\"$t('pdtempPdAcc.pdaccountrate')\"></cus-table-title>\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <div v-if=\"form_combination.pdaccratede\" style=\"margin: 0 21px 0 1px\">\r\n              <el-table :data=\"listByProductAccount\" border element-loading-text=\"Loading\" highlight-current-row\r\n                        size=\"mini\" style=\" margin: 0 0 0 0\">\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50%\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum1')\" align=\"center\" width=\"160%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-date-picker v-model=\"scope.row.pdVailStartDate\" type=\"date\"></el-date-picker>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum2')\" align=\"center\" width=\"160%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-date-picker v-model=\"scope.row.pdVailEndDate\" type=\"date\"></el-date-picker>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum3')\" align=\"center\" width=\"150%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-input-number v-model=\"scope.row.pdAnnuRate\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\" size=\"mini\"></el-input-number>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum4')\" align=\"center\" width=\"150%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-input-number v-model=\"scope.row.pdMonRate\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\" size=\"mini\"></el-input-number>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum5')\" align=\"center\" width=\"150%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-input-number v-model=\"scope.row.pdDayRate\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\" size=\"mini\"></el-input-number>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"100%\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-button dialog-disable=\"disable\" size=\"mini\" type=\"danger\" @click=\"deleteRate(scope.row)\">-\r\n                    </el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <el-button dialog-disable=\"disable\" size=\"mini\" type=\"primary\" @click=\"addRate\">+</el-button>\r\n            </div>\r\n          </div>\r\n          <el-form label-width=\"160px\">\r\n            <el-form-item align=\"right\">\r\n              <el-button v-auth=\"'pdtemp-pd-acc:rate:addAll'\" :style=\"{ display: add}\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"addAccountAndRate\">{{ $t('table.save') }}\r\n              </el-button>\r\n              <el-button v-auth=\"'AccountAndRate:addAll'\" :style=\"{ display: update}\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"updateAccountAndRate\">{{ $t('table.update') }}\r\n              </el-button>\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"primary\"\r\n                         @click=\"resetAccountAndRate\">\r\n                {{ $t('pdgenlAccount.account_refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div>\r\n\r\n            <!--账户投资标的-->\r\n            <cus-form-title :display=\"pdAccFundList.length!==0\" :label=\"$t('pdtempPdAcc.accfoundde')\"\r\n                            :showArrow=\"true\"\r\n                            @show=\"form_combination.pdaccfoundde = !form_combination.pdaccfoundde\"/>\r\n            <div v-show=\"form_combination.pdaccfoundde\" style=\"margin: 0 25px 0 25px\">\r\n\r\n              <el-button dialog-disable=\"disable\" size=\"small\" type=\"primary\" @click=\"showGeneralFund\">\r\n                {{ $t('pdtempPdAcc.foundDeAssociate') }}\r\n              </el-button>\r\n              <!--已关联投资标的-->\r\n              <cus-table-title :label=\"$t('pdtempPdAcc.foundDeAssociatedList')\"/>\r\n              <el-table :data=\"pdAccFundList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                        style=\" margin: 0 0 0 0\">\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.discript')\" type=\"expand\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                      <el-form-item :label=\"$t('pdgenlFund.fundEnName')\">\r\n                        <span>{{ scope.row.fundEnName }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('pdgenlFund.fundCompName')\">\r\n                        <span>{{ scope.row.fundCompName }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('pdgenlFund.fundCurrency')\">\r\n                        <span>{{ scope.row.fundCurrency | filter_currency }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('pdgenlFund.fundState')\">\r\n                        <span>{{ scope.row.fundState | filter_fundState }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item :label=\"$t('pdgenlFund.fundStateValiDate')\">\r\n                        <span>{{ scope.row.fundStateValiDate }}</span>\r\n                      </el-form-item>\r\n                      <el-form-item>\r\n                        <el-button size=\"small\" type=\"text\" @click=\"showRelatedAccount(scope.row.id)\">\r\n                          {{ $t('pdtempPdAcc.cloum12') }}>>\r\n                        </el-button>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.foundname')\" align=\"center\"\r\n                                 prop=\"fundChName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.fundType')\" align=\"center\" prop=\"fundType\">\r\n                  <template v-slot=\"scope\">{{ scope.row.fundType | filter_fundType }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.fundRiskGrade')\" align=\"center\"\r\n                                 prop=\"fundRiskGrade\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.cloum17')\" align=\"center\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-input-number v-model=\"scope.row.fundInvestRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"120\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-button size=\"mini\" type=\"danger\" @click=\"deleteFund(scope.row)\">-</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </div>\r\n          <el-form>\r\n            <!--保存按钮-->\r\n            <el-form-item style=\"text-align: right;margin-top:10px\">\r\n              <el-button v-if=\"selectedAccount.id && selectedAccount.fundList.length=== 0\"\r\n                         v-auth=\"'pdtemp-pd-acc:fund:addAll'\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"handleSaveFund\">{{ $t('table.save') }}\r\n              </el-button>\r\n              <el-button v-if=\"selectedAccount.id && selectedAccount.fundList.length!== 0\"\r\n                         v-auth=\"'pdgenl-account:update'\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\" type=\"primary\" @click=\"handleSaveFund\">\r\n                {{ $t('pdgenlAccount.account_update') }}\r\n              </el-button>\r\n              <el-button v-if=\"selectedAccount.id\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-refresh el-icon--left\"\r\n                         size=\"small\" type=\"primary\"\r\n                         @click=\"initFund()\">\r\n                {{ $t('pdgenlAccount.account_refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        <!--产品账户费用定义-->\r\n        <el-tab-pane :disabled=\"disabled_tab\" :label=\"$t('pdgenlAccount.accFeeMenu')\" name=\"account_fee\">\r\n          <account-info :account=\"selectedAccount\"></account-info>\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <cus-table-title :label=\"$t('pdtempPdAcc.AccountCost')\"></cus-table-title>\r\n\r\n            <el-table ref=\"accFeeTable\" :data=\"accFeeTableList\" border element-loading-text=\"Loading\"\r\n                      highlight-current-row size=\"mini\" @row-click=\"rowClickaccFee\">\r\n              <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio-group v-model=\"accFee\" @change=\"selectedaccFeeTableChanged\">\r\n                    <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n                  </el-radio-group>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeOrder')\" align=\"center\" prop=\"pdAccFeeOrder\"\r\n                               width=\"80px\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCode')\" align=\"center\"\r\n                               prop=\"pdAccFeeCode\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeName')\" align=\"center\"\r\n                               prop=\"pdAccFeeName\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccItemType')\" align=\"center\" prop=\"pdAccItemType\">\r\n                <template v-slot=\"scope\">\r\n                  {{ scope.row.pdAccItemType | filter_pdAccItemType }}\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeDeduFreq')\" align=\"center\" prop=\"pdAccFeeDeduFreq\">\r\n                <template v-slot=\"scope\">\r\n                  {{ scope.row.pdAccFeeDeduFreq | filter_settlementfrequency }}\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\" align=\"center\" prop=\"pdAccFeeCalcMode\">\r\n                <template v-slot=\"scope\">\r\n                  {{ scope.row.pdAccFeeCalcMode | filter_costcalway }}\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                  <cus-del-btn v-auth=\"'delete:handleDeleteAccFee'\" @ok=\"handleDeleteAccFee(scope.row)\"></cus-del-btn>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n          <cus-form-title :label=\"$t('pdtempPdAcc.DefinitionOfAccountCharges')\"></cus-form-title>\r\n          <el-form ref=\"form_account_fee\" :model=\"form_account_fee\" :rules=\"form_account_fee_rules\" label-width=\"130px\">\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeOrder')\" prop=\"pdAccFeeOrder\">\r\n                  <el-input v-model.number=\"form_account_fee.pdAccFeeOrder\" :min=\"1\"\r\n                            :placeholder=\"$t('pdtempPdAcc.pdAccFeeOrder')\"\r\n                            clearable\r\n                            type=\"number\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccItemType')\" prop=\"pdAccItemType\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccItemType\" :codetype=\"'costprotype'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccItemType')\"\r\n                              @change=\"setPdAccFeeName\">\r\n                  </cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeType')\" prop=\"pdAccFeeType\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeType\" :codetype=\"'costattr'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeType')\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n\r\n            </el-row>\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"14\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeName')\" prop=\"pdAccFeeName\">\r\n                  <el-input v-model=\"form_account_fee.pdAccFeeName\" :placeholder=\"$t('pdtempPdAcc.pdAccFeeName')\"\r\n                            clearable></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"10\">\r\n\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduType')\" prop=\"pdAccFeeDeduType\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeDeduType\" :codetype=\"'costexptype'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeDeduType')\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n\r\n\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduFreq')\" prop=\"pdAccFeeDeduFreq\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeDeduFreq\" :codetype=\"'settlementfrequency'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeDeduFreq')\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n\r\n\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcType')\" prop=\"pdAccFeeCalcType\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeCalcType\" :codetype=\"'costcaltype'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeCalcType')\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row :gutter=\"10\">\r\n\r\n\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\" prop=\"pdAccFeeCalcMode\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeCalcMode\" :codetype=\"'costcalway'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\"\r\n                              @change=\"setFinalValOrFinalRatio\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col\r\n                :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeFinalVal')\" prop=\"pdAccFeeFinalVal\">\r\n                  <el-input v-model=\"form_account_fee.pdAccFeeFinalVal\" :disabled=\"finalValFlag\"\r\n                            :placeholder=\"$t('pdtempPdAcc.pdAccFeeFinalVal')\"\r\n                            clearable></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col\r\n                :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeFinalRatio')\" prop=\"pdAccFeeFinalRatio\">\r\n                  <el-input v-model.number=\"form_account_fee.pdAccFeeFinalRatio\" :disabled=\"finalRatioFlag\" :max=\"100\"\r\n                            :min=\"0\"\r\n                            :placeholder=\"$t('pdtempPdAcc.pdAccFeeFinalRatio')\"\r\n                            clearable\r\n                            type=\"number\">\r\n                    <template slot=\"suffix\">%</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeZeroFlag')\" prop=\"pdAccFeeZeroFlag\">\r\n                  <el-switch v-model=\"form_account_fee.pdAccFeeZeroFlag\"\r\n                             active-value=\"Y\" inactive-value=\"N\">\r\n                  </el-switch>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col v-show=\"form_account_fee.pdAccFeeCode===-1\" :span=\"7\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCode')\">\r\n                  <cus-select v-model=\"form_account_fee.pdAccFeeCode\" :codetype=\"'costcaltype'\"\r\n                              :placeholder=\"$t('pdtempPdAcc.pdAccFeeCode')\"></cus-select>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <el-form-item style=\"text-align: right\">\r\n              <el-button v-auth=\"'insert:addPdAccountFee'\" :style=\"{ display: accFeeAdd}\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"addPdAccountFee\">{{ $t('pdgenlAccount.account_save') }}\r\n              </el-button>\r\n              <el-button v-auth=\"'update:updatePdAccountFee'\" :style=\"{ display: accFeeUpdate}\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-success\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"updatePdAccountFee\">{{ $t('pdgenlAccount.account_update') }}\r\n              </el-button>\r\n              <el-button :style=\"{ display: accFeeResetForm}\" dialog-disable=\"disable\"\r\n                         icon=\"el-icon-refresh el-icon--left\"\r\n                         size=\"small\"\r\n                         type=\"primary\" @click=\"accFeeresetForm\">{{ $t('pdgenlAccount.account_refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          <cus-form-title :label=\"$t('pdtempPdAcc.accFeeFormula')\"></cus-form-title>\r\n          <el-form label-width=\"130px\">\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"8\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdFeeBillCode')\">\r\n                  <el-tag type=\"info\">{{ form_account_fee.pdAccFeeCode }}</el-tag>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item :label=\"$t('pdtempPdAcc.accFeeFormula')\">\r\n                  <el-input v-model=\"form_account_fee.pdAccFeeCalcCode\"\r\n                            :disabled=\"pdAccFeeCalcCodeFlag\"\r\n                            readonly>\r\n                    <svg-icon slot=\"suffix\" :style=\"{cursor: !pdAccFeeCalcCodeFlag ? 'pointer':'not-allowed'}\"\r\n                              icon-class=\"calc\"\r\n                              style=\"color: #606266;font-size: 18px\"\r\n                              @click=\"!pdAccFeeCalcCodeFlag && toFormulaDef(accFee, '33')\"/>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        <!--产品账户资金流入-->\r\n        <el-tab-pane :disabled=\"disabled_tab\" :label=\"$t('pdtempPdAcc.pdaccfouninflowdedine')\" name=\"inFlow\">\r\n          <!-- 产品账户信息 -->\r\n          <account-info :account=\"selectedAccount\"></account-info>\r\n          <!--该标签下公共部分表格-->\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <cus-table-title :label=\"$t('pdtempPdAcc.pdCapIn')\"></cus-table-title>\r\n            <div v-if=\"form_combination.pdaccfouninflowdedine\" style=\"margin: 0 21px 0 1px\">\r\n              <el-table :data=\"inFlowList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                        style=\" margin: 0 0 0 0\" @row-click=\"rowClickInFlow\">\r\n                <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-radio-group v-model=\"selectedInFlow\" @change=\"selectedInFlowChanged\">\r\n                      <span><el-radio :label=\"scope.row\">{{ '' }}</el-radio></span>\r\n                      <span v-if=\"selectedInFlow.id && scope.row.id && selectedInFlow.id === scope.row.id\"></span>\r\n                    </el-radio-group>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.foundinflowtype')\" align=\"center\" prop=\"pdAccCapItemType\"\r\n                                 sortable>\r\n                  <template slot-scope=\"scope\">{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.inflowcode')\" align=\"center\"\r\n                                 prop=\"pdAccCapItemCode\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.inflowname')\" align=\"center\"\r\n                                 prop=\"pdAccCapItemName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" align=\"center\" prop=\"pdAccCapInOutMode\">\r\n                  <template slot-scope=\"scope\">{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.feecount')\" align=\"center\" prop=\"feeCount\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{ scope.row.feeCount !== undefined ? scope.row.feeCount : 0 }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100\">\r\n                  <template slot-scope=\"scope\">\r\n                    <cus-del-btn v-auth=\"'pdtemp-pd-acc:inFlow:delete'\"\r\n                                 @ok=\"handleDeleteInFlow(scope.row,'I')\"></cus-del-btn>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </div>\r\n          <!--资金流入方式的单选按钮-->\r\n\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <el-form style=\"width: 98%\">\r\n              <el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdAcc.foundinflowtype')\">\r\n                  <el-radio-group v-model=\"inFlowType\" @change=\"inFlowTypeChanged\">\r\n                    <el-radio :disabled=\"Object.keys(selectedInFlow).length > 0 && inFlowType !== 'P'\" label=\"P\">\r\n                      {{ $t('pdtempPdAcc.paymentitems') }}\r\n                    </el-radio>\r\n                    <el-radio :disabled=\"Object.keys(selectedInFlow).length > 0 && inFlowType !== 'I'\" label=\"I\">\r\n                      {{ $t('pdtempPdAcc.returnsA') }}\r\n                    </el-radio>\r\n                    <el-radio :disabled=\"Object.keys(selectedInFlow).length > 0 && inFlowType !== 'S'\" label=\"S\">\r\n                      {{ $t('pdtempPdAcc.survivalGuaranteeItem') }}\r\n                    </el-radio>\r\n                    <el-radio :disabled=\"Object.keys(selectedInFlow).length > 0 && inFlowType !== 'C'\" label=\"C\">\r\n                      {{ $t('pdtempPdAcc.indemnityInsurance') }}\r\n                    </el-radio>\r\n                  </el-radio-group>\r\n                </el-form-item>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <!--缴费项-->\r\n          <div v-show=\"inFlowType==='P'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.DefinitionOfInflowContribution')\"></cus-form-title>\r\n            <el-form ref=\"form_inFlow\" :model=\"form_inFlow\" :rules=\"rules_formInflow\" label-width=\"120px\">\r\n              <el-row :gutter=\"10\">\r\n                <el-col :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.paymentitems')\">\r\n                    <el-select v-model=\"selectedPremiumCode\" :disabled=\"!!selectedInFlow.id\" clearable filterable\r\n                               @change=\"selectedPremiumCodeChanged\">\r\n                      <el-option\r\n                        v-for=\"premium in premiumOptionList\"\r\n                        :key=\"premium.id\"\r\n                        :label=\"premium.pdPremCode+':'+premium.pdPayName\"\r\n                        :value=\"premium.pdPremCode\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <cus-btn-wrapper>\r\n                  <el-button size=\"small\" type=\"text\" @click=\"toPremiumPage\">>></el-button>\r\n                </cus-btn-wrapper>\r\n                <el-col :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdPremType')\">\r\n                    <cus-select v-model=\"form_inFlow.pdPremType\" :codetype=\"'pdPremType'\"></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAddAmountType')\">\r\n                    <cus-radio v-model=\"form_inFlow.pdAddAmountType\" :codetype=\"'pdAddAmountType'\"></cus-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                <el-col :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" prop=\"\">\r\n                    <cus-select v-model=\"form_inFlow.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"7\" style=\"margin-left: 21px\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode1')\">\r\n                    <cus-radio v-model=\"form_inFlow.pdAccCapInOutMode1\" :changeMethod=\"setCapRatioAndCalcCode_P\"\r\n                               :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                <el-col v-if=\"form_inFlow.pdAccCapInOutMode1 === '1'\" :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutRatio')\" prop=\"\">\r\n                    <el-input-number v-model.number=\"form_inFlow.pdAccCapInOutRatio\" v-unit :max=\"100\"\r\n                                     :min=\"0\" :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col v-if=\"form_inFlow.pdAccCapInOutMode1 === '1'\" :span=\"7\" style=\"margin-left: 21px\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMaxRatio')\" prop=\"\">\r\n                    <el-input-number v-model=\"form_inFlow.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col v-if=\"form_inFlow.pdAccCapInOutMode1 === '1'\" :span=\"7\">\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMinRatio')\" prop=\"\">\r\n                    <el-input-number v-model=\"form_inFlow.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                     :precision=\"2\" :step=\"5\"\r\n                                     controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n\r\n              <el-form>\r\n                <el-form-item style=\"float: right\">\r\n                  <el-button v-if=\"!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                             icon=\"el-icon-success\"\r\n                             size=\"small\"\r\n                             type=\"primary\" @click=\"handleSaveInFlow_P\">{{ $t('table.save') }}\r\n                  </el-button>\r\n                  <el-button v-if=\"!!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                             icon=\"el-icon-success\"\r\n                             size=\"small\"\r\n                             type=\"primary\" @click=\"handleUpdateInFlow_P\">{{ $t('table.update') }}\r\n                  </el-button>\r\n                  <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                             @click=\"selectedInFlowChanged()\">\r\n                    {{ $t('tagsView.refresh') }}\r\n                  </el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n\r\n              <div v-if=\"form_inFlow.pdAccCapInOutMode1 === '2'\">\r\n                <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                <el-row :gutter=\"10\" style=\"margin-top: 10px\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                      <el-tag type=\"info\">{{ selectedInFlow.pdAccCapItemCode }}</el-tag>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                      <el-input v-model=\"form_inFlow.pdAccCapCalcCode\" readonly>\r\n                        <svg-icon slot=\"suffix\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                  @click=\"toFormulaDef(selectedInFlow, '34')\"/>\r\n                      </el-input>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n              </div>\r\n              <!--按钮-->\r\n\r\n            </el-form>\r\n          </div>\r\n          <!--收益项-->\r\n          <div v-show=\"inFlowType==='I'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.DefinitionOfInflowIncomeTerm')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_inFlow_I\" :rules=\"rules_formInflow_I\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.returnsA')\">\r\n                      <el-select v-model=\"pdAccCapInfCode\" :disabled=\"!!selectedInFlow.id\" clearable filterable\r\n                                 @change=\"bringInv\">\r\n                        <el-option\r\n                          v-for=\"item in invOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.pdInvCode+':'+item.pdInvName\"\r\n                          :value=\"item.pdInvCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-btn-wrapper>\r\n                    <el-button size=\"small\" type=\"text\" @click=\"toInvPage\">>></el-button>\r\n                  </cus-btn-wrapper>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.incomeguaranteeType')\" prop=\"accountName\">\r\n                      <cus-select v-model=\"form_inFlow_I.pdPremType\" :codetype=\"'pdinvtype'\" disabled></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" prop=\"\">\r\n                      <cus-select v-model=\"form_inFlow_I.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode1')\">\r\n                      <cus-radio v-model=\"form_inFlow_I.pdAccCapInOutMode1\" :changeMethod=\"setCapRatioAndCalcCode_I\"\r\n                                 :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col v-if=\"form_inFlow_I.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_I.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col v-if=\"form_inFlow_I.pdAccCapInOutMode1 === '1'\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_I.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_inFlow_I.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_I.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\" :step=\"5\"\r\n                                       controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n                <!--按钮-->\r\n                <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                  <el-form-item align=\"right\">\r\n                    <!--保存按钮-->\r\n                    <el-button v-if=\"!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleSaveInFlow_I\">{{ $t('table.save') }}\r\n                    </el-button>\r\n                    <el-button v-if=\"!!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleUpdateInFlow_I\">\r\n                      {{ $t('table.update') }}\r\n                    </el-button>\r\n                    <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                               @click=\"selectedInFlowChanged()\">\r\n                      {{ $t('tagsView.refresh') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n                </el-form>\r\n\r\n                <div v-if=\"form_inFlow_I.pdAccCapInOutMode1 === '2'\">\r\n                  <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                  <el-row style=\"margin-top: 10px\">\r\n                    <cus-col>\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                        <el-tag type=\"info\">{{ selectedInFlow.pdAccCapItemCode }}</el-tag>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                    <cus-col style=\"margin-left: 21px\">\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                        <el-input v-model=\"form_inFlow_I.pdAccCapCalcCode\" readonly>\r\n                          <svg-icon slot=\"suffix\" icon-class=\"calc\"\r\n                                    style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                    @click=\"toFormulaDef(selectedInFlow, '34')\"/>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n          <!--生存保障-->\r\n          <div v-show=\"inFlowType==='S'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.FlowIntoTheDefinitionOfSubsistenceSecurity')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_inFlow_S\" :rules=\"rules_formInflow_I\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                      <el-tag type=\"info\">{{ selectedInFlow.pdAccCapItemCode }}</el-tag>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.survivalGuaranteeItem')\">\r\n                      <el-select v-model=\"pdAccCapInfCode\" :disabled=\"!!selectedInFlow.id\" clearable filterable\r\n                                 @change=\"bringSrvl\">\r\n                        <el-option\r\n                          v-for=\"item in srvlBnftOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.pdBnftCode+':'+item.pdBnftName\"\r\n                          :value=\"item.pdBnftCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-btn-wrapper>\r\n                    <el-button size=\"small\" type=\"text\" @click=\"toBnftPage('srvl', 'in')\">>></el-button>\r\n                  </cus-btn-wrapper>\r\n\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.survivalGuaranteeType')\" prop=\"pdPremType\">\r\n                      <cus-select v-model=\"form_inFlow_S.pdPremType\" :codetype=\"'pdsbnftnjxl'\" disabled></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <el-col :span=\"7\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" prop=\"\">\r\n                      <cus-select v-model=\"form_inFlow_S.pdAccCapInOutMode\" :changeMethod=\"setCapRatioAndCalcCode_S\"\r\n                                  :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"7\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode1')\">\r\n                      <cus-radio v-model=\"form_inFlow_S.pdAccCapInOutMode1\"\r\n                                 :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n\r\n                  <cus-col v-if=\"form_inFlow_S.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_S.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\" :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col v-if=\"form_inFlow_S.pdAccCapInOutMode1 === '1'\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_S.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\" :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_inFlow_S.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_S.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\" :precision=\"2\"\r\n                                       :step=\"5\"\r\n                                       controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n                <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                  <!--保存按钮-->\r\n                  <el-form-item style=\"float: right\">\r\n                    <el-button v-if=\"!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleSaveInFlow_S\">\r\n                      {{ $t('table.save') }}\r\n                    </el-button>\r\n                    <el-button v-if=\"!!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleUpdateInFlow_S\">\r\n                      {{ $t('table.update') }}\r\n                    </el-button>\r\n                    <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                               @click=\"selectedInFlowChanged()\">\r\n                      {{ $t('tagsView.refresh') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n                </el-form>\r\n\r\n                <div v-if=\"form_inFlow_S.pdAccCapInOutMode1 === '2'\">\r\n                  <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                  <el-row style=\"margin-top: 10px\">\r\n                    <cus-col>\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                        <el-tag type=\"info\">{{ selectedInFlow.pdAccCapItemCode }}</el-tag>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n\r\n                    <cus-col style=\"margin-left: 21px\">\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                        <el-input v-model=\"form_inFlow_S.pdAccCapCalcCode\" readonly>\r\n                          <svg-icon slot=\"suffix\" icon-class=\"calc\"\r\n                                    style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                    @click=\"toFormulaDef(selectedInFlow, '34')\"/>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-form>\r\n\r\n            </div>\r\n          </div>\r\n          <!--赔付保障-->\r\n          <div v-show=\"inFlowType==='C'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.DefinitionOfInflowClaimsProtection')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_inFlow_C\" :rules=\"rules_formInflow_I\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.indemnityInsurance')\">\r\n                      <el-select v-model=\"pdAccCapInfCode\" :disabled=\"!!selectedInFlow.id\" clearable filterable\r\n                                 @change=\"bringClm\">\r\n                        <el-option\r\n                          v-for=\"item in clmBnftOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.pdBnftCode+':'+item.pdBnftName\"\r\n                          :value=\"item.pdBnftCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-btn-wrapper>\r\n                    <el-button size=\"small\" type=\"text\" @click=\"toBnftPage('clm', 'in')\">>></el-button>\r\n                  </cus-btn-wrapper>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.indemnityInsuranceType')\" prop=\"pdPremType\">\r\n                      <cus-select v-model=\"form_inFlow_C.pdPremType\" :codetype=\"'pdclmbnfttype2'\" disabled></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" prop=\"pdAccCapInOutMode\">\r\n                      <cus-select v-model=\"form_inFlow_C.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode1')\">\r\n                      <cus-radio v-model=\"form_inFlow_C.pdAccCapInOutMode1\" :changeMethod=\"setCapRatioAndCalcCode_C\"\r\n                                 :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col v-if=\"form_inFlow_C.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_C.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col v-if=\"form_inFlow_C.pdAccCapInOutMode1 === '1'\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_C.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col v-if=\"form_inFlow_C.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_inFlow_C.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\" :step=\"5\"\r\n                                       controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                  <el-form-item align=\"right\">\r\n                    <!--保存按钮-->\r\n                    <el-button v-if=\"!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleSaveInFlow_C\">{{ $t('table.save') }}\r\n                    </el-button>\r\n                    <el-button v-if=\"!!selectedInFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleUpdateInFlow_C\">\r\n                      {{ $t('table.update') }}\r\n                    </el-button>\r\n                    <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                               @click=\"selectedInFlowChanged()\">\r\n                      {{ $t('tagsView.refresh') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div v-if=\"form_inFlow_C.pdAccCapInOutMode1 === '2'\">\r\n                  <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                  <el-row style=\"margin-top: 10px\">\r\n                    <cus-col>\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                        <el-tag type=\"info\">{{ selectedInFlow.pdAccCapItemCode }}</el-tag>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n\r\n                    <cus-col style=\"margin-left: 21px\">\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                        <el-input v-model=\"form_inFlow_C.pdAccCapCalcCode\" readonly>\r\n                          <svg-icon slot=\"suffix\" icon-class=\"calc\"\r\n                                    style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                    @click=\"toFormulaDef(selectedInFlow, '34')\"/>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-form>\r\n              <!--按钮-->\r\n\r\n            </div>\r\n          </div>\r\n          <br/>\r\n\r\n\r\n          <!-- 费用 -->\r\n          <div v-if=\"!!selectedInFlow.id\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.inFlowFeeDef')\"/>\r\n            <div v-if=\"form_combination.pdaccfouninflowdedine\" style=\"margin: 0 25px 0 25px\">\r\n              <cus-table-title :label=\"$t('pdtempPdAcc.pdtemppdaccInFee')\"></cus-table-title>\r\n              <el-table :data=\"pdAccountFeeCapInList\" border element-loading-text=\"Loading\"\r\n                        highlight-current-row size=\"mini\" style=\" margin: 0 0 0 0\"\r\n                        @row-click=\"rowClickselectedPdAccountFee\">\r\n                <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-radio-group v-model=\"selectedPdAccountFee\" @change=\"selectedPdAccountFeeChange\">\r\n                      <span><el-radio :label=\"scope.row\">{{ '' }}</el-radio></span>\r\n                    </el-radio-group>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.AccountCostCode')\" align=\"center\"\r\n                                 prop=\"pdAccFeeCode\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.AccountCostName')\" align=\"center\"\r\n                                 prop=\"pdAccFeeName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeDeduOrder')\" align=\"center\"\r\n                                 prop=\"pdAccFeeDeduOrder\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.feedeductiontime')\" align=\"center\"\r\n                                 prop=\"pdAccFeeDeduTime\">\r\n                  <template v-slot=\"scope\">\r\n                    {{ scope.row.pdAccFeeDeduTime | filter_pdAccFeeDeduTime }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\" align=\"center\"\r\n                                 prop=\"pdAccFeeFinalVal\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\" align=\"center\"\r\n                                 prop=\"pdAccFeeFinalRatio\">\r\n                  <template v-slot=\"scope\">\r\n                    {{ scope.row.pdAccFeeFinalRatio | filter_Ratio }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCalcCode')\" align=\"center\"\r\n                                 prop=\"pdCalcCode\"></el-table-column>\r\n\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\">\r\n                  <template v-slot=\"scope\">\r\n                    <cus-del-btn @ok=\"deleteAccFee(scope.row, 'I')\"></cus-del-btn>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <br>\r\n            <!-- 资金流入项费用定义form -->\r\n            <el-form ref=\"form_pdAccCapIn_Fee\" :model=\"form_pdAccCapIn_Fee\" :rules=\"form_pdAccCapIn_Fee_rules\"\r\n                     label-width=\"120px\">\r\n              <el-row :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInf')\" prop=\"pdAccFeeCalcMode\">\r\n                    <el-input v-model=\"selectedInFlow.pdAccCapItemCode\" disabled readonly></el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFee')\" prop=\"pdAccFeeId\">\r\n                    <el-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeId\" clearable filterable\r\n                               @change=\"selectAccountItem\">\r\n                      <el-option\r\n                        v-for=\"item in accFeeOptionList\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.pdAccFeeCode+':'+item.pdAccFeeName\"\r\n                        :value=\"item.id\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\" prop=\"pdAccFeeCalcMode\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeCalcMode\" :codetype=\"'costcalway'\" :disabled=\"true\"\r\n                                :placeholder=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduOrder')\" prop=\"pdAccFeeDeduOrder\">\r\n                    <el-input v-model=\"form_pdAccCapIn_Fee.pdAccFeeDeduOrder\"></el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduTime')\" prop=\"pdAccFeeDeduTime\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeDeduTime\"\r\n                                :codetype=\"'pdAccFeeDeduTime'\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFirstFeeDeduDay')\"\r\n                                prop=\"pdAccFirstFeeDeduDay\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFirstFeeDeduDay\"\r\n                                :codetype=\"'pdAccFirstFeeDeduDay'\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row v-if=\"capFeeFinalValFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\" prop=\"pdAccFeeFinalVal\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalVal\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\" :precision=\"2\"\r\n                                     :step=\"1\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeFinalMaxVal')\"\r\n                                prop=\"pdAccFeeFinalMaxVal\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalMaxVal\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccFeeFinalMaxVal')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"1\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row v-if=\"capFeeFinalRatioFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\"\r\n                                prop=\"pdAccFeeFinalRatio\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalRatio\" v-unit :max=\"100\"\r\n                                     :min=\"0\" :placeholder=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeMaxFinalRatio')\"\r\n                                prop=\"pdAccFeeMaxFinalRatio\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccFeeMaxFinalRatio')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\"\r\n                                     controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row v-if=\"capFeeCalcCodeFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcCode')\" prop=\"pdCalcCode\">\r\n                    <el-input v-model=\"form_pdAccCapIn_Fee.pdCalcCode\" readonly>\r\n                      <svg-icon slot=\"suffix\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                @click=\"toFormulaDef(selectedPdAccountFee, '66')\"/>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n            </el-form>\r\n            <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n              <el-form-item align=\"right\">\r\n                <!--按钮-->\r\n                <el-button v-if=\"!selectedPdAccountFee.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                           dialog-disable=\"disable\"\r\n                           icon=\"el-icon-success\"\r\n                           size=\"small\"\r\n                           type=\"primary\" @click=\"handleSavePdAccCapIn_Fee('I')\">{{ $t('table.save') }}\r\n                </el-button>\r\n                <el-button v-if=\"selectedPdAccountFee.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                           dialog-disable=\"disable\"\r\n                           icon=\"el-icon-success\"\r\n                           size=\"small\"\r\n                           type=\"primary\" @click=\"handleUpdatePdAccCapIn_Fee('I')\">{{\r\n                    $t('table.update')\r\n                  }}\r\n                </el-button>\r\n                <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                           @click=\"refreshPdAccCapFee\">{{\r\n                    $t('tagsView.refresh')\r\n                  }}\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </el-tab-pane>\r\n        <!--产品账户资金流出-->\r\n        <el-tab-pane :disabled=\"disabled_tab\" :label=\"$t('pdtempPdAcc.pdaccfounoutdedine')\" name=\"outFlow\">\r\n          <!-- 产品账户信息 -->\r\n          <account-info :account=\"selectedAccount\"></account-info>\r\n          <!--该标签下公共部分表格-->\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <cus-table-title :label=\"$t('pdtempPdAcc.pdCapOut')\"></cus-table-title>\r\n            <div v-if=\"form_combination.pdaccfouninflowdedine\" style=\"margin: 0 21px 0 1px\">\r\n              <el-table :data=\"outFlowList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                        style=\" margin: 0 0 0 0\" @row-click=\"rowClickselectedOutFlow\">\r\n                <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-radio-group v-model=\"selectedOutFlow\" @change=\"selectedOutFlowChanged\">\r\n                      <span><el-radio :label=\"scope.row\">{{ '' }}</el-radio></span>\r\n                    </el-radio-group>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapOutmethod')\" align=\"center\" prop=\"pdAccCapItemType\"\r\n                                 sortable>\r\n                  <template slot-scope=\"scope\">{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.outflowcode')\" align=\"center\"\r\n                                 prop=\"pdAccCapItemCode\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.outflowname')\" align=\"center\"\r\n                                 prop=\"pdAccCapItemName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\" align=\"center\" prop=\"pdAccCapInOutMode\">\r\n                  <template slot-scope=\"scope\">{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.feecount')\" align=\"center\" prop=\"feeCount\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{ scope.row.feeCount !== undefined ? scope.row.feeCount : 0 }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100\">\r\n                  <template slot-scope=\"scope\">\r\n                    <cus-del-btn v-auth=\"'pdtemp-pd-acc:inFlow:delete'\"\r\n                                 @ok=\"handleDeleteInFlow(scope.row,'O')\"></cus-del-btn>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </div>\r\n          <!--资金流出方式的单选按钮-->\r\n          <div style=\"margin: 0 25px 0 25px\">\r\n            <el-form style=\"width: 98%\">\r\n              <el-form-item>\r\n                <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutmethod')\">\r\n                  <el-radio-group v-model=\"outFlowType\" @change=\"outFlowTypeChanged\">\r\n                    <el-radio :disabled=\"Object.keys(selectedOutFlow).length > 0 && outFlowType !== 'S'\" label=\"S\">\r\n                      {{ $t('pdtempPdAcc.survivalGuaranteeItem') }}\r\n                    </el-radio>\r\n                    <el-radio :disabled=\"Object.keys(selectedOutFlow).length > 0 && outFlowType !== 'C'\" label=\"C\">\r\n                      {{ $t('pdtempPdAcc.indemnityInsurance') }}\r\n                    </el-radio>\r\n                    <el-radio :disabled=\"Object.keys(selectedOutFlow).length > 0 && outFlowType !== 'PA'\" label=\"PA\">\r\n                      {{ $t('pdtempPdAcc.policySpecificItems') }}\r\n                    </el-radio>\r\n                  </el-radio-group>\r\n                </el-form-item>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <!--生存保障-->\r\n          <div v-show=\"outFlowType==='S'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.FlowOuttoTheDefinitionOfSubsistenceSecurity')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_outFlow_S\" :rules=\"rules_formOutflow_S\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.survivalGuaranteeItem')\">\r\n                      <el-select v-model=\"pdAccCapOutfCode\" :disabled=\"!!selectedOutFlow.id\" clearable filterable\r\n                                 @change=\"bringSrvlBnft\">\r\n                        <el-option\r\n                          v-for=\"item in srvlBnftOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.pdBnftCode+':'+item.pdBnftName\"\r\n                          :value=\"item.pdBnftCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-btn-wrapper>\r\n                    <el-button size=\"small\" type=\"text\" @click=\"toBnftPage('srvl','out')\">>></el-button>\r\n                  </cus-btn-wrapper>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.survivalGuaranteeType')\" prop=\"accountName\">\r\n                      <cus-select v-model=\"form_outFlow_S.pdPremType\" :codetype=\"'pdsbnftnjxl'\" disabled></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\" prop=\"\">\r\n                      <cus-select v-model=\"form_outFlow_S.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode1')\">\r\n                      <cus-radio v-model=\"form_outFlow_S.pdAccCapInOutMode1\"\r\n                                 :changeMethod=\"setCapRatioAndCalcCode_Out_S\"\r\n                                 :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col v-if=\"form_outFlow_S.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_S.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_outFlow_S.pdAccCapInOutMode1 === '1'\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_S.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_outFlow_S.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_S.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n                <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                  <!--保存按钮-->\r\n                  <el-form-item style=\"float: right\">\r\n                    <el-button v-if=\"!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleSaveOutFlow_S\">\r\n                      {{ $t('table.save') }}\r\n                    </el-button>\r\n                    <el-button v-if=\"!!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleUpdateOutFlow_S\">\r\n                      {{ $t('table.update') }}\r\n                    </el-button>\r\n                    <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                               @click=\"selectedOutFlowChanged()\">\r\n                      {{ $t('tagsView.refresh') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n                </el-form>\r\n\r\n\r\n                <div v-if=\"form_outFlow_S.pdAccCapInOutMode1 === '2'\">\r\n                  <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                  <el-row :gutter=\"10\" style=\"margin-top: 10px\">\r\n                    <cus-col>\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.outflowcode')\">\r\n                        <el-tag type=\"info\">{{ selectedOutFlow.pdAccCapItemCode }}</el-tag>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                    <cus-col style=\"margin-left: 21px\">\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                        <el-input v-model=\"form_outFlow_S.pdAccCapCalcCode\" readonly>\r\n                          <svg-icon slot=\"suffix\" icon-class=\"calc\"\r\n                                    style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                    @click=\"toFormulaDef(selectedOutFlow, '35')\"/>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n          <!--赔付保障-->\r\n          <div v-show=\"outFlowType==='C'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.DefinitionOfOutflowClaimsProtection')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_outFlow_C\" :rules=\"rules_formOutflow_C\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.indemnityInsurance')\">\r\n                      <el-select v-model=\"pdAccCapOutfCode\" :disabled=\"!!selectedOutFlow.id\" clearable filterable\r\n                                 @change=\"bringClmBnft\">\r\n                        <el-option\r\n                          v-for=\"item in clmBnftOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.pdBnftCode+':'+item.pdBnftName\"\r\n                          :value=\"item.pdBnftCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-btn-wrapper>\r\n                    <el-button size=\"small\" type=\"text\" @click=\"toBnftPage('clm', 'out')\">>></el-button>\r\n                  </cus-btn-wrapper>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.claimType')\" prop=\"accountName\">\r\n                      <cus-select v-model=\"form_outFlow_C.pdPremType\" :codetype=\"'pdclmbnfttype2'\"\r\n                                  disabled></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\" prop=\"\">\r\n                      <cus-select v-model=\"form_outFlow_C.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode1')\">\r\n                      <cus-radio v-model=\"form_outFlow_C.pdAccCapInOutMode1\"\r\n                                 :changeMethod=\"setCapRatioAndCalcCode_Out_C\"\r\n                                 :codetype=\"'pdclearingmethod'\"></cus-radio>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col v-if=\"form_outFlow_C.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_C.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\" :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_outFlow_C.pdAccCapInOutMode1 === '1'\" style=\"margin-left: 21px\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_C.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col v-if=\"form_outFlow_C.pdAccCapInOutMode1 === '1'\">\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_C.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n\r\n                <!--按钮-->\r\n                <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                  <el-form-item align=\"right\">\r\n                    <!--保存按钮-->\r\n                    <el-button v-if=\"!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleSaveOutFlow_C\">{{ $t('table.save') }}\r\n                    </el-button>\r\n                    <el-button v-if=\"!!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                               dialog-disable=\"disable\"\r\n                               icon=\"el-icon-success\"\r\n                               size=\"small\"\r\n                               type=\"primary\" @click=\"handleUpdateOutFlow_C\">\r\n                      {{ $t('table.update') }}\r\n                    </el-button>\r\n                    <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                               @click=\"selectedOutFlowChanged()\">\r\n                      {{ $t('tagsView.refresh') }}\r\n                    </el-button>\r\n                  </el-form-item>\r\n                </el-form>\r\n\r\n\r\n                <div v-if=\"form_outFlow_C.pdAccCapInOutMode1 === '2'\">\r\n                  <cus-form-title :label=\"$t('pdtempPdAcc.premiumCreditAccountFormulaDef')\"></cus-form-title>\r\n                  <el-row :gutter=\"10\" style=\"margin-top: 10px\">\r\n                    <cus-col>\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.outflowcode')\">\r\n                        <el-tag type=\"info\">{{ selectedOutFlow.pdAccCapItemCode }}</el-tag>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                    <cus-col style=\"margin-left: 21px\">\r\n                      <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                        <el-input v-model=\"form_outFlow_C.pdAccCapCalcCode\" readonly>\r\n                          <svg-icon slot=\"suffix\" icon-class=\"calc\"\r\n                                    style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                    @click=\"toFormulaDef(selectedOutFlow, '35')\"/>\r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </cus-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-form>\r\n\r\n            </div>\r\n          </div>\r\n          <!--保全项-->\r\n          <div v-show=\"outFlowType==='PA'\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.paOutDef')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfoundInguarantee\">\r\n              <el-form ref=\"form_inFlow\" :model=\"form_outFlow_PA\" :rules=\"rules_formOutflow_C\" label-width=\"120px\">\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.policySpecificItems')\">\r\n                      <el-select v-model=\"pdAccCapOutfCode\" :disabled=\"!!selectedOutFlow.id\" clearable filterable\r\n                                 @change=\"bringPdPa\">\r\n                        <el-option\r\n                          v-for=\"item in pdPaOptionList\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.paCode+':'+item.paName\"\r\n                          :value=\"item.paCode\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\" prop=\"\">\r\n                      <cus-select v-model=\"form_outFlow_PA.pdAccCapInOutMode\" :codetype=\"'pdAccInfMode'\"></cus-select>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n                <el-row :gutter=\"10\">\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_PA.pdAccCapInOutRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMaxRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_PA.pdAccInfMaxRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n\r\n                  <cus-col>\r\n                    <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMinRatio')\" prop=\"\">\r\n                      <el-input-number v-model=\"form_outFlow_PA.pdAccInfMinRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                       :placeholder=\"$t('pdtempPdAcc.placeholderNum')\"\r\n                                       :precision=\"2\"\r\n                                       :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                    </el-form-item>\r\n                  </cus-col>\r\n                </el-row>\r\n\r\n              </el-form>\r\n              <!--按钮-->\r\n              <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n                <el-form-item style=\"text-align: right\">\r\n                  <!--保存按钮-->\r\n                  <el-button v-if=\"!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                             icon=\"el-icon-success\"\r\n                             size=\"small\"\r\n                             type=\"primary\" @click=\"handleSaveOutFlow_PA\">{{ $t('table.save') }}\r\n                  </el-button>\r\n                  <el-button v-if=\"!!selectedOutFlow.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\" dialog-disable=\"disable\"\r\n                             icon=\"el-icon-success\"\r\n                             size=\"small\"\r\n                             type=\"primary\" @click=\"handleUpdateOutFlow_PA\">\r\n                    {{ $t('table.update') }}\r\n                  </el-button>\r\n                  <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                             @click=\"selectedOutFlowChanged()\">\r\n                    {{ $t('tagsView.refresh') }}\r\n                  </el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n          <br/>\r\n          <!-- 费用 -->\r\n          <div v-if=\"!!selectedOutFlow.id\">\r\n            <cus-form-title :label=\"$t('pdtempPdAcc.outFlowFeeDef')\"></cus-form-title>\r\n            <div v-if=\"form_combination.pdaccfouninflowdedine\" style=\"margin: 0 25px 0 25px\">\r\n              <cus-table-title :label=\"$t('pdtempPdAcc.pdtemppdaccInFee')\"></cus-table-title>\r\n              <el-table :data=\"pdAccountFeeCapOutList\" border element-loading-text=\"Loading\" highlight-current-row\r\n                        size=\"mini\" style=\" margin: 0 0 0 0\" @row-click=\"rowClickselectedPdAccountFee\">\r\n                <el-table-column :label=\"$t('pdtempPdAcc.choose')\" align=\"center\" width=\"50\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-radio-group v-model=\"selectedPdAccountFee\" @change=\"selectedPdAccountFeeChange\">\r\n                      <span><el-radio :label=\"scope.row\">{{ '' }}</el-radio></span>\r\n                    </el-radio-group>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('table.id')\" type=\"index\" width=\"50px\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.AccountCostCode')\" align=\"center\"\r\n                                 prop=\"pdAccFeeCode\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.AccountCostName')\" align=\"center\"\r\n                                 prop=\"pdAccFeeName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeOrder')\" align=\"center\"\r\n                                 prop=\"pdAccFeeDeduOrder\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.feedeductiontime')\" align=\"center\" prop=\"pdAccFeeDeduTime\">\r\n                  <template v-slot=\"scope\">\r\n                    {{ scope.row.pdAccFeeDeduTime | filter_pdAccFeeDeduTime }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\" align=\"center\"\r\n                                 prop=\"pdAccFeeFinalVal\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\" align=\"center\"\r\n                                 prop=\"pdAccFeeFinalRatio\">\r\n                  <template v-slot=\"scope\">\r\n                    {{ scope.row.pdAccFeeFinalRatio | filter_Ratio }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCalcCode')\" align=\"center\"\r\n                                 prop=\"pdCalcCode\"></el-table-column>\r\n\r\n                <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\">\r\n                  <template v-slot=\"scope\">\r\n                    <cus-del-btn @ok=\"deleteAccFee(scope.row, 'O')\"></cus-del-btn>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <br>\r\n            <!-- 资金流出项费用定义form -->\r\n            <el-form ref=\"form_pdAccCapIn_Fee\" :model=\"form_pdAccCapIn_Fee\" :rules=\"form_pdAccCapIn_Fee_rules\"\r\n                     label-width=\"130px\">\r\n              <el-row :gutter=\"10\">\r\n\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInf')\" prop=\"pdAccFeeCalcMode\">\r\n                    <el-input v-model=\"selectedOutFlow.pdAccCapItemCode\" disabled readonly></el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFee')\" prop=\"pdAccFeeId\">\r\n                    <el-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeId\" clearable filterable\r\n                               @change=\"selectAccountItem\">\r\n                      <el-option\r\n                        v-for=\"item in accFeeOptionList\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.pdAccFeeCode+':'+item.pdAccFeeName\"\r\n                        :value=\"item.id\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\" prop=\"pdAccFeeCalcMode\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeCalcMode\" :codetype=\"'costcalway'\" :disabled=\"true\"\r\n                                :placeholder=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduOrder')\" prop=\"pdAccFeeDeduOrder\">\r\n                    <el-input v-model=\"form_pdAccCapIn_Fee.pdAccFeeDeduOrder\"></el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeDeduTime')\" prop=\"pdAccFeeDeduTime\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFeeDeduTime\"\r\n                                :codetype=\"'pdAccFeeDeduTime'\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFirstFeeDeduDay')\"\r\n                                prop=\"pdAccFirstFeeDeduDay\">\r\n                    <cus-select v-model=\"form_pdAccCapIn_Fee.pdAccFirstFeeDeduDay\"\r\n                                :codetype=\"'pdAccFirstFeeDeduDay'\"></cus-select>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row v-if=\"capFeeFinalValFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\" prop=\"pdAccFeeFinalVal\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalVal\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccCapFeeFinalVal')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"1\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeFinalMaxVal')\"\r\n                                prop=\"pdAccFeeFinalMaxVal\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalMaxVal\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccFeeFinalMaxVal')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"1\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n              <el-row v-if=\"capFeeFinalRatioFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\" prop=\"pdAccFeeFinalRatio\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeFinalRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccCapFeeFinalRatio')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\" controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeMaxFinalRatio')\" prop=\"pdAccFeeMaxFinalRatio\">\r\n                    <el-input-number v-model=\"form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio\" v-unit :max=\"100\" :min=\"0\"\r\n                                     :placeholder=\"$t('pdtempPdAcc.pdAccFeeMaxFinalRatio')\"\r\n                                     :precision=\"2\"\r\n                                     :step=\"5\"\r\n                                     controls-position=\"right\"></el-input-number>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n\r\n              <el-row v-if=\"capFeeCalcCodeFlag\" :gutter=\"10\">\r\n                <cus-col>\r\n                  <el-form-item :label=\"$t('pdtempPdAcc.pdAccFeeCalcCode')\" prop=\"pdCalcCode\">\r\n                    <el-input v-model=\"form_pdAccCapIn_Fee.pdCalcCode\" readonly>\r\n                      <svg-icon slot=\"suffix\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                                @click=\"toFormulaDef(selectedPdAccountFee, '67')\"/>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </cus-col>\r\n              </el-row>\r\n            </el-form>\r\n            <el-form label-width=\"160px\" style=\"width:98%;margin: 20px 0 0 0\">\r\n              <el-form-item style=\"text-align: right\">\r\n                <!--按钮-->\r\n                <el-button v-if=\"!selectedPdAccountFee.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                           dialog-disable=\"disable\"\r\n                           icon=\"el-icon-success\"\r\n                           size=\"small\"\r\n                           type=\"primary\" @click=\"handleSavePdAccCapIn_Fee('O')\">{{ $t('table.save') }}\r\n                </el-button>\r\n                <el-button v-if=\"selectedPdAccountFee.id\" v-auth=\"'pdtemp-pd-acc:inFlow:addAll'\"\r\n                           dialog-disable=\"disable\"\r\n                           icon=\"el-icon-success\"\r\n                           size=\"small\"\r\n                           type=\"primary\" @click=\"handleUpdatePdAccCapIn_Fee('O')\">{{\r\n                    $t('table.update')\r\n                  }}\r\n                </el-button>\r\n                <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                           @click=\"refreshPdAccCapFee\">{{\r\n                    $t('tagsView.refresh')\r\n                  }}\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n\r\n    <!-- 页面弹窗部分 -->\r\n\r\n    <!-- 产品账户详情  账户基础  账户费用 账户流入流出项 -->\r\n    <el-dialog v-if=\"dialogVisible.accFee\" v-dialog-drag :visible.sync=\"dialogVisible.accFee\"\r\n               width=\"80%\" @close=\"changeDialogVisible_accFee\">\r\n\r\n\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdAcc.pdAccDetail')\"\r\n                           @backTo=\"changeDialogVisible_accFee\"></cus-page-title-back>\r\n\r\n      <!--账户基础信息 复用account-info出现问题 -->\r\n      <el-form style=\"margin: 10px 0 0 25px\">\r\n        <el-row justify=\"center\" type=\"flex\">\r\n          <el-col>\r\n            <el-form-item :label=\"$t('pdtempPdAcc.pdacc')\">\r\n              <el-tag type=\"info\">{{ quickAccountInfo.pdAccCode + ':' + quickAccountInfo.pdAccName }}</el-tag>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col>\r\n            <el-form-item :label=\"$t('pdtempPdAcc.accounttype')\">\r\n              <el-tag type=\"info\">{{ quickAccountInfo.pdAccountType | filter_accountType }}</el-tag>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n\r\n      <!--账户费用-->\r\n      <cus-table-title :label=\"$t('pdtempPdAcc.pdaccfee')\"></cus-table-title>\r\n      <el-table :data=\"quickDefAccountFeeList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                style=\" margin: 0 0 0 0\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCode')\" align=\"center\" prop=\"accFeeCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeName')\" align=\"center\" prop=\"accFeeName\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeOrder')\" align=\"center\" prop=\"accFeeOrder\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.feetype')\" align=\"center\" prop=\"accFeeType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accFeeType | filter_accFeeType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.feeitemtype')\" align=\"center\" prop=\"accItemType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accItemType | filter_accItemType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.feedeductiontype')\" align=\"center\" prop=\"accFeeDeduType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accFeeDeduType | filter_accFeeDeduType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeDeduFreq')\" align=\"center\" prop=\"accFeeDeduFreq\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accFeeDeduFreq | filter_accFeeDeduFreq }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCalcMode')\" align=\"center\" prop=\"accFeeCalcMode\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accFeeCalcMode | filter_accFeeCalcMode }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccFeeCalcType')\" align=\"center\" prop=\"accFeeCalcType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.accFeeCalcType | filter_accFeeCalcType }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n\r\n      <!--快捷定义账户流入项列表-->\r\n      <cus-table-title :label=\"$t('pdtempPdAcc.pdCapIn')\"></cus-table-title>\r\n      <el-table :data=\"quickDefInFlowList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                style=\" margin: 0 0 0 0\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.discript')\" type=\"expand\">\r\n          <template v-slot=\"scope\">\r\n            <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n              <el-form-item :label=\"$t('pdtempPdAcc.accFeeFormula')\">\r\n                <span>{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.inflowcode')\">\r\n                <span>{{ scope.row.pdAccCapItemCode }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.inflowname')\">\r\n                <span>{{ scope.row.pdAccCapItemName }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdPremType')\">\r\n                <span>{{ scope.row.pdPremType | filter_pdPremType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAddAmountType')\">\r\n                <span>{{ scope.row.pdAddAmountType | filter_pdAddAmountType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\">\r\n                <span>{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapInOutRatio')\">\r\n                <span>{{ scope.row.pdAccCapInOutRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMaxRatio')\">\r\n                <span>{{ scope.row.pdAccInfMaxRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccInfMinRatio')\">\r\n                <span>{{ scope.row.pdAccInfMinRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                <span>{{ scope.row.pdAccCapCalcCode }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.foundinflowtype')\" align=\"center\" prop=\"pdAccCapItemType\" sortable>\r\n          <template slot-scope=\"scope\">{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.inflowcode')\" align=\"center\" prop=\"pdAccCapItemCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.inflowname')\" align=\"center\" prop=\"pdAccCapItemName\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapInOutMode')\" align=\"center\" prop=\"pdAccCapInOutMode\">\r\n          <template slot-scope=\"scope\">{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.feecount')\" align=\"center\" prop=\"feeCount\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.feeCount !== undefined ? scope.row.feeCount : 0 }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!--快捷定义账户流出项列表-->\r\n      <cus-table-title :label=\"$t('pdtempPdAcc.pdCapOut')\"></cus-table-title>\r\n      <el-table :data=\"quickDefOutFlowList\" border element-loading-text=\"Loading\" highlight-current-row size=\"mini\"\r\n                style=\" margin: 0 0 0 0\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50px\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.discript')\" type=\"expand\">\r\n          <template v-slot=\"scope\">\r\n            <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutmethod')\">\r\n                <span>{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.premiumCode')\">\r\n                <span>{{ scope.row.pdAccCapItemCode }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.inflowname')\">\r\n                <span>{{ scope.row.pdAccCapItemName }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdPremType')\">\r\n                <span>{{ scope.row.pdPremType | filter_pdPremType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAddAmountType')\">\r\n                <span>{{ scope.row.pdAddAmountType | filter_pdAddAmountType }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\">\r\n                <span>{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapOutRatio')\">\r\n                <span>{{ scope.row.pdAccCapInOutRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMaxRatio')\">\r\n                <span>{{ scope.row.pdAccInfMaxRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccOutfMinRatio')\">\r\n                <span>{{ scope.row.pdAccInfMinRatio }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdtempPdAcc.pdAccCapCalcCode')\">\r\n                <span>{{ scope.row.pdAccCapCalcCode }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapOutmethod')\" align=\"center\" prop=\"pdAccCapItemType\" sortable>\r\n          <template slot-scope=\"scope\">{{ scope.row.pdAccCapItemType | filter_pdAccCapInfType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.outflowcode')\" align=\"center\"\r\n                         prop=\"pdAccCapItemCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.outflowname')\" align=\"center\"\r\n                         prop=\"pdAccCapItemName\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.pdAccCapOutMode')\" align=\"center\" prop=\"pdAccCapInOutMode\">\r\n          <template slot-scope=\"scope\">{{ scope.row.pdAccCapInOutMode | filter_pdAccInfMode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.feecount')\" align=\"center\" prop=\"feeCount\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.feeCount !== undefined ? scope.row.feeCount : 0 }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n\r\n      <!--<el-button  size=\"small\" @click=\"handleAccFeeMore\" align=\"left\" type=\"text\">更多</el-button>-->\r\n    </el-dialog>\r\n\r\n\r\n    <!-- 关联账户 -->\r\n    <el-dialog v-dialog-drag :visible.sync=\"dialogVisible.relatedAccount\" center width=\"60%\"\r\n               @close=\"dialogVisible.relatedAccount = false\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdAcc.foundDeAssociatedAccount')\"\r\n                           @backTo=\"dialogVisible.relatedAccount = false\"/>\r\n      <el-table ref=\"singleTable\" :data=\"configs_account\" border element-loading-text=\"Loading\" highlight-current-row\r\n                size=\"mini\" style=\" margin: 0 0 0 0\">\r\n        <el-table-column :label=\"$t('pdtempPdAcc.product1')\" align=\"center\">\r\n          <template v-slot=\"scope\">{{\r\n              scope.row.account_01.accountCode + ':' + scope.row.account_01.accountName\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdAcc.product2')\" align=\"center\">\r\n          <template v-slot=\"scope\">\r\n              <span v-if=\"scope.row.account_02\">\r\n                {{ scope.row.account_02.accountCode + ':' + scope.row.account_02.accountName }}\r\n              </span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n\r\n    <el-dialog v-if=\"dialogVisible.premium\" v-dialog-drag :visible.sync=\"dialogVisible.premium\" center title=\"缴费与加费\"\r\n               width=\"70%\">\r\n      <premium :premiumCode=\"selectedPremiumCode\"></premium>\r\n    </el-dialog>\r\n    <!-- 收益页面 -->\r\n    <el-dialog v-if=\"dialogVisible.inv\" v-dialog-drag :visible.sync=\"dialogVisible.inv\" center title=\"收益详情\" width=\"70%\">\r\n      <inv :invCode=\"selectedInvCode\"></inv>\r\n    </el-dialog>\r\n    <!-- 保障共用的父级页面 -->\r\n    <el-dialog v-if=\"benefit\" v-dialog-drag :visible.sync=\"benefit\" center title=\"赔付保障详情\"\r\n               width=\"70%\">\r\n      <benefit :pdBnft=\"selectedBnft\"></benefit>\r\n    </el-dialog>\r\n    <!-- 账户公式 -->\r\n    <el-dialog v-if=\"dialogVisible.formulaDef_accountFee\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :close-on-press-escape=\"false\"\r\n               :visible.sync=\"dialogVisible.formulaDef_accountFee\" center width=\"80%\">\r\n      <accountFeeFormula :bussObject=\"selectedBussObject\" :formulaType=\"formulaType\" @bringInCalcCode=\"bringInCalcCode\"\r\n                         @changeDialogVisible_formula=\"changeDialogVisible_formula\"></accountFeeFormula>\r\n    </el-dialog>\r\n\r\n    <!-- 弹窗（账户关联投资标的） -->\r\n    <el-dialog v-if=\"associateFund\"  :visible=\"associateFund\" center width=\"70%\">\r\n      <pdgenlfund :pdgenlfund=\"pdgenlfundData\"\r\n                  @changeDialogVisible_pdgenlfund=\"changeDialogVisible_pdgenlfund\"></pdgenlfund>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\nimport pdgenlfund from \"@/views/business-general-conf/pdgenlfund/index\"\r\nimport accountFeeFormula from \"@/views/basicinfo/account-fee-formula/accountFeeFormula\"\r\nimport formulaSelect from \"@/views/basicinfo/account-fee-formula/accountFeeFormulaSelect\"\r\nimport pdgenlaccount from \"@/views/general-config/gen-account-conf\"\r\nimport accountInfo from \"./accountInfo\"\r\nimport premium from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/index\"\r\nimport inv from \"@/views/product-definition/pd-framework-def/pd-structure-def/income-def/index\"\r\nimport benefit from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/index\"\r\n\r\nimport {\r\n  accountDeleteDef,\r\n  addAccountAndRate,\r\n  addAllFund,\r\n  addAllRInFlow,\r\n  addPdAccountFee,\r\n  deleteAccFee,\r\n  deleteInFlow,\r\n  findFundByAccountId,\r\n  generalDoubleAccountVoAll,\r\n  getPdtempPdBnftById,\r\n  handleDeleteAccFee,\r\n  initaccFeeTableList,\r\n  initCapInAndOutOptionsData,\r\n  initpdAccFeeCapIn,\r\n  insertPremiumToCurrentProduct,\r\n  listCapitalInflow,\r\n  listCapitalOutflow,\r\n  pdAccList,\r\n  pdAccRateAll,\r\n  queryQuickDefAccountDetail,\r\n  savePdAccCapInFee,\r\n  updateAccountAndRate,\r\n  updatePdAccountFee\r\n} from '@/api/basicinfo/pdtemppdacc'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'ProductAccountDefinition',\r\n  components: {\r\n    pdgenlaccount,\r\n    accountInfo,\r\n    premium,\r\n    inv,\r\n    benefit,\r\n    accountFeeFormula,\r\n    formulaSelect,\r\n    pdgenlfund\r\n  },\r\n  filters: {\r\n    filter_pdinvtype(code) {\r\n      return _this.getCodeName('pdinvtype', code)\r\n    },\r\n    filter_settlementfrequency(code) {\r\n      return _this.getCodeName('settlementfrequency', code)\r\n    },\r\n    filter_costcalway(code) {\r\n      return _this.getCodeName('costcalway', code)\r\n    },\r\n    filter_pdAccItemType(code) {\r\n      return _this.getCodeName('costprotype', code)\r\n    },\r\n    filter_getAccountType(code) {\r\n      if (code != null) {\r\n        return _this.getCascaderCodeName('accounttype', code);\r\n      }\r\n    },\r\n    filter_danwei(code) {\r\n      return _this.getCodeName('danwei', code)\r\n    },\r\n    filter_accountOwner(code) {\r\n      return _this.getCodeName('accountOwner', code)\r\n    },\r\n    filter_pdtemppdacctype(code) {\r\n      return _this.getCodeName('pdtemppdacctype', code)\r\n    },\r\n    filter_currency(code) {\r\n      return _this.getCodeName('productCurrency', code)\r\n    },\r\n    filter_accountType(code) {\r\n      return _this.getCodeName('accountTypeAll', code)\r\n    },\r\n    filter_accFinType(code) {\r\n      return _this.getCodeName('accFinType', code)\r\n    },\r\n    filter_accDealFreq(code) {\r\n      return _this.getCodeName('settlementfrequency', code)\r\n    },\r\n    filter_accInvestType(code) {\r\n      return _this.getCodeName('accinvtype', code)\r\n    },\r\n    filter_accCrePlace(code) {\r\n      return _this.getCodeName('accCrePlace', code)\r\n    },\r\n    filter_accCrtDate(code) {\r\n      return _this.getCodeName('accbuilddate', code)\r\n    },\r\n    filter_accCodeRule(code) {\r\n      return _this.getCodeName('accrules', code)\r\n    },\r\n    filter_accDealInstMode(code) {\r\n      return _this.getCodeName('calsetmet', code)\r\n    },\r\n    filter_fundType(code) {\r\n      return _this.getCodeName('invtargettype', code)\r\n    },\r\n    filter_fundState(code) {\r\n      return _this.getCodeName('invtargetstatus', code)\r\n    },\r\n    filter_pdSrvlBnftType(code) {\r\n      return _this.getCodeName('pdSrvlBnftType', code)\r\n    },\r\n    filter_pdAccCapInfType(code) {\r\n      return _this.getCodeName('pdAccCapInfType', code)\r\n    },\r\n    filter_pdPremType(code) {\r\n      return _this.getCodeName('pdPremType', code)\r\n    },\r\n    filter_pdAddAmountType(code) {\r\n      return _this.getCodeName('pdAddAmountType', code)\r\n    },\r\n    filter_pdAccInfMode(code) {\r\n      return _this.getCodeName('pdAccInfMode', code)\r\n    },\r\n    filter_accFeeType(code) {\r\n      return _this.getCodeName('accFeeType', code)\r\n    },\r\n    filter_accItemType(code) {\r\n      return _this.getCodeName('costprotype', code)\r\n    },\r\n    filter_accFeeDeduType(code) {\r\n      return _this.getCodeName('costexptype', code)\r\n    },\r\n    filter_accFeeDeduFreq(code) {\r\n      return _this.getCodeName('accFeeDeduFreq', code)\r\n    },\r\n    filter_accFeeCalcMode(code) {\r\n      return _this.getCodeName('accFeeCalcMode', code)\r\n    },\r\n    filter_accFeeCalcType(code) {\r\n      return _this.getCodeName('costcaltype', code)\r\n    },\r\n    filter_pdInvType(code) {\r\n      return _this.getCodeName('pdinvtype', code)\r\n    },\r\n    filter_pdAccFeeDeduTime(code) {\r\n      return _this.getCodeName('pdAccFeeDeduTime', code)\r\n    },\r\n    filter_Ratio(val) {\r\n      if (val) {\r\n        return (parseInt(val * 100) + '%')\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    accountCode: {\r\n      required: false,\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      productList: [],\r\n      productOriginalList: [],\r\n      pdAccCapOutfCode: '',\r\n      pdAccFeeCode: '',\r\n      pdAccFeeName: '',\r\n      pdAccCapInfCode: '',\r\n      accFeeAdd: '',\r\n      accFeeUpdate: 'none',\r\n      accFeeResetForm: '',\r\n      accFeeTableList: [],\r\n      pdAccountFeeCapList: [],\r\n      pdAccountFeeCapInList: [],\r\n      pdAccountFeeCapOutList: [],\r\n      accountFeeTable: [],\r\n      quickTableData: [],\r\n      update: 'none',\r\n      add: '',\r\n      showPageFlag: '0',\r\n      //快捷定义----\r\n      quickicon: \"el-icon-arrow-right\",\r\n      quickshow: false,\r\n      referenceProductList: [],\r\n      params_quick: {\r\n        pdAccName: '',\r\n        selectPdId: '',\r\n        pdRegionType: '',\r\n        accountType: '',\r\n      },\r\n      rules_quick: {\r\n        eq_pdInfoId: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pay_def.referenceProduct'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      //----快捷定义\r\n      product: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      //资金流入流出项费用form\r\n      form_pdAccCapIn_Fee: {\r\n        id: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdAccCapId: '',\r\n        pdAccId: '',\r\n        pdAccFeeId: '',\r\n        pdAccFeeDeduOrder: '',\r\n        pdAccFeeDeduTime: '',\r\n        pdAccFirstFeeDeduDay: '',\r\n        pdAccFeeFinalVal: '',\r\n        pdAccFeeFinalMaxVal: '',\r\n        pdAccFeeFinalRatio: '',\r\n        pdAccFeeMaxFinalRatio: '',\r\n        pdCalcCode: '',\r\n        pdAccCapCode: '',\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: '',\r\n        pdAccFeeCalcMode: ''\r\n      },\r\n      pdAccCapId: undefined,\r\n      selectedPdAccountFee: {},\r\n      form_pdAccCapIn_Fee_rules: {\r\n        pdAccFeeId: [{required: true, message: '请选择费用项', trigger: 'change'}],\r\n        pdAccFeeDeduOrder: [{required: true, message: '请填写费用扣除顺序', trigger: 'change'}],\r\n        pdAccFeeDeduTime: [{required: true, message: '请选择费用扣除时点', trigger: 'change'}],\r\n        pdAccFirstFeeDeduDay: [{required: true, message: '请选择首期费用扣除日', trigger: 'change'}],\r\n        pdAccFeeFinalVal: [{required: true, message: '请填写费用固定值', trigger: 'change'}],\r\n        pdAccFeeFinalMaxVal: [{required: true, message: '请填写费用固定值上限', trigger: 'change'}],\r\n        pdAccFeeFinalRatio: [{required: true, message: '请填写费用固定比例', trigger: 'change'}],\r\n        pdAccFeeMaxFinalRatio: [{required: true, message: '请填写费用固定比例上限', trigger: 'change'}]\r\n      },\r\n      //费用定义表格\r\n      form_account_fee: {\r\n        id: undefined,\r\n        pdVerId: undefined,\r\n        pdInfoId: undefined,\r\n        pdAccountId: undefined,\r\n        pdAccFeeOrder: undefined,\r\n        pdAccFeeFinalVal: undefined,\r\n        pdAccFeeFinalRatio: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdAccountCode: '',\r\n        pdAccountName: '',\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: '',\r\n        pdAccFeeType: '',\r\n        pdAccItemType: '',\r\n        pdAccFeeDeduType: '',\r\n        pdAccFeeDeduFreq: '',\r\n        pdAccFeeCalcMode: '',\r\n        pdAccFeeCalcType: '',\r\n        pdAccFeeZeroFlag: 'N',\r\n        pdAccFeeCalcCode: ''\r\n      },\r\n      //账户费用\r\n      selectedAccountFee: {},\r\n      form_account_fee_rules: {\r\n        pdAccItemType: {required: true, message: '请选择费用项目类型', trigger: 'change'},\r\n        pdAccFeeName: {required: true, message: '请输入费用名称', trigger: 'change'},\r\n        pdAccFeeOrder: {required: true, message: '请输入费用顺序', trigger: 'change'},\r\n        pdAccFeeType: {required: false, message: '请选择费用类型', trigger: 'change'},\r\n        pdAccFeeDeduType: {required: false, message: '请选择费用扣除类型', trigger: 'change'},\r\n        pdAccFeeFinalVal: {required: false, message: '请填写费用固定值', trigger: 'change'},\r\n        pdAccFeeFinalRatio: {required: false, message: '请填写费用固定比例', trigger: 'change'},\r\n        pdAccFeeDeduFreq: {required: false, message: '请选择费用扣除频率', trigger: 'change'},\r\n        pdAccFeeCalcMode: {required: true, message: '请选择费用计算方式', trigger: 'change'},\r\n        pdAccFeeCalcType: {required: false, message: '请选择费用计算类型', trigger: 'change'},\r\n        pdAccFeeZeroFlag: {required: false, message: '请选择费用是否可为零', trigger: 'change'}\r\n      },\r\n      rules: {},\r\n      pdgenlfundData: {},\r\n      //账户定义表格\r\n      form_account: {\r\n        id: undefined,\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccountType: [],\r\n        pdAccountDetType: '',\r\n        pdAccFinType: '1',\r\n        pdAccountOwner: '1',\r\n        pdAccInvestType: '',\r\n        pdAccountCurrency: '01',\r\n        pdAccCrePlace: '1',\r\n        pdAccCrtDate: '1',\r\n        pdAccCodeRule: '3',\r\n        pdAccDealFreq: '',\r\n        pdAccDealDay: '1',\r\n        pdAccDealInstMode: '',\r\n        pdAccFundFlag: 'N'\r\n      },\r\n      form_accountVo: {\r\n        id: undefined,\r\n        operator: '',\r\n        accountCode: '',\r\n        accountName: '',\r\n        accountType: '',\r\n        accFinType: '',\r\n        accountOwner: '',\r\n        accInvestType: '',\r\n        accountCurrency: '',\r\n        accCrePlace: '',\r\n        accCrtDate: '',\r\n        accCodeRule: '',\r\n        accDealFreq: '',\r\n        accDealDay: undefined,\r\n        accDealInstMode: '',\r\n        accFundFlag: '',\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        feeCount: undefined,\r\n        feeList: [],\r\n        fundCount: undefined,\r\n        fundList: []\r\n      },\r\n      form_financialIndex: {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdFinIndiAttr: '',\r\n        pdBussId: undefined,\r\n        pdBussCode: '',\r\n        pdFinIndiType: '',\r\n        pdRateCurr: '',\r\n        pdAnnuRate: undefined,\r\n        pdMonRate: undefined,\r\n        pdDayRate: undefined,\r\n        pdLevyFlag: '',\r\n        pdTaxRate: undefined,\r\n        pdMngCom: '',\r\n        pdVailStartDate: new Date(),\r\n        pdVailEndDate: '9999-12-31',\r\n        pdFinIndFeeType: '',\r\n        pdSuitFlag: '',\r\n        pdCalcId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_fundVo: {\r\n        id: undefined,\r\n        operator: '',\r\n        fundCode: '',\r\n        fundChName: '',\r\n        fundEnName: '',\r\n        fundCompName: '',\r\n        fundType: '',\r\n        fundRiskGrade: '',\r\n        fundCurrency: '',\r\n        fundState: '',\r\n        fundStateValiDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        fundInvestRatio: undefined\r\n      },\r\n      // 流入项缴费\r\n      form_inFlow: {\r\n        pdAccCapInOutRatio: '',\r\n        pdPremType: '',\r\n        pdAddAmountType: 'R',\r\n        pdAccCapInOutMode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccCapCalcCode: '',\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdAccId: undefined,\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccCapInfType: '',\r\n        pdAccCapInfDetail: '',\r\n        pdAccCapInfId: undefined,\r\n        pdAccCapInfCode: '',\r\n        pdAccCapInfName: '',\r\n        pdAccInfMode: '',\r\n        createTime: '',\r\n        updateTime: '',\r\n        feeCount: '',\r\n        feeList: [],\r\n        accountOwner: '',\r\n        formulaFlag: 'N'\r\n      },\r\n      // 流入项收益\r\n      form_inFlow_I: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      form_inFlow_S: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      form_inFlow_C: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      form_outFlow_C: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      form_outFlow_S: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      form_outFlow_PA: {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '1',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      },\r\n      calcFlag: false,\r\n      rules_formInflow_P: {},\r\n      rules_formInflow_I: {},\r\n      rules_formInflow_S: {},\r\n      rules_formInflow_C: {},\r\n      rules_formOutflow_S: {},\r\n      rules_formOutflow_C: {},\r\n      form_pdAccFee: {\r\n        id: undefined,\r\n        accountFeeId: undefined,\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      },\r\n      form_inFlowInv: {\r\n        id: undefined,\r\n        accountFeeId: undefined,\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      },\r\n      form_inFlowSrvl: {\r\n        id: undefined,\r\n        accountFeeId: undefined,\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      },\r\n      form_inFlowClm: {\r\n        id: undefined,\r\n        accountFeeId: undefined,\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      },\r\n      form_outFlow: {\r\n        id: undefined,\r\n        pdAccCapOutfType: '',\r\n        pdAccCapOutfId: undefined,\r\n        pdAccCapOutfCode: '',\r\n        pdAccCapOutfName: '',\r\n        pdAccOutfMode: '',\r\n        pdAccOutfRatio: undefined,\r\n        pdCalcId: undefined\r\n      },\r\n      showPdgenlFund: false,\r\n      form_srvlBnft: {\r\n        id: undefined,\r\n        pdSrvlBnftCode: '',\r\n        pdSrvlBnftName: '',\r\n        pdSrvlBnftType: ''\r\n      },\r\n      form_clmBnft: {\r\n        id: undefined,\r\n        pdClmBnftCode: '',\r\n        pdClmBnftName: '',\r\n        pdClmBnftType: ''\r\n      },\r\n      form_combination: {\r\n        accfee: true,\r\n        pdaccratede: true,\r\n        pdaccfoundde: false,\r\n        pdaccfouninflowdedine: true,\r\n        pdaccfoundInguarantee: true,\r\n        pdaccfoundAliveguarantee: true,\r\n        pdaccfoundPayguarantee: true,\r\n        pdaccfoundInguarantee_1: false,\r\n        pdaccfoundAliveguarantee_1: false,\r\n        outFlowSrvl: true,\r\n        outFlowClm: true\r\n      },\r\n      // 产品账户表格查询参数\r\n      params: {\r\n        productId: undefined\r\n      },\r\n      // 通用表查询参数\r\n      params1: {\r\n        accountId: undefined\r\n      },\r\n      // 产品表查询参数\r\n      params2: {\r\n        accountId: undefined,\r\n        productId: undefined\r\n      },\r\n      outFlowType: '',\r\n      inFlowType: '',\r\n      activatedName: 'account',\r\n      disabled_tab: true,\r\n      configs_account: [],\r\n      inFlowList: [],\r\n      outFlowList: [],\r\n      listByProductAccount: [],\r\n      accFee: {},\r\n      selectedAccount: {},\r\n      selectFound: {},\r\n      selectedInFlow: {},\r\n      selectedOutFlow: {},\r\n      accfeeTable: [],\r\n      pdgenlFoundList: [],\r\n      srvlBnftList: [],\r\n      srvlBnftOptionList: [],\r\n      clmBnftList: [],\r\n      clmBnftOptionList: [],\r\n      pdPaOptionList: [],\r\n      premiumOptionList: [],\r\n      accFeeOptionList: [],\r\n      invOptionList: [],\r\n      selectedPremiumCode: '',\r\n      selectedInvCode: '',\r\n      selectedBnft: '',\r\n      selectedClmBnft: '',\r\n      selectedSrvBnft: '',\r\n      selectedBussObject: {},\r\n      formulaType: '',\r\n      radio: '',\r\n      showMoreFundFlag: false,\r\n      pdAccFundData: [],\r\n      pdAccFundList: [],\r\n      quickDefAccountFeeList: [],\r\n      quickDefInFlowList: [],\r\n      quickDefOutFlowList: [],\r\n      quickAccountInfo: {},\r\n      premiumFeeList: [],\r\n      inFlowInvList: [],\r\n      inFlowSrvlList: [],\r\n      inFlowClmList: [],\r\n      form_atrsinfo_f: {\r\n        pdatrscode: '', pdatrsname: '领取方式', pdatrsval: ['1'],\r\n      },\r\n      loading: false,\r\n      configs: [],\r\n      rules_formInflow: {\r\n        'form_atrsinfo_f.pdatrsval':\r\n          [{\r\n            type: 'array',\r\n            required: true,\r\n            message: this.$t('pdtempPdSrvlBnft.message.plse'),\r\n            trigger: 'change'\r\n          }]\r\n      },\r\n      //账户结构定义检验规则\r\n      form_account_rules: {\r\n        pdAccInvestType: [{required: true, message: \"请选择账户投资类型\", trigger: \"change\"}],\r\n        pdAccountType: [{\r\n          required: true,\r\n          validator: (rule, value, callback) => {\r\n            _this.$nextTick(() => {\r\n              if (!_this.form_account.pdAccountType || _this.form_account.pdAccountType.length === 0) {\r\n                callback(new Error(\"请选择账户类型\"))\r\n              } else {\r\n                callback()\r\n              }\r\n            })\r\n          }, trigger: \"change\"\r\n        }],\r\n        pdAccName: [{required: true, message: \"请输入账户名称\", trigger: \"change\"}],\r\n        pdAccountOwner: [{required: true, message: \"请选择账户所有者\", trigger: \"change\"}],\r\n        pdAccountCurrency: [{required: true, message: \"请选择账户币种\", trigger: \"change\"}],\r\n        pdAccCrePlace: [{required: true, message: \"请选择账户建立时点\", trigger: \"change\"}],\r\n        pdAccCrtDate: [{required: true, message: \"请选择账户建立日\", trigger: \"change\"}],\r\n        pdAccDealFreq: [{required: true, message: \"请选择结算频率\", trigger: \"change\"}],\r\n        pdAccDealDay: [{required: true, message: \"请输入结算日\", trigger: \"change\"},\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value < 1 || value > 31) {\r\n                callback(new Error(\"结算日期间为1-31\"))\r\n              } else {\r\n                callback()\r\n              }\r\n            }\r\n          }],\r\n        pdAccDealInstMode: [{required: true, message: \"请选择结息计算方式\", trigger: \"change\"}]\r\n      },\r\n      associateFund: false,\r\n      benefit: false,\r\n      dialogVisible: {\r\n        associateFund: false,\r\n        pdgenlaccount: false,\r\n        accFee: false,\r\n        generalFund: false,\r\n        relatedAccount: false,\r\n        generalAccountFee: false,\r\n        premium: false,\r\n        inv: false,\r\n        clmBnft: false,\r\n        noMedClmBnft: false,\r\n        srvBnft: false,\r\n        srvBnft1: false,\r\n        formulaDef_accountFee: false\r\n      },\r\n      finalValFlag: true,\r\n      finalRatioFlag: true,\r\n      pdAccFeeCalcCodeFlag: true,\r\n      capFeeFinalValFlag: false,\r\n      capFeeFinalRatioFlag: false,\r\n      capFeeCalcCodeFlag: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.product = this.getPdData()\r\n    if (this.$route.query.showPageFlag === '1') {\r\n      this.showPageFlag = '1'\r\n    }\r\n    this.params.productId = this.product.id\r\n    this.init()\r\n    this.form_account.accountName = this.product.pdName\r\n\r\n    //初始化快捷定义查询\r\n    this.initProductQueryData()\r\n  },\r\n  watch: {\r\n    'form_inFlow.pdAccInfMode'(val) {\r\n      if (val === '0') {\r\n        this.form_inFlow.pdAccInfRatio = 1\r\n      }\r\n    },\r\n    activatedName(val) {\r\n      if (val === 'inFlow') {\r\n        if (Object.keys(this.selectedInFlow).length > 0) {\r\n          this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n        }\r\n      } else if (val === 'outFlow') {\r\n        if (Object.keys(this.selectedOutFlow).length > 0) {\r\n          this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n        }\r\n      }\r\n      if (val !== 'inFlow') {\r\n        this.pdAccCapInfCode = ''\r\n      }\r\n      if (val !== 'outFlow') {\r\n        this.pdAccCapOutfCode = ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    tabClick(tab) {\r\n      let tabName = tab.name\r\n      const that = this\r\n      switch (tabName) {\r\n        case 'account':\r\n          break\r\n        case 'account_fee':\r\n          this.accFeeresetForm()\r\n          // 账户费用\r\n          this.accFeeTableList = this.selectedAccount.feeList\r\n          //获取账户费用顺序\r\n\r\n          this.initAccFeeOrderVal()\r\n\r\n          break\r\n        case 'inFlow':\r\n          this.initCapitalInflow()\r\n          this.inFlowTypeChanged()\r\n          //初始化流入流出项下拉数据\r\n          this.params2['capFlowType'] = 'I'\r\n          initCapInAndOutOptionsData(this.buildRequestData(this.params2)).then(res => {\r\n            that.premiumOptionList = res.data.premiums\r\n            that.accFeeOptionList = res.data.accountFees\r\n            that.invOptionList = res.data.invs\r\n            that.srvlBnftOptionList = res.data.sBnfts\r\n            that.clmBnftOptionList = res.data.cBnfts\r\n          })\r\n          break\r\n        case 'outFlow':\r\n          this.initCapitalOutflow()\r\n          this.outFlowTypeChanged()\r\n          this.params2['capFlowType'] = 'O'\r\n          initCapInAndOutOptionsData(this.buildRequestData(this.params2)).then(res => {\r\n            that.srvlBnftOptionList = res.data.sBnfts\r\n            that.clmBnftOptionList = res.data.cBnfts\r\n            that.pdPaOptionList = res.data.paInfos\r\n            that.accFeeOptionList = res.data.accountFees\r\n          })\r\n          break\r\n      }\r\n    },\r\n    selectAccountItem(val) {\r\n      let accFee = this._.find(this.accFeeOptionList, {id: val})\r\n\r\n      this.setCapFeeFinalValOrFinalRatio(accFee.pdAccFeeCalcMode)\r\n\r\n      this.form_pdAccCapIn_Fee.pdAccFeeId = accFee.id\r\n\r\n      //当选中一条流入降费用时不进行赋值\r\n      if (!this.selectedPdAccountFee.id) {\r\n        this.form_pdAccCapIn_Fee.pdAccFeeDeduOrder = accFee.pdAccFeeOrder\r\n      }\r\n\r\n      this.form_pdAccCapIn_Fee.pdAccFeeFinalVal = accFee.pdAccFeeFinalVal\r\n      if (accFee.pdAccFeeFinalRatio) {\r\n        this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio = parseInt(accFee.pdAccFeeFinalRatio * 100)\r\n      }\r\n      this.form_pdAccCapIn_Fee.pdCalcCode = accFee.pdAccFeeCalcCode\r\n      this.form_pdAccCapIn_Fee.pdAccCode = accFee.pdAccountCode\r\n      this.form_pdAccCapIn_Fee.pdAccName = accFee.pdAccountName\r\n      this.form_pdAccCapIn_Fee.pdAccFeeCode = accFee.pdAccFeeCode\r\n      this.form_pdAccCapIn_Fee.pdAccFeeName = accFee.pdAccFeeName\r\n      this.form_pdAccCapIn_Fee.pdAccFeeCalcMode = accFee.pdAccFeeCalcMode\r\n    },\r\n    setCapRatioAndCalcCode_P() {\r\n      this.form_inFlow.pdAccCapInOutRatio = ''\r\n      this.form_inFlow.pdAccInfMinRatio = ''\r\n      this.form_inFlow.pdAccInfMaxRatio = ''\r\n      this.form_inFlow.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_I() {\r\n      this.form_inFlow_I.pdAccCapInOutRatio = ''\r\n      this.form_inFlow_I.pdAccInfMinRatio = ''\r\n      this.form_inFlow_I.pdAccInfMaxRatio = ''\r\n      this.form_inFlow_I.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_S() {\r\n      this.form_inFlow_S.pdAccCapInOutRatio = ''\r\n      this.form_inFlow_S.pdAccInfMinRatio = ''\r\n      this.form_inFlow_S.pdAccInfMaxRatio = ''\r\n      this.form_inFlow_S.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_C() {\r\n      this.form_inFlow_C.pdAccCapInOutRatio = ''\r\n      this.form_inFlow_C.pdAccInfMinRatio = ''\r\n      this.form_inFlow_C.pdAccInfMaxRatio = ''\r\n      this.form_inFlow_C.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_Out_C() {\r\n      this.form_outFlow_C.pdAccCapInOutRatio = ''\r\n      this.form_outFlow_C.pdAccInfMinRatio = ''\r\n      this.form_outFlow_C.pdAccInfMaxRatio = ''\r\n      this.form_outFlow_C.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_Out_S() {\r\n      this.form_outFlow_S.pdAccCapInOutRatio = ''\r\n      this.form_outFlow_S.pdAccInfMinRatio = ''\r\n      this.form_outFlow_S.pdAccInfMaxRatio = ''\r\n      this.form_outFlow_S.pdAccCapCalcCode = ''\r\n    },\r\n    setCapRatioAndCalcCode_Out_PA() {\r\n      this.form_outFlow_PA.pdAccCapInOutRatio = ''\r\n      this.form_outFlow_PA.pdAccInfMinRatio = ''\r\n      this.form_outFlow_PA.pdAccInfMaxRatio = ''\r\n      this.form_outFlow_PA.pdAccCapCalcCode = ''\r\n    },\r\n    setFinalValOrFinalRatio(val) {\r\n      this.finalValFlag = true\r\n      this.finalRatioFlag = true\r\n      this.pdAccFeeCalcCodeFlag = true\r\n      switch (val) {\r\n        case '01' :\r\n        case '03' :\r\n          this.finalValFlag = false\r\n          this.form_account_fee.pdAccFeeFinalRatio = ''\r\n          break\r\n        case '02' :\r\n        case '04' :\r\n          this.finalRatioFlag = false\r\n          this.form_account_fee.pdAccFeeFinalVal = ''\r\n          break\r\n        case '05' :\r\n        case '06' :\r\n          this.finalValFlag = false\r\n          this.finalRatioFlag = false\r\n          break\r\n        case '07' :\r\n        case '08' :\r\n        case '09' :\r\n          this.pdAccFeeCalcCodeFlag = false\r\n          this.form_account_fee.pdAccFeeFinalRatio = ''\r\n          this.form_account_fee.pdAccFeeFinalVal = ''\r\n          break\r\n        default:\r\n          this.form_account_fee.pdAccFeeFinalRatio = ''\r\n          this.form_account_fee.pdAccFeeFinalVal = ''\r\n          break\r\n      }\r\n    },\r\n    setCapFeeFinalValOrFinalRatio(val) {\r\n      this.capFeeFinalValFlag = false\r\n      this.capFeeFinalRatioFlag = false\r\n      this.capFeeCalcCodeFlag = false\r\n\r\n      this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio = ''\r\n      this.form_pdAccCapIn_Fee.pdAccFeeFinalVal = ''\r\n      this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio = ''\r\n      this.form_pdAccCapIn_Fee.pdAccFeeFinalMaxVal = ''\r\n\r\n\r\n      switch (val) {\r\n        case '01' :\r\n        case '03' :\r\n          this.capFeeFinalValFlag = true\r\n          break\r\n        case '02' :\r\n        case '04' :\r\n          this.capFeeFinalRatioFlag = true\r\n          break\r\n        case '05' :\r\n        case '06' :\r\n          this.capFeeFinalValFlag = true\r\n          this.capFeeFinalRatioFlag = true\r\n          break\r\n        case '07' :\r\n        case '08' :\r\n        case '09' :\r\n          this.capFeeCalcCodeFlag = true\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    setPdAccFeeName(val) {\r\n      if (val && !this.accFee.id) {\r\n        this.form_account_fee.pdAccFeeName = ''\r\n        let feeName = this.getCodeName('costprotype', val, true)\r\n        if (feeName) {\r\n          this.form_account_fee.pdAccFeeName = this.selectedAccount.pdAccName + feeName\r\n        }\r\n      }\r\n    },\r\n    afterSelectAccountType(val) {\r\n      if (val && !this.selectedAccount.id) {\r\n        this.form_account.pdAccName = ''\r\n        let typeName = this.getCascaderCodeName('accounttype', val, true)\r\n        if (typeName) {\r\n          this.form_account.pdAccName = this.product.pdName + typeName\r\n        }\r\n      }\r\n    },\r\n    initProductQueryData() {\r\n      this.filterProductByNode(this, '1', false)\r\n    },\r\n    selectedDetailTypeChanged(val) {\r\n      val === '' ? this.initProductQueryData() : this.filterProductByCategory(this, val)\r\n      this.params_quick.selectPdId = ''\r\n    },\r\n    selectedPdAccountFeeChange(row) {\r\n      //选中流入流出费用后设置对应的栏位显示\r\n      let accFee = this._.find(this.accFeeOptionList, {'id': row.pdAccFeeId})\r\n\r\n      this.setCapFeeFinalValOrFinalRatio(accFee.pdAccFeeCalcMode)\r\n\r\n      this.form_pdAccCapIn_Fee = Object.assign({}, row)\r\n\r\n      this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio = parseInt(this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio * 100)\r\n      this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio = parseInt(this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio * 100)\r\n\r\n      this.pdAccFeeCode = row.pdAccFeeCode\r\n      this.pdAccFeeName = row.pdAccFeeName\r\n\r\n      this.form_pdAccCapIn_Fee.pdAccFeeCalcMode = accFee.pdAccFeeCalcMode\r\n    },\r\n    toFormulaDef(row, formulaType) {\r\n      if (Object.keys(row).length === 0 || !row.id) {\r\n        this.notifyError(this.$t('pdtempPdAcc.message.pleaseSaveFeeAndChooseOne'))\r\n        return\r\n      }\r\n      this.selectedBussObject = row\r\n      this.formulaType = formulaType\r\n      this.dialogVisible.formulaDef_accountFee = true\r\n    },\r\n    bringInCalcCode(pdBussDetailType, pdBussId, calcCode) {\r\n      switch (pdBussDetailType) {\r\n        case '33':// 账户费用\r\n          for (const accFee of this.accFeeTableList) {\r\n            if (accFee.id === Number(pdBussId)) {\r\n              this.$set(accFee, 'pdAccFeeCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_account_fee.id === Number(pdBussId)) {\r\n            this.form_account_fee.pdAccFeeCalcCode = calcCode\r\n          }\r\n          break\r\n        case '34':// 流入\r\n          for (const inFlow of this.inFlowList) {\r\n            if (inFlow.id === Number(pdBussId)) {\r\n              this.$set(inFlow, 'pdAccCapCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          switch (this.inFlowType) {\r\n            case \"P\":\r\n              if (this.form_inFlow.id === Number(pdBussId)) {\r\n                this.form_inFlow.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            case \"I\":\r\n              if (this.form_inFlow_I.id === Number(pdBussId)) {\r\n                this.form_inFlow_I.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            case \"S\":\r\n              if (this.form_inFlow_S.id === Number(pdBussId)) {\r\n                this.form_inFlow_S.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            case \"C\":\r\n              if (this.form_inFlow_C.id === Number(pdBussId)) {\r\n                this.form_inFlow_C.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            default:\r\n              break\r\n          }\r\n          break\r\n        case '35':// 流出\r\n          for (const outFlow of this.outFlowList) {\r\n            if (outFlow.id === Number(pdBussId)) {\r\n              this.$set(outFlow, 'pdAccCapCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          switch (this.outFlowType) {\r\n            case \"S\":\r\n              if (this.form_outFlow_S.id === Number(pdBussId)) {\r\n                this.form_outFlow_S.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            case \"C\":\r\n              if (this.form_outFlow_C.id === Number(pdBussId)) {\r\n                this.form_outFlow_C.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            case \"PA\":\r\n              if (this.form_outFlow_PA.id === Number(pdBussId)) {\r\n                this.form_outFlow_PA.pdAccCapCalcCode = calcCode\r\n              }\r\n              break\r\n            default:\r\n              break\r\n          }\r\n          break\r\n        case \"66\":// 流入费用\r\n          for (const accFee of this.pdAccountFeeCapInList) {\r\n            if (accFee.id === Number(pdBussId)) {\r\n              this.$set(accFee, 'pdCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_pdAccCapIn_Fee.id === Number(pdBussId)) {\r\n            this.form_pdAccCapIn_Fee.pdCalcCode = calcCode\r\n          }\r\n          break\r\n        case \"67\":// 流出费用\r\n          for (const accFee of this.pdAccountFeeCapOutList) {\r\n            if (accFee.id === Number(pdBussId)) {\r\n              this.$set(accFee, 'pdCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_pdAccCapIn_Fee.id === Number(pdBussId)) {\r\n            this.form_pdAccCapIn_Fee.pdCalcCode = calcCode\r\n          }\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      this.dialogVisible.formulaDef_accountFee = flag\r\n    },\r\n    changeDialogVisible_accFee() {\r\n      this.dialogVisible.accFee = false\r\n    },\r\n    handleAccFeeMore() {\r\n      this.dialogVisible.pdgenlaccount = true\r\n    },\r\n    resetDialogVisible() {\r\n      this.dialogVisible = {\r\n        pdgenlaccount: false,\r\n        accFee: false,\r\n        generalRate: false,\r\n        generalFund: false,\r\n        relatedAccount: false,\r\n        generalAccountFee: false,\r\n        premium: false,\r\n        inv: false,\r\n        clmBnft: false,\r\n        srvBnft: false,\r\n        formulaDef_accountFee: false\r\n      }\r\n    },\r\n    init() {\r\n      // 重置页面数据\r\n      this.selectedAccount = {}\r\n      this.selectedInFlow = {}\r\n      this.selectedPremiumCode = ''\r\n      this.resetFormInFlow()\r\n      this.premiumFeeList = []\r\n      this.accountFeeList = []\r\n      this.inFlowType = ''\r\n      this.outFlowType = ''\r\n      this.disabled_tab = true\r\n      this.activatedName = 'account'\r\n      // 关闭所有弹窗\r\n      this.resetDialogVisible()\r\n      pdAccList(this.buildRequestData(this.params)).then(response => {\r\n        this.configs = response.data\r\n      })\r\n    },\r\n    refreshAccountTable() {\r\n      pdAccList(this.buildRequestData(this.params)).then(response => {\r\n        this.configs = response.data\r\n      })\r\n    },\r\n    // 查询参考账户\r\n    getReferenceAccountList(val) {\r\n      this.params_quick.accountType = ''\r\n      if (val) {\r\n        this.params_quick.accountType = val[val.length - 1]\r\n      }\r\n    },\r\n    async autoSearchInAllPremium() {\r\n      this.$nextTick(async () => {\r\n        if (!this.params_quick.eq_pdInfoId) {\r\n          return\r\n        }\r\n        this.params_quick.byPage = 'N'\r\n        this.$refs.page_quick_hidden.reload()\r\n      })\r\n    },\r\n    dealAccFeeFinalRatio() {\r\n      if (this.form_account_fee.pdAccFeeFinalRatio) {\r\n        this.form_account_fee.pdAccFeeFinalRatio = this.form_account_fee.pdAccFeeFinalRatio / 100\r\n      }\r\n    },\r\n    //账户费用保存\r\n    addPdAccountFee() {\r\n      this.$refs.form_account_fee.validate((pass) => {\r\n        if (pass) {\r\n          this.form_account_fee.pdVerId = this.product.pdVerId\r\n          //处理费用比率\r\n          this.dealAccFeeFinalRatio()\r\n\r\n          const params = {\r\n            product: this.product,\r\n            accountId: this.selectedAccount.id,\r\n            formAccountFee: this.form_account_fee\r\n          }\r\n          addPdAccountFee(this.buildRequestData(params)).then(res => {\r\n            if (res.data === -1) {\r\n              this.notifyError(this.$t('pdtempPdAcc.message.feeOrderDuplicate'))\r\n            } else {\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n              this.accFeeresetForm()\r\n\r\n              this.form_account_fee.pdAccFeeOrder = res.data\r\n              const selectedAccount = Object.assign({}, this.selectedAccount)\r\n              pdAccList(this.buildRequestData(this.params)).then(response => {\r\n                this.configs = response.data\r\n                this.selectedAccount = {}\r\n                this.selectedAccount = this._.find(this.configs, {'id': selectedAccount.id})\r\n                this.accFeeTableList = this.selectedAccount.feeList\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    //账户费用更新\r\n    updatePdAccountFee() {\r\n      this.$refs.form_account_fee.validate((pass) => {\r\n        if (pass) {\r\n          //处理费用比率\r\n          this.dealAccFeeFinalRatio()\r\n          const params = {formAccountFee: this.form_account_fee}\r\n          updatePdAccountFee(this.buildRequestData(params)).then(res => {\r\n            if (res.data === -1) {\r\n              this.notifyError(this.$t('pdtempPdAcc.message.feeOrderDuplicate'))\r\n            } else {\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n              this.initaccFeeTableList()\r\n              const selectedAccount = Object.assign({}, this.selectedAccount)\r\n              //刷新账户表格\r\n              pdAccList(this.buildRequestData(this.params)).then(response => {\r\n                this.configs = response.data\r\n                this.selectedAccount = this._.find(this.configs, {'id': selectedAccount.id})\r\n                this.accFeeTableList = this.selectedAccount.feeList\r\n                let accFee = this._.find(this.accFeeTableList, {'id': this.form_account_fee.id})\r\n                this.accFee = accFee\r\n                this.$refs.accFeeTable.setCurrentRow(accFee)\r\n                this.selectedaccFeeTableChanged(this.accFee)\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    handleSearchInAllAcc() {\r\n      this.$refs.pageAccount.reload()\r\n    },\r\n    copyPremiumToCurrentProduct(row) {\r\n      const params = {\r\n        product: this.product,\r\n        pdSelectAllPdAccountVo: row\r\n      }\r\n      insertPremiumToCurrentProduct(this.buildRequestData(params)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.add'))\r\n        this.init()\r\n        this.resetForm()\r\n      })\r\n    },\r\n    toPremiumPage() {\r\n      if (!this.selectedPremiumCode) {\r\n        this.notifyError(this.$t('pdtempPdAcc.message.pleaseSelectPremium'))\r\n      } else {\r\n        this.dialogVisible.premium = true\r\n      }\r\n    },\r\n    toInvPage() {\r\n      this.selectedInvCode = this.pdAccCapInfCode\r\n      this.dialogVisible.inv = true\r\n    },\r\n    toBnftPage(bnftType, inOutType) {\r\n      let pdBnftId\r\n      if (bnftType === 'clm') {\r\n        for (const clm of this.clmBnftOptionList) {\r\n          if (clm.pdBnftCode === (inOutType === 'in' ? this.pdAccCapInfCode : this.pdAccCapOutfCode)) {\r\n            pdBnftId = clm.id\r\n            break\r\n          }\r\n        }\r\n      } else if (bnftType === 'srvl') {\r\n        for (const srv of this.srvlBnftOptionList) {\r\n          if (srv.pdBnftCode === (inOutType === 'in' ? this.pdAccCapInfCode : this.pdAccCapOutfCode)) {\r\n            pdBnftId = srv.id\r\n            break\r\n          }\r\n        }\r\n      }\r\n      if (pdBnftId) {\r\n        getPdtempPdBnftById(pdBnftId).then(response => {\r\n          if (!response.data) {\r\n            this.notifyError(this.$t('pdtempPdAcc.message.cannotFindBenefit'))\r\n          } else {\r\n            this.selectedBnft = response.data\r\n            this.benefit = true\r\n          }\r\n        })\r\n      } else {\r\n        this.notifyError(this.$t('pdtempPdAcc.message.cannotFindBenefit'))\r\n      }\r\n    },\r\n    inFlowTypeChanged() {\r\n      this.clearAllCode()\r\n      this.resetFormInFlow()\r\n      this.resetFormInFlowI()\r\n      this.resetFormInFlowC()\r\n      this.resetFormInFlowS()\r\n      this.premiumFeeList = []\r\n      this.selectedPremiumCode = ''\r\n    },\r\n    outFlowTypeChanged() {\r\n      this.clearAllCode()\r\n      this.resetFormOutFlowC()\r\n      this.resetFormOutFlowS()\r\n      this.resetFormOutFlowPA()\r\n    },\r\n    rowClick_account_fee(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAccountFee.id) {\r\n          this.accFeeresetForm()\r\n        }\r\n      }\r\n    },\r\n    showAccountFee(accountVo) {\r\n      this.quickAccountInfo = {\r\n        \"pdAccCode\": accountVo.accountCode,\r\n        \"pdAccName\": accountVo.accountName,\r\n        \"pdAccountType\": accountVo.accountType\r\n      }\r\n      queryQuickDefAccountDetail(this.buildRequestData({\r\n        \"accountId\": accountVo.id,\r\n        \"acCategory\": accountVo.acCategory\r\n      })).then(res => {\r\n        this.quickDefAccountFeeList = res.data.accountFees\r\n        if (accountVo.acCategory === 'P') {\r\n          this.quickDefInFlowList = res.data.inflows\r\n          this.quickDefOutFlowList = res.data.outflows\r\n        }\r\n        this.dialogVisible.accFee = true\r\n      })\r\n    },\r\n    rowClickInFlow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedInFlow.id) {\r\n          this.selectedInFlow = {}\r\n          this.inFlowType = ''\r\n          this.selectedPremiumCode = ''\r\n          this.resetFormInFlow()\r\n          this.clearPdAccCapIn_Fee()\r\n          this.setCapFeeFinalValOrFinalRatio()\r\n        }\r\n      }\r\n    },\r\n    rowClickselectedOutFlow(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedOutFlow.id) {\r\n          this.selectedOutFlow = {}\r\n          this.outFlowType = ''\r\n          this.selectedPremiumCode = ''\r\n          this.resetFormOutFlowS()\r\n          this.resetFormOutFlowC()\r\n          this.resetFormOutFlowPA()\r\n        }\r\n      }\r\n    },\r\n    rowClickselectedAccount(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAccount.id) {\r\n          this.selectedAccount = {}\r\n          this.init()\r\n          this.resetForm()\r\n        }\r\n      }\r\n    },\r\n    rowClickselectedPdAccountFee(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedPdAccountFee.id) {\r\n          this.clearPdAccCapIn_Fee()\r\n          this.pdAccFeeCode = ''\r\n          this.setCapFeeFinalValOrFinalRatio()\r\n        }\r\n      }\r\n    },\r\n    rowClickaccFee(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.accFee.id) {\r\n          this.accFee = {}\r\n          this.accFeeresetForm()\r\n        }\r\n      }\r\n    },\r\n    selectedAccountChanged() {\r\n      //账户费用定义清缓存\r\n      this.accFee = {}\r\n      this.accFeeresetForm()\r\n      //产品账户资金流入定义清缓存\r\n      this.selectedInFlow = {}\r\n      this.inFlowType = ''\r\n      this.selectedPremiumCode = ''\r\n      //产品账户资金流出定义清缓存\r\n      this.selectedOutFlow = {}\r\n      this.outFlowType = ''\r\n      this.selectedPremiumCode = ''\r\n\r\n      this.update = ''\r\n      this.add = 'none'\r\n      this.params1.accountId = this.selectedAccount.id\r\n      this.params2.accountId = this.selectedAccount.id\r\n      this.params2.productId = this.product.id\r\n\r\n      // 产品账户定义\r\n      this.initaccount_menu(this.selectedAccount)\r\n\r\n      // 利率\r\n      let findList = this.selectedAccount.pdFinIndList\r\n      findList.forEach(data => {\r\n        data.pdAnnuRate = parseInt(data.pdAnnuRate * 100)\r\n        data.pdMonRate = parseInt(data.pdMonRate * 100)\r\n        data.pdDayRate = parseInt(data.pdDayRate * 100)\r\n      })\r\n      this.listByProductAccount = findList\r\n\r\n      // 投资标的\r\n      if (this.selectedAccount.pdAccFundFlag === 'Y') {\r\n        this.pdAccFundList = this.selectedAccount.fundList\r\n        this.pdAccFundList.forEach(data => data.fundInvestRatio = parseInt(data.fundInvestRatio * 100))\r\n        this.form_combination.pdaccfoundde = true\r\n      }\r\n\r\n      this.activatedName = 'account'\r\n      this.disabled_tab = false\r\n    },\r\n    //初始化资金账户费用表格\r\n    initpdAccFeeCapInOut(row, type) {\r\n      const params = {pdAccCapId: row.id}\r\n      initpdAccFeeCapIn(this.buildRequestData(params)).then(response => {\r\n        this.pdAccountFeeCapList = response.data\r\n        this.selectedPdAccountFee = {}\r\n        this.clearPdAccCapIn_Fee()\r\n        if (type === 'I') {\r\n          this.pdAccountFeeCapInList = this._.filter(this.pdAccountFeeCapList, {'pdAccCapFlowType': type})\r\n          //设置费用扣除费用\r\n          //未选中一条费用\r\n          if (!this.selectedPdAccountFee.id) {\r\n            let capFeeOrder = this._.map(this.pdAccountFeeCapInList, 'pdAccFeeDeduOrder')\r\n            if (capFeeOrder && capFeeOrder.length !== 0) {\r\n              this.form_pdAccCapIn_Fee.pdAccFeeDeduOrder = this._.max(capFeeOrder) + 1\r\n            } else {\r\n              this.form_pdAccCapIn_Fee.pdAccFeeDeduOrder = 1\r\n            }\r\n          }\r\n        } else if (type === 'O') {\r\n          this.pdAccountFeeCapOutList = this._.filter(this.pdAccountFeeCapList, {'pdAccCapFlowType': type})\r\n          if (!this.selectedPdAccountFee.id) {\r\n            let capFeeOrder = this._.map(this.pdAccountFeeCapOutList, 'pdAccFeeDeduOrder')\r\n            if (capFeeOrder && capFeeOrder.length !== 0) {\r\n              this.form_pdAccCapIn_Fee.pdAccFeeDeduOrder = this._.max(capFeeOrder) + 1\r\n            } else {\r\n              this.form_pdAccCapIn_Fee.pdAccFeeDeduOrder = 1\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //初始化账户费用表格\r\n    initaccFeeTableList() {\r\n      const params = {\r\n        accountId: this.selectedAccount.id,\r\n      }\r\n      initaccFeeTableList(this.buildRequestData(params)).then(response => {\r\n        this.accFeeTableList = response.data\r\n        if (Object.keys(this.accFee).length > 0) {\r\n          for (const accFee of this.accFeeTableList) {\r\n            if (accFee.id === this.accFee.id) {\r\n              this.accFee = accFee\r\n              this.$refs.accFeeTable.setCurrentRow(accFee)\r\n              this.selectedaccFeeTableChanged(this.accFee)\r\n              break\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //删除账户费用\r\n    handleDeleteAccFee(row) {\r\n      const params = {accFeeId: row.id, pdInfoId: this.product.id, pdVerId: this.product.pdVerId}\r\n      handleDeleteAccFee(this.buildRequestData(params)).then(res => {\r\n        if (res.data === -1) {\r\n          this.notifyError(this.$t('pdtempPdAcc.message.deleteAccFeeTip'))\r\n          return\r\n        }\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.accFeeresetForm()\r\n        const selectedAccount = Object.assign({}, this.selectedAccount)\r\n        //刷新账户表格\r\n        pdAccList(this.buildRequestData(this.params)).then(response => {\r\n          this.configs = response.data\r\n          this.selectedAccount = this._.find(this.configs, {'id': selectedAccount.id})\r\n          this.accFeeTableList = this.selectedAccount.feeList\r\n          this.initAccFeeOrderVal()\r\n        })\r\n      })\r\n    },\r\n    //账户选中一条带回数据form_account\r\n    initaccount_menu(row) {\r\n      this.form_account = Object.assign({}, row)\r\n      this.form_account.pdAccountType = []\r\n      this.form_account.pdAccountType.push(row.pdAccountType.slice(0, 1))\r\n      this.form_account.pdAccountType.push(row.pdAccountType)\r\n    },\r\n    initRate() {\r\n      pdAccRateAll(this.buildRequestData(this.params2)).then(response => {\r\n        this.listByProductAccount = response.data\r\n      })\r\n    },\r\n    initFund() {\r\n      findFundByAccountId(this.selectedAccount.id).then(response => {\r\n        this.pdAccFundList = response.data\r\n        this.pdAccFundList.forEach(data => data.fundInvestRatio = parseInt(data.fundInvestRatio * 100))\r\n      })\r\n    },\r\n    initCapitalInflow() {\r\n      // 资金流入\r\n      return new Promise(resolve => {\r\n        listCapitalInflow(this.buildRequestData(this.params2)).then(response => {\r\n          this.inFlowList = response.data;\r\n          resolve();\r\n        })\r\n      })\r\n    },\r\n    initCapitalOutflow() {\r\n      // 资金流出\r\n      return new Promise(resolve => {\r\n        listCapitalOutflow(this.buildRequestData(this.params2)).then(response => {\r\n          this.outFlowList = response.data;\r\n          resolve();\r\n        })\r\n      })\r\n    },\r\n    selectedaccFeeTableChanged(row) {\r\n      Object.assign(this.form_account_fee, row)\r\n      //处理费用比例显示\r\n      if (this.form_account_fee.pdAccFeeFinalRatio) {\r\n        this.form_account_fee.pdAccFeeFinalRatio = parseInt(this.form_account_fee.pdAccFeeFinalRatio * 100)\r\n      }\r\n      this.setFinalValOrFinalRatio(this.form_account_fee.pdAccFeeCalcMode)\r\n      this.accFeeAdd = 'none'\r\n      this.accFeeUpdate = ''\r\n      this.$nextTick(() => {\r\n        this.$refs.form_account_fee.clearValidate()\r\n      })\r\n    },\r\n    selectedPremiumCodeChanged(premiumCode, resetFormInFlowFlag) {\r\n      if (resetFormInFlowFlag !== false) {\r\n        this.resetFormInFlow()\r\n      }\r\n      this.premiumFeeList = []\r\n      for (const inFlow of this.inFlowList) {\r\n        if (inFlow.pdAccCapInfType === 'P' && inFlow.pdAccCapInfCode === premiumCode) {\r\n          Object.assign(this.form_inFlow, inFlow)\r\n          if (this.form_inFlow.pdAccCapCalcCode === null) {\r\n            this.form_inFlow.pdAccCapInOutMode1 = '1'\r\n          }\r\n          for (const fee of inFlow.feeList) {\r\n            this.premiumFeeList.push(Object.assign({}, fee))\r\n          }\r\n          break\r\n        }\r\n      }\r\n    },\r\n    selectedInFlowChanged() {\r\n      this.clearInFlow_PISC()\r\n      this.clearPdAccCapIn_Fee()\r\n      this.selectedPremiumCode = ''\r\n      this.pdAccCapInfCode = ''\r\n      if (Object.keys(this.selectedInFlow).length > 0) {\r\n        switch (this.selectedInFlow.pdAccCapItemType) {\r\n          case 'P':\r\n            this.inFlowType = 'P'\r\n            this.form_inFlow.pdPremType = this.selectedInFlow.pdPremType\r\n            this.form_inFlow.pdAddAmountType = this.selectedInFlow.pdAddAmountType\r\n            this.form_inFlow.pdAccCapInOutMode = this.selectedInFlow.pdAccCapInOutMode\r\n            this.form_inFlow.id = this.selectedInFlow.id\r\n            if (!this.selectedInFlow.pdAccCapCalcCode) {\r\n              this.form_inFlow.pdAccCapInOutRatio = parseInt(this.selectedInFlow.pdAccCapInOutRatio * 100)\r\n              this.form_inFlow.pdAccInfMaxRatio = parseInt(this.selectedInFlow.pdAccInfMaxRatio * 100)\r\n              this.form_inFlow.pdAccInfMinRatio = parseInt(this.selectedInFlow.pdAccInfMinRatio * 100)\r\n              this.form_inFlow.pdAccCapInOutMode1 = '1'\r\n            } else {\r\n              this.form_inFlow.pdAccCapInOutMode1 = '2'\r\n              this.form_inFlow.pdAccCapCalcCode = this.selectedInFlow.pdAccCapCalcCode\r\n            }\r\n            this.selectedPremiumCode = this.selectedInFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n            break\r\n          case 'I':\r\n            this.inFlowType = 'I'\r\n            this.form_inFlow_I.id = this.selectedInFlow.id\r\n            this.form_inFlow_I.pdPremType = this.selectedInFlow.pdPremType\r\n            this.form_inFlow_I.pdAccCapInOutMode = this.selectedInFlow.pdAccCapInOutMode\r\n            if (!this.selectedInFlow.pdAccCapCalcCode) {\r\n              this.form_inFlow_I.pdAccCapInOutMode1 = '1'\r\n              this.form_inFlow_I.pdAccCapInOutRatio = parseInt(this.selectedInFlow.pdAccCapInOutRatio * 100)\r\n              this.form_inFlow_I.pdAccInfMaxRatio = parseInt(this.selectedInFlow.pdAccInfMaxRatio * 100)\r\n              this.form_inFlow_I.pdAccInfMinRatio = parseInt(this.selectedInFlow.pdAccInfMinRatio * 100)\r\n            } else {\r\n              this.form_inFlow_I.pdAccCapInOutMode1 = '2'\r\n              this.form_inFlow_I.pdAccCapCalcCode = this.selectedInFlow.pdAccCapCalcCode\r\n            }\r\n            this.pdAccCapInfCode = this.selectedInFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n            break\r\n          case 'S':\r\n            this.inFlowType = 'S'\r\n            this.form_inFlow_S.id = this.selectedInFlow.id\r\n            this.form_inFlow_S.pdPremType = this.selectedInFlow.pdPremType\r\n            this.form_inFlow_S.pdAccCapInOutMode = this.selectedInFlow.pdAccCapInOutMode\r\n            if (!this.selectedInFlow.pdAccCapCalcCode) {\r\n              this.form_inFlow_S.pdAccCapInOutMode1 = '1'\r\n              this.form_inFlow_S.pdAccCapInOutRatio = parseInt(this.selectedInFlow.pdAccCapInOutRatio * 100)\r\n              this.form_inFlow_S.pdAccInfMaxRatio = parseInt(this.selectedInFlow.pdAccInfMaxRatio * 100)\r\n              this.form_inFlow_S.pdAccInfMinRatio = parseInt(this.selectedInFlow.pdAccInfMinRatio * 100)\r\n            } else {\r\n              this.form_inFlow_S.pdAccCapInOutMode1 = '2'\r\n              this.form_inFlow_S.pdAccCapCalcCode = this.selectedInFlow.pdAccCapCalcCode\r\n            }\r\n            this.pdAccCapInfCode = this.selectedInFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n            break\r\n          case 'C':\r\n            this.inFlowType = 'C'\r\n            this.form_inFlow_C.id = this.selectedInFlow.id\r\n            this.form_inFlow_C.pdPremType = this.selectedInFlow.pdPremType\r\n            this.form_inFlow_C.pdAccCapInOutMode = this.selectedInFlow.pdAccCapInOutMode\r\n            if (!this.selectedInFlow.pdAccCapCalcCode) {\r\n              this.form_inFlow_C.pdAccCapInOutMode1 = '1'\r\n              this.form_inFlow_C.pdAccCapInOutRatio = parseInt(this.selectedInFlow.pdAccCapInOutRatio * 100)\r\n              this.form_inFlow_C.pdAccInfMaxRatio = parseInt(this.selectedInFlow.pdAccInfMaxRatio * 100)\r\n              this.form_inFlow_C.pdAccInfMinRatio = parseInt(this.selectedInFlow.pdAccInfMinRatio * 100)\r\n            } else {\r\n              this.form_inFlow_C.pdAccCapInOutMode1 = '2'\r\n              this.form_inFlow_C.pdAccCapCalcCode = this.selectedInFlow.pdAccCapCalcCode\r\n            }\r\n            this.pdAccCapInfCode = this.selectedInFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n            break\r\n          default:\r\n            this.inFlowType = ''\r\n            break\r\n        }\r\n        this.initpdAccFeeCapInOut(this.selectedInFlow, 'I')\r\n      }\r\n    },\r\n    selectedOutFlowChanged() {\r\n      this.clearOutFlow_SC()\r\n      this.clearPdAccCapIn_Fee()\r\n      this.pdAccCapOutfCode = ''\r\n      if (Object.keys(this.selectedOutFlow).length > 0) {\r\n        switch (this.selectedOutFlow.pdAccCapItemType) {\r\n          case 'S':\r\n            this.outFlowType = 'S'\r\n            this.form_outFlow_S.id = this.selectedOutFlow.id\r\n            this.form_outFlow_S.pdPremType = this.selectedOutFlow.pdPremType\r\n            this.form_outFlow_S.pdAccCapInOutMode = this.selectedOutFlow.pdAccCapInOutMode\r\n            if (!this.selectedOutFlow.pdAccCapCalcCode) {\r\n              this.form_outFlow_S.pdAccCapInOutMode1 = '1'\r\n              this.form_outFlow_S.pdAccCapInOutRatio = parseInt(this.selectedOutFlow.pdAccCapInOutRatio * 100)\r\n              this.form_outFlow_S.pdAccInfMaxRatio = parseInt(this.selectedOutFlow.pdAccInfMaxRatio * 100)\r\n              this.form_outFlow_S.pdAccInfMinRatio = parseInt(this.selectedOutFlow.pdAccInfMinRatio * 100)\r\n            } else {\r\n              this.form_outFlow_S.pdAccCapInOutMode1 = '2'\r\n              this.form_outFlow_S.pdAccCapCalcCode = this.selectedOutFlow.pdAccCapCalcCode\r\n            }\r\n            this.pdAccCapOutfCode = this.selectedOutFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n            break\r\n          case 'C':\r\n            this.outFlowType = 'C'\r\n            this.form_outFlow_C.id = this.selectedOutFlow.id\r\n            this.form_outFlow_C.pdPremType = this.selectedOutFlow.pdPremType\r\n            this.form_outFlow_C.pdAccCapInOutMode = this.selectedOutFlow.pdAccCapInOutMode\r\n            if (!this.selectedOutFlow.pdAccCapCalcCode) {\r\n              this.form_outFlow_C.pdAccCapInOutMode1 = '1'\r\n              this.form_outFlow_C.pdAccCapInOutRatio = parseInt(this.selectedOutFlow.pdAccCapInOutRatio * 100)\r\n              this.form_outFlow_C.pdAccInfMaxRatio = parseInt(this.selectedOutFlow.pdAccInfMaxRatio * 100)\r\n              this.form_outFlow_C.pdAccInfMinRatio = parseInt(this.selectedOutFlow.pdAccInfMinRatio * 100)\r\n            } else {\r\n              this.form_outFlow_C.pdAccCapInOutMode1 = '2'\r\n              this.form_outFlow_C.pdAccCapCalcCode = this.selectedOutFlow.pdAccCapCalcCode\r\n            }\r\n            this.pdAccCapOutfCode = this.selectedOutFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n            break\r\n          case 'PA':\r\n            this.outFlowType = 'PA'\r\n            this.form_outFlow_PA.id = this.selectedOutFlow.id\r\n            this.form_outFlow_PA.pdAccCapInOutMode = this.selectedOutFlow.pdAccCapInOutMode\r\n            this.form_outFlow_PA.pdAccCapInOutRatio = parseInt(this.selectedOutFlow.pdAccCapInOutRatio * 100)\r\n            this.form_outFlow_PA.pdAccInfMaxRatio = parseInt(this.selectedOutFlow.pdAccInfMaxRatio * 100)\r\n            this.form_outFlow_PA.pdAccInfMinRatio = parseInt(this.selectedOutFlow.pdAccInfMinRatio * 100)\r\n            this.pdAccCapOutfCode = this.selectedOutFlow.pdAccCapItemCode\r\n            this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n            break\r\n          default:\r\n            this.outFlowType = ''\r\n            break\r\n        }\r\n        this.initpdAccFeeCapInOut(this.selectedOutFlow, 'O')\r\n      }\r\n    },\r\n    showRelatedAccount(fundid) {\r\n      generalDoubleAccountVoAll(fundid).then(response => {\r\n        this.configs_account = response.data\r\n        this.dialogVisible.relatedAccount = true\r\n      })\r\n    },\r\n    deleteRate(row) {\r\n      this.listByProductAccount.splice(this.listByProductAccount.indexOf(row), 1)\r\n    },\r\n    deleteFund(row) {\r\n      this.pdAccFundList = this.pdAccFundList.filter(data => data.fundCode !== row.fundCode)\r\n    },\r\n    deleteAccFee(row, type) {\r\n      const params = {\r\n        pdInfoId: this.product.id,\r\n        pdVerId: this.product.pdVerId,\r\n        type: type,\r\n        id: row.id\r\n      }\r\n      deleteAccFee(this.buildRequestData(params)).then(() => {\r\n        if (type === 'I') {\r\n          this.initCapitalInflow().then(() => {\r\n            this.selectedInFlow = this._.find(this.inFlowList, {'id': this.selectedInFlow.id})\r\n            this.selectedInFlowChanged()\r\n          })\r\n        } else if (type === 'O') {\r\n          this.initCapitalOutflow().then(() => {\r\n            this.selectedOutFlow = this._.find(this.inFlowList, {'id': this.selectedOutFlow.id})\r\n            this.selectedOutFlowChanged()\r\n          })\r\n        }\r\n\r\n      })\r\n    },\r\n    addRate() {\r\n      this.resetFormFinancialIndex()\r\n      this.listByProductAccount.push(this.form_financialIndex)\r\n    },\r\n    showGeneralFund() {\r\n      if (!this.form_account.id) {\r\n        this.notifyError(this.$t('pdtempPdAcc.message.pleaseSelectAccount'))\r\n        return false\r\n      }\r\n      this.pdgenlfundData = {\r\n        \"id\": this.form_account.id, \"entrance\": \"pdAcc\",\r\n        \"accountCode\": this.form_account.pdAccCode,\r\n        \"accountName\": this.form_account.pdAccName\r\n      }\r\n      this.associateFund = true\r\n    },\r\n    changeDialogVisible_pdgenlfund(flag, list) {\r\n      this.associateFund = flag\r\n      for (const data of list) {\r\n        if (!this.pdAccFundList.some(v => v.fundCode === data.fundCode)) {\r\n          this.pdAccFundList.push(data)\r\n        }\r\n      }\r\n      // this.handleSearch()\r\n    },\r\n    //保存账户结构定义和账户保证利率定义\r\n    addAccountAndRate() {\r\n      this.$refs.form_account.validate(pass => {\r\n        if (pass) {\r\n          if (!this.listByProductAccount.length > 0) {\r\n            this.notifyError(this.$t('pdtempPdAcc.message.addAccTip'))\r\n            return false\r\n          }\r\n          let form_account = Object.assign({}, this.form_account)\r\n          form_account.pdAccountType = form_account.pdAccountType[1]\r\n\r\n          //处理利率\r\n          this.dealAccRate()\r\n          const params = {\r\n            product: this.product,\r\n            form_account: form_account,\r\n            pdtempPdFinIndList: this.listByProductAccount\r\n          }\r\n          addAccountAndRate(this.buildRequestData(params)).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            this.init()\r\n            this.resetForm()\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    //更新账户结构定义和账户保证利率定义\r\n    updateAccountAndRate() {\r\n      this.$refs.form_account.validate(pass => {\r\n        if (pass) {\r\n          if (!this.listByProductAccount.length > 0) {\r\n            this.notifyError(this.$t('pdtempPdAcc.message.addAccTip'))\r\n            return false\r\n          }\r\n          let form_account = Object.assign({}, this.form_account)\r\n          form_account.pdAccountType = form_account.pdAccountType[1]\r\n          this.dealAccRate()\r\n          const params = {\r\n            product: this.product,\r\n            accountId: this.selectedAccount.id,\r\n            form_account: form_account,\r\n            pdtempPdFinIndList: this.listByProductAccount\r\n          }\r\n          updateAccountAndRate(this.buildRequestData(params)).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            this.refreshAccDef()\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    refreshAccDef(flag = true) {\r\n      pdAccList(this.buildRequestData(this.params)).then(response => {\r\n        this.configs = response.data\r\n        this.selectedAccount = this._.find(this.configs, {'id': this.selectedAccount.id})\r\n        if (flag) {\r\n          this.selectedAccountChanged()\r\n        }\r\n      })\r\n    },\r\n    dealAccRate() {\r\n      //处理利率\r\n      this.listByProductAccount.forEach(data => {\r\n        data.pdAnnuRate = data.pdAnnuRate / 100\r\n        data.pdMonRate = data.pdMonRate / 100\r\n        data.pdDayRate = data.pdDayRate / 100\r\n      })\r\n    },\r\n    handleSearch() {\r\n      this.$refs.pageAccount.reload()\r\n      this.resetForm()\r\n    },\r\n    resetAccountAndRate() {\r\n      if (Object.keys(this.selectedAccount).length > 0) {\r\n        // 账户\r\n        this.initaccount_menu(this.selectedAccount)\r\n        // 利率\r\n        this.initRate()\r\n      } else {\r\n        this.resetFormAccount()\r\n        this.listByProductAccount = []\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.selectedAccount = {}\r\n      //最低保证利率表格\r\n      this.listByProductAccount = []\r\n      //投资标的表格\r\n      this.accFundTable = []\r\n      this.form_combination.premiumFlag1 = false\r\n      this.form_combination.premiumFlag2 = false\r\n      this.update = 'none'\r\n      this.add = ''\r\n      this.FundFlagupdate = 'none'\r\n      this.FundFlaAdd = ''\r\n      this.resetFormAccount()\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form_account\"].clearValidate()\r\n        this.activeName = 'account'\r\n      })\r\n    },\r\n    handleSaveFund() {\r\n      if (this.pdAccFundList.length === 0) {\r\n        this.notifyError(this.$t('pdtempPdAcc.message.pleaseAssociateFund'))\r\n        return false\r\n      }\r\n      let add = {}\r\n      let list = []\r\n      for (const item of this.pdAccFundList) {\r\n        add = {}\r\n        add.pdAccId = this.selectedAccount.id\r\n        add.accFundId = item.id\r\n        add.pdAccInvestRatio = item.fundInvestRatio / 100\r\n        add.pdAccCode = this.selectedAccount.pdAccountCode\r\n        add.pdAccName = this.selectedAccount.pdAccountName\r\n        add.pdAccFundCode = item.fundCode\r\n        add.pdAccFundChName = item.fundChName\r\n        add.pdVerId = this.product.pdVerId\r\n        add.pdInfoId = this.product.id\r\n        list.push(add)\r\n      }\r\n      addAllFund(this.buildRequestData({\r\n        accountId: this.selectedAccount.id,\r\n        pdtempPdAccFundList: list\r\n      })).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.refreshAccDef()\r\n      })\r\n    },\r\n    setPercentageVal() {\r\n      this.form_inFlow.pdAccCapInOutRatio = this.form_inFlow.pdAccCapInOutRatio / 100\r\n      this.form_inFlow.pdAccInfMaxRatio = this.form_inFlow.pdAccInfMaxRatio / 100\r\n      this.form_inFlow.pdAccInfMinRatio = this.form_inFlow.pdAccInfMinRatio / 100\r\n    },\r\n    setInFlow_IPercentageVal() {\r\n      this.form_inFlow_I.pdAccCapInOutRatio = this.form_inFlow_I.pdAccCapInOutRatio / 100\r\n      this.form_inFlow_I.pdAccInfMaxRatio = this.form_inFlow_I.pdAccInfMaxRatio / 100\r\n      this.form_inFlow_I.pdAccInfMinRatio = this.form_inFlow_I.pdAccInfMinRatio / 100\r\n    },\r\n    setInFlow_SPercentageVal() {\r\n      this.form_inFlow_S.pdAccCapInOutRatio = this.form_inFlow_S.pdAccCapInOutRatio / 100\r\n      this.form_inFlow_S.pdAccInfMaxRatio = this.form_inFlow_S.pdAccInfMaxRatio / 100\r\n      this.form_inFlow_S.pdAccInfMinRatio = this.form_inFlow_S.pdAccInfMinRatio / 100\r\n    },\r\n    setInFlow_CPercentageVal() {\r\n      this.form_inFlow_C.pdAccCapInOutRatio = this.form_inFlow_C.pdAccCapInOutRatio / 100\r\n      this.form_inFlow_C.pdAccInfMaxRatio = this.form_inFlow_C.pdAccInfMaxRatio / 100\r\n      this.form_inFlow_C.pdAccInfMinRatio = this.form_inFlow_C.pdAccInfMinRatio / 100\r\n    },\r\n    setOutFlow_PAPercentageVal() {\r\n      this.form_outFlow_PA.pdAccCapInOutRatio = this.form_outFlow_PA.pdAccCapInOutRatio / 100\r\n      this.form_outFlow_PA.pdAccInfMaxRatio = this.form_outFlow_PA.pdAccInfMaxRatio / 100\r\n      this.form_outFlow_PA.pdAccInfMinRatio = this.form_outFlow_PA.pdAccInfMinRatio / 100\r\n    },\r\n    setOutFlow_SPercentageVal() {\r\n      this.form_outFlow_S.pdAccCapInOutRatio = this.form_outFlow_S.pdAccCapInOutRatio / 100\r\n      this.form_outFlow_S.pdAccInfMaxRatio = this.form_outFlow_S.pdAccInfMaxRatio / 100\r\n      this.form_outFlow_S.pdAccInfMinRatio = this.form_outFlow_S.pdAccInfMinRatio / 100\r\n    },\r\n    setOutFlow_CPercentageVal() {\r\n      this.form_outFlow_C.pdAccCapInOutRatio = this.form_outFlow_C.pdAccCapInOutRatio / 100\r\n      this.form_outFlow_C.pdAccInfMaxRatio = this.form_outFlow_C.pdAccInfMaxRatio / 100\r\n      this.form_outFlow_C.pdAccInfMinRatio = this.form_outFlow_C.pdAccInfMinRatio / 100\r\n    },\r\n    handleSaveInFlow_P() {\r\n\r\n      let premium = this._.find(this.premiumOptionList, {'pdPremCode': this.selectedPremiumCode})\r\n      this.form_inFlow.pdAccCapItemId = premium.id\r\n      this.form_inFlow.pdAccCapItemCode = premium.pdPremCode\r\n      this.form_inFlow.pdAccCapItemName = premium.pdPayName\r\n\r\n      if (this.form_inFlow.formulaFlag === 'N') {\r\n        this.form_inFlow.pdCalcCode = undefined\r\n      }\r\n\r\n      this.setPercentageVal()\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'P',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.calcFlag = this.form_inFlow.pdAccCapInOutMode1 === '2'\r\n      this.resetFormInFlow()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateInFlow_P() {\r\n\r\n      let premium = this._.find(this.premiumOptionList, {'pdPremCode': this.selectedPremiumCode})\r\n      this.form_inFlow.pdAccCapItemId = premium.id\r\n      this.form_inFlow.pdAccCapItemCode = premium.pdPremCode\r\n      this.form_inFlow.pdAccCapItemName = premium.pdPayName\r\n\r\n      if (this.form_inFlow.formulaFlag === 'N') {\r\n        this.form_inFlow.pdCalcCode = undefined\r\n      }\r\n\r\n      //设置比例\r\n      if (this.form_inFlow.pdAccCapInOutMode1 === '1') {\r\n        this.setPercentageVal()\r\n      }\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'P',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_inFlow.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_inFlow.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_inFlow.pdAccCapCalcCode = ''\r\n      } else if (this.form_inFlow.pdAccCapInOutMode1 === '2') {\r\n        this.form_inFlow.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_inFlow.pdAccCapInOutMode1 === '2'\r\n      this.resetFormInFlow()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleSaveInFlow_I() {\r\n      let inv = this._.find(this.invOptionList, {'pdInvCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_I.pdAccCapItemId = inv.id\r\n      this.form_inFlow_I.pdAccCapItemCode = inv.pdInvCode\r\n      this.form_inFlow_I.pdAccCapItemName = inv.pdInvName\r\n\r\n      if (this.form_inFlow_I.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_IPercentageVal()\r\n      }\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'I',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_I,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.calcFlag = this.form_inFlow_I.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_I.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateInFlow_I() {\r\n      let inv = this._.find(this.invOptionList, {'pdInvCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_I.pdAccCapItemId = inv.id\r\n      this.form_inFlow_I.pdAccCapItemCode = inv.pdInvCode\r\n      this.form_inFlow_I.pdAccCapItemName = inv.pdInvName\r\n\r\n      if (this.form_inFlow_I.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_IPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'I',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_I,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_inFlow_I.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_inFlow_I.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_inFlow_I.pdAccCapCalcCode = ''\r\n      } else if (this.form_inFlow_I.pdAccCapInOutMode1 === '2') {\r\n        this.form_inFlow_I.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_inFlow_I.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_I.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleSaveInFlow_S() {\r\n      let sBnft = this._.find(this.srvlBnftOptionList, {'pdBnftCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_S.pdAccCapItemId = sBnft.id\r\n      this.form_inFlow_S.pdAccCapItemCode = sBnft.pdBnftCode\r\n      this.form_inFlow_S.pdAccCapItemName = sBnft.pdBnftName\r\n\r\n      if (this.form_inFlow_S.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_SPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'S',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_S,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.calcFlag = this.form_inFlow_S.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_S.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateInFlow_S() {\r\n      let sBnft = this._.find(this.srvlBnftOptionList, {'pdBnftCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_S.pdAccCapItemId = sBnft.id\r\n      this.form_inFlow_S.pdAccCapItemCode = sBnft.pdBnftCode\r\n      this.form_inFlow_S.pdAccCapItemName = sBnft.pdBnftName\r\n      if (this.form_inFlow_S.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_SPercentageVal()\r\n      }\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'S',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_S,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_inFlow_S.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_inFlow_S.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_inFlow_S.pdAccCapCalcCode = ''\r\n      } else if (this.form_inFlow_S.pdAccCapInOutMode1 === '2') {\r\n        this.form_inFlow_S.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_inFlow_S.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_S.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleSaveInFlow_C() {\r\n\r\n      let cBnft = this._.find(this.clmBnftOptionList, {'pdBnftCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_C.pdAccCapItemId = cBnft.id\r\n      this.form_inFlow_C.pdAccCapItemCode = cBnft.pdBnftCode\r\n      this.form_inFlow_C.pdAccCapItemName = cBnft.pdBnftName\r\n\r\n      if (this.form_inFlow_C.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_CPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'C',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_C,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.calcFlag = this.form_inFlow_C.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_C.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateInFlow_C() {\r\n      let cBnft = this._.find(this.clmBnftOptionList, {'pdBnftCode': this.pdAccCapInfCode})\r\n      this.form_inFlow_C.pdAccCapItemId = cBnft.id\r\n      this.form_inFlow_C.pdAccCapItemCode = cBnft.pdBnftCode\r\n      this.form_inFlow_C.pdAccCapItemName = cBnft.pdBnftName\r\n\r\n      if (this.form_inFlow_C.pdAccCapInOutMode1 === '1') {\r\n        this.setInFlow_CPercentageVal()\r\n      }\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'C',\r\n        pdAccCapFlowType: 'I',\r\n        premiumInFlow: this.form_inFlow_C,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_inFlow_C.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_inFlow_C.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_inFlow_C.pdAccCapCalcCode = ''\r\n      } else if (this.form_inFlow_C.pdAccCapInOutMode1 === '2') {\r\n        this.form_inFlow_C.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_inFlow_C.pdAccCapInOutMode1 === '2'\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const inFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalInflow().then(() => {\r\n          this.selectedInFlow = this._.find(this.inFlowList, {'id': inFlow.id})\r\n          this.selectedInFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_inFlow_C.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n\r\n\r\n    handleSaveOutFlow_S() {\r\n      let item = this._.find(this.srvlBnftOptionList, {'pdBnftCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_S.pdAccCapItemId = item.id\r\n      this.form_outFlow_S.pdAccCapItemCode = item.pdBnftCode\r\n      this.form_outFlow_S.pdAccCapItemName = item.pdBnftName\r\n\r\n      if (this.form_outFlow_S.pdAccCapInOutMode1 === '1') {\r\n        this.setOutFlow_SPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'S',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_S\r\n      }\r\n      this.calcFlag = this.form_outFlow_S.pdAccCapInOutMode1 === '2'\r\n      this.resetFormOutFlowS()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_outFlow_S.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateOutFlow_S() {\r\n      let item = this._.find(this.srvlBnftOptionList, {'pdBnftCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_S.pdAccCapItemId = item.id\r\n      this.form_outFlow_S.pdAccCapItemCode = item.pdBnftCode\r\n      this.form_outFlow_S.pdAccCapItemName = item.pdBnftName\r\n\r\n      if (this.form_outFlow_S.pdAccCapInOutMode1 === '1') {\r\n        this.setOutFlow_SPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'S',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_S,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_outFlow_S.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_outFlow_S.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_outFlow_S.pdAccCapCalcCode = ''\r\n      } else if (this.form_outFlow_S.pdAccCapInOutMode1 === '2') {\r\n        this.form_outFlow_S.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_outFlow_S.pdAccCapInOutMode1 === '2'\r\n      this.resetFormOutFlowS()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_outFlow_S.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleSaveOutFlow_C() {\r\n      let item = this._.find(this.clmBnftOptionList, {'pdBnftCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_C.pdAccCapItemId = item.id\r\n      this.form_outFlow_C.pdAccCapItemCode = item.pdBnftCode\r\n      this.form_outFlow_C.pdAccCapItemName = item.pdBnftName\r\n\r\n      if (this.form_outFlow_C.pdAccCapInOutMode1 === '1') {\r\n        this.setOutFlow_CPercentageVal()\r\n      }\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'C',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_C,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.calcFlag = this.form_outFlow_C.pdAccCapInOutMode1 === '2'\r\n      this.resetFormOutFlowC()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_outFlow_C.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateOutFlow_C() {\r\n      let item = this._.find(this.clmBnftOptionList, {'pdBnftCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_C.pdAccCapItemId = item.id\r\n      this.form_outFlow_C.pdAccCapItemCode = item.pdBnftCode\r\n      this.form_outFlow_C.pdAccCapItemName = item.pdBnftName\r\n      if (this.form_outFlow_C.pdAccCapInOutMode1 === '1') {\r\n        this.setOutFlow_CPercentageVal()\r\n      }\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'C',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_C,\r\n        pdAccFeeList: this.premiumFeeList,\r\n        deleteFormulaFlag: false\r\n      }\r\n      if (this.form_outFlow_C.pdAccCapInOutMode1 === '1') {\r\n        if (this.form_outFlow_C.pdAccCapCalcCode) {\r\n          params.deleteFormulaFlag = true\r\n        }\r\n        this.form_outFlow_C.pdAccCapCalcCode = ''\r\n      } else if (this.form_outFlow_C.pdAccCapInOutMode1 === '2') {\r\n        this.form_outFlow_C.pdAccCapInOutRatio = ''\r\n      }\r\n      this.calcFlag = this.form_outFlow_C.pdAccCapInOutMode1 === '2'\r\n      this.resetFormOutFlowC()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n          if (this.calcFlag) {\r\n            this.form_outFlow_C.pdAccCapInOutMode1 = '2'\r\n          }\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleSaveOutFlow_PA() {\r\n      let item = this._.find(this.pdPaOptionList, {'paCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_PA.pdAccCapItemId = item.id\r\n      this.form_outFlow_PA.pdAccCapItemCode = item.paCode\r\n      this.form_outFlow_PA.pdAccCapItemName = item.paName\r\n\r\n      this.setOutFlow_PAPercentageVal()\r\n\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'PA',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_PA,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.resetFormOutFlowPA()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    handleUpdateOutFlow_PA() {\r\n      let item = this._.find(this.pdPaOptionList, {'paCode': this.pdAccCapOutfCode})\r\n      this.form_outFlow_PA.pdAccCapItemId = item.id\r\n      this.form_outFlow_PA.pdAccCapItemCode = item.paCode\r\n      this.form_outFlow_PA.pdAccCapItemName = item.paName\r\n\r\n      this.setOutFlow_PAPercentageVal()\r\n      const params = {\r\n        product: this.product,\r\n        accountId: this.selectedAccount.id,\r\n        type: 'PA',\r\n        pdAccCapFlowType: 'O',\r\n        premiumInFlow: this.form_outFlow_PA,\r\n        pdAccFeeList: this.premiumFeeList\r\n      }\r\n      this.resetFormOutFlowPA()\r\n      addAllRInFlow(this.buildRequestData(params)).then(response => {\r\n        const outFlow = response.data\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initCapitalOutflow().then(() => {\r\n          this.selectedOutFlow = this._.find(this.outFlowList, {'id': outFlow.id})\r\n          this.selectedOutFlowChanged()\r\n        })\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    resetFormAccountFee() {\r\n      this.form_account_fee = {\r\n        id: undefined,\r\n        pdVerId: undefined,\r\n        pdInfoId: undefined,\r\n        pdAccountId: undefined,\r\n        pdAccFeeOrder: undefined,\r\n        pdAccFeeFinalVal: undefined,\r\n        pdAccFeeFinalRatio: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdAccountCode: '',\r\n        pdAccountName: '',\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: '',\r\n        pdAccFeeType: '',\r\n        pdAccItemType: '',\r\n        pdAccFeeDeduType: '',\r\n        pdAccFeeDeduFreq: '',\r\n        pdAccFeeCalcMode: '',\r\n        pdAccFeeCalcType: '',\r\n        pdAccFeeZeroFlag: 'N',\r\n        pdAccFeeCalcCode: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_account_fee.clearValidate()\r\n      })\r\n    },\r\n    accFeeresetForm() {\r\n      this.accFeeAdd = ''\r\n      this.accFeeUpdate = 'none'\r\n      this.accFeeResetForm = ''\r\n      this.accFee = {}\r\n      this.resetFormAccountFee()\r\n    },\r\n    //删除当前产品账户的一条账户\r\n    accountDelete(row) {\r\n      const params = {pdtempPdAcc: row}\r\n      accountDeleteDef(this.buildRequestData(params)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.init()\r\n        this.resetForm()\r\n      })\r\n    },\r\n    handleDeleteInFlow(row, type) {\r\n      const params = {\r\n        productId: this.product.id,\r\n        accountId: this.selectedAccount.id,\r\n        inFlow: row\r\n      }\r\n      deleteInFlow(this.buildRequestData(params)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.initCapitalInflow()\r\n        this.selectedInFlow = {}\r\n        this.inFlowType = ''\r\n        this.selectedPremiumCode = ''\r\n        this.resetFormInFlow()\r\n        this.initpdAccFeeCapInOut(row, type)\r\n        this.refreshAccDef(false)\r\n      })\r\n    },\r\n    clearInFlow_P() {\r\n      this.form_inFlow = {\r\n        pdAccCapInOutRatio: '',\r\n        pdPremType: '',\r\n        pdAddAmountType: 'R',\r\n        pdAccCapInOutMode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccCapCalcCode: '',\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdAccId: undefined,\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccCapInfType: '',\r\n        pdAccCapInfDetail: '',\r\n        pdAccCapInfId: undefined,\r\n        pdAccCapInfCode: '',\r\n        pdAccCapInfName: '',\r\n        pdAccInfMode: '',\r\n        createTime: '',\r\n        updateTime: '',\r\n        feeCount: '',\r\n        feeList: [],\r\n        accountOwner: '',\r\n        formulaFlag: 'N'\r\n      }\r\n    },\r\n    clearInFlow_I() {\r\n      this.form_inFlow_I = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    clearInFlow_S() {\r\n      this.form_inFlow_S = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    clearInFlow_C() {\r\n      this.form_inFlow_C = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    clearOutFlow_S() {\r\n      this.form_outFlow_S = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    clearOutFlow_C() {\r\n      this.form_outFlow_C = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    clearInFlow_PISC() {\r\n      this.clearInFlow_P()\r\n      this.clearInFlow_I()\r\n      this.clearInFlow_S()\r\n      this.clearInFlow_C()\r\n    },\r\n    clearOutFlow_SC() {\r\n      this.clearOutFlow_S()\r\n      this.clearOutFlow_C()\r\n    },\r\n    bringSrvlBnft(val) {\r\n      for (const srvlBnft of this.srvlBnftOptionList) {\r\n        if (srvlBnft.pdBnftCode === val) {\r\n          this.pdAccCapOutfId = srvlBnft.id\r\n          this.pdAccCapOutfCode = srvlBnft.pdBnftCode\r\n          this.pdAccCapOutfName = srvlBnft.pdBnftName\r\n          this.form_outFlow_S.pdPremType = srvlBnft.pdBnftDetailType\r\n          break\r\n        }\r\n      }\r\n    },\r\n    bringClmBnft(val) {\r\n      for (const clmBnft of this.clmBnftOptionList) {\r\n        if (clmBnft.pdBnftCode === val) {\r\n          this.pdAccCapOutfId = clmBnft.id\r\n          this.pdAccCapOutfCode = clmBnft.pdBnftCode\r\n          this.pdAccCapOutfName = clmBnft.pdBnftName\r\n          this.form_outFlow_C.pdPremType = clmBnft.pdBnftDetailType\r\n          break\r\n        }\r\n      }\r\n    },\r\n    bringPdPa(val) {\r\n      for (const pdPa of this.pdPaOptionList) {\r\n        if (pdPa.paCode === val) {\r\n          this.pdAccCapOutfId = pdPa.id\r\n          this.pdAccCapOutfCode = pdPa.paCode\r\n          this.pdAccCapOutfName = pdPa.paName\r\n          this.form_outFlow_C.pdPremType = ''\r\n          break\r\n        }\r\n      }\r\n    },\r\n    bringInv(val) {\r\n      for (const inv of this.invOptionList) {\r\n        if (inv.pdInvCode === val) {\r\n          this.pdAccCapId = inv.id\r\n          this.pdAccCapInfCode = inv.pdInvCode\r\n          this.pdAccCapInfName = inv.pdInvName\r\n          this.form_inFlow_I.pdPremType = inv.pdInvType\r\n          break\r\n        }\r\n      }\r\n    },\r\n    bringSrvl(val) {\r\n      for (const srvl of this.srvlBnftOptionList) {\r\n        if (srvl.pdBnftCode === val) {\r\n          this.pdAccCapId = srvl.id\r\n          this.pdAccCapInfCode = srvl.pdBnftCode\r\n          this.pdAccCapInfName = srvl.pdBnftName\r\n          this.form_inFlow_S.pdPremType = srvl.pdBnftDetailType\r\n          break\r\n        }\r\n      }\r\n    },\r\n    bringClm(val) {\r\n      for (const clm of this.clmBnftOptionList) {\r\n        if (clm.pdBnftCode === val) {\r\n          this.pdAccCapId = clm.id\r\n          this.pdAccCapInfCode = clm.pdBnftCode\r\n          this.pdAccCapInfName = clm.pdBnftName\r\n          this.form_inFlow_C.pdPremType = clm.pdBnftDetailType\r\n          break\r\n        }\r\n      }\r\n    },\r\n    resetFormAccount() {\r\n      this.form_account = {\r\n        id: undefined,\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccountType: [],\r\n        pdAccountDetType: '',\r\n        pdAccFinType: '1',\r\n        pdAccountOwner: '1',\r\n        pdAccInvestType: '',\r\n        pdAccountCurrency: '01',\r\n        pdAccCrePlace: '1',\r\n        pdAccCrtDate: '1',\r\n        pdAccCodeRule: '3',\r\n        pdAccDealFreq: '',\r\n        pdAccDealDay: '1',\r\n        pdAccDealInstMode: '',\r\n        pdAccFundFlag: 'N'\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_account.clearValidate()\r\n      })\r\n    },\r\n    resetFormAccountVo() {\r\n      this.form_accountVo = {\r\n        id: undefined,\r\n        operator: '',\r\n        accountCode: '',\r\n        accountName: '',\r\n        accountType: '',\r\n        accFinType: '',\r\n        accountOwner: '',\r\n        accInvestType: '',\r\n        accountCurrency: '',\r\n        accCrePlace: '',\r\n        accCrtDate: '',\r\n        accCodeRule: '',\r\n        accDealFreq: '',\r\n        accDealDay: undefined,\r\n        accDealInstMode: '',\r\n        accFundFlag: '',\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        feeCount: undefined,\r\n        feeList: [],\r\n        fundCount: undefined,\r\n        fundList: []\r\n      }\r\n    },\r\n    resetFormFundVo() {\r\n      this.form_fundVo = {\r\n        id: undefined,\r\n        operator: '',\r\n        fundCode: '',\r\n        fundChName: '',\r\n        fundEnName: '',\r\n        fundCompName: '',\r\n        fundType: '',\r\n        fundRiskGrade: '',\r\n        fundCurrency: '',\r\n        fundState: '',\r\n        fundStateValiDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        fundInvestRatio: undefined\r\n      }\r\n    },\r\n    resetFormFinancialIndex() {\r\n      this.form_financialIndex = {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdFinIndiAttr: '',\r\n        pdBussId: undefined,\r\n        pdBussCode: '',\r\n        pdFinIndiType: '',\r\n        pdRateCurr: '',\r\n        pdAnnuRate: undefined,\r\n        pdMonRate: undefined,\r\n        pdDayRate: undefined,\r\n        pdLevyFlag: '',\r\n        pdTaxRate: undefined,\r\n        pdMngCom: '',\r\n        pdVailStartDate: new Date(),\r\n        pdVailEndDate: '9999-12-31',\r\n        pdFinIndFeeType: '',\r\n        pdSuitFlag: '',\r\n        pdCalcId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n    },\r\n    resetFormInFlow() {\r\n      this.form_inFlow = {\r\n        pdAccCapInOutRatio: '',\r\n        pdPremType: '',\r\n        pdAddAmountType: 'R',\r\n        pdAccCapInOutMode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccCapCalcCode: '',\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdAccId: undefined,\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccCapInfType: '',\r\n        pdAccCapInfDetail: '',\r\n        pdAccCapInfId: undefined,\r\n        pdAccCapInfCode: '',\r\n        pdAccCapInfName: '',\r\n        pdAccInfMode: '',\r\n        createTime: '',\r\n        updateTime: '',\r\n        feeCount: '',\r\n        feeList: [],\r\n        accountOwner: '',\r\n        formulaFlag: 'N'\r\n      }\r\n    },\r\n    resetFormInFlowI() {\r\n      this.form_inFlow_I = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormInFlowS() {\r\n      this.form_inFlow_S = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormInFlowC() {\r\n      this.form_inFlow_C = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormOutFlowS() {\r\n      this.form_outFlow_S = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormOutFlowC() {\r\n      this.form_outFlow_C = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormOutFlowPA() {\r\n      this.form_outFlow_PA = {\r\n        id: '',\r\n        pdAccCapCalcCode: '',\r\n        pdAccCapInOutMode1: '',\r\n        pdAccInfMinRatio: '',\r\n        pdAccInfMaxRatio: '',\r\n        pdAccCapInOutRatio: '1',\r\n        pdAccCapInOutMode: '',\r\n        pdPremType: ''\r\n      }\r\n    },\r\n    resetFormPdAccFee() {\r\n      this.form_pdAccFee = {\r\n        id: undefined,\r\n        accountFeeId: undefined,\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      }\r\n    },\r\n    resetFormOutFlow() {\r\n      this.form_outFlow = {\r\n        id: undefined,\r\n        pdAccCapOutfType: '',\r\n        pdAccCapOutfId: undefined,\r\n        pdAccCapOutfCode: '',\r\n        pdAccCapOutfName: '',\r\n        pdAccOutfMode: '',\r\n        pdAccOutfRatio: undefined,\r\n        pdCalcId: undefined\r\n      }\r\n    },\r\n    resetFormSrvlBnft() {\r\n      this.form_srvlBnft = {\r\n        id: undefined,\r\n        pdSrvlBnftCode: '',\r\n        pdSrvlBnftName: '',\r\n        pdSrvlBnftType: ''\r\n      }\r\n    },\r\n    resetFormClmBnft() {\r\n      this.form_clmBnft = {\r\n        id: undefined,\r\n        pdClmBnftCode: '',\r\n        pdClmBnftName: '',\r\n        pdClmBnftType: ''\r\n      }\r\n    },\r\n    handleSavePdAccCapIn_Fee(type) {\r\n      this.$refs.form_pdAccCapIn_Fee.validate((valid) => {\r\n        if (valid) {\r\n          this.form_pdAccCapIn_Fee.pdAccCapId = type === 'I' ? this.selectedInFlow.id : this.selectedOutFlow.id\r\n          this.form_pdAccCapIn_Fee.pdVerId = this.product.pdVerId\r\n          this.form_pdAccCapIn_Fee.pdInfoId = this.product.id\r\n          this.form_pdAccCapIn_Fee.pdAccId = this.selectedAccount.id\r\n\r\n          if (this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio) {\r\n            this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio = this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio / 100\r\n          }\r\n\r\n          if (this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio) {\r\n            this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio = this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio / 100\r\n          }\r\n\r\n          const params = {'formPdAccCapInFee': this.form_pdAccCapIn_Fee, 'type': type, 'product': this.product}\r\n          savePdAccCapInFee(this.buildRequestData(params)).then(res => {\r\n            if (res.data === -1) {\r\n              this.notifyError(this.$t('pdtempPdAcc.message.feeOrderDeuDuplicate'))\r\n              return\r\n            }\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            if (type === 'I') {\r\n              this.initCapitalInflow().then(() => {\r\n                this.selectedInFlow = this._.find(this.inFlowList, {'id': this.selectedInFlow.id})\r\n                this.selectedInFlowChanged()\r\n              })\r\n            } else if (type === 'O') {\r\n              this.initCapitalOutflow().then(() => {\r\n                this.selectedOutFlow = this._.find(this.outFlowList, {'id': this.selectedOutFlow.id})\r\n                this.selectedOutFlowChanged()\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    handleUpdatePdAccCapIn_Fee(type) {\r\n      let accFee = this._.find(this.accFeeOptionList, {'pdAccFeeCode': this.pdAccFeeCode})\r\n      this.form_pdAccCapIn_Fee.accountFeeId = accFee.id\r\n      this.form_pdAccCapIn_Fee.pdAccFeeCode = accFee.pdAccFeeCode\r\n      this.form_pdAccCapIn_Fee.pdAccFeeName = accFee.pdAccFeeName\r\n\r\n      if (this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio) {\r\n        this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio = this.form_pdAccCapIn_Fee.pdAccFeeFinalRatio / 100\r\n      }\r\n\r\n      if (this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio) {\r\n        this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio = this.form_pdAccCapIn_Fee.pdAccFeeMaxFinalRatio / 100\r\n      }\r\n\r\n      const params = {'formPdAccCapInFee': this.form_pdAccCapIn_Fee, 'type': type, 'product': this.product}\r\n      savePdAccCapInFee(this.buildRequestData(params)).then(res => {\r\n        if (res.data === -1) {\r\n          this.notifyError(this.$t('pdtempPdAcc.message.feeOrderDeuDuplicate'))\r\n          return\r\n        }\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.initpdAccFeeCapInOut(type === 'I' ? this.selectedInFlow : this.selectedOutFlow, type)\r\n        this.clearPdAccCapIn_Fee()\r\n      })\r\n    },\r\n    resetFormPdAccCapInFee() {\r\n      this.form_pdAccCapIn_Fee = {\r\n        id: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdAccCapId: '',\r\n        pdAccId: '',\r\n        pdAccFeeId: '',\r\n        pdAccFeeDeduOrder: '',\r\n        pdAccFeeDeduTime: '',\r\n        pdAccFirstFeeDeduDay: '',\r\n        pdAccFeeFinalVal: '',\r\n        pdAccFeeFinalMaxVal: '',\r\n        pdAccFeeFinalRatio: '',\r\n        pdAccFeeMaxFinalRatio: '',\r\n        pdCalcCode: '',\r\n        pdAccCapCode: '',\r\n        pdAccCode: '',\r\n        pdAccName: '',\r\n        pdAccFeeCode: '',\r\n        pdAccFeeName: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        if (this.$refs.form_pdAccCapIn_Fee) {\r\n          this.$refs.form_pdAccCapIn_Fee.clearValidate()\r\n        }\r\n      })\r\n    },\r\n    clearPdAccCapIn_Fee() {\r\n      this.resetFormPdAccCapInFee()\r\n      this.selectedPdAccountFee = {}\r\n      if (this.activatedName === 'inFlow') {\r\n        this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n      } else if (this.activatedName === 'outFlow') {\r\n        this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n      }\r\n    },\r\n    refreshPdAccCapFee() {\r\n      if (Object.keys(this.selectedPdAccountFee).length > 0) {\r\n        this.selectedPdAccountFeeChange(this.selectedPdAccountFee)\r\n      } else {\r\n        this.resetFormPdAccCapInFee()\r\n        this.setCapFeeFinalValOrFinalRatio()\r\n        this.pdAccFeeCode = ''\r\n        if (this.activatedName === 'inFlow') {\r\n          this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedInFlow.pdAccCapItemCode\r\n        } else if (this.activatedName === 'outFlow') {\r\n          this.form_pdAccCapIn_Fee.pdAccCapCode = this.selectedOutFlow.pdAccCapItemCode\r\n        }\r\n      }\r\n    },\r\n    clearAllCode() {\r\n      this.pdAccCapOutfCode = ''\r\n      this.pdAccFeeCode = ''\r\n      this.pdAccCapInfCode = ''\r\n      this.selectedPremiumCode = ''\r\n    },\r\n    initAccFeeOrderVal() {\r\n      this.form_account_fee.pdAccFeeOrder = 1\r\n      if (this.selectedAccount.feeCount != null && this.selectedAccount.feeCount !== 0) {\r\n        let feeOrders = this._.map(this.accFeeTableList, 'pdAccFeeOrder')\r\n        this.form_account_fee.pdAccFeeOrder = this._.max(feeOrders) + 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n.showDiv {\r\n  width: 90%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n</style>\r\n"]}]}
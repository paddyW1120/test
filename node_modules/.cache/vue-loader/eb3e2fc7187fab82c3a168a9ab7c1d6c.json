{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-compensation-def\\main\\compensationFormulaSelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-compensation-def\\main\\compensationFormulaSelect\\index.vue","mtime":1609847106931},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7YXNzb2NpYXRlfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcHJvZHVjdENvbXBlbnNhdGlvbiINCmltcG9ydCB7ZmluZEFsbFByb2R1Y3RCeURldGFpbFR5cGV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9pbnZBbW91bnRGb3JtdWxhIg0KDQpsZXQgX3RoaXMNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnY29tcGVuc2F0aW9uRm9ybXVsYVNlbGVjdCcsDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRCdXNzVHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQ2FsY0J1c3NUeXBlJywgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBkaXNwbGF5Rm9ybTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgX3RoaXMgPSB0aGlzDQogICAgcmV0dXJuIHsNCiAgICAgIHByb2R1Y3RUeXBlOiAnJywNCiAgICAgIHByb2R1Y3REZXRhaWxUeXBlOiAnJywNCiAgICAgIHByb2R1Y3Q6IHsNCiAgICAgICAgaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgYlR5cGU6ICcnLA0KICAgICAgICBjVHlwZTogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkRWRpdGlvbjogJycsDQogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRTYWxlY2hubDogJycsDQogICAgICAgIHBkTmFtZTogJycsDQogICAgICAgIHBkU2hvcnRuYW1lOiAnJywNCiAgICAgICAgcGRFbk5hbWU6ICcnLA0KICAgICAgICBwZFNob3J0RW5OYW1lOiAnJywNCiAgICAgICAgb3BlcmF0b3I6ICcnLA0KICAgICAgICBwZFN0YXJ0RGF0ZVJ1bGU6ICcnLA0KICAgICAgICBwZFN0YXJ0RGF0ZU1vZGU6ICcnLA0KICAgICAgICBwZFN0YXJ0UGVyaW9kOiB1bmRlZmluZWQsDQogICAgICAgIHBkU3RhcnRQZXJpb2RVbml0OiAnJywNCiAgICAgICAgcGRFbmREYXRlUnVsZTogJycsDQogICAgICAgIHBkRW5kRGF0ZU1vZGU6ICcnLA0KICAgICAgICBwZEVuZFBlcmlvZDogdW5kZWZpbmVkLA0KICAgICAgICBwZEVuZFBlcmlvZFVuaXQ6ICcnLA0KICAgICAgICBwZEdyYWNlUGVyaW9kOiB1bmRlZmluZWQsDQogICAgICAgIHBkT2JzZXJ2YXRpb25EYXk6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRBcHBsRGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLA0KICAgICAgICBwZFN0YXJ0RGF0ZTogdW5kZWZpbmVkLA0KICAgICAgICBwZFN0b3BEYXRlOiB1bmRlZmluZWQsDQogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHByb2R1Y3Q6IHVuZGVmaW5lZCwNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5kaXNwbGF5Rm9ybS5jYWxjRGV0YWlsVHlwZSwNCiAgICAgICAgY3VycmVudF9wZEJ1c3NJZDogdGhpcy5kaXNwbGF5Rm9ybS5wZHRlbXBDbG1DdHJsTGltSWQsDQogICAgICAgIGVxX3Byb2R1Y3REZXRhaWxUeXBlOiAnJywNCiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgbGlrZV9wZENhbGNDb2RlOiAnJw0KICAgICAgfSwNCiAgICAgIHByb2R1Y3RPcHRpb25MaXN0OiBbXSwNCiAgICAgIGludk9wdGlvbnM6IFtdLA0KICAgICAgcnVsZVRhYmxlOiBbXSwNCiAgICAgIGZvcm11bGFWaWV3OiB7DQogICAgICAgIGZsYWc6ICcnLA0KICAgICAgICBydWxlQ29kZTogJycsDQogICAgICAgIHBlcmZvcm1UeXBlOiAnJywNCiAgICAgICAgdmlzaWJsZTogZmFsc2UNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgbGV0IHBkdGVtcFBkSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCkNCiAgICBpZiAoT2JqZWN0LmtleXMocGR0ZW1wUGRJbmZvKS5sZW5ndGggPiAwKSB7DQogICAgICBPYmplY3QuYXNzaWduKHRoaXMucHJvZHVjdCwgcGR0ZW1wUGRJbmZvKQ0KICAgICAgdGhpcy5wYXJhbXMucHJvZHVjdCA9IHRoaXMucHJvZHVjdA0KICAgICAgdGhpcy5wYXJhbXMuZXFfcHJvZHVjdERldGFpbFR5cGUgPSB0aGlzLnByb2R1Y3QuY1R5cGUNCiAgICAgIHRoaXMucHJvZHVjdERldGFpbFR5cGVDaGFuZ2VkKHRoaXMucHJvZHVjdC5jVHlwZSkNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdtZXNzYWdlLmludmFsaWRQcm9kdWN0SW5mbycpKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJ1bGVNYWtlQ2xvc2VkKCkgew0KICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2UNCiAgICB9LA0KICAgIHNob3dGb3JtdWxhKHJvdykgew0KICAgICAgdGhpcy5mb3JtdWxhVmlldy5mbGFnID0gJzEnDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlDQogICAgICB0aGlzLmZvcm11bGFWaWV3LnJ1bGVDb2RlID0gcm93LnBkQ2FsY0NvZGUNCiAgICAgIHRoaXMuZm9ybXVsYVZpZXcudmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGdldENhcHRpb24ob2JqLCBzdGF0ZSkgew0KICAgICAgY29uc3QgaW5kZXggPSBvYmoubGFzdEluZGV4T2YoIjoiKQ0KICAgICAgaWYgKHN0YXRlID09PSAwKSB7DQogICAgICAgIHJldHVybiBvYmouc3Vic3RyaW5nKDAsIGluZGV4KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgYmFjaygpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdCcsIGZhbHNlKQ0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0Rm9ybXVsYShyb3cpIHsNCiAgICAgIGxldCBwZHRlbXBQZENhbGMgPSB7DQogICAgICAgIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsDQogICAgICAgIHBkVmVySWQ6IHRoaXMucHJvZHVjdC5wZFZlcklkLA0KICAgICAgICBwZFR5cGU6ICcnLA0KICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsDQogICAgICAgIHBkQnVzc1R5cGU6ICcnLA0KICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiB0aGlzLmRpc3BsYXlGb3JtLmNhbGNEZXRhaWxUeXBlLA0KICAgICAgICBwZEJ1c3NJZDogdGhpcy5kaXNwbGF5Rm9ybS5wZHRlbXBDbG1DdHJsTGltSWQsDQogICAgICAgIHBkQnVzc0NvZGU6IHRoaXMuZGlzcGxheUZvcm0ucGRCbmZ0Q3RybENvZGUsDQogICAgICAgIHBkU3RydWN0dXJlVHlwZTogJycsDQogICAgICAgIHBkQ2FsY0NvZGU6IHJvdy5wZENhbGNDb2RlLA0KICAgICAgICBwZENhbGNEZXNjOiByb3cucGRDYWxjRGVzYw0KICAgICAgfQ0KICAgICAgc3dpdGNoICh0aGlzLmRpc3BsYXlGb3JtLmNhbGNEZXRhaWxUeXBlKSB7DQogICAgICAgIGNhc2UgIjU0IjoNCiAgICAgICAgY2FzZSAiNTUiOg0KICAgICAgICBjYXNlICI1NiI6DQogICAgICAgIGNhc2UgIjU3IjoNCiAgICAgICAgY2FzZSAiNTgiOg0KICAgICAgICBjYXNlICI1OSI6DQogICAgICAgICAgcGR0ZW1wUGRDYWxjLnBkQnVzc1R5cGUgPSAnMTAnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiMjIiOg0KICAgICAgICBjYXNlICIyMyI6DQogICAgICAgIGNhc2UgIjI0IjoNCiAgICAgICAgY2FzZSAiMjUiOg0KICAgICAgICBjYXNlICIyNiI6DQogICAgICAgIGNhc2UgIjUwIjoNCiAgICAgICAgY2FzZSAiNTEiOg0KICAgICAgICBjYXNlICI1MiI6DQogICAgICAgIGNhc2UgIjUzIjoNCiAgICAgICAgY2FzZSAiNjMiOg0KICAgICAgICBjYXNlICI2NCI6DQogICAgICAgIGNhc2UgIjY1IjoNCiAgICAgICAgICBwZHRlbXBQZENhbGMucGRCdXNzVHlwZSA9ICcyJw0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgICBzd2l0Y2ggKHRoaXMuZGlzcGxheUZvcm0ucGRCbmZ0Q3RybExpbUxldmVsKSB7DQogICAgICAgIGNhc2UgIjEiOg0KICAgICAgICBjYXNlICIyIjoNCiAgICAgICAgY2FzZSAiMTIiOg0KICAgICAgICAgIHBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMTUnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiMyI6DQogICAgICAgIGNhc2UgIjQiOg0KICAgICAgICAgIHBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMTYnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiNSI6DQogICAgICAgIGNhc2UgIjYiOg0KICAgICAgICBjYXNlICIxMSI6DQogICAgICAgICAgcGR0ZW1wUGRDYWxjLnBkU3RydWN0dXJlVHlwZSA9ICcxOCcNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICI3IjoNCiAgICAgICAgY2FzZSAiOCI6DQogICAgICAgICAgcGR0ZW1wUGRDYWxjLnBkU3RydWN0dXJlVHlwZSA9ICcxMycNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICI5IjoNCiAgICAgICAgY2FzZSAiMTAiOg0KICAgICAgICAgIHBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMTQnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiMTMiOg0KICAgICAgICBjYXNlICIxNCI6DQogICAgICAgICAgcGR0ZW1wUGRDYWxjLnBkU3RydWN0dXJlVHlwZSA9ICcxMicNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgIHNlbGVjdGVkRm9ybXVsYTogcm93LA0KICAgICAgICBwZHRlbXBQZENhbGM6IHBkdGVtcFBkQ2FsYywNCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LA0KICAgICAgICBwZEJ1c3NUeXBlOiBwZHRlbXBQZENhbGMucGRCdXNzVHlwZSwNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5kaXNwbGF5Rm9ybS5jYWxjRGV0YWlsVHlwZSwNCiAgICAgICAgbmVlZENoZWNraW5nOiB0cnVlDQogICAgICB9DQogICAgICBhc3NvY2lhdGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGxldCBmbGFnID0gcmVzcG9uc2UuZGF0YS5mbGFnDQogICAgICAgIGxldCBwZHRlbXBQZENhbGMgPSByZXNwb25zZS5kYXRhLnBkdGVtcFBkQ2FsYw0KICAgICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdydWxlLmFzc29jaWF0aW9uU3VjY2VzcycpKQ0KICAgICAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQ0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2JyaW5nQ2FsY0NvZGUnLCB0aGlzLmRpc3BsYXlGb3JtLnBkQm5mdEN0cmxDb2RlLCBwZHRlbXBQZENhbGMucGRDYWxjQ29kZSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRjb25maXJtKFN0cmluZyh0aGlzLiR0KCd1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0LmNvbmZpcm1fb3ZlcndyaXRlX2Zvcm11bGEnKSksIFN0cmluZyh0aGlzLiR0KCdjb25maXJtTWVzc2FnZS50aXAnKSksIHsNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBTdHJpbmcodGhpcy4kdCgnY29uZmlybU1lc3NhZ2UuY29uZmlybScpKSwNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFN0cmluZyh0aGlzLiR0KCdjb25maXJtTWVzc2FnZS5jYW5jZWwnKSksDQogICAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHBhcmFtLm5lZWRDaGVja2luZyA9IGZhbHNlDQogICAgICAgICAgICBhc3NvY2lhdGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIGxldCBwZHRlbXBQZENhbGMgPSByZXNwb25zZS5kYXRhLnBkdGVtcFBkQ2FsYw0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSkNCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpDQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2JyaW5nQ2FsY0NvZGUnLCB0aGlzLmRpc3BsYXlGb3JtLnBkQm5mdEN0cmxDb2RlLCBwZHRlbXBQZENhbGMucGRDYWxjQ29kZSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5tZXNzYWdlSW5mbyh0aGlzLiR0KCd1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0LmNhbmNlbGVkJykpDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHByb2R1Y3REZXRhaWxUeXBlQ2hhbmdlZCh2YWwpIHsNCiAgICAgIHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkID0gJycNCiAgICAgIHRoaXMucHJvZHVjdE9wdGlvbkxpc3QgPSBbXQ0KICAgICAgZmluZEFsbFByb2R1Y3RCeURldGFpbFR5cGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHtwcm9kdWN0RGV0YWlsVHlwZTogdmFsfSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-compensation-def/main/compensationFormulaSelect","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('i18nView.pdComCalcFormulaSelect')\" @backTo=\"back\"/>\r\n\r\n    <el-form ref=\"paramsForm\" :model=\"params\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.productDetailsType')\">\r\n            <cus-select v-model=\"params.eq_productDetailType\" :codetype=\"'ProductCategory'\"\r\n                        @change=\"productDetailTypeChanged\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.appointedProduct')\">\r\n            <el-select v-model=\"params.eq_pdInfoId\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       filterable>\r\n              <el-option v-for=\"item in productOptionList\" :key=\"item.key\" :label=\"item.pdCode+':'+item.pdName\"\r\n                         :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdRuleDtCls')\" prop=\"ruleType\">\r\n            <cus-select v-model=\"params.pdBussDetailType\" codetype=\"ruleBusinessDetailClass\" disabled></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.formulaCode')\">\r\n            <el-input v-model=\"params.like_pdCalcCode\" clearable></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\"></el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item style=\"text-align: right\">\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-search\" size=\"small\" type=\"primary\"\r\n                       @click=\"$refs.page.reload()\">\r\n              {{ $t('table.search') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('i18nView.comCalcFormula')\"/>\r\n    <el-table ref=\"ruleTable\" :data=\"ruleTable\" border element-loading-text=\"Loading\" fit\r\n              highlight-current-row max-height=\"250\" size=\"mini\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.CalcFormulaType')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdCalcCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdCalcDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n        <template v-slot=\"scope\">\r\n          <el-button v-auth=\"'compensationFormula:associate'\" dialog-disable=\"disable\" icon=\"el-icon-connection\"\r\n                     size=\"mini\" type=\"primary\" @click=\"handleSelectFormula(scope.row)\">\r\n            {{ $t('form.select') }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page\" v-model=\"ruleTable\" :autoBuild=\"false\" :pageSize=\"5\" :params=\"params\"\r\n                    url=\"/compensationFormula/base/findAllCompensationFormula\"/>\r\n\r\n    <!-- 公式查看弹窗 -->\r\n    <cus-rule-modify :flag=\"'1'\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"ruleMakeClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {associate} from \"@/api/basicinfo/productCompensation\"\r\nimport {findAllProductByDetailType} from \"@/api/basicinfo/invAmountFormula\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'compensationFormulaSelect',\r\n  filters: {\r\n    filter_pdBussType(code) {\r\n      return _this.getCodeName('pdCalcBussType', code)\r\n    },\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    }\r\n  },\r\n  props: {\r\n    displayForm: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      productType: '',\r\n      productDetailType: '',\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: undefined,\r\n        pdStartPeriodUnit: '',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: undefined,\r\n        pdEndPeriodUnit: '',\r\n        pdGracePeriod: undefined,\r\n        pdObservationDay: undefined,\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        pdStartDate: undefined,\r\n        pdStopDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      params: {\r\n        product: undefined,\r\n        pdBussDetailType: this.displayForm.calcDetailType,\r\n        current_pdBussId: this.displayForm.pdtempClmCtrlLimId,\r\n        eq_productDetailType: '',\r\n        eq_pdInfoId: undefined,\r\n        like_pdCalcCode: ''\r\n      },\r\n      productOptionList: [],\r\n      invOptions: [],\r\n      ruleTable: [],\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        performType: '',\r\n        visible: false\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    let pdtempPdInfo = this.getPdData()\r\n    if (Object.keys(pdtempPdInfo).length > 0) {\r\n      Object.assign(this.product, pdtempPdInfo)\r\n      this.params.product = this.product\r\n      this.params.eq_productDetailType = this.product.cType\r\n      this.productDetailTypeChanged(this.product.cType)\r\n    } else {\r\n      this.notifyError(this.$t('message.invalidProductInfo'))\r\n    }\r\n  },\r\n  methods: {\r\n    ruleMakeClosed() {\r\n      this.formulaView.visible = false\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.visible = true\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    back() {\r\n      this.$emit('changeDialogVisible_formulaSelect', false)\r\n    },\r\n    handleSelectFormula(row) {\r\n      let pdtempPdCalc = {\r\n        pdInfoId: this.product.id,\r\n        pdVerId: this.product.pdVerId,\r\n        pdType: '',\r\n        pdCode: this.product.pdCode,\r\n        pdBussType: '',\r\n        pdBussDetailType: this.displayForm.calcDetailType,\r\n        pdBussId: this.displayForm.pdtempClmCtrlLimId,\r\n        pdBussCode: this.displayForm.pdBnftCtrlCode,\r\n        pdStructureType: '',\r\n        pdCalcCode: row.pdCalcCode,\r\n        pdCalcDesc: row.pdCalcDesc\r\n      }\r\n      switch (this.displayForm.calcDetailType) {\r\n        case \"54\":\r\n        case \"55\":\r\n        case \"56\":\r\n        case \"57\":\r\n        case \"58\":\r\n        case \"59\":\r\n          pdtempPdCalc.pdBussType = '10'\r\n          break\r\n        case \"22\":\r\n        case \"23\":\r\n        case \"24\":\r\n        case \"25\":\r\n        case \"26\":\r\n        case \"50\":\r\n        case \"51\":\r\n        case \"52\":\r\n        case \"53\":\r\n        case \"63\":\r\n        case \"64\":\r\n        case \"65\":\r\n          pdtempPdCalc.pdBussType = '2'\r\n          break\r\n      }\r\n      switch (this.displayForm.pdBnftCtrlLimLevel) {\r\n        case \"1\":\r\n        case \"2\":\r\n        case \"12\":\r\n          pdtempPdCalc.pdStructureType = '15'\r\n          break\r\n        case \"3\":\r\n        case \"4\":\r\n          pdtempPdCalc.pdStructureType = '16'\r\n          break\r\n        case \"5\":\r\n        case \"6\":\r\n        case \"11\":\r\n          pdtempPdCalc.pdStructureType = '18'\r\n          break\r\n        case \"7\":\r\n        case \"8\":\r\n          pdtempPdCalc.pdStructureType = '13'\r\n          break\r\n        case \"9\":\r\n        case \"10\":\r\n          pdtempPdCalc.pdStructureType = '14'\r\n          break\r\n        case \"13\":\r\n        case \"14\":\r\n          pdtempPdCalc.pdStructureType = '12'\r\n          break\r\n      }\r\n      const param = {\r\n        selectedFormula: row,\r\n        pdtempPdCalc: pdtempPdCalc,\r\n        product: this.product,\r\n        pdBussType: pdtempPdCalc.pdBussType,\r\n        pdBussDetailType: this.displayForm.calcDetailType,\r\n        needChecking: true\r\n      }\r\n      associate(this.buildRequestData(param)).then(response => {\r\n        let flag = response.data.flag\r\n        let pdtempPdCalc = response.data.pdtempPdCalc\r\n        if (flag === true) {\r\n          this.notifySuccess(this.$t('rule.associationSuccess'))\r\n          this.$refs.page.reload()\r\n          this.$emit('bringCalcCode', this.displayForm.pdBnftCtrlCode, pdtempPdCalc.pdCalcCode)\r\n        } else {\r\n          this.$confirm(String(this.$t('underwritingAmountFormulaSelect.confirm_overwrite_formula')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            associate(this.buildRequestData(param)).then(response => {\r\n              let pdtempPdCalc = response.data.pdtempPdCalc\r\n              this.notifySuccess(this.$t('rule.associationSuccess'))\r\n              this.$refs.page.reload()\r\n              this.$emit('bringCalcCode', this.displayForm.pdBnftCtrlCode, pdtempPdCalc.pdCalcCode)\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('underwritingAmountFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    },\r\n    productDetailTypeChanged(val) {\r\n      this.params.eq_pdInfoId = ''\r\n      this.productOptionList = []\r\n      findAllProductByDetailType(this.buildRequestData({productDetailType: val})).then(response => {\r\n        this.productOptionList = response.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
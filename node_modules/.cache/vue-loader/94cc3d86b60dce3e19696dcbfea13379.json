{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\general-config\\gen-account-conf\\index.vue?vue&type=style&index=0&id=145e5f02&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\general-config\\gen-account-conf\\index.vue","mtime":1609847106708},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmRpdmlkZXIgew0KICBjb2xvcjogYmxhY2s7DQogIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KICB3aWR0aDogMXB4Ow0KICBtYXJnaW4tbGVmdDogMzBweDsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsrDA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/general-config/gen-account-conf","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <!--产品账户定义配置-->\r\n    <el-form :model=\"params\" :rules=\"rules\" label-width=\"auto\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdgenlAccount.accountType')\">\r\n            <cus-cascader v-model=\"params.accountType\" :codetype=\"'accounttype'\" clearable></cus-cascader>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdgenlAccount.accountName')\">\r\n            <el-select v-model=\"params.accountCode\" clearable filterable>\r\n              <el-option v-for=\"item in accountOptionList\" :key=\"item.id\"\r\n                         :label=\"item.accountCode+':'+item.accountName\"\r\n                         :value=\"item.accountCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <!--        <el-col :span=\"7\">-->\r\n        <!--          <el-form-item :label=\"$t('pdgenlAccount.fund')\">-->\r\n        <!--            <el-switch v-model=\"params.fundFlag\" active-value=\"Y\" inactive-value=\"N\">-->\r\n        <!--            </el-switch>-->\r\n        <!--          </el-form-item>-->\r\n        <!--        </el-col>-->\r\n        <cus-btn-wrapper>\r\n          <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"handleSearch()\">\r\n            {{ $t('pdgenlAccount.account_search') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('pdgenlAccount.account')\"/>\r\n    <el-table :data=\"accountTable\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"\r\n              highlight-current-row size=\"mini\" style=\" margin: 0 0 0 0\" @row-click=\"rowClick_account\">\r\n      <el-table-column :label=\"$t('pdgenlAccount.choose')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedAccount\" @change=\"selectedAccountChanged\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"60px\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('pageAccount', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <!--        <el-table-column :label=\"$t('pdgenlAccount.details')\" type=\"expand\">-->\r\n      <!--          <template slot-scope=\"props\">-->\r\n      <!--            <el-form class=\"demo-table-expand\" inline label-position=\"left\">-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accountCode')\">-->\r\n      <!--                <span>{{ props.row.accountCode }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accountName')\">-->\r\n      <!--                <span>{{ props.row.accountName }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accountType')\">-->\r\n      <!--                <span>{{ props.row.accountType | filter_getAccountType }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accFinType')\">-->\r\n      <!--                <span>{{ props.row.accFinType | filter_accFinType }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accountOwner')\">-->\r\n      <!--                <span>{{ props.row.accountOwner | filter_accountOwner }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accInvestType')\">-->\r\n      <!--                <span>{{ props.row.accInvestType | filter_accInvestType }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accountCurrency')\">-->\r\n      <!--                <span>{{ props.row.accountCurrency | filter_currency }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accCrePlace')\">-->\r\n      <!--                <span>{{ props.row.accCrePlace | filter_accCrePlace }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accCrtDate')\">-->\r\n      <!--                <span>{{ props.row.accCrtDate | filter_accCrtDate }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accDealFreq')\">-->\r\n      <!--                <span>{{ props.row.accDealFreq | filter_accDealFreq }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accDealDay')\">-->\r\n      <!--                <span>{{ props.row.accDealDay }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accDealInstMode')\">-->\r\n      <!--                <span>{{ props.row.accDealInstMode | filter_accDealInstMode }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.minPdAnnuRate')\">-->\r\n      <!--                <span>{{ props.row.minPdAnnuRate }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.minPdDayRate')\">-->\r\n      <!--                <span>{{ props.row.minPdDayRate }}</span>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.fund')\">-->\r\n      <!--                <el-switch v-model=\"props.row.accFundFlag\" active-value=\"Y\"-->\r\n      <!--                           disabled inactive-value=\"N\">-->\r\n      <!--                </el-switch>-->\r\n      <!--              </el-form-item>-->\r\n      <!--              <el-form-item :label=\"$t('pdgenlAccount.accFee')\">-->\r\n      <!--                <span>{{ props.row.feeCount }}{{ $t('pdgenlAccount.count') }}</span>-->\r\n      <!--                <el-button v-show=\"props.row.feeCount>0\" size=\"small\" type=\"text\" @click=\"showAccountFee(props.row)\">-->\r\n      <!--                  >>{{ $t('pdgenlAccount.details') }}-->\r\n      <!--                </el-button>-->\r\n      <!--              </el-form-item>-->\r\n      <!--            </el-form>-->\r\n      <!--          </template>-->\r\n      <!--        </el-table-column>-->\r\n      <el-table-column :label=\"$t('pdgenlAccount.accountCode')\" align=\"center\"\r\n                       prop=\"accountCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlAccount.accountName')\" align=\"center\" prop=\"accountName\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlAccount.accountType')\" align=\"center\" prop=\"accountType\">\r\n        <template v-slot=\"scope\">{{ scope.row.accountType | filter_getAccountType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlAccount.accountOwner')\" align=\"center\" prop=\"accountOwner\">\r\n        <template v-slot=\"scope\">{{ scope.row.accountOwner | filter_accountOwner }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlAccount.accDealFreq')\" align=\"center\" prop=\"accDealFreq\">\r\n        <template v-slot=\"scope\">{{ scope.row.accDealFreq | filter_accDealFreq }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100px\">\r\n        <template v-slot=\"scope\">\r\n          <cus-popover v-auth=\"'pdgenl-account:delete'\" :content=\"$t('confirmMessage.delete')\"\r\n                       icon=\"el-icon-delete\" type=\"danger\" @confirm=\"deleteAccount(scope.row.id)\"></cus-popover>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"pageAccount\" v-model=\"accountTable\" :pageSize=\"10\" :params=\"params\"\r\n                    url=\"/pdgenl-account/base/getAccount\"/>\r\n    <br/>\r\n    <!--    </div>-->\r\n    <el-dialog :close-on-click-modal=\"false\" :show-close=\"false\" :visible.sync=\"dialogVisible1\"\r\n               @close=\"dialogVisible1 = false\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdgenlAccount.account_product')\"\r\n                           @backTo=\"dialogVisible1 = false\"/>\r\n      <el-table :data=\"accountCoonProduct\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\" size=\"medium\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdgenlAccount.product')\" align=\"center\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCode }}:{{ scope.row.pdName }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n    <!-- 产品账户费用 - 详情页 -->\r\n    <!--    <el-dialog :close-on-click-modal=\"false\" :show-close=\"false\"-->\r\n    <!--               :visible.sync=\"dialogVisibleAccFee\" width=\"60%\"-->\r\n    <!--               @close=\"dialogVisibleAccFee = false\">-->\r\n    <!--      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdgenlAccount.product_account_fee')\"-->\r\n    <!--                           @backTo=\"dialogVisibleAccFee = false\"/>-->\r\n\r\n    <!--      <el-table :data=\"accountFeeList\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"-->\r\n    <!--                highlight-current-row size=\"mini\" style=\" margin: 0 0 0 0\">-->\r\n    <!--        <el-table-column :label=\"$t('table.id')\" type=\"index\" width=\"50px\"></el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeCode')\" align=\"center\" prop=\"accFeeCode\"></el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeName')\" align=\"center\" prop=\"accFeeName\"></el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeOrder')\" align=\"center\" prop=\"accFeeOrder\"></el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeType')\" align=\"center\" prop=\"accFeeType\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accFeeType | filter_accFeeType }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accItemType')\" align=\"center\" prop=\"accItemType\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accItemType | filter_accItemType }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeDeduType')\" align=\"center\"-->\r\n    <!--                         prop=\"accFeeDeduType\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accFeeDeduType | filter_accFeeDeduType }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeDeduFreq')\" align=\"center\" prop=\"accFeeDeduFreq\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accFeeDeduFreq | filter_accFeeDeduFreq }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeCalcMode')\" align=\"center\" prop=\"accFeeCalcMode\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accFeeCalcMode | filter_accFeeCalcMode }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--        <el-table-column :label=\"$t('pdgenlAccount.accFeeCalcType')\" align=\"center\" prop=\"accFeeCalcType\">-->\r\n    <!--          <template v-slot=\"scope\">{{ scope.row.accFeeCalcType | filter_accFeeCalcType }}</template>-->\r\n    <!--        </el-table-column>-->\r\n    <!--      </el-table>-->\r\n    <!--    </el-dialog>-->\r\n\r\n    <!--账户定义-->\r\n    <cus-form-title @show=\"form_combination.premiumFlag = !form_combination.premiumFlag\" :showArrow=\"true\"\r\n                    :display=\"form_combination.premiumFlag\" :label=\"$t('pdgenlAccount.account_menu')\"></cus-form-title>\r\n    <div v-if=\"form_combination.premiumFlag\">\r\n      <div style=\"width: 94%;margin: 0px 30px 20px 25px\">\r\n        <el-tabs v-model=\"activeName\" type=\"border-card\" @tab-click=\"checkSelect\">\r\n          <el-tab-pane :label=\"$t('pdgenlAccount.account_base_menu')\" name=\"account\">\r\n            <cus-form-title :first=\"true\" :label=\"$t('pdgenlAccount.titleAccount')\"></cus-form-title>\r\n            <el-form ref=\"form_account\" :model=\"form_account\" :rules=\"form_account_rules\" label-width=\"120px\"\r\n            >\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountType')\" prop=\"accountType\">\r\n                    <cus-cascader v-model=\"form_account.accountType\" :codetype=\"'accounttype'\" clearable\r\n                                  clearable\r\n                                  v-on:change=\"changesq\"></cus-cascader>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountName')\" prop=\"accountName\">\r\n                    <el-input v-model=\"form_account.accountName\" :placeholder=\"$t('pdgenlAccount.accountName')\"\r\n                              clearable\r\n                              maxlength=\"60\"\r\n                              show-word-limit\r\n                    ></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accFinType')\">\r\n                    <cus-radio v-model=\"form_account.accFinType\" :codetype=\"'accFinType'\" disabled></cus-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountOwner')\" prop=\"accountOwner\">\r\n                    <cus-radio v-model=\"form_account.accountOwner\" :codetype=\"'accountOwner'\"\r\n                               :isRequired=\"true\"></cus-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accInvestType')\">\r\n                    <cus-select v-model=\"form_account.accInvestType\" :codetype=\"'accinvtype'\" clearable></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountCurrency')\" prop=\"accountCurrency\">\r\n                    <cus-select v-model=\"form_account.accountCurrency\" :codetype=\"'productCurrency'\" clearable\r\n                    ></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accCrePlace')\" prop=\"accCrePlace\">\r\n                    <cus-select v-model=\"form_account.accCrePlace\" :codetype=\"'accCrePlace'\" clearable></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accCrtDate')\" prop=\"accCrtDate\">\r\n                    <div class=\"block\">\r\n                      <cus-select v-model=\"form_account.accCrtDate\" :codetype=\"'accbuilddate'\" clearable></cus-select>\r\n                    </div>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accDealFreq')\" prop=\"accDealFreq\">\r\n                    <cus-select v-model=\"form_account.accDealFreq\" :codetype=\"'settlementfrequency'\"\r\n                                clearable></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accDealDay')\" prop=\"accDealDay\">\r\n                    <el-input v-model=\"form_account.accDealDay\" clearable>\r\n                      <template slot=\"suffix\">{{ $t('pdgenlAccount.day') }}</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accDealInstMode')\" prop=\"accDealInstMode\">\r\n                    <cus-select v-model=\"form_account.accDealInstMode\" :codetype=\"'calsetmet'\" clearable></cus-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <!--              <el-row :gutter=\"20\">-->\r\n              <!--                <el-col :span=\"8\">-->\r\n              <!--                  <el-form-item :label=\"$t('pdgenlAccount.fund')\">-->\r\n              <!--                    <el-switch v-model=\"form_account.accFundFlag\" active-value=\"Y\" disabled-->\r\n              <!--                               inactive-value=\"N\">-->\r\n              <!--                    </el-switch>-->\r\n              <!--                  </el-form-item>-->\r\n              <!--                </el-col>-->\r\n              <!--              </el-row>-->\r\n            </el-form>\r\n            <el-form label-width=\"160px\" style=\"width:98%;\">\r\n              <el-form-item align=\"right\">\r\n                <el-button v-if=\"!selectedAccount.id\" v-auth=\"'pdgenl-account:add'\" icon=\"el-icon-success\" size=\"small\"\r\n                           type=\"primary\" @click=\"addAccount\">\r\n                  {{ $t('pdgenlAccount.account_save') }}\r\n                </el-button>\r\n                <el-button v-if=\"selectedAccount.id\" v-auth=\"'pdgenl-account:update'\" icon=\"el-icon-success\"\r\n                           size=\"small\"\r\n                           type=\"primary\" @click=\"updateAccount\">\r\n                  {{ $t('pdgenlAccount.account_update') }}\r\n                </el-button>\r\n                <el-button icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"primary\" @click=\"resetFormCopy\">\r\n                  {{ $t('pdgenlAccount.account_refresh') }}\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <!-- 最低保证利率 -->\r\n            <div style=\"margin: 0 25px 0 25px\">\r\n              <cus-form-title :display=\"form_combination.premiumFlag1\" :label=\"$t('pdgenlAccount.titleAccount1')\" :showArrow=\"true\"\r\n                              @show=\"form_combination.premiumFlag1 = !form_combination.premiumFlag1\"></cus-form-title>\r\n              <div v-if=\"form_combination.premiumFlag1\" style=\"margin: 0 0 0 5px\">\r\n                <cus-table-title :label=\"$t('pdgenlAccount.tabletitle2')\"/>\r\n                <el-table :data=\"rateProductAccount\" align=\"center\" border class=\"wraper-table\"\r\n                          element-loading-text=\"Loading\"\r\n                          highlight-current-row size=\"mini\" style=\" margin: 0 0 0 0\" @row-click=\"rowClick_accountRate\">\r\n                  <el-table-column :label=\"$t('pdgenlAccount.choose')\" width=\"50\"  align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                      <el-radio-group v-model=\"selectedAccountRate\" @change=\"selectedAccountRateChanged\">\r\n                        <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n                      </el-radio-group>\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"\r\n                                   width=\"50px\"></el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.accRateYear')\" align=\"center\"\r\n                                   prop=\"accRateYear\">\r\n                    <template v-slot=\"scope\">{{ parseInt(scope.row.accRateYear * 100) + '%' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.accRateMon')\" align=\"center\"\r\n                                   prop=\"accRateMon\">\r\n                    <template v-slot=\"scope\">{{ parseInt(scope.row.accRateMon * 100) + '%' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.accRateDay')\" align=\"center\"\r\n                                   prop=\"accRateDay\">\r\n                    <template v-slot=\"scope\">{{ parseInt(scope.row.accRateDay * 100) + '%' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.accRateStartDate')\" align=\"center\"\r\n                                   prop=\"accRateStartDate\"></el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.accRateEndDate')\" align=\"center\"\r\n                                   prop=\"accRateEndDate\"></el-table-column>\r\n                  <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100px\">\r\n                    <template v-slot=\"scope\">\r\n                      <cus-popover :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-delete\"\r\n                                   type=\"danger\" @confirm=\"deleteAccountRate(scope.row.id)\"></cus-popover>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n                <br/>\r\n                <el-form ref=\"form_rate_acc\" :model=\"form_rate_acc\" label-width=\"120px\">\r\n                  <el-row :gutter=\"20\">\r\n                    <el-col :span=\"8\">\r\n                      <el-form-item :label=\"$t('pdgenlAccount.accRateYear')\">\r\n                        <el-input-number v-unit controls-position=\"right\" v-model=\"form_rate_acc.accRateYear\" :max=\"100\"\r\n                                         :min=\"0\"\r\n                                         :placeholder=\"$t('pdgenlAccount.accRateYear')\"\r\n                                         :precision=\"2\" :step=\"0.01\"></el-input-number>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                      <el-form-item :label=\"$t('pdgenlAccount.accRateMon')\">\r\n                        <el-input-number v-unit controls-position=\"right\" v-model=\"form_rate_acc.accRateMon\" :max=\"100\"\r\n                                         :min=\"0\"\r\n                                         :placeholder=\"$t('pdgenlAccount.accRateMon')\"\r\n                                         :precision=\"2\" :step=\"0.01\"></el-input-number>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                      <el-form-item :label=\"$t('pdgenlAccount.accRateDay')\">\r\n                        <el-input-number v-unit controls-position=\"right\" v-model=\"form_rate_acc.accRateDay\" :max=\"100\"\r\n                                         :min=\"0\"\r\n                                         :placeholder=\"$t('pdgenlAccount.accRateDay')\"\r\n                                         :precision=\"2\" :step=\"0.01\"></el-input-number>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row :gutter=\"20\">\r\n                    <el-col :span=\"8\">\r\n                      <el-form-item :label=\"$t('pdgenlAccount.accRateSEDate')\">\r\n                        <el-date-picker\r\n                          v-model=\"dateDouble\"\r\n                          :picker-options=\"pickerOptions\"\r\n                          :end-placeholder=\"$t('productSelect.productApplyEndDate')\"\r\n                          range-separator=\"至\"\r\n                          :start-placeholder=\"$t('productSelect.productApplyStartDate')\"\r\n                          type=\"daterange\"\r\n                          unlink-panels>\r\n                        </el-date-picker>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row :gutter=\"20\">\r\n                    <div style=\"float: right\">\r\n                      <el-button v-if=\"!form_rate_acc.id\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                                 @click=\"addAccountRate\">\r\n                        {{ $t('pdgenlAccount.account_save') }}\r\n                      </el-button>\r\n                      <el-button v-if=\"form_rate_acc.id\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                                 @click=\"updateAccountRate\">\r\n                        {{ $t('pdgenlAccount.account_update') }}\r\n                      </el-button>\r\n                      <el-button icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"primary\"\r\n                                 @click=\"refreshFormAccountRateCopy\">\r\n                        {{ $t('pdgenlAccount.account_refresh') }}\r\n                      </el-button>\r\n                    </div>\r\n                  </el-row>\r\n                </el-form>\r\n              </div>\r\n            </div>\r\n            <!-- 投资标的 -->\r\n            <div style=\"margin: 0 25px 0 25px\">\r\n              <!--              v-show=\"form_account.accFundFlag=='Y'\"-->\r\n              <cus-form-title :display=\"form_combination.premiumFlag2\" :label=\"$t('pdgenlAccount.titleAccount2')\" :showArrow=\"true\"\r\n                              @show=\"form_combination.premiumFlag2 = !form_combination.premiumFlag2\"></cus-form-title>\r\n              <div v-if=\"form_combination.premiumFlag2\" style=\"margin: 0 0 0 5px\">\r\n                <el-button size=\"small\" type=\"primary\" @click=\"showPdgenlFundPage\">\r\n                  {{ $t('pdgenlAccount.foundDeAssociate') }}\r\n                </el-button>\r\n                <cus-table-title :label=\"$t('pdgenlAccount.tabletitle1')\"/>\r\n                <el-table :data=\"accFundTable\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                          highlight-current-row size=\"mini\" ref=\"accFundTable\"\r\n                          @selection-change=\"selectedAccountFundChanged\">\r\n                  <el-table-column :label=\"$t('pdgenlAccount.choose')\" align=\"center\" type=\"selection\"\r\n                                   width=\"50px\"></el-table-column>\r\n                  <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"\r\n                                   width=\"60px\"></el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.details')\" type=\"expand\">\r\n                    <template v-slot=\"scope\">\r\n                      <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                        <!--                        <el-form-item :label=\"$t('pdgenlAccount.fundCode')\">-->\r\n                        <!--                          <span>{{ scope.row.fundCode }}</span>-->\r\n                        <!--                        </el-form-item>-->\r\n                        <!--                        <el-form-item :label=\"$t('pdgenlAccount.fundChName')\">-->\r\n                        <!--                          <span>{{ scope.row.fundChName }}</span>-->\r\n                        <!--                        </el-form-item>-->\r\n                        <el-form-item :label=\"$t('pdgenlAccount.fundEnName')\">\r\n                          <span>{{ scope.row.fundEnName }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item :label=\"$t('pdgenlAccount.fundCompName')\">\r\n                          <span>{{ scope.row.fundCompName }}</span>\r\n                        </el-form-item>\r\n                        <!--                        <el-form-item :label=\"$t('pdgenlAccount.fundType')\">-->\r\n                        <!--                          <span>{{ scope.row.fundType | filter_fundType }}</span>-->\r\n                        <!--                        </el-form-item>-->\r\n                        <!--                        <el-form-item :label=\"$t('pdgenlAccount.fundRiskGrade')\">-->\r\n                        <!--                          <span>{{ scope.row.fundRiskGrade }}</span>-->\r\n                        <!--                        </el-form-item>-->\r\n                        <el-form-item :label=\"$t('pdgenlAccount.fundCurrency')\">\r\n                          <span>{{ scope.row.fundCurrency | filter_currency }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item :label=\"$t('pdgenlAccount.fundState')\">\r\n                          <span>{{ scope.row.fundState | filter_fundState }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item :label=\"$t('pdgenlAccount.fundStateValiDate')\">\r\n                          <span>{{ scope.row.fundStateValiDate }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item :label=\"$t('pdgenlAccount.account_coon')\">\r\n                          <el-button size=\"mini\" type=\"text\" @click=\"showRelatedAccount(scope.row.funId)\">>></el-button>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                    </template>\r\n                  </el-table-column>\r\n                  <!--                  <el-table-column :label=\"$t('pdgenlAccount.fundCode')\" align=\"center\" prop=\"fundCode\" width=\"160px\">-->\r\n                  <!--                  </el-table-column>-->\r\n                  <el-table-column :label=\"$t('pdgenlAccount.fundChName')\" align=\"center\"\r\n                                   prop=\"fundChName\"></el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.fundType')\" align=\"center\" prop=\"fundType\">\r\n                    <template v-slot=\"scope\">{{ scope.row.fundType | filter_fundType }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.fundRiskGrade')\" align=\"center\"\r\n                                   prop=\"fundRiskGrade\"></el-table-column>\r\n                  <el-table-column :label=\"$t('pdgenlAccount.fundInvestRatio')\" align=\"center\" prop=\"fundInvestRatio\">\r\n                    <template v-slot=\"scope\">{{ parseInt(scope.row.fundInvestRatio * 100) + '%' }}</template>\r\n                  </el-table-column>\r\n                  <!--                  <el-table-column :label=\"$t('pdgenlAccount.account_coon')\" align=\"center\">-->\r\n                  <!--                    <template v-slot=\"scope\">-->\r\n                  <!--                      <el-button size=\"mini\" type=\"text\" @click=\"showRelatedAccount(scope.row.id)\">>></el-button>-->\r\n                  <!--                    </template>-->\r\n                  <!--                  </el-table-column>-->\r\n                </el-table>\r\n                <!--                <div style=\"float: right\">-->\r\n                <!--                  <br/>-->\r\n                <!--                  <cus-popover-->\r\n                <!--                    v-if=\"this.selectedAccountFundList.length>1\" :buttonText=\"$t('table.delete')\"-->\r\n                <!--                    :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-delete\"-->\r\n                <!--                    style=\"margin-right: 5px;margin-left: 5px\"-->\r\n                <!--                    type=\"danger\"-->\r\n                <!--                    @confirm=\"deleteAccountFunds\"-->\r\n                <!--                  >-->\r\n                <!--                  </cus-popover>-->\r\n                <!--                </div>-->\r\n                <br/>\r\n                <el-form v-if=\"this.selectedAccountFundList.length>0\" ref=\"form_fundVo\" :model=\"form_fundVo\"\r\n                         :rules=\"rules\" label-width=\"120px\">\r\n                  <el-row :gutter=\"20\">\r\n                    <!--                    <el-col :span=\"8\">-->\r\n                    <!--                      <el-form-item :label=\"$t('pdgenlAccount.fund')\" prop=\"fundCode\">-->\r\n                    <!--                        <el-select v-model=\"form_fundVo.fundCode\"-->\r\n                    <!--                                   clearable>-->\r\n                    <!--                          <el-option-->\r\n                    <!--                            v-for=\"item in selectFund\"-->\r\n                    <!--                            :key=\"item.id\"-->\r\n                    <!--                            :label=\"item.fundCode+':'+item.fundChName\"-->\r\n                    <!--                            :value=\"item.fundCode\">-->\r\n                    <!--                          </el-option>-->\r\n                    <!--                          <el-button v-if=\"showPdgenlFund\" size=\"small\" @click=\"showPdgenlFundPage\">-->\r\n                    <!--                            {{ $t('pdgenlAccount.more') }}-->\r\n                    <!--                          </el-button>-->\r\n                    <!--                        </el-select>-->\r\n                    <!--                      </el-form-item>-->\r\n                    <!--                    </el-col>-->\r\n                    <el-col :span=\"8\">\r\n                      <el-form-item :label=\"$t('pdgenlAccount.fundInvestRatio')\">\r\n                        <el-input-number v-unit controls-position=\"right\" v-model=\"form_fundVo.fundInvestRatio\"\r\n                                         :max=\"100\"\r\n                                         :min=\"0\"\r\n                                         :precision=\"2\" :step=\"0.01\"></el-input-number>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"8\"></el-col>\r\n                  </el-row>\r\n                  <el-row :gutter=\"20\">\r\n                    <div style=\"float:right;\">\r\n                      <!--                      <el-button v-if=\"this.selectedAccountFundList.length<1\" icon=\"el-icon-success\" size=\"small\"-->\r\n                      <!--                                 type=\"primary\"-->\r\n                      <!--                                 @click=\"addAccountfund\">{{ $t('pdgenlAccount.account_save') }}-->\r\n                      <!--                      </el-button>-->\r\n                      <el-button icon=\"el-icon-success\" size=\"small\"\r\n                                 type=\"primary\"\r\n                                 @click=\"updateAccountfund\">{{ $t('pdgenlAccount.account_update') }}\r\n                      </el-button>\r\n                      <cus-popover\r\n                        :buttonText=\"$t('table.delete')\"\r\n                        :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-delete\"\r\n                        style=\"margin-right: 5px;margin-left: 5px\"\r\n                        type=\"danger\"\r\n                        @confirm=\"deleteAccountFund\"\r\n                      >\r\n                      </cus-popover>\r\n                      <el-button icon=\"el-icon-refresh el-icon--left\"\r\n                                 size=\"small\"\r\n                                 type=\"primary\" @click=\"refreshAccountFundCopy\">\r\n                        {{ $t('pdgenlAccount.account_refresh') }}\r\n                      </el-button>\r\n                    </div>\r\n                  </el-row>\r\n                </el-form>\r\n              </div>\r\n            </div>\r\n            <!--投资标的关联账户-->\r\n            <el-dialog :title=\"$t('pdgenlAccount.account_coon')\" :visible.sync=\"dialogVisible2\"\r\n                       width=\"60%\"\r\n                       @close=\"dialogVisible2 = false\">\r\n              <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdgenlAccount.fundRelateAccount')\"\r\n                                   @backTo=\"dialogVisible2=false\"/>\r\n              <el-table ref=\"singleTable\" :data=\"FundCoonAccTable\" align=\"center\" border\r\n                        class=\"wraper-table\"\r\n                        element-loading-text=\"Loading\" highlight-current-row size=\"mini\">\r\n                <el-table-column :label=\"$t('pdgenlAccount.account1')\" align=\"center\">\r\n                  <template v-slot=\"scope\">{{\r\n                      scope.row.account_01.accountCode + ':' +\r\n                      scope.row.account_01.accountName\r\n                    }}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdgenlAccount.account2')\" align=\"center\">\r\n                  <template v-slot=\"scope\">\r\n                          <span v-if=\"scope.row.account_02\">\r\n                            {{ scope.row.account_02.accountCode + ':' + scope.row.account_02.accountName }}\r\n                          </span>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-dialog>\r\n          </el-tab-pane>\r\n          <!--账户费用定义-->\r\n          <el-tab-pane :label=\"$t('pdgenlAccount.accFeeMenu')\" name=\"account_fee\">\r\n\r\n            <el-form ref=\"form_account_fee\" :model=\"form_account_fee\" :rules=\"form_account_fee_rules\"\r\n                     label-width=\"130px\"\r\n            >\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountCode')\">\r\n                    <el-tag type=\"info\">{{ form_account.accountCode + ':' + form_account.accountName }}</el-tag>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlAccount.accountType')\">\r\n                    <el-tag type=\"info\">{{ form_account.accountType | filter_getAccountType }}</el-tag>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <div style=\"margin: 0 25px 0 25px\">\r\n                <el-row :gutter=\"20\">\r\n\r\n                  <cus-table-title :label=\"$t('pdgenlAccount.accFee')\"/>\r\n                  <el-table :data=\"accountFeeTable\" align=\"center\" border\r\n                            class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                            highlight-current-row size=\"mini\" style=\" margin: 0 0 0 0\"\r\n                            @row-click=\"rowClick_account_fee\">\r\n                    <el-table-column :label=\"$t('pdgenlAccount.choose')\" width=\"50\"  align=\"center\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-radio-group v-model=\"selectedAccountFee\" @change=\"selectedAccountFeeChanged\">\r\n                          <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n                        </el-radio-group>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"\r\n                                     width=\"50px\"></el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accFeeCode')\" align=\"center\"\r\n                                     prop=\"accFeeCode\"></el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accFeeName')\" align=\"center\"\r\n                                     prop=\"accFeeName\"></el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accItemType')\" align=\"center\" prop=\"accItemType\">\r\n                      <template v-slot=\"scope\">{{ scope.row.accItemType | filter_accItemType }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accFeeOrder')\" align=\"center\"\r\n                                     prop=\"accFeeOrder\"></el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accFeeDeduFreq')\" align=\"center\" prop=\"accFeeDeduFreq\">\r\n                      <template v-slot=\"scope\">{{ scope.row.accFeeDeduFreq | filter_accFeeDeduFreq }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('pdgenlAccount.accFeeCalcMode')\" align=\"center\" prop=\"accFeeCalcMode\">\r\n                      <template v-slot=\"scope\">{{ scope.row.accFeeCalcMode | filter_accFeeCalcMode }}</template>\r\n                    </el-table-column>\r\n                    <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100px\">\r\n                      <template v-slot=\"scope\">\r\n                        <cus-popover :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-delete\"\r\n                                     type=\"danger\"\r\n                                     @confirm=\"deleteAccountFee(scope.row.id)\"></cus-popover>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                  <br/>\r\n                </el-row>\r\n              </div>\r\n              <cus-form-title :display=\"true\" :label=\"$t('pdgenlAccount.accFeeMenu')\" :showArrow=\"true\"\r\n                              @show=\"form_combination.premiumFlag3 = !form_combination.premiumFlag3\"></cus-form-title>\r\n              <div v-if=\"form_combination.premiumFlag3\" style=\"margin: 0 0 0 5px\">\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeName')\" prop=\"accFeeName\">\r\n                      <el-input v-model=\"form_account_fee.accFeeName\" :placeholder=\"$t('pdgenlAccount.accFeeName')\"\r\n                                clearable\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeOrder')\" prop=\"accFeeOrder\">\r\n                      <el-input v-model=\"form_account_fee.accFeeOrder\" :placeholder=\"$t('pdgenlAccount.accFeeOrder')\"\r\n                                clearable\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\r\n                </el-row>\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeType')\">\r\n                      <cus-select v-model=\"form_account_fee.accFeeType\" :codetype=\"'costattr'\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accFeeType')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accItemType')\">\r\n                      <cus-select v-model=\"form_account_fee.accItemType\" :codetype=\"'costprotype'\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accItemType')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeDeduType')\">\r\n                      <cus-select v-model=\"form_account_fee.accFeeDeduType\" :codetype=\"'costexptype'\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accFeeDeduType')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\r\n                </el-row>\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeDeduFreq')\">\r\n                      <cus-select v-model=\"form_account_fee.accFeeDeduFreq\" :codetype=\"'settlementfrequency'\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accFeeDeduFreq')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeCalcMode')\" prop=\"accFeeCalcMode\">\r\n                      <cus-select v-model=\"form_account_fee.accFeeCalcMode\" :codetype=\"'costcalway'\" @change=\"changeCalcMode\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accFeeCalcMode')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeCalcType')\">\r\n                      <cus-select v-model=\"form_account_fee.accFeeCalcType\" :codetype=\"'costcaltype'\"\r\n                                  :placeholder=\"$t('pdgenlAccount.accFeeCalcType')\"></cus-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeFinalVal')\" v-if=\"showFeeFinalVal\" prop=\"accFeeFinalVal\">\r\n                      <el-input v-model.number=\"form_account_fee.accFeeFinalVal\" clearable\r\n                                :placeholder=\"$t('pdgenlAccount.accFeeFinalVal')\"/>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <el-form-item :label=\"$t('pdgenlAccount.accFeeFinalRatio')\" prop=\"accFeeFinalRatio\"\r\n                                  v-if=\"showFeeFinalRatio\">\r\n                      <el-input-number v-unit controls-position=\"right\" v-model=\"form_account_fee.accFeeFinalRatio\"\r\n                                       :max=\"100\"\r\n                                       :min=\"0\"\r\n                                       :placeholder=\"$t('pdgenlAccount.accFeeFinalRatio')\"\r\n                                       :precision=\"2\" :step=\"0.01\"></el-input-number>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-form-item align=\"right\">\r\n                  <el-button v-if=\"!selectedAccountFee.id\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                             @click=\"addAccountFee\">\r\n                    {{ $t('pdgenlAccount.account_save') }}\r\n                  </el-button>\r\n                  <el-button v-if=\"selectedAccountFee.id\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                             @click=\"updateAccountFee\">\r\n                    {{ $t('pdgenlAccount.account_update') }}\r\n                  </el-button>\r\n\r\n                  <el-button icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"primary\" @click=\"accFeeresetForm\">\r\n                    {{ $t('pdgenlAccount.account_refresh') }}\r\n                  </el-button>\r\n                </el-form-item>\r\n              </div>\r\n\r\n            </el-form>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 弹窗（账户关联投资标的） -->\r\n    <el-dialog v-if=\"dialogVisible.pdgenlfund\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :show-close=\"false\" :visible.sync=\"dialogVisible.pdgenlfund\" append-to-body width=\"85%\">\r\n      <pdgenlfund :pdgenlfund=\"pdgenlfundData\"\r\n                  @changeDialogVisible_pdgenlfund=\"changeDialogVisible_pdgenlfund\"></pdgenlfund>\r\n    </el-dialog>\r\n    <!-- 弹窗（账户公式定义） -->\r\n    <el-dialog v-if=\"dialogVisible.generalAccountFeeFormula\" :show-close=\"false\"\r\n               :visible.sync=\"dialogVisible.generalAccountFeeFormula\" append-to-body\r\n               width=\"80%\" @close=\"dialogVisible.generalAccountFeeFormulaSelect = false\">\r\n      <generalAccountFeeFormula :bussObject=\"accountFeeData\"\r\n                                @changeDialogVisible_feeFormula=\"changeDialogVisible_feeFormula\"></generalAccountFeeFormula>\r\n    </el-dialog>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  addAccountFund,\r\n  addAccountRate,\r\n  addFee,\r\n  addPdgenlAccount,\r\n  deleteAccountFund,\r\n  deleteAccountRate,\r\n  deleteFee,\r\n  deletePdgenlAccount,\r\n  getAllFundCode,\r\n  initFee,\r\n  updateAccountFund,\r\n  updateAccountRate,\r\n  updateFee,\r\n  updatePdgenlAccount\r\n} from '@/api/basicinfo/pdgenlaccount'\r\nimport {getAllGeneralAccount} from \"@/api/basicinfo/viewpdgenlaccount\"\r\nimport {generalDoubleAccountVoAll} from \"@/api/basicinfo/pdtemppdacc\"\r\nimport pdgenlfund from \"@/views/business-general-conf/pdgenlfund\"\r\n\r\nlet _this\r\nexport default {\r\n  name: 'pdgenlAccount',\r\n  components: {pdgenlfund},\r\n  filters: {\r\n    filter_getAccountType(code) {\r\n      if (code != null) {\r\n        return _this.getCascaderCodeName('accounttype', code);\r\n      }\r\n    },\r\n    filter_currency(code) {\r\n      return _this.getCodeName('productCurrency', code)\r\n    },\r\n    filter_accFinType(code) {\r\n      return _this.getCodeName('accFinType', code)\r\n    },\r\n    filter_accountOwner(code) {\r\n      return _this.getCodeName('accountOwner', code)\r\n    },\r\n    filter_accDealFreq(code) {\r\n      return _this.getCodeName('settlementfrequency', code)\r\n    },\r\n    filter_accInvestType(code) {\r\n      return _this.getCodeName('accinvtype', code)\r\n    },\r\n    filter_accCrePlace(code) {\r\n      return _this.getCodeName('accCrePlace', code)\r\n    },\r\n    filter_accCrtDate(code) {\r\n      return _this.getCodeName('accbuilddate', code)\r\n    },\r\n    filter_accCodeRule(code) {\r\n      return _this.getCodeName('accrules', code)\r\n    },\r\n    filter_accDealInstMode(code) {\r\n      return _this.getCodeName('calsetmet', code)\r\n    },\r\n    filter_fundType(code) {\r\n      return _this.getCodeName('invtargettype', code)\r\n    },\r\n    filter_fundState(code) {\r\n      return _this.getCodeName('invtargetstatus', code)\r\n    },\r\n    //账户费用下拉选\r\n    filter_accFeeType(code) {\r\n      return _this.getCodeName('costattr', code)\r\n    },\r\n    filter_accItemType(code) {\r\n      return _this.getCodeName('costprotype', code)\r\n    },\r\n    filter_accFeeDeduType(code) {\r\n      return _this.getCodeName('costexptype', code)\r\n    },\r\n    filter_accFeeDeduFreq(code) {\r\n      return _this.getCodeName('settlementfrequency', code)\r\n    },\r\n    filter_accFeeCalcMode(code) {\r\n      return _this.getCodeName('costcalway', code)\r\n    },\r\n    filter_accFeeCalcType(code) {\r\n      return _this.getCodeName('costcaltype', code)\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    const validateFival = (rule, value, callback) => {\r\n      const age= /^[0-9]*$/\r\n      if (this.form_account_fee.accFeeFinalVal < 0){\r\n        callback(new Error(\"请输入大于0的数字\"))\r\n      }if(!age.test(this.form_account_fee.accFeeFinalVal)){\r\n        callback(new Error(\"请输入数字\"))\r\n      } else{\r\n        callback();\r\n      }\r\n    }\r\n    return {\r\n      dateDouble: '',\r\n      //账户定义表格\r\n      form_account: {\r\n        id: undefined,\r\n        accountCode: '',\r\n        accountName: '',\r\n        accountType: [],\r\n        accountDetType: '',\r\n        accFinType: '',\r\n        accountOwner: '',\r\n        accInvestType: '',\r\n        accountCurrency: '01',\r\n        accCrePlace: '1',\r\n        accCrtDate: '1',\r\n        accCodeRule: '3',\r\n        accDealFreq: '',\r\n        accDealDay: '1',\r\n        accDealInstMode: '',\r\n        accFundFlag: '',\r\n      },\r\n      //费用定义表格\r\n      form_account_fee: {\r\n        operator: undefined,\r\n        accountId: '',\r\n        accountCode: '',\r\n        accountName: '',\r\n        accFeeCode: '',\r\n        accFeeName: '',\r\n        accFeeOrder: '',\r\n        accFeeType: '',\r\n        accItemType: undefined,\r\n        accFeeDeduType: undefined,\r\n        accFeeDeduFreq: undefined,\r\n        accFeeCalcMode: '',\r\n        accFeeFinalVal: undefined,\r\n        accFeeFinalRatio: undefined,\r\n        accFeeCalcType: undefined,\r\n        calcCode: undefined\r\n      },\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '最近一周',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近一个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: '最近三个月',\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }]\r\n      },\r\n      //保证利率表格\r\n      form_rate_acc: {\r\n        id: undefined,\r\n        operator: '',\r\n        accountId: '',\r\n        accountCode: '',\r\n        accRateType: '',\r\n        accRateYear: '',\r\n        accRateMon: '',\r\n        accRateDay: '',\r\n        accRateStartDate: '',\r\n        accRateEndDate: ''\r\n      },\r\n      //投资标的\r\n      form_fundVo: {\r\n        id: undefined,\r\n        operator: '',\r\n        fundCode: '',\r\n        fundChName: '',\r\n        fundEnName: '',\r\n        fundCompName: '',\r\n        fundType: '',\r\n        fundRiskGrade: '',\r\n        fundCurrency: '',\r\n        fundState: '',\r\n        fundStateValiDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        fundInvestRatio: undefined\r\n      },\r\n      activeName: 'account',\r\n      form_Button: {},\r\n      //多选\r\n      accountOptionList: [],\r\n      selectFund: [],\r\n      // showPdgenlFund: false,\r\n\r\n      //往账户费用计算公式传值\r\n      accountFeeData: {},\r\n      pdgenlfundData: {},\r\n\r\n      dialogVisible: {\r\n        generalAccountFeeFormula: false,\r\n        accountFeeFormulaSelect: false,\r\n        pdgenlfund: false\r\n      },\r\n      openFeeFinal: false,\r\n      dialogVisible1: false,\r\n      dialogVisible2: false,\r\n      // dialogVisibleAccFee: false,  //详情页中的\r\n      // 方案组合对象\r\n      form_combination: {\r\n        premiumFlag: false,\r\n        premiumFlag1: false,\r\n        premiumFlag2: false,\r\n        premiumFlag3: true,\r\n      },\r\n      showFeeFinalVal: false,\r\n      showFeeFinalRatio: false,\r\n      showFeeFormula: false,\r\n\r\n      // 方案组合对象\r\n      loading: false,\r\n      //表格数据\r\n      //账户\r\n      accountTable: [],\r\n      //账户关联产品\r\n      accountCoonProduct: [],\r\n      //最低保证利率表格\r\n      rateProductAccount: [],\r\n      //投资标的表格\r\n      accFundTable: [],\r\n      //投资标的关联账户表格\r\n      FundCoonAccTable: [],\r\n      //账户费用\r\n      accountFeeTable: [],\r\n      //表格\r\n      accountFeeList: [],\r\n      //查询参数\r\n      params: {\r\n        accountCode: '',\r\n        accountType: [],\r\n        fundFlag: ''\r\n      },\r\n      //账户表格单选框\r\n      selectedAccount: {},\r\n      selectedAccountRate: {},\r\n      selectedAccountFund: {},\r\n      selectedAccountFundList: [],\r\n      //账户费用\r\n      selectedAccountFee: {},\r\n      //检验规则\r\n      form_account_rules: {\r\n        accountType: [{required: true, message: \"请选择账户类型\", trigger: \"change\"}],\r\n        accountName: [{required: true, message: \"请输入账户名称\", trigger: \"blur\"}],\r\n        accountOwner: [{required: true, message: \"请选择账户所有者\", trigger: \"change\"}],\r\n        accountCurrency: [{required: true, message: \"请选择账户币种\", trigger: \"change\"}],\r\n        accCrePlace: [{required: true, message: \"请选择账户建立时点\", trigger: \"change\"}],\r\n        accCrtDate: [{required: true, message: \"请选择账户建立日\", trigger: \"change\"}],\r\n        accDealFreq: [{required: true, message: \"请选择结算频率\", trigger: \"change\"}],\r\n        accDealDay: [{required: false, message: \"请输入结算日\", trigger: \"blur\"},\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value < 1 || value > 31) {\r\n                callback(new Error(\"结算日期间为1-31\"))\r\n              } else {\r\n                callback()\r\n              }\r\n            }\r\n          }],\r\n        accDealInstMode: [{required: true, message: \"请选择结息计算方式\", trigger: \"change\"}]\r\n      },\r\n      form_account_fee_rules: {\r\n        accFeeName: {required: true, message: '请输入费用名称', trigger: 'blur'},\r\n        accFeeOrder: {required: true, message: '请输入费用顺序', trigger: 'blur'},\r\n        accFeeCalcMode: {required: true, message: '请选择费用计算方式', trigger: 'change'},\r\n        accFeeFinalVal:  [{validator: validateFival, trigger: 'blur'}]\r\n      },\r\n      rules: {\r\n        // fundCode: {\r\n        //   required: false, trigger: 'change',\r\n        //   validator: (rules, value, callback) => {\r\n        //     for (const fund of this.accFundTable) {\r\n        //       if (fund.fundCode === value && fund.id != this.form_fundVo.id) {\r\n        //         callback(new Error(\r\n        //           \"该投资标的编号已存在，请勿重新添加\"\r\n        //         ));\r\n        //       }\r\n        //     }\r\n        //     callback();\r\n        //   }\r\n        // }\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    getAllGeneralAccount().then(response => {\r\n      this.accountOptionList = response.data\r\n    })\r\n    this.initFund()\r\n  },\r\n  watch: {\r\n    'form_account.accountType'() {\r\n      let accountType = this.form_account.accountType\r\n      let val = accountType[0]\r\n      if (val == '4') {\r\n        //this.form_account.accDealFreq = 'D'\r\n        this.form_account.accFinType = '1'\r\n        this.form_account.accFundFlag = 'N'\r\n      }\r\n      if (val == '5') {\r\n        this.form_account.accFinType = '2'\r\n        this.form_account.accFundFlag = 'Y'\r\n        //this.form_account.accDealFreq = 'D'\r\n      } else {\r\n        this.form_account.accFinType = '1'\r\n        this.form_account.accFundFlag = 'N'\r\n        //this.form_account.accDealFreq = 'Y'\r\n      }\r\n    },\r\n    'form_account_fee.accFeeCalcMode'() {\r\n      let accFeeCalcMode = this.form_account_fee.accFeeCalcMode\r\n      if (accFeeCalcMode == '01' || accFeeCalcMode == '03') {\r\n        this.showFeeFinalVal = true\r\n        this.showFeeFinalRatio = false\r\n      } else if (accFeeCalcMode == '02' || accFeeCalcMode == '04') {\r\n        this.showFeeFinalVal = false\r\n        this.showFeeFinalRatio = true\r\n      } else if (accFeeCalcMode == '05' || accFeeCalcMode == '06') {\r\n        this.showFeeFinalVal = true\r\n        this.showFeeFinalRatio = true\r\n      } else if (accFeeCalcMode == '07' || accFeeCalcMode == '08' || accFeeCalcMode == '09') {\r\n        this.showFeeFinalVal = false\r\n        this.showFeeFinalRatio = false\r\n      } else {\r\n        this.showFeeFinalVal = false\r\n        this.showFeeFinalRatio = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeCalcMode(val) {\r\n      if (val == '01' || val == '03') {\r\n        this.showFeeFinalVal = false\r\n        this.showFeeFinalRatio = true\r\n        this.form_account_fee.accFeeFinalVal = ''\r\n      } else if (val == '02' || val == '04') {\r\n        this.showFeeFinalVal = true\r\n        this.showFeeFinalRatio = false\r\n        this.form_account_fee.accFeeFinalRatio = ''\r\n      } else if (val == '05' || val == '06') {\r\n        this.showFeeFinalVal = false\r\n        this.showFeeFinalRatio = false\r\n      } else if (val == '07' || val == '08' || val == '09') {\r\n        this.showFeeFinalVal = true\r\n        this.showFeeFinalRatio = true\r\n        this.form_account_fee.accFeeFinalVal = ''\r\n        this.form_account_fee.accFeeFinalRatio = ''\r\n      } else {\r\n        this.showFeeFinalVal = true\r\n        this.showFeeFinalRatio = true\r\n      }\r\n    },\r\n    changesq: function (val) {\r\n      this.form_account.accountType = val;\r\n    },\r\n    //账户增删改\r\n    addAccount() {\r\n      this.$refs.form_account.validate((valid) => {\r\n        if (valid) {\r\n          for (const item of this.accountTable) {\r\n            if (item.accountType == this.form_account.accountType[1]) {\r\n              this.notifyWarning(\"该类型的通用账户已存在,请先删除已存在数据\");\r\n              return;\r\n            }\r\n          }\r\n          let map = {\r\n            form_account: this.form_account\r\n          }\r\n          addPdgenlAccount(map).then(response => {\r\n            this.notifySuccess(response.message);\r\n            this.$refs.pageAccount.buildData().then(() => {\r\n              this.resetForm();\r\n              this.selectedAccount = this.accountTable[0];\r\n              this.selectedAccountChanged(this.accountTable[0]);\r\n            });\r\n          })\r\n        }\r\n      })\r\n    },\r\n    updateAccount() {\r\n      this.$refs.form_account.validate((valid) => {\r\n        if (valid) {\r\n          for (const item of this.accountTable) {\r\n            if (item.accountType == this.form_account.accountType[1] && item.id != this.form_account.id) {\r\n              this.notifyWarning(\"该类型的通用账户已存在,请先删除已存在数据\");\r\n              return;\r\n            }\r\n          }\r\n          let account = {\r\n            form_account: this.form_account\r\n          }\r\n          updatePdgenlAccount(account).then(response => {\r\n            this.notifySuccess(response.message);\r\n            this.$refs.pageAccount.buildData().then(() => {\r\n              let valId = this.form_account.id;\r\n              this.resetForm();\r\n              for (const item2 of this.accountTable) {\r\n                if (item2.id == valId) {\r\n                  this.selectedAccount = item2;\r\n                  this.selectedAccountChanged(item2);\r\n                }\r\n              }\r\n            });\r\n          })\r\n        }\r\n      })\r\n    },\r\n    resetFormCopy() {\r\n      if (this.form_account.id) {\r\n        for (const item2 of this.accountTable) {\r\n          if (item2.id == this.form_account.id) {\r\n            this.selectedAccount = item2;\r\n            this.selectedAccountChanged(item2);\r\n          }\r\n        }\r\n      } else {\r\n        this.resetForm();\r\n      }\r\n    },\r\n    addAccountRate() {\r\n      if (this.form_account.id) {\r\n        this.form_rate_acc.accRateStartDate = this.dateDouble[0];\r\n        this.form_rate_acc.accRateEndDate = this.dateDouble[1];\r\n\r\n        let rateProductAccount = Object.assign({}, this.form_rate_acc);\r\n        if (rateProductAccount.accRateYear != null && rateProductAccount.accRateYear != '') {\r\n          rateProductAccount.accRateYear = rateProductAccount.accRateYear / 100;\r\n        }\r\n        if (rateProductAccount.accRateMon != null && rateProductAccount.accRateMon != '') {\r\n          rateProductAccount.accRateMon = rateProductAccount.accRateMon / 100;\r\n        }\r\n        if (rateProductAccount.accRateDay != null && rateProductAccount.accRateDay != '') {\r\n          rateProductAccount.accRateDay = rateProductAccount.accRateDay / 100;\r\n        }\r\n        let map = {\r\n          'form_account': this.form_account,\r\n          'rateProductAccount': rateProductAccount\r\n        }\r\n        addAccountRate(this.buildRequestData(map)).then(res => {\r\n          this.notifySuccess(res.message);\r\n          this.$refs.pageAccount.buildData().then(() => {\r\n            let valId = this.form_account.id;\r\n            this.resetForm();\r\n            for (const item2 of this.accountTable) {\r\n              if (item2.id == valId) {\r\n                this.selectedAccount = item2;\r\n                this.selectedAccountChanged(item2);\r\n              }\r\n            }\r\n            this.refreshFormAccountRateCopy();\r\n            this.selectedAccountRate = this.rateProductAccount[0];\r\n            this.selectedAccountRateChanged(this.selectedAccountRate);\r\n          });\r\n        })\r\n      } else {\r\n        this.notifyWarning(\"请先定义账户结构定义信息\")\r\n        return;\r\n      }\r\n    },\r\n    updateAccountRate() {\r\n      this.form_rate_acc.accRateStartDate = this.dateDouble[0];\r\n      this.form_rate_acc.accRateEndDate = this.dateDouble[1];\r\n\r\n      let rateProductAccount = Object.assign({}, this.form_rate_acc);\r\n      if (rateProductAccount.accRateYear != null && rateProductAccount.accRateYear != '') {\r\n        rateProductAccount.accRateYear = rateProductAccount.accRateYear / 100;\r\n      }\r\n      if (rateProductAccount.accRateMon != null && rateProductAccount.accRateMon != '') {\r\n        rateProductAccount.accRateMon = rateProductAccount.accRateMon / 100;\r\n      }\r\n      if (rateProductAccount.accRateDay != null && rateProductAccount.accRateDay != '') {\r\n        rateProductAccount.accRateDay = rateProductAccount.accRateDay / 100;\r\n      }\r\n      let map = {\r\n        'form_account': this.form_account,\r\n        'rateProductAccount': rateProductAccount\r\n      }\r\n      updateAccountRate(this.buildRequestData(map)).then(res => {\r\n        this.notifySuccess(res.message);\r\n        this.$refs.pageAccount.buildData().then(() => {\r\n          let valId = this.form_account.id;\r\n          this.resetForm();\r\n          for (const item2 of this.accountTable) {\r\n            if (item2.id == valId) {\r\n              this.selectedAccount = item2;\r\n              this.selectedAccountChanged(item2);\r\n            }\r\n          }\r\n          this.refreshFormAccountRateCopy();\r\n        });\r\n\r\n      })\r\n    },\r\n    deleteAccountRate(RateID) {\r\n      let map = {\r\n        'accountRateId': RateID\r\n      }\r\n      deleteAccountRate(this.buildRequestData(map)).then(res => {\r\n        this.notifySuccess(res.message);\r\n        this.refreshFormAccountRate();\r\n        this.$refs.pageAccount.buildData().then(() => {\r\n          let valId = this.form_account.id;\r\n          this.resetForm();\r\n          for (const item2 of this.accountTable) {\r\n            if (item2.id == valId) {\r\n              this.selectedAccount = item2;\r\n              this.selectedAccountChanged(item2);\r\n            }\r\n          }\r\n        });\r\n      })\r\n    },\r\n    refreshFormAccountRateCopy() {\r\n      if (this.form_rate_acc.id) {\r\n        for (const item of this.rateProductAccount) {\r\n          if (item.id == this.form_rate_acc.id) {\r\n            this.selectedAccountRate = item;\r\n            this.selectedAccountRateChanged(item);\r\n          }\r\n        }\r\n      } else {\r\n        this.refreshFormAccountRate();\r\n      }\r\n    },\r\n    addAccountfund() {\r\n      if (this.form_account.id) {\r\n        this.$refs.form_fundVo.validate((valid) => {\r\n          if (valid) {\r\n            for (const item of this.accFundTable) {\r\n              if (item.fundCode == this.form_fundVo.fundCode) {\r\n                this.notifyWarning(\"该类型的投资标的已存在,请先删除已存在数据\");\r\n                return;\r\n              }\r\n            }\r\n            let map = {\r\n              'form_account': this.form_account,\r\n              'accFundTable': this.form_fundVo\r\n            }\r\n            addAccountFund(map).then(response => {\r\n              this.notifySuccess(response.message);\r\n\r\n              this.$refs.pageAccount.buildData().then(() => {\r\n                let valId = this.form_account.id;\r\n                this.resetForm();\r\n                for (const item2 of this.accountTable) {\r\n                  if (item2.id == valId) {\r\n                    this.selectedAccount = item2;\r\n                    this.selectedAccountChanged(item2);\r\n                  }\r\n                }\r\n              });\r\n            })\r\n          }\r\n        });\r\n      } else {\r\n        this.notifyWarning(\"请先定义账户结构定义信息\")\r\n        return;\r\n      }\r\n    },\r\n    updateAccountfund() {\r\n      let ratio = this.form_fundVo.fundInvestRatio;\r\n      ratio = ratio / 100;\r\n      let map = {\r\n        'ratio': ratio,\r\n        'accFundTable': this.selectedAccountFundList\r\n      }\r\n      updateAccountFund(this.buildRequestData(map)).then(response => {\r\n        this.notifySuccess(response.message);\r\n        this.$refs.pageAccount.buildData().then(() => {\r\n          let valId = this.form_account.id;\r\n          this.resetForm();\r\n          for (const item2 of this.accountTable) {\r\n            if (item2.id == valId) {\r\n              this.selectedAccount = item2;\r\n              this.selectedAccountChanged(item2);\r\n            }\r\n          }\r\n        });\r\n      })\r\n    },\r\n    deleteAccountFund() {\r\n      let map = {\r\n        accountFund: this.selectedAccountFundList\r\n      }\r\n      deleteAccountFund(this.buildRequestData(map)).then(res => {\r\n        this.notifySuccess(res.message);\r\n        this.$refs.pageAccount.buildData().then(() => {\r\n          let valId = this.form_account.id;\r\n          this.resetForm();\r\n          for (const item2 of this.accountTable) {\r\n            if (item2.id == valId) {\r\n              this.selectedAccount = item2;\r\n              this.selectedAccountChanged(item2);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    },\r\n    refreshAccountFundCopy() {\r\n      this.selectedAccountFundList = [];\r\n      this.resetFormFundVo();\r\n      this.$refs.accFundTable.clearSelection();\r\n    },\r\n\r\n    //账户费用增删改\r\n    addAccountFee() {\r\n      this.$refs.form_account_fee.validate((valid) => {\r\n        if (valid) {\r\n          let accountFee = Object.assign({}, this.form_account_fee);\r\n          if (accountFee.accFeeFinalRatio != undefined) {\r\n            accountFee.accFeeFinalRatio = accountFee.accFeeFinalRatio / 100;\r\n          }\r\n          addFee(accountFee).then(response => {\r\n            this.AllFee()\r\n            this.accFeeresetForm()\r\n            this.notifySuccess(response.message);\r\n            this.$refs.pageAccount.buildData().then(() => {\r\n              let valId = this.form_account.id;\r\n              this.resetForm();\r\n              for (const item2 of this.accountTable) {\r\n                if (item2.id == valId) {\r\n                  this.selectedAccount = item2;\r\n                  this.selectedAccountChanged(item2);\r\n                }\r\n              }\r\n              this.accFeeresetForm();\r\n            });\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    AllFee() {\r\n      initFee(this.form_account.id).then(response => {\r\n        this.accountFeeTable = response.data\r\n      })\r\n    },\r\n    updateAccountFee() {\r\n      this.$refs.form_account_fee.validate((valid) => {\r\n        if (valid) {\r\n          let accountFee = Object.assign({}, this.form_account_fee);\r\n          if (accountFee.accFeeFinalRatio != undefined) {\r\n            accountFee.accFeeFinalRatio = accountFee.accFeeFinalRatio / 100;\r\n          }\r\n          updateFee(accountFee).then(response => {\r\n            this.AllFee()\r\n            this.accFeeresetForm()\r\n            this.notifySuccess(response.message);\r\n            this.$refs.pageAccount.buildData().then(() => {\r\n              let valId = this.form_account.id;\r\n              this.resetForm();\r\n              for (const item2 of this.accountTable) {\r\n                if (item2.id == valId) {\r\n                  this.selectedAccount = item2;\r\n                  this.selectedAccountChanged(item2);\r\n                }\r\n              }\r\n              this.accFeeresetForm();\r\n            });\r\n          })\r\n        }\r\n      })\r\n    },\r\n    deleteAccountFee(RowID) {\r\n      deleteFee(RowID).then(response => {\r\n        this.AllFee()\r\n        this.accFeeresetForm()\r\n        this.notifySuccess(response.message);\r\n        this.$refs.pageAccount.buildData().then(() => {\r\n          let valId = this.form_account.id;\r\n          this.resetForm();\r\n          for (const item2 of this.accountTable) {\r\n            if (item2.id == valId) {\r\n              this.selectedAccount = item2;\r\n              this.selectedAccountChanged(item2);\r\n            }\r\n          }\r\n          this.accFeeresetForm();\r\n        });\r\n      })\r\n    },\r\n    accFeeresetForm() {\r\n      this.showFeeFormula = false\r\n      this.selectedAccountFee = {}\r\n      this.form_account_fee = {\r\n        accountId: '',\r\n        accountCode: '',\r\n        accountName: '',\r\n        accFeeCode: '',\r\n        accFeeName: '',\r\n        accFeeOrder: this.form_account_fee.accFeeOrder,\r\n        accFeeType: this.form_account_fee.accFeeType,\r\n        accItemType: undefined,\r\n        accFeeDeduType: undefined,\r\n        accFeeDeduFreq: undefined,\r\n        accFeeCalcMode: '',\r\n        accFeeFinalVal: undefined,\r\n        accFeeFinalRatio: undefined,\r\n        accFeeCalcType: undefined,\r\n        calcCode: undefined\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form_account_fee\"].clearValidate()\r\n      })\r\n    },\r\n    handleSearch() {\r\n      this.$refs.pageAccount.reload()\r\n      this.resetForm()\r\n    },\r\n\r\n    changeDialogVisible_pdgenlfund(flag) {\r\n      this.dialogVisible.pdgenlfund = flag\r\n      this.$refs.pageAccount.buildData().then(() => {\r\n        this.resetFormCopy()\r\n      });\r\n    },\r\n    changeDialogVisible_feeFormula(flag) {\r\n      this.dialogVisible.generalAccountFeeFormula = flag\r\n    },\r\n    showPdgenlFundPage() {\r\n      this.pdgenlfundData = this.form_account\r\n      if (this.form_account.id == undefined) {\r\n        this.notifyError('请先保存账户再关联投资标的')\r\n        return false\r\n      }\r\n      this.dialogVisible.pdgenlfund = true\r\n    },\r\n    checkSelect(tab) {\r\n      if (tab.name == 'account_fee') {\r\n        if (!this.selectedAccount.id) {\r\n          this.$nextTick(() => {\r\n            this.activeName = 'account'\r\n          })\r\n          this.messageError(\"请选择一条账户信息\")\r\n        }\r\n      }\r\n    },\r\n    //关联账户\r\n    showRelatedAccount(fundid) {\r\n      generalDoubleAccountVoAll(fundid).then(response => {\r\n        this.FundCoonAccTable = response.data\r\n        this.dialogVisible2 = true\r\n      })\r\n    },\r\n    initFund() {\r\n      let parmas = {}\r\n      getAllFundCode(parmas).then(response => {\r\n        if (response.data.records.length <= 5) {\r\n          this.selectFund = response.data.records\r\n        }\r\n        if (response.data.records.length > 5) {\r\n          let list = []\r\n          for (let i = 0; i < 5; i++) {\r\n            list.push(response.data.records[i])\r\n          }\r\n          this.selectFund = list\r\n          // this.showPdgenlFund = true\r\n        }\r\n      })\r\n    },\r\n    deleteFund(row) {\r\n      this.accFundTable.splice(this.accFundTable.indexOf(row), 1)\r\n    },\r\n    deleteRate(row) {\r\n      this.rateProductAccount.splice(this.rateProductAccount.indexOf(row), 1)\r\n    },\r\n\r\n    //详情页中的\r\n    // showAccountFee(accountVo) {\r\n    //   this.accountFeeList = accountVo.feeList\r\n    //   this.dialogVisibleAccFee = true\r\n    // },\r\n    rowClick_accountRate(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAccountRate.id) {\r\n          this.refreshFormAccountRate()\r\n        }\r\n      }\r\n    },\r\n    refreshFormAccountRate() {\r\n      this.dateDouble = [];\r\n      this.selectedAccountRate = {};\r\n      this.form_rate_acc = {\r\n        id: undefined,\r\n        operator: '',\r\n        accountId: '',\r\n        accountCode: '',\r\n        accRateType: '',\r\n        accRateYear: '',\r\n        accRateMon: '',\r\n        accRateDay: '',\r\n        accRateStartDate: '',\r\n        accRateEndDate: ''\r\n      }\r\n    },\r\n    rowClick_account(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAccount.id) {\r\n          this.resetForm()\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    rowClick_account_fee(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAccountFee.id) {\r\n          this.accFeeresetForm()\r\n        }\r\n      }\r\n    },\r\n    selectedAccountFundChanged(val) {\r\n      this.selectedAccountFundList = val;\r\n      if (val.length === 1) {\r\n        this.form_fundVo = Object.assign({}, this.selectedAccountFundList[0])\r\n        if (this.form_fundVo.fundInvestRatio != undefined && this.form_fundVo.fundInvestRatio != '') {\r\n          this.form_fundVo.fundInvestRatio = parseInt(this.form_fundVo.fundInvestRatio * 100)\r\n        }\r\n      } else {\r\n        this.resetFormFundVo();\r\n      }\r\n    },\r\n    selectedAccountRateChanged(row) {\r\n      this.form_rate_acc = Object.assign({}, this.selectedAccountRate);\r\n      this.dateDouble = [];\r\n      this.$set(this.dateDouble, 0, this.form_rate_acc.accRateStartDate);\r\n      this.$set(this.dateDouble, 1, this.form_rate_acc.accRateEndDate);\r\n      if (this.form_rate_acc.accRateYear != '') {\r\n        this.form_rate_acc.accRateYear = parseInt(this.form_rate_acc.accRateYear * 100)\r\n      }\r\n      if (this.form_rate_acc.accRateMon != '') {\r\n        this.form_rate_acc.accRateMon = parseInt(this.form_rate_acc.accRateMon * 100)\r\n      }\r\n      if (this.form_rate_acc.accRateDay != '') {\r\n        this.form_rate_acc.accRateDay = parseInt(this.form_rate_acc.accRateDay * 100)\r\n      }\r\n    },\r\n    //账户选中一条带回数据form_account\r\n    selectedAccountChanged(row) {\r\n      this.refreshFormAccountRate();\r\n      this.form_account.accDealFreq = row.accDealFreq\r\n      this.form_account = Object.assign({}, this.selectedAccount);\r\n      this.form_account.accountType = [row.accountType.substring(0, 1), row.accountType]\r\n      //账户费用\r\n      this.form_account_fee.accountId = row.id\r\n      this.form_account_fee.accountCode = row.accountCode\r\n      this.form_account_fee.accountName = row.accountName\r\n      this.accountFeeTable = row.feeList;\r\n      this.form_account_fee.accFeeOrder = this.accountFeeTable.length + 1\r\n      //根据账户所有者判断预设费用类型\r\n      if (this.form_account.accountOwner == '1') {\r\n        this.form_account_fee.accFeeType = '03'\r\n      } else if (this.form_account.accountOwner == '3') {\r\n        this.form_account_fee.accFeeType = '01'\r\n      } else {\r\n        this.form_account_fee.accFeeType = '02'\r\n      }\r\n      //最低利率\r\n      this.rateProductAccount = row.accRateList;\r\n      //投资标的\r\n      this.accFundTable = row.fundList\r\n      this.form_combination.premiumFlag1 = true\r\n      this.form_combination.premiumFlag2 = true\r\n\r\n      this.form_combination.premiumFlag = true\r\n    },\r\n    selectedAccountFeeChanged() {\r\n      console.log(this.selectedAccountFee)\r\n      this.form_account_fee = Object.assign({}, this.selectedAccountFee)\r\n      if (this.form_account_fee.accFeeFinalRatio != undefined) {\r\n        this.form_account_fee.accFeeFinalRatio = parseInt(this.form_account_fee.accFeeFinalRatio * 100)\r\n      }\r\n      console.log(this.form_account_fee.accFeeFinalVal)\r\n      this.accountFeeData = this.form_account_fee\r\n      let val = this.form_account_fee.accFeeCalcMode\r\n      if (val == '07' || val == '08' || val == '09') {\r\n        this.showFeeFormula = true\r\n      } else {\r\n        this.showFeeFormula = false\r\n      }\r\n    },\r\n\r\n    deleteAccount(accountId) {\r\n      deletePdgenlAccount(accountId).then(response => {\r\n        this.handleSearch()\r\n        this.resetForm()\r\n        this.notifySuccess(response.message)\r\n      })\r\n    },\r\n\r\n\r\n    handleDelete(id) {\r\n      deletePdgenlAccount(id).then(response => {\r\n        this.handleSearch()\r\n        this.notifySuccess(response.message)\r\n      })\r\n    },\r\n\r\n    resetFormRateAccVo() {\r\n      this.form_rate_acc = {\r\n        id: undefined,\r\n        operator: '',\r\n        accountId: '',\r\n        accountCode: '',\r\n        accRateType: '',\r\n        accRateYear: '',\r\n        accRateMon: '',\r\n        accRateDay: '',\r\n        accRateStartDate: '',\r\n        accRateEndDate: ''\r\n      }\r\n    },\r\n    resetFormFundVo() {\r\n      this.form_fundVo = {\r\n        id: undefined,\r\n        operator: '',\r\n        fundCode: '',\r\n        fundChName: '',\r\n        fundEnName: '',\r\n        fundCompName: '',\r\n        fundType: '',\r\n        fundRiskGrade: '',\r\n        fundCurrency: '',\r\n        fundState: '',\r\n        fundStateValiDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        fundInvestRatio: undefined\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.selectedAccount = {}\r\n      //最低保证利率表格\r\n      this.rateProductAccount = []\r\n      //投资标的表格\r\n      this.accFundTable = []\r\n      // this.form_combination.premiumFlag1 = false\r\n      // this.form_combination.premiumFlag2 = false\r\n      this.form_account = {\r\n        accountCode: '',\r\n        accountName: '',\r\n        accountType: [],\r\n        accFinType: '',\r\n        accountOwner: '',\r\n        accInvestType: '',\r\n        accountCurrency: '01',\r\n        accCrePlace: '1',\r\n        accCrtDate: '1',\r\n        accCodeRule: '3',\r\n        accDealFreq: '',\r\n        accDealDay: '1',\r\n        accDealInstMode: '',\r\n        accFundFlag: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs[\"form_account\"].clearValidate()\r\n      })\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.divider {\r\n  color: black;\r\n  background-color: black;\r\n  width: 1px;\r\n  margin-left: 30px;\r\n}\r\n</style>\r\n"]}]}
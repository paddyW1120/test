{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\ldcode\\index.vue?vue&type=style&index=0&id=3ac48c5b&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\ldcode\\index.vue","mtime":1609847106577},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KdGQgLmVsLWZvcm0taXRlbSB7DQogIG1hcmdpbi1ib3R0b206IDBweDsNCn0NCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+cA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/business-general-conf/ldcode","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-filter-wraper>\r\n\r\n      <el-form label-width=\"auto\">\r\n        <el-row>\r\n          <cus-col>\r\n               <el-form-item :label=\"$t('ldcode.codeType')\">\r\n                 <el-input v-model=\"params.codeType\" :placeholder=\"$t('ldcode.codeType')\"\r\n                           clearable></el-input>\r\n               </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('ldcode.codeStatus')\">\r\n              <el-select v-model=\"params.codeStatus\" clearable :placeholder=\"$t('i18nView.selectPlaceholder')\">\r\n                <el-option v-for=\"item in stateList\" :key=\"item.key\" :label=\"item.name\"\r\n                           :value=\"item.key\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-btn-wrapper>\r\n            <el-button v-waves class=\"filter-button\" icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"handleSearch\">\r\n              {{$t('table.search') }}\r\n            </el-button>\r\n\r\n            <el-button v-auth=\"'ldcode:updateCache'\" v-waves class=\"filter-button\" icon=\"el-icon-brush\" size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"handleUpdateCache\">{{ $t('ldcode.updateCache') }}\r\n            </el-button>\r\n\r\n            <el-button v-auth=\"'ldcode:add'\" v-waves class=\"filter-button\" icon=\"el-icon-plus\" size=\"small\"\r\n                       type=\"primary\"\r\n                       @click=\"handleCreate\">{{ $t('table.add') }}\r\n            </el-button>\r\n          </cus-btn-wrapper>\r\n\r\n        </el-row>\r\n      </el-form>\r\n\r\n\r\n\r\n    </cus-filter-wraper>\r\n    <cus-table-title :label=\"$t('ldcode.bussinessTable')\"></cus-table-title>\r\n    <el-table :data=\"configs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">>\r\n      <el-table-column :index=\"indexMethod\" :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('ldcode.codeType')\" align=\"center\" prop=\"codeType\"></el-table-column>\r\n      <el-table-column :label=\"$t('ldcode.codeVersion')\" align=\"center\" prop=\"codeVersion\"></el-table-column>\r\n      <el-table-column :label=\"$t('ldcode.codeStatus')\" align=\"center\" prop=\"codeStatus\">\r\n         <template v-slot=\"scope\">\r\n                    {{scope.row.codeStatus | filterStatus }}\r\n         </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('ldcode.codeDesc')\" align=\"center\" prop=\"codeDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\"  width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-auth=\"'ldcode:update'\" class=\"filter-button\" icon=\"el-icon-edit\" size=\"mini\"\r\n                     type=\"primary\" @click=\"handleUpdate(scope.row)\">\r\n            {{ $t('table.edit') }}\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'ldcode:delete'\" @ok=\"handleDelete(scope.row.codeType)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page\" v-model=\"configs\" :pageSize=\"10\" :params=\"params\" url=\"/ldcode/list\"/>\r\n\r\n    <!---新增修改dialog---->\r\n\r\n    <el-dialog :destroy-on-close=\"true\" :visible.sync=\"dialogVisible\"\r\n               @close=\"dialogVisible=false\" append-to-body  v-dialog-drag>\r\n      <cus-page-title-back @backTo=\"dialogVisible=false\" :label=\"titleMap[dialogStatus]\" :isDialog=\"true\" />\r\n      <el-form ref=\"dataForm\" :model=\"form\" :rules=\"rules\" label-position=\"right\" label-width=\"auto\"\r\n              >\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n        <el-form-item :label=\"$t('ldcode.codeType')+':'\" prop=\"codeType\">\r\n          <el-input v-model=\"form.codeType\" :placeholder=\"$t('ldcode.input')+$t('ldcode.codeType')\"></el-input>\r\n        </el-form-item>\r\n          </el-col></el-row>\r\n\r\n        <el-form-item :label=\"$t('i18nView.codeAndName')\" prop=\"\" required>\r\n          <el-form ref=\"codeForm\" :model=\"codeForm\" :rules=\"tableRules\">\r\n            <el-table :data=\"codeForm.codeData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n              <el-table-column align=\"center\" :label=\"$t('table.select')\" width=\"50px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-radio v-model=\"radio\" :disabled=\"scope.row.code === '' || scope.row.codeName === ''\"\r\n                            @change=\"getCurrentRow(scope.row)\">{{ '' }}\r\n                  </el-radio>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('table.id')\" width=\"50px\">\r\n                <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.codeValue')\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-form-item :prop=\"'codeData.' + scope.$index + '.code'\" :rules=\"tableRules.code\">\r\n                    <el-input v-model=\"scope.row.code\" :placeholder=\"$t('i18nView.pleaseInputCodeValue')\">\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.codeValueName')\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-form-item :prop=\"'codeData.' + scope.$index + '.codeName'\" :rules=\"tableRules.codeName\">\r\n                    <el-input v-model=\"scope.row.codeName\" :placeholder=\"$t('i18nView.pleaseInputCodeName')\">\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" fixed=\"right\" :label=\"$t('table.actions')\" width=\"60\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"danger\" @click=\"delCostRow(scope.$index,scope.row)\">-</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-form>\r\n          <el-row>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"addCostRow\">+</el-button>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.codeSecondName')\" prop=\"\">\r\n          <el-form ref=\"codeSecondForm\" :model=\"codeSecondForm\" :rules=\"secondTableRules\">\r\n            <el-table :data=\"codeSecondForm.codeSecondData\" align=\"center\" border class=\"wraper-table\" fit\r\n                      highlight-current-row>\r\n              <el-table-column align=\"center\" :label=\"$t('table.id')\" width=\"50px\">\r\n                <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.codeSecondValue')\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-form-item :prop=\"'codeSecondData.' + scope.$index + '.codeSecond'\"\r\n                                :rules=\"secondTableRules.codeSecond\">\r\n                    <el-input v-model=\"scope.row.codeSecond\" :placeholder=\"$t('i18nView.pleaseInputCodeValue')\">\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" :label=\"$t('i18nView.codeSecondValueName')\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-form-item :prop=\"'codeSecondData.' + scope.$index + '.codeSecondName'\"\r\n                                :rules=\"secondTableRules.codeSecondName\">\r\n                    <el-input v-model=\"scope.row.codeSecondName\" :placeholder=\"$t('i18nView.pleaseInputCodeName')\">\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column align=\"center\" fixed=\"right\" :label=\"$t('table.actions')\" width=\"60\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button size=\"mini\" type=\"danger\" @click=\"delSecondRow(scope.$index,scope.row)\">-</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-form>\r\n          <el-row>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"addSecondRow\">+</el-button>\r\n          </el-row>\r\n        </el-form-item>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n        <el-form-item :label=\"$t('ldcode.codeDesc')+':'\" prop=\"codeDesc\">\r\n          <el-input v-model=\"form.codeDesc\" :placeholder=\"$t('ldcode.input')+$t('ldcode.codeDesc')\"></el-input>\r\n        </el-form-item>\r\n          </el-col></el-row>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n        <el-form-item :label=\"$t('ldcode.codeTenant')+':'\" prop=\"tenantId\">\r\n          <el-select v-model=\"form.tenantId\" :placeholder=\"$t('i18nView.selectPlaceholder')\" clearable\r\n                     filterable>\r\n            <el-option v-for=\"item in tenantOptions\" :key=\"item.value\" :label=\"item.label\"\r\n                       :value=\"item.value\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n          </el-col></el-row>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n        <el-form-item :label=\"$t('ldcode.codeStatus')+':'\" prop=\"codeStatus\">\r\n          <el-select v-model=\"form.codeStatus\" :placeholder=\"$t('i18nView.selectPlaceholder')\">\r\n            <el-option v-for=\"item in stateList\" :key=\"item.key\" :label=\"item.name\"\r\n                       :value=\"item.key\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n          </el-col></el-row>\r\n      </el-form>\r\n      <span  slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button size=\"small\" type=\"primary\" icon='el-icon-circle-close' @click=\"dialogVisible = false\"> {{ $t('table.cancel') }} </el-button>\r\n          <el-button v-auth=\"'ldcode:add'\" class=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"submitForm\"> {{\r\n              $t('table.confirm')\r\n            }} </el-button>\r\n        </span>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {addLdcode, deleteLdcode, detailLdcode, updateLdcode} from '@/api/common/ldcode'\r\nimport {getAllTenant} from '@/api/workflow/workflow'\r\n\r\nlet _this;\r\nexport default {\r\n  name: 'ldcode',\r\n  filters:{\r\n     filterStatus(val){\r\n         return _this._.find(_this.stateList, { 'key': val}).name;\r\n     }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      //表格数据\r\n      currentPage: '',\r\n      pageSize: '',\r\n      configs: [],\r\n      //查询参数\r\n      params: {\r\n        codeType: '',\r\n        codeStatus: '',\r\n      },\r\n      tenantOptions: [],\r\n      stateList: [{key: '1', name: this.$t('userView.table_enable')}, {\r\n        key: '0',\r\n        name: this.$t('userView.table_disable')\r\n      }],\r\n      radio: '',\r\n      codeIds: [],\r\n      codeForm: {\r\n        codeData: []\r\n      },\r\n      rowCode: '',\r\n      codeSecondForm: {\r\n        codeSecondData: []\r\n      },\r\n      form: {  //表单数据与后端实体类对应\r\n        codeType: '', //\r\n        codeData: [],\r\n        codeStatus: '', //\r\n        codeDesc: '', //\r\n        tenantId: ''\r\n      },\r\n      //检验规则\r\n      rules: {\r\n        codeType: [\r\n          {required: true, message: this.$t('ldcode.input') + '' + this.$t('ldcode.codeType'), trigger: 'blur'}\r\n        ],\r\n        code: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.code'), trigger: 'blur'}\r\n        ],\r\n        codeName: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.codeName'), trigger: 'blur'}\r\n        ]\r\n        ,\r\n        codeStatus: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.codeStatus'), trigger: 'change'}\r\n        ] ,\r\n        tenantId: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.codeTenant'), trigger: 'change'}\r\n        ]\r\n      },\r\n      tableRules: {\r\n        code: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.code'), trigger: 'blur'}\r\n        ],\r\n        codeName: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.codeName'), trigger: 'blur'}\r\n        ]\r\n      },\r\n      secondTableRules: {\r\n        codeSecond: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.code'), trigger: 'blur'}\r\n        ],\r\n        codeSecondName: [\r\n          {required: true, message: this.$t('ldcode.input') + this.$t('ldcode.codeName'), trigger: 'blur'}\r\n        ]\r\n      },\r\n      dialogVisible: false, //dialog显示还是隐藏\r\n      dialogStatus: '', //表单状态是新增还是修改\r\n      titleMap: {\r\n        update: this.$t('table.update'),\r\n        create: this.$t('table.add')\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.initTenantLists()\r\n  },\r\n  methods: {\r\n    indexMethod(index) {\r\n      return this.initTableIndex('page', index);\r\n    },\r\n    getCurrentRow(row) {\r\n      this.radio = row\r\n      if (row.code) {\r\n        this.rowCode = row\r\n        if (row.children.length === 0) {\r\n          row.children.push({\r\n            codeSecond: '',\r\n            codeSecondName: ''\r\n          })\r\n        }\r\n        this.codeSecondForm.codeSecondData = row.children\r\n      }\r\n    },\r\n    delCostRow(index, row) {\r\n      if (row.children.length > 0) {\r\n        this.confirmWarning('已定义二级编码.确认删除？').then(() => {\r\n          this.codeForm.codeData.splice(index, 1)\r\n          this.codeSecondForm.codeSecondData = []\r\n        })\r\n      } else {\r\n        this.codeForm.codeData.splice(index, 1)\r\n      }\r\n    },\r\n    addCostRow() {\r\n      this.$refs.codeForm.validate(valid => {\r\n        if (valid) {\r\n          let codes = this.codeForm.codeData.map(data => {\r\n            return data.code\r\n          })\r\n          //判断[1,3,24,345,5]是否有重复数据\r\n          if (!this.isRepeat(codes)) {\r\n            this.codeForm.codeData.push({\r\n              code: '',\r\n              codeName: '',\r\n              children: []\r\n            })\r\n          } else {\r\n            this.messageError('编码值不可重复')\r\n          }\r\n        }\r\n      })\r\n    },\r\n    delSecondRow(index, row) {\r\n      this.codeSecondForm.codeSecondData.splice(index, 1)\r\n    },\r\n    addSecondRow() {\r\n      if (this.rowCode.code) {\r\n        this.$refs.codeSecondForm.validate(valid => {\r\n          if (valid) {\r\n            let codes = this.codeSecondForm.codeSecondData.map(data => {\r\n              return data.codeSecond\r\n            })\r\n            if (!this.isRepeat(codes)) {\r\n              this.codeSecondForm.codeSecondData.push({\r\n                codeSecond: '',\r\n                codeSecondName: ''\r\n              })\r\n              this.rowCode.children = this.codeSecondForm.codeSecondData\r\n            } else {\r\n              this.messageError('编码值不可重复')\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        this.messageError('请先选择一级编码')\r\n      }\r\n    },\r\n    isRepeat(arr) {\r\n      let hash = {}\r\n      for (const i in arr) {\r\n        if (hash[arr[i]]) {\r\n          return true\r\n        }\r\n        hash[arr[i]] = true\r\n      }\r\n      return false\r\n    },\r\n    initTenantLists() {\r\n      getAllTenant().then(res => {\r\n        this.tenantOptions = []\r\n        this.tenantOptions.push({'value': 0, 'label': '共用'})\r\n        let tenantList = res.data\r\n        tenantList.forEach(data => {\r\n          this.tenantOptions.push({'value': data.id, 'label': data.name})\r\n        })\r\n      })\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload()\r\n    }, handleUpdateCache() {\r\n      this.confirmWarning('是否要更新码表缓存?').then(() => {\r\n        this.$store.dispatch('ldcode/updateSelect')\r\n      })\r\n    },\r\n    handleCreate() {\r\n      this.resetForm()\r\n      this.dialogStatus = 'create'\r\n      this.dialogVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.dataForm.clearValidate()\r\n      })\r\n    },\r\n    handleUpdate(row) {\r\n      this.form = Object.assign({}, row)\r\n      detailLdcode(row.codeType).then(res => {\r\n        this.codeForm.codeData = res.data.detail[row.codeType]\r\n        this.codeSecondForm.codeSecondData = this.codeForm.codeData[0].children\r\n        this.codeIds = res.data.codeIds\r\n        this.dialogStatus = 'update'\r\n        this.dialogVisible = true\r\n      })\r\n    },\r\n    handleDelete(codetype) {\r\n      deleteLdcode(codetype).then(response => {\r\n        this.handleSearch()\r\n        this.notifySuccess(response.message)\r\n        this.dialogVisible = false\r\n      })\r\n    },\r\n    submitForm() {\r\n      if (this.codeForm.codeData.length === 0) {\r\n        this.messageError('请添加编码值与名称')\r\n        return\r\n      }\r\n      this.$refs.codeForm.validate(valid1 => {\r\n        if (valid1) {\r\n          this.$refs.codeSecondForm.validate(valid2 => {\r\n            if (valid2) {\r\n              this.$refs.dataForm.validate(valid => {\r\n                if (valid) {\r\n                  this.form.codeData = this.codeForm.codeData\r\n                  let back\r\n                  if (this.dialogStatus === 'update') {\r\n                    let data = {\"codeVo\": this.form, \"codeIds\": this.codeIds}\r\n                    back = updateLdcode(data)\r\n                  } else {\r\n                    back = addLdcode(this.form)\r\n                  }\r\n                  back.then(response => {\r\n                    this.handleSearch()\r\n                    this.notifySuccess(response.message)\r\n                    this.dialogVisible = false\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n\r\n\r\n    },\r\n    resetForm() {\r\n      this.form = {  //表单数据与后端实体类对应\r\n        codeType: '', //\r\n        codeSort: '', //\r\n        codeDesc: '' //\r\n      }\r\n      this.codeForm.codeData = []\r\n      this.codeSecondForm.codeSecondData = []\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\ntd .el-form-item {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n</style>\r\n"]}]}
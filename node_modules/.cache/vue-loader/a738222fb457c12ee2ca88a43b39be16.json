{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\draggable\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\test\\draggable\\Home.vue","mtime":1609847107203},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2xpc3RBbGx9IGZyb20gICdAL2FwaS9jb21tb24vZHJhZ2dhYmxlJw0KaW1wb3J0IGRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnDQppbXBvcnQgcmVuZGVyIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXIvcmVuZGVyJw0KaW1wb3J0IEpzb25EcmF3ZXIgZnJvbSAnLi9Kc29uRHJhd2VyJw0KaW1wb3J0IFJpZ2h0UGFuZWwgZnJvbSAnLi9SaWdodFBhbmVsJw0KaW1wb3J0IHsNCiAgIGZvcm1Db25mDQp9IGZyb20gJ0AvY29tcG9uZW50cy9nZW5lcmF0b3IvY29uZmlnJw0KaW1wb3J0IERyYWdnYWJsZUl0ZW0gZnJvbSAnLi9EcmFnZ2FibGVJdGVtJw0KDQpsZXQgYmVhdXRpZmllcg0KbGV0IHRlbXBBY3RpdmVEYXRhDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIGRyYWdnYWJsZSwNCiAgICByZW5kZXIsDQogICAgSnNvbkRyYXdlciwNCiAgICBSaWdodFBhbmVsLA0KICAgIERyYWdnYWJsZUl0ZW0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybUNvbmYsDQogICAgICBsYWJlbFdpZHRoOiAxMDAsDQogICAgICBkcmF3aW5nTGlzdDogW10sDQogICAgICBkcmF3aW5nRGF0YToge30sDQogICAgICBhY3RpdmVJZDogJycsDQogICAgICBkcmF3ZXJWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGZvcm1EYXRhOiB7fSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAganNvbkRyYXdlclZpc2libGU6IGZhbHNlLA0KICAgICAgZ2VuZXJhdGVDb25mOiBudWxsLA0KICAgICAgc2hvd0ZpbGVOYW1lOiBmYWxzZSwNCiAgICAgIGFjdGl2ZURhdGE6IHsNCiAgICAgICAgImNvbmZpZyI6IHsNCiAgICAgICAgICAiZGVmYXVsdFZhbHVlIjogIiIsDQogICAgICAgICAgImxheW91dCI6ICJjb2xGb3JtSXRlbSIsDQogICAgICAgICAgInJlZ0xpc3QiOiBbXSwNCiAgICAgICAgICAic3BhbiI6IDgsDQogICAgICAgICAgInRhZyI6ICIiLA0KICAgICAgICAgICJ0YWdJY29uIjogIiINCiAgICAgICAgfSwNCiAgICAgICAgImRpc2FibGVkIjogZmFsc2UsDQogICAgICAgICJlbkxhYmVsIjogIiIsDQogICAgICAgICJsYWJlbCI6ICIiLA0KICAgICAgICAicGxhY2Vob2xkZXIiOiAiIiwNCiAgICAgICAgInJlYWRvbmx5IjogZmFsc2UsDQogICAgICAgICJyZXF1aXJlZCI6IGZhbHNlLA0KICAgICAgICAic3R5bGUiOiB7DQogICAgICAgICAgIndpZHRoIjogIjEwMCUiDQogICAgICAgIH0sDQogICAgICAgICJ0eXBlIjogIiIsDQogICAgICAgICJ2TW9kZWwiOiAiIiwNCiAgICAgICAgInZhbCI6ICIiLA0KICAgICAgICAidmFsVHlwZSI6ICIiDQogICAgICB9LA0KICAgICAgbGVmdENvbXBvbmVudHM6IFtdDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgICAgbGlzdEFsbCgpLnRoZW4ocmVzPT57DQogICAgICAgICB0aGlzLmxlZnRDb21wb25lbnRzID0gcmVzLmRhdGENCiAgICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhY3RpdmVGb3JtSXRlbShlbGVtZW50KSB7DQogICAgICB0aGlzLmFjdGl2ZURhdGEgPSBlbGVtZW50DQogICAgfSwNCiAgICBvbkVuZChvYmopIHsNCiAgICAgIGlmIChvYmouZnJvbSAhPT0gb2JqLnRvKSB7DQogICAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IHRlbXBBY3RpdmVEYXRhDQogICAgICB9DQogICAgfSwNCiAgICBhZGRDb21wb25lbnQoaXRlbSkgew0KICAgICAgY29uc3QgY2xvbmUgPSB0aGlzLmNsb25lQ29tcG9uZW50KGl0ZW0pDQogICAgICB0aGlzLmRyYXdpbmdMaXN0LnB1c2goY2xvbmUpDQogICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKGNsb25lKQ0KICAgIH0sDQogICAgY2xvbmVDb21wb25lbnQob3JpZ2luKSB7DQogICAgICBjb25zdCBjbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob3JpZ2luKSkNCiAgICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lLmNvbmZpZw0KICAgICAgY29uZmlnLnNwYW4gPSB0aGlzLmZvcm1Db25mLnNwYW4NCiAgICAgIGNsb25lLnBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgJiYgKGNsb25lLnBsYWNlaG9sZGVyICs9IGNsb25lLmxhYmVsKQ0KICAgICAgY29uZmlnLmxheW91dCA9ICdjb2xGb3JtSXRlbScNCiAgICAgIHRlbXBBY3RpdmVEYXRhID0gY2xvbmUNCiAgICAgIHJldHVybiB0ZW1wQWN0aXZlRGF0YQ0KICAgIH0sDQogICAgQXNzZW1ibGVGb3JtRGF0YSgpIHsNCiAgICAgIHRoaXMuZm9ybURhdGEgPSB7DQogICAgICAgIGZpZWxkczogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRyYXdpbmdMaXN0KSksDQogICAgICAgIC4uLnRoaXMuZm9ybUNvbmYNCiAgICAgIH0NCiAgICB9LA0KICAgIGVtcHR5KCkgew0KICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5riF56m65omA5pyJ57uE5Lu25ZCX77yfJywgJ+aPkOekuicsIHsgdHlwZTogJ3dhcm5pbmcnIH0pLnRoZW4oDQogICAgICAgICgpID0+IHsNCiAgICAgICAgICB0aGlzLmRyYXdpbmdMaXN0ID0gW10NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgIH0sDQogICAgZHJhd2luZ0l0ZW1EZWxldGUoaW5kZXgsIHBhcmVudCkgew0KDQogICAgICBwYXJlbnQuc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmRyYXdpbmdMaXN0Lmxlbmd0aA0KICAgICAgICBpZiAobGVuKSB7DQogICAgICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbSh0aGlzLmRyYXdpbmdMaXN0W2xlbiAtIDFdKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgc2hvd0pzb24oKSB7DQogICAgICB0aGlzLkFzc2VtYmxlRm9ybURhdGEoKQ0KICAgICAgdGhpcy5qc29uRHJhd2VyVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGRvd25sb2FkKCkgew0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgICAgdGhpcy5zaG93RmlsZU5hbWUgPSB0cnVlDQogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAnZG93bmxvYWQnDQogICAgfSwNCiAgICBydW4oKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IGZhbHNlDQogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAncnVuJw0KICAgIH0sDQogICAgY29weSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgIHRoaXMuc2hvd0ZpbGVOYW1lID0gZmFsc2UNCiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdjb3B5Jw0KICAgIH0sDQogICAgdGFnQ2hhbmdlKG5ld1RhZykgew0KICAgICAgbmV3VGFnID0gdGhpcy5jbG9uZUNvbXBvbmVudChuZXdUYWcpDQogICAgICBjb25zdCBjb25maWcgPSBuZXdUYWcuY29uZmlnDQogICAgICBuZXdUYWcudk1vZGVsID0gdGhpcy5hY3RpdmVEYXRhLnZNb2RlbA0KICAgICAgY29uZmlnLmZvcm1JZCA9IHRoaXMuYWN0aXZlSWQNCiAgICAgIGNvbmZpZy5zcGFuID0gdGhpcy5hY3RpdmVEYXRhLmNvbmZpZy5zcGFuDQogICAgICB0aGlzLmFjdGl2ZURhdGEuY29uZmlnLnRhZyA9IGNvbmZpZy50YWcNCiAgICAgIHRoaXMuYWN0aXZlRGF0YS5jb25maWcudGFnSWNvbiA9IGNvbmZpZy50YWdJY29uDQogICAgICB0aGlzLmFjdGl2ZURhdGEuY29uZmlnLmRvY3VtZW50ID0gY29uZmlnLmRvY3VtZW50DQogICAgICBpZiAodHlwZW9mIHRoaXMuYWN0aXZlRGF0YS5jb25maWcuZGVmYXVsdFZhbHVlID09PSB0eXBlb2YgY29uZmlnLmRlZmF1bHRWYWx1ZSkgew0KICAgICAgICBjb25maWcuZGVmYXVsdFZhbHVlID0gdGhpcy5hY3RpdmVEYXRhLmNvbmZpZy5kZWZhdWx0VmFsdWUNCiAgICAgIH0NCiAgICAgIE9iamVjdC5rZXlzKG5ld1RhZykuZm9yRWFjaChrZXkgPT4gew0KICAgICAgICBpZiAodGhpcy5hY3RpdmVEYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgIG5ld1RhZ1trZXldID0gdGhpcy5hY3RpdmVEYXRhW2tleV0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IG5ld1RhZw0KICAgICAgdGhpcy51cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIHRoaXMuZHJhd2luZ0xpc3QpDQogICAgfSwNCiAgICB1cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIGxpc3QpIHsNCiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLl9fY29uZmlnX18uZm9ybUlkID09PSB0aGlzLmFjdGl2ZUlkKQ0KICAgICAgaWYgKGluZGV4ID4gLTEpIHsNCiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEsIG5ld1RhZykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLl9fY29uZmlnX18uY2hpbGRyZW4pKSB0aGlzLnVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgaXRlbS5fX2NvbmZpZ19fLmNoaWxkcmVuKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVmcmVzaEpzb24oZGF0YSkgew0KICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YS5maWVsZHMpKQ0KICAgICAgZGVsZXRlIGRhdGEuZmllbGRzDQogICAgICB0aGlzLmZvcm1Db25mID0gZGF0YQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/test/draggable","sourcesContent":["\r\n<template>\r\n  <div class=\"container\">\r\n    <div class=\"left-board\">\r\n      <el-scrollbar class=\"left-scrollbar\">\r\n        <div class=\"components-list\">\r\n          <div v-for=\"(item, listIndex) in leftComponents\" :key=\"listIndex\">\r\n            <div class=\"components-title\">\r\n              <svg-icon icon-class=\"component\" />\r\n              {{ item.title }}\r\n            </div>\r\n            <draggable\r\n              class=\"components-draggable\"\r\n              :list=\"item.list\"\r\n              :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\r\n              :clone=\"cloneComponent\"\r\n              draggable=\".components-item\"\r\n              :sort=\"false\"\r\n              @end=\"onEnd\"\r\n            >\r\n              <div\r\n                v-for=\"(element, index) in item.list\"\r\n                :key=\"index\"\r\n                class=\"components-item\"\r\n                @click=\"addComponent(element)\"\r\n              >\r\n                <div class=\"components-body\">\r\n                  <svg-icon :icon-class=\"element.config.tagIcon\" />\r\n                  {{ element.label }}\r\n                </div>\r\n              </div>\r\n            </draggable>\r\n          </div>\r\n        </div>\r\n      </el-scrollbar>\r\n    </div>\r\n\r\n    <div class=\"center-board\">\r\n      <div class=\"action-bar\">\r\n        <el-button  size=\"small\" icon=\"el-icon-view\" type=\"text\" @click=\"showJson\">\r\n          查看json\r\n        </el-button>\r\n        <el-button  size=\"small\" class=\"delete-btn\" icon=\"el-icon-delete\" type=\"text\" @click=\"empty\">\r\n          {{$t('table.clear')}}\r\n        </el-button>\r\n      </div>\r\n      <el-scrollbar class=\"center-scrollbar\">\r\n        <el-row class=\"center-board-row\" :gutter=\"formConf.gutter\">\r\n          <el-form\r\n            :size=\"formConf.size\"\r\n            :label-position=\"formConf.labelPosition\"\r\n            :disabled=\"formConf.disabled\"\r\n            :label-width=\"formConf.labelWidth + 'px'\"\r\n          >\r\n            <draggable class=\"drawing-board\" :list=\"drawingList\" :animation=\"340\" group=\"componentsGroup\">\r\n              <draggable-item\r\n                v-for=\"(element, index) in drawingList\"\r\n                :key=\"element.renderKey\"\r\n                :drawing-list=\"drawingList\"\r\n                :element=\"element\"\r\n                :index=\"index\"\r\n                :form-conf=\"formConf\"\r\n                @activeItem=\"activeFormItem\"\r\n                @deleteItem=\"drawingItemDelete\"\r\n              />\r\n            </draggable>\r\n            <div v-show=\"!drawingList.length\" class=\"empty-info\">\r\n              {{$t('i18nView.formDesign')}}\r\n            </div>\r\n          </el-form>\r\n        </el-row>\r\n      </el-scrollbar>\r\n    </div>\r\n\r\n    <right-panel\r\n      :active-data=\"activeData\"\r\n      :form-conf=\"formConf\"\r\n      :show-field=\"!!drawingList.length\"\r\n      @tag-change=\"tagChange\"\r\n    />\r\n\r\n\r\n    <json-drawer\r\n      size=\"60%\"\r\n      :visible.sync=\"jsonDrawerVisible\"\r\n      :json-str=\"JSON.stringify(formData)\"\r\n      @refresh=\"refreshJson\"\r\n    />\r\n\r\n    <input id=\"copyNode\" type=\"hidden\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {listAll} from  '@/api/common/draggable'\r\nimport draggable from 'vuedraggable'\r\nimport render from '@/components/render/render'\r\nimport JsonDrawer from './JsonDrawer'\r\nimport RightPanel from './RightPanel'\r\nimport {\r\n   formConf\r\n} from '@/components/generator/config'\r\nimport DraggableItem from './DraggableItem'\r\n\r\nlet beautifier\r\nlet tempActiveData\r\n\r\nexport default {\r\n  components: {\r\n    draggable,\r\n    render,\r\n    JsonDrawer,\r\n    RightPanel,\r\n    DraggableItem\r\n  },\r\n  data() {\r\n    return {\r\n      formConf,\r\n      labelWidth: 100,\r\n      drawingList: [],\r\n      drawingData: {},\r\n      activeId: '',\r\n      drawerVisible: false,\r\n      formData: {},\r\n      dialogVisible: false,\r\n      jsonDrawerVisible: false,\r\n      generateConf: null,\r\n      showFileName: false,\r\n      activeData: {\r\n        \"config\": {\r\n          \"defaultValue\": \"\",\r\n          \"layout\": \"colFormItem\",\r\n          \"regList\": [],\r\n          \"span\": 8,\r\n          \"tag\": \"\",\r\n          \"tagIcon\": \"\"\r\n        },\r\n        \"disabled\": false,\r\n        \"enLabel\": \"\",\r\n        \"label\": \"\",\r\n        \"placeholder\": \"\",\r\n        \"readonly\": false,\r\n        \"required\": false,\r\n        \"style\": {\r\n          \"width\": \"100%\"\r\n        },\r\n        \"type\": \"\",\r\n        \"vModel\": \"\",\r\n        \"val\": \"\",\r\n        \"valType\": \"\"\r\n      },\r\n      leftComponents: []\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  created() {\r\n      listAll().then(res=>{\r\n         this.leftComponents = res.data\r\n      })\r\n  },\r\n  methods: {\r\n    activeFormItem(element) {\r\n      this.activeData = element\r\n    },\r\n    onEnd(obj) {\r\n      if (obj.from !== obj.to) {\r\n        this.activeData = tempActiveData\r\n      }\r\n    },\r\n    addComponent(item) {\r\n      const clone = this.cloneComponent(item)\r\n      this.drawingList.push(clone)\r\n      this.activeFormItem(clone)\r\n    },\r\n    cloneComponent(origin) {\r\n      const clone = JSON.parse(JSON.stringify(origin))\r\n      const config = clone.config\r\n      config.span = this.formConf.span\r\n      clone.placeholder !== undefined && (clone.placeholder += clone.label)\r\n      config.layout = 'colFormItem'\r\n      tempActiveData = clone\r\n      return tempActiveData\r\n    },\r\n    AssembleFormData() {\r\n      this.formData = {\r\n        fields: JSON.parse(JSON.stringify(this.drawingList)),\r\n        ...this.formConf\r\n      }\r\n    },\r\n    empty() {\r\n      this.$confirm('确定要清空所有组件吗？', '提示', { type: 'warning' }).then(\r\n        () => {\r\n          this.drawingList = []\r\n        }\r\n      )\r\n    },\r\n    drawingItemDelete(index, parent) {\r\n\r\n      parent.splice(index, 1)\r\n      this.$nextTick(() => {\r\n        const len = this.drawingList.length\r\n        if (len) {\r\n          this.activeFormItem(this.drawingList[len - 1])\r\n        }\r\n      })\r\n    },\r\n    showJson() {\r\n      this.AssembleFormData()\r\n      this.jsonDrawerVisible = true\r\n    },\r\n    download() {\r\n      this.dialogVisible = true\r\n      this.showFileName = true\r\n      this.operationType = 'download'\r\n    },\r\n    run() {\r\n      this.dialogVisible = true\r\n      this.showFileName = false\r\n      this.operationType = 'run'\r\n    },\r\n    copy() {\r\n      this.dialogVisible = true\r\n      this.showFileName = false\r\n      this.operationType = 'copy'\r\n    },\r\n    tagChange(newTag) {\r\n      newTag = this.cloneComponent(newTag)\r\n      const config = newTag.config\r\n      newTag.vModel = this.activeData.vModel\r\n      config.formId = this.activeId\r\n      config.span = this.activeData.config.span\r\n      this.activeData.config.tag = config.tag\r\n      this.activeData.config.tagIcon = config.tagIcon\r\n      this.activeData.config.document = config.document\r\n      if (typeof this.activeData.config.defaultValue === typeof config.defaultValue) {\r\n        config.defaultValue = this.activeData.config.defaultValue\r\n      }\r\n      Object.keys(newTag).forEach(key => {\r\n        if (this.activeData[key] !== undefined) {\r\n          newTag[key] = this.activeData[key]\r\n        }\r\n      })\r\n      this.activeData = newTag\r\n      this.updateDrawingList(newTag, this.drawingList)\r\n    },\r\n    updateDrawingList(newTag, list) {\r\n      const index = list.findIndex(item => item.__config__.formId === this.activeId)\r\n      if (index > -1) {\r\n        list.splice(index, 1, newTag)\r\n      } else {\r\n        list.forEach(item => {\r\n          if (Array.isArray(item.__config__.children)) this.updateDrawingList(newTag, item.__config__.children)\r\n        })\r\n      }\r\n    },\r\n    refreshJson(data) {\r\n      this.drawingList = JSON.parse(JSON.stringify(data.fields))\r\n      delete data.fields\r\n      this.formConf = data\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import '@/styles/home';\r\n</style>\r\n"]}]}
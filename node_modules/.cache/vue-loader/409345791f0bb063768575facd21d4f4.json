{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\guarantee-def\\no-general-medical\\pdtemppdclmdisrela\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\guarantee-def\\no-general-medical\\pdtemppdclmdisrela\\index.vue","mtime":1609847106875},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7YWRkUGR0ZW1wUGRDbG1EaXNSZWxhLCBjbG1EaXNSZWxhTGlzdCwgdXBkYXRlUGR0ZW1wUGRDbG1EaXNSZWxhLHBkZ2VubERpc0luZm9UcmVlLA0KcGRnZW5sUGRnZW5rRGlzSW5mb0FsbExpc3QscGRnZW5sUGRnZW5rRGlzSW5mb0xpc3Qsc2VsZWN0UGRnZW5sR3JvdXAsYWRkUGRnZW5sRGlzQ2xhc3NSZWxhLGRlbGV0ZVBkZ2VubERpc0NsYXNzUmVsYSwNCmFkZFBkZ2VubERpc0NsYXNzLHVwZGF0ZVBkZ2VubERpc0NsYXNzLGRlbGV0ZVBkZ2VubERpc0NsYXNzfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRjbG1kaXNyZWxhJzsNCmltcG9ydCB7DQogIFNlbGVjdENhc2NhZGVyT3B0aW9ucywNCiAgU2VsZWN0TXV0aVNlbGVjdE9wdGlvbnMsDQogIHVwZGF0ZVBkdGVtcFBkQ2xtQm5mdA0KfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRub21lZGljYWxjbG1ibmZ0IjsNCmltcG9ydCB7cGR0ZW1wUGRDbHNMYWJMaXN0fSBmcm9tICJAL2FwaS9iYXNpY2luZm8vUHJvZHVjdEF0dHJpYnV0ZURlZmluaXRpb24iOw0KaW1wb3J0IHBkZ2VubGRpc2luZm8gZnJvbSAiQC92aWV3cy9nZW5lcmFsLWNvbmZpZy9nZW4tc2VyaW91c2lsbG5lc3MtY29uZiI7DQppbXBvcnQgdHJlZVRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9UcmVlVGFibGUnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdwZHRlbXBQZENsbURpc1JlbGEnLA0KICBwcm9wczogew0KICAgIHBkTWVkaWNhbENsbURldGFpbDogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICByZXR1cm4ge307DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+ihqOagvOaVsOaNrg0KICAgICAgZGlzUmVsYUNvbmZpZ3M6IFtdLA0KICAgICAgcGREaXNSZWxhVHlwZTogW10sDQogICAgICBwZERpc1R5cGVPcHRpb25zOiBbXSwNCiAgICAgIHBkRGlzQ29kZU9wdGlvbnM6IFtdLA0KICAgICAgcGRnZW5sRGlzSW5mb3M6IFtdLA0KICAgICAgcGRnZW5sRGlzQ29uZmlnczogW10sDQogICAgICBzZWxlY3RlZERpc1JlbGE6IHt9LA0KICAgICAgcGRDbG1CbmZ0RGF0YTogW10sDQogICAgICB0YWJsZURhdGExOiBbXSwNCiAgICAgIHRhYmxlRGF0YTI6IFtdLA0KICAgICAgc2VsZWN0ZWREaXM6JycsDQogICAgICAvL+i1lOS7mOaYjue7huWtl+autQ0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIHBkQm5mdENvZGU6ICcnLA0KICAgICAgICBwZEJuZnROYW1lOiAnJywNCiAgICAgICAgcGRDbG1CbmZ0Q29kZTogJycsDQogICAgICAgIHBkQ2xtQm5mdE5hbWU6ICcnDQogICAgICB9LA0KICAgICAgcHJvcHM6IHttdWx0aXBsZTogdHJ1ZX0sDQogICAgICBwZEFzZ25EaXNGbGFnOiAnTicsDQogICAgICBzaG93UGRBc2duRGlzOnRydWUsDQogICAgICBzaG93RGlzR3JvdXA6dHJ1ZSwNCiAgICAgIHNob3dEaXM6IGZhbHNlLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBkaWFsb2dWaXNpYmxlMTogZmFsc2UsDQogICAgICBkaWFsb2dWaXNpYmxlMjpmYWxzZSwNCiAgICAgIGRpYWxvZ1N0YXR1czogJycsIC8v6KGo5Y2V54q25oCB5piv5paw5aKe6L+Y5piv5L+u5pS5DQogICAgICBkaXNlYXNlQ2xhc3NpZmljYXRpb246ICcnLA0KICAgICAgZGlzUmVsYUZvcm06IHsNCiAgICAgICAgcGRWZXJJZDogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRCbmZ0SWQ6ICcnLA0KICAgICAgICBwZEJuZnRDb2RlOiAnJywNCiAgICAgICAgcGRCbmZ0RGlzUmVsYTogJycsDQogICAgICAgIHBkRGlzRWRpdGlvbjogJycsDQogICAgICAgIHBkRGlzVHlwZTogJycsDQogICAgICAgIHBkRGlzRGV0YWlsVHlwZTogJycsDQogICAgICAgIGRpc0luZm9JZDogdW5kZWZpbmVkLA0KICAgICAgICBwZERpc0dyb3VwQ29kZTogJycsDQogICAgICAgIHBkRGlzQ29kZTogJycsDQogICAgICAgIHBkRGlzTmFtZTogJycNCiAgICAgIH0sDQogICAgICBleHBhbmRBbGw6IGZhbHNlLCAvLyDmmK/lkKblhajpg6jlsZXlvIANCiAgICAgIGNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCJpMThuVmlldy5kaXNlYXNlTmFtZSIpLA0KICAgICAgICAgIGtleTogJ2Rpc1R5cGVOYW1lJywNCiAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgYWxpZ246ICdsZWZ0JywNCiAgICAgICAgICBoZWFkZXJBbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgd2lkdGg6IDMwMA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoImkxOG5WaWV3LmRpc2Vhc2VDb2RlIiksDQogICAgICAgICAga2V5OiAnZGlzVHlwZUNvZGUnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnaTE4blZpZXcuZGlzZWFzZUVkaXRpb24nKSwNCiAgICAgICAgICBrZXk6ICdkaXNFZGl0aW9uJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgbWVudVRyZWU6IFtdLC8vIOagkeW9ouiPnOWNlQ0KICAgICAgb3B0aW9uczE6IFtdLA0KICAgICAgcGR0ZW1wUGRJbmZvOnt9LA0KICAgICAgZm9ybTp7DQogICAgICAgIHBkQ29kZTpudWxsLA0KICAgICAgICBkaXNFZGl0aW9uOm51bGwsDQogICAgICAgIHVwRGlzVHlwZUNvZGU6bnVsbCwNCiAgICAgICAgZGlzVHlwZUNvZGU6bnVsbCwNCiAgICAgICAgZGlzVHlwZU5hbWU6bnVsbCwNCiAgICAgICAgZGlzQm90bUZsYWc6bnVsbCwNCiAgICAgIH0sDQogICAgICBzZWFyY2hGb3JtOnsNCg0KICAgICAgfSwNCiAgICAgIGZvcm0xOiB7ICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lA0KICAgICAgICBwZERpc0NvZGU6ICcnLA0KICAgICAgfSwNCiAgICAgIGNvbkRpc0Zvcm06e30sDQogICAgICB0aXRsZU1hcDogew0KICAgICAgICB1cGRhdGU6IHRoaXMuJHQoJ3BkZ2VubERpc0luZm8udXBkYXRlJyksDQogICAgICAgIGNyZWF0ZTogdGhpcy4kdCgncGRnZW5sRGlzSW5mby5hZGQnKSwNCiAgICAgICAgYWRkOiB0aGlzLiR0KCdwZGdlbmxEaXNJbmZvLmFkZFBkZ2VubERpcycpDQogICAgICB9LA0KICAgICAgLy/mo4Dpqozop4TliJkNCiAgICAgIHJ1bGVzOiB7fSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgY29tcG9uZW50czoge3BkZ2VubGRpc2luZm8sdHJlZVRhYmxlfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLm9ubHlRdWVyeURpc2FibGVkQnV0dG9uKCkNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnBkdGVtcFBkSW5mbyA9IHRoaXMuZ2V0UGREYXRhKCk7DQogICAgdGhpcy5wYXJhbXMgPSB0aGlzLnBkTWVkaWNhbENsbURldGFpbDsNCiAgICB0aGlzLnBkQXNnbkRpc0ZsYWcgPSB0aGlzLnBkTWVkaWNhbENsbURldGFpbC5wZEFzZ25EaXNGbGFnOw0KICAgIGF3YWl0IHRoaXMuZmluZFR5cGVSZWdpb24oKTsNCiAgICBhd2FpdCB0aGlzLmluaXRUYWJsZSgpOw0KICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIHRoaXMubWVudUZvcm0xU0VMRUNUKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBiYWNrVG9NZW51KCkgew0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlRGlhbG9nUHJvZHVjdERpc1JlbGFTZWxlY3QnLCBmYWxzZSkNCiAgICB9LA0KICAgIGdldExpc3QoKSB7DQogICAgICBsZXQgcGRjb2RlID0gJycNCiAgICAgIGlmICh0aGlzLmRpc2Vhc2VDbGFzc2lmaWNhdGlvbiA9PSAiUCIpIHsNCiAgICAgICAgcGRjb2RlID0gJzAwMDAwMCcNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHBkY29kZSA9IHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZQ0KICAgICAgICBpZih0aGlzLmNvbHVtbnMubGVuZ3RoPDQpew0KICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHtsYWJlbDogdGhpcy4kdCgndGFibGUuYWN0aW9ucycpLCBrZXk6ICdvcGVyYXRpb24nLCB3aWR0aDogMzIwfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcGRnZW5sRGlzSW5mb1RyZWUodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRDb2RlIjogcGRjb2RlfSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLm1lbnVUcmVlID0gdGhpcy5idG5SZWN1cnNpdmUocmVzcG9uc2UuZGF0YSk7DQogICAgICB9KQ0KICAgIH0sDQogICAgLyrnva7ngbDmjInpkq7pgJLlvZIqLw0KICAgIGJ0blJlY3Vyc2l2ZSh2YWwpIHsNCiAgICAgIGlmICh2YWwubGVuZ3RoICE9IDApIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICB2YWxbaV0ucGFnZVR5cGUgPSB0aGlzLnBhZ2VUeXBlDQogICAgICAgICAgaWYgKHZhbFtpXS5jaGlsZHJlbi5sZW5ndGggIT0gMCkgew0KICAgICAgICAgICAgdGhpcy5idG5SZWN1cnNpdmUodmFsW2ldLmNoaWxkcmVuKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHZhbA0KICAgIH0sDQogICAgaGFuZGxlQ3JlYXRlKHJvdykgew0KICAgICAgdGhpcy5jbGVhbURhdGFGb3JtKCk7DQogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICdjcmVhdGUnDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUxID0gdHJ1ZQ0KICAgICAgaWYgKCFyb3cpIHsgLy8g5LiA57qn6I+c5Y2VDQogICAgICAgIGlmICh0aGlzLnBkdGVtcFBkSW5mby5wZENvZGUpIHsNCiAgICAgICAgICB0aGlzLmZvcm0ucGRDb2RlID0gdGhpcy5wZHRlbXBQZEluZm8ucGRDb2RlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5mb3JtLnBkQ29kZSA9ICcwMDAwMDAnDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgJ2Rpc0VkaXRpb24nLCAnJykNCiAgICAgICAgdGhpcy5mb3JtLnBhcmVudElkID0gMA0KICAgICAgICBpZiAodGhpcy5mb3JtLnVwRGlzVHlwZUNvZGUgPT0gbnVsbCkgew0KICAgICAgICAgIHRoaXMuZm9ybS5kaXNCb3RtRmxhZyA9ICJOIg0KICAgICAgICB9DQogICAgICB9IGVsc2UgeyAvLyDlrZDoj5zljZUNCiAgICAgICAgdGhpcy5mb3JtLnBkQ29kZSA9IHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZQ0KICAgICAgICB0aGlzLmZvcm0uZGlzRWRpdGlvbiA9IHJvdy5kaXNFZGl0aW9uDQogICAgICAgIHRoaXMuZm9ybS51cERpc1R5cGVDb2RlID0gcm93LmRpc1R5cGVDb2RlDQogICAgICAgIHRoaXMuZm9ybS5wYXJlbnRJZCA9IHJvdy5pZA0KICAgICAgfQ0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGUocm93KSB7DQogICAgICB0aGlzLmZvcm0uaWQgPSByb3cuaWQNCiAgICAgIHRoaXMuZm9ybS5kaXNUeXBlTmFtZSA9IHJvdy5kaXNUeXBlTmFtZQ0KICAgICAgdGhpcy5mb3JtLnBkQ29kZSA9IHJvdy5wZENvZGUNCiAgICAgIHRoaXMuZm9ybS5kaXNFZGl0aW9uID0gcm93LmRpc0VkaXRpb24NCiAgICAgIHRoaXMuZm9ybS5kaXNUeXBlQ29kZSA9IHRoaXMuZm9ybWF0VmFsdWUocm93KQ0KICAgICAgdGhpcy5mb3JtLnVwRGlzVHlwZUNvZGUgPSByb3cudXBEaXNUeXBlQ29kZQ0KICAgICAgdGhpcy5mb3JtLmRpc0JvdG1GbGFnID0gcm93LmRpc0JvdG1GbGFnDQogICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cucGFyZW50SWQNCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ3VwZGF0ZScNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZTEgPSB0cnVlDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuZGF0YUZvcm0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZGF0YUZvcm0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBsZXQgYmFjazsNCiAgICAgICAgICBpZiAodGhpcy5mb3JtLmlkKSB7DQogICAgICAgICAgICBiYWNrID0gdXBkYXRlUGRnZW5sRGlzQ2xhc3ModGhpcy5mb3JtKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBiYWNrID0gYWRkUGRnZW5sRGlzQ2xhc3ModGhpcy5mb3JtKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBiYWNrLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlMSA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsZWFtRGF0YUZvcm0oKXsNCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgcGRDb2RlOm51bGwsDQogICAgICAgIGRpc0VkaXRpb246bnVsbCwNCiAgICAgICAgdXBEaXNUeXBlQ29kZTpudWxsLA0KICAgICAgICBkaXNUeXBlQ29kZTpudWxsLA0KICAgICAgICBkaXNUeXBlTmFtZTpudWxsLA0KICAgICAgICBkaXNCb3RtRmxhZzpudWxsLA0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkUGRnZW5sRGlzKHJvdykgew0KICAgICAgdGhpcy5mb3JtMS5wZERpc0NvZGUgPSAnJw0KICAgICAgdGhpcy5jbGVhbURhdGFGb3JtKCk7DQogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICdhZGQnDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUyID0gdHJ1ZQ0KICAgICAgdGhpcy5jb25EaXNGb3JtLnBkQ29kZSA9IHJvdy5wZENvZGUNCiAgICAgIHRoaXMuY29uRGlzRm9ybS5kaXNFZGl0aW9uID0gcm93LmRpc0VkaXRpb24NCiAgICAgIHRoaXMuY29uRGlzRm9ybS5kaXNUeXBlQ29kZSA9IHRoaXMuZm9ybWF0VmFsdWUocm93KQ0KICAgICAgdGhpcy5jb25EaXNGb3JtLmRpc0xhc3RUeXBlQ29kZSA9IHJvdy5kaXNMYXN0VHlwZUNvZGU7DQogICAgICB0aGlzLmNvbkRpc0Zvcm0uaWQgPSByb3cuaWQNCiAgICAgIHRoaXMuY29uRGlzRm9ybS5kaXNUeXBlTmFtZSA9IHJvdy5kaXNUeXBlTmFtZQ0KICAgICAgdGhpcy5zaG93UGRnZW5sRGlzKHJvdykNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsNCiAgICAgIGRlbGV0ZVBkZ2VubERpc0NsYXNzKHJvdy5pZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkNCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YTEgPSBbXQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IocmVzcG9uc2UubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGZvcm1hdFZhbHVlKHJvdykgew0KICAgICAgaWYgKHJvdy5kaXNUeXBlQ29kZSAmJiByb3cuZGlzVHlwZUNvZGUuaW5kZXhPZigiLSIpID4gMCkgew0KICAgICAgICByZXR1cm4gKHJvdy5kaXNUeXBlQ29kZSB8fCAiIikuc3BsaXQoIi0iKVsxXQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHJvdy5kaXNUeXBlQ29kZQ0KICAgICAgfQ0KICAgIH0sDQogICAgLyrlhbPogZTnlr7nl4XlsZXnpLrkuYvliY3lt7Lnu4/mnInnmoTnlr7nl4UqLw0KICAgIHNob3dQZGdlbmxEaXMocm93KSB7DQogICAgICB0aGlzLmNvbkRpc0Zvcm0uZGlzVHlwZUNvZGUgPSB0aGlzLmZvcm1hdFZhbHVlKHJvdykNCiAgICAgIHRoaXMuY29uRGlzRm9ybS5kaXNFZGl0aW9uID0gcm93LmRpc0VkaXRpb24NCiAgICAgIHRoaXMuY29uRGlzRm9ybS5kaXNHcm91cENvZGUgPSAnJw0KICAgICAgdGhpcy50YWJsZURhdGEyID0gW10NCiAgICAgIHBkZ2VubFBkZ2Vua0Rpc0luZm9BbGxMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLmNvbkRpc0Zvcm0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudGFibGVEYXRhMSA9IHJlcy5kYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgLyrliLfmlrAy6KGoKi8NCiAgICByZXNldHRhYmxlRGF0YTIoKSB7DQogICAgICB0aGlzLmNvbkRpc0Zvcm0uZGlzR3JvdXBDb2RlID0gJycNCiAgICAgIHRoaXMudGFibGVEYXRhMiA9IFtdDQogICAgfSwNCiAgICAvKuS/neWtmOaWsOeahOeWvueXheWIsOW6k+ihqCovDQogICAgc2F2ZVBkZ2VubCgpIHsNCiAgICAgIGlmICh0aGlzLnRhYmxlRGF0YTIubGVuZ3RoPDEpew0KICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7fpgInmi6nnlr7nl4XlhbPogZQiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgYWRkUGRnZW5sRGlzQ2xhc3NSZWxhKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgICJwZGRpc2NvZGUiOiB0aGlzLnRhYmxlRGF0YTIsDQogICAgICAgICJpZCI6IHRoaXMuY29uRGlzRm9ybS5pZCwNCiAgICAgICAgInBkQ29kZSI6IHRoaXMuY29uRGlzRm9ybS5wZENvZGUsDQogICAgICAgICJkaXNUeXBlQ29kZSI6IHRoaXMuY29uRGlzRm9ybS5kaXNUeXBlQ29kZSwNCiAgICAgICAgImRpc0VkaXRpb24iOiB0aGlzLmNvbkRpc0Zvcm0uZGlzRWRpdGlvbiwNCiAgICAgICAgImRpc0xhc3RUeXBlQ29kZSI6IHRoaXMuY29uRGlzRm9ybS5kaXNMYXN0VHlwZUNvZGUsDQogICAgICAgICJkaXNUeXBlTmFtZSI6IHRoaXMuY29uRGlzRm9ybS5kaXNUeXBlTmFtZQ0KICAgICAgfSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoIuWFs+iBlOaIkOWKnyIpOw0KICAgICAgICB0aGlzLnRhYmxlRGF0YTE9W107DQogICAgICAgIHBkZ2VubFBkZ2Vua0Rpc0luZm9BbGxMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLmNvbkRpc0Zvcm0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGExID0gcmVzLmRhdGENCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5jb25EaXNGb3JtLmRpc0dyb3VwQ29kZSA9ICcnDQogICAgICAgIHRoaXMudGFibGVEYXRhMiA9IFtdDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/kuIvmi4npgInmn6Xor6Lnlr7nl4UNCiAgICBoYW5kbGVTZWFyY2gxKCkgew0KICAgICAgdGhpcy50YWJsZURhdGEyID0gW10NCiAgICAgIGNvbnN0IGRpc0dyb3VwQ29kZSA9IHRoaXMuY29uRGlzRm9ybS5kaXNHcm91cENvZGUNCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGlzR3JvdXBDb2RlLmxlbmd0aDsgaisrKSB7DQogICAgICAgIHZhciBkaXNHcm91cENvZGVFbGVtZW50ID0gZGlzR3JvdXBDb2RlW2pdOw0KICAgICAgICBzZWxlY3RQZGdlbmxHcm91cCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJkaXNHcm91cENvZGUiOiBkaXNHcm91cENvZGVFbGVtZW50fSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGEyLnB1c2goew0KICAgICAgICAgICAgICAiaWQiOiByZXNwb25zZS5kYXRhW2ldLmlkLA0KICAgICAgICAgICAgICAiZGlzR3JvdXBEZXNjIjogcmVzcG9uc2UuZGF0YVtpXS5kaXNHcm91cERlc2MsDQogICAgICAgICAgICAgICJkaXNDb2RlIjogcmVzcG9uc2UuZGF0YVtpXS5kaXNDb2RlLA0KICAgICAgICAgICAgICAiZGlzTmFtZSI6IHJlc3BvbnNlLmRhdGFbaV0uZGlzTmFtZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvL+eWvueXhee7hOWIq+S4i+aLiemAiQ0KICAgIG1lbnVGb3JtMVNFTEVDVCgpIHsNCiAgICAgIGxldCBiYWNrID0gJyc7DQogICAgICB0aGlzLm9wdGlvbnMxID0gW107DQogICAgICBsZXQgUGRnZW5sRGlzSW5mbyA9IHsNCiAgICAgICAgZGlzR3JvdXBDb2RlOiAnJywNCiAgICAgIH07DQogICAgICBiYWNrID0gcGRnZW5sUGRnZW5rRGlzSW5mb0xpc3QoUGRnZW5sRGlzSW5mbyk7DQogICAgICBiYWNrLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICB0aGlzLm9wdGlvbnMxLnB1c2goew0KICAgICAgICAgICAga2V5OiByZXNwb25zZS5kYXRhW2ldLmRpc0dyb3VwQ29kZSwNCiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZS5kYXRhW2ldLmRpc0dyb3VwRGVzYywNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKuWIoOmZpOaWsOeWvueXheS4jei/m+WFpeW6k+ihqOeahCovDQogICAgZGVsRGlzUm93KGluZGV4KSB7DQogICAgICB0aGlzLnRhYmxlRGF0YTIuc3BsaWNlKGluZGV4LCAxKQ0KICAgIH0sDQogICAgLyrliKDpmaTml6fnlr7nl4UqLw0KICAgIGRlbGV0ZW9sZHBkZ2VubChyb3cpIHsNCiAgICAgIGRlbGV0ZVBkZ2VubERpc0NsYXNzUmVsYShyb3cuaWQpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSkNCiAgICAgICAgcGRnZW5sUGRnZW5rRGlzSW5mb0FsbExpc3QodGhpcy5idWlsZFJlcXVlc3REYXRhKHRoaXMucGFyYW1zKSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhMSA9IHJlcy5kYXRhDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgc2VhcmNoRGlzRm9ybSgpew0KICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQucmVsb2FkKCk7DQogICAgfSwNCiAgICBjaG9vc2VEaXMocm93KXsNCiAgICAgIHRoaXMuZGlzUmVsYUNvbmZpZ3MucHVzaCh7DQogICAgICAgIGRpc0NvZGU6IHJvdy5kaXNDb2RlLA0KICAgICAgICBkaXNHcm91cENvZGU6IHJvdy5kaXNHcm91cENvZGUsDQogICAgICAgIGRpc0dyb3VwRGVzYzogcm93LmRpc0dyb3VwRGVzYywNCiAgICAgICAgZGlzTmFtZTogcm93LmRpc05hbWUsDQogICAgICAgIHBkRGlzQ29kZTogW3Jvdy5kaXNHcm91cENvZGUscm93LmlkKyc6Jytyb3cuZGlzQ29kZV0sDQogICAgICAgIHBkRGlzR3JvdXBDb2RlOiByb3cuZGlzR3JvdXBDb2RlLA0KICAgICAgICBwZERpc05hbWU6IHJvdy5kaXNOYW1lDQogICAgICB9KQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICB0aGlzLnNlbGVjdGVkRGlzID0gJyc7DQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dEaXNTZWxlY3QoZmxhZykgew0KICAgICAgdGhpcy5zaG93RGlzID0gZmxhZzsNCiAgICAgIHRoaXMuU2VsZWN0TWl1dGlTZWxlY3RPcHRpb25zKCk7DQogICAgfSwNCiAgICBhc3luYyBpbml0VGFibGUoKSB7DQogICAgICBhd2FpdCBjbG1EaXNSZWxhTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEJuZnRJZCI6IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLmlkfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLmRpc1JlbGFDb25maWdzID0gW107DQogICAgICAgICAgZm9yIChjb25zdCBwZENsbURpc1JlbGEgb2YgcmVzLmRhdGEpIHsNCiAgICAgICAgICAgIHBkQ2xtRGlzUmVsYS5wZERpc0NvZGUgPSBbcGRDbG1EaXNSZWxhLnBkRGlzR3JvdXBDb2RlLCBwZENsbURpc1JlbGEuZGlzSW5mb0lkICsgIjoiICsgcGRDbG1EaXNSZWxhLnBkRGlzQ29kZV0NCiAgICAgICAgICAgIHBkQ2xtRGlzUmVsYS5kaXNOYW1lID0gcGRDbG1EaXNSZWxhLnBkRGlzTmFtZQ0KICAgICAgICAgICAgdGhpcy5kaXNSZWxhQ29uZmlncy5wdXNoKHBkQ2xtRGlzUmVsYSkNCiAgICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgcm93Q2xpY2tfZGlzUmVsYShyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsNCiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZERpc1JlbGEuaWQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkRGlzUmVsYSA9IHt9Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBjaGFuZ0Rpc1R5cGUoZmxhZykgew0KICAgICAgaWYgKGZsYWcgPT0gIlkiKSB7DQogICAgICAgIHRoaXMucGREaXNSZWxhVHlwZSA9IFtdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5TZWxlY3RNaXV0aVNlbGVjdE9wdGlvbnMoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGZpbmRUeXBlUmVnaW9uKCkgew0KICAgICAgYXdhaXQgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkSW5mb0lkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09IDEpIHsNCiAgICAgICAgICAgIHRoaXMuZGlzZWFzZUNsYXNzaWZpY2F0aW9uID0gcmVzcG9uc2UuZGF0YVtpXS5wZENsczE1Ow0KICAgICAgICAgICAgdGhpcy5TZWxlY3RNaXV0aVNlbGVjdE9wdGlvbnMoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgU2VsZWN0TWl1dGlTZWxlY3RPcHRpb25zKCkgew0KICAgICAgbGV0IGJhY2s7DQogICAgICBpZiAodGhpcy5kaXNlYXNlQ2xhc3NpZmljYXRpb24gPT0gIlAiKSB7DQogICAgICAgIGJhY2sgPSBTZWxlY3RDYXNjYWRlck9wdGlvbnMoIjAwMDAwMCIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYmFjayA9IFNlbGVjdENhc2NhZGVyT3B0aW9ucyh0aGlzLnBkTWVkaWNhbENsbURldGFpbC5wZENvZGUpOw0KICAgICAgfQ0KICAgICAgYmFjay50aGVuKHJlcyA9PiB7DQogICAgICAgIGxldCBwZGdlbmxEaXNDbGFzc2VzID0gcmVzLmRhdGE7DQogICAgICAgIC8vIGlmIChyZXMuZGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgIC8vICAgdGhpcy5kaXNSZWxhRm9ybS5wZERpc0VkaXRpb24gPSByZXMuZGF0YVswXS5kaXNFZGl0aW9uDQogICAgICAgIC8vIH0NCiAgICAgICAgdGhpcy5wZERpc1R5cGVPcHRpb25zID0gW10NCiAgICAgICAgcGRnZW5sRGlzQ2xhc3Nlcy5mb3JFYWNoKHBkZ2VubERpc0NsYXNzID0+IHsNCiAgICAgICAgICBpZiAocGRnZW5sRGlzQ2xhc3MudXBEaXNUeXBlQ29kZSA9PSAiIiB8fCBwZGdlbmxEaXNDbGFzcy51cERpc1R5cGVDb2RlID09IG51bGwpIHsNCiAgICAgICAgICAgIHRoaXMucGREaXNUeXBlT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgdmFsdWU6IHBkZ2VubERpc0NsYXNzLmRpc1R5cGVDb2RlLA0KICAgICAgICAgICAgICBsYWJlbDogcGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUgKyAiOiIgKyBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlTmFtZSwNCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLA0KICAgICAgICAgICAgICBlbnRpdHk6IHBkZ2VubERpc0NsYXNzDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBwZGdlbmxEaXNDbGFzc2VzLmZvckVhY2gocGRnZW5sRGlzQ2xhc3MgPT4gew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZERpc1R5cGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAocGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUgIT0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucGREaXNUeXBlT3B0aW9uc1tpXS5sYWJlbCwgMCkgJiYgcGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUuaW5kZXhPZih0aGlzLmdldENhcHRpb24odGhpcy5wZERpc1R5cGVPcHRpb25zW2ldLmxhYmVsLCAwKSkgIT0gLTEpIHsNCiAgICAgICAgICAgICAgdGhpcy5wZERpc1R5cGVPcHRpb25zW2ldLmNoaWxkcmVuLnB1c2goew0KICAgICAgICAgICAgICAgIHZhbHVlOiBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlQ29kZSwNCiAgICAgICAgICAgICAgICBsYWJlbDogcGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUgKyAiOiIgKyBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlTmFtZSwNCiAgICAgICAgICAgICAgICBlbnRpdHk6IHBkZ2VubERpc0NsYXNzDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIFNlbGVjdE11dGlTZWxlY3RPcHRpb25zKCkudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMucGRnZW5sRGlzSW5mb3MgPSByZXMuZGF0YTsNCiAgICAgICAgICBsZXQgcGRnZW5sRGlzSW5mb3MgPSByZXMuZGF0YTsNCiAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlOw0KICAgICAgICAgIHBkZ2VubERpc0luZm9zLmZvckVhY2gocGRnZW5sRGlzSW5mbyA9PiB7DQogICAgICAgICAgICBmbGFnID0gZmFsc2U7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGREaXNDb2RlT3B0aW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgdGhpcy5wZERpc0NvZGVPcHRpb25zW2ldLnZhbHVlID09IHBkZ2VubERpc0luZm8uZGlzR3JvdXBDb2RlDQogICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZmxhZyA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICB0aGlzLnBkRGlzQ29kZU9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgICAgdmFsdWU6IHBkZ2VubERpc0luZm8uZGlzR3JvdXBDb2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOiBwZGdlbmxEaXNJbmZvLmRpc0dyb3VwQ29kZSArICI6IiArIHBkZ2VubERpc0luZm8uZGlzR3JvdXBEZXNjLA0KICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQ0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBwZGdlbmxEaXNJbmZvcy5mb3JFYWNoKHBkZ2VubERpc0luZm8gPT4gew0KICAgICAgICAgICAgdGhpcy5wZERpc0NvZGVPcHRpb25zLmZvckVhY2gocGREaXNDb2RlT3B0aW9uID0+IHsNCiAgICAgICAgICAgICAgaWYgKHBkZ2VubERpc0luZm8uZGlzR3JvdXBDb2RlID09IHBkRGlzQ29kZU9wdGlvbi52YWx1ZSkgew0KICAgICAgICAgICAgICAgIHBkRGlzQ29kZU9wdGlvbi5jaGlsZHJlbi5wdXNoKHsNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBwZGdlbmxEaXNJbmZvLmlkICsgIjoiICsgcGRnZW5sRGlzSW5mby5kaXNDb2RlLA0KICAgICAgICAgICAgICAgICAgbGFiZWw6IHBkZ2VubERpc0luZm8uZGlzQ29kZSArICI6IiArIHBkZ2VubERpc0luZm8uZGlzTmFtZQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNoYW5nZVBkRGlzQ29kZSh2YWwsIHJvdykgew0KICAgICAgY29uc3QgZGlzQ29kZU9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbCkpWzFdOw0KICAgICAgY29uc3QgZGlzQ29kZSA9IHRoaXMuZ2V0Q2FwdGlvbihkaXNDb2RlT3B0aW9ucywgMSkNCiAgICAgIGZvciAoY29uc3QgZGlzUmVsYSBvZiB0aGlzLnBkZ2VubERpc0luZm9zKSB7DQogICAgICAgIGlmIChkaXNSZWxhLmRpc0NvZGUgPT09IGRpc0NvZGUpIHsNCiAgICAgICAgICBPYmplY3QuYXNzaWduKHJvdywgZGlzUmVsYSkNCiAgICAgICAgICByb3cucGREaXNHcm91cENvZGUgPSBkaXNSZWxhLmRpc0dyb3VwQ29kZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGdldENhcHRpb24ob2JqLCBzdGF0ZSkgew0KICAgICAgY29uc3QgaW5kZXggPSBvYmoubGFzdEluZGV4T2YoIjoiKQ0KICAgICAgaWYgKHN0YXRlID09PSAwKSB7DQogICAgICAgIHJldHVybiBvYmouc3Vic3RyaW5nKDAsIGluZGV4KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb2JqZWN0U3Bhbk1ldGhvZCh7cm93LCBjb2x1bW4sIHJvd0luZGV4LCBjb2x1bW5JbmRleH0pIHsNCiAgICAgIHZhciBudW0gPSAwOw0KICAgICAgaWYgKGNvbHVtbkluZGV4ID09IDEgfHwgY29sdW1uSW5kZXggPT0gMikgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGRnZW5sRGlzSW5mb3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAocm93LmRpc0dyb3VwQ29kZSA9PSB0aGlzLnBkZ2VubERpc0luZm9zW2ldLmRpc0dyb3VwQ29kZSkgew0KICAgICAgICAgICAgbnVtKys7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChudW0gPT0gMSkgew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICByb3dzcGFuOiBudW0sDQogICAgICAgICAgICBjb2xzcGFuOiAxDQogICAgICAgICAgfTsNCiAgICAgICAgfSBlbHNlIGlmIChudW0gPiAxKSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy5wZGdlbmxEaXNJbmZvc1tyb3dJbmRleCAtIDFdICYmDQogICAgICAgICAgICB0aGlzLnBkZ2VubERpc0luZm9zW3Jvd0luZGV4XS5kaXNHcm91cENvZGUgPT0NCiAgICAgICAgICAgIHRoaXMucGRnZW5sRGlzSW5mb3Nbcm93SW5kZXggLSAxXS5kaXNHcm91cENvZGUNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgIHJvd3NwYW46IDAsDQogICAgICAgICAgICAgIGNvbHNwYW46IDANCiAgICAgICAgICAgIH07DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgIHJvd3NwYW46IG51bSwNCiAgICAgICAgICAgICAgY29sc3BhbjogMQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNhdmVEaXNSZWxhKCkgew0KICAgICAgbGV0IHBkdGVtcFBkQ2xtRGlzUmVsYXMgPSBbXTsNCiAgICAgICAgaWYgKHRoaXMuZGlzUmVsYUNvbmZpZ3MubGVuZ3RoID09IDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7flrozlloTooajmoLzkv6Hmga/vvIzoh7PlsJHlhbPogZTkuIDmnaHnlr7nl4XnvJbnoIEiKTsNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGlzUmVsYUNvbmZpZ3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmRpc1JlbGFDb25maWdzW2ldLnBkRGlzQ29kZVsxXQ0KICAgICAgICAgICAgbGV0IHBkdGVtcFBkQ2xtRGlzUmVsYSA9IHsNCiAgICAgICAgICAgICAgcGRWZXJJZDogdGhpcy5wZE1lZGljYWxDbG1EZXRhaWwucGRWZXJJZCwNCiAgICAgICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLm9wZXJhdG9yLA0KICAgICAgICAgICAgICBwZEJuZnRJZDogdGhpcy5wZE1lZGljYWxDbG1EZXRhaWwuaWQsDQogICAgICAgICAgICAgIHBkQm5mdENvZGU6IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkQ2xtQm5mdENvZGUsDQogICAgICAgICAgICAgIHBkQm5mdERpc1JlbGE6ICIyIiwNCiAgICAgICAgICAgICAgcGREaXNHcm91cENvZGU6IHRoaXMuZGlzUmVsYUNvbmZpZ3NbaV0ucGREaXNHcm91cENvZGUsDQogICAgICAgICAgICAgIGRpc0luZm9JZDogdGhpcy5nZXRDYXB0aW9uKHZhbCwgMCksDQogICAgICAgICAgICAgIHBkRGlzQ29kZTogdGhpcy5nZXRDYXB0aW9uKHZhbCwgMSksDQogICAgICAgICAgICAgIHBkRGlzTmFtZTogdGhpcy5kaXNSZWxhQ29uZmlnc1tpXS5kaXNOYW1lDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcGR0ZW1wUGRDbG1EaXNSZWxhcy5wdXNoKHBkdGVtcFBkQ2xtRGlzUmVsYSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICBhZGRQZHRlbXBQZENsbURpc1JlbGEodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGR0ZW1wUGRDbG1EaXNSZWxhcyI6IHBkdGVtcFBkQ2xtRGlzUmVsYXN9KSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgICB0aGlzLmluaXRUYWJsZSgpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkQXNnbkRpc0ZsYWcgPSB0aGlzLnBkQXNnbkRpc0ZsYWc7DQogICAgICB1cGRhdGVQZHRlbXBQZENsbUJuZnQodGhpcy5idWlsZFJlcXVlc3REYXRhKHsiUGR0ZW1wUGRDbG1CbmZ0IjogdGhpcy5wZE1lZGljYWxDbG1EZXRhaWx9KSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5pbml0VGFibGUoKTsNCiAgICAgICAgICB0aGlzLnJlc2V0RGlzUmVsYUZvcm0oKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgdXBkYXRlRGlzUmVsYSgpIHsNCiAgICAgIGxldCBwZHRlbXBQZENsbURpc1JlbGFzID0gW107DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGlzUmVsYUNvbmZpZ3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IHZhbCA9IHRoaXMuZGlzUmVsYUNvbmZpZ3NbaV0ucGREaXNDb2RlWzFdDQogICAgICAgIGxldCBwZHRlbXBQZENsbURpc1JlbGEgPSB7DQogICAgICAgICAgaWQ6IHRoaXMuZGlzUmVsYUNvbmZpZ3NbaV0uaWQsDQogICAgICAgICAgcGRWZXJJZDogdGhpcy5wZE1lZGljYWxDbG1EZXRhaWwucGRWZXJJZCwNCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZE1lZGljYWxDbG1EZXRhaWwub3BlcmF0b3IsDQogICAgICAgICAgcGRCbmZ0SWQ6IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLmlkLA0KICAgICAgICAgIHBkQm5mdENvZGU6IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkQ2xtQm5mdENvZGUsDQogICAgICAgICAgcGRCbmZ0RGlzUmVsYTogIjIiLA0KICAgICAgICAgIHBkRGlzR3JvdXBDb2RlOiB0aGlzLmRpc1JlbGFDb25maWdzW2ldLmRpc0dyb3VwQ29kZSwNCiAgICAgICAgICBkaXNJbmZvSWQ6IHRoaXMuZ2V0Q2FwdGlvbih2YWwsIDApLA0KICAgICAgICAgIHBkRGlzQ29kZTogdGhpcy5nZXRDYXB0aW9uKHZhbCwgMSksDQogICAgICAgICAgcGREaXNOYW1lOiB0aGlzLmRpc1JlbGFDb25maWdzW2ldLmRpc05hbWUNCiAgICAgICAgfTsNCiAgICAgICAgcGR0ZW1wUGRDbG1EaXNSZWxhcy5wdXNoKHBkdGVtcFBkQ2xtRGlzUmVsYSk7DQogICAgICB9DQogICAgICB1cGRhdGVQZHRlbXBQZENsbURpc1JlbGEodGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGR0ZW1wUGRDbG1EaXNSZWxhcyI6IHBkdGVtcFBkQ2xtRGlzUmVsYXN9KSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgICB0aGlzLmluaXRUYWJsZSgpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkQXNnbkRpc0ZsYWcgPSB0aGlzLnBkQXNnbkRpc0ZsYWcNCiAgICAgIHVwZGF0ZVBkdGVtcFBkQ2xtQm5mdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJQZHRlbXBQZENsbUJuZnQiOiB0aGlzLnBkTWVkaWNhbENsbURldGFpbH0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLmluaXRUYWJsZSgpOw0KICAgICAgICAgIHRoaXMucmVzZXREaXNSZWxhRm9ybSgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCg0KICAgIGFkZFJvdygpIHsNCiAgICAgIHRoaXMuZGlzUmVsYUNvbmZpZ3MucHVzaCh7DQogICAgICAgIHBkRGlzQ29kZTogJycsDQogICAgICAgIHBkRGlzTmFtZTogJycNCiAgICAgIH0pDQogICAgfSwNCiAgICBkZWxSb3coaW5kZXgpIHsNCiAgICAgIHRoaXMuZGlzUmVsYUNvbmZpZ3Muc3BsaWNlKGluZGV4LCAxKQ0KICAgIH0sDQogICAgcmVzZXREaXNSZWxhRm9ybSgpIHsNCiAgICAgIHRoaXMucGRBc2duRGlzRmxhZyA9IHRoaXMucGRNZWRpY2FsQ2xtRGV0YWlsLnBkQXNnbkRpc0ZsYWc7DQogICAgICB0aGlzLnNlbGVjdGVkRGlzUmVsYSA9IHt9Ow0KICAgICAgdGhpcy5pbml0VGFibGUoKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/no-general-medical/pdtemppdclmdisrela","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdClmDisRela.pdBnftDisMenu')\"\r\n                         @backTo=\"backToMenu\"></cus-page-title-back>\r\n    <el-form ref=\"params\" :model=\"params\" label-position=\"right\" label-width=\"auto\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdClmDisRela.pdBnft')\">\r\n            <el-tag type=\"info\">{{ params.pdBnftCode + ':' + params.pdBnftName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdtempPdClmDisRela.pdClmbnft')\">\r\n            <el-tag type=\"info\">{{ params.pdClmBnftCode + ':' + params.pdClmBnftName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-form-title :label=\"$t('pdtempPdClmDisRela.disGroupCode')\" :showArrow=\"true\" :display=\"true\"\r\n                      @show=\"showDisGroup = !showDisGroup\"></cus-form-title>\r\n    <el-form ref=\"disRelaForm\" :model=\"disRelaForm\" label-position=\"right\" label-width=\"auto\">\r\n      <div>\r\n        <cus-form-title :label=\"$t('pdtempPdClmDisRela.pdDisMenu')\" v-if=\"false\"/>\r\n        <div v-if=\"diseaseClassification=='P'&&showDisGroup\">\r\n          <cus-table-title :label=\"$t('pdtempPdClmDisRela.disGroup')\"/>\r\n          <tree-table :columns=\"columns\" :data=\"menuTree\" :default-expand-all=\"expandAll\" border\r\n                      default-children=\"children\"\r\n                      highlight-current-row>\r\n          </tree-table>\r\n        </div>\r\n        <div v-if=\"diseaseClassification!='P'&&showDisGroup\">\r\n          <el-button v-waves  class=\"filter-button\"\r\n                     icon=\"el-icon-plus\" size=\"small\"\r\n                     type=\"primary\" @click=\"handleCreate()\">{{ $t('pdtempPdClmDisRela.addOneGroup') }}\r\n          </el-button>\r\n          <br/>\r\n          <!---新增修改dialog---->\r\n          <el-dialog v-dialog-drag :append-to-body=\"true\"\r\n                     :close-on-click-modal=\"false\"  :visible.sync=\"dialogVisible1\"\r\n                     @close=\"dialogVisible1=false\">\r\n            <cus-page-title-back @backTo=\"dialogVisible1=false\" :label=\"titleMap[dialogStatus]\" :isDialog=\"true\"/>\r\n\r\n            <el-form ref=\"dataForm\" :model=\"form\" :rules=\"rules\" label-position=\"right\"\r\n                     label-width=\"40%\"\r\n                     style=\"width: 60%;margin-left: 10%\">\r\n              <el-form-item v-show=\"false\" :label=\"$t('pdgenlDisInfo.cloum7')+':'\" prop=\"pdCode\">\r\n                <el-input v-model=\"form.pdCode\" :disabled=\"true\" :placeholder=\"$t('pdgenlDisInfo.cloum7')\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdgenlDisInfo.cloum23')+':'\" prop=\"disEdition\">\r\n                <el-input v-model=\"form.disEdition\" :disabled=\"this.form.upDisTypeCode != null \"\r\n                          :placeholder=\"$t('pdgenlDisInfo.cloum23')\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdgenlDisInfo.cloum25')+':'\" prop=\"upDisTypeCode\">\r\n                <el-input v-model=\"form.upDisTypeCode\" :disabled=\"true\"\r\n                          :placeholder=\"$t('pdgenlDisInfo.cloum25')\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdgenlDisInfo.cloum26')+':'\" prop=\"disTypeCode\">\r\n                <el-input v-model=\"form.disTypeCode\" :placeholder=\"$t('pdgenlDisInfo.cloum26')\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdgenlDisInfo.cloum6')+':'\" prop=\"disTypeName\">\r\n                <el-input v-model=\"form.disTypeName\" :placeholder=\"$t('pdgenlDisInfo.cloum6')\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pdgenlDisInfo.cloum27')+':'\" prop=\"disBotmFlag\">\r\n                <el-radio v-model=\"form.disBotmFlag\" :disabled=\"this.form.upDisTypeCode==null\" label=\"N\">{{$t('i18nView.yes')}}</el-radio>\r\n                <el-radio v-model=\"form.disBotmFlag\" :disabled=\"this.form.upDisTypeCode==null\" label=\"Y\">{{$t('i18nView.no')}}</el-radio>\r\n              </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button v-if=\"titleMap[dialogStatus]!='修改'\" v-auth=\"'pdtemp-pd-clm-dis-rela:add'\" icon=\"el-icon-success\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"submitForm\"> {{ $t('table.save') }} </el-button>\r\n               <el-button v-if=\"titleMap[dialogStatus]=='修改'\" v-auth=\"'pdtemp-pd-clm-dis-rela:add'\" icon=\"el-icon-success\" size=\"small\"\r\n                          type=\"primary\"\r\n                          @click=\"submitForm\"> {{ $t('table.update') }} </el-button>\r\n                          </span>\r\n          </el-dialog>\r\n          <cus-table-title :label=\"$t('pdtempPdClmDisRela.disGroup')\"/>\r\n          <tree-table :columns=\"columns\" :data=\"menuTree\" :default-expand-all=\"expandAll\" border\r\n                      default-children=\"children\"\r\n                      highlight-current-row>\r\n                      <template slot=\"disTypeCode\" slot-scope=\"{scope}\">\r\n              <span>{{ formatValue(scope.row) }}</span>\r\n            </template>\r\n\r\n            <template slot=\"operation\" slot-scope=\"{scope}\">\r\n              <el-button  class=\"filter-button\" icon=\"el-icon-edit\"\r\n                         size=\"mini\" type=\"primary\" @click=\"handleUpdate(scope.row)\">\r\n                {{ $t('table.edit') }}\r\n              </el-button>\r\n              <el-button v-show=\"scope.row.disBotmFlag !='Y'\"  icon=\"el-icon-plus\"\r\n                         size=\"mini\" style=\"margin:0 5px 0 5px\" type=\"primary\"\r\n                         @click=\"handleCreate(scope.row)\">下级\r\n              </el-button>\r\n              <el-button v-show=\"scope.row.disBotmFlag =='Y'\"  icon=\"el-icon-connection el-icon--left\"\r\n                         size=\"mini\"\r\n                         style=\"margin:0 5px 0 5px\" type=\"primary\"\r\n                         @click=\"addPdgenlDis(scope.row)\">pdgenlDisInfo.addPdgenlDis\r\n              </el-button>\r\n              <cus-del-btn :content=\"$t('confirmMessage.delete')\"\r\n                           icon=\"el-icon-delete\" size=\"mini\" type=\"danger\"\r\n                           @ok=\"handleDelete(scope.row)\"></cus-del-btn>\r\n            </template>\r\n          </tree-table>\r\n        </div>\r\n        <!---关联疾病dialog---->\r\n          <el-dialog v-if=\"dialogVisible2\" v-dialog-drag :append-to-body=\"true\" :close-on-click-modal=\"false\"\r\n\r\n                     :visible.sync=\"dialogVisible2\">\r\n            <cus-page-title-back @backTo=\"dialogVisible2=false\" :isDialog=\"true\" :label=\"titleMap[dialogStatus]\"/>\r\n            <el-row>\r\n              <el-table ref=\"tableData1ref\" :data=\"tableData1\" align=\"center\" border\r\n                        class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                        highlight-current-row max-height=\"500\" size=\"mini\" style=\"margin: 0 0 0 0\">\r\n                <el-table-column align=\"center\" :label=\"$t('table.id')\" width=\"50px\">\r\n                  <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('pdgenlDisInfo.cloum24')\" align=\"center\"\r\n                                 prop=\"disGroupDesc\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdgenlDisInfo.cloum7')\" align=\"center\" prop=\"disCode\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdgenlDisInfo.cloum8')\" align=\"center\" prop=\"disName\"></el-table-column>\r\n                <el-table-column :label=\"$t('pdgenlDisInfo.cloum9')\" align=\"center\" width=\"120px\">\r\n                  <template v-slot=\"scope\">\r\n                    <cus-del-btn v-auth=\"'pdtemp-pd-clm-dis-rela:delete'\" icon=\"el-icon-delete-solid\" size=\"mini\"\r\n                                 type=\"danger\" @ok=\"deleteoldpdgenl(scope.row)\"></cus-del-btn>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-row>\r\n            <el-form ref=\"conDisForm\" :model=\"conDisForm\" :rules=\"rules\" label-width=\"100px\" style=\"margin-top: 5px;\">\r\n              <el-row >\r\n                <el-col :span=\"8\">\r\n                  <el-form-item :label=\"$t('pdgenlDisInfo.cloum24')\">\r\n                    <el-select v-model=\"conDisForm.disGroupCode\" clearable filterable multiple @change=\"handleSearch1\">\r\n                      <el-option\r\n                        v-for=\"(opt,index) in options1\"\r\n                        :key=\"index\"\r\n                        :label=\"opt.value\"\r\n                        :value=\"opt.key\"\r\n                      ></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            </el-form>\r\n\r\n            <el-table ref=\"tableData2ref\" :data=\"tableData2\" align=\"center\" border class=\"wraper-table\"\r\n                      element-loading-text=\"Loading\" highlight-current-row max-height=\"500\" size=\"mini\"\r\n                      style=\"margin: 0 0 0 0\">\r\n              <el-table-column align=\"center\" :label=\"$t('table.id')\" width=\"50px\">\r\n                <template slot-scope=\"scope\">{{ scope.$index + 1 }}</template>\r\n              </el-table-column>\r\n              <el-table-column v-if=\"false\" :label=\"$t('pdgenlDisInfo.cloum24')\" align=\"center\"\r\n                               prop=\"id\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdgenlDisInfo.cloum24')\" align=\"center\"\r\n                               prop=\"disGroupDesc\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdgenlDisInfo.cloum7')\" align=\"center\" prop=\"disCode\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdgenlDisInfo.cloum8')\" align=\"center\" prop=\"disName\"></el-table-column>\r\n              <el-table-column :label=\"$t('pdgenlDisInfo.cloum9')\" align=\"center\" kwidth=\"120px\">\r\n                <template v-slot=\"scope\">\r\n                  <el-button size=\"mini\" type=\"danger\" @click=\"delDisRow(scope.$index)\">-\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n           <el-button v-auth=\"'pdtemp-pd-clm-dis-rela:add'\" icon=\"el-icon-success  el-icon--left\" size=\"small\" type=\"primary\"\r\n                      @click=\"savePdgenl()\">{{$t('table.save')}}</el-button>\r\n           <el-button icon=\"el-icon-refresh el-icon--left\" size=\"small\" type=\"warning\"\r\n                      @click=\"resettableData2\">{{ $t('pdgenlDisInfo.cloum28') }}</el-button>\r\n        </span>\r\n          </el-dialog>\r\n        <el-row v-if=\"false\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmDisRela.pdDisRelaType')\">\r\n              <el-row>\r\n                <el-col :span=\"16\">\r\n                  <el-cascader v-model=\"pdDisRelaType\" :disabled=\"pdAsgnDisFlag=='Y'\" :options=\"pdDisTypeOptions\"\r\n                               :props=\"props\" :show-all-levels=\"false\" clearable></el-cascader>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-button :disabled=\"pdAsgnDisFlag=='Y'\" dialog-disable=\"disable\" icon=\"el-icon-connection\"\r\n                             size=\"small\"\r\n                             @click=\"showDis=true\"></el-button>\r\n                </el-col>\r\n              </el-row>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row v-if=\"false\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmDisRela.pdAsgnDisFlag')\">\r\n              <el-switch v-model=\"pdAsgnDisFlag\"\r\n                         active-value=\"Y\" inactive-value=\"N\" @change=\"changDisType\">\r\n              </el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <cus-form-title :label=\"$t('pdtempPdClmDisRela.pdAsgnDisFlag')\" :showArrow=\"true\" :display=\"true\"\r\n                      @show=\"showPdAsgnDis = !showPdAsgnDis\"></cus-form-title>\r\n        <div v-show=\"showPdAsgnDis\">\r\n              <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"dialogVisible = true\">\r\n                {{ $t('pdtempPdClmDisRela.search') }}\r\n              </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-show=\"showPdAsgnDis\" style=\"width: 65%\">\r\n        <cus-table-title :label=\"$t('pdtempPdClmDisRela.pdAsgnDisFlag')\"/>\r\n        <el-table :data=\"disRelaConfigs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\"\r\n                  fit size=\"mini\"\r\n                  @row-click=\"rowClick_disRela\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.pdDisCode')\" align=\"center\" prop=\"pdDisCode\" width=\"300\">\r\n            <template slot-scope=\"scope\">\r\n              <el-cascader v-model=\"scope.row.pdDisCode\" :options=\"pdDisCodeOptions\" :show-all-levels=\"false\"\r\n                           clearable @change=\"changePdDisCode($event,scope.row)\"></el-cascader>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.pdDisName')\" align=\"center\" prop=\"disName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.operator')\" align=\"center\" width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"delRow(scope.$index)\">-</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-row>\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"addRow\">+</el-button>\r\n        </el-row>\r\n        <br>\r\n      </div>\r\n      <el-dialog v-if=\"showDis\" v-dialog-drag :close-on-click-modal=\"false\" :visible.sync=\"showDis\"\r\n                 append-to-body center width=\"1200px\">\r\n        <pdgenldisinfo :diseaseClassification=\"diseaseClassification\"\r\n                       @changeDialogDisSelect=\"changeDialogDisSelect\"></pdgenldisinfo>\r\n      </el-dialog>\r\n      <el-dialog v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogVisible\"\r\n                 append-to-body center @close=\"dialogVisible = false\">\r\n        <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdClmDisRela.pdDis')\"\r\n                         @backTo=\"dialogVisible = false\"></cus-page-title-back>\r\n        <el-form ref=\"searchForm\" :model=\"searchForm\" label-position=\"right\" label-width=\"auto\">\r\n\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdClmDisRela.pdDisCode')+':'\" prop=\"disCode\">\r\n              <el-input v-model=\"searchForm.disCode\" :placeholder=\"$t('pdtempPdClmDisRela.inputCode')\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdClmDisRela.pdDisName')+':'\" prop=\"disName\">\r\n              <el-input v-model=\"searchForm.disName\" :placeholder=\"$t('pdtempPdClmDisRela.inputName')\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col></cus-col>\r\n        </cus-row>\r\n        </el-form>\r\n        <el-button dialog-disable=\"disable\" icon=\"el-icon-search\" size=\"small\" type=\"primary\"\r\n                   @click=\"searchDisForm\">\r\n          {{ $t('pdtempPdClmDisRela.disSearch') }}\r\n        </el-button>\r\n        <cus-table-title :label=\"$t('pdtempPdClmDisRela.pdDis')\"></cus-table-title>\r\n        <el-table ref=\"pdgenlDisInfosTable\" :data=\"pdgenlDisConfigs\"  align=\"center\" border\r\n                  class=\"wraper-table\" element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group el-radio-group v-model=\"selectedDis\">\r\n                <span>\r\n                  <el-radio :label=\"scope.row\" @change=\"chooseDis(scope.row)\">{{ '' }}</el-radio>\r\n                </span>\r\n            <span v-if=\"selectedDis.id && scope.row.id && selectedDis.id === scope.row.id\"></span>\r\n          </el-radio-group>\r\n          </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.pdDisCode')\" align=\"center\" prop=\"disCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.pdDisName')\" align=\"center\" prop=\"disName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pdtempPdClmDisRela.pdDisEdition')\" align=\"center\" prop=\"disEdition\"></el-table-column>\r\n        </el-table>\r\n        <cus-pagination ref=\"page_current\" v-model=\"pdgenlDisConfigs\" :pageSize=\"5\"\r\n                    :params=\"searchForm\" url=\"/pdtemp-pd-no-medical-clm-bnft/base/disinfoByPage\"/>\r\n      </el-dialog>\r\n      <el-row style=\"float:right\" v-show=\"showPdAsgnDis\">\r\n        <el-button v-auth=\"'pdtemp-pd-clm-dis-rela:add'\" dialog-disable=\"disable\"\r\n                   icon=\"el-icon-success\" size=\"small\"\r\n                   type=\"primary\"\r\n                   @click=\"saveDisRela\">\r\n          {{ $t('pdtempPdClmDisRela.save') }}\r\n        </el-button>\r\n        <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\"\r\n                   @click=\"resetDisRelaForm\">\r\n          {{ $t('pdtempPdClmDisRela.refresh') }}\r\n        </el-button>\r\n      </el-row>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {addPdtempPdClmDisRela, clmDisRelaList, updatePdtempPdClmDisRela,pdgenlDisInfoTree,\r\npdgenlPdgenkDisInfoAllList,pdgenlPdgenkDisInfoList,selectPdgenlGroup,addPdgenlDisClassRela,deletePdgenlDisClassRela,\r\naddPdgenlDisClass,updatePdgenlDisClass,deletePdgenlDisClass} from '@/api/basicinfo/pdtemppdclmdisrela';\r\nimport {\r\n  SelectCascaderOptions,\r\n  SelectMutiSelectOptions,\r\n  updatePdtempPdClmBnft\r\n} from \"@/api/basicinfo/pdtemppdnomedicalclmbnft\";\r\nimport {pdtempPdClsLabList} from \"@/api/basicinfo/ProductAttributeDefinition\";\r\nimport pdgenldisinfo from \"@/views/general-config/gen-seriousillness-conf\";\r\nimport treeTable from '@/components/TreeTable';\r\n\r\nexport default {\r\n  name: 'pdtempPdClmDisRela',\r\n  props: {\r\n    pdMedicalClmDetail: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      //表格数据\r\n      disRelaConfigs: [],\r\n      pdDisRelaType: [],\r\n      pdDisTypeOptions: [],\r\n      pdDisCodeOptions: [],\r\n      pdgenlDisInfos: [],\r\n      pdgenlDisConfigs: [],\r\n      selectedDisRela: {},\r\n      pdClmBnftData: [],\r\n      tableData1: [],\r\n      tableData2: [],\r\n      selectedDis:'',\r\n      //赔付明细字段\r\n      params: {\r\n        pdBnftCode: '',\r\n        pdBnftName: '',\r\n        pdClmBnftCode: '',\r\n        pdClmBnftName: ''\r\n      },\r\n      props: {multiple: true},\r\n      pdAsgnDisFlag: 'N',\r\n      showPdAsgnDis:true,\r\n      showDisGroup:true,\r\n      showDis: false,\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      dialogVisible2:false,\r\n      dialogStatus: '', //表单状态是新增还是修改\r\n      diseaseClassification: '',\r\n      disRelaForm: {\r\n        pdVerId: '',\r\n        operator: '',\r\n        pdBnftId: '',\r\n        pdBnftCode: '',\r\n        pdBnftDisRela: '',\r\n        pdDisEdition: '',\r\n        pdDisType: '',\r\n        pdDisDetailType: '',\r\n        disInfoId: undefined,\r\n        pdDisGroupCode: '',\r\n        pdDisCode: '',\r\n        pdDisName: ''\r\n      },\r\n      expandAll: false, // 是否全部展开\r\n      columns: [\r\n        {\r\n          label: this.$t(\"i18nView.diseaseName\"),\r\n          key: 'disTypeName',\r\n          expand: true,\r\n          align: 'left',\r\n          headerAlign: 'center',\r\n          width: 300\r\n        },\r\n        {\r\n          label: this.$t(\"i18nView.diseaseCode\"),\r\n          key: 'disTypeCode'\r\n        },\r\n        {\r\n          label: this.$t('i18nView.diseaseEdition'),\r\n          key: 'disEdition'\r\n        }\r\n      ],\r\n      menuTree: [],// 树形菜单\r\n      options1: [],\r\n      pdtempPdInfo:{},\r\n      form:{\r\n        pdCode:null,\r\n        disEdition:null,\r\n        upDisTypeCode:null,\r\n        disTypeCode:null,\r\n        disTypeName:null,\r\n        disBotmFlag:null,\r\n      },\r\n      searchForm:{\r\n\r\n      },\r\n      form1: {  //表单数据与后端实体类对应\r\n        pdDisCode: '',\r\n      },\r\n      conDisForm:{},\r\n      titleMap: {\r\n        update: this.$t('pdgenlDisInfo.update'),\r\n        create: this.$t('pdgenlDisInfo.add'),\r\n        add: this.$t('pdgenlDisInfo.addPdgenlDis')\r\n      },\r\n      //检验规则\r\n      rules: {},\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {pdgenldisinfo,treeTable},\r\n  mounted() {\r\n    this.onlyQueryDisabledButton()\r\n  },\r\n  async created() {\r\n    this.pdtempPdInfo = this.getPdData();\r\n    this.params = this.pdMedicalClmDetail;\r\n    this.pdAsgnDisFlag = this.pdMedicalClmDetail.pdAsgnDisFlag;\r\n    await this.findTypeRegion();\r\n    await this.initTable();\r\n    this.getList();\r\n    this.menuForm1SELECT();\r\n  },\r\n  methods: {\r\n    backToMenu() {\r\n      this.$emit('changeDialogProductDisRelaSelect', false)\r\n    },\r\n    getList() {\r\n      let pdcode = ''\r\n      if (this.diseaseClassification == \"P\") {\r\n        pdcode = '000000'\r\n      } else {\r\n        pdcode = this.pdtempPdInfo.pdCode\r\n        if(this.columns.length<4){\r\n          this.columns.push({label: this.$t('table.actions'), key: 'operation', width: 320})\r\n        }\r\n      }\r\n      pdgenlDisInfoTree(this.buildRequestData({\"pdCode\": pdcode})).then(response => {\r\n        this.menuTree = this.btnRecursive(response.data);\r\n      })\r\n    },\r\n    /*置灰按钮递归*/\r\n    btnRecursive(val) {\r\n      if (val.length != 0) {\r\n        for (let i = 0; i < val.length; i++) {\r\n          val[i].pageType = this.pageType\r\n          if (val[i].children.length != 0) {\r\n            this.btnRecursive(val[i].children)\r\n          }\r\n        }\r\n      }\r\n      return val\r\n    },\r\n    handleCreate(row) {\r\n      this.cleamDataForm();\r\n      this.dialogStatus = 'create'\r\n      this.dialogVisible1 = true\r\n      if (!row) { // 一级菜单\r\n        if (this.pdtempPdInfo.pdCode) {\r\n          this.form.pdCode = this.pdtempPdInfo.pdCode\r\n        } else {\r\n          this.form.pdCode = '000000'\r\n        }\r\n        this.$set(this.form, 'disEdition', '')\r\n        this.form.parentId = 0\r\n        if (this.form.upDisTypeCode == null) {\r\n          this.form.disBotmFlag = \"N\"\r\n        }\r\n      } else { // 子菜单\r\n        this.form.pdCode = this.pdtempPdInfo.pdCode\r\n        this.form.disEdition = row.disEdition\r\n        this.form.upDisTypeCode = row.disTypeCode\r\n        this.form.parentId = row.id\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate();\r\n      })\r\n    },\r\n    handleUpdate(row) {\r\n      this.form.id = row.id\r\n      this.form.disTypeName = row.disTypeName\r\n      this.form.pdCode = row.pdCode\r\n      this.form.disEdition = row.disEdition\r\n      this.form.disTypeCode = this.formatValue(row)\r\n      this.form.upDisTypeCode = row.upDisTypeCode\r\n      this.form.disBotmFlag = row.disBotmFlag\r\n      this.form.parentId = row.parentId\r\n      this.dialogStatus = 'update'\r\n      this.dialogVisible1 = true\r\n      this.$nextTick(() => {\r\n        this.$refs.dataForm.clearValidate()\r\n      })\r\n    },\r\n    submitForm() {\r\n      this.$refs.dataForm.validate(valid => {\r\n        if (valid) {\r\n          let back;\r\n          if (this.form.id) {\r\n            back = updatePdgenlDisClass(this.form)\r\n          } else {\r\n            back = addPdgenlDisClass(this.form)\r\n          }\r\n          back.then(response => {\r\n            this.getList()\r\n            this.notifySuccess(response.message)\r\n            this.dialogVisible1 = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cleamDataForm(){\r\n      this.form = {\r\n        pdCode:null,\r\n        disEdition:null,\r\n        upDisTypeCode:null,\r\n        disTypeCode:null,\r\n        disTypeName:null,\r\n        disBotmFlag:null,\r\n      }\r\n    },\r\n    addPdgenlDis(row) {\r\n      this.form1.pdDisCode = ''\r\n      this.cleamDataForm();\r\n      this.dialogStatus = 'add'\r\n      this.dialogVisible2 = true\r\n      this.conDisForm.pdCode = row.pdCode\r\n      this.conDisForm.disEdition = row.disEdition\r\n      this.conDisForm.disTypeCode = this.formatValue(row)\r\n      this.conDisForm.disLastTypeCode = row.disLastTypeCode;\r\n      this.conDisForm.id = row.id\r\n      this.conDisForm.disTypeName = row.disTypeName\r\n      this.showPdgenlDis(row)\r\n    },\r\n    handleDelete(row) {\r\n      deletePdgenlDisClass(row.id).then(response => {\r\n        if (response.code === 200) {\r\n          this.getList()\r\n          this.notifySuccess(this.$t('successMessage.delete'))\r\n          this.tableData1 = []\r\n        } else {\r\n          this.notifyError(response.message)\r\n        }\r\n      })\r\n    },\r\n    formatValue(row) {\r\n      if (row.disTypeCode && row.disTypeCode.indexOf(\"-\") > 0) {\r\n        return (row.disTypeCode || \"\").split(\"-\")[1]\r\n      } else {\r\n        return row.disTypeCode\r\n      }\r\n    },\r\n    /*关联疾病展示之前已经有的疾病*/\r\n    showPdgenlDis(row) {\r\n      this.conDisForm.disTypeCode = this.formatValue(row)\r\n      this.conDisForm.disEdition = row.disEdition\r\n      this.conDisForm.disGroupCode = ''\r\n      this.tableData2 = []\r\n      pdgenlPdgenkDisInfoAllList(this.buildRequestData(this.conDisForm)).then(res => {\r\n        this.tableData1 = res.data\r\n      })\r\n    },\r\n    /*刷新2表*/\r\n    resettableData2() {\r\n      this.conDisForm.disGroupCode = ''\r\n      this.tableData2 = []\r\n    },\r\n    /*保存新的疾病到库表*/\r\n    savePdgenl() {\r\n      if (this.tableData2.length<1){\r\n        this.notifyError(\"请选择疾病关联\");\r\n        return;\r\n      }\r\n      addPdgenlDisClassRela(this.buildRequestData({\r\n        \"pddiscode\": this.tableData2,\r\n        \"id\": this.conDisForm.id,\r\n        \"pdCode\": this.conDisForm.pdCode,\r\n        \"disTypeCode\": this.conDisForm.disTypeCode,\r\n        \"disEdition\": this.conDisForm.disEdition,\r\n        \"disLastTypeCode\": this.conDisForm.disLastTypeCode,\r\n        \"disTypeName\": this.conDisForm.disTypeName\r\n      })).then(response => {\r\n        this.notifySuccess(\"关联成功\");\r\n        this.tableData1=[];\r\n        pdgenlPdgenkDisInfoAllList(this.buildRequestData(this.conDisForm)).then(res => {\r\n          this.tableData1 = res.data\r\n        })\r\n        this.conDisForm.disGroupCode = ''\r\n        this.tableData2 = []\r\n      })\r\n    },\r\n    //下拉选查询疾病\r\n    handleSearch1() {\r\n      this.tableData2 = []\r\n      const disGroupCode = this.conDisForm.disGroupCode\r\n      for (let j = 0; j < disGroupCode.length; j++) {\r\n        var disGroupCodeElement = disGroupCode[j];\r\n        selectPdgenlGroup(this.buildRequestData({\"disGroupCode\": disGroupCodeElement})).then(response => {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            this.tableData2.push({\r\n              \"id\": response.data[i].id,\r\n              \"disGroupDesc\": response.data[i].disGroupDesc,\r\n              \"disCode\": response.data[i].disCode,\r\n              \"disName\": response.data[i].disName\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    //疾病组别下拉选\r\n    menuForm1SELECT() {\r\n      let back = '';\r\n      this.options1 = [];\r\n      let PdgenlDisInfo = {\r\n        disGroupCode: '',\r\n      };\r\n      back = pdgenlPdgenkDisInfoList(PdgenlDisInfo);\r\n      back.then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          this.options1.push({\r\n            key: response.data[i].disGroupCode,\r\n            value: response.data[i].disGroupDesc,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    /*删除新疾病不进入库表的*/\r\n    delDisRow(index) {\r\n      this.tableData2.splice(index, 1)\r\n    },\r\n    /*删除旧疾病*/\r\n    deleteoldpdgenl(row) {\r\n      deletePdgenlDisClassRela(row.id).then(response => {\r\n        this.notifySuccess(response.message)\r\n        pdgenlPdgenkDisInfoAllList(this.buildRequestData(this.params)).then(res => {\r\n          this.tableData1 = res.data\r\n        })\r\n      })\r\n    },\r\n    searchDisForm(){\r\n      this.$refs.page_current.reload();\r\n    },\r\n    chooseDis(row){\r\n      this.disRelaConfigs.push({\r\n        disCode: row.disCode,\r\n        disGroupCode: row.disGroupCode,\r\n        disGroupDesc: row.disGroupDesc,\r\n        disName: row.disName,\r\n        pdDisCode: [row.disGroupCode,row.id+':'+row.disCode],\r\n        pdDisGroupCode: row.disGroupCode,\r\n        pdDisName: row.disName\r\n      })\r\n      this.dialogVisible = false;\r\n      this.selectedDis = '';\r\n    },\r\n    changeDialogDisSelect(flag) {\r\n      this.showDis = flag;\r\n      this.SelectMiutiSelectOptions();\r\n    },\r\n    async initTable() {\r\n      await clmDisRelaList(this.buildRequestData({\"pdBnftId\": this.pdMedicalClmDetail.id})).then(res => {\r\n          this.disRelaConfigs = [];\r\n          for (const pdClmDisRela of res.data) {\r\n            pdClmDisRela.pdDisCode = [pdClmDisRela.pdDisGroupCode, pdClmDisRela.disInfoId + \":\" + pdClmDisRela.pdDisCode]\r\n            pdClmDisRela.disName = pdClmDisRela.pdDisName\r\n            this.disRelaConfigs.push(pdClmDisRela)\r\n          }\r\n      })\r\n    },\r\n    rowClick_disRela(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDisRela.id) {\r\n          this.selectedDisRela = {};\r\n        }\r\n      }\r\n    },\r\n    changDisType(flag) {\r\n      if (flag == \"Y\") {\r\n        this.pdDisRelaType = [];\r\n      } else {\r\n        this.SelectMiutiSelectOptions();\r\n      }\r\n    },\r\n    async findTypeRegion() {\r\n      await pdtempPdClsLabList(this.pdMedicalClmDetail.pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType == 1) {\r\n            this.diseaseClassification = response.data[i].pdCls15;\r\n            this.SelectMiutiSelectOptions();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    SelectMiutiSelectOptions() {\r\n      let back;\r\n      if (this.diseaseClassification == \"P\") {\r\n        back = SelectCascaderOptions(\"000000\");\r\n      } else {\r\n        back = SelectCascaderOptions(this.pdMedicalClmDetail.pdCode);\r\n      }\r\n      back.then(res => {\r\n        let pdgenlDisClasses = res.data;\r\n        // if (res.data.length > 0) {\r\n        //   this.disRelaForm.pdDisEdition = res.data[0].disEdition\r\n        // }\r\n        this.pdDisTypeOptions = []\r\n        pdgenlDisClasses.forEach(pdgenlDisClass => {\r\n          if (pdgenlDisClass.upDisTypeCode == \"\" || pdgenlDisClass.upDisTypeCode == null) {\r\n            this.pdDisTypeOptions.push({\r\n              value: pdgenlDisClass.disTypeCode,\r\n              label: pdgenlDisClass.disTypeCode + \":\" + pdgenlDisClass.disTypeName,\r\n              children: [],\r\n              entity: pdgenlDisClass\r\n            });\r\n          }\r\n        });\r\n        pdgenlDisClasses.forEach(pdgenlDisClass => {\r\n          for (let i = 0; i < this.pdDisTypeOptions.length; i++) {\r\n            if (pdgenlDisClass.disTypeCode != this.getCaption(this.pdDisTypeOptions[i].label, 0) && pdgenlDisClass.disTypeCode.indexOf(this.getCaption(this.pdDisTypeOptions[i].label, 0)) != -1) {\r\n              this.pdDisTypeOptions[i].children.push({\r\n                value: pdgenlDisClass.disTypeCode,\r\n                label: pdgenlDisClass.disTypeCode + \":\" + pdgenlDisClass.disTypeName,\r\n                entity: pdgenlDisClass\r\n              });\r\n            }\r\n          }\r\n        });\r\n        SelectMutiSelectOptions().then(res => {\r\n          this.pdgenlDisInfos = res.data;\r\n          let pdgenlDisInfos = res.data;\r\n          let flag = false;\r\n          pdgenlDisInfos.forEach(pdgenlDisInfo => {\r\n            flag = false;\r\n            for (let i = 0; i < this.pdDisCodeOptions.length; i++) {\r\n              if (\r\n                this.pdDisCodeOptions[i].value == pdgenlDisInfo.disGroupCode\r\n              ) {\r\n                flag = true;\r\n              }\r\n            }\r\n            if (flag == false) {\r\n              this.pdDisCodeOptions.push({\r\n                value: pdgenlDisInfo.disGroupCode,\r\n                label: pdgenlDisInfo.disGroupCode + \":\" + pdgenlDisInfo.disGroupDesc,\r\n                children: []\r\n              });\r\n            }\r\n          });\r\n          pdgenlDisInfos.forEach(pdgenlDisInfo => {\r\n            this.pdDisCodeOptions.forEach(pdDisCodeOption => {\r\n              if (pdgenlDisInfo.disGroupCode == pdDisCodeOption.value) {\r\n                pdDisCodeOption.children.push({\r\n                  value: pdgenlDisInfo.id + \":\" + pdgenlDisInfo.disCode,\r\n                  label: pdgenlDisInfo.disCode + \":\" + pdgenlDisInfo.disName\r\n                });\r\n              }\r\n            });\r\n          });\r\n        });\r\n      });\r\n    },\r\n    changePdDisCode(val, row) {\r\n      const disCodeOptions = JSON.parse(JSON.stringify(val))[1];\r\n      const disCode = this.getCaption(disCodeOptions, 1)\r\n      for (const disRela of this.pdgenlDisInfos) {\r\n        if (disRela.disCode === disCode) {\r\n          Object.assign(row, disRela)\r\n          row.pdDisGroupCode = disRela.disGroupCode\r\n          break\r\n        }\r\n      }\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    objectSpanMethod({row, column, rowIndex, columnIndex}) {\r\n      var num = 0;\r\n      if (columnIndex == 1 || columnIndex == 2) {\r\n        for (var i = 0; i < this.pdgenlDisInfos.length; i++) {\r\n          if (row.disGroupCode == this.pdgenlDisInfos[i].disGroupCode) {\r\n            num++;\r\n          }\r\n        }\r\n        if (num == 1) {\r\n          return {\r\n            rowspan: num,\r\n            colspan: 1\r\n          };\r\n        } else if (num > 1) {\r\n          if (\r\n            this.pdgenlDisInfos[rowIndex - 1] &&\r\n            this.pdgenlDisInfos[rowIndex].disGroupCode ==\r\n            this.pdgenlDisInfos[rowIndex - 1].disGroupCode\r\n          ) {\r\n            return {\r\n              rowspan: 0,\r\n              colspan: 0\r\n            };\r\n          } else {\r\n            return {\r\n              rowspan: num,\r\n              colspan: 1\r\n            };\r\n          }\r\n        }\r\n      }\r\n    },\r\n    saveDisRela() {\r\n      let pdtempPdClmDisRelas = [];\r\n        if (this.disRelaConfigs.length == 0) {\r\n          this.notifyError(\"请完善表格信息，至少关联一条疾病编码\");\r\n          return\r\n        } else {\r\n          for (let i = 0; i < this.disRelaConfigs.length; i++) {\r\n            let val = this.disRelaConfigs[i].pdDisCode[1]\r\n            let pdtempPdClmDisRela = {\r\n              pdVerId: this.pdMedicalClmDetail.pdVerId,\r\n              operator: this.pdMedicalClmDetail.operator,\r\n              pdBnftId: this.pdMedicalClmDetail.id,\r\n              pdBnftCode: this.pdMedicalClmDetail.pdClmBnftCode,\r\n              pdBnftDisRela: \"2\",\r\n              pdDisGroupCode: this.disRelaConfigs[i].pdDisGroupCode,\r\n              disInfoId: this.getCaption(val, 0),\r\n              pdDisCode: this.getCaption(val, 1),\r\n              pdDisName: this.disRelaConfigs[i].disName\r\n            };\r\n            pdtempPdClmDisRelas.push(pdtempPdClmDisRela);\r\n          }\r\n        }\r\n      addPdtempPdClmDisRela(this.buildRequestData({\"pdtempPdClmDisRelas\": pdtempPdClmDisRelas})).then(res => {\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.initTable();\r\n        }\r\n      });\r\n      this.pdMedicalClmDetail.pdAsgnDisFlag = this.pdAsgnDisFlag;\r\n      updatePdtempPdClmBnft(this.buildRequestData({\"PdtempPdClmBnft\": this.pdMedicalClmDetail})).then(res => {\r\n        if (res.code == 200) {\r\n          this.initTable();\r\n          this.resetDisRelaForm()\r\n        }\r\n      })\r\n    },\r\n    updateDisRela() {\r\n      let pdtempPdClmDisRelas = [];\r\n      for (let i = 0; i < this.disRelaConfigs.length; i++) {\r\n        let val = this.disRelaConfigs[i].pdDisCode[1]\r\n        let pdtempPdClmDisRela = {\r\n          id: this.disRelaConfigs[i].id,\r\n          pdVerId: this.pdMedicalClmDetail.pdVerId,\r\n          operator: this.pdMedicalClmDetail.operator,\r\n          pdBnftId: this.pdMedicalClmDetail.id,\r\n          pdBnftCode: this.pdMedicalClmDetail.pdClmBnftCode,\r\n          pdBnftDisRela: \"2\",\r\n          pdDisGroupCode: this.disRelaConfigs[i].disGroupCode,\r\n          disInfoId: this.getCaption(val, 0),\r\n          pdDisCode: this.getCaption(val, 1),\r\n          pdDisName: this.disRelaConfigs[i].disName\r\n        };\r\n        pdtempPdClmDisRelas.push(pdtempPdClmDisRela);\r\n      }\r\n      updatePdtempPdClmDisRela(this.buildRequestData({\"pdtempPdClmDisRelas\": pdtempPdClmDisRelas})).then(res => {\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.initTable();\r\n        }\r\n      });\r\n      this.pdMedicalClmDetail.pdAsgnDisFlag = this.pdAsgnDisFlag\r\n      updatePdtempPdClmBnft(this.buildRequestData({\"PdtempPdClmBnft\": this.pdMedicalClmDetail})).then(res => {\r\n        if (res.code == 200) {\r\n          this.initTable();\r\n          this.resetDisRelaForm()\r\n        }\r\n      })\r\n    },\r\n\r\n    addRow() {\r\n      this.disRelaConfigs.push({\r\n        pdDisCode: '',\r\n        pdDisName: ''\r\n      })\r\n    },\r\n    delRow(index) {\r\n      this.disRelaConfigs.splice(index, 1)\r\n    },\r\n    resetDisRelaForm() {\r\n      this.pdAsgnDisFlag = this.pdMedicalClmDetail.pdAsgnDisFlag;\r\n      this.selectedDisRela = {};\r\n      this.initTable()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
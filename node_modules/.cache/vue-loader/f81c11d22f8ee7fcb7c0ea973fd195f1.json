{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-attr-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-framework-def\\pp-attr-def\\index.vue","mtime":1609847106996},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgcXVlcnlwZFBwSW5mbywKICBmaW5kQXR0cmlidXRyRW50aXR5LAogIHNhdmVBdHRyaWJ1dGVFbnRpdHkKfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGRwcERlZmluaXRpb24iOwpsZXQgX3RoaXMKCmV4cG9ydCBkZWZhdWx0IHsKCm5hbWU6J1BkUHBBdHRyaWJ1dGUnLApjb21wb25lbnRzOnt9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9wcFR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BwVHlwZScsIGNvZGUpCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzCiAgICByZXR1cm4gewogICAgICBidXR0b25TaG93OiB0cnVlLAogICAgICBzaG93UGFnZUZsYWc6ICcnLAogICAgICBwZFBwSW5mbzogewogICAgICAgIGlkOiAnJywKICAgICAgICBwcENvZGU6ICcnLAogICAgICAgIHBwTmFtZTogJycsCiAgICAgICAgcHBUeXBlOiAnJywvL+exu+WeiwogICAgICAgIHBwUGxhbk5hbWU6ICcnLAogICAgICAgIHBwUGxhbkNvZGU6ICcnLAogICAgICAgIHBwUGVyc29uTnVtOiAnJywKICAgICAgfSwKCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcHBOYW1lOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5Lqn5ZOB5aWX6aSQ5ZCN56ewIiwgdHJpZ2dlcjogImJsdXIifV0sCiAgICAgICAgcHBQZXJzb25OdW06IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmipXkv53kurrmlbAiLCB0cmlnZ2VyOiAiYmx1ciJ9XQoKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnCiAgICB0aGlzLnBkUHBJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgcXVlcnlwZFBwSW5mbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwcEluZm9JZCI6IHRoaXMucGRQcEluZm8uaWR9KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucGRQcEluZm8gPSByZXMuZGF0YTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy5wZFBwSW5mby5wcFBlcnNvbk51bSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy5idXR0b25TaG93ID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmJ1dHRvblNob3cgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgdGhpcy5jYWNoZUN1cnJQYWdlUGREYXRhKHRoaXMucGRQcEluZm8pCiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgaGFuZGxlQ2xlYXIoZm9ybU5hbWUpIHsKICAgICAgdGhpcy5pbml0KCk7CiAgICB9CiAgICAsCiAgICBCdXR0b25TYXZlKCkgewogICAgICBsZXQgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLnBkUHBJbmZvLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHNhdmVBdHRyaWJ1dGVFbnRpdHkodGhpcy5idWlsZFJlcXVlc3REYXRhKHsncHBJbmZvQXR0cic6IHRoaXMucGRQcEluZm99KSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcmVzLmRhdGEubWVzc2FnZXMKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKG1lc3NhZ2UpOwogICAgICAgICAgICB0aGlzLnBkUHBJbmZvID0gcmVzLmRhdGEucGRQcEluZm9BOwogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgIH0pCgogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/product-package-definition/pp-framework-def/pp-attr-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :label=\"$t('pdppAttributeDefined.formFirstTitle')\"></cus-page-title>\r\n\r\n    <cus-form-title :label=\"$t('pdppAttributeDefined.title')\" :first=\"true\"></cus-form-title>\r\n    <el-form  :disabled=\"showPageFlag=='1'\" label-width=\"auto\" :model=\"pdPpInfo\" ref=\"pdPpInfo\" :rules=\"rules\" class=\"demo-form-inline\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"ppType\" style=\"white-space: nowrap;\" :label=\"$t('i18nView.productPpType')\">\r\n            <el-tag type=\"info\">{{pdPpInfo.ppType | filter_ppType}}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('i18nView.productPpName')\" style=\"white-space: nowrap;\" prop=\"ppName\">\r\n            <el-input v-model=\"pdPpInfo.ppName\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdppAttributeDefined.ppPerNum')\" style=\"white-space: nowrap;\" prop=\"ppPersonNum\" >\r\n            <el-input v-model=\"pdPpInfo.ppPersonNum\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n        <div style=\"float: right\">\r\n          <el-button  size=\"small\" @click=\"ButtonSave\" type=\"primary\" icon=\"el-icon-success\" v-show=\"!this.buttonShow\">\r\n            {{ $t('pdppAttributeDefined.buttonSave') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" @click=\"ButtonSave\" type=\"primary\" icon=\"el-icon-success\" v-show=\"this.buttonShow\">\r\n            {{ $t('pdppAttributeDefined.buttonChange') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" @click=\"handleClear('pdPpInfo')\" type=\"primary\" icon=\"el-icon-refresh\">\r\n            {{ $t('pdppAttributeDefined.buttonClear') }}\r\n          </el-button>\r\n        </div>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    querypdPpInfo,\r\n    findAttributrEntity,\r\n    saveAttributeEntity\r\n  } from \"@/api/basicinfo/pdppDefinition\";\r\n  let _this\r\n\r\n  export default {\r\n\r\n  name:'PdPpAttribute',\r\n  components:{},\r\n    filters: {\r\n      filter_ppType(code) {\r\n        return _this.getCodeName('ppType', code)\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n      return {\r\n        buttonShow: true,\r\n        showPageFlag: '',\r\n        pdPpInfo: {\r\n          id: '',\r\n          ppCode: '',\r\n          ppName: '',\r\n          ppType: '',//类型\r\n          ppPlanName: '',\r\n          ppPlanCode: '',\r\n          ppPersonNum: '',\r\n        },\r\n\r\n        rules: {\r\n          ppName: [{required: true, message: \"请输入产品套餐名称\", trigger: \"blur\"}],\r\n          ppPersonNum: [{required: true, message: \"投保人数\", trigger: \"blur\"}]\r\n\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.showPageFlag = this.$route.query.showPageFlag\r\n      this.pdPpInfo = this.getPdData();\r\n      this.init();\r\n    },\r\n    methods: {\r\n      init() {\r\n        querypdPpInfo(this.buildRequestData({\"ppInfoId\": this.pdPpInfo.id})).then(res => {\r\n          this.pdPpInfo = res.data;\r\n          this.$nextTick(() => {\r\n            if (this.pdPpInfo.ppPersonNum == undefined) {\r\n              this.buttonShow = false;\r\n            } else {\r\n              this.buttonShow = true;\r\n            }\r\n          })\r\n          this.cacheCurrPagePdData(this.pdPpInfo)\r\n        })\r\n      },\r\n      async handleClear(formName) {\r\n        this.init();\r\n      }\r\n      ,\r\n      ButtonSave() {\r\n        let _this = this;\r\n        this.$refs.pdPpInfo.validate(async valid => {\r\n          if (valid) {\r\n            saveAttributeEntity(this.buildRequestData({'ppInfoAttr': this.pdPpInfo})).then(res => {\r\n              const message = res.data.messages\r\n              this.notifySuccess(message);\r\n              this.pdPpInfo = res.data.pdPpInfoA;\r\n              this.init();\r\n            })\r\n\r\n          }\r\n        })\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .showDiv {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-top: -40px;\r\n    margin-left: -40px;\r\n    position: absolute;\r\n    background: #ffffff00;\r\n    z-index: 999;\r\n  }\r\n\r\n  .footer-step {\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 45%;\r\n  }\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\guarantee-def\\general-medical\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\guarantee-def\\general-medical\\index.vue","mtime":1609847106859},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBhZGRQZHRlbXBQZENsbUJuZnQsDQogIGRlbGV0ZVBkdGVtcFBkQ2xtQm5mdCwNCiAgZmluZFBkdGVtcFBkQ2xtQm5mdEJ5UHJvZHVjdElkLA0KICBTZWxlY3RDYXNjYWRlck9wdGlvbnMsDQogIHNlbGVjdERibEdyYWRlQnlDb2RlLA0KICBTZWxlY3RNdXRpU2VsZWN0T3B0aW9ucywNCiAgc2VsZWN0UGRNZWRGZWVCaWxsT3B0aW9ucywNCiAgdXBkYXRlUGR0ZW1wUGRDbG1CbmZ0LA0KICBzYXZlUGR0ZW1wUGRNZWRGZWVCaWxsLA0KICBkZWxldGVQZHRlbXBQZE1lZEZlZUJpbGwsDQogIHNlbGVjdHBkdGVtcFBkTWVkRmVlQmlsbHMsDQogIGdldENsbUJuZnRNYXhPcmRlcg0KfSBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRjbG1ibmZ0Ig0KaW1wb3J0IHsNCiAgYWRkUGR0ZW1wUGRCbmZ0LA0KICBkZWxldGVQZHRlbXBQZEJuZnQsDQogIGluaXRhbFBkc2JuZnRnZXR0eXBlTGlzdCwNCiAgdXBkYXRlUGR0ZW1wUGRCbmZ0DQp9IGZyb20gJ0AvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZGJuZnQnDQppbXBvcnQge3BkdGVtcFBkQ2xzTGFiTGlzdH0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL1Byb2R1Y3RBdHRyaWJ1dGVEZWZpbml0aW9uIg0KaW1wb3J0IHBkZ2VubGRpc2luZm8gZnJvbSAiQC92aWV3cy9nZW5lcmFsLWNvbmZpZy9nZW4tc2VyaW91c2lsbG5lc3MtY29uZiINCmltcG9ydCBwZGdlbmxkYmxncmFkZSBmcm9tICJAL3ZpZXdzL2dlbmVyYWwtY29uZmlnL2dlbi1kaXNhYmlsZUxldmVsLWNvbmYiDQppbXBvcnQgcGR0ZW1wcGRtZWRmZWViaWxsIGZyb20gIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9ndWFyYW50ZWUtZGVmL2dlbmVyYWwtbWVkaWNhbC9wZHRlbXBwZG1lZGZlZWJpbGwvaW5kZXgiDQppbXBvcnQgcGR0ZW1wcGRvYnBlcmlvZCBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9vYnBlcmlvZC1kZWR1Y3RpYmxlLWxpbWl0L29icGVyaW9kL2NsbS1vYnBlcmlvZC9pbmRleCINCmltcG9ydCBwZHRlbXBwZG1lZG9icGVyaW9kIGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL29icGVyaW9kLWRlZHVjdGlibGUtbGltaXQvb2JwZXJpb2QvZmVlLW9icGVyaW9kL2luZGV4Ig0KaW1wb3J0IHBkdGVtcHBkZGVkdWN0aWJsZSBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9vYnBlcmlvZC1kZWR1Y3RpYmxlLWxpbWl0L2RlZHVjdGlibGUvY2xtLWRlZHVjdGlibGUvaW5kZXgiDQppbXBvcnQgcGR0ZW1wcGRtZWRkZWR1Y3RpYmxlIGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL29icGVyaW9kLWRlZHVjdGlibGUtbGltaXQvZGVkdWN0aWJsZS9mZWUtZGVkdWN0aWJsZS9pbmRleCINCmltcG9ydCBwZHRlbXBwZGxpbWl0IGZyb20gIkAvdmlld3MvYmFzaWNpbmZvL29icGVyaW9kLWRlZHVjdGlibGUtbGltaXQvbGltaXQvY2xtLWxpbWl0L2luZGV4Ig0KaW1wb3J0IHBkdGVtcHBkbWVkbGltaXQgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vb2JwZXJpb2QtZGVkdWN0aWJsZS1saW1pdC9saW1pdC9mZWUtbGltaXQvaW5kZXgiDQppbXBvcnQgcGR0ZW1wcGRibmZ0aW5mbyBmcm9tICJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvZ3VhcmFudGVlLWRlZi9nZW5lcmFsLW1lZGljYWwvcGR0ZW1wcGRibmZ0aW5mby9pbmRleCINCmltcG9ydCBwZHRlbXBwZGJuZnRtZWRpbmZvIGZyb20gIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9ndWFyYW50ZWUtZGVmL2dlbmVyYWwtbWVkaWNhbC9wZHRlbXBwZGJuZnRtZWRpbmZvL2luZGV4Ig0KaW1wb3J0IHBkdGVtcHBkY2xtYm5mdGluZm8gZnJvbSAiQC92aWV3cy9wcm9kdWN0LWRlZmluaXRpb24vcGQtZnJhbWV3b3JrLWRlZi9wZC1zdHJ1Y3R1cmUtZGVmL2d1YXJhbnRlZS1kZWYvZ2VuZXJhbC1tZWRpY2FsL3BkdGVtcHBkY2xtYm5mdGluZm8vaW5kZXgiDQppbXBvcnQgcGR0ZW1wZGJuZnRpbmZvIGZyb20gIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9ndWFyYW50ZWUtZGVmL2dlbmVyYWwtbWVkaWNhbC9wZHRlbXBkYm5mdGluZm8vaW5kZXgiDQppbXBvcnQgeyBpbml0YWxCbmZ0Zm9ybUxpc3QgfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRzcnZsYm5mdCcNCmltcG9ydCBibmZ0QW1vdW50Rm9ybXVsYSBmcm9tICJAL3ZpZXdzL2Jhc2ljaW5mby9ibmZ0LWZvcm11bGEvYm5mdEFtb3VudEZvcm11bGEiDQppbXBvcnQgYm5mdEFtb3VudEZvcm11bGFTZWxlY3QgZnJvbSAiQC92aWV3cy9iYXNpY2luZm8vYm5mdC1mb3JtdWxhL2JuZnRBbW91bnRGb3JtdWxhU2VsZWN0Ig0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInBkdGVtcFBkQ2xtQm5mdCIsDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJfcGRDbG1FbnN1UGVyaW9kVW5pdChjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInBkc2JuZnRkeSIsIGNvZGUsIHRydWUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRDbG1CbmZ0VHlwZShjb2RlKSB7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoInBkY2xtYm5mdHR5cGUxIiwgY29kZSkNCiAgICB9LA0KICAgIC8vIGZpbHRlcl9wZE1lZEZlZUNhbE1vZGUoY29kZSkgew0KICAgIC8vICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCJwZE1lZEZlZUNhbE1vZGUiLCBjb2RlKQ0KICAgIC8vIH0sDQogICAgZmlsdGVyX3BkTWVkQmlsbFR5cGUoY29kZSl7DQogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoIm1lZEJpbGxUeXBlIiwgY29kZSkNCiAgICB9LA0KICAgIGZpbHRlcl9wZERpc1R5cGUocGR0ZW1wUGRDbG1EaXNSZWxhKSB7DQogICAgICBpZiAocGR0ZW1wUGRDbG1EaXNSZWxhLmxlbmd0aCkgew0KICAgICAgICAvLyBpZiAocGR0ZW1wUGRDbG1EaXNSZWxhWzBdLnBkRGlzVHlwZSkgew0KICAgICAgICAvLyAgIGxldCBjb2RlID0gcGR0ZW1wUGRDbG1EaXNSZWxhLm1hcChvID0+IG8ucGREaXNUeXBlKQ0KICAgICAgICAvLyAgIGxldCBuZXdEYXRhID0gW10NCiAgICAgICAgLy8gICBfdGhpcy5wZERpc1R5cGVPcHRpb25zLmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgIC8vICAgICBpZiAoY29kZS5pbmNsdWRlcyhkYXRhLnZhbHVlKSkgew0KICAgICAgICAvLyAgICAgICBuZXdEYXRhLnB1c2goZGF0YS5sYWJlbCkNCiAgICAgICAgLy8gICAgIH0NCiAgICAgICAgLy8gICB9KQ0KICAgICAgICAvLyAgIHJldHVybiBuZXdEYXRhLmpvaW4oIiwgIikNCiAgICAgICAgLy8gfSBlbHNlIHsNCiAgICAgICAgLy8gICByZXR1cm4gIiINCiAgICAgICAgLy8gfQ0KICAgICAgICByZXR1cm4gIlkiDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gIk4iDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJfcGR0ZW1wUGREYmxzKHBkdGVtcFBkRGJscykgew0KICAgICAgaWYgKHBkdGVtcFBkRGJscy5sZW5ndGgpIHsNCiAgICAgICAgcmV0dXJuICJZIg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICJOIg0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyX3BkdGVtcFBkTWVkRmVlQmlsbHMocGR0ZW1wUGRNZWRGZWVCaWxscykgew0KICAgICAgaWYgKHBkdGVtcFBkTWVkRmVlQmlsbHMubGVuZ3RoKSB7DQogICAgICAgIHJldHVybiAiWSINCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiTiINCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlcl9kYXRhRmxhZyhjb2RlKSB7DQogICAgICBpZiAoY29kZSA9PSAnWScpIHsNCiAgICAgICAgcmV0dXJuIGNvZGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiTiINCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlcl9wZE1lZEZlZUNhbE1vZGUoY29kZSl7DQogICAgICBpZihjb2RlKXsNCiAgICAgICAgcmV0dXJuICJZIg0KICAgICAgfWVsc2V7DQogICAgICAgIHJldHVybiAiTiINCiAgICAgIH0NCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgcGRCbmZ0OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0sDQogICAgcGRCbmZ0QXJyOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBwZHRlbXBQZEJuZnQ6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfSwNCiAgICBjb25maWdMZW5ndGg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIGFjdGl2ZU5hbWU6ew0KICAgICAgdHlwZTpTdHJpbmcsDQogICAgICBkZWZhdWx0OicnDQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXMNCiAgICByZXR1cm4gew0KICAgICAgY29weUJuZnRDbG1Db2RlOiAnJywNCiAgICAgIFN0YXJ0RGF0ZU1vZGVGaWx0ZXI6ICcxJDAkMSQyJDMnLA0KICAgICAgY2xtQm5mdFR5cGVGaWx0ZXI6ICcxJDEkMicsDQogICAgICBwZFV3U2lUeXBlT3B0aW9uczoge30sDQogICAgICBwZEJuZnRPcHRpb25zOiB7fSwNCiAgICAgIGZlZUJpbGxEYXRhOiB7fSwNCiAgICAgIHBkQm5mdEN0cmxDb2RlOiAnJywNCiAgICAgIC8v6KeE5YiZ5by556qXDQogICAgICBkaWFsb2dSdWxlc1Nob3c6IHsNCiAgICAgICAgYm5mdFJ1bGVzOiBmYWxzZSwNCiAgICAgICAgYm5mdFJ1bGVzU2VsZWN0OiBmYWxzZQ0KICAgICAgfSwNCg0KICAgICAgLy/ooajmoLzmlbDmja4NCiAgICAgIHN3aXRjaDQ6IGZhbHNlLA0KICAgICAgc2hvd01vcmU6IGZhbHNlLA0KICAgICAgc2hvd0JhY2s6IGZhbHNlLA0KICAgICAgc2hvd01lZEZlZUJpbGw6IGZhbHNlLA0KICAgICAgc2hvd09iUGVyaW9kOiBmYWxzZSwNCiAgICAgIHNob3dEZWR1Y3RpYmxlOiBmYWxzZSwNCiAgICAgIHNob3dMaW1pdDogZmFsc2UsDQogICAgICBzaG93TWVkT2JQZXJpb2Q6IGZhbHNlLA0KICAgICAgc2hvd01lZERlZHVjdGlibGU6IGZhbHNlLA0KICAgICAgc2hvd01lZExpbWl0OiBmYWxzZSwNCiAgICAgIHNob3dCbmZ0TW9yZTogZmFsc2UsDQogICAgICBzaG93Qm5mdE1vcmUxOiBmYWxzZSwNCiAgICAgIHNob3dNZWRCbmZ0TW9yZTogZmFsc2UsDQogICAgICBzaG93UGRDbG1CbmZ0TW9yZTpmYWxzZSwNCiAgICAgIG1vcmVUeXBlOiBudWxsLA0KICAgICAgY2FsY3VsYXRpb25NZXRob2Q6IG51bGwsDQogICAgICBwYXltZW50Q29uZmlnczogW10sDQogICAgICBjb25maWdzOiBbXSwNCiAgICAgIHBkQ2xtQm5mdERhdGE6IFtdLA0KICAgICAgcGRnZW5sQ29uZmlnczogW10sDQogICAgICBtZWRCaWxsQ29uZmlnczogW10sDQogICAgICB1bnJlbGF0aW9uQ29uZmlnczogW10sDQogICAgICBleHByZXNzaW9uQ29uZmlnczogW10sDQogICAgICBleHByZXNzaW9uRHRDb25maWdzOiBbXSwNCiAgICAgIGRhdGFDb25maWdzOiBbXSwNCiAgICAgIG1lZFRhYmxlOltdLA0KICAgICAgbWVkRm9ybTp7DQogICAgICAgIG1lZEJpbGxUeXBlOicnLA0KICAgICAgICBwZE1lZEZlZUJpbGxUeXBlOltdLA0KICAgICAgICBwZE1lZEJpbGxOYW1lOicnLA0KICAgICAgfSwNCiAgICAgIGNoZWNrTWVkOltdLA0KICAgICAgcnVsZUNvbHM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHByb3A6ICIiLA0KICAgICAgICAgIGxhYmVsOiAiIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgcHJvcDogIiIsDQogICAgICAgICAgbGFiZWw6ICIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBwcm9wOiAiIiwNCiAgICAgICAgICBsYWJlbDogIiINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIGFsbFBkdGVtcFBkRGJsczogW10sDQogICAgICBjdXJyZW50U2VsZWN0SXRlbToge30sIC8v5b2T5YmN6YCJ5Lit55qE5YC8DQogICAgICByYWRpbzE6IG51bGwsIC8vIOWmguaenOS9v+eUqOWNlemAieahhu+8jOWumuS5ieS4gOS4qm1vZGVs5YC8DQogICAgICByYWRpbzI6IG51bGwsDQogICAgICByYWRpbzM6IG51bGwsDQogICAgICB0eXBlUmVnaW9uOiBudWxsLA0KICAgICAgcGRFeHB0RmxhZzogbnVsbCwNCiAgICAgIGRpc2Vhc2VDbGFzc2lmaWNhdGlvbjogbnVsbCwNCiAgICAgIGN1cnJlbnRTZWxlY3RJdGVtMToge30sIC8v5b2T5YmN6YCJ5Lit55qE5YC8DQogICAgICBwZENsbUJuZnRDb2RlRmlsdGVyczogW10sIC8v6KGo5qC8562b6YCJ5pWw57uEDQogICAgICBwZENsbUJuZnROYW1lRmlsdGVyczogW10sDQogICAgICBwZENsbVR5cGVGaWx0ZXJzOiBbXSwNCiAgICAgIHBkQ2xtQm5mdENvZGVGaWx0ZXJzMTogW10sIC8v5Y+C54Wn6KGo5qC8562b6YCJ5pWw57uEDQogICAgICBwZENsbUJuZnROYW1lRmlsdGVyczE6IFtdLA0KICAgICAgcGRDbG1UeXBlRmlsdGVyczE6IFtdLA0KICAgICAgcGRCbmZ0Q29kZU9wdGlvbjogW10sIC8v5L+d6Zqc57yW56CB5LiL5ouJ6YCJDQogICAgICBwYXJhbXM6IHsNCiAgICAgICAgcGRJbmZvSWQ6ICIiLA0KICAgICAgICBlcV9wZEJuZnRJZDogIiINCiAgICAgIH0sDQogICAgICBmb3JtOiB7DQogICAgICAgIC8v6KGo5Y2V5pWw5o2u5LiO5ZCO56uv5a6e5L2T57G75a+55bqUDQogICAgICAgIGlkOiAiIiAvL+S4u+mUrklEDQogICAgICB9LA0KICAgICAgc2VhcmNoRm9ybTogew0KICAgICAgICBwZEluZm9JZDogIiIsDQogICAgICAgIHBkQ2xtQm5mdENvZGU6ICIiLA0KICAgICAgICBwZENsbUJuZnRUeXBlOiAiIiwNCiAgICAgICAgZXFfcGRCbmZ0SWQ6ICIiDQogICAgICB9LA0KICAgICAgcHJvcHM6IHttdWx0aXBsZTogdHJ1ZX0sDQogICAgICBwZERpc1R5cGVPcHRpb25zOiBbXSwNCiAgICAgIHBkRGlzQ29kZU9wdGlvbnM6IFtdLA0KICAgICAgcGRNZWRGZWVCaWxsT3B0aW9uczogW10sDQogICAgICBPcHRpb25zOiBbXSwNCiAgICAgIGNsbUJuZnRPcHRpb25zOiBbXSwNCiAgICAgIGJuZnRGb3JtOiB7DQogICAgICAgIHBkQm5mdE5hbWU6ICIiLA0KICAgICAgICBwZEJuZnRUeXBlOiAiIiwNCiAgICAgICAgcGRCbmZ0RGV0YWlsVHlwZTogIjciLA0KICAgICAgICBwZEFtbnRSZWNsRmxhZzogIiIsDQogICAgICAgIHBkQW1udFpyZW9GbGFnOiAiIiwNCiAgICAgICAgcGRBbW50Q2FsTW9kZTogIiIsDQogICAgICAgIHBkQ2FsY0lkOiAiIiwNCiAgICAgICAgcGRCbmZ0U3RhcnREYXRlUnVsZTogIlMiLA0KICAgICAgICBwZEJuZnRTdGFydERhdGVNb2RlOiAiMCIsDQogICAgICAgIHBkQm5mdFN0YXJ0UGVyaW9kOiAiMCIsDQogICAgICAgIHBkQm5mdFN0YXJ0UGVyaW9kVW5pdDogIlkiLA0KICAgICAgICBwZEJuZnRFbmREYXRlUnVsZTogIjEiLA0KICAgICAgICBwZEJuZnRFbmREYXRlTW9kZTogIjAiLA0KICAgICAgICBwZEJuZnRFbmRQZXJpb2Q6ICIiLA0KICAgICAgICBwZEJuZnRFbmRQZXJpb2RVbml0OiAiWSIsDQogICAgICAgIHBkc2JuZnRnZXR0eXBlOiBbJzEnXSwNCiAgICAgICAgcGRPcHRGbGFnOiAiTiIsDQogICAgICAgIHBkQm5mdE9yZGVyOiAiIiwNCiAgICAgICAgcGRQZXJpb2RSZWxhOiIwIg0KICAgICAgfSwNCiAgICAgIGNvbmZpZ3NGb3JtOiB7DQogICAgICAgIHBkQ2xtQm5mdE9yZGVyOnRoaXMucGRDbG1CbmZ0T3JkZXIsDQogICAgICAgIHBkQ2xtQm5mdE5hbWU6ICIiLA0KICAgICAgICBwZENsbUJuZnRUeXBlOiAiIiwNCiAgICAgICAgcGRDbG1Nb3lUeXBlOiAiIiwNCiAgICAgICAgcGRDbG1Nb3lDYWxNb2RlOiAiIiwNCiAgICAgICAgcGRDbG1GaXhNb3k6ICIiLA0KICAgICAgICBwZENsbVNwdFNhdERhdGVUeXBlOiAiIiwNCiAgICAgICAgcGRDbG1TcHRQYXlOdW06ICIiLA0KICAgICAgICBwZENsbVNwdE1pbk1veTogIiIsDQogICAgICAgIHBkQ2xtU3B0Q2FsSWQ6ICIiLA0KICAgICAgICBwZEV4cHRSb2xlOiAiIiwNCiAgICAgICAgcGRFeHB0Um9sZU9yZGVyOiAiIiwNCiAgICAgICAgcGRFeHB0ZFR5cGU6ICIiLA0KICAgICAgICBwZERpc1R5cGU6IFtdLA0KICAgICAgICBwZERpc0NvZGU6IFtdLA0KICAgICAgICBwZENsbUJuZnRBbXRDYWxUeXBlOiIyIiwNCiAgICAgICAgcGRDbG1Nb3lBbXRDYWxNdGhkOiIzIiwNCiAgICAgICAgcGRBbGxvd2FuY2VGbGFnOiJZIiwNCiAgICAgICAgcGRDbG1aZXJvRmxhZzoiWSINCiAgICAgIH0sDQogICAgICBwcm9kdWN0Qm5mdEZvcm06IHt9LA0KICAgICAgQm5mdERmRm9ybToge30sDQogICAgICBCbmZ0RGZTaEZvcm06IHt9LA0KICAgICAgcGREaXNFZGl0aW9uOiAiIiwNCiAgICAgIHBkdGVtcFBkSW5mbzoge30sDQogICAgICBwZGdlbmxEaXNJbmZvczogW10sDQogICAgICBwZER1dHlUeXBlRmlsdGVyczogIiIsIC8vIOS6uui6q+mZqei0o+S7u+exu+Wei+i/h+a7pOmhuQ0KICAgICAgcGRTdHJ1Y3Q6IHt9LA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBzaG93RGlzOiBmYWxzZSwNCiAgICAgIHNob3dEYmw6IGZhbHNlLA0KICAgICAgaGlkZUJ1dHRvbjogdHJ1ZSwNCiAgICAgIHNob3dFeHByZXNzaW9uOiBmYWxzZSwNCiAgICAgIHNob3dFeHByZXNzaW9uRGVmaW5pdGlvbjogZmFsc2UsDQogICAgICBwZERibEdyYWRlT3B0aW9uczogW10sDQogICAgICBkYmxHcmRSYXRpb3M6IFtdLA0KICAgICAgZGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgcGRDbG1CbmZ0T3JkZXI6ICcxJywNCiAgICAgIGRpYWxvZ1Nob3c6IHsNCiAgICAgICAgdW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYTogZmFsc2UsDQogICAgICAgIGJuZnRBbW91bnRGb3JtdWxhU2VsZWN0OiBmYWxzZSwNCiAgICAgICAgbWVkRmVlRm9ybXVsYTogZmFsc2UsDQogICAgICAgIG1lZEZlZUZvcm11bGFTZWxlY3Q6IGZhbHNlDQogICAgICB9LA0KICAgICAgcGRnZW5sTWVkRmVlQmlsbExpc3Q6IFtdLA0KICAgICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogIiIsDQogICAgICBwZFNydmxPcHRpb25zOiB7fSwNCiAgICAgIGd1YXJhbnRlZURldGFpbHM6IFtdLA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgcGRCbmZ0TmFtZTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIn0NCiAgICAgICAgXSwNCiAgICAgICAgcGRCbmZ0RGV0YWlsVHlwZTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIn0NCiAgICAgICAgXSwNCiAgICAgICAgcGRCbmZ0U3RhcnREYXRlTW9kZTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgICBwZEJuZnRFbmREYXRlTW9kZTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgICBwZENsbUJuZnROYW1lOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5a2X5q615LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSJ9DQogICAgICAgIF0sDQogICAgICAgIHBkQ2xtQm5mdFR5cGU6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLlrZfmrrXkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIn0NCiAgICAgICAgXSwNCiAgICAgICAgcGRDbG1Nb3lUeXBlOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5a2X5q615LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSJ9DQogICAgICAgIF0sDQogICAgICAgIHBkQ2xtTW95Q2FsTW9kZTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgICBwZE9wdEZsYWc6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLlrZfmrrXkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIn0NCiAgICAgICAgXSwNCiAgICAgICAgcGRDbG1CbmZ0T3JkZXI6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLlrZfmrrXkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciJ9DQogICAgICAgIF0sDQogICAgICAgIHBkQm5mdFN0YXJ0RGF0ZVJ1bGU6Ww0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgICBwZEJuZnRFbmREYXRlUnVsZTpbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5a2X5q615LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSJ9DQogICAgICAgIF0sDQogICAgICAgIHBkQ2xtQm5mdEFtdENhbFR5cGU6Ww0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgICBwZENsbU1veUFtdENhbE10aGQ6Ww0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWtl+auteS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifQ0KICAgICAgICBdLA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIHBkZ2VubGRpc2luZm8sDQogICAgcGRnZW5sZGJsZ3JhZGUNCiAgICAscGR0ZW1wcGRtZWRmZWViaWxsLCBwZHRlbXBwZG9icGVyaW9kLA0KICAgIHBkdGVtcHBkZGVkdWN0aWJsZSwgcGR0ZW1wcGRsaW1pdCwgcGR0ZW1wcGRtZWRvYnBlcmlvZCwgcGR0ZW1wcGRtZWRkZWR1Y3RpYmxlLCBwZHRlbXBwZG1lZGxpbWl0LA0KICAgIHBkdGVtcHBkYm5mdGluZm8sIHBkdGVtcHBkYm5mdG1lZGluZm8scGR0ZW1wcGRjbG1ibmZ0aW5mbyxwZHRlbXBkYm5mdGluZm8sYm5mdEFtb3VudEZvcm11bGEsIGJuZnRBbW91bnRGb3JtdWxhU2VsZWN0LA0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIGxldCBwZHRlbXBQZEluZm8gPSB0aGlzLmdldFBkRGF0YSgpDQogICAgdGhpcy5wZHRlbXBQZEluZm8gPSBwZHRlbXBQZEluZm8NCiAgICB0aGlzLnNlYXJjaEZvcm0ucGRJbmZvSWQgPSBwZHRlbXBQZEluZm8uaWQNCiAgICB0aGlzLnBhcmFtcy5wZEluZm9JZCA9IHBkdGVtcFBkSW5mby5pZA0KICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0RW5kUGVyaW9kID0gdGhpcy5wZHRlbXBQZEluZm8ucGRHdWFyYW50ZWVQZXJpb2Q/dGhpcy5wZHRlbXBQZEluZm8ucGRHdWFyYW50ZWVQZXJpb2Q6JycNCiAgICBhd2FpdCB0aGlzLmZpbmRUeXBlUmVnaW9uKCkNCiAgICAvLyDluKblhaXmn6XnnIvor6bmg4XnmoTkv6Hmga8NCiAgICBpZiAodGhpcy5wZEJuZnQuaWQpIHsNCiAgICAgIGlmKHRoaXMucGRCbmZ0LnJlYWRvbmx5PT10cnVlKXsNCiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7DQogICAgICB9DQogICAgICB0aGlzLmNsZWFuQ29uZmlnc0Zvcm0oKQ0KICAgICAgaWYgKHRoaXMucGRCbmZ0LnBkQm5mdFR5cGUgPT09ICJDIiAmJiB0aGlzLnBkQm5mdC5wZEJuZnREZXRhaWxUeXBlID09PSAiNyIpIHsNCiAgICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGRCbmZ0KSkNCiAgICAgICAgYXdhaXQgdGhpcy5maW5kUGR0ZW1wUGRDbG1CbmZ0QnlQcm9kdWN0SWQoKQ0KICAgICAgICBpZiAodGhpcy5wcm9kdWN0Qm5mdEZvcm0ucGRzYm5mdGdldHR5cGUpIHsNCiAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wZHNibmZ0Z2V0dHlwZSA9IEpTT04ucGFyc2UoDQogICAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wZHNibmZ0Z2V0dHlwZQ0KICAgICAgICAgICkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmJuZnRGb3JtLnBkc2JuZnRnZXR0eXBlID0gW10NCiAgICAgICAgfQ0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuYm5mdEZvcm0sdGhpcy5wcm9kdWN0Qm5mdEZvcm0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jbGVhbmJuZnRGb3JtKCkNCiAgICAgICAgdGhpcy5jb25maWdzID0gW10NCiAgICAgIH0NCiAgICB9ZWxzZXsNCiAgICAgIHRoaXMuY2xlYW5Db25maWdzRm9ybSgpDQogICAgfQ0KICAgIGF3YWl0IHRoaXMuaW5pdGFsQm5mdGZvcm0oKQ0KICAgIGF3YWl0IHRoaXMuaW5pdGFsUGRzYm5mdGdldHR5cGUoKQ0KICB9LA0KICB3YXRjaDogew0KICAgIHBkQm5mdDogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jbGVhbkNvbmZpZ3NGb3JtKCkNCiAgICAgIGlmICh0aGlzLnBkQm5mdC5wZEJuZnRUeXBlID09ICJDIiAmJiB0aGlzLnBkQm5mdC5wZEJuZnREZXRhaWxUeXBlID09ICI3Iikgew0KICAgICAgICB0aGlzLmJuZnRGb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnBkQm5mdCkpDQogICAgICAgIHRoaXMuZmluZFBkdGVtcFBkQ2xtQm5mdEJ5UHJvZHVjdElkKCkNCiAgICAgICAgaWYgKHRoaXMuYm5mdEZvcm0ucGRzYm5mdGdldHR5cGUpIHsNCiAgICAgICAgICB0aGlzLmJuZnRGb3JtLnBkc2JuZnRnZXR0eXBlID0gSlNPTi5wYXJzZSgNCiAgICAgICAgICAgIHRoaXMuYm5mdEZvcm0ucGRzYm5mdGdldHR5cGUNCiAgICAgICAgICApDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZHNibmZ0Z2V0dHlwZSA9IFtdDQogICAgICAgIH0NCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jbGVhbmJuZnRGb3JtKCkNCiAgICAgICAgdGhpcy5jb25maWdzID0gW10NCiAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRPcmRlciA9IHRoaXMuY29uZmlnTGVuZ3RoDQogICAgICB9DQogICAgfSwNCiAgICBjb25maWdzOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLnBkQ2xtVHlwZUZpbHRlcnMgPSBbXQ0KICAgICAgZm9yIChjb25zdCByb3cgb2YgdGhpcy5fLm1hcCh0aGlzLmNvbmZpZ3MsICdwZENsbUJuZnRUeXBlJykpIHsNCiAgICAgICAgbGV0IGZpbERlcG10ID0ge3RleHQ6ICcnLCB2YWx1ZTogJyd9DQogICAgICAgIGZpbERlcG10LnRleHQgPSB0aGlzLmdldENvZGVOYW1lKCdwZGNsbWJuZnR0eXBlMScsIHJvdywgdHJ1ZSkNCiAgICAgICAgZmlsRGVwbXQudmFsdWUgPSByb3cNCiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZQ0KICAgICAgICBmb3IgKGNvbnN0IHBkQ2xtVHlwZUZpbHRlcnNJdGVtIG9mIHRoaXMucGRDbG1UeXBlRmlsdGVycykgew0KICAgICAgICAgIGlmKHBkQ2xtVHlwZUZpbHRlcnNJdGVtLnZhbHVlID09PSByb3cpIHsNCiAgICAgICAgICAgIGZsYWcgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgIHRoaXMucGRDbG1UeXBlRmlsdGVycy5wdXNoKGZpbERlcG10KQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZighdGhpcy5jb25maWdzLmxlbmd0aCl7DQogICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0T3JkZXIgPSAnMScNCiAgICAgIH0NCiAgICB9LA0KICAgIGNvbmZpZ0xlbmd0aDogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMucGRCbmZ0LmlkID09IHVuZGVmaW5lZCAmJiB0aGlzLmNvbmZpZ0xlbmd0aCAhPSBudWxsKSB7DQogICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0T3JkZXIgPSB0aGlzLmNvbmZpZ0xlbmd0aA0KICAgICAgfQ0KICAgIH0sDQogICAgJ3BkQ2xtQm5mdE9yZGVyJygpIHsNCiAgICAgIGlmICh0aGlzLnBkQ2xtQm5mdE9yZGVyICE9IG51bGwmJiF0aGlzLnJhZGlvMSkgew0KICAgICAgICB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdE9yZGVyID0gdGhpcy5wZENsbUJuZnRPcmRlcg0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBpbml0YWxQZHNibmZ0Z2V0dHlwZSgpew0KICAgICAgbGV0IGxpc3QgPSAnJzsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIHBkQXNjTGV2ZWxDb2RlOnRoaXMuYm5mdEZvcm0ucGRCbmZ0Q29kZSwNCiAgICAgICAgcGRBdHJzQ29kZTogInBkc2JuZnRnZXR0eXBlIg0KICAgICAgfQ0KICAgICAgaWYodGhpcy5ibmZ0Rm9ybS5wZEJuZnRDb2RlKXsNCiAgICAgICAgaW5pdGFsUGRzYm5mdGdldHR5cGVMaXN0KHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgbGlzdCA9IHJlc3BvbnNlLmRhdGEucGRBdHJzVmFsOw0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkc2JuZnRnZXR0eXBlID0gSlNPTi5wYXJzZShsaXN0KQ0KICAgICAgfSkNCiAgICAgIH0NCg0KDQogICAgfSwNCiAgICBhc3luYyBpbml0YWxCbmZ0Zm9ybSgpew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgcGRCbmZ0Q29kZTp0aGlzLmJuZnRGb3JtLnBkQm5mdENvZGUNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuYm5mdEZvcm0ucGRCbmZ0Q29kZSl7DQogICAgICAgIGluaXRhbEJuZnRmb3JtTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuYm5mdEZvcm0ucGRQZXJpb2RSZWxhID0gcmVzcG9uc2UuZGF0YS5wZFBlcmlvZFJlbGE7DQogICAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0U3RhcnREYXRlUnVsZSA9IHJlc3BvbnNlLmRhdGEucGRCbmZ0U3RhcnREYXRlUnVsZTsNCiAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRTdGFydERhdGVNb2RlID0gcmVzcG9uc2UuZGF0YS5wZEJuZnRTdGFydERhdGVNb2RlOw0KICAgICAgICB0aGlzLmJuZnRGb3JtLnBkQm5mdEVuZERhdGVSdWxlID0gcmVzcG9uc2UuZGF0YS5wZEJuZnRFbmREYXRlUnVsZTsNCiAgICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRFbmREYXRlTW9kZSA9IHJlc3BvbnNlLmRhdGEucGRCbmZ0RW5kRGF0ZU1vZGU7DQogICAgICAgIHRoaXMuYm5mdEZvcm0ucGRzYm5mdGdldHR5cGUgPSByZXNwb25zZS5kYXRhLnBkc2JuZnRnZXR0eXBlOw0KDQogICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgYnJpbmdJbkNhbGNDb2RlKHBkQ2xtQm5mdENvZGUsIGNhbGNDb2RlKSB7DQogICAgICBmb3IgKGNvbnN0IHBkdGVtcFBkQ2xtQm5mdCBvZiB0aGlzLnBkQ2xtQm5mdERhdGEpIHsNCiAgICAgICAgaWYgKHBkdGVtcFBkQ2xtQm5mdC5wZENsbUJuZnRDb2RlID09PSBwZENsbUJuZnRDb2RlKSB7DQogICAgICAgICAgcGR0ZW1wUGRDbG1CbmZ0LnBkQ2xtQm5mdENhbGNDb2RlID0gY2FsY0NvZGUNCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICB0b01lZEZlZUJpbGwoKSB7DQogICAgICBpZiAoIXRoaXMuY29uZmlnc0Zvcm0uaWQpIHsNCiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcign6K+36YCJ5oup5LiA5p2h5L+d6Zqc5piO57uGJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gdHJ1ZQ0KICAgIH0sDQogICAgdG9PYlBlcmlvZCgpIHsNCiAgICAgIHRoaXMuc2hvd09iUGVyaW9kID0gdHJ1ZQ0KICAgIH0sDQogICAgdG9EZWR1Y3RpYmxlKCkgew0KICAgICAgdGhpcy5zaG93RGVkdWN0aWJsZSA9IHRydWUNCg0KICAgIH0sDQogICAgdG9MaW1pdCgpIHsNCiAgICAgIHRoaXMuc2hvd0xpbWl0ID0gdHJ1ZQ0KDQogICAgfSwNCiAgICAvL+WFrOW8j+W8ueeqlw0KICAgIGdvQ2xpY2tzKG51bTEsIG51bTIpIHsNCiAgICAgIGxldCBhcnIgPSBbXQ0KICAgICAgYXJyLnB1c2goJ0MnKQ0KICAgICAgYXJyLnB1c2gobnVtMSkNCiAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGFyci8v5Lia5Yqh5aSn57G7DQogICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBudW0yLy/kuJrliqHnu4bnsbsNCiAgICAgIHRoaXMuZGlhbG9nU2hvdy51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gdHJ1ZQ0KICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMucGRCbmZ0DQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGEyKGZsYWcpIHsNCiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7DQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnBkQm5mdA0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dTaG93LnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QyKGZsYWcsIGd1YXJhbnRlZURldGFpbHMsIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIGJuZnQsIGJuZnREdCkgew0KICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMucGRCbmZ0DQogICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IGJuZnREdA0KICAgICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBndWFyYW50ZWVEZXRhaWxzDQogICAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZGlhbG9nU2hvdy51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGlhbG9nU2hvdy51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gdHJ1ZQ0KDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Nob3cuYm5mdEFtb3VudEZvcm11bGFTZWxlY3QgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3J1bGVzKGZsYWcpIHsNCiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7DQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnBkQm5mdA0KICAgICAgICB0aGlzLnBkQm5mdE9wdGlvbnMgPSB0aGlzLmNvbmZpZ3NGb3JtDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5ibmZ0UnVsZXMgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3J1bGVzU2VsZWN0KGZsYWcpIHsNCiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7DQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnBkQm5mdA0KICAgICAgICB0aGlzLnBkQm5mdE9wdGlvbnMgPSB0aGlzLmNvbmZpZ3NGb3JtDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5ibmZ0UnVsZXNTZWxlY3QgPSBmbGFnDQogICAgfSwNCiAgICBzaG93RmVlQmlsbEZsYWcoZmxhZykgew0KICAgICAgdGhpcy5zaG93TWVkRmVlQmlsbCA9IGZsYWcNCiAgICAgIHRoaXMuc2VsZWN0cGR0ZW1wUGRNZWRGZWVCaWxscyh0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENvZGUpOw0KICAgIH0sDQogICAgc2hvd0ZlZUJpbGxUeXBlRmxhZyhmbGFnKSB7DQogICAgICBpZiAoZmxhZyA9PSAncGVyaW9kJykgew0KICAgICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93T2JQZXJpb2QgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ2RlZHVjdGlibGUnKSB7DQogICAgICAgIHRoaXMuc2hvd01lZEZlZUJpbGwgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dEZWR1Y3RpYmxlID0gdHJ1ZQ0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdsaW1pdCcpIHsNCiAgICAgICAgdGhpcy5zaG93TWVkRmVlQmlsbCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0xpbWl0ID0gdHJ1ZQ0KICAgICAgfQ0KICAgICAgaWYgKGZsYWcgPT0gJ21lZFBlcmlvZCcpIHsNCiAgICAgICAgdGhpcy5zaG93TWVkRmVlQmlsbCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZE9iUGVyaW9kID0gdHJ1ZQ0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdtZWREZWR1Y3RpYmxlJykgew0KICAgICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TWVkRGVkdWN0aWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnbWVkTGltaXQnKSB7DQogICAgICAgIHRoaXMuc2hvd01lZEZlZUJpbGwgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRMaW1pdCA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnb2Jtb3JlJykgew0KICAgICAgICB0aGlzLnNob3dPYlBlcmlvZCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0RlZHVjdGlibGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dMaW1pdCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0JuZnRNb3JlID0gdHJ1ZQ0KICAgICAgICB0aGlzLm1vcmVUeXBlID0gJ29ibW9yZScNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnZGVtb3JlJykgew0KICAgICAgICB0aGlzLnNob3dPYlBlcmlvZCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0RlZHVjdGlibGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dMaW1pdCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0JuZnRNb3JlID0gdHJ1ZQ0KICAgICAgICB0aGlzLm1vcmVUeXBlID0gJ2RlbW9yZScNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnbGltbW9yZScpIHsNCiAgICAgICAgdGhpcy5zaG93T2JQZXJpb2QgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dEZWR1Y3RpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TGltaXQgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZSA9IHRydWUNCiAgICAgICAgdGhpcy5tb3JlVHlwZSA9ICdsaW1tb3JlJw0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdtZWRvYm1vcmUnKSB7DQogICAgICAgIHRoaXMuc2hvd01lZEZlZUJpbGwgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRPYlBlcmlvZCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZERlZHVjdGlibGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRMaW1pdCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZEJuZnRNb3JlID0gdHJ1ZQ0KICAgICAgICB0aGlzLm1vcmVUeXBlID0gJ21lZG9ibW9yZScNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnbWVkZGVtb3JlJykgew0KICAgICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TWVkT2JQZXJpb2QgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWREZWR1Y3RpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TWVkTGltaXQgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRCbmZ0TW9yZSA9IHRydWUNCiAgICAgICAgdGhpcy5tb3JlVHlwZSA9ICdtZWRkZW1vcmUnDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ21lZGxpbW1vcmUnKSB7DQogICAgICAgIHRoaXMuc2hvd01lZEZlZUJpbGwgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRPYlBlcmlvZCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZERlZHVjdGlibGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRMaW1pdCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZEJuZnRNb3JlID0gdHJ1ZQ0KICAgICAgICB0aGlzLm1vcmVUeXBlID0gJ21lZGxpbW1vcmUnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdtZWRkZW1vcmUxJyl7DQogICAgICAgIHRoaXMuc2hvd1BkQ2xtQm5mdE1vcmUgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnbWVkZGVtb3JlMScNCiAgICAgIH1lbHNlIGlmKGZsYWcgPT0gJ21lZGRlbW9yZTInKXsNCiAgICAgICAgdGhpcy5zaG93UGRDbG1CbmZ0TW9yZSA9IHRydWUNCiAgICAgICAgdGhpcy5tb3JlVHlwZSA9ICdtZWRkZW1vcmUyJw0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnbWVkZGVtb3JlMycpew0KICAgICAgICB0aGlzLnNob3dQZENsbUJuZnRNb3JlID0gdHJ1ZQ0KICAgICAgICB0aGlzLm1vcmVUeXBlID0gJ21lZGRlbW9yZTMnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0MScpew0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZTEgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDEnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0MicpIHsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDInDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0Mycpew0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZTEgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDMnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0NCcpIHsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDQnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0NScpew0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZTEgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDUnDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0NicpIHsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUgPSB0cnVlDQogICAgICAgIHRoaXMubW9yZVR5cGUgPSAnYm5mdDYnDQogICAgICB9DQogICAgfSwNCiAgICBiYWNrVG9GZWVCaWxsKGZsYWcsc2VsZWN0ZWRJdGVtTGlzdCkgew0KICAgICAgaWYgKGZsYWcgPT0gJ3BlcmlvZCcpIHsNCiAgICAgICAgdGhpcy5zaG93T2JQZXJpb2QgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gdHJ1ZQ0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdkZWR1Y3RpYmxlJykgew0KICAgICAgICB0aGlzLnNob3dEZWR1Y3RpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TWVkRmVlQmlsbCA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnbGltaXQnKSB7DQogICAgICAgIHRoaXMuc2hvd0xpbWl0ID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TWVkRmVlQmlsbCA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnYm5mdCcpIHsNCiAgICAgICAgdGhpcy5zaG93T2JQZXJpb2QgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dEZWR1Y3RpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TGltaXQgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRGZWVCaWxsID0gZmFsc2UNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnbWVkRmVlJykgew0KICAgICAgICB0aGlzLnNob3dNZWRPYlBlcmlvZCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZERlZHVjdGlibGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRMaW1pdCA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZEZlZUJpbGwgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ29ibW9yZScpIHsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dPYlBlcmlvZCA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnZGVtb3JlJykgew0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZSA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd0RlZHVjdGlibGUgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ2xpbW1vcmUnKSB7DQogICAgICAgIHRoaXMuc2hvd0JuZnRNb3JlID0gZmFsc2UNCiAgICAgICAgdGhpcy5zaG93TGltaXQgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ21lZG9ibW9yZScpIHsNCiAgICAgICAgdGhpcy5zaG93TWVkQm5mdE1vcmUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWRPYlBlcmlvZCA9IHRydWUNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZG1lZG9icGVyaW9kLmJyaW5nU2VsZWN0ZWRGZWVCaWxsKHNlbGVjdGVkSXRlbUxpc3QpDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ21lZGRlbW9yZScpIHsNCiAgICAgICAgdGhpcy5zaG93TWVkQm5mdE1vcmUgPSBmYWxzZQ0KICAgICAgICB0aGlzLnNob3dNZWREZWR1Y3RpYmxlID0gdHJ1ZQ0KICAgICAgICB0aGlzLiRyZWZzLnBkdGVtcHBkbWVkZGVkdWN0aWJsZS5icmluZ1NlbGVjdGVkRmVlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdtZWRsaW1tb3JlJykgew0KICAgICAgICB0aGlzLnNob3dNZWRCbmZ0TW9yZSA9IGZhbHNlDQogICAgICAgIHRoaXMuc2hvd01lZExpbWl0ID0gdHJ1ZQ0KICAgICAgICB0aGlzLiRyZWZzLnBkdGVtcHBkbWVkbGltaXQuYnJpbmdTZWxlY3RlZEZlZUJpbGwoc2VsZWN0ZWRJdGVtTGlzdCkNCiAgICAgIH1lbHNlIGlmKGZsYWcgPT0gJ21lZGRlbW9yZTEnKXsNCiAgICAgICAgdGhpcy5zaG93UGRDbG1CbmZ0TW9yZSA9IGZhbHNlDQogICAgICAgIHRoaXMuJHJlZnMucGR0ZW1wcGRtZWRkZWR1Y3RpYmxlLmJyaW5nU2VsZWN0ZWRQZENsbUJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnbWVkZGVtb3JlMicpew0KICAgICAgICB0aGlzLnNob3dQZENsbUJuZnRNb3JlID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZG1lZGxpbWl0LmJyaW5nU2VsZWN0ZWRQZENsbUJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnbWVkZGVtb3JlMycpew0KICAgICAgICB0aGlzLnNob3dQZENsbUJuZnRNb3JlID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZG1lZG9icGVyaW9kLmJyaW5nU2VsZWN0ZWRQZENsbUJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnYm5mdDEnKXsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUxID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZGxpbWl0LmJyaW5nU2VsZWN0ZWRQZENsbUJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnYm5mdDInKSB7DQogICAgICAgIHRoaXMuc2hvd0JuZnRNb3JlID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZGxpbWl0LmJyaW5nU2VsZWN0ZWRQZEJuZnRNb3JlQmlsbChzZWxlY3RlZEl0ZW1MaXN0KQ0KICAgICAgfWVsc2UgaWYoZmxhZyA9PSAnYm5mdDMnKXsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUxID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmcy5wZHRlbXBwZGRlZHVjdGlibGUuYnJpbmdTZWxlY3RlZFBkQ2xtQm5mdE1vcmVCaWxsKHNlbGVjdGVkSXRlbUxpc3QpDQogICAgICB9ZWxzZSBpZihmbGFnID09ICdibmZ0NCcpIHsNCiAgICAgICAgdGhpcy5zaG93Qm5mdE1vcmUgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRyZWZzLnBkdGVtcHBkZGVkdWN0aWJsZS5icmluZ1NlbGVjdGVkUGRCbmZ0TW9yZUJpbGwoc2VsZWN0ZWRJdGVtTGlzdCkNCiAgICAgIH1lbHNlIGlmKGZsYWcgPT0gJ2JuZnQ1Jyl7DQogICAgICAgIHRoaXMuc2hvd0JuZnRNb3JlMSA9IGZhbHNlDQogICAgICAgIHRoaXMuJHJlZnMucGR0ZW1wcGRvYnBlcmlvZC5icmluZ1NlbGVjdGVkUGRDbG1CbmZ0TW9yZUJpbGwoc2VsZWN0ZWRJdGVtTGlzdCkNCiAgICAgIH1lbHNlIGlmKGZsYWcgPT0gJ2JuZnQ2Jykgew0KICAgICAgICB0aGlzLnNob3dCbmZ0TW9yZSA9IGZhbHNlDQogICAgICAgIHRoaXMuJHJlZnMucGR0ZW1wcGRvYnBlcmlvZC5icmluZ1NlbGVjdGVkUGRCbmZ0TW9yZUJpbGwoc2VsZWN0ZWRJdGVtTGlzdCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbmRGZWVCaWxsRGF0YShkYXRhKSB7DQogICAgICB0aGlzLmZlZUJpbGxEYXRhID0gZGF0YQ0KICAgIH0sDQogICAgc2VuZEJuZnRDdHJsQ29kZShkYXRhKSB7DQogICAgICB0aGlzLnBkQm5mdEN0cmxDb2RlID0gZGF0YQ0KICAgIH0sDQogICAgYXN5bmMgZmluZFBkdGVtcFBkQ2xtQm5mdEJ5UHJvZHVjdElkKCkgew0KICAgICAgaWYgKHRoaXMucGRCbmZ0LmlkKSB7DQogICAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgICAgcHJvZHVjdElkOiB0aGlzLnBkdGVtcFBkSW5mby5pZCwNCiAgICAgICAgICBwZEJuZnRJZDogdGhpcy5wZEJuZnQuaWQNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBmaW5kUGR0ZW1wUGRDbG1CbmZ0QnlQcm9kdWN0SWQocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5wZENsbUJuZnREYXRhID0gcmVzLmRhdGENCiAgICAgICAgICB0aGlzLmNsbUJuZnRPcHRpb25zID0gW10NCiAgICAgICAgICB0aGlzLnBkQ2xtQm5mdERhdGEuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgICAgIHRoaXMuY2xtQm5mdE9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgIHZhbHVlOiBkYXRhLnBkQ2xtQm5mdENvZGUsDQogICAgICAgICAgICAgIGxhYmVsOiBkYXRhLnBkQ2xtQm5mdENvZGUgKyAiOiIgKyBkYXRhLnBkQ2xtQm5mdE5hbWUNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICAvL3RoaXMuTWl1dGlTZWxlY3RIYW5kbGUodGhpcy5wZENsbUJuZnREYXRhKQ0KICAgICAgICAgIC8vIHRoaXMucGRDbG1CbmZ0RGF0YS5mb3JFYWNoKGRhdGEgPT4gew0KICAgICAgICAgIC8vICAgZGF0YS5wZENsbUJuZnRUeXBlID0gZGF0YS5wZENsbUJuZnRUeXBlLnNsaWNlKDAsIDEpDQogICAgICAgICAgLy8gfSkNCiAgICAgICAgICB0aGlzLmNvbmZpZ3MgPSBbXQ0KICAgICAgICAgIGlmICh0aGlzLnBkQ2xtQm5mdERhdGEubGVuZ3RoID4gMTApIHsNCiAgICAgICAgICAgIHRoaXMuc2hvd01vcmUgPSB0cnVlDQogICAgICAgICAgICB0aGlzLnNob3dCYWNrID0gZmFsc2UNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5jb25maWdzLCBpLCB0aGlzLnBkQ2xtQm5mdERhdGFbaV0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuY29uZmlncyA9IHJlcy5kYXRhDQogICAgICAgICAgICB0aGlzLnNob3dNb3JlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuc2hvd0JhY2sgPSBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIC8v6I635Y+W6LWU5LuY5piO57uG5pyA5aSn55qE6LWU5LuY6aG65bqPDQogICAgICAgIGdldENsbUJuZnRNYXhPcmRlcih0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEJuZnRJZCI6IHRoaXMucGRCbmZ0LmlkfSkpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBpZih0aGlzLnJhZGlvMSl7DQogICAgICAgICAgICB0aGlzLnBkQ2xtQm5mdE9yZGVyID0gcmVzLmRhdGENCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0T3JkZXIgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIHRoaXMucGRDbG1CbmZ0T3JkZXIgPSB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdE9yZGVyDQogICAgICAgICAgfQ0KDQogICAgICAgIH0pOw0KICAgIH0sDQogICAgc2VsZWN0T25lQm5mdENvZGUodmFsKSB7DQogICAgICBmb3IgKGNvbnN0IGJuZnRDb2RlIG9mIHRoaXMucGRDbG1CbmZ0RGF0YSkgew0KICAgICAgICBpZiAoYm5mdENvZGUucGRDbG1CbmZ0Q29kZSA9PSB2YWwpIHsNCiAgICAgICAgICB0aGlzLmNvbmZpZ3NGb3JtID0gYm5mdENvZGUNCiAgICAgICAgICB0aGlzLmNvbmZpZ3NGb3JtLmlkID0gdW5kZWZpbmVkOw0KICAgICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0T3JkZXIgPSB0aGlzLnBkQ2xtQm5mdE9yZGVyDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgTWl1dGlTZWxlY3RIYW5kbGUoZGF0YSkgew0KICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykgew0KICAgICAgICAgIGRhdGFbal0ucGREaXNUeXBlID0gW10NCiAgICAgICAgICBkYXRhW2pdLnBkRGlzQ29kZSA9IFtdDQogICAgICAgICAgaWYgKGRhdGFbal0ucGR0ZW1wUGRDbG1EaXNSZWxhLmxlbmd0aCkgew0KICAgICAgICAgICAgbGV0IHBkQ2xtRGlzUmVsYXMgPSBkYXRhW2pdLnBkdGVtcFBkQ2xtRGlzUmVsYQ0KICAgICAgICAgICAgdGhpcy5wZERpc0VkaXRpb24gPSBwZENsbURpc1JlbGFzWzBdLnBkRGlzRWRpdGlvbg0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZENsbURpc1JlbGFzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgIGlmIChwZENsbURpc1JlbGFzW2ldLnBkQm5mdERpc1JlbGEgPT0gIjEiKSB7DQogICAgICAgICAgICAgICAgZGF0YVtqXS5wZERpc1R5cGUucHVzaChbDQogICAgICAgICAgICAgICAgICBwZENsbURpc1JlbGFzW2ldLnBkRGlzVHlwZSwNCiAgICAgICAgICAgICAgICAgIHBkQ2xtRGlzUmVsYXNbaV0ucGREaXNEZXRhaWxUeXBlDQogICAgICAgICAgICAgICAgXSkNCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZENsbURpc1JlbGFzW2ldLnBkQm5mdERpc1JlbGEgPT0gIjIiKSB7DQogICAgICAgICAgICAgICAgZGF0YVtqXS5wZERpc0NvZGUucHVzaChbDQogICAgICAgICAgICAgICAgICBwZENsbURpc1JlbGFzW2ldLnBkRGlzR3JvdXBDb2RlLA0KICAgICAgICAgICAgICAgICAgcGRDbG1EaXNSZWxhc1tpXS5kaXNJbmZvSWQgKyAiOiIgKyBwZENsbURpc1JlbGFzW2ldLnBkRGlzQ29kZQ0KICAgICAgICAgICAgICAgIF0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIFNlbGVjdE1pdXRpU2VsZWN0T3B0aW9ucygpIHsNCiAgICAgIGxldCBiYWNrDQogICAgICBpZiAodGhpcy5kaXNlYXNlQ2xhc3NpZmljYXRpb24gPT0gIlAiKSB7DQogICAgICAgIGJhY2sgPSBhd2FpdCBTZWxlY3RDYXNjYWRlck9wdGlvbnMoIjAwMDAwMCIpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBiYWNrID0gYXdhaXQgU2VsZWN0Q2FzY2FkZXJPcHRpb25zKHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZSkNCiAgICAgIH0NCiAgICAgIGJhY2sudGhlbihyZXMgPT4gew0KICAgICAgICBsZXQgcGRnZW5sRGlzQ2xhc3NlcyA9IHJlcy5kYXRhDQogICAgICAgIHBkZ2VubERpc0NsYXNzZXMuZm9yRWFjaChwZGdlbmxEaXNDbGFzcyA9PiB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgcGRnZW5sRGlzQ2xhc3MudXBEaXNUeXBlQ29kZSA9PSAiIiB8fA0KICAgICAgICAgICAgcGRnZW5sRGlzQ2xhc3MudXBEaXNUeXBlQ29kZSA9PSBudWxsDQogICAgICAgICAgKSB7DQogICAgICAgICAgICB0aGlzLnBkRGlzVHlwZU9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgIHZhbHVlOiBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlQ29kZSwNCiAgICAgICAgICAgICAgbGFiZWw6DQogICAgICAgICAgICAgICAgcGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUgKyAiOiIgKyBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlTmFtZSwNCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgcGRnZW5sRGlzQ2xhc3Nlcy5mb3JFYWNoKHBkZ2VubERpc0NsYXNzID0+IHsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGREaXNUeXBlT3B0aW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlQ29kZSAhPQ0KICAgICAgICAgICAgICB0aGlzLmdldENhcHRpb24odGhpcy5wZERpc1R5cGVPcHRpb25zW2ldLmxhYmVsLCAwKSAmJg0KICAgICAgICAgICAgICBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlQ29kZS5pbmRleE9mKA0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnBkRGlzVHlwZU9wdGlvbnNbaV0ubGFiZWwsIDApDQogICAgICAgICAgICAgICkgIT0gLTENCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICB0aGlzLnBkRGlzVHlwZU9wdGlvbnNbaV0uY2hpbGRyZW4ucHVzaCh7DQogICAgICAgICAgICAgICAgdmFsdWU6IHBkZ2VubERpc0NsYXNzLmRpc1R5cGVDb2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOg0KICAgICAgICAgICAgICAgICAgcGRnZW5sRGlzQ2xhc3MuZGlzVHlwZUNvZGUgKyAiOiIgKyBwZGdlbmxEaXNDbGFzcy5kaXNUeXBlTmFtZQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgU2VsZWN0TXV0aVNlbGVjdE9wdGlvbnMoKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5wZGdlbmxEaXNJbmZvcyA9IHJlcy5kYXRhDQogICAgICAgICAgbGV0IHBkZ2VubERpc0luZm9zID0gcmVzLmRhdGENCiAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlDQogICAgICAgICAgcGRnZW5sRGlzSW5mb3MuZm9yRWFjaChwZGdlbmxEaXNJbmZvID0+IHsNCiAgICAgICAgICAgIGZsYWcgPSBmYWxzZQ0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBkRGlzQ29kZU9wdGlvbnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgIHRoaXMucGREaXNDb2RlT3B0aW9uc1tpXS52YWx1ZSA9PSBwZGdlbmxEaXNJbmZvLmRpc0dyb3VwQ29kZQ0KICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZmxhZyA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICB0aGlzLnBkRGlzQ29kZU9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgICAgdmFsdWU6IHBkZ2VubERpc0luZm8uZGlzR3JvdXBDb2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOg0KICAgICAgICAgICAgICAgICAgcGRnZW5sRGlzSW5mby5kaXNHcm91cENvZGUgKyAiOiIgKyBwZGdlbmxEaXNJbmZvLmRpc0dyb3VwRGVzYywNCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIHBkZ2VubERpc0luZm9zLmZvckVhY2gocGRnZW5sRGlzSW5mbyA9PiB7DQogICAgICAgICAgICB0aGlzLnBkRGlzQ29kZU9wdGlvbnMuZm9yRWFjaChwZERpc0NvZGVPcHRpb24gPT4gew0KICAgICAgICAgICAgICBpZiAocGRnZW5sRGlzSW5mby5kaXNHcm91cENvZGUgPT0gcGREaXNDb2RlT3B0aW9uLnZhbHVlKSB7DQogICAgICAgICAgICAgICAgcGREaXNDb2RlT3B0aW9uLmNoaWxkcmVuLnB1c2goew0KICAgICAgICAgICAgICAgICAgdmFsdWU6IHBkZ2VubERpc0luZm8uaWQgKyAiOiIgKyBwZGdlbmxEaXNJbmZvLmRpc0NvZGUsDQogICAgICAgICAgICAgICAgICBsYWJlbDogcGRnZW5sRGlzSW5mby5kaXNDb2RlICsgIjoiICsgcGRnZW5sRGlzSW5mby5kaXNOYW1lDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGlzU2hvd01vcmUoKSB7DQogICAgICB0aGlzLnNob3dNb3JlID0gZmFsc2UNCiAgICAgIHRoaXMuc2hvd0JhY2sgPSB0cnVlDQogICAgICB0aGlzLmNvbmZpZ3MgPSBbXQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBkQ2xtQm5mdERhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29uZmlncywgaSwgdGhpcy5wZENsbUJuZnREYXRhW2ldKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaXNTaG93QmFjaygpIHsNCiAgICAgIHRoaXMuc2hvd01vcmUgPSB0cnVlDQogICAgICB0aGlzLnNob3dCYWNrID0gZmFsc2UNCiAgICAgIHRoaXMuY29uZmlncyA9IFtdDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29uZmlncywgaSwgdGhpcy5wZENsbUJuZnREYXRhW2ldKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsNCiAgICAgIGlmIChjb2x1bW4pIHsNCiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bInByb3BlcnR5Il0NCiAgICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlDQogICAgICB9DQogICAgfSwNCiAgICBjaG9vc2VvbmUxKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMucmFkaW8xKSB7DQogICAgICAgICAgdGhpcy5yYWRpbzEgPSBudWxsDQogICAgICAgICAgdGhpcy4kcmVmcy5jb25maWdzVGFibGUuc2V0Q3VycmVudFJvdygpDQogICAgICAgICAgdGhpcy5jbGVhbkNvbmZpZ3NGb3JtKCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnJhZGlvMSA9IHJvdy5pZA0KICAgICAgICAgIHRoaXMucGRnZW5sQ29uZmlncyA9IFtdDQogICAgICAgICAgdGhpcy5jb25maWdzRm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSkNCiAgICAgICAgICB0aGlzLmFsbFBkdGVtcFBkRGJscyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93LnBkdGVtcFBkRGJscykpDQogICAgICAgICAgdGhpcy5wZGdlbmxDb25maWdzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cucGR0ZW1wUGREYmxzKSkNCiAgICAgICAgICBsZXQgbWVkQmlsbERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdy5wZHRlbXBQZE1lZEZlZUJpbGxzKSkNCiAgICAgICAgICB0aGlzLm1lZFRhYmxlID0gbWVkQmlsbERhdGENCiAgICAgICAgICBpZiAodGhpcy5wZGdlbmxDb25maWdzLmxlbmd0aCkgew0KICAgICAgICAgICAgdGhpcy5jb25maWdzRm9ybS5kYmxUeXBlID0gdGhpcy5wZGdlbmxDb25maWdzWzBdLnBkRGJsVHlwZQ0KICAgICAgICAgICAgdGhpcy5kYmxUeXBlQ2hhbmdlKHRoaXMuY29uZmlnc0Zvcm0uZGJsVHlwZSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5tZWRCaWxsQ29uZmlncyA9IFtdDQogICAgICAgICAgaWYgKG1lZEJpbGxEYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgdGhpcy5jb25maWdzRm9ybS5tZWRCaWxsVHlwZSA9IG1lZEJpbGxEYXRhWzBdLnBkTWVkQmlsbFR5cGUNCiAgICAgICAgICAgIHRoaXMubWVkQmlsbFR5cGVDaGFuZ2UodGhpcy5jb25maWdzRm9ybS5tZWRCaWxsVHlwZSkNCiAgICAgICAgICAgIG1lZEJpbGxEYXRhLmZvckVhY2gocGR0ZW1wUGRNZWRGZWVCaWxsID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5tZWRCaWxsQ29uZmlncy5wdXNoKHsNCiAgICAgICAgICAgICAgICBwZE1lZEJpbGxJZDogcGR0ZW1wUGRNZWRGZWVCaWxsLnBkTWVkQmlsbElkLA0KICAgICAgICAgICAgICAgIHBkTWVkRmVlQmlsbENvZGU6IHBkdGVtcFBkTWVkRmVlQmlsbC5wZE1lZEZlZUNvZGUsDQogICAgICAgICAgICAgICAgcGRNZWRGZWVCaWxsTmFtZTogcGR0ZW1wUGRNZWRGZWVCaWxsLnBkTWVkRmVlTmFtZSwNCiAgICAgICAgICAgICAgICBwZE1lZEZlZUNhbE1vZGU6IHBkdGVtcFBkTWVkRmVlQmlsbC5wZE1lZEZlZUNhbE1vZGUsDQogICAgICAgICAgICAgICAgcGRNZWRGZWVEZWZWYWw6IHBkdGVtcFBkTWVkRmVlQmlsbC5wZE1lZEZlZURlZlZhbCwNCiAgICAgICAgICAgICAgICBwZE1lZENhbGNJZDogcGR0ZW1wUGRNZWRGZWVCaWxsLnBkQ2FsY0lkDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2hvb3Nlb25lMihyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMucmFkaW8yKSB7DQogICAgICAgICAgdGhpcy5yYWRpbzIgPSBudWxsDQogICAgICAgICAgdGhpcy4kcmVmcy5leHByZXNzaW9uVGFibGUuc2V0Q3VycmVudFJvdygpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5yYWRpbzIgPSByb3cuaWQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2hvb3Nlb25lMyhyb3csIGNvbHVtbiwgZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09IHRoaXMucmFkaW8zKSB7DQogICAgICAgICAgdGhpcy5yYWRpbzMgPSBudWxsDQogICAgICAgICAgdGhpcy4kcmVmcy5leHByZXNzaW9uVGFibGUuc2V0Q3VycmVudFJvdygpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5yYWRpbzMgPSByb3cuaWQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgcGRDbG1CbmZ0VHlwZTJDaGFuZ2Uocm93KSB7DQogICAgICBzd2l0Y2ggKHJvdykgew0KICAgICAgICBjYXNlICIxIjoNCiAgICAgICAgICB0aGlzLnBkRHV0eVR5cGVGaWx0ZXJzID0gIjEkMDEwMCQ5OTAwIg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgIjIiOg0KICAgICAgICAgIHRoaXMucGREdXR5VHlwZUZpbHRlcnMgPSAiMSQwMjAwJDk5MDAiDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiMyI6DQogICAgICAgICAgdGhpcy5wZER1dHlUeXBlRmlsdGVycyA9ICIxJDAzMDAkMTIwMCQ5OTAwIg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgIjQiOg0KICAgICAgICAgIHRoaXMucGREdXR5VHlwZUZpbHRlcnMgPSAiMSQwNDAwJDk5MDAiDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiNSI6DQogICAgICAgICAgdGhpcy5wZER1dHlUeXBlRmlsdGVycyA9ICIxJDA1MDAkOTkwMCINCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICI2IjoNCiAgICAgICAgICB0aGlzLnBkRHV0eVR5cGVGaWx0ZXJzID0gIjEkMDYwMCQ5OTAwIg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgIjciOg0KICAgICAgICAgIHRoaXMucGREdXR5VHlwZUZpbHRlcnMgPQ0KICAgICAgICAgICAgIjEkMDcwMCQwNzAxJDA3MDIkMDcwMyQwNzA0JDA3MDUkMDcwNiQwNzA3JDA3MDgkMDcwOSQwNzEwJDA3MTEkMDc5OSQ5OTAwIg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgIjgiOg0KICAgICAgICAgIHRoaXMucGREdXR5VHlwZUZpbHRlcnMgPSAiMSQwODAwJDk5MDAiDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAiOSI6DQogICAgICAgICAgdGhpcy5wZER1dHlUeXBlRmlsdGVycyA9ICIxJDAzMDAkOTkwMCINCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICIxMCI6DQogICAgICAgICAgdGhpcy5wZER1dHlUeXBlRmlsdGVycyA9ICIxJDEyMDAkMTMwMCQ5OTAwIg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgIjExIjoNCiAgICAgICAgICB0aGlzLnBkRHV0eVR5cGVGaWx0ZXJzID0gIjEkOTkwMCINCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICIxMiI6DQogICAgICAgICAgdGhpcy5wZER1dHlUeXBlRmlsdGVycyA9ICIxJDAzMDAkOTkwMCINCiAgICAgICAgICBicmVhaw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHRoaXMucGREdXR5VHlwZUZpbHRlcnMgPSAiIg0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfSwNCiAgICBzYXZlYm5mdEZvcm0oKSB7DQogICAgICB0aGlzLiRyZWZzWyJibmZ0Rm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgaWYgKHRoaXMuYm5mdEZvcm0ucGRCbmZ0T3JkZXIgIT0gdGhpcy5jb25maWdMZW5ndGgpIHsNCiAgICAgICAgICAgIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoJ3BkTm9NZWRpY2FsLm1lc3NhZ2UucGRCbmZ0T3JkZXJFcnJvcicpICsgdGhpcy5jb25maWdMZW5ndGgpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IFBkdGVtcFBkQm5mdCA9IHsNCiAgICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUGRJbmZvLnBkVmVySWQsDQogICAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQZEluZm8uaWQsDQogICAgICAgICAgICBwZENvZGU6IHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZSwNCiAgICAgICAgICAgIHBkTmFtZTogdGhpcy5wZHRlbXBQZEluZm8ucGROYW1lLA0KICAgICAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy50eXBlUmVnaW9uLA0KICAgICAgICAgICAgcGRCbmZ0T3JkZXI6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0T3JkZXIsDQogICAgICAgICAgICBwZEJuZnROYW1lOiB0aGlzLmJuZnRGb3JtLnBkQm5mdE5hbWUsDQogICAgICAgICAgICBwZEJuZnRUeXBlOiAiQyIsDQogICAgICAgICAgICBwZEJuZnREZXRhaWxUeXBlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdERldGFpbFR5cGUsDQogICAgICAgICAgICBwZEFtbnRacmVvRmxhZzogdGhpcy5ibmZ0Rm9ybS5wZEFtbnRacmVvRmxhZywNCiAgICAgICAgICAgIHBkQm5mdFN0YXJ0RGF0ZVJ1bGU6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0U3RhcnREYXRlUnVsZSwNCiAgICAgICAgICAgIHBkQm5mdFN0YXJ0RGF0ZU1vZGU6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0U3RhcnREYXRlTW9kZSwNCiAgICAgICAgICAgIHBkQm5mdFN0YXJ0UGVyaW9kOiB0aGlzLmJuZnRGb3JtLnBkQm5mdFN0YXJ0UGVyaW9kLA0KICAgICAgICAgICAgcGRCbmZ0U3RhcnRQZXJpb2RVbml0OiB0aGlzLmJuZnRGb3JtLnBkQm5mdFN0YXJ0UGVyaW9kVW5pdCwNCiAgICAgICAgICAgIHBkQm5mdEVuZERhdGVSdWxlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdEVuZERhdGVSdWxlLA0KICAgICAgICAgICAgcGRCbmZ0RW5kRGF0ZU1vZGU6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0RW5kRGF0ZU1vZGUsDQogICAgICAgICAgICBwZEJuZnRFbmRQZXJpb2Q6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0RW5kUGVyaW9kLA0KICAgICAgICAgICAgcGRCbmZ0RW5kUGVyaW9kVW5pdDogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRFbmRQZXJpb2RVbml0LA0KICAgICAgICAgICAgcGRPcHRGbGFnOiB0aGlzLmJuZnRGb3JtLnBkT3B0RmxhZywNCiAgICAgICAgICAgIHBkUGVyaW9kUmVsYTp0aGlzLmJuZnRGb3JtLnBkUGVyaW9kUmVsYQ0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgYm5mdEdldFR5cGVBdHJzSW5mbyA9IHsNCiAgICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUGRJbmZvLnBkVmVySWQsDQogICAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgICBwZFR5cGU6ICIxIiwNCiAgICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBkSW5mby5pZCwNCiAgICAgICAgICAgIHBkQ29kZTogdGhpcy5wZHRlbXBQZEluZm8ucGRDb2RlLA0KICAgICAgICAgICAgcGRBc2NMZXZlbDogIkJuZnRfQyIsDQogICAgICAgICAgICBwZEF0cnNUeXBlOiAiMSIsDQogICAgICAgICAgICBwZEF0cnNDb2RlOiAicGRzYm5mdGdldHR5cGUiLA0KICAgICAgICAgICAgcGRBdHJzTmFtZTogIumihuWPluaWueW8jyIsDQogICAgICAgICAgICBwZEF0cnNWYWw6IHRoaXMuYm5mdEZvcm0ucGRzYm5mdGdldHR5cGUNCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGJuZnREYXRhID0gew0KICAgICAgICAgICAgUGR0ZW1wUGRCbmZ0OiBQZHRlbXBQZEJuZnQsDQogICAgICAgICAgICBibmZ0R2V0VHlwZUF0cnNJbmZvOiBibmZ0R2V0VHlwZUF0cnNJbmZvDQogICAgICAgICAgfQ0KICAgICAgICAgIGFkZFBkdGVtcFBkQm5mdChibmZ0RGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsICJyZWxvYWQxIixyZXMuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoaWxkRm4iLCB0cnVlKQ0KICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB1cGRhdGVibmZ0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImJuZnRGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBsZXQgUGR0ZW1wUGRCbmZ0ID0gew0KICAgICAgICAgICAgaWQ6IHRoaXMuYm5mdEZvcm0uaWQsDQogICAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBkSW5mby5wZFZlcklkLA0KICAgICAgICAgICAgb3BlcmF0b3I6IHRoaXMucGR0ZW1wUGRJbmZvLm9wZXJhdG9yLA0KICAgICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUGRJbmZvLmlkLA0KICAgICAgICAgICAgcGRDb2RlOiB0aGlzLnBkdGVtcFBkSW5mby5wZENvZGUsDQogICAgICAgICAgICBwZE5hbWU6IHRoaXMucGR0ZW1wUGRJbmZvLnBkTmFtZSwNCiAgICAgICAgICAgIHBkQm5mdE9yZGVyOiB0aGlzLmJuZnRGb3JtLnBkQm5mdE9yZGVyLA0KICAgICAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDb2RlLA0KICAgICAgICAgICAgcGRCbmZ0TmFtZTogdGhpcy5ibmZ0Rm9ybS5wZEJuZnROYW1lLA0KICAgICAgICAgICAgcGRCbmZ0VHlwZTogIkMiLA0KICAgICAgICAgICAgcGRCbmZ0RGV0YWlsVHlwZTogdGhpcy5ibmZ0Rm9ybS5wZEJuZnREZXRhaWxUeXBlLA0KICAgICAgICAgICAgcGRBbW50WnJlb0ZsYWc6IHRoaXMuYm5mdEZvcm0ucGRBbW50WnJlb0ZsYWcsDQogICAgICAgICAgICBwZEJuZnRTdGFydERhdGVSdWxlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdFN0YXJ0RGF0ZVJ1bGUsDQogICAgICAgICAgICBwZEJuZnRTdGFydERhdGVNb2RlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdFN0YXJ0RGF0ZU1vZGUsDQogICAgICAgICAgICBwZEJuZnRTdGFydFBlcmlvZDogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRTdGFydFBlcmlvZCwNCiAgICAgICAgICAgIHBkQm5mdFN0YXJ0UGVyaW9kVW5pdDogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRTdGFydFBlcmlvZFVuaXQsDQogICAgICAgICAgICBwZEJuZnRFbmREYXRlUnVsZTogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRFbmREYXRlUnVsZSwNCiAgICAgICAgICAgIHBkQm5mdEVuZERhdGVNb2RlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdEVuZERhdGVNb2RlLA0KICAgICAgICAgICAgcGRCbmZ0RW5kUGVyaW9kOiB0aGlzLmJuZnRGb3JtLnBkQm5mdEVuZFBlcmlvZCwNCiAgICAgICAgICAgIHBkQm5mdEVuZFBlcmlvZFVuaXQ6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0RW5kUGVyaW9kVW5pdCwNCiAgICAgICAgICAgIHBkT3B0RmxhZzogdGhpcy5ibmZ0Rm9ybS5wZE9wdEZsYWcsDQogICAgICAgICAgICBwZFBlcmlvZFJlbGE6dGhpcy5ibmZ0Rm9ybS5wZFBlcmlvZFJlbGEsDQogICAgICAgICAgfQ0KICAgICAgICAgIGxldCBibmZ0R2V0VHlwZUF0cnNJbmZvID0gew0KICAgICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQZEluZm8ucGRWZXJJZCwNCiAgICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBkSW5mby5vcGVyYXRvciwNCiAgICAgICAgICAgIHBkVHlwZTogIjEiLA0KICAgICAgICAgICAgcGRJbmZvSWQ6IHRoaXMucGR0ZW1wUGRJbmZvLmlkLA0KICAgICAgICAgICAgcGRDb2RlOiB0aGlzLnBkdGVtcFBkSW5mby5wZENvZGUsDQogICAgICAgICAgICBwZEFzY0xldmVsOiAiQm5mdF9DIiwNCiAgICAgICAgICAgIHBkQXRyc1R5cGU6ICIxIiwNCiAgICAgICAgICAgIHBkQXNjTGV2ZWxDb2RlOiB0aGlzLmJuZnRGb3JtLnBkQm5mdENvZGUsDQogICAgICAgICAgICBwZEF0cnNDb2RlOiAicGRzYm5mdGdldHR5cGUiLA0KICAgICAgICAgICAgcGRBdHJzTmFtZTogIumihuWPluaWueW8jyIsDQogICAgICAgICAgICBwZEF0cnNWYWw6IHRoaXMuYm5mdEZvcm0ucGRzYm5mdGdldHR5cGUNCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGJuZnREYXRhID0gew0KICAgICAgICAgICAgUGR0ZW1wUGRCbmZ0OiBQZHRlbXBQZEJuZnQsDQogICAgICAgICAgICBibmZ0R2V0VHlwZUF0cnNJbmZvOiBibmZ0R2V0VHlwZUF0cnNJbmZvDQogICAgICAgICAgfQ0KICAgICAgICAgIHVwZGF0ZVBkdGVtcFBkQm5mdChibmZ0RGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsICJyZWxvYWQiKQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hpbGRGbiIsIHRydWUpDQogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzLm1lc3NhZ2UpDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZWJuZnRGb3JtKCkgew0KICAgICAgbGV0IFBkdGVtcFBkQm5mdCA9IHsNCiAgICAgICAgaWQ6IHRoaXMuYm5mdEZvcm0uaWQsDQogICAgICAgIHBkQm5mdFR5cGU6IHRoaXMuYm5mdEZvcm0ucGRCbmZ0VHlwZQ0KICAgICAgfQ0KICAgICAgbGV0IGJuZnRHZXRUeXBlQXRyc0luZm8gPSB7DQogICAgICAgIHBkQXNjTGV2ZWw6ICJCbmZ0X0MiLA0KICAgICAgICBwZEFzY0xldmVsQ29kZTogdGhpcy5ibmZ0Rm9ybS5wZEJuZnRDb2RlLA0KICAgICAgICBwZEF0cnNDb2RlOiAicGRzYm5mdGdldHR5cGUiDQogICAgICB9DQogICAgICBsZXQgYm5mdERhdGEgPSB7DQogICAgICAgIFBkdGVtcFBkQm5mdDogUGR0ZW1wUGRCbmZ0LA0KICAgICAgICBibmZ0R2V0VHlwZUF0cnNJbmZvOiBibmZ0R2V0VHlwZUF0cnNJbmZvLA0KICAgICAgfQ0KICAgICAgZGVsZXRlUGR0ZW1wUGRCbmZ0KGJuZnREYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuJGVtaXQoImNoaWxkRm4iLCAicmVsb2FkIikNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKQ0KICAgICAgICB0aGlzLmZpbmRQZHRlbXBQZENsbUJuZnRCeVByb2R1Y3RJZCgpDQogICAgICAgIHRoaXMuY2xlYW5ibmZ0Rm9ybSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgY2xlYW5ibmZ0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbJ2JuZnRGb3JtJ10ucmVzZXRGaWVsZHMoKQ0KICAgICAgdGhpcy5ibmZ0Rm9ybS5wZEJuZnRTdGFydFBlcmlvZFVuaXQgPSAiWSINCiAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0RW5kUGVyaW9kVW5pdCA9ICJZIg0KICAgICAgdGhpcy5ibmZ0Rm9ybS5pZCA9IG51bGwNCiAgICAgIHRoaXMuYm5mdEZvcm0ucGRCbmZ0T3JkZXIgPSB0aGlzLmNvbmZpZ0xlbmd0aA0KICAgICAgLy/lj5bmtojkuIrkuIDpobXpnaLpgInkuK0NCiAgICAgIGlmKHRoaXMuYWN0aXZlTmFtZT09PSdwZHRlbXBwZGNsbWJuZnQnKXsNCiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlRGlhbG9nVmlzaWJsZV9yYWRpb1NlbGVjdCcsIG51bGwpDQogICAgICB9DQogICAgfSwNCiAgICBjaGFuZ0Rpc1R5cGUoZmxhZykgew0KICAgICAgaWYgKGZsYWcgPT0gIlkiKSB7DQogICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGREaXNUeXBlID0gW10NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGREaXNDb2RlID0gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGZpbmRUeXBlUmVnaW9uKCkgew0KICAgICAgYXdhaXQgcGR0ZW1wUGRDbHNMYWJMaXN0KHRoaXMucGR0ZW1wUGRJbmZvLmlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0ucGRDbHNUeXBlID09IDEpIHsNCiAgICAgICAgICAgIHRoaXMudHlwZVJlZ2lvbiA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMxDQogICAgICAgICAgICB0aGlzLmRpc2Vhc2VDbGFzc2lmaWNhdGlvbiA9IHJlc3BvbnNlLmRhdGFbaV0ucGRDbHMxNQ0KICAgICAgICAgICAgLy90aGlzLlNlbGVjdE1pdXRpU2VsZWN0T3B0aW9ucygpDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhW2ldLnBkQ2xzVHlwZSA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLnBkRXhwdEZsYWcgPSByZXNwb25zZS5kYXRhW2ldLnBkQ2xzOQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRibFR5cGVDaGFuZ2Uocm93KSB7DQogICAgICBpZiAocm93KSB7DQogICAgICAgIHNlbGVjdERibEdyYWRlQnlDb2RlKHJvdykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBwZGdlbmxEYmxHcmFkZXMgPSByZXMuZGF0YQ0KICAgICAgICAgIHRoaXMucGREYmxHcmFkZU9wdGlvbnMgPSBbXQ0KICAgICAgICAgIHBkZ2VubERibEdyYWRlcy5mb3JFYWNoKHBkZ2VubERibEdyYWRlID0+IHsNCiAgICAgICAgICAgIGxldCBmbGFnID0gZmFsc2UNCiAgICAgICAgICAgIGlmICh0aGlzLnBkRGJsR3JhZGVPcHRpb25zLmxlbmd0aCkgew0KICAgICAgICAgICAgICB0aGlzLnBkRGJsR3JhZGVPcHRpb25zLmZvckVhY2gocGREYmxHcmFkZU9wdGlvbiA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHBkRGJsR3JhZGVPcHRpb24udmFsdWUgPT0gcGRnZW5sRGJsR3JhZGUuZGJsR3JkQ29kZSkgew0KICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZmxhZyA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICB0aGlzLnBkRGJsR3JhZGVPcHRpb25zLnB1c2goew0KICAgICAgICAgICAgICAgIHZhbHVlOiBwZGdlbmxEYmxHcmFkZS5kYmxHcmRDb2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOg0KICAgICAgICAgICAgICAgICAgcGRnZW5sRGJsR3JhZGUuZGJsR3JkQ29kZSArICI6IiArIHBkZ2VubERibEdyYWRlLmRibEdyZE5hbWUNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgdGhpcy5kYmxHcmRSYXRpb3MucHVzaCh7DQogICAgICAgICAgICAgICAga2V5OiBwZGdlbmxEYmxHcmFkZS5kYmxHcmRDb2RlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiBwZGdlbmxEYmxHcmFkZS5kYmxHcmRSYXRpbw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wZGdlbmxDb25maWdzID0gW10NCiAgICAgICAgICBpZiAodGhpcy5hbGxQZHRlbXBQZERibHMubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmFsbFBkdGVtcFBkRGJscy5mb3JFYWNoKFBkdGVtcFBkRGJsID0+IHsNCiAgICAgICAgICAgICAgaWYgKFBkdGVtcFBkRGJsLnBkRGJsVHlwZSA9PSByb3cpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnBkZ2VubENvbmZpZ3MucHVzaCgNCiAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGR0ZW1wUGREYmwpKQ0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnBkRGJsR3JhZGVPcHRpb25zID0gW10NCiAgICAgICAgdGhpcy5wZGdlbmxDb25maWdzID0gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIHNhdmVDb25maWdzRm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImNvbmZpZ3NGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAvLyBsZXQgcGRDbG1CbmZ0VHlwZSA9DQogICAgICAgICAgLy8gICB0aGlzLnBkQm5mdC5wZEJuZnREZXRhaWxUeXBlLmxlbmd0aCArDQogICAgICAgICAgLy8gICB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdFR5cGUubGVuZ3RoID09DQogICAgICAgICAgLy8gICAyDQogICAgICAgICAgLy8gICAgID8gdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRUeXBlICsgIjAiICsgdGhpcy5wZEJuZnQucGRCbmZ0RGV0YWlsVHlwZQ0KICAgICAgICAgIC8vICAgICA6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0VHlwZSArIHRoaXMucGRCbmZ0LnBkQm5mdERldGFpbFR5cGUNCiAgICAgICAgICBpZighdGhpcy5jb25maWdzRm9ybS5wZENsbVplcm9GbGFnKXsNCiAgICAgICAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1aZXJvRmxhZyA9ICdOJw0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgUGR0ZW1wUGRDbG1CbmZ0ID0gew0KICAgICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQZEluZm8ucGRWZXJJZCwNCiAgICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBkSW5mby5vcGVyYXRvciwNCiAgICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBkSW5mby5pZCwNCiAgICAgICAgICAgIHBkQ29kZTogdGhpcy5wZHRlbXBQZEluZm8ucGRDb2RlLA0KICAgICAgICAgICAgcGROYW1lOiB0aGlzLnBkdGVtcFBkSW5mby5wZE5hbWUsDQogICAgICAgICAgICBwZEJuZnRJZDogdGhpcy5wZEJuZnQuaWQsDQogICAgICAgICAgICBwZEJuZnRDb2RlOiB0aGlzLnBkQm5mdC5wZEJuZnRDb2RlLA0KICAgICAgICAgICAgcGRDbG1CbmZ0Q29kZTogdGhpcy50eXBlUmVnaW9uLA0KICAgICAgICAgICAgcGRDbG1CbmZ0T3JkZXI6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0T3JkZXIsDQogICAgICAgICAgICBwZENsbUJuZnROYW1lOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdE5hbWUsDQogICAgICAgICAgICBwZENsbUJuZnRUeXBlOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdFR5cGUsDQogICAgICAgICAgICBwZENsbUJuZnRBcmVhOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdEFyZWEsDQogICAgICAgICAgICBwZENsbVplcm9GbGFnOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtWmVyb0ZsYWcsDQogICAgICAgICAgICBwZENsbUJuZnRBbXRDYWxUeXBlOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdEFtdENhbFR5cGUsDQogICAgICAgICAgICBwZENsbU1veUFtdENhbE10aGQ6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1Nb3lBbXRDYWxNdGhkLA0KICAgICAgICAgICAgcGRDbG1GaXhCbmZ0QW10OiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtRml4Qm5mdEFtdCwNCiAgICAgICAgICAgIHBkQ2xtUmF0aW86IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1SYXRpbywNCiAgICAgICAgICAgIHBkTWVkSG9zcFR5cGU6dGhpcy5jb25maWdzRm9ybS5wZE1lZEhvc3BUeXBlLA0KICAgICAgICAgICAgcGRDbG1CbmZ0Q2FsY0NvZGU6dGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDYWxjQ29kZSwNCiAgICAgICAgICB9DQogICAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgICBQZHRlbXBQZENsbUJuZnQ6IFBkdGVtcFBkQ2xtQm5mdCwNCiAgICAgICAgICB9DQogICAgICAgICAgYWRkUGR0ZW1wUGRDbG1CbmZ0KGRhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSkNCiAgICAgICAgICAgIHRoaXMucmFkaW8xID0gcmVzLmRhdGEuaWQ7DQogICAgICAgICAgICB0aGlzLmNvbmZpZ3NGb3JtID0gT2JqZWN0LmFzc2lnbih7fSxyZXMuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoaWxkRm4iLCB0cnVlKTsNCiAgICAgICAgICAgIHRoaXMuZmluZFBkdGVtcFBkQ2xtQm5mdEJ5UHJvZHVjdElkKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgdXBkYXRlQ29uZmlnc0Zvcm0oKSB7DQogICAgICB0aGlzLiRyZWZzWyJjb25maWdzRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgLy8gbGV0IHBkQ2xtQm5mdFR5cGUgPQ0KICAgICAgICAgIC8vICAgdGhpcy5wZEJuZnQucGRCbmZ0RGV0YWlsVHlwZS5sZW5ndGggKw0KICAgICAgICAgIC8vICAgdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRUeXBlLmxlbmd0aCA9PQ0KICAgICAgICAgIC8vICAgMg0KICAgICAgICAgIC8vICAgICA/IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0VHlwZSArICIwIiArIHRoaXMucGRCbmZ0LnBkQm5mdERldGFpbFR5cGUNCiAgICAgICAgICAvLyAgICAgOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdFR5cGUgKyB0aGlzLnBkQm5mdC5wZEJuZnREZXRhaWxUeXBlDQogICAgICAgICAgbGV0IFBkdGVtcFBkQ2xtQm5mdCA9IHsNCiAgICAgICAgICAgIGlkOiB0aGlzLnJhZGlvMSwNCiAgICAgICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUGRJbmZvLnBkVmVySWQsDQogICAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgICBwZEluZm9JZDogdGhpcy5wZHRlbXBQZEluZm8uaWQsDQogICAgICAgICAgICBwZENvZGU6IHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZSwNCiAgICAgICAgICAgIHBkTmFtZTogdGhpcy5wZHRlbXBQZEluZm8ucGROYW1lLA0KICAgICAgICAgICAgcGRCbmZ0SWQ6IHRoaXMucGRCbmZ0LmlkLA0KICAgICAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy5wZEJuZnQucGRCbmZ0Q29kZSwNCiAgICAgICAgICAgIHBkQ2xtQm5mdENvZGU6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZSwNCiAgICAgICAgICAgIHBkQ2xtQm5mdE9yZGVyOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdE9yZGVyLA0KICAgICAgICAgICAgcGRDbG1CbmZ0TmFtZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnROYW1lLA0KICAgICAgICAgICAgcGRDbG1CbmZ0VHlwZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRUeXBlLA0KICAgICAgICAgICAgcGRDbG1CbmZ0QXJlYTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRBcmVhLA0KICAgICAgICAgICAgcGRDbG1aZXJvRmxhZzogdGhpcy5jb25maWdzRm9ybS5wZENsbVplcm9GbGFnLA0KICAgICAgICAgICAgcGRDbG1CbmZ0QW10Q2FsVHlwZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRBbXRDYWxUeXBlLA0KICAgICAgICAgICAgcGRDbG1Nb3lBbXRDYWxNdGhkOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtTW95QW10Q2FsTXRoZCwNCiAgICAgICAgICAgIHBkQ2xtRml4Qm5mdEFtdDogdGhpcy5jb25maWdzRm9ybS5wZENsbUZpeEJuZnRBbXQsDQogICAgICAgICAgICBwZENsbVJhdGlvOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtUmF0aW8sDQogICAgICAgICAgICBwZE1lZEhvc3BUeXBlOiB0aGlzLmNvbmZpZ3NGb3JtLnBkTWVkSG9zcFR5cGUsDQogICAgICAgICAgICBwZENsbUJuZnRDYWxjQ29kZTp0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENhbGNDb2RlLA0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICAgIFBkdGVtcFBkQ2xtQm5mdDogUGR0ZW1wUGRDbG1CbmZ0DQogICAgICAgICAgfQ0KICAgICAgICAgIHVwZGF0ZVBkdGVtcFBkQ2xtQm5mdChkYXRhKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS51cGRhdGUnKSkNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoaWxkRm4iLCB0cnVlKTsNCiAgICAgICAgICAgIHRoaXMuZmluZFBkdGVtcFBkQ2xtQm5mdEJ5UHJvZHVjdElkKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlQ29uZmlnc0Zvcm0oKSB7DQogICAgICBkZWxldGVQZHRlbXBQZENsbUJuZnQodGhpcy5jb25maWdzRm9ybSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSkNCiAgICAgICAgdGhpcy5maW5kUGR0ZW1wUGRDbG1CbmZ0QnlQcm9kdWN0SWQoKQ0KICAgICAgICB0aGlzLmNsZWFuQ29uZmlnc0Zvcm0oKQ0KICAgICAgICB0aGlzLnJhZGlvMSA9IG51bGwNCiAgICAgIH0pDQogICAgfSwNCiAgICBjbGVhbkNvbmZpZ3NGb3JtKCkgew0KICAgICAgdGhpcy5jb25maWdzRm9ybSA9IHsNCiAgICAgICAgcGRDbG1CbmZ0TmFtZToiIiwNCiAgICAgICAgcGRBc2duRGlzRmxhZzogIk4iLA0KICAgICAgICBwZERpc1R5cGU6IFtdLA0KICAgICAgICBwZERpc0NvZGU6IFtdLA0KICAgICAgICBwZE1lZEZlZUJpbGw6IFtdLA0KICAgICAgICBwZE1lZEZlZUNhbE1vZGU6ICIiLA0KICAgICAgICBwZE1lZEZlZURlZlZhbDogIiIsDQogICAgICAgIHBkTWVkQ2FsY0lkOiAiIiwNCiAgICAgICAgcGRDbG1CbmZ0QW10Q2FsVHlwZToiMiIsDQogICAgICAgIHBkQ2xtTW95QW10Q2FsTXRoZDoiMyIsDQogICAgICAgIHBkQ2xtQm5mdE9yZGVyOnRoaXMucGRDbG1CbmZ0T3JkZXIsDQogICAgICB9DQogICAgICB0aGlzLnJhZGlvMSA9IG51bGwNCiAgICAgIHRoaXMuc3dpdGNoNCA9IGZhbHNlDQogICAgICB0aGlzLmFsbFBkdGVtcFBkRGJscyA9IFtdDQogICAgICB0aGlzLnBkZ2VubENvbmZpZ3MgPSBbXQ0KICAgICAgdGhpcy5tZWRCaWxsQ29uZmlncyA9IFtdDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuY29uZmlnc0Zvcm0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0Q2FwdGlvbihvYmosIHN0YXRlKSB7DQogICAgICBjb25zdCBpbmRleCA9IG9iai5sYXN0SW5kZXhPZigiOiIpDQogICAgICBpZiAoc3RhdGUgPT09IDApIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoMCwgaW5kZXgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gb2JqLnN1YnN0cmluZyhpbmRleCArIDEsIG9iai5sZW5ndGgpDQogICAgICB9DQogICAgfSwNCiAgICBvYmplY3RTcGFuTWV0aG9kKHtyb3csIGNvbHVtbiwgcm93SW5kZXgsIGNvbHVtbkluZGV4fSkgew0KICAgICAgbGV0IG51bSA9IDANCiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMSB8fCBjb2x1bW5JbmRleCA9PT0gMikgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGRnZW5sRGlzSW5mb3MubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAocm93LmRpc0dyb3VwQ29kZSA9PSB0aGlzLnBkZ2VubERpc0luZm9zW2ldLmRpc0dyb3VwQ29kZSkgew0KICAgICAgICAgICAgbnVtKysNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKG51bSA9PT0gMSkgew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICByb3dzcGFuOiBudW0sDQogICAgICAgICAgICBjb2xzcGFuOiAxDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2UgaWYgKG51bSA+IDEpIHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICB0aGlzLnBkZ2VubERpc0luZm9zW3Jvd0luZGV4IC0gMV0gJiYNCiAgICAgICAgICAgIHRoaXMucGRnZW5sRGlzSW5mb3Nbcm93SW5kZXhdLmRpc0dyb3VwQ29kZSA9PQ0KICAgICAgICAgICAgdGhpcy5wZGdlbmxEaXNJbmZvc1tyb3dJbmRleCAtIDFdLmRpc0dyb3VwQ29kZQ0KICAgICAgICAgICkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgcm93c3BhbjogMCwNCiAgICAgICAgICAgICAgY29sc3BhbjogMA0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICByb3dzcGFuOiBudW0sDQogICAgICAgICAgICAgIGNvbHNwYW46IDENCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZVBkRGJsR3JhZGUocm93LCBpbmRleCkgew0KICAgICAgaWYgKHRoaXMuZGJsR3JkUmF0aW9zLmxlbmd0aCkgew0KICAgICAgICB0aGlzLmRibEdyZFJhdGlvcy5mb3JFYWNoKGRibEdyZFJhdGlvID0+IHsNCiAgICAgICAgICBpZiAoZGJsR3JkUmF0aW8ua2V5ID09IHJvdykgew0KICAgICAgICAgICAgdGhpcy5wZGdlbmxDb25maWdzW2luZGV4XS5wZERibFJhdGUgPSBkYmxHcmRSYXRpby52YWx1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG1lZEJpbGxUeXBlQ2hhbmdlKHJvdykgew0KICAgICAgaWYgKHJvdykgew0KICAgICAgICBzZWxlY3RQZE1lZEZlZUJpbGxPcHRpb25zKHJvdykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICAgIHRoaXMucGRNZWRGZWVCaWxsT3B0aW9ucyA9IFtdDQogICAgICAgICAgICBsZXQgcGRnZW5sTWVkQmlsbEZlZVJlbGFzID0gcmVzLmRhdGENCiAgICAgICAgICAgIHBkZ2VubE1lZEJpbGxGZWVSZWxhcy5mb3JFYWNoKFBkZ2VubE1lZEJpbGxGZWVSZWxhSW5mbyA9PiB7DQogICAgICAgICAgICAgIHRoaXMucGRNZWRGZWVCaWxsT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICBsYWJlbDoNCiAgICAgICAgICAgICAgICAgIFBkZ2VubE1lZEJpbGxGZWVSZWxhSW5mby5tZWRGZWVCaWxsQ29kZSArDQogICAgICAgICAgICAgICAgICAiOiIgKw0KICAgICAgICAgICAgICAgICAgUGRnZW5sTWVkQmlsbEZlZVJlbGFJbmZvLm1lZEZlZUJpbGxOYW1lLA0KICAgICAgICAgICAgICAgIHZhbHVlOg0KICAgICAgICAgICAgICAgICAgUGRnZW5sTWVkQmlsbEZlZVJlbGFJbmZvLm1lZEZlZUJpbGxDb2RlICsNCiAgICAgICAgICAgICAgICAgICI6IiArDQogICAgICAgICAgICAgICAgICBQZGdlbmxNZWRCaWxsRmVlUmVsYUluZm8ubWVkRmVlQmlsbE5hbWUNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkRGJsUm93KCkgew0KICAgICAgdGhpcy5wZGdlbmxDb25maWdzLnB1c2goew0KICAgICAgICBwZERibEdyYWRlOiAiIiwNCiAgICAgICAgcGREYmxSYXRlOiAiIg0KICAgICAgfSkNCiAgICB9LA0KICAgIGFkZE1lZFJvdygpIHsNCiAgICAgIHRoaXMuY29uZmlnc0Zvcm0ucGRNZWRGZWVCaWxsLmZvckVhY2gocGRNZWRGZWVCaWxsID0+IHsNCiAgICAgICAgdGhpcy5tZWRCaWxsQ29uZmlncy5wdXNoKHsNCiAgICAgICAgICBwZE1lZEZlZUJpbGxDb2RlOiB0aGlzLmdldENhcHRpb24ocGRNZWRGZWVCaWxsLCAwKSwNCiAgICAgICAgICBwZE1lZEZlZUJpbGxOYW1lOiB0aGlzLmdldENhcHRpb24ocGRNZWRGZWVCaWxsLCAxKSwNCiAgICAgICAgICBwZE1lZEZlZUNhbE1vZGU6IHRoaXMuY29uZmlnc0Zvcm0ucGRNZWRGZWVDYWxNb2RlLA0KICAgICAgICAgIHBkTWVkRmVlRGVmVmFsOiB0aGlzLmNvbmZpZ3NGb3JtLnBkTWVkRmVlRGVmVmFsLA0KICAgICAgICAgIHBkTWVkQ2FsY0lkOiB0aGlzLmNvbmZpZ3NGb3JtLnBkTWVkQ2FsY0lkDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgICAgdGhpcy5jb25maWdzRm9ybS5wZE1lZEZlZUJpbGwgPSBbXQ0KICAgICAgdGhpcy5jb25maWdzRm9ybS5wZE1lZEZlZUNhbE1vZGUgPSAiIg0KICAgICAgdGhpcy5jb25maWdzRm9ybS5wZE1lZEZlZURlZlZhbCA9ICIiDQogICAgICB0aGlzLmNvbmZpZ3NGb3JtLnBkTWVkQ2FsY0lkID0gIiINCiAgICB9LA0KICAgIGRlbERibFJvdyhpbmRleCwgcm93KSB7DQogICAgICB0aGlzLnBkZ2VubENvbmZpZ3Muc3BsaWNlKGluZGV4LCAxKQ0KICAgIH0sDQogICAgZGVsTWVkUm93KGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMubWVkQmlsbENvbmZpZ3Muc3BsaWNlKGluZGV4LCAxKQ0KICAgIH0sDQogICAgZGVsRGF0YVJvdyhpbmRleCwgcm93KSB7DQogICAgICB0aGlzLmRhdGFDb25maWdzLnNwbGljZShpbmRleCwgMSkNCiAgICB9LA0KICAgIGFkZERhdGFSb3coKSB7DQogICAgICB0aGlzLmRhdGFDb25maWdzLnB1c2goew0KICAgICAgICBydWxlRGF0YTogW10NCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGVja01lZFRhYmxlKHZhbCl7DQogICAgICB0aGlzLmNoZWNrTWVkID0gdmFsOw0KICAgICAgaWYodGhpcy5jaGVja01lZC5sZW5ndGg9PTEpew0KICAgICAgICB0aGlzLm1lZEZvcm0gPSB7DQogICAgICAgICAgbWVkQmlsbFR5cGU6dmFsWzBdLnBkTWVkQmlsbFR5cGUsDQogICAgICAgICAgcGRNZWRGZWVCaWxsVHlwZTpbdmFsWzBdLnBkTWVkRmVlQmlsbFR5cGVdLA0KICAgICAgICAgIHBkTWVkQmlsbE5hbWU6dmFsWzBdLnBkTWVkRmVlTmFtZQ0KICAgICAgICB9DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5jbGVhbk1lZEZvcm0oKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG1lZEJpbGxUeXBlc0NoYW5nZShjb2RlKSB7DQogICAgICBpZiAoY29kZSkgew0KICAgICAgICBzZWxlY3RQZE1lZEZlZUJpbGxPcHRpb25zKGNvZGUpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7DQogICAgICAgICAgdGhpcy5PcHRpb25zID0gW107DQogICAgICAgICAgdGhpcy5tZWRGb3JtLnBkTWVkRmVlQmlsbFR5cGUgPSBbXTsNCiAgICAgICAgICBkYXRhLmZvckVhY2goKG1lZEZlZUJpbGwpID0+IHsNCiAgICAgICAgICAgIHRoaXMuT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgdmFsdWU6IG1lZEZlZUJpbGwubWVkRmVlQmlsbENvZGUgKyAiOiIgKyBtZWRGZWVCaWxsLm1lZEZlZUJpbGxOYW1lLA0KICAgICAgICAgICAgICBsYWJlbDogbWVkRmVlQmlsbC5tZWRGZWVCaWxsQ29kZSArICI6IiArIG1lZEZlZUJpbGwubWVkRmVlQmlsbE5hbWUNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuT3B0aW9ucyA9IFtdOw0KICAgICAgICB0aGlzLm1lZEZvcm0ucGRNZWRGZWVCaWxsVHlwZSA9IFtdOw0KICAgICAgfQ0KICAgIH0sDQogICAgcGRNZWRGZWVCaWxsVHlwZUNoYW5nZShhcnJheSl7DQogICAgICB0aGlzLm1lZEZvcm0ucGRNZWRCaWxsTmFtZSA9ICcnOw0KICAgICAgaWYoYXJyYXkubGVuZ3RoKXsNCiAgICAgICAgYXJyYXkuZm9yRWFjaCh2YWw9PnsNCiAgICAgICAgICBpZih0aGlzLm1lZEZvcm0ucGRNZWRCaWxsTmFtZS5sZW5ndGgpew0KICAgICAgICAgICAgdGhpcy5tZWRGb3JtLnBkTWVkQmlsbE5hbWUgKz0gJywnDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubWVkRm9ybS5wZE1lZEJpbGxOYW1lICs9IHRoaXMuZ2V0Q2FwdGlvbih2YWwsMSk7DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBzYXZlTWVkRm9ybSgpew0KICAgICAgaWYodGhpcy5jaGVja01lZC5sZW5ndGg9PTEpew0KICAgICAgICAgIGxldCBhcnJheSA9IHRoaXMubWVkRm9ybS5wZE1lZEJpbGxOYW1lLnNwbGl0KC9bLO+8jF0vKQ0KICAgICAgICAgIGxldCBwZHRlbXBQZE1lZEJpbGwgPSB7DQogICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQZEluZm8ucGRWZXJJZCwNCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgcGRDbG1CbmZ0SWQ6IHRoaXMuY29uZmlnc0Zvcm0uaWQsDQogICAgICAgICAgcGRDbG1CbmZ0Q29kZTogdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlLA0KICAgICAgICAgIHBkTWVkQmlsbFR5cGU6IHRoaXMubWVkRm9ybS5tZWRCaWxsVHlwZSwNCiAgICAgIH07DQogICAgICBsZXQgcGR0ZW1wUGRNZWRGZWVCaWxscyA9IFtdOw0KICAgICAgYXJyYXkuZm9yRWFjaCgocGRNZWRGZWVOYW1lKSA9PiB7DQogICAgICAgIGxldCBwZHRlbXBQZE1lZEZlZUJpbGwgPSB7DQogICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQZEluZm8ucGRWZXJJZCwNCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgcGRNZWRCaWxsVHlwZTogdGhpcy5tZWRGb3JtLm1lZEJpbGxUeXBlLA0KICAgICAgICAgIHBkTWVkRmVlQmlsbFR5cGU6IHRoaXMubWVkRm9ybS5wZE1lZEZlZUJpbGxUeXBlWzBdLA0KICAgICAgICAgIHBkTWVkRmVlTmFtZTogcGRNZWRGZWVOYW1lDQogICAgICAgIH07DQogICAgICAgIHBkdGVtcFBkTWVkRmVlQmlsbHMucHVzaChwZHRlbXBQZE1lZEZlZUJpbGwpOw0KICAgICAgICB9KTsNCiAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIHBkdGVtcFBkTWVkQmlsbDogcGR0ZW1wUGRNZWRCaWxsLA0KICAgICAgICBwZHRlbXBQZE1lZEZlZUJpbGxzOiBwZHRlbXBQZE1lZEZlZUJpbGxzLA0KICAgICAgfTsNCiAgICAgIHNhdmVQZHRlbXBQZE1lZEZlZUJpbGwodGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHttZXNzYWdlOiByZXMubWVzc2FnZSwgdHlwZTogJ3N1Y2Nlc3MnfSk7DQogICAgICAgIHRoaXMuY2xlYW5NZWRGb3JtKCk7DQogICAgICAgIHRoaXMuc2VsZWN0cGR0ZW1wUGRNZWRGZWVCaWxscyh0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENvZGUpOw0KICAgICAgfSk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgbGV0IGFycmF5ID0gdGhpcy5tZWRGb3JtLnBkTWVkQmlsbE5hbWUuc3BsaXQoL1ss77yMXS8pDQogICAgICBpZihhcnJheS5sZW5ndGghPXRoaXMubWVkRm9ybS5wZE1lZEZlZUJpbGxUeXBlLmxlbmd0aCl7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6IHRoaXMuJHQoJ3BkdGVtcFBkQ2xtQm5mdC5tZWRMZW5ndGhFcnJvcicpLCB0eXBlOiAnd2FybmluZyd9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfWVsc2V7DQogICAgICAgIGxldCBwZHRlbXBQZE1lZEJpbGwgPSB7DQogICAgICAgIHBkVmVySWQ6IHRoaXMucGR0ZW1wUGRJbmZvLnBkVmVySWQsDQogICAgICAgIG9wZXJhdG9yOiB0aGlzLnBkdGVtcFBkSW5mby5vcGVyYXRvciwNCiAgICAgICAgcGRDbG1CbmZ0SWQ6IHRoaXMuY29uZmlnc0Zvcm0uaWQsDQogICAgICAgIHBkQ2xtQm5mdENvZGU6IHRoaXMuY29uZmlnc0Zvcm0ucGRDbG1CbmZ0Q29kZSwNCiAgICAgICAgcGRNZWRCaWxsVHlwZTogdGhpcy5tZWRGb3JtLm1lZEJpbGxUeXBlLA0KICAgICAgfTsNCiAgICAgIGxldCBwZHRlbXBQZE1lZEZlZUJpbGxzID0gW107DQogICAgICB0aGlzLm1lZEZvcm0ucGRNZWRGZWVCaWxsVHlwZS5mb3JFYWNoKChwZE1lZEZlZUJpbGxUeXBlKSA9PiB7DQogICAgICAgIGxldCBwZHRlbXBQZE1lZEZlZUJpbGwgPSB7DQogICAgICAgICAgcGRWZXJJZDogdGhpcy5wZHRlbXBQZEluZm8ucGRWZXJJZCwNCiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgICAgcGRNZWRCaWxsVHlwZTogdGhpcy5tZWRGb3JtLm1lZEJpbGxUeXBlLA0KICAgICAgICAgIHBkTWVkRmVlQmlsbFR5cGU6IHRoaXMuZ2V0Q2FwdGlvbihwZE1lZEZlZUJpbGxUeXBlLDApLA0KICAgICAgICAgIHBkTWVkRmVlTmFtZTogYXJyYXlbdGhpcy5tZWRGb3JtLnBkTWVkRmVlQmlsbFR5cGUuaW5kZXhPZihwZE1lZEZlZUJpbGxUeXBlKV0NCiAgICAgICAgfTsNCiAgICAgICAgcGR0ZW1wUGRNZWRGZWVCaWxscy5wdXNoKHBkdGVtcFBkTWVkRmVlQmlsbCk7DQogICAgICB9KTsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBwZHRlbXBQZE1lZEJpbGw6IHBkdGVtcFBkTWVkQmlsbCwNCiAgICAgICAgcGR0ZW1wUGRNZWRGZWVCaWxsczogcGR0ZW1wUGRNZWRGZWVCaWxscywNCiAgICAgIH07DQogICAgICBzYXZlUGR0ZW1wUGRNZWRGZWVCaWxsKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7bWVzc2FnZTogcmVzLm1lc3NhZ2UsIHR5cGU6ICdzdWNjZXNzJ30pOw0KICAgICAgICB0aGlzLmNsZWFuTWVkRm9ybSgpOw0KICAgICAgICB0aGlzLnNlbGVjdHBkdGVtcFBkTWVkRmVlQmlsbHModGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDb2RlKTsNCiAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2xlYW5NZWRGb3JtKCl7DQogICAgICB0aGlzLm1lZEZvcm09ew0KICAgICAgICBtZWRCaWxsVHlwZTonJywNCiAgICAgICAgcGRNZWRGZWVCaWxsVHlwZTpbXSwNCiAgICAgICAgcGRNZWRCaWxsTmFtZTonJywNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbE1lZEZvcm0ocm93KXsNCiAgICAgIGxldCBwZHRlbXBQZE1lZEJpbGwgPSB7DQogICAgICAgIHBkQ2xtQm5mdElkOiB0aGlzLmNvbmZpZ3NGb3JtLmlkLA0KICAgICAgICBwZENsbUJuZnRDb2RlOiB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENvZGUsDQogICAgICAgIHBkTWVkQmlsbFR5cGU6IHJvdy5tZWRCaWxsVHlwZSwNCiAgICAgIH07DQogICAgICBsZXQgcGR0ZW1wUGRNZWRGZWVCaWxsID0gew0KICAgICAgICBpZDogcm93LmlkLA0KICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBkSW5mby5wZFZlcklkLA0KICAgICAgICBvcGVyYXRvcjogdGhpcy5wZHRlbXBQZEluZm8ub3BlcmF0b3IsDQogICAgICAgIHBkTWVkRmVlQ29kZTogcm93LnBkTWVkRmVlQ29kZSwNCiAgICAgICAgcGRNZWRCaWxsVHlwZTogcm93Lm1lZEJpbGxUeXBlLA0KICAgICAgICBwZE1lZEZlZUJpbGxUeXBlOiByb3cucGRNZWRGZWVCaWxsVHlwZSwNCiAgICAgICAgcGRNZWRGZWVOYW1lOiByb3cucGRNZWRGZWVOYW1lLA0KICAgICAgfTsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBwZHRlbXBQZE1lZEJpbGw6cGR0ZW1wUGRNZWRCaWxsLA0KICAgICAgICBwZHRlbXBQZE1lZEZlZUJpbGw6cGR0ZW1wUGRNZWRGZWVCaWxsDQogICAgICB9Ow0KICAgICAgZGVsZXRlUGR0ZW1wUGRNZWRGZWVCaWxsKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MocmVzLm1lc3NhZ2UpOw0KICAgICAgICAgIHRoaXMuc2VsZWN0cGR0ZW1wUGRNZWRGZWVCaWxscyh0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdENvZGUpOw0KICAgICAgICAgIHRoaXMuY2xlYW5NZWRGb3JtKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2VsZWN0cGR0ZW1wUGRNZWRGZWVCaWxscyhjb2RlKSB7DQogICAgICBzZWxlY3RwZHRlbXBQZE1lZEZlZUJpbGxzKGNvZGUpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLm1lZFRhYmxlID0gcmVzLmRhdGENCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ29DbGlja3MxKG51bTEsIG51bTIpIHsNCiAgICAgIGxldCBhcnIgPSBbXQ0KICAgICAgYXJyLnB1c2godGhpcy5ibmZ0Rm9ybS5wZEJuZnRUeXBlKQ0KICAgICAgYXJyLnB1c2gobnVtMSkNCiAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGFyciAvL+S4muWKoeWkp+exuw0KICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gbnVtMiAvL+S4muWKoee7huexuw0KICAgICAgdGhpcy5kaWFsb2dTaG93LnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSB0cnVlDQogICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5ibmZ0Rm9ybQ0KICAgICAgdGhpcy5wZFNydmxPcHRpb25zID0gdGhpcy5jb25maWdzRm9ybQ0KICAgIH0sDQogICAgYnJpbmdJbkNhbGNDb2RlMShwZEJ1c3NEZXRhaWxUeXBlLCBwZEJ1c3NDb2RlLCBydWxlQ29kZSkgew0KICAgICAgdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnRDYWxjQ29kZSA9IHJ1bGVDb2RlDQogICAgICB0aGlzLiRlbWl0KCJicmluZ0luQ2FsY0NvZGUiLCBwZEJ1c3NDb2RlLCBydWxlQ29kZSkNCiAgICB9LA0KICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYTJfMShmbGFnKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5ibmZ0Rm9ybQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dTaG93LnVuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGEgPSBmbGFnDQogICAgfSwNCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QyXzEoDQogICAgICBmbGFnLA0KICAgICAgZ3VhcmFudGVlRGV0YWlscywNCiAgICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsDQogICAgICBibmZ0LA0KICAgICAgYm5mdER0DQogICAgKSB7DQogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5ibmZ0Rm9ybQ0KICAgICAgICBpZiAoDQogICAgICAgICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9PT0gIjI3IiB8fA0KICAgICAgICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPT09ICIyOCINCiAgICAgICAgKSB7DQogICAgICAgICAgdGhpcy5wZFNydmxPcHRpb25zID0gdGhpcy5jb25maWdzRm9ybQ0KICAgICAgICB9DQogICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IGJuZnREdA0KICAgICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBndWFyYW50ZWVEZXRhaWxzDQogICAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZGlhbG9nU2hvdy51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZGlhbG9nU2hvdy51bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dTaG93LmJuZnRBbW91bnRGb3JtdWxhU2VsZWN0ID0gZmxhZw0KICAgIH0sDQogICAgc2V0RGVmYXVsdE5hbWUoKXsNCiAgICAgIGlmKCF0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdE5hbWUpew0KICAgICAgICBpZih0aGlzLnBkQm5mdC5pZCl7DQogICAgICAgICAgdGhpcy5jb25maWdzRm9ybS5wZENsbUJuZnROYW1lID0gdGhpcy5nZXRDb2RlTmFtZSgicGRjbG1ibmZ0dHlwZTEiLCB0aGlzLmNvbmZpZ3NGb3JtLnBkQ2xtQm5mdFR5cGUsdHJ1ZSkrdGhpcy5wZEJuZnQucGRCbmZ0TmFtZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <cus-form-title :label=\"$t('pdtempPdClmBnft.clmBnftDefinition')\"></cus-form-title>\r\n      <el-form ref=\"bnftForm\" :disabled=\"disabled\" :model=\"bnftForm\" :rules=\"rules\" label-position=\"right\" label-width=\"142px\">\r\n        <cus-row  >\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('i18nView.guaranteeCode')\"  prop=\"pdBnftCode\">\r\n              <el-input v-model=\"bnftForm.pdBnftCode\" disabled></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdBnft.pdBnftOrder')\" prop=\"pdBnftOrder\">\r\n              <el-input v-model=\"bnftForm.pdBnftOrder\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdBnft.pdBnftType')\" prop=\"pdBnftDetailType\">\r\n              <cus-select v-model=\"bnftForm.pdBnftDetailType\" :codetype=\"'pdclmbnfttype2'\" disabled></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row >\r\n          <cus-col style=\"width: 64.5%\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftName')\" prop=\"pdBnftName\">\r\n              <el-input v-model=\"bnftForm.pdBnftName\" maxlength=\"100\" clearable show-word-limit></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdOptFlag')\"  prop=\"pdOptFlag\">\r\n              <el-radio-group v-model=\"bnftForm.pdOptFlag\">\r\n                <el-radio label=\"N\">{{$t('i18nView.requireOpt')}}</el-radio>\r\n                <el-radio label=\"Y\">{{$t('i18nView.chooseable')}}</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftEndPeriod')\" prop=\"pdBnftEndPeriod\">\r\n              <el-input v-model=\"bnftForm.pdBnftEndPeriod\">\r\n                <cus-select slot=\"append\" v-model=\"bnftForm.pdBnftEndPeriodUnit\" :codetype=\"'pdsbnftdy'\"\r\n                            class=\"cst\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftStartPeriod')\" prop=\"pdBnftStartPeriod\">\r\n              <el-input v-model=\"bnftForm.pdBnftStartPeriod\">\r\n                <cus-select slot=\"append\" v-model=\"bnftForm.pdBnftStartPeriodUnit\" :codetype=\"'pdsbnftdy'\"\r\n                            class=\"cst\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <el-form-item :label=\"$t('pdtempPdClmBnft.pdPeriodRela')\"\r\n                        prop=\"pdPeriodRela\">\r\n            <cus-radio v-model=\"bnftForm.pdPeriodRela\" :codetype=\"'pdPeriodRela'\" :isRequired=\"true\"></cus-radio>\r\n          </el-form-item>\r\n        </cus-row>\r\n        <cus-row  >\r\n          <el-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftStartDateRule')\"\r\n                          prop=\"pdBnftStartDateRule\">\r\n              <cus-radio v-model=\"bnftForm.pdBnftStartDateRule\" :codetype=\"'pdclmstartcalref'\" :isRequired=\"true\" ></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </cus-row>\r\n        <cus-row  >\r\n          <cus-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftStartDateMode')\"\r\n                          prop=\"pdBnftStartDateMode\">\r\n              <cus-radio v-model=\"bnftForm.pdBnftStartDateMode\" :codetype=\"'pdBnftStartDateMode'\"\r\n                          :filter=\"StartDateModeFilter\" :isRequired=\"true\" ></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n\r\n          <cus-col >\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row  >\r\n          <cus-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftEndDateRule')\"\r\n                          prop=\"pdBnftEndDateRule\">\r\n              <cus-radio v-model=\"bnftForm.pdBnftEndDateRule\" :codetype=\"'pdsbnftendrule'\" :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row  >\r\n          <cus-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdBnftEndDateMode')\"\r\n                          prop=\"pdBnftEndDateMode\">\r\n              <cus-radio v-model=\"bnftForm.pdBnftEndDateMode\" :codetype=\"'pdBnftStartDateMode'\"\r\n                          :filter=\"StartDateModeFilter\" :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdsbnftgettype')\"\r\n                          prop=\"pdsbnftgettype\">\r\n              <cus-checkbox v-model=\"bnftForm.pdsbnftgettype\" :codetype=\"'pdsbnftgettype'\"></cus-checkbox>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <el-row>\r\n          <el-form-item align=\"right\">\r\n            <el-button  size=\"small\" v-if=\"(!bnftForm.id)&&(!disabled)\" v-auth=\"'pdtemppdbnft:add'\" icon=\"el-icon-success\" type=\"primary\" dialog-disable=\"disable\"\r\n                       @click=\"savebnftForm\">\r\n              {{ $t('pdtempPdClmBnft.save') }}\r\n            </el-button>\r\n            <el-button  size=\"small\" v-if=\"bnftForm.id&&!disabled\" v-auth=\"'pdtemppdbnft:update'\" icon=\"el-icon-success\" type=\"primary\" dialog-disable=\"disable\"\r\n                       @click=\"updatebnftForm\">\r\n              {{ $t('pdtempPdClmBnft.update') }}\r\n            </el-button>\r\n            <el-button  size=\"small\" icon=\"el-icon-refresh\" v-if=\"!disabled\" type=\"primary\" @click=\"cleanbnftForm\" dialog-disable=\"disable\">\r\n              {{ $t('pdtempPdClmBnft.clean') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <cus-form-title :label=\"$t('pdtempPdClmBnft.clmBnftDetailDefinition')\" />\r\n\r\n      <cus-table-title :label=\"$t('pdtempPdClmBnft.clmBnftDetail')\"/>\r\n      <el-table ref=\"configsTable\" :data=\"configs\" align=\"center\" border class=\"wraper-table\"\r\n                element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\" @row-click=\"chooseone1\">\r\n        <el-table-column :label=\"$t('pdtempPdBnft.choose')\" width=\"55\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio v-model=\"radio1\" :label=\"scope.row.id\">\r\n              <span class=\"el-radio__label\"></span>\r\n            </el-radio>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdClmBnft.pdClmBnftOrder')\" sortable prop=\"pdClmBnftOrder\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.pdClmBnftName')\" align=\"center\"\r\n                         prop=\"pdClmBnftName\">\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filterHandler\" :filters=\"pdClmTypeFilters\" sortable\r\n                         :label=\"$t('pdtempPdClmBnft.pdClmBnftType')\" align=\"center\" prop=\"pdClmBnftType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdClmBnftType | filter_pdClmBnftType }}</template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdClmBnft.obperiodFlag')\" prop=\"obperiodFlag\">\r\n          <template v-slot=\"scope\">{{ scope.row.obperiodFlag | filter_dataFlag }}</template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdClmBnft.pdBeduFlag')\" prop=\"deductibleFlag\">\r\n          <template v-slot=\"scope\">{{ scope.row.deductibleFlag | filter_dataFlag }}</template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" :label=\"$t('pdtempPdClmBnft.limitFlag')\" prop=\"limitFlag\">\r\n          <template v-slot=\"scope\">{{ scope.row.limitFlag | filter_dataFlag }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button  size=\"small\" v-if=\"showMore\" type=\"text\" @click=\"isShowMore\">\r\n        {{ $t('pdtempPdClmBnft.more') }}\r\n        <i class=\"el-icon-arrow-down\"></i>\r\n      </el-button>\r\n      <el-button  size=\"small\" v-if=\"showBack\" type=\"text\" @click=\"isShowBack\">\r\n        {{ $t('pdtempPdClmBnft.back') }}\r\n        <i class=\"el-icon-arrow-up\"></i>\r\n      </el-button>\r\n      <br/>\r\n      <el-form ref=\"configsForm\" :disabled=\"disabled\" :model=\"configsForm\" :rules=\"rules\" label-width=\"135px\">\r\n        <cus-row :gutter=\"10\" >\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.copyBnftClmCode')\">\r\n              <el-select v-model=\"copyBnftClmCode\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable filterable\r\n                         @change=\"selectOneBnftCode\">\r\n                <el-option v-for=\"item in clmBnftOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\" >\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmBnftOrder')\" prop=\"pdClmBnftOrder\">\r\n              <el-input v-model=\"configsForm.pdClmBnftOrder\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmBnftType')\"\r\n                          prop=\"pdClmBnftType\">\r\n              <cus-radio v-model=\"configsForm.pdClmBnftType\" :codetype=\"'pdclmbnfttype1'\"\r\n                         :filter=\"clmBnftTypeFilter\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.alloFlag')\">\r\n              <el-switch active-value=\"Y\" inactive-value=\"N\" v-model=\"configsForm.pdAllowanceFlag\" >\r\n              </el-switch>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row >\r\n          <cus-col style=\"width: 64.5%\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmBnftName')\">\r\n              <el-input v-model=\"configsForm.pdClmBnftName\" @focus=\"setDefaultName\" maxlength=\"100\" show-word-limit></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\">\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmBnftArea')\"\r\n                          prop=\"pdClmBnftArea\">\r\n              <cus-select v-model=\"configsForm.pdClmBnftArea\" :codetype=\"'pdClmBnftArea'\" :placeholder=\"$t('pdNoMedical.pdClmBnftArea1')\"></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n          <el-form-item :label=\"$t('pdtempPdClmBnft.hospitalType')\" prop=\"pdMedHospType\">\r\n            <cus-select v-model=\"configsForm.pdMedHospType\" :codetype=\"'pdMedHospType'\"></cus-select>\r\n          </el-form-item>\r\n          </cus-col>\r\n          <cus-col></cus-col>\r\n        </cus-row>\r\n        <cus-row :span=\"24\" >\r\n          <cus-col :span=\"12\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmMoyType')\" prop=\"pdClmBnftAmtCalType\">\r\n              <cus-radio v-model=\"configsForm.pdClmBnftAmtCalType\" :codetype=\"'pdClmMoyType'\" :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col :span=\"12\">\r\n          </cus-col>\r\n        </cus-row>\r\n\r\n        <cus-row :gutter=\"10\" >\r\n          <cus-col :span=\"16\">\r\n\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmMoyCalMode')\" prop=\"pdClmMoyAmtCalMthd\">\r\n              <cus-radio v-model=\"configsForm.pdClmMoyAmtCalMthd\" :codetype=\"'pdClmMoyCalMode'\" :isRequired=\"true\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row :gutter=\"10\" >\r\n\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmFixMoy')\">\r\n              <el-input v-model=\"configsForm.pdClmFixBnftAmt\" :disabled=\"configsForm.pdClmMoyAmtCalMthd!=1\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.ratio')\">\r\n              <el-input v-model=\"configsForm.pdClmRatio\" :disabled=\"configsForm.pdClmMoyAmtCalMthd!=2\">\r\n                <template slot=\"suffix\">%</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.pdClmZeroFlag')\">\r\n              <el-switch v-model=\"configsForm.pdClmZeroFlag\"  active-value=\"Y\"\r\n                         inactive-value=\"N\">\r\n              </el-switch>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n      </el-form>\r\n      <el-form ref=\"form\" :disabled=\"disabled\" label-width=\"135px\" >\r\n        <el-form-item style=\"text-align: right\">\r\n          <el-button  size=\"small\" v-if=\"(!radio1&&pdBnft.id)&&(!disabled)\" v-auth=\"'pdtemppdclmbnft:add'\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                     style=\"margin-right: 5px\"\r\n                     type=\"primary\" @click=\"saveConfigsForm\">\r\n            {{ $t('pdtempPdClmBnft.save') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" v-if=\"radio1&&!disabled\" v-auth=\"'pdtemppdclmbnft:update'\" icon=\"el-icon-success\" dialog-disable=\"disable\" style=\"margin-right: 5px\"\r\n                     type=\"primary\" @click=\"updateConfigsForm\">\r\n            {{ $t('pdtempPdClmBnft.update') }}\r\n          </el-button>\r\n          <cus-popover v-if=\"radio1&&!disabled\" v-auth=\"'pdtemppdclmbnft:delete'\"\r\n                       :buttonText=\"$t('table.delete')\" :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-success \"\r\n                       style=\"margin-right: 5px\"\r\n                       type=\"danger\" @confirm=\"deleteConfigsForm\"></cus-popover>\r\n          <el-button  size=\"small\" icon=\"el-icon-refresh\" v-if=\"!disabled\" type=\"primary\" @click=\"cleanConfigsForm\" dialog-disable=\"disable\">\r\n            {{ $t('pdtempPdClmBnft.clean') }}\r\n          </el-button>\r\n        </el-form-item>\r\n        <div v-show=\"configsForm.pdClmMoyAmtCalMthd === '3'\">\r\n        <cus-form-title :label=\"$t('pdtempPdClmBnft.clmBnftPdCalcId')\"/>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item :label=\"$t('pdtempPdClmBnft.clmBnftPdCalcId')\">\r\n              <el-input v-model=\"configsForm.pdClmBnftCalcCode\" readonly>\r\n                <svg-icon slot=\"suffix\" icon-class=\"calc\" style=\"color: #606266;font-size: 18px;cursor: pointer\"\r\n                          @click=\"goClicks1(bnftForm.pdBnftDetailType,'20')\"/>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      </el-form>\r\n\r\n      <cus-form-title :label=\"$t('pdtempPdClmBnft.bnftMedFee')\" />\r\n      <el-button  size=\"small\" :disabled=\"disabled\" v-if=\"!disabled\" icon=\"el-icon-edit\" type=\"primary\" @click=\"toMedFeeBill\">\r\n        {{ $t('pdtempPdClmBnft.cusBnftMedFee') }}\r\n      </el-button>\r\n      <cus-table-title :label=\"$t('pdtempPdClmBnft.conMedFeeBill')\"></cus-table-title>\r\n      <el-table ref=\"medTable\" :data=\"medTable\" size=\"mini\" highlight-current-row @selection-change=\"checkMedTable\" fit element-loading-text=\"Loading\" border align=\"center\" class=\"wraper-table\">\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.action')\" type=\"selection\" align=\"center\" width=\"55px\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"60px\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.medFeeBillType')\" align=\"center\"  prop=\"pdMedBillType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdMedBillType | filter_pdMedBillType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.pdMedBillCode')\" align=\"center\"  prop=\"pdMedFeeCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.pdMedBillName')\" align=\"center\"  prop=\"pdMedFeeName\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.medFeeBillCusFlag')\" align=\"center\"  prop=\"pdMedFeeCalMode\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdMedFeeCalMode | filter_pdMedFeeCalMode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdClmBnft.action')\" align=\"center\" width=\"140px\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-popover @confirm=\"delMedForm(scope.row)\" icon=\"el-icon-delete\" v-auth=\"'pdtemppdclmbnft:delete'\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\" :content=\"$t('confirmMessage.delete')\">\r\n            </cus-popover>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <br/>\r\n      <el-form ref=\"medForm\" :model=\"medForm\" label-width=\"135px\">\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('pdtempPdClmBnft.medFeeBillType')\" prop=\"medBillType\">\r\n            <cus-select v-model=\"medForm.medBillType\" :disabled=\"checkMed.length==1\" :codetype=\"'medBillType'\"\r\n                        @change=\"medBillTypesChange\"></cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('pdtempPdClmBnft.medFeeBillDetailType')\" prop=\"pdMedFeeBillType\">\r\n            <el-select v-model=\"medForm.pdMedFeeBillType\" @change=\"pdMedFeeBillTypeChange\" :disabled=\"!medForm.medBillType||checkMed.length==1\"\r\n                       :placeholder=\"$t('pdtempPdClmBnft.pleaseChooseMedType')\" clearable filterable multiple>\r\n              <el-option v-for=\"item in Options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col style=\"width: 64.5%\">\r\n          <el-form-item :label=\"$t('pdtempPdClmBnft.pdMedBillName')\">\r\n            <el-input v-model=\"medForm.pdMedBillName\" :disabled=\"!checkMed.length==1\" :placeholder=\"$t('pdtempPdClmBnft.pleaseInputMutiName')\" maxlength=\"100\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <el-form-item style=\"text-align: right\">\r\n        <el-button v-if=\"radio1&&!disabled\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"saveMedForm\" dialog-disable=\"disable\">\r\n          {{ $t('pdtempPdClmBnft.save') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-refresh\" v-if=\"!disabled\" size=\"small\" type=\"primary\" @click=\"cleanMedForm\" dialog-disable=\"disable\">\r\n          {{ $t('pdtempPdClmBnft.clean') }}\r\n        </el-button>\r\n      </el-form-item>\r\n      </el-form>\r\n      <cus-form-title :label=\"$t('pdtempPdClmBnft.formTitle5')\"/>\r\n      <el-button  size=\"small\" :disabled=\"disabled\" v-if=\"!disabled\" icon=\"el-icon-edit\" type=\"primary\" @click=\"toObPeriod\">\r\n        {{ $t('pdtempPdClmBnft.pdButton5') }}\r\n      </el-button>\r\n      <el-button  size=\"small\" :disabled=\"disabled\" v-if=\"!disabled\" icon=\"el-icon-edit\" type=\"primary\" @click=\"toDeductible\">\r\n        {{ $t('pdtempPdClmBnft.clmDeductibleDef') }}\r\n      </el-button>\r\n      <el-button  size=\"small\" :disabled=\"disabled\" v-if=\"!disabled\" icon=\"el-icon-edit\" type=\"primary\" @click=\"toLimit\">\r\n        {{ $t('pdtempPdClmBnft.clmLimDef') }}\r\n      </el-button>\r\n      <div v-if=\"false\">\r\n        <div>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <label>{{ $t('pdtempPdClmBnft.clmBnftRole') }}</label>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <hr/>\r\n        <br/>\r\n        <el-form ref=\"form\" :disabled=\"disabled\" label-width=\"160px\" style=\"width:98%;\">\r\n          <el-row :gutter=\"10\" >\r\n            <el-col >\r\n              <el-form-item :label=\"$t('pdtempPdClmBnft.afterClmRole')\">\r\n                <cus-select v-model=\"configsForm.LMDutyGetAlive\" :codetype=\"'LMDutyGetAlive'\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col >\r\n              <el-form-item :label=\"$t('pdtempPdClmBnft.contractAffects')\">\r\n                <el-switch v-model=\"switch4\" >\r\n                </el-switch>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col >\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showMedFeeBill\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdmedfeebill :bnftForm=\"bnftForm\" :configsForm=\"configsForm\" :showMedFeeBill=\"showMedFeeBill\"\r\n                          @bringInCalcCode=\"bringInCalcCode\" @sendFeeBillData=\"sendFeeBillData\"\r\n                          @showFeeBillFlag=\"showFeeBillFlag\"\r\n                          @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdmedfeebill>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showObPeriod\"  v-if=\"showObPeriod\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdobperiod :moreType=\"moreType\" :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :pdBnftArr=\"pdBnftArr\" ref = \"pdtemppdobperiod\"\r\n                        :pdClmBnftArr=\"configs\" :showObPeriod=\"showObPeriod\" @backToFeeBill=\"backToFeeBill\"\r\n                        @sendBnftCtrlCode=\"sendBnftCtrlCode\"\r\n                        @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdobperiod>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showDeductible\"  v-if=\"showDeductible\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppddeductible :moreType=\"moreType\" :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :pdBnftArr=\"pdBnftArr\" ref = \"pdtemppddeductible\"\r\n                          :pdClmBnftArr=\"configs\" :showDeductible=\"showDeductible\" @backToFeeBill=\"backToFeeBill\"\r\n                          @sendBnftCtrlCode=\"sendBnftCtrlCode\"\r\n                          @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppddeductible>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showLimit\"  v-if=\"showLimit\" center top=\"8vh\"\r\n               width=\"1200px\">\r\n      <pdtemppdlimit :moreType=\"moreType\" :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :pdBnftArr=\"pdBnftArr\" ref = \"pdtemppdlimit\"\r\n                     :pdClmBnftArr=\"configs\" :showLimit=\"showLimit\" @backToFeeBill=\"backToFeeBill\"\r\n                     @sendBnftCtrlCode=\"sendBnftCtrlCode\" @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdlimit>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showMedObPeriod\" center v-if=\"showMedObPeriod\"\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdmedobperiod :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :feeBillData=\"feeBillData\"\r\n                           :pdBnftArr=\"pdBnftArr\" :pdClmBnftArr=\"configs\" :showMedObPeriod=\"showMedObPeriod\" ref=\"pdtemppdmedobperiod\"\r\n                           @backToFeeBill=\"backToFeeBill\" @sendBnftCtrlCode=\"sendBnftCtrlCode\"\r\n                           @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdmedobperiod>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showMedDeductible\" center v-if=\"showMedDeductible\"\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdmeddeductible :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :feeBillData=\"feeBillData\"\r\n                             :pdBnftArr=\"pdBnftArr\" :pdClmBnftArr=\"configs\" ref=\"pdtemppdmeddeductible\"\r\n                             :showMedDeductible=\"showMedDeductible\" @backToFeeBill=\"backToFeeBill\"\r\n                             @sendBnftCtrlCode=\"sendBnftCtrlCode\"\r\n                             @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdmeddeductible>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showMedLimit\" center v-if=\"showMedLimit\"\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdmedlimit :bnftForm1=\"bnftForm\" :configsForm=\"configsForm\" :feeBillData=\"feeBillData\" \r\n                        :pdBnftArr=\"pdBnftArr\" :pdClmBnftArr=\"configs\" :showMedLimit=\"showMedLimit\" ref=\"pdtemppdmedlimit\"\r\n                        @backToFeeBill=\"backToFeeBill\" @sendBnftCtrlCode=\"sendBnftCtrlCode\"\r\n                        @showFeeBillTypeFlag=\"showFeeBillTypeFlag\"></pdtemppdmedlimit>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showBnftMore\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdbnftinfo :moreType=\"moreType\" :bnftForm1=\"bnftForm\" :pdBnftCtrlCode=\"pdBnftCtrlCode\" :showBnftMore=\"showBnftMore\" ref = \"pdtemppdbnftinfo\"\r\n                        @backToFeeBill=\"backToFeeBill\"></pdtemppdbnftinfo>\r\n    </el-dialog>\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\" :visible.sync=\"showMedBnftMore\" center \r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdbnftmedinfo :moreType=\"moreType\" :pdBnftCtrlCode=\"pdBnftCtrlCode\" :showMedBnftMore=\"showMedBnftMore\"\r\n                           @backToFeeBill=\"backToFeeBill\"></pdtemppdbnftmedinfo>\r\n    </el-dialog>\r\n    <!--  -->\r\n    <el-dialog v-if=\"showPdClmBnftMore\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"showPdClmBnftMore\" center top=\"8vh\" width=\"1200px\">\r\n      <pdtemppdclmbnftinfo :moreType=\"moreType\" :pdBnftCtrlCode=\"pdBnftCtrlCode\" :showBnftMore=\"showPdClmBnftMore\"\r\n                           @backToFeeBill=\"backToFeeBill\"></pdtemppdclmbnftinfo>\r\n    </el-dialog>\r\n    <!--  -->\r\n    <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showBnftMore1\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n      <pdtempdbnftinfo :moreType=\"moreType\" :bnftForm1=\"bnftForm\" :pdBnftCtrlCode=\"pdBnftCtrlCode\" :showBnftMore=\"showBnftMore1\"\r\n                        @backToFeeBill=\"backToFeeBill\"></pdtempdbnftinfo>\r\n    </el-dialog>\r\n\r\n    <!--  -->\r\n    <el-dialog v-if=\"dialogShow.underwritingAmountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :close-on-press-escape=\"false\"\r\n               :visible.sync=\"dialogShow.underwritingAmountFormula\" append-to-body center\r\n               width=\"80%\" @close=\"changeDialogVisible_formula2_1(false)\">\r\n      <bnftAmountFormula :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                         :pdBnftOptions=\"pdSrvlOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                         @bringInCalcCode=\"bringInCalcCode1\" @changeDialogVisible_formula2=\"changeDialogVisible_formula2_1\"\r\n                         @changeDialogVisible_formulaSelect2=\"changeDialogVisible_formulaSelect2_1\"></bnftAmountFormula>\r\n      <!--  -->\r\n      <el-dialog v-if=\"dialogShow.bnftAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :close-on-press-escape=\"false\"\r\n                 :visible.sync=\"dialogShow.bnftAmountFormulaSelect\" append-to-body center\r\n                 width=\"70%\" @close=\"changeDialogVisible_formulaSelect2_1(false)\">\r\n        <bnftAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                                 :pdBnftOptions=\"pdSrvlOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                 @bringInCalcCode=\"bringInCalcCode1\"\r\n                                 @changeDialogVisible_formulaSelect2=\"changeDialogVisible_formulaSelect2_1\"></bnftAmountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  addPdtempPdClmBnft,\r\n  deletePdtempPdClmBnft,\r\n  findPdtempPdClmBnftByProductId,\r\n  SelectCascaderOptions,\r\n  selectDblGradeByCode,\r\n  SelectMutiSelectOptions,\r\n  selectPdMedFeeBillOptions,\r\n  updatePdtempPdClmBnft,\r\n  savePdtempPdMedFeeBill,\r\n  deletePdtempPdMedFeeBill,\r\n  selectpdtempPdMedFeeBills,\r\n  getClmBnftMaxOrder\r\n} from \"@/api/basicinfo/pdtemppdclmbnft\"\r\nimport {\r\n  addPdtempPdBnft,\r\n  deletePdtempPdBnft,\r\n  initalPdsbnftgettypeList,\r\n  updatePdtempPdBnft\r\n} from '@/api/basicinfo/pdtemppdbnft'\r\nimport {pdtempPdClsLabList} from \"@/api/basicinfo/ProductAttributeDefinition\"\r\nimport pdgenldisinfo from \"@/views/general-config/gen-seriousillness-conf\"\r\nimport pdgenldblgrade from \"@/views/general-config/gen-disabileLevel-conf\"\r\nimport pdtemppdmedfeebill from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/pdtemppdmedfeebill/index\"\r\nimport pdtemppdobperiod from \"@/views/basicinfo/obperiod-deductible-limit/obperiod/clm-obperiod/index\"\r\nimport pdtemppdmedobperiod from \"@/views/basicinfo/obperiod-deductible-limit/obperiod/fee-obperiod/index\"\r\nimport pdtemppddeductible from \"@/views/basicinfo/obperiod-deductible-limit/deductible/clm-deductible/index\"\r\nimport pdtemppdmeddeductible from \"@/views/basicinfo/obperiod-deductible-limit/deductible/fee-deductible/index\"\r\nimport pdtemppdlimit from \"@/views/basicinfo/obperiod-deductible-limit/limit/clm-limit/index\"\r\nimport pdtemppdmedlimit from \"@/views/basicinfo/obperiod-deductible-limit/limit/fee-limit/index\"\r\nimport pdtemppdbnftinfo from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/pdtemppdbnftinfo/index\"\r\nimport pdtemppdbnftmedinfo from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/pdtemppdbnftmedinfo/index\"\r\nimport pdtemppdclmbnftinfo from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/pdtemppdclmbnftinfo/index\"\r\nimport pdtempdbnftinfo from \"@/views/product-definition/pd-framework-def/pd-structure-def/guarantee-def/general-medical/pdtempdbnftinfo/index\"\r\nimport { initalBnftformList } from '@/api/basicinfo/pdtemppdsrvlbnft'\r\nimport bnftAmountFormula from \"@/views/basicinfo/bnft-formula/bnftAmountFormula\"\r\nimport bnftAmountFormulaSelect from \"@/views/basicinfo/bnft-formula/bnftAmountFormulaSelect\"\r\n\r\nlet _this\r\nexport default {\r\n  name: \"pdtempPdClmBnft\",\r\n  filters: {\r\n    filter_pdClmEnsuPeriodUnit(code) {\r\n      return _this.getCodeName(\"pdsbnftdy\", code, true)\r\n    },\r\n    filter_pdClmBnftType(code) {\r\n      return _this.getCodeName(\"pdclmbnfttype1\", code)\r\n    },\r\n    // filter_pdMedFeeCalMode(code) {\r\n    //   return _this.getCodeName(\"pdMedFeeCalMode\", code)\r\n    // },\r\n    filter_pdMedBillType(code){\r\n      return _this.getCodeName(\"medBillType\", code)\r\n    },\r\n    filter_pdDisType(pdtempPdClmDisRela) {\r\n      if (pdtempPdClmDisRela.length) {\r\n        // if (pdtempPdClmDisRela[0].pdDisType) {\r\n        //   let code = pdtempPdClmDisRela.map(o => o.pdDisType)\r\n        //   let newData = []\r\n        //   _this.pdDisTypeOptions.forEach(data => {\r\n        //     if (code.includes(data.value)) {\r\n        //       newData.push(data.label)\r\n        //     }\r\n        //   })\r\n        //   return newData.join(\", \")\r\n        // } else {\r\n        //   return \"\"\r\n        // }\r\n        return \"Y\"\r\n      } else {\r\n        return \"N\"\r\n      }\r\n    },\r\n    filter_pdtempPdDbls(pdtempPdDbls) {\r\n      if (pdtempPdDbls.length) {\r\n        return \"Y\"\r\n      } else {\r\n        return \"N\"\r\n      }\r\n    },\r\n    filter_pdtempPdMedFeeBills(pdtempPdMedFeeBills) {\r\n      if (pdtempPdMedFeeBills.length) {\r\n        return \"Y\"\r\n      } else {\r\n        return \"N\"\r\n      }\r\n    },\r\n    filter_dataFlag(code) {\r\n      if (code == 'Y') {\r\n        return code\r\n      } else {\r\n        return \"N\"\r\n      }\r\n    },\r\n    filter_pdMedFeeCalMode(code){\r\n      if(code){\r\n        return \"Y\"\r\n      }else{\r\n        return \"N\"\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    pdBnft: {\r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    pdBnftArr: {\r\n      type: Array,\r\n      default: () => {\r\n        return []\r\n      }\r\n    },\r\n    pdtempPdBnft: {\r\n      required: false,\r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    configLength: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    activeName:{\r\n      type:String,\r\n      default:''\r\n    },\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      copyBnftClmCode: '',\r\n      StartDateModeFilter: '1$0$1$2$3',\r\n      clmBnftTypeFilter: '1$1$2',\r\n      pdUwSiTypeOptions: {},\r\n      pdBnftOptions: {},\r\n      feeBillData: {},\r\n      pdBnftCtrlCode: '',\r\n      //\r\n      dialogRulesShow: {\r\n        bnftRules: false,\r\n        bnftRulesSelect: false\r\n      },\r\n\r\n      //\r\n      switch4: false,\r\n      showMore: false,\r\n      showBack: false,\r\n      showMedFeeBill: false,\r\n      showObPeriod: false,\r\n      showDeductible: false,\r\n      showLimit: false,\r\n      showMedObPeriod: false,\r\n      showMedDeductible: false,\r\n      showMedLimit: false,\r\n      showBnftMore: false,\r\n      showBnftMore1: false,\r\n      showMedBnftMore: false,\r\n      showPdClmBnftMore:false,\r\n      moreType: null,\r\n      calculationMethod: null,\r\n      paymentConfigs: [],\r\n      configs: [],\r\n      pdClmBnftData: [],\r\n      pdgenlConfigs: [],\r\n      medBillConfigs: [],\r\n      unrelationConfigs: [],\r\n      expressionConfigs: [],\r\n      expressionDtConfigs: [],\r\n      dataConfigs: [],\r\n      medTable:[],\r\n      medForm:{\r\n        medBillType:'',\r\n        pdMedFeeBillType:[],\r\n        pdMedBillName:'',\r\n      },\r\n      checkMed:[],\r\n      ruleCols: [\r\n        {\r\n          prop: \"\",\r\n          label: \"\"\r\n        },\r\n        {\r\n          prop: \"\",\r\n          label: \"\"\r\n        },\r\n        {\r\n          prop: \"\",\r\n          label: \"\"\r\n        }\r\n      ],\r\n      allPdtempPdDbls: [],\r\n      currentSelectItem: {}, //\r\n      radio1: null, // model\r\n      radio2: null,\r\n      radio3: null,\r\n      typeRegion: null,\r\n      pdExptFlag: null,\r\n      diseaseClassification: null,\r\n      currentSelectItem1: {}, //\r\n      pdClmBnftCodeFilters: [], //\r\n      pdClmBnftNameFilters: [],\r\n      pdClmTypeFilters: [],\r\n      pdClmBnftCodeFilters1: [], //\r\n      pdClmBnftNameFilters1: [],\r\n      pdClmTypeFilters1: [],\r\n      pdBnftCodeOption: [], //\r\n      params: {\r\n        pdInfoId: \"\",\r\n        eq_pdBnftId: \"\"\r\n      },\r\n      form: {\r\n        //\r\n        id: \"\" //ID\r\n      },\r\n      searchForm: {\r\n        pdInfoId: \"\",\r\n        pdClmBnftCode: \"\",\r\n        pdClmBnftType: \"\",\r\n        eq_pdBnftId: \"\"\r\n      },\r\n      props: {multiple: true},\r\n      pdDisTypeOptions: [],\r\n      pdDisCodeOptions: [],\r\n      pdMedFeeBillOptions: [],\r\n      Options: [],\r\n      clmBnftOptions: [],\r\n      bnftForm: {\r\n        pdBnftName: \"\",\r\n        pdBnftType: \"\",\r\n        pdBnftDetailType: \"7\",\r\n        pdAmntReclFlag: \"\",\r\n        pdAmntZreoFlag: \"\",\r\n        pdAmntCalMode: \"\",\r\n        pdCalcId: \"\",\r\n        pdBnftStartDateRule: \"S\",\r\n        pdBnftStartDateMode: \"0\",\r\n        pdBnftStartPeriod: \"0\",\r\n        pdBnftStartPeriodUnit: \"Y\",\r\n        pdBnftEndDateRule: \"1\",\r\n        pdBnftEndDateMode: \"0\",\r\n        pdBnftEndPeriod: \"\",\r\n        pdBnftEndPeriodUnit: \"Y\",\r\n        pdsbnftgettype: ['1'],\r\n        pdOptFlag: \"N\",\r\n        pdBnftOrder: \"\",\r\n        pdPeriodRela:\"0\"\r\n      },\r\n      configsForm: {\r\n        pdClmBnftOrder:this.pdClmBnftOrder,\r\n        pdClmBnftName: \"\",\r\n        pdClmBnftType: \"\",\r\n        pdClmMoyType: \"\",\r\n        pdClmMoyCalMode: \"\",\r\n        pdClmFixMoy: \"\",\r\n        pdClmSptSatDateType: \"\",\r\n        pdClmSptPayNum: \"\",\r\n        pdClmSptMinMoy: \"\",\r\n        pdClmSptCalId: \"\",\r\n        pdExptRole: \"\",\r\n        pdExptRoleOrder: \"\",\r\n        pdExptdType: \"\",\r\n        pdDisType: [],\r\n        pdDisCode: [],\r\n        pdClmBnftAmtCalType:\"2\",\r\n        pdClmMoyAmtCalMthd:\"3\",\r\n        pdAllowanceFlag:\"Y\",\r\n        pdClmZeroFlag:\"Y\"\r\n      },\r\n      productBnftForm: {},\r\n      BnftDfForm: {},\r\n      BnftDfShForm: {},\r\n      pdDisEdition: \"\",\r\n      pdtempPdInfo: {},\r\n      pdgenlDisInfos: [],\r\n      pdDutyTypeFilters: \"\", // \r\n      pdStruct: {},\r\n      dialogVisible: false,\r\n      showDis: false,\r\n      showDbl: false,\r\n      hideButton: true,\r\n      showExpression: false,\r\n      showExpressionDefinition: false,\r\n      pdDblGradeOptions: [],\r\n      dblGrdRatios: [],\r\n      disabled: false,\r\n      pdClmBnftOrder: '1',\r\n      dialogShow: {\r\n        underwritingAmountFormula: false,\r\n        bnftAmountFormulaSelect: false,\r\n        medFeeFormula: false,\r\n        medFeeFormulaSelect: false\r\n      },\r\n      pdgenlMedFeeBillList: [],\r\n      calculationFormulaType: \"\",\r\n      pdSrvlOptions: {},\r\n      guaranteeDetails: [],\r\n      rules: {\r\n        pdBnftName: [\r\n          {required: true, message: \"\", trigger: \"blur\"}\r\n        ],\r\n        pdBnftDetailType: [\r\n          {required: true, message: \"\", trigger: \"blur\"}\r\n        ],\r\n        pdBnftStartDateMode: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdBnftEndDateMode: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmBnftName: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmBnftType: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmMoyType: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmMoyCalMode: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdOptFlag: [\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmBnftOrder: [\r\n          {required: true, message: \"\", trigger: \"blur\"}\r\n        ],\r\n        pdBnftStartDateRule:[\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdBnftEndDateRule:[\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmBnftAmtCalType:[\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n        pdClmMoyAmtCalMthd:[\r\n          {required: true, message: \"\", trigger: \"change\"}\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    pdgenldisinfo,\r\n    pdgenldblgrade\r\n    ,pdtemppdmedfeebill, pdtemppdobperiod,\r\n    pdtemppddeductible, pdtemppdlimit, pdtemppdmedobperiod, pdtemppdmeddeductible, pdtemppdmedlimit,\r\n    pdtemppdbnftinfo, pdtemppdbnftmedinfo,pdtemppdclmbnftinfo,pdtempdbnftinfo,bnftAmountFormula, bnftAmountFormulaSelect,\r\n  },\r\n  async created() {\r\n    let pdtempPdInfo = this.getPdData()\r\n    this.pdtempPdInfo = pdtempPdInfo\r\n    this.searchForm.pdInfoId = pdtempPdInfo.id\r\n    this.params.pdInfoId = pdtempPdInfo.id\r\n    this.bnftForm.pdBnftEndPeriod = this.pdtempPdInfo.pdGuaranteePeriod?this.pdtempPdInfo.pdGuaranteePeriod:''\r\n    await this.findTypeRegion()\r\n    // \r\n    if (this.pdBnft.id) {\r\n      if(this.pdBnft.readonly==true){\r\n        this.disabled = true;\r\n      }\r\n      this.cleanConfigsForm()\r\n      if (this.pdBnft.pdBnftType === \"C\" && this.pdBnft.pdBnftDetailType === \"7\") {\r\n        this.productBnftForm = JSON.parse(JSON.stringify(this.pdBnft))\r\n        await this.findPdtempPdClmBnftByProductId()\r\n        if (this.productBnftForm.pdsbnftgettype) {\r\n          this.productBnftForm.pdsbnftgettype = JSON.parse(\r\n            this.productBnftForm.pdsbnftgettype\r\n          )\r\n        } else {\r\n          this.bnftForm.pdsbnftgettype = []\r\n        }\r\n        Object.assign(this.bnftForm,this.productBnftForm);\r\n      } else {\r\n        this.cleanbnftForm()\r\n        this.configs = []\r\n      }\r\n    }else{\r\n      this.cleanConfigsForm()\r\n    }\r\n    await this.initalBnftform()\r\n    await this.initalPdsbnftgettype()\r\n  },\r\n  watch: {\r\n    pdBnft: function () {\r\n      this.cleanConfigsForm()\r\n      if (this.pdBnft.pdBnftType == \"C\" && this.pdBnft.pdBnftDetailType == \"7\") {\r\n        this.bnftForm = JSON.parse(JSON.stringify(this.pdBnft))\r\n        this.findPdtempPdClmBnftByProductId()\r\n        if (this.bnftForm.pdsbnftgettype) {\r\n          this.bnftForm.pdsbnftgettype = JSON.parse(\r\n            this.bnftForm.pdsbnftgettype\r\n          )\r\n        } else {\r\n          this.bnftForm.pdsbnftgettype = []\r\n        }\r\n\r\n      } else {\r\n        this.cleanbnftForm()\r\n        this.configs = []\r\n        this.bnftForm.pdBnftOrder = this.configLength\r\n      }\r\n    },\r\n    configs: function () {\r\n      this.pdClmTypeFilters = []\r\n      for (const row of this._.map(this.configs, 'pdClmBnftType')) {\r\n        let filDepmt = {text: '', value: ''}\r\n        filDepmt.text = this.getCodeName('pdclmbnfttype1', row, true)\r\n        filDepmt.value = row\r\n        let flag = false\r\n        for (const pdClmTypeFiltersItem of this.pdClmTypeFilters) {\r\n          if(pdClmTypeFiltersItem.value === row) {\r\n            flag = true\r\n          }\r\n        }\r\n        if (!flag) {\r\n          this.pdClmTypeFilters.push(filDepmt)\r\n        }\r\n      }\r\n      if(!this.configs.length){\r\n        this.configsForm.pdClmBnftOrder = '1'\r\n      }\r\n    },\r\n    configLength: function () {\r\n      if (this.pdBnft.id == undefined && this.configLength != null) {\r\n        this.bnftForm.pdBnftOrder = this.configLength\r\n      }\r\n    },\r\n    'pdClmBnftOrder'() {\r\n      if (this.pdClmBnftOrder != null&&!this.radio1) {\r\n        this.configsForm.pdClmBnftOrder = this.pdClmBnftOrder\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async initalPdsbnftgettype(){\r\n      let list = '';\r\n      let params = {\r\n        pdAscLevelCode:this.bnftForm.pdBnftCode,\r\n        pdAtrsCode: \"pdsbnftgettype\"\r\n      }\r\n      if(this.bnftForm.pdBnftCode){\r\n        initalPdsbnftgettypeList(this.buildRequestData(params)).then(response => {\r\n        list = response.data.pdAtrsVal;\r\n        this.bnftForm.pdsbnftgettype = JSON.parse(list)\r\n      })\r\n      }\r\n\r\n\r\n    },\r\n    async initalBnftform(){\r\n      let params = {\r\n        pdBnftCode:this.bnftForm.pdBnftCode\r\n      }\r\n      if(this.bnftForm.pdBnftCode){\r\n        initalBnftformList(this.buildRequestData(params)).then(response => {\r\n        this.bnftForm.pdPeriodRela = response.data.pdPeriodRela;\r\n        this.bnftForm.pdBnftStartDateRule = response.data.pdBnftStartDateRule;\r\n        this.bnftForm.pdBnftStartDateMode = response.data.pdBnftStartDateMode;\r\n        this.bnftForm.pdBnftEndDateRule = response.data.pdBnftEndDateRule;\r\n        this.bnftForm.pdBnftEndDateMode = response.data.pdBnftEndDateMode;\r\n        this.bnftForm.pdsbnftgettype = response.data.pdsbnftgettype;\r\n\r\n      })\r\n      }\r\n    },\r\n    bringInCalcCode(pdClmBnftCode, calcCode) {\r\n      for (const pdtempPdClmBnft of this.pdClmBnftData) {\r\n        if (pdtempPdClmBnft.pdClmBnftCode === pdClmBnftCode) {\r\n          pdtempPdClmBnft.pdClmBnftCalcCode = calcCode\r\n          break\r\n        }\r\n      }\r\n    },\r\n    toMedFeeBill() {\r\n      if (!this.configsForm.id) {\r\n        this.notifyError('')\r\n        return\r\n      }\r\n      this.showMedFeeBill = true\r\n    },\r\n    toObPeriod() {\r\n      this.showObPeriod = true\r\n    },\r\n    toDeductible() {\r\n      this.showDeductible = true\r\n\r\n    },\r\n    toLimit() {\r\n      this.showLimit = true\r\n\r\n    },\r\n    //\r\n    goClicks(num1, num2) {\r\n      let arr = []\r\n      arr.push('C')\r\n      arr.push(num1)\r\n      this.guaranteeDetails = arr//\r\n      this.calculationFormulaType = num2//\r\n      this.dialogShow.underwritingAmountFormula = true\r\n      this.pdUwSiTypeOptions = this.pdBnft\r\n    },\r\n    changeDialogVisible_formula2(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdBnft\r\n      }\r\n      this.dialogShow.underwritingAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect2(flag, guaranteeDetails, calculationFormulaType, bnft, bnftDt) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdBnft\r\n        this.pdUwSiTypeDtOptions = bnftDt\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.underwritingAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.underwritingAmountFormula = true\r\n\r\n        })\r\n      }\r\n      this.dialogShow.bnftAmountFormulaSelect = flag\r\n    },\r\n    changeDialogVisible_rules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdBnft\r\n        this.pdBnftOptions = this.configsForm\r\n      }\r\n      this.dialogRulesShow.bnftRules = flag\r\n    },\r\n    changeDialogVisible_rulesSelect(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdBnft\r\n        this.pdBnftOptions = this.configsForm\r\n      }\r\n      this.dialogRulesShow.bnftRulesSelect = flag\r\n    },\r\n    showFeeBillFlag(flag) {\r\n      this.showMedFeeBill = flag\r\n      this.selectpdtempPdMedFeeBills(this.configsForm.pdClmBnftCode);\r\n    },\r\n    showFeeBillTypeFlag(flag) {\r\n      if (flag == 'period') {\r\n        this.showMedFeeBill = false\r\n        this.showObPeriod = true\r\n      } else if (flag == 'deductible') {\r\n        this.showMedFeeBill = false\r\n        this.showDeductible = true\r\n      } else if (flag == 'limit') {\r\n        this.showMedFeeBill = false\r\n        this.showLimit = true\r\n      }\r\n      if (flag == 'medPeriod') {\r\n        this.showMedFeeBill = false\r\n        this.showMedObPeriod = true\r\n      } else if (flag == 'medDeductible') {\r\n        this.showMedFeeBill = false\r\n        this.showMedDeductible = true\r\n      } else if (flag == 'medLimit') {\r\n        this.showMedFeeBill = false\r\n        this.showMedLimit = true\r\n      } else if (flag == 'obmore') {\r\n        this.showObPeriod = false\r\n        this.showDeductible = false\r\n        this.showLimit = false\r\n        this.showBnftMore = true\r\n        this.moreType = 'obmore'\r\n      } else if (flag == 'demore') {\r\n        this.showObPeriod = false\r\n        this.showDeductible = false\r\n        this.showLimit = false\r\n        this.showBnftMore = true\r\n        this.moreType = 'demore'\r\n      } else if (flag == 'limmore') {\r\n        this.showObPeriod = false\r\n        this.showDeductible = false\r\n        this.showLimit = false\r\n        this.showBnftMore = true\r\n        this.moreType = 'limmore'\r\n      } else if (flag == 'medobmore') {\r\n        this.showMedFeeBill = false\r\n        this.showMedObPeriod = false\r\n        this.showMedDeductible = false\r\n        this.showMedLimit = false\r\n        this.showMedBnftMore = true\r\n        this.moreType = 'medobmore'\r\n      } else if (flag == 'meddemore') {\r\n        this.showMedFeeBill = false\r\n        this.showMedObPeriod = false\r\n        this.showMedDeductible = false\r\n        this.showMedLimit = false\r\n        this.showMedBnftMore = true\r\n        this.moreType = 'meddemore'\r\n      } else if (flag == 'medlimmore') {\r\n        this.showMedFeeBill = false\r\n        this.showMedObPeriod = false\r\n        this.showMedDeductible = false\r\n        this.showMedLimit = false\r\n        this.showMedBnftMore = true\r\n        this.moreType = 'medlimmore'\r\n      }else if(flag == 'meddemore1'){\r\n        this.showPdClmBnftMore = true\r\n        this.moreType = 'meddemore1'\r\n      }else if(flag == 'meddemore2'){\r\n        this.showPdClmBnftMore = true\r\n        this.moreType = 'meddemore2'\r\n      }else if(flag == 'meddemore3'){\r\n        this.showPdClmBnftMore = true\r\n        this.moreType = 'meddemore3'\r\n      }else if(flag == 'bnft1'){\r\n        this.showBnftMore1 = true\r\n        this.moreType = 'bnft1'\r\n      }else if(flag == 'bnft2') {\r\n        this.showBnftMore = true\r\n        this.moreType = 'bnft2'\r\n      }else if(flag == 'bnft3'){\r\n        this.showBnftMore1 = true\r\n        this.moreType = 'bnft3'\r\n      }else if(flag == 'bnft4') {\r\n        this.showBnftMore = true\r\n        this.moreType = 'bnft4'\r\n      }else if(flag == 'bnft5'){\r\n        this.showBnftMore1 = true\r\n        this.moreType = 'bnft5'\r\n      }else if(flag == 'bnft6') {\r\n        this.showBnftMore = true\r\n        this.moreType = 'bnft6'\r\n      }\r\n    },\r\n    backToFeeBill(flag,selectedItemList) {\r\n      if (flag == 'period') {\r\n        this.showObPeriod = false\r\n        this.showMedFeeBill = true\r\n      } else if (flag == 'deductible') {\r\n        this.showDeductible = false\r\n        this.showMedFeeBill = true\r\n      } else if (flag == 'limit') {\r\n        this.showLimit = false\r\n        this.showMedFeeBill = true\r\n      } else if (flag == 'bnft') {\r\n        this.showObPeriod = false\r\n        this.showDeductible = false\r\n        this.showLimit = false\r\n        this.showMedFeeBill = false\r\n      } else if (flag == 'medFee') {\r\n        this.showMedObPeriod = false\r\n        this.showMedDeductible = false\r\n        this.showMedLimit = false\r\n        this.showMedFeeBill = true\r\n      } else if (flag == 'obmore') {\r\n        this.showBnftMore = false\r\n        this.showObPeriod = true\r\n      } else if (flag == 'demore') {\r\n        this.showBnftMore = false\r\n        this.showDeductible = true\r\n      } else if (flag == 'limmore') {\r\n        this.showBnftMore = false\r\n        this.showLimit = true\r\n      } else if (flag == 'medobmore') {\r\n        this.showMedBnftMore = false\r\n        this.showMedObPeriod = true\r\n        this.$refs.pdtemppdmedobperiod.bringSelectedFeeBill(selectedItemList)\r\n      } else if (flag == 'meddemore') {\r\n        this.showMedBnftMore = false\r\n        this.showMedDeductible = true\r\n        this.$refs.pdtemppdmeddeductible.bringSelectedFeeBill(selectedItemList)\r\n      } else if (flag == 'medlimmore') {\r\n        this.showMedBnftMore = false\r\n        this.showMedLimit = true\r\n        this.$refs.pdtemppdmedlimit.bringSelectedFeeBill(selectedItemList)\r\n      }else if(flag == 'meddemore1'){\r\n        this.showPdClmBnftMore = false\r\n        this.$refs.pdtemppdmeddeductible.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'meddemore2'){\r\n        this.showPdClmBnftMore = false\r\n        this.$refs.pdtemppdmedlimit.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'meddemore3'){\r\n        this.showPdClmBnftMore = false\r\n        this.$refs.pdtemppdmedobperiod.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft1'){\r\n        this.showBnftMore1 = false\r\n        this.$refs.pdtemppdlimit.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft2') {\r\n        this.showBnftMore = false\r\n        this.$refs.pdtemppdlimit.bringSelectedPdBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft3'){\r\n        this.showBnftMore1 = false\r\n        this.$refs.pdtemppddeductible.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft4') {\r\n        this.showBnftMore = false\r\n        this.$refs.pdtemppddeductible.bringSelectedPdBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft5'){\r\n        this.showBnftMore1 = false\r\n        this.$refs.pdtemppdobperiod.bringSelectedPdClmBnftMoreBill(selectedItemList)\r\n      }else if(flag == 'bnft6') {\r\n        this.showBnftMore = false\r\n        this.$refs.pdtemppdobperiod.bringSelectedPdBnftMoreBill(selectedItemList)\r\n      }\r\n    },\r\n    sendFeeBillData(data) {\r\n      this.feeBillData = data\r\n    },\r\n    sendBnftCtrlCode(data) {\r\n      this.pdBnftCtrlCode = data\r\n    },\r\n    async findPdtempPdClmBnftByProductId() {\r\n      if (this.pdBnft.id) {\r\n        let params = {\r\n          productId: this.pdtempPdInfo.id,\r\n          pdBnftId: this.pdBnft.id\r\n        }\r\n        await findPdtempPdClmBnftByProductId(params).then(res => {\r\n          this.pdClmBnftData = res.data\r\n          this.clmBnftOptions = []\r\n          this.pdClmBnftData.forEach(data => {\r\n            this.clmBnftOptions.push({\r\n              value: data.pdClmBnftCode,\r\n              label: data.pdClmBnftCode + \":\" + data.pdClmBnftName\r\n            })\r\n          })\r\n          //this.MiutiSelectHandle(this.pdClmBnftData)\r\n          // this.pdClmBnftData.forEach(data => {\r\n          //   data.pdClmBnftType = data.pdClmBnftType.slice(0, 1)\r\n          // })\r\n          this.configs = []\r\n          if (this.pdClmBnftData.length > 10) {\r\n            this.showMore = true\r\n            this.showBack = false\r\n            for (let i = 0; i < 10; i++) {\r\n              this.$set(this.configs, i, this.pdClmBnftData[i])\r\n            }\r\n          } else {\r\n            this.configs = res.data\r\n            this.showMore = false\r\n            this.showBack = false\r\n          }\r\n        })\r\n      }\r\n      //\r\n        getClmBnftMaxOrder(this.buildRequestData({\"pdBnftId\": this.pdBnft.id})).then(res => {\r\n          if(this.radio1){\r\n            this.pdClmBnftOrder = res.data\r\n          }else{\r\n            this.configsForm.pdClmBnftOrder = res.data;\r\n            this.pdClmBnftOrder = this.configsForm.pdClmBnftOrder\r\n          }\r\n\r\n        });\r\n    },\r\n    selectOneBnftCode(val) {\r\n      for (const bnftCode of this.pdClmBnftData) {\r\n        if (bnftCode.pdClmBnftCode == val) {\r\n          this.configsForm = bnftCode\r\n          this.configsForm.id = undefined;\r\n          this.configsForm.pdClmBnftOrder = this.pdClmBnftOrder\r\n          break\r\n        }\r\n      }\r\n    },\r\n    MiutiSelectHandle(data) {\r\n      if (data.length) {\r\n        for (let j = 0; j < data.length; j++) {\r\n          data[j].pdDisType = []\r\n          data[j].pdDisCode = []\r\n          if (data[j].pdtempPdClmDisRela.length) {\r\n            let pdClmDisRelas = data[j].pdtempPdClmDisRela\r\n            this.pdDisEdition = pdClmDisRelas[0].pdDisEdition\r\n            for (let i = 0; i < pdClmDisRelas.length; i++) {\r\n              if (pdClmDisRelas[i].pdBnftDisRela == \"1\") {\r\n                data[j].pdDisType.push([\r\n                  pdClmDisRelas[i].pdDisType,\r\n                  pdClmDisRelas[i].pdDisDetailType\r\n                ])\r\n              } else if (pdClmDisRelas[i].pdBnftDisRela == \"2\") {\r\n                data[j].pdDisCode.push([\r\n                  pdClmDisRelas[i].pdDisGroupCode,\r\n                  pdClmDisRelas[i].disInfoId + \":\" + pdClmDisRelas[i].pdDisCode\r\n                ])\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async SelectMiutiSelectOptions() {\r\n      let back\r\n      if (this.diseaseClassification == \"P\") {\r\n        back = await SelectCascaderOptions(\"000000\")\r\n      } else {\r\n        back = await SelectCascaderOptions(this.pdtempPdInfo.pdCode)\r\n      }\r\n      back.then(res => {\r\n        let pdgenlDisClasses = res.data\r\n        pdgenlDisClasses.forEach(pdgenlDisClass => {\r\n          if (\r\n            pdgenlDisClass.upDisTypeCode == \"\" ||\r\n            pdgenlDisClass.upDisTypeCode == null\r\n          ) {\r\n            this.pdDisTypeOptions.push({\r\n              value: pdgenlDisClass.disTypeCode,\r\n              label:\r\n                pdgenlDisClass.disTypeCode + \":\" + pdgenlDisClass.disTypeName,\r\n              children: []\r\n            })\r\n          }\r\n        })\r\n        pdgenlDisClasses.forEach(pdgenlDisClass => {\r\n          for (let i = 0; i < this.pdDisTypeOptions.length; i++) {\r\n            if (\r\n              pdgenlDisClass.disTypeCode !=\r\n              this.getCaption(this.pdDisTypeOptions[i].label, 0) &&\r\n              pdgenlDisClass.disTypeCode.indexOf(\r\n                this.getCaption(this.pdDisTypeOptions[i].label, 0)\r\n              ) != -1\r\n            ) {\r\n              this.pdDisTypeOptions[i].children.push({\r\n                value: pdgenlDisClass.disTypeCode,\r\n                label:\r\n                  pdgenlDisClass.disTypeCode + \":\" + pdgenlDisClass.disTypeName\r\n              })\r\n            }\r\n          }\r\n        })\r\n        SelectMutiSelectOptions().then(res => {\r\n          this.pdgenlDisInfos = res.data\r\n          let pdgenlDisInfos = res.data\r\n          let flag = false\r\n          pdgenlDisInfos.forEach(pdgenlDisInfo => {\r\n            flag = false\r\n            for (let i = 0; i < this.pdDisCodeOptions.length; i++) {\r\n              if (\r\n                this.pdDisCodeOptions[i].value == pdgenlDisInfo.disGroupCode\r\n              ) {\r\n                flag = true\r\n              }\r\n            }\r\n            if (flag == false) {\r\n              this.pdDisCodeOptions.push({\r\n                value: pdgenlDisInfo.disGroupCode,\r\n                label:\r\n                  pdgenlDisInfo.disGroupCode + \":\" + pdgenlDisInfo.disGroupDesc,\r\n                children: []\r\n              })\r\n            }\r\n          })\r\n          pdgenlDisInfos.forEach(pdgenlDisInfo => {\r\n            this.pdDisCodeOptions.forEach(pdDisCodeOption => {\r\n              if (pdgenlDisInfo.disGroupCode == pdDisCodeOption.value) {\r\n                pdDisCodeOption.children.push({\r\n                  value: pdgenlDisInfo.id + \":\" + pdgenlDisInfo.disCode,\r\n                  label: pdgenlDisInfo.disCode + \":\" + pdgenlDisInfo.disName\r\n                })\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n    },\r\n    isShowMore() {\r\n      this.showMore = false\r\n      this.showBack = true\r\n      this.configs = []\r\n      for (let i = 0; i < this.pdClmBnftData.length; i++) {\r\n        this.$set(this.configs, i, this.pdClmBnftData[i])\r\n      }\r\n    },\r\n    isShowBack() {\r\n      this.showMore = true\r\n      this.showBack = false\r\n      this.configs = []\r\n      for (let i = 0; i < 10; i++) {\r\n        this.$set(this.configs, i, this.pdClmBnftData[i])\r\n      }\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"]\r\n        return row[property] === value\r\n      }\r\n    },\r\n    chooseone1(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id == this.radio1) {\r\n          this.radio1 = null\r\n          this.$refs.configsTable.setCurrentRow()\r\n          this.cleanConfigsForm()\r\n        } else {\r\n          this.radio1 = row.id\r\n          this.pdgenlConfigs = []\r\n          this.configsForm = JSON.parse(JSON.stringify(row))\r\n          this.allPdtempPdDbls = JSON.parse(JSON.stringify(row.pdtempPdDbls))\r\n          this.pdgenlConfigs = JSON.parse(JSON.stringify(row.pdtempPdDbls))\r\n          let medBillData = JSON.parse(JSON.stringify(row.pdtempPdMedFeeBills))\r\n          this.medTable = medBillData\r\n          if (this.pdgenlConfigs.length) {\r\n            this.configsForm.dblType = this.pdgenlConfigs[0].pdDblType\r\n            this.dblTypeChange(this.configsForm.dblType)\r\n          }\r\n          this.medBillConfigs = []\r\n          if (medBillData.length) {\r\n            this.configsForm.medBillType = medBillData[0].pdMedBillType\r\n            this.medBillTypeChange(this.configsForm.medBillType)\r\n            medBillData.forEach(pdtempPdMedFeeBill => {\r\n              this.medBillConfigs.push({\r\n                pdMedBillId: pdtempPdMedFeeBill.pdMedBillId,\r\n                pdMedFeeBillCode: pdtempPdMedFeeBill.pdMedFeeCode,\r\n                pdMedFeeBillName: pdtempPdMedFeeBill.pdMedFeeName,\r\n                pdMedFeeCalMode: pdtempPdMedFeeBill.pdMedFeeCalMode,\r\n                pdMedFeeDefVal: pdtempPdMedFeeBill.pdMedFeeDefVal,\r\n                pdMedCalcId: pdtempPdMedFeeBill.pdCalcId\r\n              })\r\n            })\r\n          }\r\n        }\r\n      }\r\n    },\r\n    chooseone2(row, column, event) {\r\n      if (event.target.nodeName == \"INPUT\") {\r\n        if (row.id == this.radio2) {\r\n          this.radio2 = null\r\n          this.$refs.expressionTable.setCurrentRow()\r\n        } else {\r\n          this.radio2 = row.id\r\n        }\r\n      }\r\n    },\r\n    chooseone3(row, column, event) {\r\n      if (event.target.nodeName == \"INPUT\") {\r\n        if (row.id == this.radio3) {\r\n          this.radio3 = null\r\n          this.$refs.expressionTable.setCurrentRow()\r\n        } else {\r\n          this.radio3 = row.id\r\n        }\r\n      }\r\n    },\r\n    pdClmBnftType2Change(row) {\r\n      switch (row) {\r\n        case \"1\":\r\n          this.pdDutyTypeFilters = \"1$0100$9900\"\r\n          break\r\n        case \"2\":\r\n          this.pdDutyTypeFilters = \"1$0200$9900\"\r\n          break\r\n        case \"3\":\r\n          this.pdDutyTypeFilters = \"1$0300$1200$9900\"\r\n          break\r\n        case \"4\":\r\n          this.pdDutyTypeFilters = \"1$0400$9900\"\r\n          break\r\n        case \"5\":\r\n          this.pdDutyTypeFilters = \"1$0500$9900\"\r\n          break\r\n        case \"6\":\r\n          this.pdDutyTypeFilters = \"1$0600$9900\"\r\n          break\r\n        case \"7\":\r\n          this.pdDutyTypeFilters =\r\n            \"1$0700$0701$0702$0703$0704$0705$0706$0707$0708$0709$0710$0711$0799$9900\"\r\n          break\r\n        case \"8\":\r\n          this.pdDutyTypeFilters = \"1$0800$9900\"\r\n          break\r\n        case \"9\":\r\n          this.pdDutyTypeFilters = \"1$0300$9900\"\r\n          break\r\n        case \"10\":\r\n          this.pdDutyTypeFilters = \"1$1200$1300$9900\"\r\n          break\r\n        case \"11\":\r\n          this.pdDutyTypeFilters = \"1$9900\"\r\n          break\r\n        case \"12\":\r\n          this.pdDutyTypeFilters = \"1$0300$9900\"\r\n          break\r\n        default:\r\n          this.pdDutyTypeFilters = \"\"\r\n          break\r\n      }\r\n    },\r\n    savebnftForm() {\r\n      this.$refs[\"bnftForm\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.bnftForm.pdBnftOrder != this.configLength) {\r\n            this.messageError(this.$t('pdNoMedical.message.pdBnftOrderError') + this.configLength)\r\n            return\r\n          }\r\n          let PdtempPdBnft = {\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdName: this.pdtempPdInfo.pdName,\r\n            pdBnftCode: this.typeRegion,\r\n            pdBnftOrder: this.bnftForm.pdBnftOrder,\r\n            pdBnftName: this.bnftForm.pdBnftName,\r\n            pdBnftType: \"C\",\r\n            pdBnftDetailType: this.bnftForm.pdBnftDetailType,\r\n            pdAmntZreoFlag: this.bnftForm.pdAmntZreoFlag,\r\n            pdBnftStartDateRule: this.bnftForm.pdBnftStartDateRule,\r\n            pdBnftStartDateMode: this.bnftForm.pdBnftStartDateMode,\r\n            pdBnftStartPeriod: this.bnftForm.pdBnftStartPeriod,\r\n            pdBnftStartPeriodUnit: this.bnftForm.pdBnftStartPeriodUnit,\r\n            pdBnftEndDateRule: this.bnftForm.pdBnftEndDateRule,\r\n            pdBnftEndDateMode: this.bnftForm.pdBnftEndDateMode,\r\n            pdBnftEndPeriod: this.bnftForm.pdBnftEndPeriod,\r\n            pdBnftEndPeriodUnit: this.bnftForm.pdBnftEndPeriodUnit,\r\n            pdOptFlag: this.bnftForm.pdOptFlag,\r\n            pdPeriodRela:this.bnftForm.pdPeriodRela\r\n          }\r\n          let bnftGetTypeAtrsInfo = {\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdType: \"1\",\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdAscLevel: \"Bnft_C\",\r\n            pdAtrsType: \"1\",\r\n            pdAtrsCode: \"pdsbnftgettype\",\r\n            pdAtrsName: \"\",\r\n            pdAtrsVal: this.bnftForm.pdsbnftgettype\r\n          }\r\n          let bnftData = {\r\n            PdtempPdBnft: PdtempPdBnft,\r\n            bnftGetTypeAtrsInfo: bnftGetTypeAtrsInfo\r\n          }\r\n          addPdtempPdBnft(bnftData).then(res => {\r\n            this.$emit(\"childFn\", \"reload1\",res.data)\r\n            this.$emit(\"childFn\", true)\r\n            this.notifySuccess(res.message)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    updatebnftForm() {\r\n      this.$refs[\"bnftForm\"].validate(valid => {\r\n        if (valid) {\r\n          let PdtempPdBnft = {\r\n            id: this.bnftForm.id,\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdName: this.pdtempPdInfo.pdName,\r\n            pdBnftOrder: this.bnftForm.pdBnftOrder,\r\n            pdBnftCode: this.bnftForm.pdBnftCode,\r\n            pdBnftName: this.bnftForm.pdBnftName,\r\n            pdBnftType: \"C\",\r\n            pdBnftDetailType: this.bnftForm.pdBnftDetailType,\r\n            pdAmntZreoFlag: this.bnftForm.pdAmntZreoFlag,\r\n            pdBnftStartDateRule: this.bnftForm.pdBnftStartDateRule,\r\n            pdBnftStartDateMode: this.bnftForm.pdBnftStartDateMode,\r\n            pdBnftStartPeriod: this.bnftForm.pdBnftStartPeriod,\r\n            pdBnftStartPeriodUnit: this.bnftForm.pdBnftStartPeriodUnit,\r\n            pdBnftEndDateRule: this.bnftForm.pdBnftEndDateRule,\r\n            pdBnftEndDateMode: this.bnftForm.pdBnftEndDateMode,\r\n            pdBnftEndPeriod: this.bnftForm.pdBnftEndPeriod,\r\n            pdBnftEndPeriodUnit: this.bnftForm.pdBnftEndPeriodUnit,\r\n            pdOptFlag: this.bnftForm.pdOptFlag,\r\n            pdPeriodRela:this.bnftForm.pdPeriodRela,\r\n          }\r\n          let bnftGetTypeAtrsInfo = {\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdType: \"1\",\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdAscLevel: \"Bnft_C\",\r\n            pdAtrsType: \"1\",\r\n            pdAscLevelCode: this.bnftForm.pdBnftCode,\r\n            pdAtrsCode: \"pdsbnftgettype\",\r\n            pdAtrsName: \"\",\r\n            pdAtrsVal: this.bnftForm.pdsbnftgettype\r\n          }\r\n          let bnftData = {\r\n            PdtempPdBnft: PdtempPdBnft,\r\n            bnftGetTypeAtrsInfo: bnftGetTypeAtrsInfo\r\n          }\r\n          updatePdtempPdBnft(bnftData).then(res => {\r\n            this.$emit(\"childFn\", \"reload\")\r\n            this.$emit(\"childFn\", true)\r\n            this.notifySuccess(res.message)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    deletebnftForm() {\r\n      let PdtempPdBnft = {\r\n        id: this.bnftForm.id,\r\n        pdBnftType: this.bnftForm.pdBnftType\r\n      }\r\n      let bnftGetTypeAtrsInfo = {\r\n        pdAscLevel: \"Bnft_C\",\r\n        pdAscLevelCode: this.bnftForm.pdBnftCode,\r\n        pdAtrsCode: \"pdsbnftgettype\"\r\n      }\r\n      let bnftData = {\r\n        PdtempPdBnft: PdtempPdBnft,\r\n        bnftGetTypeAtrsInfo: bnftGetTypeAtrsInfo,\r\n      }\r\n      deletePdtempPdBnft(bnftData).then(res => {\r\n        this.$emit(\"childFn\", \"reload\")\r\n        this.notifySuccess(res.message)\r\n        this.findPdtempPdClmBnftByProductId()\r\n        this.cleanbnftForm()\r\n      })\r\n    },\r\n    cleanbnftForm() {\r\n      this.$refs['bnftForm'].resetFields()\r\n      this.bnftForm.pdBnftStartPeriodUnit = \"Y\"\r\n      this.bnftForm.pdBnftEndPeriodUnit = \"Y\"\r\n      this.bnftForm.id = null\r\n      this.bnftForm.pdBnftOrder = this.configLength\r\n      //\r\n      if(this.activeName==='pdtemppdclmbnft'){\r\n        this.$emit('changeDialogVisible_radioSelect', null)\r\n      }\r\n    },\r\n    changDisType(flag) {\r\n      if (flag == \"Y\") {\r\n        this.configsForm.pdDisType = []\r\n      } else {\r\n        this.configsForm.pdDisCode = []\r\n      }\r\n    },\r\n    async findTypeRegion() {\r\n      await pdtempPdClsLabList(this.pdtempPdInfo.id).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdClsType == 1) {\r\n            this.typeRegion = response.data[i].pdCls1\r\n            this.diseaseClassification = response.data[i].pdCls15\r\n            //this.SelectMiutiSelectOptions()\r\n          }\r\n          if (response.data[i].pdClsType == 2) {\r\n            this.pdExptFlag = response.data[i].pdCls9\r\n          }\r\n        }\r\n      })\r\n    },\r\n    dblTypeChange(row) {\r\n      if (row) {\r\n        selectDblGradeByCode(row).then(res => {\r\n          let pdgenlDblGrades = res.data\r\n          this.pdDblGradeOptions = []\r\n          pdgenlDblGrades.forEach(pdgenlDblGrade => {\r\n            let flag = false\r\n            if (this.pdDblGradeOptions.length) {\r\n              this.pdDblGradeOptions.forEach(pdDblGradeOption => {\r\n                if (pdDblGradeOption.value == pdgenlDblGrade.dblGrdCode) {\r\n                  flag = true\r\n                }\r\n              })\r\n            }\r\n            if (flag == false) {\r\n              this.pdDblGradeOptions.push({\r\n                value: pdgenlDblGrade.dblGrdCode,\r\n                label:\r\n                  pdgenlDblGrade.dblGrdCode + \":\" + pdgenlDblGrade.dblGrdName\r\n              })\r\n              this.dblGrdRatios.push({\r\n                key: pdgenlDblGrade.dblGrdCode,\r\n                value: pdgenlDblGrade.dblGrdRatio\r\n              })\r\n            }\r\n          })\r\n          this.pdgenlConfigs = []\r\n          if (this.allPdtempPdDbls.length) {\r\n            this.allPdtempPdDbls.forEach(PdtempPdDbl => {\r\n              if (PdtempPdDbl.pdDblType == row) {\r\n                this.pdgenlConfigs.push(\r\n                  JSON.parse(JSON.stringify(PdtempPdDbl))\r\n                )\r\n              }\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        this.pdDblGradeOptions = []\r\n        this.pdgenlConfigs = []\r\n      }\r\n    },\r\n    saveConfigsForm() {\r\n      this.$refs[\"configsForm\"].validate(valid => {\r\n        if (valid) {\r\n          // let pdClmBnftType =\r\n          //   this.pdBnft.pdBnftDetailType.length +\r\n          //   this.configsForm.pdClmBnftType.length ==\r\n          //   2\r\n          //     ? this.configsForm.pdClmBnftType + \"0\" + this.pdBnft.pdBnftDetailType\r\n          //     : this.configsForm.pdClmBnftType + this.pdBnft.pdBnftDetailType\r\n          if(!this.configsForm.pdClmZeroFlag){\r\n            this.configsForm.pdClmZeroFlag = 'N'\r\n          }\r\n          let PdtempPdClmBnft = {\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdName: this.pdtempPdInfo.pdName,\r\n            pdBnftId: this.pdBnft.id,\r\n            pdBnftCode: this.pdBnft.pdBnftCode,\r\n            pdClmBnftCode: this.typeRegion,\r\n            pdClmBnftOrder: this.configsForm.pdClmBnftOrder,\r\n            pdClmBnftName: this.configsForm.pdClmBnftName,\r\n            pdClmBnftType: this.configsForm.pdClmBnftType,\r\n            pdClmBnftArea: this.configsForm.pdClmBnftArea,\r\n            pdClmZeroFlag: this.configsForm.pdClmZeroFlag,\r\n            pdClmBnftAmtCalType: this.configsForm.pdClmBnftAmtCalType,\r\n            pdClmMoyAmtCalMthd: this.configsForm.pdClmMoyAmtCalMthd,\r\n            pdClmFixBnftAmt: this.configsForm.pdClmFixBnftAmt,\r\n            pdClmRatio: this.configsForm.pdClmRatio,\r\n            pdMedHospType:this.configsForm.pdMedHospType,\r\n            pdClmBnftCalcCode:this.configsForm.pdClmBnftCalcCode,\r\n          }\r\n          let data = {\r\n            PdtempPdClmBnft: PdtempPdClmBnft,\r\n          }\r\n          addPdtempPdClmBnft(data).then(res => {\r\n            this.notifySuccess(res.message)\r\n            this.radio1 = res.data.id;\r\n            this.configsForm = Object.assign({},res.data)\r\n            this.$emit(\"childFn\", true);\r\n            this.findPdtempPdClmBnftByProductId()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    updateConfigsForm() {\r\n      this.$refs[\"configsForm\"].validate(valid => {\r\n        if (valid) {\r\n          // let pdClmBnftType =\r\n          //   this.pdBnft.pdBnftDetailType.length +\r\n          //   this.configsForm.pdClmBnftType.length ==\r\n          //   2\r\n          //     ? this.configsForm.pdClmBnftType + \"0\" + this.pdBnft.pdBnftDetailType\r\n          //     : this.configsForm.pdClmBnftType + this.pdBnft.pdBnftDetailType\r\n          let PdtempPdClmBnft = {\r\n            id: this.radio1,\r\n            pdVerId: this.pdtempPdInfo.pdVerId,\r\n            operator: this.pdtempPdInfo.operator,\r\n            pdInfoId: this.pdtempPdInfo.id,\r\n            pdCode: this.pdtempPdInfo.pdCode,\r\n            pdName: this.pdtempPdInfo.pdName,\r\n            pdBnftId: this.pdBnft.id,\r\n            pdBnftCode: this.pdBnft.pdBnftCode,\r\n            pdClmBnftCode: this.configsForm.pdClmBnftCode,\r\n            pdClmBnftOrder: this.configsForm.pdClmBnftOrder,\r\n            pdClmBnftName: this.configsForm.pdClmBnftName,\r\n            pdClmBnftType: this.configsForm.pdClmBnftType,\r\n            pdClmBnftArea: this.configsForm.pdClmBnftArea,\r\n            pdClmZeroFlag: this.configsForm.pdClmZeroFlag,\r\n            pdClmBnftAmtCalType: this.configsForm.pdClmBnftAmtCalType,\r\n            pdClmMoyAmtCalMthd: this.configsForm.pdClmMoyAmtCalMthd,\r\n            pdClmFixBnftAmt: this.configsForm.pdClmFixBnftAmt,\r\n            pdClmRatio: this.configsForm.pdClmRatio,\r\n            pdMedHospType: this.configsForm.pdMedHospType,\r\n            pdClmBnftCalcCode:this.configsForm.pdClmBnftCalcCode,\r\n          }\r\n          let data = {\r\n            PdtempPdClmBnft: PdtempPdClmBnft\r\n          }\r\n          updatePdtempPdClmBnft(data).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.update'))\r\n            this.$emit(\"childFn\", true);\r\n            this.findPdtempPdClmBnftByProductId()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    deleteConfigsForm() {\r\n      deletePdtempPdClmBnft(this.configsForm).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.findPdtempPdClmBnftByProductId()\r\n        this.cleanConfigsForm()\r\n        this.radio1 = null\r\n      })\r\n    },\r\n    cleanConfigsForm() {\r\n      this.configsForm = {\r\n        pdClmBnftName:\"\",\r\n        pdAsgnDisFlag: \"N\",\r\n        pdDisType: [],\r\n        pdDisCode: [],\r\n        pdMedFeeBill: [],\r\n        pdMedFeeCalMode: \"\",\r\n        pdMedFeeDefVal: \"\",\r\n        pdMedCalcId: \"\",\r\n        pdClmBnftAmtCalType:\"2\",\r\n        pdClmMoyAmtCalMthd:\"3\",\r\n        pdClmBnftOrder:this.pdClmBnftOrder,\r\n      }\r\n      this.radio1 = null\r\n      this.switch4 = false\r\n      this.allPdtempPdDbls = []\r\n      this.pdgenlConfigs = []\r\n      this.medBillConfigs = []\r\n      this.$nextTick(() => {\r\n        this.$refs.configsForm.clearValidate()\r\n      })\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    objectSpanMethod({row, column, rowIndex, columnIndex}) {\r\n      let num = 0\r\n      if (columnIndex === 1 || columnIndex === 2) {\r\n        for (var i = 0; i < this.pdgenlDisInfos.length; i++) {\r\n          if (row.disGroupCode == this.pdgenlDisInfos[i].disGroupCode) {\r\n            num++\r\n          }\r\n        }\r\n        if (num === 1) {\r\n          return {\r\n            rowspan: num,\r\n            colspan: 1\r\n          }\r\n        } else if (num > 1) {\r\n          if (\r\n            this.pdgenlDisInfos[rowIndex - 1] &&\r\n            this.pdgenlDisInfos[rowIndex].disGroupCode ==\r\n            this.pdgenlDisInfos[rowIndex - 1].disGroupCode\r\n          ) {\r\n            return {\r\n              rowspan: 0,\r\n              colspan: 0\r\n            }\r\n          } else {\r\n            return {\r\n              rowspan: num,\r\n              colspan: 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    changePdDblGrade(row, index) {\r\n      if (this.dblGrdRatios.length) {\r\n        this.dblGrdRatios.forEach(dblGrdRatio => {\r\n          if (dblGrdRatio.key == row) {\r\n            this.pdgenlConfigs[index].pdDblRate = dblGrdRatio.value\r\n          }\r\n        })\r\n      }\r\n    },\r\n    medBillTypeChange(row) {\r\n      if (row) {\r\n        selectPdMedFeeBillOptions(row).then(res => {\r\n          if (res.data.length) {\r\n            this.pdMedFeeBillOptions = []\r\n            let pdgenlMedBillFeeRelas = res.data\r\n            pdgenlMedBillFeeRelas.forEach(PdgenlMedBillFeeRelaInfo => {\r\n              this.pdMedFeeBillOptions.push({\r\n                label:\r\n                  PdgenlMedBillFeeRelaInfo.medFeeBillCode +\r\n                  \":\" +\r\n                  PdgenlMedBillFeeRelaInfo.medFeeBillName,\r\n                value:\r\n                  PdgenlMedBillFeeRelaInfo.medFeeBillCode +\r\n                  \":\" +\r\n                  PdgenlMedBillFeeRelaInfo.medFeeBillName\r\n              })\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    addDblRow() {\r\n      this.pdgenlConfigs.push({\r\n        pdDblGrade: \"\",\r\n        pdDblRate: \"\"\r\n      })\r\n    },\r\n    addMedRow() {\r\n      this.configsForm.pdMedFeeBill.forEach(pdMedFeeBill => {\r\n        this.medBillConfigs.push({\r\n          pdMedFeeBillCode: this.getCaption(pdMedFeeBill, 0),\r\n          pdMedFeeBillName: this.getCaption(pdMedFeeBill, 1),\r\n          pdMedFeeCalMode: this.configsForm.pdMedFeeCalMode,\r\n          pdMedFeeDefVal: this.configsForm.pdMedFeeDefVal,\r\n          pdMedCalcId: this.configsForm.pdMedCalcId\r\n        })\r\n      })\r\n      this.configsForm.pdMedFeeBill = []\r\n      this.configsForm.pdMedFeeCalMode = \"\"\r\n      this.configsForm.pdMedFeeDefVal = \"\"\r\n      this.configsForm.pdMedCalcId = \"\"\r\n    },\r\n    delDblRow(index, row) {\r\n      this.pdgenlConfigs.splice(index, 1)\r\n    },\r\n    delMedRow(index, row) {\r\n      this.medBillConfigs.splice(index, 1)\r\n    },\r\n    delDataRow(index, row) {\r\n      this.dataConfigs.splice(index, 1)\r\n    },\r\n    addDataRow() {\r\n      this.dataConfigs.push({\r\n        ruleData: []\r\n      })\r\n    },\r\n    checkMedTable(val){\r\n      this.checkMed = val;\r\n      if(this.checkMed.length==1){\r\n        this.medForm = {\r\n          medBillType:val[0].pdMedBillType,\r\n          pdMedFeeBillType:[val[0].pdMedFeeBillType],\r\n          pdMedBillName:val[0].pdMedFeeName\r\n        }\r\n      }else{\r\n        this.cleanMedForm();\r\n      }\r\n    },\r\n    medBillTypesChange(code) {\r\n      if (code) {\r\n        selectPdMedFeeBillOptions(code).then((res) => {\r\n          let data = res.data;\r\n          this.Options = [];\r\n          this.medForm.pdMedFeeBillType = [];\r\n          data.forEach((medFeeBill) => {\r\n            this.Options.push({\r\n              value: medFeeBill.medFeeBillCode + \":\" + medFeeBill.medFeeBillName,\r\n              label: medFeeBill.medFeeBillCode + \":\" + medFeeBill.medFeeBillName\r\n            });\r\n          });\r\n        });\r\n      } else {\r\n        this.Options = [];\r\n        this.medForm.pdMedFeeBillType = [];\r\n      }\r\n    },\r\n    pdMedFeeBillTypeChange(array){\r\n      this.medForm.pdMedBillName = '';\r\n      if(array.length){\r\n        array.forEach(val=>{\r\n          if(this.medForm.pdMedBillName.length){\r\n            this.medForm.pdMedBillName += ','\r\n          }\r\n          this.medForm.pdMedBillName += this.getCaption(val,1);\r\n        })\r\n      }\r\n    },\r\n    saveMedForm(){\r\n      if(this.checkMed.length==1){\r\n          let array = this.medForm.pdMedBillName.split(/[,]/)\r\n          let pdtempPdMedBill = {\r\n          pdVerId: this.pdtempPdInfo.pdVerId,\r\n          operator: this.pdtempPdInfo.operator,\r\n          pdClmBnftId: this.configsForm.id,\r\n          pdClmBnftCode: this.configsForm.pdClmBnftCode,\r\n          pdMedBillType: this.medForm.medBillType,\r\n      };\r\n      let pdtempPdMedFeeBills = [];\r\n      array.forEach((pdMedFeeName) => {\r\n        let pdtempPdMedFeeBill = {\r\n          pdVerId: this.pdtempPdInfo.pdVerId,\r\n          operator: this.pdtempPdInfo.operator,\r\n          pdMedBillType: this.medForm.medBillType,\r\n          pdMedFeeBillType: this.medForm.pdMedFeeBillType[0],\r\n          pdMedFeeName: pdMedFeeName\r\n        };\r\n        pdtempPdMedFeeBills.push(pdtempPdMedFeeBill);\r\n        });\r\n        let data = {\r\n        pdtempPdMedBill: pdtempPdMedBill,\r\n        pdtempPdMedFeeBills: pdtempPdMedFeeBills,\r\n      };\r\n      savePdtempPdMedFeeBill(this.buildRequestData(data)).then((res) => {\r\n        this.$message.success({message: res.message, type: 'success'});\r\n        this.cleanMedForm();\r\n        this.selectpdtempPdMedFeeBills(this.configsForm.pdClmBnftCode);\r\n      });\r\n      }else{\r\n        let array = this.medForm.pdMedBillName.split(/[,]/)\r\n      if(array.length!=this.medForm.pdMedFeeBillType.length){\r\n        this.$message.error({message: this.$t('pdtempPdClmBnft.medLengthError'), type: 'warning'});\r\n        return;\r\n      }else{\r\n        let pdtempPdMedBill = {\r\n        pdVerId: this.pdtempPdInfo.pdVerId,\r\n        operator: this.pdtempPdInfo.operator,\r\n        pdClmBnftId: this.configsForm.id,\r\n        pdClmBnftCode: this.configsForm.pdClmBnftCode,\r\n        pdMedBillType: this.medForm.medBillType,\r\n      };\r\n      let pdtempPdMedFeeBills = [];\r\n      this.medForm.pdMedFeeBillType.forEach((pdMedFeeBillType) => {\r\n        let pdtempPdMedFeeBill = {\r\n          pdVerId: this.pdtempPdInfo.pdVerId,\r\n          operator: this.pdtempPdInfo.operator,\r\n          pdMedBillType: this.medForm.medBillType,\r\n          pdMedFeeBillType: this.getCaption(pdMedFeeBillType,0),\r\n          pdMedFeeName: array[this.medForm.pdMedFeeBillType.indexOf(pdMedFeeBillType)]\r\n        };\r\n        pdtempPdMedFeeBills.push(pdtempPdMedFeeBill);\r\n      });\r\n      let data = {\r\n        pdtempPdMedBill: pdtempPdMedBill,\r\n        pdtempPdMedFeeBills: pdtempPdMedFeeBills,\r\n      };\r\n      savePdtempPdMedFeeBill(this.buildRequestData(data)).then((res) => {\r\n        this.$message.success({message: res.message, type: 'success'});\r\n        this.cleanMedForm();\r\n        this.selectpdtempPdMedFeeBills(this.configsForm.pdClmBnftCode);\r\n      });\r\n      }\r\n      }\r\n    },\r\n    cleanMedForm(){\r\n      this.medForm={\r\n        medBillType:'',\r\n        pdMedFeeBillType:[],\r\n        pdMedBillName:'',\r\n      }\r\n    },\r\n    delMedForm(row){\r\n      let pdtempPdMedBill = {\r\n        pdClmBnftId: this.configsForm.id,\r\n        pdClmBnftCode: this.configsForm.pdClmBnftCode,\r\n        pdMedBillType: row.medBillType,\r\n      };\r\n      let pdtempPdMedFeeBill = {\r\n        id: row.id,\r\n        pdVerId: this.pdtempPdInfo.pdVerId,\r\n        operator: this.pdtempPdInfo.operator,\r\n        pdMedFeeCode: row.pdMedFeeCode,\r\n        pdMedBillType: row.medBillType,\r\n        pdMedFeeBillType: row.pdMedFeeBillType,\r\n        pdMedFeeName: row.pdMedFeeName,\r\n      };\r\n      let data = {\r\n        pdtempPdMedBill:pdtempPdMedBill,\r\n        pdtempPdMedFeeBill:pdtempPdMedFeeBill\r\n      };\r\n      deletePdtempPdMedFeeBill(this.buildRequestData(data)).then((res) => {\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.selectpdtempPdMedFeeBills(this.configsForm.pdClmBnftCode);\r\n          this.cleanMedForm();\r\n        }\r\n      });\r\n    },\r\n    selectpdtempPdMedFeeBills(code) {\r\n      selectpdtempPdMedFeeBills(code).then((res) => {\r\n        this.medTable = res.data\r\n      });\r\n    },\r\n    goClicks1(num1, num2) {\r\n      let arr = []\r\n      arr.push(this.bnftForm.pdBnftType)\r\n      arr.push(num1)\r\n      this.guaranteeDetails = arr //\r\n      this.calculationFormulaType = num2 //\r\n      this.dialogShow.underwritingAmountFormula = true\r\n      this.pdUwSiTypeOptions = this.bnftForm\r\n      this.pdSrvlOptions = this.configsForm\r\n    },\r\n    bringInCalcCode1(pdBussDetailType, pdBussCode, ruleCode) {\r\n      this.configsForm.pdClmBnftCalcCode = ruleCode\r\n      this.$emit(\"bringInCalcCode\", pdBussCode, ruleCode)\r\n    },\r\n    changeDialogVisible_formula2_1(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.bnftForm\r\n      }\r\n      this.dialogShow.underwritingAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect2_1(\r\n      flag,\r\n      guaranteeDetails,\r\n      calculationFormulaType,\r\n      bnft,\r\n      bnftDt\r\n    ) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.bnftForm\r\n        if (\r\n          calculationFormulaType === \"27\" ||\r\n          calculationFormulaType === \"28\"\r\n        ) {\r\n          this.pdSrvlOptions = this.configsForm\r\n        }\r\n        this.pdUwSiTypeDtOptions = bnftDt\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.underwritingAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.underwritingAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.bnftAmountFormulaSelect = flag\r\n    },\r\n    setDefaultName(){\r\n      if(!this.configsForm.pdClmBnftName){\r\n        if(this.pdBnft.id){\r\n          this.configsForm.pdClmBnftName = this.getCodeName(\"pdclmbnfttype1\", this.configsForm.pdClmBnftType,true)+this.pdBnft.pdBnftName\r\n        }\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-monitoring\\package-monitoring\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-monitoring\\package-monitoring\\index.vue","mtime":1609847106624},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29tYm9Nb25pdG9yaW5nSW5kZXhEYXRhLGdldFN0YXR1cyxnZXROZXh0Tm9kZSxmaW5pc2hJbmZvfSBmcm9tICdAL2FwaS9iYXNpY2luZm8vY29tYm9Nb25pdG9yaW5nJzsKaW1wb3J0IHsgZmluaXNoUHJvZHVjdEluZm9EZWYyICxmaW5pc2hQcm9kdWN0T3BlcmF0aW9uYWxEZWYyLGZpbmlzaFByb2R1Y3RUZXN0RGVmLGZpbmlzaFByb2R1Y3RBdWRpdERlZixmaW5pc2hQcm9kdWN0UmVsZWFzZX0gZnJvbSAiQC9hcGkvd29ya2Zsb3cvd29ya2Zsb3ciOwppbXBvcnQgeyBjbG9zZVZpc2l0VGFnIH0gZnJvbSAnQC91dGlscy90YWdzVmlldycKbGV0IF90aGlzCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY29tYm9Nb25pdG9yaW5nIiwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJfcHBJbmZvKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLnBwSW5mb3NbY29kZV0KICAgIH0sCiAgICBmaWx0ZXJfcHBPcGVyYXRpb24oY29kZSkgewogICAgICByZXR1cm4gX3RoaXMucHBPcGVyYXRpb25zW2NvZGVdCiAgICB9LAogICAgZmlsdGVyX3BwVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5wcFR5cGVzW2NvZGVdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyQ29tbW9kaXR5QnJlYWtkb3duOiBbXSwKICAgICAgLy/liJ3lp4vljJbooajmoLwKICAgICAgY29tYm9Nb25pdG9yaW5nVGFibGU6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB3b3JrZmxvdzogewogICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiAiIiwKICAgICAgICBzZWxlY3RWYWx1ZTogIiIsCiAgICAgICAgb3B0aW9uczogW10KICAgICAgfSwKICAgICAgLy/liJ3lp4vljJbkuIvmi4npgIkKICAgICAgY29tYm9MaXN0OiBbXSwKICAgICAgdXJsOiAiL2NvbWJvTW9uaXRvcmluZy9iYXNlL2luZGV4RGF0YSIsCiAgICAgIGRhdGVWYWx1ZTogW10sCiAgICAgIHNlbGVjdE9wZXJhdGlvbjoge30sCiAgICAgIHN0YXR1c0RhdGE6IHt9LAogICAgICBzdGF0dXNEYXRhMjoge30sCiAgICAgIHN0YXR1c0RhdGEzOiB7fSwKICAgICAgc3RhdHVzRGF0YTQ6IHt9LAogICAgICBzdGF0dXNEYXRhNToge30sCiAgICAgIHNob3dQYWdlRmxhZ2UxOnRydWUsCiAgICAgIHBkSW5mb0lkOiAnJywKICAgICAgcGRQcm9jZXNzSWQ6ICcnLAogICAgICBtb2R1bGVOb2RlOiAnJywKICAgICAgcHBUeXBlczogeydOJzogJ+iHquWumuS5iScsICcwJzogJ+S6p+WTgee7hOijhSd9LAogICAgICBwcEluZm9zOiB7JzAnOiAn5pyq5a6a5LmJJywgJzEnOiAn5a6a5LmJ5LitJywgJzInOiAn5bey5a6a5LmJJ30sCiAgICAgIHBwT3BlcmF0aW9uczogeycwJzogJ+acquWumuS5iScsICcxJzogJ+WumuS5ieS4rScsICcyJzogJ+W3suWumuS5iSd9LAogICAgICBzaG93UGFnZUZsYWc6IGZhbHNlLAogICAgICB3b3JrRmxvd0VuZDonJywKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcHBDb2RlOiAnJywKICAgICAgICBjb21ib0FwcGx5U3RhcnREYXRlOiB1bmRlZmluZWQsCiAgICAgICAgY29tYm9BcHBseUVuZERhdGU6IHVuZGVmaW5lZAogICAgICB9LAoKICAgICAgLy/liqjmgIHmmL7npLoKICAgICAgc2hvd09wZXJhdGlvblByb2dyZXNzOiBmYWxzZSwKCgoKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRlVmFsdWUodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnBhcmFtcy5jb21ib0FwcGx5U3RhcnREYXRlID0gdmFsWzBdOwogICAgICAgIHRoaXMucGFyYW1zLmNvbWJvQXBwbHlFbmREYXRlID0gdmFsWzFdCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXJhbXMuY29tYm9BcHBseVN0YXJ0RGF0ZSA9ICcnOwogICAgICAgIHRoaXMucGFyYW1zLmNvbWJvQXBwbHlFbmREYXRlID0gJycKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucGFyYW1zLmNvbWJvQXBwbHlFbmREYXRlID0gbmV3IERhdGUoKTsKICAgIHRoaXMuc2VsZWN0Q29tYm8oKQoKCgogIH0sCiAgbWV0aG9kczogewogICAgZG9TZWFyY2goKSB7CiAgICAgIHRoaXMuc2VsZWN0Q29tYm8oKQogICAgICB0aGlzLmRhdGFSZWxvYWQoKQogICAgICB0aGlzLnNlbGVjdE9wZXJhdGlvbiA9IHt9CiAgICAgIHRoaXMuc2hvd09wZXJhdGlvblByb2dyZXNzID0gZmFsc2UKICAgIH0sCiAgICBmaW5pc2goKXsKICAgIC8v5Y+W5raI5pys5qyh5a6a5LmJCiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAncHJvY2Vzc0luc3RhbmNlSWQnOiB0aGlzLmdldEpzb25EYXRhKCJvcGVyYXRpb25TZWxlY3QiKS5wZFByb2Nlc3NJZAogICAgICAgIH07CiAgICAgICAgZmluaXNoSW5mbyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICB9LAogICAgZmluaXNoUHJvZHVjdEluZm9EZWYoKSB7CiAgICAgIGlmICh0aGlzLndvcmtmbG93LnNlbGVjdFZhbHVlID09PSAiIikgewogICAgICAgIHRoaXMubWVzc2FnZUVycm9yKHRoaXMuJHQoImNvbWJvTW9uaXRvcmluZy50aXBFcnJvciIpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICB0aGlzLiR0KCJjb21ib01vbml0b3Jpbmcud2Fybk1zZyIpLAogICAgICAgIHRoaXMuJHQoImNvbWJvTW9uaXRvcmluZy5tZXNzYWdlVGlwIiksCiAgICAgICAgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMuJHQoImNvbWJvTW9uaXRvcmluZy53YXJuTXNnQnV0dG9uMiIpLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgiY29tYm9Nb25pdG9yaW5nLndhcm5Nc2dCdXR0b24xIiksCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9CiAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICB1c2VyQ29kZTogdGhpcy51c2VyY29kZSwKICAgICAgICAgIHByb2R1Y3RPcGVyYXRpbmdGbGFnOiAiMSIsCiAgICAgICAgICBwcm9kdWN0VGVzdEZsYWc6ICIxIiwKICAgICAgICAgIHByb2R1Y3RBdWRpdEZsYWc6ICIxIiwKICAgICAgICAgIHByb2R1Y3RSZWxlYXNlRmxhZzogIjEiLAogICAgICAgICAgcHJvY2Vzc0luc3RhbmNlSWQ6IHRoaXMuZ2V0SnNvbkRhdGEoIm9wZXJhdGlvblNlbGVjdCIpLnBkUHJvY2Vzc0lkLAogICAgICAgICAgc2VsZWN0ZWQ6dGhpcy53b3JrZmxvdy5zZWxlY3RWYWx1ZQogICAgICAgIH07CiAgICAgICAgZGF0YVt0aGlzLndvcmtmbG93LnNlbGVjdFZhbHVlXSA9ICIwIjsKICAgICAgICBpZih0aGlzLndvcmtGbG93RW5kPT0i5qGG5p625a6a5LmJ57uT5p2fIil7CiAgICAgICAgZmluaXNoUHJvZHVjdEluZm9EZWYyKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCJzdWNjZXNzIik7CiAgICAgICAgICBjbG9zZVZpc2l0VGFnKCk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvZGFzaGJvYXJkIiB9KTsKICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZih0aGlzLndvcmtGbG93RW5kPT0i6JCl6L+Q5a6a5LmJ57uT5p2fIil7CiAgICAgICAgZmluaXNoUHJvZHVjdE9wZXJhdGlvbmFsRGVmMih0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygic3VjY2VzcyIpOwogICAgICAgICAgY2xvc2VWaXNpdFRhZygpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2Rhc2hib2FyZCIgfSk7CiAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYodGhpcy53b3JrRmxvd0VuZD09IuWll+mkkOa1i+ivlee7k+adnyIpewogICAgICAgICAgZmluaXNoUHJvZHVjdFRlc3REZWYodGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcygic3VjY2VzcyIpOwogICAgICAgICAgICBjbG9zZVZpc2l0VGFnKCk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9kYXNoYm9hcmQiIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYodGhpcy53b3JrRmxvd0VuZD09IuWll+mkkOWuoeaguOe7k+adnyIpewogICAgICAgICAgZmluaXNoUHJvZHVjdEF1ZGl0RGVmKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoInN1Y2Nlc3MiKTsKICAgICAgICAgICAgY2xvc2VWaXNpdFRhZygpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvZGFzaGJvYXJkIiB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH1lbHNlIGlmKHRoaXMud29ya0Zsb3dFbmQ9PSLlpZfppJDlj5HluIPnu5PmnZ8iKXsKICAgICAgICAgIGZpbmlzaFByb2R1Y3RSZWxlYXNlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3MoInN1Y2Nlc3MiKTsKICAgICAgICAgICAgY2xvc2VWaXNpdFRhZygpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvZGFzaGJvYXJkIiB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIH0pOwogICAgfSwKICAgIGZpbHRlckhhbmRsZXIoY29kZXR5cGUsIHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLmdldENvZGVOYW1lKGNvZGV0eXBlLCB2YWx1ZSk7CiAgICB9LAogICAgZmlsdGVyUHBJbmZvSGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bJ3Byb3BlcnR5J10KICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlCiAgICB9LAogICAgZmlsdGVyUHBPcGVyYXRpb25IYW5kbGVyKHZhbHVlLCByb3csIGNvbHVtbikgewogICAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbHVtblsncHJvcGVydHknXQogICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWUKICAgIH0sCiAgICBmaWx0ZXJEZWZUeXBlSGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgY29uc3QgcHJvcGVydHkgPSBjb2x1bW5bJ3Byb3BlcnR5J10KICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlCiAgICB9LAogICAgZGF0YVJlbG9hZCgpIHsKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRyZWZzLmRhdGFQYWdlKTsKICAgICAgaWYgKHRoaXMuJHJlZnMuZGF0YVBhZ2UpIHsKICAgICAgICB0aGlzLiRyZWZzLmRhdGFQYWdlLnJlbG9hZCgpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0Q29tYm8oKSB7CiAgICAgIGNvbWJvTW9uaXRvcmluZ0luZGV4RGF0YSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wYXJhbXMpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVjb3JkcwogICAgICAgIC8v6I635Y+W5Lqn5ZOB57yW56CBCiAgICAgICAgZm9yIChjb25zdCBjb21ibyBvZiB0aGlzLnRhYmxlRGF0YSkgewogICAgICAgICAgbGV0IGZsYWcgPSBmYWxzZQogICAgICAgICAgZm9yIChjb25zdCBjb21ib09wdGlvbiBvZiB0aGlzLmNvbWJvTGlzdCkgewogICAgICAgICAgICBpZiAoY29tYm9PcHRpb24ucHBDb2RlID09PSBjb21iby5wcENvZGUpIHsKICAgICAgICAgICAgICBmbGFnID0gdHJ1ZQogICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICghZmxhZykgewogICAgICAgICAgICB0aGlzLmNvbWJvTGlzdC5wdXNoKGNvbWJvKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzZWxlY3RlZFBwQ29kZUNoYW5nZWQocHBDb2RlKSB7CgogICAgICB0aGlzLl8uZmlsdGVyKHRoaXMuY29tYm9Nb25pdG9yaW5nVGFibGUsIHsncHBDb2RlJzogcHBDb2RlfSkKCiAgICB9LAogICAgcm93Q2xpY2tfT3BlcmF0aW9uKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RPcGVyYXRpb24pIHsKICAgICAgICAgIHRoaXMuc2VsZWN0T3BlcmF0aW9uID0ge30KICAgICAgICAgIHRoaXMuc2hvd09wZXJhdGlvblByb2dyZXNzID0gZmFsc2UKICAgICAgICAgIHRoaXMuY2FjaGVKc29uRGF0YSgnb3BlcmF0aW9uU2VsZWN0JywgdGhpcy5zZWxlY3RPcGVyYXRpb24pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2FjaGVDdXJyUGFnZVBkRGF0YShyb3cpCiAgICAgICAgICB0aGlzLmNhY2hlSnNvbkRhdGEoJ29wZXJhdGlvblNlbGVjdCcsIHJvdykKICAgICAgICAgIHRoaXMucGRJbmZvSWQgPSByb3cuaWQKICAgICAgICAgIHRoaXMucGRQcm9jZXNzSWQgPSByb3cucGRQcm9jZXNzSWQKICAgICAgICAgIHRoaXMuc2hvd09wZXJhdGlvblByb2dyZXNzID0gdHJ1ZQogICAgICAgICAgdGhpcy5jaGVja1Byb2Nlc3MoKQogICAgICAgICAgdGhpcy5uZXh0Tm9kZSgpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hlY2tQcm9jZXNzKCkgewogICAgICBnZXRTdGF0dXModGhpcy5idWlsZFJlcXVlc3REYXRhKHsicGRQcm9jZXNzSWQiOiB0aGlzLnBkUHJvY2Vzc0lkLCAibW9kdWxlTm9kZSI6ICdwZFBwRGVmJ30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNEYXRhID0gcmVzLmRhdGFbMF0KICAgICAgfSkKICAgICAgZ2V0U3RhdHVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkUHJvY2Vzc0lkIjogdGhpcy5wZFByb2Nlc3NJZCwgIm1vZHVsZU5vZGUiOiAncGFja2FnZU9wZXJhdGlvbmFsJ30pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNEYXRhMiA9IHJlcy5kYXRhWzBdCiAgICAgIH0pCiAgICAgIGdldFN0YXR1cyh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZFByb2Nlc3NJZCI6IHRoaXMucGRQcm9jZXNzSWQsICJtb2R1bGVOb2RlIjogJ3Rlc3QnfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnN0YXR1c0RhdGEzID0gcmVzLmRhdGFbMF0KICAgICAgfSkKICAgICAgZ2V0U3RhdHVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkUHJvY2Vzc0lkIjogdGhpcy5wZFByb2Nlc3NJZCwgIm1vZHVsZU5vZGUiOiAncGRQcEV4YW1pbmUnfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnN0YXR1c0RhdGE0ID0gcmVzLmRhdGFbMF0KICAgICAgfSkKICAgICAgZ2V0U3RhdHVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7InBkUHJvY2Vzc0lkIjogdGhpcy5wZFByb2Nlc3NJZCwgIm1vZHVsZU5vZGUiOiAncGRQcFJlbGVhc2UnfSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnN0YXR1c0RhdGE1ID0gcmVzLmRhdGFbMF0KICAgICAgfSkKICAgIH0sCiAgICBuZXh0Tm9kZSgpewogICAgICBnZXROZXh0Tm9kZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEluZm9JZCI6IHRoaXMucGRJbmZvSWR9KSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMud29ya2Zsb3cuc2VsZWN0VmFsdWUgPSByZXMuZGF0YS5yZWNvcmRzWzBdLm5leHROb2RlCgogICAgICAgICBpZihyZXMuZGF0YS5yZWNvcmRzWzBdLnRhc2tLZXk9PSJ1c2VydGFzazEiKXsKICAgICAgICAgICB0aGlzLndvcmtGbG93RW5kPSLmoYbmnrblrprkuYnnu5PmnZ8iCiAgICAgICAgICAgdGhpcy5zaG93UGFnZUZsYWdlMT10cnVlCiAgICAgICAgIH1lbHNlIGlmKHJlcy5kYXRhLnJlY29yZHNbMF0udGFza0tleS5tYXRjaCgidXNlcnRhc2soWzMtNV0pIikpewogICAgICAgICAgdGhpcy53b3JrRmxvd0VuZD0i6JCl6L+Q5a6a5LmJ57uT5p2fIgogICAgICAgICAgIHRoaXMuc2hvd1BhZ2VGbGFnZTE9dHJ1ZQogICAgICAgIH1lbHNlIGlmKHJlcy5kYXRhLnJlY29yZHNbMF0udGFza0tleT09Im5ld1NpbmdsZSIgfHwgcmVzLmRhdGEucmVjb3Jkc1swXS50YXNrS2V5PT0iUmVuZXdhbFJlbmV3YWwifHwgcmVzLmRhdGEucmVjb3Jkc1swXS50YXNrS2V5PT0icHJlc2VydmF0aW9uInx8IHJlcy5kYXRhLnJlY29yZHNbMF0udGFza0tleT09ImNsYWltcyJ8fCByZXMuZGF0YS5yZWNvcmRzWzBdLnRhc2tLZXk9PSJ1bmRlcndyaXRpbmciKXsKICAgICAgICAgICB0aGlzLndvcmtGbG93RW5kPSLlpZfppJDmtYvor5Xnu5PmnZ8iCiAgICAgICAgICAgdGhpcy5zaG93UGFnZUZsYWdlMT10cnVlCiAgICAgICAgIH1lbHNlIGlmKHJlcy5kYXRhLnJlY29yZHNbMF0udGFza0tleT09IlByb2R1Y3RBdWRpdCIpewogICAgICAgICAgIHRoaXMud29ya0Zsb3dFbmQ9IuWll+mkkOWuoeaguOe7k+adnyIKICAgICAgICAgICB0aGlzLnNob3dQYWdlRmxhZ2UxPXRydWUKICAgICAgICAgfSBlbHNlIGlmKHJlcy5kYXRhLnJlY29yZHNbMF0udGFza0tleT09IlByb2R1Y3RSZWxlYXNlIil7CiAgICAgICAgICAgdGhpcy53b3JrRmxvd0VuZD0i5aWX6aSQ5Y+R5biD57uT5p2fIgogICAgICAgICAgIHRoaXMuc2hvd1BhZ2VGbGFnZTE9dHJ1ZQogICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgdGhpcy5zaG93UGFnZUZsYWdlMT1mYWxzZQogICAgICAgICB9CiAgICAgICAgICAgaWYgKHRoaXMud29ya2Zsb3cuc2VsZWN0VmFsdWUgPT0gInByb2R1Y3RPcGVyYXRpbmdGbGFnIikgewogICAgICAgICAgICAgdGhpcy53b3JrZmxvdy5vcHRpb25zID0gW3trZXk6ICJwcm9kdWN0T3BlcmF0aW5nRmxhZyIsIGxhYmVsOiAi5aWX6aSQ6JCl6L+Q5a6a5LmJIn0sCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0VGVzdEZsYWciLCBsYWJlbDogIuWll+mkkOa1i+ivlSJ9LAogICAgICAgICAgICAgICB7a2V5OiAicHJvZHVjdEF1ZGl0RmxhZyIsIGxhYmVsOiAi5aWX6aSQ5a6h5qC4In0sCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0UmVsZWFzZUZsYWciLCBsYWJlbDogIuWll+mkkOWPkeW4gyJ9LAogICAgICAgICAgICAgICB7a2V5OiAiZmluaXNoIiwgbGFiZWw6ICLlrozmiJAifV0KICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMud29ya2Zsb3cuc2VsZWN0VmFsdWUgPT0gInByb2R1Y3RUZXN0RmxhZyIpIHsKICAgICAgICAgICAgIHRoaXMud29ya2Zsb3cub3B0aW9ucyA9IFsKICAgICAgICAgICAgICAge2tleTogInByb2R1Y3RUZXN0RmxhZyIsIGxhYmVsOiAi5aWX6aSQ5rWL6K+VIn0sCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0QXVkaXRGbGFnIiwgbGFiZWw6ICLlpZfppJDlrqHmoLgifSwKICAgICAgICAgICAgICAge2tleTogInByb2R1Y3RSZWxlYXNlRmxhZyIsIGxhYmVsOiAi5aWX6aSQ5Y+R5biDIn0sCiAgICAgICAgICAgICAgIHtrZXk6ICJmaW5pc2giLCBsYWJlbDogIuWujOaIkCJ9XQogICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy53b3JrZmxvdy5zZWxlY3RWYWx1ZSA9PSAicHJvZHVjdEF1ZGl0RmxhZyIpIHsKICAgICAgICAgICAgIHRoaXMud29ya2Zsb3cub3B0aW9ucyA9IFsKICAgICAgICAgICAgICAge2tleTogInByb2R1Y3RBdWRpdEZsYWciLCBsYWJlbDogIuWll+mkkOWuoeaguCJ9LAogICAgICAgICAgICAgICB7a2V5OiAicHJvZHVjdFJlbGVhc2VGbGFnIiwgbGFiZWw6ICLlpZfppJDlj5HluIMifSwKICAgICAgICAgICAgICAge2tleTogImZpbmlzaCIsIGxhYmVsOiAi5a6M5oiQIn1dCiAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLndvcmtmbG93LnNlbGVjdFZhbHVlID09ICJwcm9kdWN0UmVsZWFzZUZsYWciKSB7CiAgICAgICAgICAgICB0aGlzLndvcmtmbG93Lm9wdGlvbnMgPSBbCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0UmVsZWFzZUZsYWciLCBsYWJlbDogIuWll+mkkOWPkeW4gyJ9LAogICAgICAgICAgICAgICB7a2V5OiAiZmluaXNoIiwgbGFiZWw6ICLlrozmiJAifV0KICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgdGhpcy53b3JrZmxvdy5vcHRpb25zID0gW3trZXk6ICJwcm9kdWN0T3BlcmF0aW5nRmxhZyIsIGxhYmVsOiAi5aWX6aSQ6JCl6L+Q5a6a5LmJIn0sCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0VGVzdEZsYWciLCBsYWJlbDogIuWll+mkkOa1i+ivlSJ9LAogICAgICAgICAgICAgICB7a2V5OiAicHJvZHVjdEF1ZGl0RmxhZyIsIGxhYmVsOiAi5aWX6aSQ5a6h5qC4In0sCiAgICAgICAgICAgICAgIHtrZXk6ICJwcm9kdWN0UmVsZWFzZUZsYWciLCBsYWJlbDogIuWll+mkkOWPkeW4gyJ9LAogICAgICAgICAgICAgICB7a2V5OiAiZmluaXNoIiwgbGFiZWw6ICLlrozmiJAifV0KICAgICAgICAgICB9CgogICAgICAgICB9KQogICAgfSwKICAgIGhhbmRsZUdvUGFnZSh0eXBlKSB7CiAgICAgIGxldCBwYXRoID0gdGhpcy5tZW51TmFtZVRvUGF0aCh0eXBlKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogcGF0aH0pOwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-monitoring/package-monitoring","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <cus-page-title :label=\"$t('comboMonitoring.comboMonitoring')\"></cus-page-title>\r\n\r\n    <el-form :inline=\"true\" label-width=\"auto\" ref=\"params\" :model=\"params\">\r\n\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('comboMonitoring.combo')\">\r\n            <el-select @change=\"selectedPpCodeChanged\" clearable filterable\r\n                       v-model=\"params.ppCode\" style=\"width: 220px\">\r\n              <el-option :key=\"combo.id\" :label=\"combo.ppCode+':'+combo.ppName\" :value=\"combo.ppCode\"\r\n                         v-for=\"combo in comboList\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('comboMonitoring.ppApplyDate')\">\r\n            <el-date-picker v-model=\"dateValue\" type=\"daterange\" unlink-panels\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            :range-separator=\"$t('comboMonitoring.to')\"\r\n                            :start-placeholder=\"$t('comboMonitoring.comboApplyStartDate')\"\r\n                            :end-placeholder=\"$t('comboMonitoring.comboApplyEndDate')\"\r\n                            :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-button  size=\"small\" type=\"primary\" style=\"margin-left:138px\" icon=\"el-icon-search\" @click=\"doSearch\">\r\n            {{$t('comboMonitoring.search')}}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <el-divider content-position=\"left\"><i class=\"el-icon-s-grid\"></i>{{$t('comboMonitoring.comboMonitoring')}}\r\n    </el-divider>\r\n    <el-table :data=\"comboMonitoringTable\" size=\"mini\" @row-click=\"rowClick_Operation\" highlight-current-row\r\n              fit element-loading-text=\"Loading\" border align=\"center\" class=\"wraper-table\">\r\n      <el-table-column width=\"60\" :label=\"$t('productSelect.selection')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectOperation\">\r\n            <el-radio :label=\"scope.row.id\">{{''}}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.ppCode')\" prop=\"ppCode\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.ppName')\" prop=\"ppName\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.defType')\" prop=\"defType\" align=\"center\"\r\n                       :filters=\"[{text: '新套餐', value: '1'}, {text: '订正套餐', value: '2'}, {text: '停售套餐', value: '3'}]\"\r\n                       :filter-method=\"filterDefTypeHandler\" column-key=\"defType\">\r\n        <template v-slot=\"scope\">{{filterHandler('pdAuditType',scope.row.defType )}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.ppInfo')\" prop=\"ppInfo\" align=\"center\"\r\n                       :filters=\"[{text: '未定义', value: '0'}, {text: '定义中', value: '1'}, {text: '已定义', value: '2'}]\"\r\n                       :filter-method=\"filterPpInfoHandler\" column-key=\"ppInfo\">\r\n        <template v-slot=\"scope\">{{scope.row.ppInfo | filter_ppInfo}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.ppOperation')\" prop=\"ppOperation\" align=\"center\"\r\n                       :filters=\"[{text: '未定义', value: '0'}, {text: '定义中', value: '1'}, {text: '已定义', value: '2'}]\"\r\n                       :filter-method=\"filterPpOperationHandler\" column-key=\"ppOperation\">\r\n        <template v-slot=\"scope\">{{scope.row.ppOperation | filter_ppOperation}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.ppApplyDate')\" prop=\"applyTime\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.pdTestReturnTimes')\" prop=\"pdTestReturnTimes\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('comboMonitoring.pdReturnTimes')\" prop=\"pdReturnTimes\" align=\"center\"></el-table-column>\r\n\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"dataPage\" :url=\"url\" :pageSize=\"10\" :params=\"params\" v-model=\"comboMonitoringTable\"/>\r\n    <br>\r\n    <!--产品营运定义进度-->\r\n    <div v-if=\"showOperationProgress\">\r\n\r\n\r\n      <!--产品框架定义详情-->\r\n      <cus-form-title :label=\"$t('comboMonitoring.pdInfo')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboMonitoring.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      <!--产品营运定义详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboMonitoring.operational')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData2.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboMonitoring.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--产品测试详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboMonitoring.test')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData3.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboMonitoring.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage3(item1.moduleName)\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--产品审核详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboMonitoring.examine')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData4.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboMonitoring.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage('产品审核')\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--产品发布详情-->\r\n      <cus-form-title style=\"clear: both\" :label=\"$t('comboMonitoring.release')\"/>\r\n      <div class=\"cusSubCard cusProcess\">\r\n        <div class=\"sub\" v-for=\"item1 in  this.statusData5.children\">\r\n          <el-tooltip effect=\"light\" :content=\"$t('comboSelect.processTip')\"\r\n                      placement=\"top-end\">\r\n            <div class=\"wraper\" @click=\"handleGoPage('产品发布')\">\r\n              <div class=\"loss\" :class=\"{'loss_no' : item1.moduleStatus ==='0'}\"></div>\r\n              <div class=\"tag\" :class=\"{'tag_no' : item1.moduleStatus ==='0'}\">{{item1.moduleName}}</div>\r\n              <div class=\"triangle\" :class=\"{'triangle_no' : item1.moduleStatus ==='0'}\"></div>\r\n            </div>\r\n          </el-tooltip>\r\n          <div style=\"margin-top: 23px\">\r\n            <el-steps direction=\"vertical\" process-status=\"success\" v-for=\"item2 in  item1.children\">\r\n              <el-step :icon=\"item2.moduleStatus=='1'?'el-icon-circle-check': 'el-icon-circle-close'\"\r\n                       :status=\"item2.moduleStatus=='1'? 'finish' : 'wait'\" :title=\"item2.moduleName\"></el-step>\r\n            </el-steps>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"collapseCus_finishDef is_fixed_finishDef\" style=\"clear: both\" v-if=\"showPageFlage1\">\r\n        <el-form >\r\n          <el-form-item :label=\"$t('comboMonitoring.node_selection')\">\r\n\r\n            <el-select :disabled=\"showPageFlag\" clearable filterable style=\"width: 150px;margin-bottom: 10px\" v-model=\"workflow.selectValue\">\r\n              <el-option :disabled=\"item.disabled\" :key=\"item.key\" :label=\"item.label\" :value=\"item.key\" v-for=\"item in workflow.options\"></el-option>\r\n            </el-select>\r\n            <el-button  size=\"small\" :disabled=\"showPageFlag\" @click=\"finishProductInfoDef\" style=\"width: 150px\" type=\"primary\">\r\n              <svg-icon icon-class=\"end\"></svg-icon>{{workFlowEnd}}\r\n            </el-button>\r\n\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n        <el-button  size=\"small\" :disabled=\"showPageFlag\" @click=\"finish\" style=\"width: 150px\" type=\"primary\">\r\n          {{$t('comboMonitoring.end')}}\r\n        </el-button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n  import {comboMonitoringIndexData,getStatus,getNextNode,finishInfo} from '@/api/basicinfo/comboMonitoring';\r\n  import { finishProductInfoDef2 ,finishProductOperationalDef2,finishProductTestDef,finishProductAuditDef,finishProductRelease} from \"@/api/workflow/workflow\";\r\n  import { closeVisitTag } from '@/utils/tagsView'\r\n  let _this\r\n  export default {\r\n    name: \"comboMonitoring\",\r\n    filters: {\r\n      filter_ppInfo(code) {\r\n        return _this.ppInfos[code]\r\n      },\r\n      filter_ppOperation(code) {\r\n        return _this.ppOperations[code]\r\n      },\r\n      filter_ppType(code) {\r\n        return _this.ppTypes[code]\r\n      }\r\n    },\r\n    data() {\r\n      _this = this;\r\n      return {\r\n        filterCommodityBreakdown: [],\r\n        //初始化表格\r\n        comboMonitoringTable: [],\r\n        tableData: [],\r\n        workflow: {\r\n          processInstanceId: \"\",\r\n          selectValue: \"\",\r\n          options: []\r\n        },\r\n        //初始化下拉选\r\n        comboList: [],\r\n        url: \"/comboMonitoring/base/indexData\",\r\n        dateValue: [],\r\n        selectOperation: {},\r\n        statusData: {},\r\n        statusData2: {},\r\n        statusData3: {},\r\n        statusData4: {},\r\n        statusData5: {},\r\n        showPageFlage1:true,\r\n        pdInfoId: '',\r\n        pdProcessId: '',\r\n        moduleNode: '',\r\n        ppTypes: {'N': '自定义', '0': '产品组装'},\r\n        ppInfos: {'0': '未定义', '1': '定义中', '2': '已定义'},\r\n        ppOperations: {'0': '未定义', '1': '定义中', '2': '已定义'},\r\n        showPageFlag: false,\r\n        workFlowEnd:'',\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        params: {\r\n          ppCode: '',\r\n          comboApplyStartDate: undefined,\r\n          comboApplyEndDate: undefined\r\n        },\r\n\r\n        //动态显示\r\n        showOperationProgress: false,\r\n\r\n\r\n\r\n      }\r\n    },\r\n    watch: {\r\n      dateValue(val) {\r\n        if (val) {\r\n          this.params.comboApplyStartDate = val[0];\r\n          this.params.comboApplyEndDate = val[1]\r\n        } else {\r\n          this.params.comboApplyStartDate = '';\r\n          this.params.comboApplyEndDate = ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.params.comboApplyEndDate = new Date();\r\n      this.selectCombo()\r\n\r\n\r\n\r\n    },\r\n    methods: {\r\n      doSearch() {\r\n        this.selectCombo()\r\n        this.dataReload()\r\n        this.selectOperation = {}\r\n        this.showOperationProgress = false\r\n      },\r\n      finish(){\r\n      //取消本次定义\r\n          let data = {\r\n            'processInstanceId': this.getJsonData(\"operationSelect\").pdProcessId\r\n          };\r\n          finishInfo(this.buildRequestData(data)).then(res => {\r\n            if (res.code == 200) {\r\n              this.notifySuccess(res.message);\r\n            }\r\n          });\r\n\r\n      },\r\n      finishProductInfoDef() {\r\n        if (this.workflow.selectValue === \"\") {\r\n          this.messageError(this.$t(\"comboMonitoring.tipError\"));\r\n          return;\r\n        }\r\n        this.$confirm(\r\n          this.$t(\"comboMonitoring.warnMsg\"),\r\n          this.$t(\"comboMonitoring.messageTip\"),\r\n          {\r\n            confirmButtonText: this.$t(\"comboMonitoring.warnMsgButton2\"),\r\n            cancelButtonText: this.$t(\"comboMonitoring.warnMsgButton1\"),\r\n            type: \"warning\"\r\n          }\r\n        ).then(() => {\r\n          let data = {\r\n            userCode: this.usercode,\r\n            productOperatingFlag: \"1\",\r\n            productTestFlag: \"1\",\r\n            productAuditFlag: \"1\",\r\n            productReleaseFlag: \"1\",\r\n            processInstanceId: this.getJsonData(\"operationSelect\").pdProcessId,\r\n            selected:this.workflow.selectValue\r\n          };\r\n          data[this.workflow.selectValue] = \"0\";\r\n          if(this.workFlowEnd==\"框架定义结束\"){\r\n          finishProductInfoDef2(this.buildRequestData(data)).then(res => {\r\n            this.notifySuccess(\"success\");\r\n            closeVisitTag();\r\n            this.$router.push({ path: \"/dashboard\" });\r\n          });\r\n          }else if(this.workFlowEnd==\"营运定义结束\"){\r\n          finishProductOperationalDef2(this.buildRequestData(data)).then(res => {\r\n            this.notifySuccess(\"success\");\r\n            closeVisitTag();\r\n            this.$router.push({ path: \"/dashboard\" });\r\n          });\r\n          }else if(this.workFlowEnd==\"套餐测试结束\"){\r\n            finishProductTestDef(this.buildRequestData(data)).then(res => {\r\n              this.notifySuccess(\"success\");\r\n              closeVisitTag();\r\n              this.$router.push({ path: \"/dashboard\" });\r\n            });\r\n          }else if(this.workFlowEnd==\"套餐审核结束\"){\r\n            finishProductAuditDef(this.buildRequestData(data)).then(res => {\r\n              this.notifySuccess(\"success\");\r\n              closeVisitTag();\r\n              this.$router.push({ path: \"/dashboard\" });\r\n            });\r\n          }else if(this.workFlowEnd==\"套餐发布结束\"){\r\n            finishProductRelease(this.buildRequestData(data)).then(res => {\r\n              this.notifySuccess(\"success\");\r\n              closeVisitTag();\r\n              this.$router.push({ path: \"/dashboard\" });\r\n            });\r\n          }\r\n\r\n        });\r\n      },\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      filterPpInfoHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      filterPpOperationHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      filterDefTypeHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      dataReload() {\r\n        //console.log(this.$refs.dataPage);\r\n        if (this.$refs.dataPage) {\r\n          this.$refs.dataPage.reload();\r\n        }\r\n      },\r\n      selectCombo() {\r\n        comboMonitoringIndexData(this.buildRequestData(this.params)).then(response => {\r\n          this.tableData = response.data.records\r\n          //获取产品编码\r\n          for (const combo of this.tableData) {\r\n            let flag = false\r\n            for (const comboOption of this.comboList) {\r\n              if (comboOption.ppCode === combo.ppCode) {\r\n                flag = true\r\n                break\r\n              }\r\n            }\r\n            if (!flag) {\r\n              this.comboList.push(combo)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      selectedPpCodeChanged(ppCode) {\r\n\r\n        this._.filter(this.comboMonitoringTable, {'ppCode': ppCode})\r\n\r\n      },\r\n      rowClick_Operation(row, column, event) {\r\n        if (event.target.nodeName === \"INPUT\") {\r\n          if (row.id === this.selectOperation) {\r\n            this.selectOperation = {}\r\n            this.showOperationProgress = false\r\n            this.cacheJsonData('operationSelect', this.selectOperation)\r\n          } else {\r\n            this.cacheCurrPagePdData(row)\r\n            this.cacheJsonData('operationSelect', row)\r\n            this.pdInfoId = row.id\r\n            this.pdProcessId = row.pdProcessId\r\n            this.showOperationProgress = true\r\n            this.checkProcess()\r\n            this.nextNode()\r\n          }\r\n        }\r\n      },\r\n      checkProcess() {\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpDef'})).then(res => {\r\n          this.statusData = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'packageOperational'})).then(res => {\r\n          this.statusData2 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'test'})).then(res => {\r\n          this.statusData3 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpExamine'})).then(res => {\r\n          this.statusData4 = res.data[0]\r\n        })\r\n        getStatus(this.buildRequestData({\"pdProcessId\": this.pdProcessId, \"moduleNode\": 'pdPpRelease'})).then(res => {\r\n          this.statusData5 = res.data[0]\r\n        })\r\n      },\r\n      nextNode(){\r\n        getNextNode(this.buildRequestData({\"pdInfoId\": this.pdInfoId})).then(res => {\r\n          this.workflow.selectValue = res.data.records[0].nextNode\r\n\r\n           if(res.data.records[0].taskKey==\"usertask1\"){\r\n             this.workFlowEnd=\"框架定义结束\"\r\n             this.showPageFlage1=true\r\n           }else if(res.data.records[0].taskKey.match(\"usertask([3-5])\")){\r\n            this.workFlowEnd=\"营运定义结束\"\r\n             this.showPageFlage1=true\r\n          }else if(res.data.records[0].taskKey==\"newSingle\" || res.data.records[0].taskKey==\"RenewalRenewal\"|| res.data.records[0].taskKey==\"preservation\"|| res.data.records[0].taskKey==\"claims\"|| res.data.records[0].taskKey==\"underwriting\"){\r\n             this.workFlowEnd=\"套餐测试结束\"\r\n             this.showPageFlage1=true\r\n           }else if(res.data.records[0].taskKey==\"ProductAudit\"){\r\n             this.workFlowEnd=\"套餐审核结束\"\r\n             this.showPageFlage1=true\r\n           } else if(res.data.records[0].taskKey==\"ProductRelease\"){\r\n             this.workFlowEnd=\"套餐发布结束\"\r\n             this.showPageFlage1=true\r\n           }else {\r\n             this.showPageFlage1=false\r\n           }\r\n             if (this.workflow.selectValue == \"productOperatingFlag\") {\r\n               this.workflow.options = [{key: \"productOperatingFlag\", label: \"套餐营运定义\"},\r\n                 {key: \"productTestFlag\", label: \"套餐测试\"},\r\n                 {key: \"productAuditFlag\", label: \"套餐审核\"},\r\n                 {key: \"productReleaseFlag\", label: \"套餐发布\"},\r\n                 {key: \"finish\", label: \"完成\"}]\r\n             } else if (this.workflow.selectValue == \"productTestFlag\") {\r\n               this.workflow.options = [\r\n                 {key: \"productTestFlag\", label: \"套餐测试\"},\r\n                 {key: \"productAuditFlag\", label: \"套餐审核\"},\r\n                 {key: \"productReleaseFlag\", label: \"套餐发布\"},\r\n                 {key: \"finish\", label: \"完成\"}]\r\n             } else if (this.workflow.selectValue == \"productAuditFlag\") {\r\n               this.workflow.options = [\r\n                 {key: \"productAuditFlag\", label: \"套餐审核\"},\r\n                 {key: \"productReleaseFlag\", label: \"套餐发布\"},\r\n                 {key: \"finish\", label: \"完成\"}]\r\n             } else if (this.workflow.selectValue == \"productReleaseFlag\") {\r\n               this.workflow.options = [\r\n                 {key: \"productReleaseFlag\", label: \"套餐发布\"},\r\n                 {key: \"finish\", label: \"完成\"}]\r\n             } else {\r\n               this.workflow.options = [{key: \"productOperatingFlag\", label: \"套餐营运定义\"},\r\n                 {key: \"productTestFlag\", label: \"套餐测试\"},\r\n                 {key: \"productAuditFlag\", label: \"套餐审核\"},\r\n                 {key: \"productReleaseFlag\", label: \"套餐发布\"},\r\n                 {key: \"finish\", label: \"完成\"}]\r\n             }\r\n\r\n           })\r\n      },\r\n      handleGoPage(type) {\r\n        let path = this.menuNameToPath(type)\r\n        this.$router.push({path: path});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}
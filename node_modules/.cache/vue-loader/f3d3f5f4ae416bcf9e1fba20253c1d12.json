{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\sales-expenses-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\sales-expenses-def\\index.vue","mtime":1609847106970},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2FkZFBkdGVtcFBkU2xFeHAsIGdldFBkdGVtcFBkU2xFeHAsIGdldFNsTWcsIGRlbGV0ZVBkdGVtcFBkU2xFeHBMaXN0LCBpbml0QWdlbmN5fQ0KICBmcm9tICJAL2FwaS9iYXNpY2luZm8vcGR0ZW1wcGRzbGV4cCI7DQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHtwZHRlbXBQZEF0cnNJbmZvTGlzdH0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL1Byb2R1Y3RBdHRyaWJ1dGVEZWZpbml0aW9uJw0KDQpsZXQgX3RoaXMNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1BkdGVtcFBkU2xFeHAnLA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyX2NvZGV0eXBlKGNvZGUsIHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgPT09ICdwZFNsTWdjJykgew0KICAgICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgX3RoaXMucGRTbE1nY09wdGlvbnMpIHsNCiAgICAgICAgICBpZiAocGRTbE1nYy5zbE1nY0NvZGUgPT09IGNvZGUpIHsNCiAgICAgICAgICAgIHJldHVybiBwZFNsTWdjLnNsTWdjQ29kZSArICc6JyArIHBkU2xNZ2Muc2xNZ2NOYW1lDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJw0KICAgICAgICAvKmlmIChfdGhpcy5wZFNsTWdjT3B0aW9ucy5zbE1nY0NvZGUgPT0gY29kZSkNCiAgICAgICAgcmV0dXJuIF90aGlzLnNsbWcuc2xNZ2NDb2RlKyI6IitfdGhpcy5zbG1nLnNsTWdjTmFtZTsqLw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAncGRBZ2VuY3lDb2RlJykgew0KICAgICAgICBmb3IgKGNvbnN0IGFnZW5jeSBvZiBfdGhpcy5hZ2VuY3lPcHRpb25zKSB7DQogICAgICAgICAgaWYgKGFnZW5jeS5hZ2VudGNvbSA9PT0gY29kZSkgew0KICAgICAgICAgICAgcmV0dXJuIGFnZW5jeS5hZ2VudGNvbSArICc6JyArIGFnZW5jeS5uYW1lDQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICcnDQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdwZFNhbGVDaG5sJykgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkU2xDaGFubCcsIGNvZGUpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAncGRQb2xDdXJyJykgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3Byb2R1Y3RDdXJyZW5jeScsIGNvZGUpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAncGRQYXlQcmVtTW9kZScpIHsNCiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVtcGF5d2F5JywgY29kZSk7DQogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdwZFJhdGVUeXBlJykgew0KICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3NkUmF0ZVR5cGUnLCBjb2RlKTsNCiAgICAgIH0NCiAgICB9LA0KDQogIH0sDQoNCiAgZGF0YSgpIHsNCiAgICBfdGhpcyA9IHRoaXM7DQogICAgcmV0dXJuIHsNCiAgICAgIGNob29zZVJvd0xpc3Q6IFtdLA0KICAgICAgY2hvb3NlUm93SWQ6ICcnLA0KICAgICAgcGFnZUZsYWc6IGZhbHNlLA0KICAgICAgZm9ybTogew0KICAgICAgICBpZDogJycsDQogICAgICAgIHBkUmF0ZVR5cGU6ICcxJywNCiAgICAgICAgcGRTbE1nYzogW10sDQogICAgICAgIHBkU2FsZUNobmw6IFtdLA0KICAgICAgICBwZEFnZW5jeUNvZGU6ICcnLA0KICAgICAgICBwZFBvbEN1cnI6IFtdLA0KICAgICAgICBwZEluZm9JZDogJycsDQogICAgICAgIHBkQ29kZUw6ICcnLA0KICAgICAgICBwZFZlcklkOiAnJywNCiAgICAgICAgcGRQb2xZZWFyOiAnJywNCiAgICAgICAgcGRQYXlQcmVtTW9kZTogW10sDQogICAgICAgIHBkUGF5UGVyaW9kOiAnJywNCiAgICAgICAgcGRQYXlQZXJpb2RVbml0OiAnWScsDQogICAgICAgIHBkU3RhcnRBcHBBZ2U6ICcnLA0KICAgICAgICBwZEVuZEFwcEFnZTogJycsDQogICAgICAgIHBkUmF0ZTogJycsDQogICAgICB9LA0KICAgICAgYmNmb3JtOiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRSYXRlVHlwZTogJzEnLA0KICAgICAgICBwZFNsTWdjOiBbXSwNCiAgICAgICAgcGRTYWxlQ2hubDogW10sDQogICAgICAgIHBkQWdlbmN5Q29kZTogJycsDQogICAgICAgIHBkUG9sQ3VycjogW10sDQogICAgICAgIHBkSW5mb0lkOiAnJywNCiAgICAgICAgcGRDb2RlTDogJycsDQogICAgICAgIHBkVmVySWQ6ICcnLA0KICAgICAgICBwZFBvbFllYXI6ICcnLA0KICAgICAgICBwZFBheVByZW1Nb2RlOiBbXSwNCiAgICAgICAgcGRQYXlQZXJpb2Q6ICcnLA0KICAgICAgICBwZFBheVBlcmlvZFVuaXQ6ICdZJywNCiAgICAgICAgcGRTdGFydEFwcEFnZTogJycsDQogICAgICAgIHBkRW5kQXBwQWdlOiAnJywNCiAgICAgICAgcGRSYXRlOiAnJywNCiAgICAgIH0sDQogICAgICBmb3JtQ2hvb3NlUm93OiB7DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgcGRSYXRlVHlwZTogJzEnLA0KICAgICAgICBwZFNsTWdjOiAnJywNCiAgICAgICAgcGRTYWxlQ2hubDogJycsDQogICAgICAgIHBkQWdlbmN5Q29kZTogJycsDQogICAgICAgIHBkUG9sQ3VycjogJycsDQogICAgICAgIHBkSW5mb0lkOiAnJywNCiAgICAgICAgcGRDb2RlTDogJycsDQogICAgICAgIHBkVmVySWQ6ICcnLA0KICAgICAgICBwZFBvbFllYXI6ICcnLA0KICAgICAgICBwZFBheVByZW1Nb2RlOiAnJywNCiAgICAgICAgcGRQYXlQZXJpb2Q6ICcnLA0KICAgICAgICBwZFBheVBlcmlvZFVuaXQ6ICdZJywNCiAgICAgICAgcGRTdGFydEFwcEFnZTogJycsDQogICAgICAgIHBkRW5kQXBwQWdlOiAnJywNCiAgICAgICAgcGRSYXRlOiAnJywNCiAgICAgIH0sDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgcGRTbE1nY09wdGlvbnM6IFtdLA0KICAgICAgYWdlbmN5T3B0aW9uczogW10sDQogICAgICBwZFBvbEN1cnJPcHRpb25MaXN0OiBbXSwNCiAgICAgIHBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5OiBbXSwNCiAgICAgIHNsbWc6IFt7c2xNZ2NDb2RlOiAnMDAwMCcsIHNsTWdjTmFtZTogJ+WFqOacuuaehCd9XSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBkU2xNZ2M6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6knLCB0cmlnZ2VyOiAnY2hhbmdlJ31dLA0KICAgICAgICBwZFNhbGVDaG5sOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oupJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwNCiAgICAgICAgLypwZFBheVByZW1Nb2RlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oupJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwqLw0KICAgICAgICAvKnBkQWdlbmN5Q29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlgLwnLCB0cmlnZ2VyOiAnYmx1cicgfV0sKi8NCiAgICAgICAgcGRQb2xDdXJyOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oupJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwNCiAgICAgICAgcGRSYXRlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5YC8JywgdHJpZ2dlcjogJ2JsdXInfV0sDQogICAgICAgIHBkQWdlbmN5Q29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWAvCcsIHRyaWdnZXI6ICdibHVyJ31dDQogICAgICB9LA0KICAgIH0NCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgIGlmIChwZHRlbXBQZEluZm8gIT0gbnVsbCkgew0KICAgICAgdGhpcy5mb3JtLnBkSW5mb0lkID0gcGR0ZW1wUGRJbmZvLmlkOw0KICAgICAgdGhpcy5mb3JtLnBkVmVySWQgPSBwZHRlbXBQZEluZm8ucGRWZXJJZDsNCiAgICAgIHRoaXMuZm9ybS5wZENvZGVMID0gcGR0ZW1wUGRJbmZvLnBkQ29kZTsNCg0KICAgICAgdGhpcy5mb3JtQ2hvb3NlUm93LnBkSW5mb0lkID0gcGR0ZW1wUGRJbmZvLmlkOw0KICAgICAgdGhpcy5mb3JtQ2hvb3NlUm93LnBkVmVySWQgPSBwZHRlbXBQZEluZm8ucGRWZXJJZDsNCiAgICAgIHRoaXMuZm9ybUNob29zZVJvdy5wZENvZGVMID0gcGR0ZW1wUGRJbmZvLnBkQ29kZTsNCiAgICAgIGlmIChwZHRlbXBQZEluZm8ucGRwYXltZW50UGVyaW9kICE9IG51bGwpIHsNCiAgICAgICAgdGhpcy5mb3JtLnBkUGF5UGVyaW9kID0gcGR0ZW1wUGRJbmZvLnBkcGF5bWVudFBlcmlvZA0KICAgICAgfQ0KICAgIH0NCiAgICBjb25zdCB2YWwgPSB0aGlzLmZvcm0ucGRSYXRlVHlwZQ0KICAgIGlmICh2YWwgPT0gJzEnKSB7DQogICAgICB0aGlzLnJ1bGVzLnBkQWdlbmN5Q29kZSA9IFt7cmVxdWlyZWQ6IGZhbHNlfV0NCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5ydWxlcy5wZEFnZW5jeUNvZGUgPSBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5YC8JywgdHJpZ2dlcjogJ2JsdXInfV0NCiAgICB9DQogICAgYXdhaXQgdGhpcy5pbml0QWdlbmN5KCk7DQogICAgYXdhaXQgdGhpcy5pbml0UXVlcnlEYXRhcygpOw0KICAgIGF3YWl0IHRoaXMuaW5pdE1nY0luZm8oKTsNCiAgICBhd2FpdCB0aGlzLmdldFBkUG9sQ3Vyck9wdGlvbigpOw0KICAgIHRoaXMuZm9ybS5wZFNsTWdjID0gWycwMDAwJ107DQogICAgdGhpcy5mb3JtLnBkU2FsZUNobmwgPSBbJzAwJ107DQogICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PSAxKSB7DQogICAgICB0aGlzLmZvcm0ucGRQYXlQZXJpb2QgPSB0aGlzLnRhYmxlRGF0YVswXS5wZFBheVBlcmlvZA0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAnZm9ybS5wZFJhdGVUeXBlJygpIHsNCiAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZm9ybS5wZFJhdGVUeXBlDQogICAgICBpZiAodmFsID09ICcxJykgew0KICAgICAgICB0aGlzLnJ1bGVzLnBkQWdlbmN5Q29kZSA9IFt7cmVxdWlyZWQ6IGZhbHNlfV0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucnVsZXMucGRBZ2VuY3lDb2RlID0gW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWAvCcsIHRyaWdnZXI6ICdibHVyJ31dDQogICAgICB9DQogICAgfSwNCiAgICAnZm9ybS5wZFNsTWdjJyhzZWxlY3RlZENvZGVzKSB7DQogICAgICBpZiAoc2VsZWN0ZWRDb2Rlcy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsNCiAgICAgICAgICBwZFNsTWdjLmRpc2FibGVkID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHRoaXMuXy5pbmNsdWRlcyhzZWxlY3RlZENvZGVzLCAnMDAwMCcpKSB7DQogICAgICAgICAgZm9yIChjb25zdCBwZFNsTWdjIG9mIHRoaXMucGRTbE1nY09wdGlvbnMpIHsNCiAgICAgICAgICAgIHBkU2xNZ2MuZGlzYWJsZWQgPSBwZFNsTWdjLnNsTWdjQ29kZSAhPT0gJzAwMDAnDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7DQogICAgICAgICAgICBwZFNsTWdjLmRpc2FibGVkID0gcGRTbE1nYy5zbE1nY0NvZGUgPT09ICcwMDAwJw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgJ2Zvcm1DaG9vc2VSb3cucGRTbE1nYycoc2VsZWN0ZWRDb2Rlcykgew0KICAgICAgaWYgKHNlbGVjdGVkQ29kZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7DQogICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLl8uaW5jbHVkZXMoc2VsZWN0ZWRDb2RlcywgJzAwMDAnKSkgew0KICAgICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7DQogICAgICAgICAgICBwZFNsTWdjLmRpc2FibGVkID0gcGRTbE1nYy5zbE1nY0NvZGUgIT09ICcwMDAwJw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgdGhpcy5wZFNsTWdjT3B0aW9ucykgew0KICAgICAgICAgICAgcGRTbE1nYy5kaXNhYmxlZCA9IHBkU2xNZ2Muc2xNZ2NDb2RlID09PSAnMDAwMCcNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgICdmb3JtLnBkU2FsZUNobmwnKHNlbGVjdGVkQ29kZXMpIHsNCiAgICAgIGlmIChzZWxlY3RlZENvZGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gW10NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBhbGxDb2RlcyA9IHRoaXMuXy5tYXAodGhpcy5sZGNvZGVzWydwZFNsQ2hhbmwnXSwgJ2NvZGUnKQ0KICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICcwMCcpKSB7DQogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7DQogICAgICAgICAgICByZXR1cm4gY29kZSAhPT0gJzAwJw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7DQogICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gJzAwJw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgICdmb3JtQ2hvb3NlUm93LnBkU2FsZUNobmwnKHNlbGVjdGVkQ29kZXMpIHsNCiAgICAgIGlmIChzZWxlY3RlZENvZGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLnBkU2xDaGFubERpc2FibGVkQ29kZUFycmF5ID0gW10NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBhbGxDb2RlcyA9IHRoaXMuXy5tYXAodGhpcy5sZGNvZGVzWydwZFNsQ2hhbmwnXSwgJ2NvZGUnKQ0KICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHNlbGVjdGVkQ29kZXMsICcwMCcpKSB7DQogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7DQogICAgICAgICAgICByZXR1cm4gY29kZSAhPT0gJzAwJw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxsQ29kZXMgPSBhbGxDb2Rlcy5maWx0ZXIoY29kZSA9PiB7DQogICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gJzAwJw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wZFNsQ2hhbmxEaXNhYmxlZENvZGVBcnJheSA9IGFsbENvZGVzDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgJ2xkY29kZXMnDQogICAgXSkNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmJjZm9ybSA9IHRoaXMuZm9ybTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNoYW5nZXBkQWdlbmN5Q29kZSh2YWwpIHsNCiAgICAgIGlmICh0aGlzLmZvcm1DaG9vc2VSb3cucGRSYXRlVHlwZSA9PSAnMScgfHwgdmFsID09ICcxJykgew0KICAgICAgICB0aGlzLmZvcm1DaG9vc2VSb3cucGRBZ2VuY3lDb2RlID0gJyc7DQogICAgICAgIHRoaXMuZm9ybS5wZEFnZW5jeUNvZGUgPSAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgaW5pdFF1ZXJ5RGF0YXMoKSB7DQogICAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgICAgZ2V0UGR0ZW1wUGRTbEV4cChwZHRlbXBQZEluZm8pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBhc3luYyBpbml0QWdlbmN5KCkgew0KICAgICAgYXdhaXQgaW5pdEFnZW5jeSgpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBmb3IgKGNvbnN0IGFnZW5jeSBvZiByZXNwb25zZS5kYXRhKSB7DQogICAgICAgICAgdGhpcy5hZ2VuY3lPcHRpb25zLnB1c2goYWdlbmN5KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgYXN5bmMgaW5pdE1nY0luZm8oKSB7DQogICAgICAvKnRoaXMucGRTbE1nY09wdGlvbnMucHVzaCh7DQogICAgICAgIHNsTWdjQ29kZTogJzAwMDAnLA0KICAgICAgICBzbE1nY05hbWU6ICflhajmnLrmnoQnDQogICAgICB9KSovDQogICAgICBmb3IgKGNvbnN0IHBkU2xNZ2Mgb2YgKGF3YWl0IGdldFNsTWcoKSkuZGF0YSkgew0KICAgICAgICB0aGlzLnBkU2xNZ2NPcHRpb25zLnB1c2gocGRTbE1nYykNCiAgICAgIH0NCiAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7DQogICAgICAgIHRoaXMuJHNldChwZFNsTWdjLCAnZGlzYWJsZWQnLCBmYWxzZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFBkUG9sQ3Vyck9wdGlvbigpIHsNCiAgICAgIHBkdGVtcFBkQXRyc0luZm9MaXN0KHRoaXMuZm9ybS5wZEluZm9JZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhW2ldLnBkQXRyc0NvZGUgPT0gJ3Byb2R1Y3RDdXJyZW5jeScpIHsNCiAgICAgICAgICAgIHRoaXMucGRQb2xDdXJyT3B0aW9uTGlzdC5wdXNoKHsvL+S6p+WTgeW4geenjQ0KICAgICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2UuZGF0YVtpXS5wZEF0cnNWYWwsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldENvZGVOYW1lKCdwcm9kdWN0Q3VycmVuY3knLCByZXNwb25zZS5kYXRhW2ldLnBkQXRyc1ZhbCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/pgInkuK3mlbDmja4NCiAgICBjaG9vc2VSb3coVmFsKSB7DQogICAgICB0aGlzLmNob29zZVJvd0xpc3QgPSBWYWw7DQogICAgICBpZiAodGhpcy5jaG9vc2VSb3dMaXN0Lmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHRoaXMuY2hvb3NlUm93SWQgPSAnJzsNCiAgICAgICAgdGhpcy5wYWdlRmxhZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnJlc2V0Rm9ybURhdGEoKTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaG9vc2VSb3dMaXN0Lmxlbmd0aCA9PSAxKSB7DQogICAgICAgIHRoaXMuY2hvb3NlUm93SWQgPSB0aGlzLmNob29zZVJvd0xpc3RbMF0uaWQ7DQogICAgICAgIHRoaXMucGFnZUZsYWcgPSB0cnVlOw0KICAgICAgICB0aGlzLmZvcm1DaG9vc2VSb3cgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNob29zZVJvd0xpc3RbMF0pOw0KICAgICAgfSBlbHNlIHsNCg0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXRGb3JtRGF0YSgpIHsNCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKCF0aGlzLnBhZ2VGbGFnKSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5mb3JtQ2hvb3NlUm93LnJlc2V0RmllbGRzKCk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5iY2Zvcm07DQogICAgICB9KQ0KICAgIH0sDQogICAgb25TdWJtaXQoZm9ybSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgbGV0IG1nYyA9IGZhbHNlOw0KICAgICAgICAgIGxldCBjYWwgPSBmYWxzZTsNCiAgICAgICAgICBpZiAodGhpcy5wYWdlRmxhZykgew0KICAgICAgICAgICAgYWRkUGR0ZW1wUGRTbEV4cCh0aGlzLmZvcm1DaG9vc2VSb3cpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYgKG1nYykgew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNsTWdjID0gWycwMDAwJ107DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgaWYgKGNhbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNhbGVDaG5sID0gWycwMCddOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuaW5pdFF1ZXJ5RGF0YXMoKTsNCiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybSk7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyDliKTmlq3mmK/lkKbpgInmi6nkuoblhajmnLrmnoTlkozlhajmuKDpgZMNCiAgICAgICAgICAgIC8qaWYgKHRoaXMuXy5pbmNsdWRlcyh0aGlzLmZvcm0ucGRTbE1nYywgJzAwMDAnKSkgew0KICAgICAgICAgICAgICBtZ2MgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmZvcm0ucGRTbE1nYyA9IFtdDQogICAgICAgICAgICAgIGZvciAoY29uc3QgcGRTbE1nYyBvZiB0aGlzLnBkU2xNZ2NPcHRpb25zKSB7DQogICAgICAgICAgICAgICAgaWYgKHBkU2xNZ2Muc2xNZ2NDb2RlICE9PSAnMDAwMCcpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNsTWdjLnB1c2gocGRTbE1nYy5zbE1nY0NvZGUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodGhpcy5fLmluY2x1ZGVzKHRoaXMuZm9ybS5wZFNsQ2hhbmwsICcwMCcpKSB7DQogICAgICAgICAgICAgIGNhbCA9IHRydWU7DQogICAgICAgICAgICAgIHRoaXMuZm9ybS5wZFNsQ2hhbmwgPSBbXQ0KICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBkU2xDaGFubCBvZiB0aGlzLl8ubWFwKHRoaXMubGRjb2Rlc1sncGRTbENoYW5sJ10sICdjb2RlJykpIHsNCiAgICAgICAgICAgICAgICBpZiAocGRTbENoYW5sICE9PSAnMDAnKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucGRTbENoYW5sLnB1c2gocGRTbENoYW5sKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSovDQogICAgICAgICAgICBhZGRQZHRlbXBQZFNsRXhwKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICBpZiAobWdjKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLnBkU2xNZ2MgPSBbJzAwMDAnXTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZiAoY2FsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLnBkU2FsZUNobmwgPSBbJzAwJ107DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy5pbml0UXVlcnlEYXRhcygpOw0KICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybShmb3JtKTsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgIC8v5ZGK55+l54i26aG16Z2i5bey57uP5L+d5a2YDQogICAgICAgICAgdGhpcy4kZW1pdCgnY2hpbGRGbicsIHRydWUpOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlRGF0YSgpIHsNCiAgICAgIGxldCBkZWxLZXlzID0gdGhpcy5jaG9vc2VSb3dMaXN0Lm1hcChzYWxlID0+IHNhbGUuaWQpDQogICAgICBkZWxldGVQZHRlbXBQZFNsRXhwTGlzdCh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJkZWxLZXlzIjogZGVsS2V5c30pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuaW5pdFF1ZXJ5RGF0YXMoKTsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQ0KICAgICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybUNob29zZVJvdycpOw0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgaWYgKGZvcm1OYW1lKSB7DQogICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgICAgIHRoaXMuY2hvb3NlUm93SWQgPSAnJzsNCiAgICAgICAgdGhpcy5wYWdlRmxhZyA9ICcnOw0KICAgICAgfQ0KICAgIH0NCg0KICB9DQoNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-sales-def/sales-expenses-def","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-main>\r\n      <cus-table-title :label=\"$t('pdtempsaledes.pdSaleFee')\"/>\r\n      <el-table :data=\"tableData\" @selection-change=\"chooseRow\" border max-height=\"500px\" ref=\"page\"\r\n                class=\"wraper-table\" highlight-current-row element-loading-text=\"Loading\" fit size=\"mini\">\r\n        <!--        <el-table-column align=\"center\" label=\"选取\" width=\"60px\">-->\r\n        <!--          <template slot-scope=\"scope\">-->\r\n        <!--            <el-radio :label=\"scope.row.id\" v-model=\"chooseRowId\">-->\r\n        <!--              <span class=\"el-radio__label\"></span>-->\r\n        <!--            </el-radio>-->\r\n        <!--          </template>-->\r\n        <!--        </el-table-column>-->\r\n        <el-table-column :label=\"$t('table.select')\" type=\"selection\" align=\"center\" width=\"50px\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" prop=\"index\" type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdRateType')\" prop=\"pdRateType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdRateType | filter_codetype('pdRateType') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdSlMgc')\" prop=\"pdSlMgc\" width=\"230px\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdSlMgc | filter_codetype('pdSlMgc') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdSaleChnl')\" prop=\"pdSaleChnl\" width=\"130px\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdSaleChnl | filter_codetype('pdSaleChnl') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdAgencyCode')\" prop=\"pdAgencyCode\"\r\n                         width=\"100px\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdAgencyCode | filter_codetype('pdAgencyCode') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdPolCurr')\" prop=\"pdPolCurr\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdPolCurr | filter_codetype('pdPolCurr') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdPolYear')\" prop=\"pdPolYear\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdPayPremMode')\" prop=\"pdPayPremMode\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdPayPremMode | filter_codetype('pdPayPremMode') }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('i18nView.payTerm')\" prop=\"pdPayPeriod\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdPayPeriod }}:{{ scope.row.pdPayPeriodUnit }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdStartAppAge')\"\r\n                         prop=\"pdStartAppAge\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdEndAppAge')\" prop=\"pdEndAppAge\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempsaledes.pdRate')\" prop=\"pdRate\"></el-table-column>\r\n      </el-table>\r\n\r\n\r\n      <cus-form-title v-show=\"chooseRowList.length <= 1\" :label=\"$t('pdtempsaledes.feeDef')\"></cus-form-title>\r\n\r\n      <el-form :model=\"form\" :rules=\"rules\" label-width=\"95px\" ref=\"form\" v-if=\"this.chooseRowList.length==0\">\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdRateType')\" prop=\"pdRateType\">\r\n              <cus-radio :codetype=\"'sdRateType'\" v-model=\"form.pdRateType\"\r\n                         :changeMethod=\"changepdAgencyCode\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdSlMgc')\" prop=\"pdSlMgc\">\r\n              <el-select clearable multiple :placeholder=\"$t('form.please_select')\" v-model=\"form.pdSlMgc\">\r\n                <el-option :disabled=\"item.disabled\"\r\n                           :key=\"item.slMgcCode\"\r\n                           :label=\"item.slMgcCode+':'+item.slMgcName\"\r\n                           :value=\"item.slMgcCode\"\r\n                           v-for=\"item in pdSlMgcOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdSaleChnl')\" prop=\"pdSaleChnl\">\r\n              <cus-multi-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                                v-model=\"form.pdSaleChnl\"></cus-multi-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdAgencyCode')\" prop=\"pdAgencyCode\">\r\n              <el-select v-model=\"form.pdAgencyCode\"  :disabled=\"form.pdRateType==1\" clearable\r\n                         :placeholder=\"$t('pdtempsaledes.inputAgency')\">\r\n                <el-option\r\n                  v-for=\"item in agencyOptions\" :key=\"item.agentcom\" :value=\"item.agentcom\"\r\n                  :label=\"item.agentcom+ ':' + item.name\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPolCurr')\" prop=\"pdPolCurr\">\r\n              <el-select clearable filterable multiple v-model=\"form.pdPolCurr\">\r\n                <el-option :key=\"item.value\"\r\n                           :label=\"item.label\"\r\n                           :value=\"item.value\"\r\n                           v-for=\"item in pdPolCurrOptionList\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPolYear')\" prop=\"pdPolYear\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputYear')\" v-model=\"form.pdPolYear\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPayPremMode')\" prop=\"pdPayPremMode\">\r\n              <cus-multi-select :codetype=\"'prempayway'\" v-model=\"form.pdPayPremMode\"></cus-multi-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('i18nView.payTerm')\" prop=\"pdPayPeriod\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputFeePeriod')\" v-model=\"form.pdPayPeriod\">\r\n                <cus-select :codetype=\"'saledes'\" class=\"cst\" prop=\"pdPayPeriodUnit\" slot=\"append\"\r\n                            v-model=\"form.pdPayPeriodUnit\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdStartAppAge')\" prop=\"pdStartAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputStartInsureAge')\" v-model=\"form.pdStartAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdEndAppAge')\" prop=\"pdEndAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputEndInsureAge')\" v-model=\"form.pdEndAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdRate')\" prop=\"pdRate\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputRatio')\" v-model=\"form.pdRate\">\r\n                <template slot=\"suffix\">%</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <div style=\"float: right\">\r\n          <el-button dialog-disable=\"disable\" size=\"small\" @click=\"onSubmit('form')\" icon=\"el-icon-success\"\r\n                     type=\"primary\" v-auth=\"'pdtemp-pd-sl-exp:add'\"\r\n                     v-show=\"!chooseRowId\">{{ $t('pdtempsaledes.submit') }}\r\n          </el-button>\r\n          <!--          <el-button  size=\"small\" :disabled=\"this.chooseRowId===''\" @click=\"deleteData('form')\" icon=\"el-icon-delete\" type=\"danger\"\r\n                               v-auth=\"'pdtemp-pd-sl-exp:delete'\" v-show=\"this.chooseRowList.length!=0\">{{$t('pdtempsaledes.delete')}}\r\n                    </el-button>-->\r\n\r\n          <el-button dialog-disable=\"disable\" size=\"small\" @click=\"resetForm('form')\" icon=\"el-icon-refresh\"\r\n                     type=\"primary\">{{ $t('pdtempsaledes.clear') }}\r\n          </el-button>\r\n        </div>\r\n      </el-form>\r\n\r\n      <el-form :model=\"formChooseRow\" :rules=\"rules\" label-width=\"95px\" ref=\"formChooseRow\"\r\n               v-show=\"this.chooseRowList.length==1\">\r\n        <el-form-item :label=\"$t('pdtempsaledes.pdRateType')\" prop=\"pdRateType\">\r\n          <cus-radio :codetype=\"'sdRateType'\" v-model=\"formChooseRow.pdRateType\"\r\n                     :changeMethod=\"changepdAgencyCode\"></cus-radio>\r\n        </el-form-item>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdSlMgc')\" prop=\"pdSlMgc\">\r\n              <el-select clearable :placeholder=\"$t('form.please_select')\" v-model=\"formChooseRow.pdSlMgc\">\r\n                <el-option :disabled=\"item.disabled\"\r\n                           :key=\"item.slMgcCode\"\r\n                           :label=\"item.slMgcCode+':'+item.slMgcName\"\r\n                           :value=\"item.slMgcCode\"\r\n                           v-for=\"item in pdSlMgcOptions\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdSaleChnl')\" prop=\"pdSaleChnl\">\r\n              <cus-select :codetype=\"'pdSlChanl'\" :disabledCodeArray=\"pdSlChanlDisabledCodeArray\"\r\n                          v-model=\"formChooseRow.pdSaleChnl\"></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdAgencyCode')\" prop=\"pdAgencyCode\">\r\n              <!--              <el-input :disabled=\"formChooseRow.pdRateType==1\" placeholder=\"请输入代理机构\"-->\r\n              <!--                        v-model=\"formChooseRow.pdAgencyCode\"></el-input>-->\r\n              <el-select v-model=\"formChooseRow.pdAgencyCode\" :disabled=\"formChooseRow.pdRateType==1\" clearable\r\n                         :placeholder=\"$t('pdtempsaledes.inputAgency')\">\r\n                <el-option\r\n                  v-for=\"item in agencyOptions\" :key=\"item.agentcom\" :value=\"item.agentcom\"\r\n                  :label=\"item.agentcom+ ':' + item.name\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPolCurr')\" prop=\"pdPolCurr\">\r\n              <cus-select :codetype=\"'productCurrency'\" v-model=\"formChooseRow.pdPolCurr\"></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPolYear')\" prop=\"pdPolYear\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputYear')\" v-model=\"formChooseRow.pdPolYear\"></el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdPayPremMode')\" prop=\"pdPayPremMode\">\r\n              <cus-select :codetype=\"'prempayway'\" v-model=\"formChooseRow.pdPayPremMode\"></cus-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('i18nView.payTerm')\" prop=\"pdPayPeriod\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputFeePeriod')\" v-model=\"formChooseRow.pdPayPeriod\">\r\n                <cus-select :codetype=\"'saledes'\" class=\"cst\" prop=\"pdPayPeriodUnit\" slot=\"append\"\r\n                            v-model=\"formChooseRow.pdPayPeriodUnit\"></cus-select>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdStartAppAge')\" prop=\"pdStartAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputStartInsureAge')\" v-model=\"formChooseRow.pdStartAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdEndAppAge')\" prop=\"pdEndAppAge\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputEndInsureAge')\" v-model=\"formChooseRow.pdEndAppAge\">\r\n                <template slot=\"suffix\">{{$t('i18nView.age')}}</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdtempsaledes.pdRate')\" prop=\"pdRate\">\r\n              <el-input :placeholder=\"$t('i18nView.pleaseInputRatio')\" v-model=\"formChooseRow.pdRate\">\r\n                <template slot=\"suffix\">%</template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n\r\n        <div style=\"float: right\">\r\n          <el-button size=\"small\" @click=\"onSubmit('formChooseRow')\" icon=\"el-icon-success\" type=\"primary\"\r\n                     v-auth=\"'pdtemp-pd-sl-exp:add'\" dialog-disable=\"disable\"\r\n                     v-show=\"chooseRowId\">{{ $t('pdtempsaledes.update') }}\r\n          </el-button>\r\n\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deleteData\" icon=\"el-icon-delete\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\"\r\n            v-auth=\"'pdtemp-pd-sl-exp:delete'\" v-if=\"this.chooseRowList.length!=0\"\r\n            :content=\"$t('confirmMessage.delete')\"\r\n          >\r\n          </cus-popover>\r\n          <el-button dialog-disable=\"disable\" size=\"small\" @click=\"resetForm('formChooseRow')\" icon=\"el-icon-refresh\"\r\n                     type=\"primary\">\r\n            {{ $t('pdtempsaledes.clear') }}\r\n          </el-button>\r\n        </div>\r\n      </el-form>\r\n      <el-form :inline=\"true\" label-width=\"150px\">\r\n        <div style=\"float: right; margin-top:30px;\" v-show=\"this.chooseRowList.length>1\">\r\n          <cus-popover\r\n            :buttonText=\"$t('table.delete')\"\r\n            @confirm=\"deleteData\" icon=\"el-icon-delete\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\"\r\n            v-auth=\"'pdtemp-pd-sl-exp:delete'\" v-if=\"this.chooseRowList.length!=0\"\r\n            :content=\"$t('confirmMessage.delete')\"\r\n          >\r\n          </cus-popover>\r\n        </div>\r\n      </el-form>\r\n\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport {addPdtempPdSlExp, getPdtempPdSlExp, getSlMg, deletePdtempPdSlExpList, initAgency}\r\n  from \"@/api/basicinfo/pdtemppdslexp\";\r\nimport {mapGetters} from \"vuex\";\r\nimport {pdtempPdAtrsInfoList} from '@/api/basicinfo/ProductAttributeDefinition'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'PdtempPdSlExp',\r\n  filters: {\r\n    filter_codetype(code, value) {\r\n      if (value === 'pdSlMgc') {\r\n        for (const pdSlMgc of _this.pdSlMgcOptions) {\r\n          if (pdSlMgc.slMgcCode === code) {\r\n            return pdSlMgc.slMgcCode + ':' + pdSlMgc.slMgcName\r\n          }\r\n        }\r\n        return ''\r\n        /*if (_this.pdSlMgcOptions.slMgcCode == code)\r\n        return _this.slmg.slMgcCode+\":\"+_this.slmg.slMgcName;*/\r\n      } else if (value == 'pdAgencyCode') {\r\n        for (const agency of _this.agencyOptions) {\r\n          if (agency.agentcom === code) {\r\n            return agency.agentcom + ':' + agency.name\r\n          }\r\n        }\r\n\r\n        return ''\r\n      } else if (value == 'pdSaleChnl') {\r\n        return _this.getCodeName('pdSlChanl', code);\r\n      } else if (value == 'pdPolCurr') {\r\n        return _this.getCodeName('productCurrency', code);\r\n      } else if (value == 'pdPayPremMode') {\r\n        return _this.getCodeName('prempayway', code);\r\n      } else if (value == 'pdRateType') {\r\n        return _this.getCodeName('sdRateType', code);\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n  data() {\r\n    _this = this;\r\n    return {\r\n      chooseRowList: [],\r\n      chooseRowId: '',\r\n      pageFlag: false,\r\n      form: {\r\n        id: '',\r\n        pdRateType: '1',\r\n        pdSlMgc: [],\r\n        pdSaleChnl: [],\r\n        pdAgencyCode: '',\r\n        pdPolCurr: [],\r\n        pdInfoId: '',\r\n        pdCodeL: '',\r\n        pdVerId: '',\r\n        pdPolYear: '',\r\n        pdPayPremMode: [],\r\n        pdPayPeriod: '',\r\n        pdPayPeriodUnit: 'Y',\r\n        pdStartAppAge: '',\r\n        pdEndAppAge: '',\r\n        pdRate: '',\r\n      },\r\n      bcform: {\r\n        id: '',\r\n        pdRateType: '1',\r\n        pdSlMgc: [],\r\n        pdSaleChnl: [],\r\n        pdAgencyCode: '',\r\n        pdPolCurr: [],\r\n        pdInfoId: '',\r\n        pdCodeL: '',\r\n        pdVerId: '',\r\n        pdPolYear: '',\r\n        pdPayPremMode: [],\r\n        pdPayPeriod: '',\r\n        pdPayPeriodUnit: 'Y',\r\n        pdStartAppAge: '',\r\n        pdEndAppAge: '',\r\n        pdRate: '',\r\n      },\r\n      formChooseRow: {\r\n        id: '',\r\n        pdRateType: '1',\r\n        pdSlMgc: '',\r\n        pdSaleChnl: '',\r\n        pdAgencyCode: '',\r\n        pdPolCurr: '',\r\n        pdInfoId: '',\r\n        pdCodeL: '',\r\n        pdVerId: '',\r\n        pdPolYear: '',\r\n        pdPayPremMode: '',\r\n        pdPayPeriod: '',\r\n        pdPayPeriodUnit: 'Y',\r\n        pdStartAppAge: '',\r\n        pdEndAppAge: '',\r\n        pdRate: '',\r\n      },\r\n      tableData: [],\r\n      pdSlMgcOptions: [],\r\n      agencyOptions: [],\r\n      pdPolCurrOptionList: [],\r\n      pdSlChanlDisabledCodeArray: [],\r\n      slmg: [{slMgcCode: '0000', slMgcName: '全机构'}],\r\n      rules: {\r\n        pdSlMgc: [{required: true, message: '请选择', trigger: 'change'}],\r\n        pdSaleChnl: [{required: true, message: '请选择', trigger: 'change'}],\r\n        /*pdPayPremMode: [{required: true, message: '请选择', trigger: 'change'}],*/\r\n        /*pdAgencyCode: [{ required: true, message: '请输入值', trigger: 'blur' }],*/\r\n        pdPolCurr: [{required: true, message: '请选择', trigger: 'change'}],\r\n        pdRate: [{required: true, message: '请输入值', trigger: 'blur'}],\r\n        pdAgencyCode: [{required: true, message: '请输入值', trigger: 'blur'}]\r\n      },\r\n    }\r\n  },\r\n  async created() {\r\n    let pdtempPdInfo = this.getPdData()\r\n    if (pdtempPdInfo != null) {\r\n      this.form.pdInfoId = pdtempPdInfo.id;\r\n      this.form.pdVerId = pdtempPdInfo.pdVerId;\r\n      this.form.pdCodeL = pdtempPdInfo.pdCode;\r\n\r\n      this.formChooseRow.pdInfoId = pdtempPdInfo.id;\r\n      this.formChooseRow.pdVerId = pdtempPdInfo.pdVerId;\r\n      this.formChooseRow.pdCodeL = pdtempPdInfo.pdCode;\r\n      if (pdtempPdInfo.pdpaymentPeriod != null) {\r\n        this.form.pdPayPeriod = pdtempPdInfo.pdpaymentPeriod\r\n      }\r\n    }\r\n    const val = this.form.pdRateType\r\n    if (val == '1') {\r\n      this.rules.pdAgencyCode = [{required: false}]\r\n    } else {\r\n      this.rules.pdAgencyCode = [{required: true, message: '请输入值', trigger: 'blur'}]\r\n    }\r\n    await this.initAgency();\r\n    await this.initQueryDatas();\r\n    await this.initMgcInfo();\r\n    await this.getPdPolCurrOption();\r\n    this.form.pdSlMgc = ['0000'];\r\n    this.form.pdSaleChnl = ['00'];\r\n    if (this.tableData.length == 1) {\r\n      this.form.pdPayPeriod = this.tableData[0].pdPayPeriod\r\n    }\r\n  },\r\n  watch: {\r\n    'form.pdRateType'() {\r\n      const val = this.form.pdRateType\r\n      if (val == '1') {\r\n        this.rules.pdAgencyCode = [{required: false}]\r\n      } else {\r\n        this.rules.pdAgencyCode = [{required: true, message: '请输入值', trigger: 'blur'}]\r\n      }\r\n    },\r\n    'form.pdSlMgc'(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        for (const pdSlMgc of this.pdSlMgcOptions) {\r\n          pdSlMgc.disabled = false\r\n        }\r\n      } else {\r\n        if (this._.includes(selectedCodes, '0000')) {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = pdSlMgc.slMgcCode !== '0000'\r\n          }\r\n        } else {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    'formChooseRow.pdSlMgc'(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        for (const pdSlMgc of this.pdSlMgcOptions) {\r\n          pdSlMgc.disabled = false\r\n        }\r\n      } else {\r\n        if (this._.includes(selectedCodes, '0000')) {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = pdSlMgc.slMgcCode !== '0000'\r\n          }\r\n        } else {\r\n          for (const pdSlMgc of this.pdSlMgcOptions) {\r\n            pdSlMgc.disabled = pdSlMgc.slMgcCode === '0000'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    'form.pdSaleChnl'(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.pdSlChanlDisabledCodeArray = []\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes['pdSlChanl'], 'code')\r\n        if (this._.includes(selectedCodes, '00')) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== '00'\r\n          })\r\n          this.pdSlChanlDisabledCodeArray = allCodes\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === '00'\r\n          })\r\n          this.pdSlChanlDisabledCodeArray = allCodes\r\n        }\r\n      }\r\n    },\r\n    'formChooseRow.pdSaleChnl'(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        this.pdSlChanlDisabledCodeArray = []\r\n      } else {\r\n        let allCodes = this._.map(this.ldcodes['pdSlChanl'], 'code')\r\n        if (this._.includes(selectedCodes, '00')) {\r\n          allCodes = allCodes.filter(code => {\r\n            return code !== '00'\r\n          })\r\n          this.pdSlChanlDisabledCodeArray = allCodes\r\n        } else {\r\n          allCodes = allCodes.filter(code => {\r\n            return code === '00'\r\n          })\r\n          this.pdSlChanlDisabledCodeArray = allCodes\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'ldcodes'\r\n    ])\r\n  },\r\n  mounted() {\r\n    this.bcform = this.form;\r\n  },\r\n  methods: {\r\n    changepdAgencyCode(val) {\r\n      if (this.formChooseRow.pdRateType == '1' || val == '1') {\r\n        this.formChooseRow.pdAgencyCode = '';\r\n        this.form.pdAgencyCode = ''\r\n      }\r\n    },\r\n    initQueryDatas() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      getPdtempPdSlExp(pdtempPdInfo).then(res => {\r\n        this.tableData = res.data;\r\n      })\r\n    },\r\n    async initAgency() {\r\n      await initAgency().then(response => {\r\n        for (const agency of response.data) {\r\n          this.agencyOptions.push(agency)\r\n        }\r\n      })\r\n    },\r\n    async initMgcInfo() {\r\n      /*this.pdSlMgcOptions.push({\r\n        slMgcCode: '0000',\r\n        slMgcName: '全机构'\r\n      })*/\r\n      for (const pdSlMgc of (await getSlMg()).data) {\r\n        this.pdSlMgcOptions.push(pdSlMgc)\r\n      }\r\n      for (const pdSlMgc of this.pdSlMgcOptions) {\r\n        this.$set(pdSlMgc, 'disabled', false)\r\n      }\r\n    },\r\n    getPdPolCurrOption() {\r\n      pdtempPdAtrsInfoList(this.form.pdInfoId).then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (response.data[i].pdAtrsCode == 'productCurrency') {\r\n            this.pdPolCurrOptionList.push({//产品币种\r\n              value: response.data[i].pdAtrsVal,\r\n              label: this.getCodeName('productCurrency', response.data[i].pdAtrsVal)\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //选中数据\r\n    chooseRow(Val) {\r\n      this.chooseRowList = Val;\r\n      if (this.chooseRowList.length == 0) {\r\n        this.chooseRowId = '';\r\n        this.pageFlag = false;\r\n        this.resetFormData();\r\n      } else if (this.chooseRowList.length == 1) {\r\n        this.chooseRowId = this.chooseRowList[0].id;\r\n        this.pageFlag = true;\r\n        this.formChooseRow = Object.assign({}, this.chooseRowList[0]);\r\n      } else {\r\n\r\n      }\r\n    },\r\n    resetFormData() {\r\n      this.$nextTick(function () {\r\n        if (!this.pageFlag) {\r\n          this.$refs.form.resetFields();\r\n        } else {\r\n          this.$refs.formChooseRow.resetFields();\r\n        }\r\n        this.form = this.bcform;\r\n      })\r\n    },\r\n    onSubmit(form) {\r\n      this.$refs[form].validate((valid) => {\r\n        if (valid) {\r\n          let mgc = false;\r\n          let cal = false;\r\n          if (this.pageFlag) {\r\n            addPdtempPdSlExp(this.formChooseRow).then(res => {\r\n              if (mgc) {\r\n                this.form.pdSlMgc = ['0000'];\r\n              }\r\n              if (cal) {\r\n                this.form.pdSaleChnl = ['00'];\r\n              }\r\n              this.initQueryDatas();\r\n              this.resetForm(form);\r\n              this.notifySuccess(res.message);\r\n            })\r\n          } else {\r\n            // 判断是否选择了全机构和全渠道\r\n            /*if (this._.includes(this.form.pdSlMgc, '0000')) {\r\n              mgc = true;\r\n              this.form.pdSlMgc = []\r\n              for (const pdSlMgc of this.pdSlMgcOptions) {\r\n                if (pdSlMgc.slMgcCode !== '0000') {\r\n                  this.form.pdSlMgc.push(pdSlMgc.slMgcCode)\r\n                }\r\n              }\r\n            }\r\n            if (this._.includes(this.form.pdSlChanl, '00')) {\r\n              cal = true;\r\n              this.form.pdSlChanl = []\r\n              for (const pdSlChanl of this._.map(this.ldcodes['pdSlChanl'], 'code')) {\r\n                if (pdSlChanl !== '00') {\r\n                  this.form.pdSlChanl.push(pdSlChanl)\r\n                }\r\n              }\r\n            }*/\r\n            addPdtempPdSlExp(this.form).then(res => {\r\n              if (mgc) {\r\n                this.form.pdSlMgc = ['0000'];\r\n              }\r\n              if (cal) {\r\n                this.form.pdSaleChnl = ['00'];\r\n              }\r\n              this.initQueryDatas();\r\n              this.resetForm(form);\r\n              this.notifySuccess(res.message);\r\n            })\r\n          }\r\n          //告知父页面已经保存\r\n          this.$emit('childFn', true);\r\n        }\r\n      })\r\n    },\r\n    deleteData() {\r\n      let delKeys = this.chooseRowList.map(sale => sale.id)\r\n      deletePdtempPdSlExpList(this.buildRequestData({\"delKeys\": delKeys})).then(res => {\r\n        this.initQueryDatas();\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.resetForm('formChooseRow');\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      if (formName) {\r\n        this.$refs[formName].resetFields();\r\n        this.chooseRowId = '';\r\n        this.pageFlag = '';\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n"]}]}
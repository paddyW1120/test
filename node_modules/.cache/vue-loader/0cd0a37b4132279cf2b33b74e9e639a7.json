{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\pd-data-release\\main\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\commodity-release\\pd-data-release\\main\\index.vue","mtime":1609847106653},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge2ZpbmRBbGxQcm9kdWN0QnlQZERldGFpbFR5cGV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZGNsYWltdmVyaWZpY2F0aW9uIgppbXBvcnQge3F1ZXJ5UGRkYXRhUmVsZWFzZSxkb3dubG9hZEZpbGUscmVsZVBkSW5jcmV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9wZGRhdGFyZWxlYXNlIgppbXBvcnQgeyBnZXRBbGxQYXRoIH0gZnJvbSAnQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkcmVsZWFzZScKbGV0IF90aGlzCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGRkYXRhUmVsZWFzZScsCiAgZmlsdGVyczogewogICAgZmlsdGVyX2dldEZpbGVUeXBlKGNvZGUpIHsKICAgICAgaWYgKGNvZGUgIT0gbnVsbCkgewogICAgICAgIHJldHVybiBfdGhpcy5nZXRDYXNjYWRlckNvZGVOYW1lKCdwZGZpbGV0eXBlJywgY29kZSk7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJfZ2V0RmlsZU5hbWUoY29kZSkgewogICAgICBpZiAoY29kZSAhPSBudWxsKSB7CiAgICAgICAgbGV0IGZpbGVuYW1lID0gSlNPTi5wYXJzZShjb2RlKQogICAgICAgIGxldCByZW5hbWUgPSAnJwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZW5hbWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChpID09PSBmaWxlbmFtZS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIHJlbmFtZSArPSBmaWxlbmFtZVtpXQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVuYW1lICs9IGZpbGVuYW1lW2ldICsgIjsgIgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVuYW1lCiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJfZ2V0VXBkRGVwbXQoY29kZSkgewogICAgICBpZiAoY29kZSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZGRlcG10JywgY29kZSkKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIF90aGlzID0gdGhpcwogICAgcmV0dXJuIHsKICAgICAgcGRGaWxlVHlwZUZpbHRlcnM6W10sCiAgICAgIHNlYXJjaHBkUmVnaW9uVHlwZTonJywvL+S6p+WTgee7huexuwogICAgICBzZWxlY3RFZGl0aW9uOiBbXSwvLyDmkJzntKIgIOeJiOWIqyDkuIvmi4npgIkKICAgICAgc2VsZWN0RGF0YTogW10sLy8g5pCc57SiICDkuqflk4Eg5LiL5ouJ6YCJCiAgICAgIGNvbnRlbnQ6IFtdLC8vIOihqOagvCAg6L+H5rukICDpgInpobkKICAgICAgLy/ooajmoLzmlbDmja4KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy/kv53lrZjlj4LmlbAKICAgICAgc2VsZWN0Rm9ybTogewogICAgICAgIHBkQ29kZTogJycsICAvL+S6p+WTgee8lueggQogICAgICAgIHBkTmFtZTogJycsICAvL+S6p+WTgeWQjeensAogICAgICAgIHBkRWRpdGlvbjogJycsICAvL+S6p+WTgeeJiOWIqwogICAgICAgIHBkRmlsZVR5cGU6IFtdLCAgLy/mlofku7bnsbvlnosKICAgICAgfSwKICAgICAgcGR0ZW1wUGRSZWxlU3lzcGF0aExpc3Q6IFtdLC8v5Y+R5biD546v5aKDCiAgICAgIC8v6KGo5qC85aSa6YCJCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgUGR0ZW1wUGRkYXRhcmVsZWFzZTogewogICAgICAgIHBkUmVsZVdheTonJywvL+WPkeW4g+aWueW8jwogICAgICAgIHBkUmVsZURldGFpbHM6JycsLy8gIOWPkeW4g+ivtOaYjgogICAgICAgIHBkQXVkaXRDb25jOltdLC8vICDlj5HluIPnjq/looMKICAgICAgICBwZFJlbGVFbnY6ICcnLCAgLy8gIOWPkeiHs+eOr+WigwogICAgICAgIHBkUmVsZUZpbGU6ICcnLCAgLy8gIOeUn+aIkOaWh+S7tuWQjQoKCiAgICAgIH0sCiAgICAgIHNob3dSZWxlOiBmYWxzZSwKICAgICAgcGF0aHRhYmxlRGF0YTogW10sLy/lj5HluIPnjq/looPooajmoLwKICAgICAgdGFibGVmbGFnOiBmYWxzZSwKICAgICAgcmVsZUJ1dHRvbjogZmFsc2UsCiAgICAgIC8v5qOA6aqM6KeE5YiZCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGRSZWxlV2F5OiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Y+R5biD5pa55byPJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwZFJlbGVEZXRhaWxzOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Y+R5biD6K+05piOJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwZEF1ZGl0Q29uYzogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWPkeW4g+eOr+WigycsIHRyaWdnZXI6ICdjaGFuZ2UnfV0KICAgICAgfSwKICAgICAgZW52TGlzdDpbXQogICAgfQoKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0UXVlcnlUYWJsZURhdGEoKTsKICB9LAogIHdhdGNoOnsKICAgICdQZHRlbXBQZGRhdGFyZWxlYXNlLnBkQXVkaXRDb25jJyh2YWwpIHsKICAgICAgdGhpcy5lbnZMaXN0ID0gdmFsCiAgICB9LAogICAgJ3NlYXJjaHBkUmVnaW9uVHlwZScoKXsKICAgICAgaWYgKCF0aGlzLnNlYXJjaHBkUmVnaW9uVHlwZSl7CiAgICAgICAgdGhpcy5zZWxlY3RGb3JtLnBkQ29kZT0nJzsKICAgICAgICB0aGlzLnNlbGVjdEZvcm0ucGRFZGl0aW9uPScnOwogICAgICB9CiAgICB9LAogICAgJ3NlbGVjdEZvcm0ucGRDb2RlJygpewogICAgICBpZiAoIXRoaXMuc2VsZWN0Rm9ybS5wZENvZGUpewogICAgICAgIHRoaXMuc2VsZWN0Rm9ybS5wZEVkaXRpb249Jyc7CiAgICAgICAgdGhpcy5zZWxlY3RFZGl0aW9uPVtdOwogICAgICB9CiAgICB9LAogICAgdGFibGVEYXRhKCkgewogICAgICBpZiAodGhpcy50YWJsZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucGRGaWxlVHlwZUZpbHRlcnMgPSBbXTsKICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgICB0aGlzLnBkRmlsZVR5cGVGaWx0ZXJzLnB1c2goewogICAgICAgICAgICB0ZXh0OiB0aGlzLmdldENhc2NhZGVyQ29kZU5hbWUoJ3BkZmlsZXR5cGUnLCB2YWwucGRGaWxlVHlwZSksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRGaWxlVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgLy/mlofku7bnsbvlnosKICAgICAgICB0aGlzLnBkRmlsZVR5cGVGaWx0ZXJzID0gdGhpcy5wZEZpbGVUeXBlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGVsID0+IGVsLnRleHQgPT0gZWxlbWVudC50ZXh0KSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LCBbXSk7CiAgICAgIH0KICAgIH0sCiAgICB9LAogIG1ldGhvZHM6IHsKICAgIGZpbHRlckhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7CiAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWydwcm9wZXJ0eSddCiAgICAgIHJldHVybiByb3dbcHJvcGVydHldID09PSB2YWx1ZQogICAgfSwKICAgIC8q5Yid5aeL5YyW5Yqg6L296KGo5qC85pWw5o2uKi8KICAgIGluaXRRdWVyeVRhYmxlRGF0YSgpIHsKICAgICAgcXVlcnlQZGRhdGFSZWxlYXNlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnNlbGVjdEZvcm0pKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucGRkYXRhUmVsZWFzZTsKICAgICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJlcy5kYXRhLnBkZGF0YVJlbGVhc2UpIHsKICAgICAgICAgICAgbGV0IHNkYXRhID0ge2NvZGU6ICcnLCBuYW1lOiAnJywgZWRpdGlvbjogJyd9CiAgICAgICAgICAgIHNkYXRhLmNvZGUgPSByb3cucGRDb2RlCiAgICAgICAgICAgIHNkYXRhLm5hbWUgPSByb3cucGROYW1lCiAgICAgICAgICAgIHNkYXRhLmVkaXRpb24gPSByb3cucGRFZGl0aW9uCiAgICAgICAgICAgIGxldCBmaWxEZXBtdCA9IHt0ZXh0OiAnJywgdmFsdWU6ICcnfQogICAgICAgICAgICBmaWxEZXBtdC50ZXh0ID0gdGhpcy5nZXRDb2RlTmFtZSgncGRkZXBtdCcsIHJvdy5wZFVwZERlcG10LCB0cnVlKQogICAgICAgICAgICBmaWxEZXBtdC52YWx1ZSA9IHJvdy5wZFVwZERlcG10CiAgICAgICAgICAgIHRoaXMuY29udGVudC5wdXNoKGZpbERlcG10KQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy51bmlxdWUodGhpcy5jb250ZW50KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICB1bmlxdWUoYXJyKSB7IC8vIOagueaNruWUr+S4gOagh+ivhm5v5p2l5a+55pWw57uE6L+b6KGM6L+H5rukCiAgICAgIGNvbnN0IHJlcyA9IG5ldyBNYXAoKSAgLy/lrprkuYnluLjph48gcmVzLOWAvOS4uuS4gOS4qk1hcOWvueixoeWunuS+iwogICAgICAvL+i/lOWbnmFycuaVsOe7hOi/h+a7pOWQjueahOe7k+aenO+8jOe7k+aenOS4uuS4gOS4quaVsOe7hCAgIOi/h+a7pOadoeS7tuaYr++8jOWmguaenHJlc+S4reayoeacieafkOS4qumUru+8jOWwseiuvue9rui/meS4qumUrueahOWAvOS4ujEKICAgICAgcmV0dXJuIGFyci5maWx0ZXIoKGFycikgPT4gIXJlcy5oYXMoYXJyLnRleHQpICYmIHJlcy5zZXQoYXJyLnRleHQsIDEpKQogICAgfSwKICAgIC8q5pCc57Si6YOo5YiG77yM6YCJ5oup5Lqn5ZOB57uG57G777yM5o6n5Yi25Lqn5ZOBKi8KICAgIHNlbGVjdGVkRGV0YWlsVHlwZUNoYW5nZWQodmFsKXsKICAgICAgbGV0IHBhcmFtPXsKICAgICAgICBwZFJlZ2lvblR5cGU6dmFsCiAgICAgIH0KICAgICAgaWYoIiIuZW5kc1dpdGgodmFsKSB8fCB2YWw9PXVuZGVmaW5lZCl7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgZmluZEFsbFByb2R1Y3RCeVBkRGV0YWlsVHlwZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlc3BvbnNlID0+ewogICAgICAgIHRoaXMuc2VsZWN0RGF0YSA9W10KICAgICAgICBsZXQgZGV0YWlsVHlwZU9wdGlvbkxpc3QgPXJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5zZWxlY3RGb3JtLnBkQ29kZT0nJzsKICAgICAgICB0aGlzLnNlbGVjdEZvcm0ucGRFZGl0aW9uPScnOwogICAgICAgIHRoaXMuc2VsZWN0RWRpdGlvbj1bXTsKICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3RPcHRpb24gb2YgIHRoaXMudGFibGVEYXRhKSB7CiAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgZGV0YWlsVHlwZU9wdGlvbkxpc3QpIHsKICAgICAgICAgICAgaWYgKHByb2R1Y3RPcHRpb24ucGRDb2RlID09PSBwcm9kdWN0LnBkQ29kZSkgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YS5wdXNoKHByb2R1Y3RPcHRpb24pCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5zZWxlY3REYXRhID0gdGhpcy5zZWxlY3REYXRhLnJlZHVjZShmdW5jdGlvbihwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgICBpZiAoIXByZXYuZmluZChlbCA9PiBlbC5wZENvZGUgPT0gZWxlbWVudC5wZENvZGUpKSB7CiAgICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgIH0sIFtdKTsKCiAgICAgIH0pCiAgICB9LAogICAgLyrmkJzntKLpg6jliIYgIOmAieaLqeS6p+WTge+8jOaOp+WItueJiOWIqyovCiAgICBlZGl0aW9uU2VsZWN0KHZhbCkgewogICAgICB0aGlzLnNlbGVjdEVkaXRpb24gPSBbXTsKICAgICAgaWYgKHZhbCkgewogICAgICAgIGZvciAoY29uc3QgdmFsS2V5IG9mIHRoaXMuc2VsZWN0RGF0YSkgewogICAgICAgICAgaWYgKHZhbCA9PSB2YWxLZXkucGRDb2RlKSB7CiAgICAgICAgICAgIGxldCBlZGl0aW9uID0ge3BkQ29kZTogJycsIHBkRWRpdGlvbjogJyd9CiAgICAgICAgICAgIGVkaXRpb24ucGRDb2RlID0gdmFsS2V5LnBkQ29kZQogICAgICAgICAgICBlZGl0aW9uLnBkRWRpdGlvbiA9IHZhbEtleS5wZEVkaXRpb24KICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0aW9uLnB1c2goZWRpdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuc2VsZWN0Rm9ybS5wZEVkaXRpb24gPSAodGhpcy5zZWxlY3RFZGl0aW9uWzBdLnBkRWRpdGlvbikKCiAgICAgIH0KICAgIH0sCiAgICAvL+aQnOe0ogogICAgc2VhcmNoRGF0YUJ5Q29uZGl0aW9uKCkgewogICAgICBsZXQgZGF0YSA9ewogICAgICAgIHBkQ29kZTogdGhpcy5zZWxlY3RGb3JtLnBkQ29kZSwgIC8v5Lqn5ZOB57yW56CBCiAgICAgICAgcGROYW1lOnRoaXMuc2VsZWN0Rm9ybS5wZE5hbWUsICAvL+S6p+WTgeWQjeensAogICAgICAgIHBkRWRpdGlvbjogdGhpcy5zZWxlY3RGb3JtLnBkRWRpdGlvbiwgIC8v5Lqn5ZOB54mI5YirCiAgICAgICAgcGRGaWxlVHlwZTogdGhpcy5zZWxlY3RGb3JtLnBkRmlsZVR5cGUsICAvL+aWh+S7tuexu+WeiwogICAgICAgIHBkUmVnaW9uVHlwZTp0aGlzLnNlYXJjaHBkUmVnaW9uVHlwZQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgIHF1ZXJ5UGRkYXRhUmVsZWFzZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5wZGRhdGFSZWxlYXNlOwogICAgICAgICAgZm9yIChjb25zdCByb3cgb2YgcmVzLmRhdGEucGRkYXRhUmVsZWFzZSkgewogICAgICAgICAgICBsZXQgc2RhdGEgPSB7Y29kZTogJycsIG5hbWU6ICcnLCBlZGl0aW9uOiAnJ30KICAgICAgICAgICAgc2RhdGEuY29kZSA9IHJvdy5wZENvZGUKICAgICAgICAgICAgc2RhdGEubmFtZSA9IHJvdy5wZE5hbWUKICAgICAgICAgICAgc2RhdGEuZWRpdGlvbiA9IHJvdy5wZEVkaXRpb24KICAgICAgICAgICAgbGV0IGZpbERlcG10ID0ge3RleHQ6ICcnLCB2YWx1ZTogJyd9CiAgICAgICAgICAgIGZpbERlcG10LnRleHQgPSB0aGlzLmdldENvZGVOYW1lKCdwZGRlcG10Jywgcm93LnBkVXBkRGVwbXQsIHRydWUpCiAgICAgICAgICAgIGZpbERlcG10LnZhbHVlID0gcm93LnBkVXBkRGVwbXQKICAgICAgICAgICAgdGhpcy5jb250ZW50LnB1c2goZmlsRGVwbXQpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnVuaXF1ZSh0aGlzLmNvbnRlbnQpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8q5paH5Lu25LiL6L29Ki8KICAgIGRvd25sb2FkRmlsZShyb3cpIHsKICAgICAgbGV0IGZpbGVOYW1lcyA9IEpTT04ucGFyc2Uocm93LnBkRmlsZU5hbWUpOwogICAgICBsZXQgcGF0aHMgPSBKU09OLnBhcnNlKHJvdy5wZEZpbGVQYXRoKQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHBhdGggPSBwYXRoc1tpXQogICAgICAgIGxldCBmaWxlTmFtZSA9IGZpbGVOYW1lc1tpXQogICAgICAgIGRvd25sb2FkRmlsZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoeyJwZEZpbGVQYXRoIjogcGF0aH0pKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuZG93bmxvYWRSZXNwb25zZUZpbGUocmVzcG9uc2UsIGZpbGVOYW1lKQogICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKCfkuIvovb3miJDlip8nKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvKiAg5aSa6YCJ5b6F5Y+R5biD5pWw5o2u77yM6I635Y+W5bm25YeG5aSHIOWPkeW4g+aVsOaNriAgKi8KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IFtdOwogICAgICB0aGlzLmNoZWNrSWQgPSBbXTsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuc2hvd1JlbGUgPSB2YWwubGVuZ3RoID4gMDsKICAgICAgICBmb3IgKGNvbnN0IHZhbEVsZW1lbnQgb2YgdmFsKSB7CiAgICAgICAgICB0aGlzLmNoZWNrSWQucHVzaCh2YWxFbGVtZW50LmlkKQogICAgICAgIH0KICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsCiAgICAgICAgbGV0IHBkUmVsZVdheTE9JzQnOwogICAgICAgIHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVXYXkgPSB0aGlzLmZpbHRlckhhbmRsZXIoJ3JlbGVhc2V3YXknLCBwZFJlbGVXYXkxKTsKICAgICAgICB0aGlzLnBkdGVtcFBkUmVsZVN5c3BhdGhMaXN0ID0gW107CiAgICAgICAgZ2V0QWxsUGF0aCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGZvciAoY29uc3QgYXJndW1lbnQgb2YgcmVzLmRhdGEpIHsKICAgICAgICAgICAgdGhpcy5wZHRlbXBQZFJlbGVTeXNwYXRoTGlzdC5wdXNoKGFyZ3VtZW50KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvL+agueaNrmtleeWAvOafpXZhbHVlCiAgICBmaWx0ZXJIYW5kbGVyKGNvZGV0eXBlLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRDb2RlTmFtZShjb2RldHlwZSwgdmFsdWUpOwogICAgfSwKICAgIC8qICDlj5HluIPlpJrpgIkt5pi+56S6546v5aKDICAqLwogICAgc2hvd1BhdGgodmFsKSB7CiAgICAgIHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVFbnYgPSAnJzsKICAgICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiB2YWwpIHsKICAgICAgICB0aGlzLlBkdGVtcFBkZGF0YXJlbGVhc2UucGRSZWxlRW52ICs9IGFyZ3VtZW50ICsgIjsiCiAgICAgIH0KICAgICAgdGhpcy5wYXRodGFibGVEYXRhID0gW107CiAgICAgIHRoaXMucGF0aHRhYmxlRGF0YSA9IHZhbAogICAgICB0aGlzLnRhYmxlZmxhZyA9IHRoaXMucGF0aHRhYmxlRGF0YS5sZW5ndGggIT09IDAKICAgIH0sCiAgICAvKuWIt+aWsCovCiAgICByZWZyZXNoUGFnZSgpIHsKICAgICAgdGhpcy5QZHRlbXBQZGRhdGFyZWxlYXNlLnBkUmVsZURldGFpbHMgPSAiIjsKICAgICAgdGhpcy5QZHRlbXBQZGRhdGFyZWxlYXNlLnBkQXVkaXRDb25jID0gW107CiAgICAgIHRoaXMudGFibGVmbGFnID0gZmFsc2U7CgogICAgfSwKICAgIC8qIOWPkeW4g+ehruiupCAqLwogICAgc3VibWl0UmVsZUluZm8oKSB7CiAgICAgIHRoaXMuJHJlZnMuUGR0ZW1wUGREYXRhUmxzRm9ybS52YWxpZGF0ZShwYXNzID0+IHsKICAgICAgICBpZihwYXNzKXsKICAgICAgICAgIGxldCBwYXJhbXMgPXsKICAgICAgICAgICAgIlBkdGVtcFBkRmlsZUxpc3QiOiB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLAogICAgICAgICAgICAicGR0ZW1wUGRSZWxlU3lzcGF0aExpc3QiOiBBcnJheS5pc0FycmF5KHRoaXMuZW52TGlzdCkgPyB0aGlzLmVudkxpc3QgOiBBcnJheSh0aGlzLmVudkxpc3QpLAogICAgICAgICAgICAicGRSZWxlV2F5IjogIjQiLAogICAgICAgICAgICAicGRSZWxlRGV0YWlscyI6IHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVEZXRhaWxzLAogICAgICAgICAgICAicmVsZVR5cGUiOiAiMiIsCiAgICAgICAgICAgICJyZWxlVHlwZURldCI6ICIxIiwKICAgICAgICAgICAgInBkUmVsZVN0dSI6ICIzIiwKICAgICAgICAgICAgInBkUmVsZUNvbnRlbmQiOiAiMSIKICAgICAgICAgIH0KICAgICAgICAgIHJlbGVQZEluY3JlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVGaWxlID0gJyc7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICB0aGlzLlBkdGVtcFBkZGF0YXJlbGVhc2UucGRSZWxlRmlsZSA9IHJlcy5kYXRhWzBdLnBkUmVsZUZpbGVOYW1lCiAgICAgICAgICAgICAgbGV0IGZpbGVQYXRoID0gcmVzLmRhdGFbMF0ucGRSZWxlRmlsZVBhdGggKyAiLy8iICsgcmVzLmRhdGFbMF0ucGRSZWxlRmlsZU5hbWU7CiAgICAgICAgICAgICAgbGV0IGZpbGVOYW1lID0gcmVzLmRhdGFbMF0ucGRSZWxlRmlsZU5hbWU7CiAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7InBkRmlsZVBhdGgiOiBmaWxlUGF0aH0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlTmFtZSk7CiAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJlc3BvbnNlRmlsZShyZXMsIGZpbGVOYW1lKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZm9yIChjb25zdCBwZG9wZXJQZFZlclJscyBvZiByZXMuZGF0YSkgewogICAgICAgICAgICAgICAgdGhpcy5QZHRlbXBQZGRhdGFyZWxlYXNlLnBkUmVsZUZpbGUgKz0gcGRvcGVyUGRWZXJSbHMucGRSZWxlRmlsZU5hbWUgKyAiOyAiOwogICAgICAgICAgICAgICAgbGV0IGZpbGVQYXRoID0gcGRvcGVyUGRWZXJSbHMucGRSZWxlRmlsZVBhdGggKyAiLy8iICsgcGRvcGVyUGRWZXJSbHMucGRSZWxlRmlsZU5hbWU7CiAgICAgICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBwZG9wZXJQZFZlclJscy5wZFJlbGVGaWxlTmFtZTsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0geyJwZEZpbGVQYXRoIjogZmlsZVBhdGh9CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlTmFtZSk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEZpbGUodGhpcy5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRSZXNwb25zZUZpbGUocmVzLCBmaWxlTmFtZSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVGaWxlID0gdGhpcy5QZHRlbXBQZGRhdGFyZWxlYXNlLnBkUmVsZUZpbGUuc3Vic3RyaW5nKDAsIHRoaXMuUGR0ZW1wUGRkYXRhcmVsZWFzZS5wZFJlbGVGaWxlLmxlbmd0aCAtIDIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0pCiAgICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity-release/pd-data-release/main","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title :label=\"$t('route.dataRelease')\" />\r\n    <el-form  :model=\"selectForm\" ref=\"selectForm\" label-width=\"auto\" label-position=\"right\">\r\n      <el-row  :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('rule.productDetailType')\">\r\n            <cus-select :codetype=\"'ProductCategory'\" clearable  @change=\"selectedDetailTypeChanged\"\r\n                        filterable v-model=\"searchpdRegionType\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('customComponents.product')\">\r\n            <el-select  @change=\"editionSelect\" clearable filterable  v-model=\"selectForm.pdCode\">\r\n              <el-option\r\n                :key=\"index\"\r\n                :label=\"item.pdCode+':'+item.pdName\"\r\n                :value=\"item.pdCode\"\r\n                v-for=\"(item,index) in selectData\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"pdEdition\">\r\n            <el-select  clearable filterable  v-model=\"selectForm.pdEdition\">\r\n              <el-option\r\n                :key=\"index\"\r\n                :label=\"item.pdEdition\"\r\n                :value=\"item.pdEdition\"\r\n                v-for=\"(item,index) in selectEdition\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row  :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('i18nView.pdFileType')\">\r\n            <cus-cascader :codetype=\"'pdfiletype'\" :placeholder=\"$t('i18nView.pdFileType')\" class=\"cusSelect\"\r\n                           clearable v-model=\"selectForm.pdFileType\"></cus-cascader>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n        <el-button  size=\"small\" @click=\"searchDataByCondition\" icon=\"el-icon-search\" type=\"primary\" >{{$t('pddataRelease.search') }}</el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <cus-table-title :label=\"$t('pddataRelease.productFile')\" />\r\n    <el-table :data=\"tableData\" border element-loading-text=\"Loading\" fit highlight-current-row max-height=\"500\"\r\n              size=\"mini\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55px\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"  prop=\"pdCode\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"  prop=\"pdName\"></el-table-column>\r\n      <el-table-column :label=\"$t('customComponents.pdEdition')\" align=\"center\"\r\n                       prop=\"pdEdition\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdFileType')\" align=\"center\"  prop=\"pdFileType\" :filter-method=\"filterHandler\"\r\n                       :filters=\"pdFileTypeFilters\">\r\n        <template v-slot=\"scope\">{{scope.row.pdFileType | filter_getFileType}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdFileName')\" align=\"center\"  prop=\"pdFileName\">\r\n        <template v-slot=\"scope\">{{scope.row.pdFileName | filter_getFileName}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdFileDesc')\" align=\"center\" prop=\"pdFileDesc\"></el-table-column>\r\n      <el-table-column :filter-method=\"filterHandler\" :filters=\"content\" :label=\"$t('pddataRelease.pdUpdDepmt')\"\r\n                       align=\"center\" prop=\"pdUpdDepmt\">\r\n        <template v-slot=\"scope\">{{scope.row.pdUpdDepmt | filter_getUpdDepmt}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pddataRelease.pdUpDate')\" align=\"center\" prop=\"createTime\" sortable></el-table-column>\r\n    </el-table>\r\n    <cus-form-title :label=\"$t('table.publish')\"></cus-form-title>\r\n    <el-form v-if=\"showRele\" ref=\"PdtempPdDataRlsForm\" :inline=\"true\" :model=\"PdtempPddatarelease\" :rules=\"rules\"\r\n             label-width=\"auto\" label-position=\"right\" style=\"margin-left: 55px;\">\r\n      <!-- 发布方式 -->\r\n      <el-row :gutter=\"10\" class=\"row-bg\" justify=\"left\" type=\"flex\">\r\n          <el-form-item prop=\"pdReleWay\" :label=\"$t('i18nView.releaseMethod')\">\r\n            <el-input disabled v-model=\"PdtempPddatarelease.pdReleWay\">\r\n            </el-input>\r\n          </el-form-item>\r\n      </el-row>\r\n      <!-- 发布说明 -->\r\n      <el-row>\r\n        <el-form-item :label=\"$t('i18nView.releaseDetails')\" prop=\"pdReleDetails\" >\r\n          <el-input v-model=\"PdtempPddatarelease.pdReleDetails\"\r\n                    maxlength=\"500\"\r\n                    :placeholder=\"$t('i18nView.pleInput')\"\r\n                    show-word-limit\r\n                    style=\"width: 588px;\"\r\n                    type=\"textarea\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('i18nView.pdAuditConc')\" prop=\"pdAuditConc\">\r\n            <el-checkbox-group v-model=\"PdtempPddatarelease.pdAuditConc\" @change=\"showPath\">\r\n              <el-checkbox v-for=\"path in pdtempPdReleSyspathList\" :key=\"path.id\" :label=\"path\">\r\n                {{ path.pdReleSysname }}\r\n              </el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row v-if=\"tableflag\">\r\n        <el-table :data=\"pathtableData\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n          <el-table-column align=\"center\" :label=\"$t('table.id')\" type=\"index\" width=\"55px\"></el-table-column>\r\n          <el-table-column :label=\"$t('')\" align=\"center\"\r\n                           prop=\"pdReleSysname\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdReleIp')\" align=\"center\"\r\n                           prop=\"pdReleIp\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdRelePort')\" align=\"center\"\r\n                           prop=\"pdRelePort\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdUsername')\" align=\"center\"\r\n                           prop=\"pdUsername\"></el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" class=\"row-bg\" type=\"flex\">\r\n        <el-col :span=\"24\">\r\n          <el-form-item :label=\"$t('i18nView.pdReleFileName')\">\r\n            <el-input v-model=\"PdtempPddatarelease.pdReleFile\" readonly style=\"width: 588px\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <!--发布确认按钮-->\r\n      <el-row>\r\n        <el-col :span=\"24\" align=\"right\">\r\n          <el-button  size=\"small\" icon=\"el-icon-success\" :disabled=\"releButton\" type=\"primary\" @click=\"submitReleInfo(PdtempPddatarelease)\">\r\n            {{ $t('pddataRelease.releBut') }}\r\n          </el-button>\r\n          <el-button  size=\"small\" :disabled=\"releButton\" icon=\"el-icon-refresh\" type=\"primary\" @click=\"refreshPage()\">\r\n            {{ $t('pddataRelease.releRefresh') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\n  import {findAllProductByPdDetailType} from \"@/api/basicinfo/pdclaimverification\"\r\n  import {queryPddataRelease,downloadFile,relePdIncre} from \"@/api/basicinfo/pddatarelease\"\r\n  import { getAllPath } from '@/api/basicinfo/pdtemppdrelease'\r\n  let _this\r\n  export default {\r\n    name: 'pddataRelease',\r\n    filters: {\r\n      filter_getFileType(code) {\r\n        if (code != null) {\r\n          return _this.getCascaderCodeName('pdfiletype', code);\r\n        }\r\n      },\r\n      filter_getFileName(code) {\r\n        if (code != null) {\r\n          let filename = JSON.parse(code)\r\n          let rename = ''\r\n          for (let i = 0; i < filename.length; i++) {\r\n            if (i === filename.length - 1) {\r\n              rename += filename[i]\r\n            } else {\r\n              rename += filename[i] + \"; \"\r\n            }\r\n          }\r\n          return rename\r\n        }\r\n      },\r\n      filter_getUpdDepmt(code) {\r\n        if (code != null) {\r\n          return _this.getCodeName('pddepmt', code)\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      _this = this\r\n      return {\r\n        pdFileTypeFilters:[],\r\n        searchpdRegionType:'',//产品细类\r\n        selectEdition: [],// 搜索  版别 下拉选\r\n        selectData: [],// 搜索  产品 下拉选\r\n        content: [],// 表格  过滤  选项\r\n        //表格数据\r\n        tableData: [],\r\n        //保存参数\r\n        selectForm: {\r\n          pdCode: '',  //产品编码\r\n          pdName: '',  //产品名称\r\n          pdEdition: '',  //产品版别\r\n          pdFileType: [],  //文件类型\r\n        },\r\n        pdtempPdReleSyspathList: [],//发布环境\r\n        //表格多选\r\n        multipleSelection: [],\r\n        PdtempPddatarelease: {\r\n          pdReleWay:'',//发布方式\r\n          pdReleDetails:'',//  发布说明\r\n          pdAuditConc:[],//  发布环境\r\n          pdReleEnv: '',  //  发至环境\r\n          pdReleFile: '',  //  生成文件名\r\n\r\n\r\n        },\r\n        showRele: false,\r\n        pathtableData: [],//发布环境表格\r\n        tableflag: false,\r\n        releButton: false,\r\n        //检验规则\r\n        rules: {\r\n          pdReleWay: [{required: true, message: '请选择发布方式', trigger: 'change'}],\r\n          pdReleDetails: [{required: true, message: '请输入发布说明', trigger: 'change'}],\r\n          pdAuditConc: [{required: true, message: '请选择发布环境', trigger: 'change'}]\r\n        },\r\n        envList:[]\r\n      }\r\n\r\n    },\r\n    computed: {},\r\n    created() {\r\n      this.initQueryTableData();\r\n    },\r\n    watch:{\r\n      'PdtempPddatarelease.pdAuditConc'(val) {\r\n        this.envList = val\r\n      },\r\n      'searchpdRegionType'(){\r\n        if (!this.searchpdRegionType){\r\n          this.selectForm.pdCode='';\r\n          this.selectForm.pdEdition='';\r\n        }\r\n      },\r\n      'selectForm.pdCode'(){\r\n        if (!this.selectForm.pdCode){\r\n          this.selectForm.pdEdition='';\r\n          this.selectEdition=[];\r\n        }\r\n      },\r\n      tableData() {\r\n        if (this.tableData.length > 0) {\r\n          this.pdFileTypeFilters = [];\r\n          this.tableData.forEach(val => {\r\n            this.pdFileTypeFilters.push({\r\n              text: this.getCascaderCodeName('pdfiletype', val.pdFileType),\r\n              value: val.pdFileType\r\n            });\r\n          });\r\n          //文件类型\r\n          this.pdFileTypeFilters = this.pdFileTypeFilters.reduce(function (prev, element) {\r\n            if (!prev.find(el => el.text == element.text)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n      },\r\n      },\r\n    methods: {\r\n      filterHandler(value, row, column) {\r\n        const property = column['property']\r\n        return row[property] === value\r\n      },\r\n      /*初始化加载表格数据*/\r\n      initQueryTableData() {\r\n        queryPddataRelease(this.buildRequestData(this.selectForm)).then(res => {\r\n          if (res.code === 200) {\r\n            this.tableData = res.data.pddataRelease;\r\n            for (const row of res.data.pddataRelease) {\r\n              let sdata = {code: '', name: '', edition: ''}\r\n              sdata.code = row.pdCode\r\n              sdata.name = row.pdName\r\n              sdata.edition = row.pdEdition\r\n              let filDepmt = {text: '', value: ''}\r\n              filDepmt.text = this.getCodeName('pddepmt', row.pdUpdDepmt, true)\r\n              filDepmt.value = row.pdUpdDepmt\r\n              this.content.push(filDepmt)\r\n            }\r\n            this.content = this.unique(this.content)\r\n          }\r\n        })\r\n      },\r\n      unique(arr) { // 根据唯一标识no来对数组进行过滤\r\n        const res = new Map()  //定义常量 res,值为一个Map对象实例\r\n        //返回arr数组过滤后的结果，结果为一个数组   过滤条件是，如果res中没有某个键，就设置这个键的值为1\r\n        return arr.filter((arr) => !res.has(arr.text) && res.set(arr.text, 1))\r\n      },\r\n      /*搜索部分，选择产品细类，控制产品*/\r\n      selectedDetailTypeChanged(val){\r\n        let param={\r\n          pdRegionType:val\r\n        }\r\n        if(\"\".endsWith(val) || val==undefined){\r\n          return false\r\n        }\r\n        findAllProductByPdDetailType(this.buildRequestData(param)).then(response =>{\r\n          this.selectData =[]\r\n          let detailTypeOptionList =response.data;\r\n          this.selectForm.pdCode='';\r\n          this.selectForm.pdEdition='';\r\n          this.selectEdition=[];\r\n          for (const productOption of  this.tableData) {\r\n            for (const product of detailTypeOptionList) {\r\n              if (productOption.pdCode === product.pdCode) {\r\n                this.selectData.push(productOption)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          this.selectData = this.selectData.reduce(function(prev, element) {\r\n            if (!prev.find(el => el.pdCode == element.pdCode)) {\r\n              prev.push(element);\r\n            }\r\n            return prev;\r\n          }, []);\r\n\r\n        })\r\n      },\r\n      /*搜索部分  选择产品，控制版别*/\r\n      editionSelect(val) {\r\n        this.selectEdition = [];\r\n        if (val) {\r\n          for (const valKey of this.selectData) {\r\n            if (val == valKey.pdCode) {\r\n              let edition = {pdCode: '', pdEdition: ''}\r\n              edition.pdCode = valKey.pdCode\r\n              edition.pdEdition = valKey.pdEdition\r\n              this.selectEdition.push(edition);\r\n            }\r\n          }\r\n          this.selectForm.pdEdition = (this.selectEdition[0].pdEdition)\r\n\r\n        }\r\n      },\r\n      //搜索\r\n      searchDataByCondition() {\r\n        let data ={\r\n          pdCode: this.selectForm.pdCode,  //产品编码\r\n          pdName:this.selectForm.pdName,  //产品名称\r\n          pdEdition: this.selectForm.pdEdition,  //产品版别\r\n          pdFileType: this.selectForm.pdFileType,  //文件类型\r\n          pdRegionType:this.searchpdRegionType\r\n        }\r\n        console.log(data)\r\n        queryPddataRelease(this.buildRequestData(data)).then(res => {\r\n          if (res.code === 200) {\r\n            this.tableData = res.data.pddataRelease;\r\n            for (const row of res.data.pddataRelease) {\r\n              let sdata = {code: '', name: '', edition: ''}\r\n              sdata.code = row.pdCode\r\n              sdata.name = row.pdName\r\n              sdata.edition = row.pdEdition\r\n              let filDepmt = {text: '', value: ''}\r\n              filDepmt.text = this.getCodeName('pddepmt', row.pdUpdDepmt, true)\r\n              filDepmt.value = row.pdUpdDepmt\r\n              this.content.push(filDepmt)\r\n            }\r\n            this.content = this.unique(this.content)\r\n          }\r\n        })\r\n      },\r\n      /*文件下载*/\r\n      downloadFile(row) {\r\n        let fileNames = JSON.parse(row.pdFileName);\r\n        let paths = JSON.parse(row.pdFilePath)\r\n        for (let i = 0; i < paths.length; i++) {\r\n          let path = paths[i]\r\n          let fileName = fileNames[i]\r\n          downloadFile(this.buildRequestData({\"pdFilePath\": path})).then(response => {\r\n            this.downloadResponseFile(response, fileName)\r\n            this.notifySuccess('下载成功')\r\n          })\r\n        }\r\n      },\r\n      /*  多选待发布数据，获取并准备 发布数据  */\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = [];\r\n        this.checkId = [];\r\n        if (val) {\r\n          this.showRele = val.length > 0;\r\n          for (const valElement of val) {\r\n            this.checkId.push(valElement.id)\r\n          }\r\n          this.multipleSelection = val\r\n          let pdReleWay1='4';\r\n          this.PdtempPddatarelease.pdReleWay = this.filterHandler('releaseway', pdReleWay1);\r\n          this.pdtempPdReleSyspathList = [];\r\n          getAllPath().then(res => {\r\n            for (const argument of res.data) {\r\n              this.pdtempPdReleSyspathList.push(argument)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //根据key值查value\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      /*  发布多选-显示环境  */\r\n      showPath(val) {\r\n        this.PdtempPddatarelease.pdReleEnv = '';\r\n        for (const argument of val) {\r\n          this.PdtempPddatarelease.pdReleEnv += argument + \";\"\r\n        }\r\n        this.pathtableData = [];\r\n        this.pathtableData = val\r\n        this.tableflag = this.pathtableData.length !== 0\r\n      },\r\n      /*刷新*/\r\n      refreshPage() {\r\n        this.PdtempPddatarelease.pdReleDetails = \"\";\r\n        this.PdtempPddatarelease.pdAuditConc = [];\r\n        this.tableflag = false;\r\n\r\n      },\r\n      /* 发布确认 */\r\n      submitReleInfo() {\r\n        this.$refs.PdtempPdDataRlsForm.validate(pass => {\r\n          if(pass){\r\n            let params ={\r\n              \"PdtempPdFileList\": this.multipleSelection,\r\n              \"pdtempPdReleSyspathList\": Array.isArray(this.envList) ? this.envList : Array(this.envList),\r\n              \"pdReleWay\": \"4\",\r\n              \"pdReleDetails\": this.PdtempPddatarelease.pdReleDetails,\r\n              \"releType\": \"2\",\r\n              \"releTypeDet\": \"1\",\r\n              \"pdReleStu\": \"3\",\r\n              \"pdReleContend\": \"1\"\r\n            }\r\n            relePdIncre(this.buildRequestData(params)).then(res => {\r\n              this.PdtempPddatarelease.pdReleFile = '';\r\n              if (res.data.length === 1) {\r\n                this.PdtempPddatarelease.pdReleFile = res.data[0].pdReleFileName\r\n                let filePath = res.data[0].pdReleFilePath + \"//\" + res.data[0].pdReleFileName;\r\n                let fileName = res.data[0].pdReleFileName;\r\n                let data = {\"pdFilePath\": filePath}\r\n                console.log(fileName);\r\n                downloadFile(this.buildRequestData(data)).then(res => {\r\n                  this.downloadResponseFile(res, fileName)\r\n                })\r\n              } else {\r\n                for (const pdoperPdVerRls of res.data) {\r\n                  this.PdtempPddatarelease.pdReleFile += pdoperPdVerRls.pdReleFileName + \"; \";\r\n                  let filePath = pdoperPdVerRls.pdReleFilePath + \"//\" + pdoperPdVerRls.pdReleFileName;\r\n                  let fileName = pdoperPdVerRls.pdReleFileName;\r\n                  let data = {\"pdFilePath\": filePath}\r\n                  console.log(fileName);\r\n                  downloadFile(this.buildRequestData(data)).then(res => {\r\n                    this.downloadResponseFile(res, fileName)\r\n                  })\r\n                }\r\n                this.PdtempPddatarelease.pdReleFile = this.PdtempPddatarelease.pdReleFile.substring(0, this.PdtempPddatarelease.pdReleFile.length - 2)\r\n              }\r\n              this.notifySuccess(res.message);\r\n            })\r\n          }else {\r\n            this.focusItem()\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .longInput {\r\n    width: 666px;\r\n  }\r\n\r\n  .divclass {\r\n    border: 1px solid #0000002e;\r\n    width: 735px;\r\n    height: auto;\r\n  }\r\n</style>\r\n"]}]}
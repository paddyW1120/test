{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-rule-public-page\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-rule-public-page\\index.vue","mtime":1609847106983},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7DQogIGFkZFBkdGVtcFBkUnVsZXMsDQogIGRlbGV0ZVBkdGVtcFBkUnVsZXMsDQogIGZpbmRCbmZ0QnlJZCwNCiAgZmluZEJuZnREdHRhaWxCeUJuZnQsDQogIGZpbmRQZFBhSW5mbywNCiAgZmluZFByZW1CeUlkLA0KICBmaW5kUHJvZ0J5SWQsDQogIGdldFJ1bGVDb2RlDQp9IGZyb20gJ0AvYXBpL2Jhc2ljaW5mby9hY2NlcHRJbnN1cmFuY2VSdWxlcycNCmltcG9ydCB7ZmluZEFsbFByb2R1Y3RCeURldGFpbFR5cGV9IGZyb20gIkAvYXBpL2Jhc2ljaW5mby9pbnZSdWxlcyINCg0KbGV0IF90aGlzDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FjY2VwdEluc3VyYW5jZVJ1bGVzJywNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKQ0KICAgIH0sDQogICAgZmlsdGVyX3BkUnVsZUdyYWRlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgicnVsZUdyYWRlIiwgY29kZSkNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgc2hvd1RhYkZsYWc6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0NCiAgfSwNCiAgaW5qZWN0OiBbJ3JlbG9hZCddLA0KICBkYXRhKCkgew0KICAgIF90aGlzID0gdGhpcw0KICAgIHJldHVybiB7DQogICAgICBydWxlVmlldzogew0KICAgICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgICAgZmxhZzogJycsDQogICAgICAgIHJ1bGVDb2RlOiAnJywNCiAgICAgICAgcGVyZm9ybVR5cGU6ICcnDQogICAgICB9LA0KICAgICAgcnVsZVZpc2libGU6IGZhbHNlLA0KICAgICAgYXR0cmlidXRlT2JqOiB7fSwNCiAgICAgIGJ1c3NSbEdyZFNob3c6IHRydWUsDQogICAgICBwZHRlbXBQZFJ1bGVzOiBbXSwvL+S6p+WTgeinhOWImeWFs+iBlOihqOaVsOe7hA0KICAgICAgcGR0ZW1wUGRJbmZvOiBudWxsLA0KICAgICAgcHJvZHVjdE9wdGlvbkxpc3Q6IFtdLC8v5Lqn5ZOB5pWw57uEDQogICAgICBwcm9nT3B0aW9uczogW10sLy/mlrnmoYjpobnmlbDnu4QNCiAgICAgIHByb2dPcHRpb25zMTogW10sLy/mjIflrprmlrnmoYjpobnmlbDnu4QNCiAgICAgIHBkcGFPcHRpb25zOiBbXSwvL+S/neWFqOmhueaVsOe7hA0KICAgICAgcGRwYU9wdGlvbnMxOiBbXSwvL+aMh+WumuS/neWFqOmhueaVsOe7hA0KICAgICAgYm5mdE9wdGlvbnM6IFtdLC8v5L+d6Zqc6aG55pWw57uEDQogICAgICBibmZ0T3B0aW9uczE6IFtdLC8v5oyH5a6a5L+d6Zqc6aG55pWw57uEDQogICAgICBibmZ0ZGV0YWlsT3B0aW9uczogW10sLy/kv53pmpzmmI7nu4bpobnmlbDnu4QNCiAgICAgIGJuZnRkZXRhaWxPcHRpb25zMTogW10sLy/mjIflrprkv53pmpzmmI7nu4bpobnmlbDnu4QNCiAgICAgIHByZW1PcHRpb25zOiBbXSwvL+e8tOi0uemhueaVsOe7hA0KICAgICAgcHJlbU9wdGlvbnMxOiBbXSwvL+aMh+Wumue8tOi0uemhueaVsOe7hA0KICAgICAgZmlsdGVyUGRCdXNzUmxHcmQ6ICcnLA0KICAgICAgc2VhcmNoRm9ybTE6IHsNCiAgICAgICAgSWQ6ICcnLC8v5Li76ZSuDQogICAgICAgIHBkQnVzc1JsR3JkOiAnMScsLy/op4TliJnmiYDlsZ7nuqfliKsNCiAgICAgICAgcHJvZ3JhbUl0ZW06ICcnLC8v5pa55qGI6aG5DQogICAgICAgIGd1YXJhbnRlZUl0ZW06ICcnLC8v5L+d6Zqc6aG5DQogICAgICAgIGd1YXJhbnRlZURldGFpbHM6ICcnLC8v5L+d6Zqc5piO57uG6aG5DQogICAgICAgIHBheW1lbnRJdGVtOiAnJywvL+e8tOi0uemhuQ0KICAgICAgICBwcmVzZXJ2YXRpb25JdGVtczogJycvL+S/neWFqOmhueebrg0KICAgICAgfSwNCiAgICAgIC8v5qC45L+d6KeE5YiZ5a6a5LmJ6KGo5qC8DQogICAgICB1bmRlcndyaXRpbmdGb3JtOiB7DQogICAgICAgIHByb2R1Y3Q6ICcnLC8v5Lqn5ZOBDQogICAgICAgIHBkRWRpdGlvbjogJycsLy/niYjliKsNCiAgICAgICAgcHJvZ3JhbUl0ZW06ICcnLC8v5pa55qGI6aG5DQogICAgICAgIGd1YXJhbnRlZUl0ZW06ICcnLC8v5L+d6Zqc6aG5DQogICAgICAgIGd1YXJhbnRlZURldGFpbHM6ICcnLC8v5L+d6Zqc5piO57uG6aG5DQogICAgICAgIHBheW1lbnRJdGVtOiAnJywvL+e8tOi0uemhuQ0KICAgICAgICBwcmVzZXJ2YXRpb25JdGVtczogJycsLy/kv53lhajpobnnm64NCiAgICAgICAgcnVsZVR5cGU6ICcnLC8v6KeE5YiZ57uG57G7DQogICAgICAgIC8v5oyH5a6aDQogICAgICAgIGRlc2lnbmF0ZWRQcm9kdWN0czogJycsLy/mjIflrprkuqflk4ENCiAgICAgICAgZGVzaWduYXRlZFByb2dyYW06ICcnLC8v5oyH5a6a5pa55qGIDQogICAgICAgIGRlc2lnbmF0ZWRHdWFyYW50ZWU6ICcnLC8v5oyH5a6a5L+d6ZqcDQogICAgICAgIGRlc2lnbmF0ZWRHdWFyYW50ZWVEZXRhaWxzOiAnJywvL+aMh+WumuS/nemanOaYjue7hg0KICAgICAgICBkZXNpZ25hdGVkUGF5bWVudDogJycsLy/mjIflrprnvLTotLkNCiAgICAgICAgZGVzaWduYXRlZFByZXNlcnZhdGlvbkl0ZW1zOiAnJywvL+aMh+WumuS/neWFqOmhueebrg0KICAgICAgICBkZXNpZ25hdGVkUnVsZVR5cGU6ICcnLC8v5oyH5a6a6KeE5YiZ57uG57G7DQogICAgICB9LA0KICAgICAgLy/op4TliJnlj4LmlbDooajmoLzmlbDmja4NCiAgICAgIHJ1bGVDb25maWdzOiBbXSwNCiAgICAgIC8v6KeE5YiZ6KGo5qC85pWw5o2uDQogICAgICBydWxlVGFibGU6IFtdLA0KICAgICAgY2hvb3NlUnVsZXNJbkJyaWVmOiBbXSwNCiAgICAgIGNob29zZVJ1bGVzSW5BbGw6IFtdLA0KICAgICAgc2VsZWN0ZWREZWY6IHt9LC8v5Lqn5ZOB5paw5Y2V5qC45L+d6KeE5YiZ6KGo5qC85Y2V6YCJ5oyJ6ZKuDQogICAgICAvL+S6p+WTgeaWsOWNleaguOS/neinhOWImeihqOagvOaVsOaNrg0KICAgICAgdGFibGVEYXRhX2N1cnJlbnQ6IFtdLA0KICAgICAgdGFibGVEYXRhX2JyaWVmOiBbXSwNCiAgICAgIHBhcmFtc19jdXJyZW50OiB7DQogICAgICAgIGVxX3BkSW5mb0lkOiB1bmRlZmluZWQsDQogICAgICAgIGVxX3BkVHlwZTogJzEnLA0KICAgICAgICBlcV9wZFJ1bGVDbHM6ICc4JywNCiAgICAgICAgZXFfcGRSdWxlRHRDbHM6IFN0cmluZyh0aGlzLnNob3dUYWJGbGFnKQ0KICAgICAgfSwNCiAgICAgIHBhcmFtc19icmllZjogew0KICAgICAgICBwcm9kdWN0OiB1bmRlZmluZWQsDQogICAgICAgIHByb2R1Y3REZXRhaWxUeXBlOiAnJywNCiAgICAgICAgcGRSdWxlRHRDbHM6IFN0cmluZyh0aGlzLnNob3dUYWJGbGFnKQ0KICAgICAgfSwNCiAgICAgIHVuZGVyd3JpdGluZ1Nob3c6IGZhbHNlLA0KICAgICAgcGFyYW1zOiB7DQogICAgICAgIC8vIOW9k+WJjeS6p+WTgeWSjOS4muWKoemhueS/oeaBrw0KICAgICAgICBwcm9kdWN0OiB1bmRlZmluZWQsDQogICAgICAgIHBkUnVsZUdyYWRlOiAnJywNCiAgICAgICAgcGRSdWxlRHRDbHM6IFN0cmluZyh0aGlzLnNob3dUYWJGbGFnKSwNCiAgICAgICAgY3VycmVudF9wZFByb2dDb2RlOiAnJywNCiAgICAgICAgY3VycmVudF9wZEJuZnRDb2RlOiAnJywNCiAgICAgICAgY3VycmVudF9wZEJuZnREdENvZGU6ICcnLA0KICAgICAgICBjdXJyZW50X3BkUHJlbUNvZGU6ICcnLA0KICAgICAgICBjdXJyZW50X3BkUGFDb2RlOiAnJywNCiAgICAgICAgLy8g5p+l6K+i5p2h5Lu2DQogICAgICAgIGVxX3Byb2R1Y3REZXRhaWxUeXBlOiAnJywNCiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgZXFfcGRQcm9nQ29kZTogJycsDQogICAgICAgIGVxX3BkQm5mdENvZGU6ICcnLA0KICAgICAgICBlcV9wZEJuZnREdENvZGU6ICcnLA0KICAgICAgICBlcV9wZFByZW1Db2RlOiAnJywNCiAgICAgICAgZXFfcGRQYUNvZGU6ICcnLA0KICAgICAgICBsaWtlX3BkUnVsZUNvZGU6ICcnDQogICAgICB9LA0KICAgICAgLy/mo4Dpqozop4TliJkNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHByb2dyYW1JdGVtOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdhY2NlcHRJbnN1cmFuY2VSdWxlcy5wbGVhc2VTZWxlY3RQcm9nSXRlbScpLCB0cmlnZ2VyOiAnY2hhbmdlJ30sDQogICAgICAgIF0sDQogICAgICAgIGd1YXJhbnRlZUl0ZW06IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ2FjY2VwdEluc3VyYW5jZVJ1bGVzLnBsZWFzZVNlbGVjdEJuZnRJdGVtJyksIHRyaWdnZXI6ICdjaGFuZ2UnfSwNCiAgICAgICAgXSwNCiAgICAgICAgZ3VhcmFudGVlRGV0YWlsczogWw0KICAgICAgICAgIHtyZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6IHRoaXMuJHQoJ2FjY2VwdEluc3VyYW5jZVJ1bGVzLnBsZWFzZVNlbGVjdEJuZnREVEl0ZW0nKSwgdHJpZ2dlcjogJ2NoYW5nZSd9LA0KICAgICAgICBdLA0KICAgICAgICBwYXltZW50SXRlbTogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnYWNjZXB0SW5zdXJhbmNlUnVsZXMucGxlYXNlU2VsZWN0UGF5SXRlbScpLCB0cmlnZ2VyOiAnY2hhbmdlJ30NCiAgICAgICAgXSwNCiAgICAgICAgcHJlc2VydmF0aW9uSXRlbXM6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ2FjY2VwdEluc3VyYW5jZVJ1bGVzLnBsZWFzZVNlbGVjdFBhSXRlbScpLCB0cmlnZ2VyOiAnY2hhbmdlJ30NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsZXQgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKQ0KICAgIGlmIChPYmplY3Qua2V5cyhwZHRlbXBQZEluZm8pLmxlbmd0aCA+IDApIHsNCiAgICAgIHRoaXMucGR0ZW1wUGRJbmZvID0gcGR0ZW1wUGRJbmZvDQogICAgICBpZiAodGhpcy5zaG93VGFiRmxhZyA9PT0gMTMpIHsNCiAgICAgICAgdGhpcy5maWx0ZXJQZEJ1c3NSbEdyZCA9ICcxJDEkMiQzJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5maWx0ZXJQZEJ1c3NSbEdyZCA9ICcxJDEkMiQzJDQkJw0KICAgICAgfQ0KICAgICAgdGhpcy5wYXJhbXMucHJvZHVjdCA9IHRoaXMucGR0ZW1wUGRJbmZvDQogICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkSW5mb0lkID0gdGhpcy5wZHRlbXBQZEluZm8uaWQNCiAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnByb2R1Y3QgPSB0aGlzLnBkdGVtcFBkSW5mbw0KICAgICAgdGhpcy5wYXJhbXNfYnJpZWYucHJvZHVjdERldGFpbFR5cGUgPSB0aGlzLnBkdGVtcFBkSW5mby5jVHlwZQ0KICAgICAgdGhpcy5maW5kUHJvZ0J5SWQocGR0ZW1wUGRJbmZvLmlkLCAwKQ0KICAgICAgaWYgKHRoaXMuc2hvd1RhYkZsYWcgPT09IDEyKSB7DQogICAgICAgIHRoaXMuZmluZFBkUGFJbmZvKHBkdGVtcFBkSW5mby5pZCwgMCkNCiAgICAgIH0NCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQucmVsb2FkKCkNCiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpDQogICAgICB9KQ0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ21lc3NhZ2UuaW52YWxpZFByb2R1Y3RJbmZvJykpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcnVsZU1vZHVsZUNsb3NlZCgpIHsNCiAgICAgIHRoaXMucnVsZVZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpDQogICAgfSwNCiAgICAvKlJ1bGXor6bmg4UqLw0KICAgIHNob3dSdWxlKHJvdykgew0KICAgICAgdGhpcy5ydWxlVmlldy5mbGFnID0gJzEnDQogICAgICB0aGlzLnJ1bGVWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlDQogICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVDb2RlID0gcm93LnBkUnVsZUNvZGUNCiAgICAgIHRoaXMucnVsZVZpZXcudmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIHJ1bGVWaWV3Q2xvc2VkKCkgew0KICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuc2VsZWN0ZWREZWYgPSB7fQ0KICAgIH0sDQogICAgLy/moLjkv53op4TliJnlrprkuYkgLSDmkJzntKINCiAgICBzZWFyY2hSdWxlcygpIHsNCiAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRQcm9nQ29kZSA9IHRoaXMuc2VhcmNoRm9ybTEucHJvZ3JhbUl0ZW0NCiAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRCbmZ0Q29kZSA9IHRoaXMuc2VhcmNoRm9ybTEuZ3VhcmFudGVlSXRlbQ0KICAgICAgdGhpcy5wYXJhbXMuY3VycmVudF9wZEJuZnREdENvZGUgPSB0aGlzLnNlYXJjaEZvcm0xLmd1YXJhbnRlZURldGFpbHMNCiAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRQcmVtQ29kZSA9IHRoaXMuc2VhcmNoRm9ybTEucGF5bWVudEl0ZW0NCiAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRQYUNvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5zZWFyY2hGb3JtMS5wcmVzZXJ2YXRpb25JdGVtcywgMCkNCiAgICAgIHRoaXMuJHJlZnMucGFnZS5yZWxvYWQoKQ0KICAgIH0sDQogICAgLy/mmL7npLrmlrnmoYjpobnmlbDnu4QNCiAgICBmaW5kUHJvZ0J5SWQoaWQsIG51bSkgew0KICAgICAgZmluZFByb2dCeUlkKGlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgaWYgKG51bSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMucHJvZ09wdGlvbnMgPSBbXQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucHJvZ09wdGlvbnMxID0gW10NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5wcm9nT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICBrZXk6IHZhbC5wZFByb2dDb2RlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRQcm9nQ29kZSwNCiAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkUHJvZ0NvZGUgKyAiOiIgKyB2YWwucGRQcm9nTmFtZQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5wcm9nT3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAga2V5OiB2YWwucGRQcm9nQ29kZSwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJvZ0NvZGUsDQogICAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZFByb2dDb2RlICsgIjoiICsgdmFsLnBkUHJvZ05hbWUNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mmL7npLrkv53lhajpobnnm67mlbDnu4QNCiAgICBmaW5kUGRQYUluZm8oaWQsIG51bSkgew0KICAgICAgZmluZFBkUGFJbmZvKGlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgaWYgKG51bSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMucGRwYU9wdGlvbnMgPSBbXQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucGRwYU9wdGlvbnMxID0gW10NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5wZHBhT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICBrZXk6IHZhbC5wYUNvZGUsDQogICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wYUNvZGUgKyAiOiIgKyB2YWwucGRBdHRyLA0KICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGFDb2RlICsgIjoiICsgdmFsLnBhTmFtZSwNCiAgICAgICAgICAgICAgICBlbnRpdHk6IHZhbA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5wZHBhT3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAga2V5OiB2YWwucGFDb2RlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGFDb2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGFDb2RlICsgIjoiICsgdmFsLnBhTmFtZSwNCiAgICAgICAgICAgICAgICBlbnRpdHk6IHZhbA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aYvuekuuS/nemanOmhueaVsOe7hA0KICAgIGZpbmRCbmZ0QnlJZChpZCwgdmFsdWUsIG51bSkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgcGRJbmZvSWQ6IGlkLA0KICAgICAgICBwZFByb2dDb2RlOiAnJw0KICAgICAgfQ0KICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgIHBhcmFtcy5wZFByb2dDb2RlID0gdmFsdWUNCiAgICAgIH0NCiAgICAgIGZpbmRCbmZ0QnlJZChwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQ0KICAgICAgICBpZiAobnVtID09PSAwKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5ndWFyYW50ZWVJdGVtID0gJycNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLmd1YXJhbnRlZURldGFpbHMgPSAnJw0KICAgICAgICAgIHRoaXMuYm5mdE9wdGlvbnMgPSBbXQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuYm5mdE9wdGlvbnMxID0gW10NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1RhYkZsYWcgPT09IDEzKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbC5wZEJuZnRUeXBlID09PSAnQycpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuYm5mdE9wdGlvbnMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgIGtleTogdmFsLnBkQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRCbmZ0Q29kZSArICI6IiArIHZhbC5wZEJuZnRUeXBlLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQm5mdENvZGUgKyAiOiIgKyB2YWwucGRCbmZ0TmFtZQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0T3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgIGtleTogdmFsLnBkQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnBkQm5mdENvZGUgKyAiOiIgKyB2YWwucGRCbmZ0VHlwZSwNCiAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRCbmZ0Q29kZSArICI6IiArIHZhbC5wZEJuZnROYW1lDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBpZiAodGhpcy5zaG93VGFiRmxhZyA9PT0gMTMpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsLnBkQm5mdFR5cGUgPT09ICdDJykgew0KICAgICAgICAgICAgICAgICAgdGhpcy5ibmZ0T3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAgICAgIGtleTogdmFsLnBkQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRCbmZ0Q29kZSArICI6IiArIHZhbC5wZEJuZnRUeXBlLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQm5mdENvZGUgKyAiOiIgKyB2YWwucGRCbmZ0TmFtZQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5ibmZ0T3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAgICBrZXk6IHZhbC5wZEJuZnRDb2RlLA0KICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZEJuZnRDb2RlICsgIjoiICsgdmFsLnBkQm5mdFR5cGUsDQogICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQm5mdENvZGUgKyAiOiIgKyB2YWwucGRCbmZ0TmFtZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgcHJvZ0NoYW5nZSh2YWx1ZSwgbnVtKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtMS5wZEJ1c3NSbEdyZCA9PT0gIjMiKSB7DQogICAgICAgIHRoaXMuZmluZEJuZnRCeUlkKHRoaXMucGR0ZW1wUGRJbmZvLmlkLCB2YWx1ZSwgbnVtKQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaEZvcm0xLnBkQnVzc1JsR3JkID09PSAiNCIpIHsNCiAgICAgICAgdGhpcy5maW5kUHJlbUJ5SWQodGhpcy5wZHRlbXBQZEluZm8uaWQsIHZhbHVlLCBudW0pDQogICAgICB9DQogICAgfSwNCiAgICAvL+aYvuekuuS/nemanOaYjue7humhueaVsOe7hA0KICAgIGZpbmRCbmZ0RHR0YWlsQnlCbmZ0KHJvdywgbnVtKSB7DQogICAgICBpZiAocm93KSB7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIHBkQm5mdENvZGU6IHRoaXMuZ2V0Q2FwdGlvbihyb3csIDApLA0KICAgICAgICAgIHBkQm5mdFR5cGU6IHRoaXMuZ2V0Q2FwdGlvbihyb3csIDEpDQogICAgICAgIH0NCiAgICAgICAgZmluZEJuZnREdHRhaWxCeUJuZnQoZGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgICBpZiAobnVtID09PSAwKSB7DQogICAgICAgICAgICB0aGlzLmJuZnRkZXRhaWxPcHRpb25zID0gW10NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5ibmZ0ZGV0YWlsT3B0aW9uczEgPSBbXQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICAgIGlmIChkYXRhWzBdLnBkQ2xtQm5mdENvZGUpIHsNCiAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5ibmZ0ZGV0YWlsT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiB2YWwucGRDbG1CbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZENsbUJuZnRDb2RlLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnBkQ2xtQm5mdENvZGUgKyAiOiIgKyB2YWwucGRDbG1CbmZ0TmFtZQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgdGhpcy5ibmZ0ZGV0YWlsT3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAgICAgIGtleTogdmFsLnBkQ2xtQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRDbG1CbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZENsbUJuZnRDb2RlICsgIjoiICsgdmFsLnBkQ2xtQm5mdE5hbWUNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHZhbCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5ibmZ0ZGV0YWlsT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiB2YWwucGRTcnZsQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwucGRTcnZsQm5mdENvZGUsDQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRTcnZsQm5mdENvZGUgKyAiOiIgKyB2YWwucGRTcnZsQm5mdE5hbWUNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuYm5mdGRldGFpbE9wdGlvbnMxLnB1c2goew0KICAgICAgICAgICAgICAgICAgICBrZXk6IHZhbC5wZFNydmxCbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFNydmxCbmZ0Q29kZSwNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZFNydmxCbmZ0Q29kZSArICI6IiArIHZhbC5wZFNydmxCbmZ0TmFtZQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ibmZ0ZGV0YWlsT3B0aW9ucyA9IFtdDQogICAgICB9DQogICAgfSwNCiAgICAvL+aYvuekuue8tOi0uemhueaVsOe7hA0KICAgIGZpbmRQcmVtQnlJZChpZCwgdmFsdWUsIG51bSkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgcGRJbmZvSWQ6IGlkLA0KICAgICAgICBwZFByb2dDb2RlOiAnJywNCiAgICAgIH0NCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICBwYXJhbXMucGRQcm9nQ29kZSA9IHZhbHVlDQogICAgICB9DQogICAgICB0aGlzLnByZW1PcHRpb25zID0gW10NCiAgICAgIHRoaXMucHJlbU9wdGlvbnMxID0gW10NCiAgICAgIGZpbmRQcmVtQnlJZChwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQ0KICAgICAgICBpZiAobnVtID09PSAwKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wYXltZW50SXRlbSA9ICcnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8gdGhpcy51bmRlcndyaXRpbmdGb3JtLmRlc2lnbmF0ZWRQYXltZW50ID0gJycNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICBkYXRhLmZvckVhY2godmFsID0+IHsNCiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5wcmVtT3B0aW9ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICBrZXk6IHZhbC5pZCwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUNvZGUsDQogICAgICAgICAgICAgICAgbGFiZWw6IHZhbC5wZFByZW1Db2RlICsgIjoiICsgdmFsLnBkUGF5TmFtZQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5wcmVtT3B0aW9uczEucHVzaCh7DQogICAgICAgICAgICAgICAga2V5OiB2YWwuaWQsDQogICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFByZW1Db2RlLA0KICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRQcmVtQ29kZSArICI6IiArIHZhbC5wZFBheU5hbWUNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/kuqflk4HmlrDljZXmoLjkv53op4TliJnooajmoLzliKDpmaTmjInpkq4NCiAgICBkZWxSdWxlUm93KHJvdykgew0KICAgICAgZGVsZXRlUGR0ZW1wUGRSdWxlcyhyb3cuaWQpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpDQogICAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnJlbG9hZCgpDQogICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldENhcHRpb24ob2JqLCBzdGF0ZSkgew0KICAgICAgY29uc3QgaW5kZXggPSBvYmoubGFzdEluZGV4T2YoIjoiKQ0KICAgICAgaWYgKHN0YXRlID09PSAwKSB7DQogICAgICAgIHJldHVybiBvYmouc3Vic3RyaW5nKDAsIGluZGV4KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy/op4TliJnooajmoLznmoQgLQ0KICAgIGRlbFJvdyhpbmRleCwgcm93KSB7DQogICAgICB0aGlzLnJ1bGVDb25maWdzLnNwbGljZShpbmRleCwgMSkNCiAgICB9LA0KICAgIC8v6KeE5YiZ6KGo5qC855qEICsNCiAgICBhZGRSb3coaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy5ydWxlQ29uZmlncy5wdXNoKHsNCiAgICAgICAgcGRDb2RlOiAiIiwNCiAgICAgICAgdGlwczogIiIsDQogICAgICAgIHJ1bGVEYXRhOiBbXQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v6YCJ5oupWFjmoLjkv53op4TliJkNCiAgICBhc3luYyBzZWxlY3RVbmRlcndyaXRpbmdSdWxlcygpIHsNCiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybTEudmFsaWRhdGUoYXN5bmMgcGFzcyA9PiB7DQogICAgICAgIGlmIChwYXNzKSB7DQogICAgICAgICAgdGhpcy5ydWxlVGFibGUgPSBbXQ0KICAgICAgICAgIHRoaXMucGFyYW1zLnByb2R1Y3QgPSB0aGlzLnBkdGVtcFBkSW5mbw0KICAgICAgICAgIHRoaXMucGFyYW1zLnBkUnVsZUdyYWRlID0gdGhpcy5zZWFyY2hGb3JtMS5wZEJ1c3NSbEdyZA0KICAgICAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRQcm9nQ29kZSA9IHRoaXMuc2VhcmNoRm9ybTEucHJvZ3JhbUl0ZW0NCiAgICAgICAgICB0aGlzLnBhcmFtcy5jdXJyZW50X3BkQm5mdENvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5zZWFyY2hGb3JtMS5ndWFyYW50ZWVJdGVtLCAwKQ0KICAgICAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnRfcGRCbmZ0RHRDb2RlID0gdGhpcy5zZWFyY2hGb3JtMS5ndWFyYW50ZWVEZXRhaWxzDQogICAgICAgICAgdGhpcy5wYXJhbXMuY3VycmVudF9wZFByZW1Db2RlID0gdGhpcy5zZWFyY2hGb3JtMS5wYXltZW50SXRlbQ0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoRm9ybTEucHJlc2VydmF0aW9uSXRlbXMpDQogICAgICAgICAgdGhpcy5wYXJhbXMuY3VycmVudF9wZFBhQ29kZSA9IHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnNlYXJjaEZvcm0xLnByZXNlcnZhdGlvbkl0ZW1zLCAwKQ0KICAgICAgICAgIHRoaXMucGFyYW1zLmVxX3Byb2R1Y3REZXRhaWxUeXBlID0gdGhpcy5wZHRlbXBQZEluZm8uY1R5cGUNCiAgICAgICAgICBhd2FpdCB0aGlzLnByb2R1Y3REZXRhaWxUeXBlQ2hhbmdlZCh0aGlzLnBhcmFtcy5lcV9wcm9kdWN0RGV0YWlsVHlwZSkNCiAgICAgICAgICB0aGlzLnVuZGVyd3JpdGluZ1Nob3cgPSB0cnVlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/ov5Tlm57lh73mlbANCiAgICBnb0JhY2soKSB7DQogICAgICB0aGlzLnVuZGVyd3JpdGluZ1Nob3cgPSBmYWxzZQ0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlSW5CcmllZihyb3cpIHsNCiAgICAgIHRoaXMuY2hvb3NlUnVsZXNJbkJyaWVmID0gcm93DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VJbkFsbChyb3cpIHsNCiAgICAgIHRoaXMuY2hvb3NlUnVsZXNJbkFsbCA9IHJvdw0KICAgIH0sDQogICAgLy8g5Lqn5ZOB5paw5Y2V5qC45L+d6KeE5YiZ6KGo5qC85Y2V6YCJ5oyJ6ZKuDQogICAgc2VsZWN0ZWRDaGFuZ2VkKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgew0KICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkRGVmLmlkKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZERlZiA9IHt9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5JZCA9IHJvdy5pZA0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGRCdXNzUmxHcmQgPSByb3cucGRSdWxlR3JhZGUvL+inhOWImeaJgOWxnue6p+WIqw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucHJvZ3JhbUl0ZW0gPSByb3cucGRQcm9nQ29kZS8v5pa55qGI6aG5DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5ndWFyYW50ZWVJdGVtID0gcm93LnBkQm5mdENvZGUvL+S/nemanOmhuQ0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTEuZ3VhcmFudGVlRGV0YWlscyA9IHJvdy5wZEJuZnREdENvZGUvL+S/nemanOaYjue7humhuQ0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybTEucGF5bWVudEl0ZW0gPSByb3cucGRQcmVtQ29kZS8v57y06LS56aG5DQogICAgICAgICAgdGhpcy5ydWxlVmlldy5mbGFnID0gcm93LnJ1bGVBdHRyID09PSAnMScgPyAnMScgOiAnMicNCiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnJ1bGVDb2RlID0gcm93LnBkUnVsZUNvZGUNCiAgICAgICAgICB0aGlzLnJ1bGVWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlDQogICAgICAgICAgdGhpcy5ydWxlVmlldy52aXNpYmxlID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvL+aWsOWinuWFrOW8jw0KICAgIGdvVVJMKCkgew0KICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgIHBkQnVzc1R5cGU6ICc4JywNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogU3RyaW5nKHRoaXMuc2hvd1RhYkZsYWcpDQogICAgICB9DQogICAgICBnZXRSdWxlQ29kZSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuYXR0cmlidXRlT2JqID0gew0KICAgICAgICAgIGNvZGU6IHJlcy5kYXRhLA0KICAgICAgICAgIHJ1bGVCdXNzTW9kdTogJzgnLA0KICAgICAgICAgIHJ1bGVCdXNzTW9kdURldGE6IFN0cmluZyh0aGlzLnNob3dUYWJGbGFnKSwNCiAgICAgICAgICBydWxlUG9zSXRlbTogdGhpcy5zaG93VGFiRmxhZyA9PT0gMTIgPyB0aGlzLmdldENhcHRpb24odGhpcy5zZWFyY2hGb3JtMS5wcmVzZXJ2YXRpb25JdGVtcywgMCkgOiB1bmRlZmluZWQsDQogICAgICAgICAgcnVsZVR5cGU6ICcxJywNCiAgICAgICAgICBydWxlQXR0cjogJzInLA0KICAgICAgICAgIHBkVHlwZTogJzEnLA0KICAgICAgICAgIHJpc2tUeXBlOiB0aGlzLnBkdGVtcFBkSW5mby5iVHlwZSwNCiAgICAgICAgICByaXNrRGV0YWlsOiB0aGlzLnBkdGVtcFBkSW5mby5jVHlwZSwNCiAgICAgICAgICBwZENvZGU6IHRoaXMucGR0ZW1wUGRJbmZvLnBkQ29kZSwNCiAgICAgICAgICBwZEVkaXRpb246IHRoaXMucGR0ZW1wUGRJbmZvLnBkRWRpdGlvbg0KICAgICAgICB9DQogICAgICAgIHRoaXMucnVsZVZpc2libGUgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/ot7PovazpobXpnaLliJ3lp4vljJbop4TliJkNCiAgICBnb0FuZEluaXRVUkwoY29kZSkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICfmoKHpqozlnovop4TliJknLCBwYXJhbXM6IHtydWxlRmxhZzogJzEnLCBydWxlQ29kZTogY29kZX19KQ0KICAgIH0sDQogICAgLy/pgInmi6kt5YWz6IGUDQogICAgc2VsZWN0QXNzb2NpYXRpb24odHlwZSkgew0KICAgICAgbGV0IGNob29zZVJ1bGVzID0gW10NCiAgICAgIGlmICh0eXBlID09PSAnYnJpZWYnKSB7DQogICAgICAgIGlmICh0aGlzLmNob29zZVJ1bGVzSW5CcmllZi5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ2FjY2VwdEluc3VyYW5jZVJ1bGVzLnBsZWFzZVNlbGVjdFJ1bGVzJykpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgbGV0IHBhc3NGbGFnID0gdHJ1ZQ0KICAgICAgICB0aGlzLiRyZWZzLnNlYXJjaEZvcm0xLnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICAgIGlmICghcGFzcykgew0KICAgICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oKQ0KICAgICAgICAgICAgcGFzc0ZsYWcgPSBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgaWYgKCFwYXNzRmxhZykgew0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIGNob29zZVJ1bGVzID0gdGhpcy5jaG9vc2VSdWxlc0luQnJpZWYNCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FsbCcpIHsNCiAgICAgICAgaWYgKHRoaXMuY2hvb3NlUnVsZXNJbkFsbC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ2FjY2VwdEluc3VyYW5jZVJ1bGVzLnBsZWFzZVNlbGVjdFJ1bGVzJykpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgY2hvb3NlUnVsZXMgPSB0aGlzLmNob29zZVJ1bGVzSW5BbGwNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgnYWNjZXB0SW5zdXJhbmNlUnVsZXMucGxlYXNlQXBwb2ludEFzc29jaWF0aW9uVHlwZScpKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGxldCBwZHRlbXBQZFJ1bGVzTGlzdCA9IFtdDQogICAgICBjaG9vc2VSdWxlcy5mb3JFYWNoKHJ1bGUgPT4gew0KICAgICAgICBsZXQgcGR0ZW1wUGRSdWxlcyA9IHsNCiAgICAgICAgICBwZFZlcklkOiB0aGlzLnBkdGVtcFBkSW5mby5wZFZlcklkLA0KICAgICAgICAgIHBkVHlwZTogJzEnLA0KICAgICAgICAgIHBkSW5mb0lkOiB0aGlzLnBkdGVtcFBkSW5mby5pZCwNCiAgICAgICAgICBwZENvZGU6IHJ1bGUucGRDb2RlLA0KICAgICAgICAgIHBkUnVsZUdyYWRlOiB0aGlzLnNlYXJjaEZvcm0xLnBkQnVzc1JsR3JkLA0KICAgICAgICAgIHBkUHJvZ0NvZGU6IHRoaXMuc2VhcmNoRm9ybTEucHJvZ3JhbUl0ZW0sDQogICAgICAgICAgcGRCbmZ0Q29kZTogdGhpcy5nZXRDYXB0aW9uKHRoaXMuc2VhcmNoRm9ybTEuZ3VhcmFudGVlSXRlbSwgMCksDQogICAgICAgICAgcGRCbmZ0RHRDb2RlOiB0aGlzLnNlYXJjaEZvcm0xLmd1YXJhbnRlZURldGFpbHMsDQogICAgICAgICAgcGRQcmVtQ29kZTogdGhpcy5zZWFyY2hGb3JtMS5wYXltZW50SXRlbSwNCiAgICAgICAgICBwZFBhQ29kZTogdGhpcy5nZXRDYXB0aW9uKHRoaXMuc2VhcmNoRm9ybTEucHJlc2VydmF0aW9uSXRlbXMsIDApLA0KICAgICAgICAgIHBkQXR0cjogdGhpcy5nZXRDYXB0aW9uKHRoaXMuc2VhcmNoRm9ybTEucHJlc2VydmF0aW9uSXRlbXMsIDEpLA0KICAgICAgICAgIHBkUnVsZUNsczogcnVsZS5wZFJ1bGVDbHMsDQogICAgICAgICAgcGRSdWxlRHRDbHM6IHJ1bGUucGRSdWxlRHRDbHMsDQogICAgICAgICAgcGRSdWxlUHJvcENsczogcnVsZS5wZFJ1bGVQcm9wQ2xzLA0KICAgICAgICAgIHBkUnVsZVByb3BEdENsczogcnVsZS5wZFJ1bGVQcm9wRHRDbHMsDQogICAgICAgICAgcGRSdWxlQ29kZTogcnVsZS5wZFJ1bGVDb2RlLA0KICAgICAgICAgIHBkUnVsZURlc2M6IHJ1bGUucGRSdWxlRGVzYw0KICAgICAgICB9DQogICAgICAgIHBkdGVtcFBkUnVsZXNMaXN0LnB1c2gocGR0ZW1wUGRSdWxlcykNCiAgICAgIH0pDQogICAgICBhZGRQZHRlbXBQZFJ1bGVzKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7DQogICAgICAgIHJ1bGVzOiBwZHRlbXBQZFJ1bGVzTGlzdCwNCiAgICAgICAgcHJvZHVjdDogdGhpcy5wZHRlbXBQZEluZm8sDQogICAgICAgIHBkQnVzc1R5cGU6ICI4IiwNCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogU3RyaW5nKHRoaXMuc2hvd1RhYkZsYWcpDQogICAgICB9KSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdydWxlLmFzc29jaWF0aW9uU3VjY2VzcycpKQ0KICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKQ0KICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCkNCiAgICAgICAgaWYgKHR5cGUgPT09ICdhbGwnKSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aMh+WumumhueeahOWIneWni+WMlg0KICAgIGZpbmREZXNpZ25hdGVkT3B0aW9ucyhwZEluZm9JZCkgew0KICAgICAgaWYgKHBkSW5mb0lkKSB7DQogICAgICAgIGlmICh0aGlzLnNob3dUYWJGbGFnID09PSAxMikgew0KICAgICAgICAgIHRoaXMuZmluZFBkUGFJbmZvKHBkSW5mb0lkLCAxKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZmluZFByb2dCeUlkKHBkSW5mb0lkLCAxKQ0KICAgICAgICB0aGlzLmZpbmRCbmZ0QnlJZChwZEluZm9JZCwgdW5kZWZpbmVkLCAxKQ0KICAgICAgICB0aGlzLmZpbmRCbmZ0RHR0YWlsQnlCbmZ0KHRoaXMudW5kZXJ3cml0aW5nRm9ybS5kZXNpZ25hdGVkR3VhcmFudGVlLCAxKQ0KICAgICAgICB0aGlzLmZpbmRQcmVtQnlJZChwZEluZm9JZCwgdW5kZWZpbmVkLCAxKQ0KICAgICAgICB0aGlzLmZpbmRQZFBhSW5mbyhwZEluZm9JZCwgMSkNCiAgICAgICAgdGhpcy5ydWxlVGFibGUgPSBbXQ0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wcm9nT3B0aW9uczEgPSBbXQ0KICAgICAgICB0aGlzLmJuZnRPcHRpb25zMSA9IFtdDQogICAgICAgIHRoaXMuYm5mdGRldGFpbE9wdGlvbnMxID0gW10NCiAgICAgICAgdGhpcy5wcmVtT3B0aW9uczEgPSBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgcHJvZHVjdERldGFpbFR5cGVDaGFuZ2VkKHZhbCkgew0KICAgICAgdGhpcy5wYXJhbXMuZXFfcGRJbmZvSWQgPSB1bmRlZmluZWQNCiAgICAgIHRoaXMucHJvZHVjdE9wdGlvbkxpc3QgPSBbXQ0KICAgICAgYXdhaXQgZmluZEFsbFByb2R1Y3RCeURldGFpbFR5cGUodGhpcy5idWlsZFJlcXVlc3REYXRhKHtwcm9kdWN0RGV0YWlsVHlwZTogdmFsfSkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgc2hvd1RhYkZsYWc6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMucmVsb2FkKCkNCiAgICB9LA0KICAgIC8v6KeE5YiZ5omA5bGe5bGC57qn5YC85Y+Y5YyW77yM5riF56m655u45YWz6L6T5YWl5qGG5YC8DQogICAgJ3NlYXJjaEZvcm0xLnBkQnVzc1JsR3JkJygpIHsNCiAgICAgIGlmICghdGhpcy5zZWFyY2hGb3JtMS5JZCkgew0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLnByb2dyYW1JdGVtID0gJycvL+aWueahiOmhuQ0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0xLmd1YXJhbnRlZUl0ZW0gPSAnJy8v5L+d6Zqc6aG5DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybTEuZ3VhcmFudGVlRGV0YWlscyA9ICcnLy/kv53pmpzmmI7nu4bpobkNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtMS5wYXltZW50SXRlbSA9ICcnLy/nvLTotLnpobkNCiAgICAgICAgdGhpcy51bmRlcndyaXRpbmdGb3JtLnByb2dyYW1JdGVtID0gJycgLy/mlrnmoYjpobkNCiAgICAgICAgdGhpcy51bmRlcndyaXRpbmdGb3JtLmd1YXJhbnRlZUl0ZW0gPSAnJy8v5L+d6Zqc6aG5DQogICAgICAgIHRoaXMudW5kZXJ3cml0aW5nRm9ybS5ndWFyYW50ZWVEZXRhaWxzID0gJycvL+S/nemanOaYjue7humhuQ0KICAgICAgICB0aGlzLnVuZGVyd3JpdGluZ0Zvcm0ucGF5bWVudEl0ZW0gPSAnJy8v57y06LS56aG5DQogICAgICAgIC8v5oyH5a6aDQogICAgICAgIHRoaXMudW5kZXJ3cml0aW5nRm9ybS5kZXNpZ25hdGVkUHJvZHVjdHMgPSAnJy8v5oyH5a6a5Lqn5ZOBDQogICAgICAgIHRoaXMudW5kZXJ3cml0aW5nRm9ybS5kZXNpZ25hdGVkUHJvZ3JhbSA9ICcnLy/mjIflrprmlrnmoYgNCiAgICAgICAgdGhpcy51bmRlcndyaXRpbmdGb3JtLmRlc2lnbmF0ZWRHdWFyYW50ZWUgPSAnJy8v5oyH5a6a5L+d6ZqcDQogICAgICAgIHRoaXMudW5kZXJ3cml0aW5nRm9ybS5kZXNpZ25hdGVkUGF5bWVudCA9ICcnLy/mjIflrprnvLTotLkNCiAgICAgIH0NCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtMS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAycA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-operation-def/pd-underwriting-def/underwriting-rule-public-page","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <!-- 已选择规则 -->\r\n    <cus-form-title v-if=\"showTabFlag === 10\" :label=\"$t('acceptInsuranceRules.title11')\"></cus-form-title>\r\n    <cus-table-title v-if=\"showTabFlag === 10\" :label=\"$t('acceptInsuranceRules.title2')\"></cus-table-title>\r\n    <cus-table-title v-if=\"showTabFlag === 11\" :label=\"$t('acceptInsuranceRules.title6')\"></cus-table-title>\r\n    <cus-table-title v-if=\"showTabFlag === 12\" :label=\"$t('acceptInsuranceRules.title8')\"></cus-table-title>\r\n    <cus-table-title v-if=\"showTabFlag === 13\" :label=\"$t('acceptInsuranceRules.title10')\"></cus-table-title>\r\n    <el-table :data=\"tableData_current\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\" @row-click=\"selectedChanged\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio v-model=\"selectedDef\" :label=\"scope.row\">\r\n            <span class=\"el-radio__label\"></span>\r\n          </el-radio>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_current', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.details')\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showRule(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleGrade')\" align=\"center\" min-width=\"200\" prop=\"pdRuleGrade\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdRuleGrade | filter_pdRuleGrade }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"showTabFlag === 12\" :label=\"$t('acceptInsuranceRules.pdPaCode')\"\r\n                       align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.pdPaCode\">{{ scope.row.pdPaCode }}:{{ scope.row.pdPaName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.programItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdProgCode }}<span\r\n            v-if=\"scope.row.pdProgCode\">:</span>{{ scope.row.progName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdBnftCode }}<span v-if=\"scope.row.pdBnftCode\">:</span>{{ scope.row.bnftName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeDtItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdBnftDtCode }}<span v-if=\"scope.row.pdBnftDtCode\">:</span>{{\r\n              scope.row.bnftDtName\r\n            }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"showTabFlag !== 13\" :label=\"$t('acceptInsuranceRules.paymentItem')\" align=\"center\"\r\n                       min-width=\"200\" prop=\"pdPremCode\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdPremCode }}<span v-if=\"scope.row.pdPremCode\">:</span>{{ scope.row.premName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.pdRuleCode')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdRuleCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDtCls')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdRuleDtCls | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDesc')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdRuleDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-del-btn @ok=\"delRuleRow(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page_current\" v-model=\"tableData_current\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                    :params=\"params_current\" url=\"/pdtemp-pd-rules/base/currentRules\"/>\r\n\r\n    <!-- 可选择规则 -->\r\n    <cus-form-title :label=\"$t('rule.selectableRule')\"></cus-form-title>\r\n    <el-form ref=\"searchForm1\" :model=\"searchForm1\" :rules=\"rules\" label-width=\"auto\">\r\n      <div v-if=\"bussRlGrdShow\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item v-if=\"showTabFlag === 12\" :label=\"$t('acceptInsuranceRules.preservationItems')\"\r\n                          :rules=\"showTabFlag === 12?rules.guaranteeDetails: [{required: false, trigger: 'change'}]\"\r\n                          prop=\"preservationItems\">\r\n              <el-select v-model=\"searchForm1.preservationItems\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"\r\n                         clearable filterable>\r\n                <el-option v-for=\"item in pdpaOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"17\">\r\n            <el-form-item :label=\"$t('rule.pdRuleGrade')\" prop=\"pdBussRlGrd\" required>\r\n              <cus-radio v-model=\"searchForm1.pdBussRlGrd\" :codetype=\"'rulesLevel'\" :filter=\"filterPdBussRlGrd\"\r\n                         :isRequired=\"true\" :placeholder=\"$t('form.please_select')\">\r\n              </cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"7\">\r\n            <el-form-item v-if=\"searchForm1.pdBussRlGrd!=='1'\"\r\n                          :label=\"$t('acceptInsuranceRules.programItem')\"\r\n                          :rules=\"searchForm1.pdBussRlGrd !== '1'?rules.programItem: [{required: false, trigger: 'change'}]\"\r\n                          prop=\"programItem\">\r\n              <el-select v-model=\"searchForm1.programItem\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                         filterable\r\n                         @change=\"progChange($event,0)\">\r\n                <el-option v-for=\"item in progOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item\r\n              v-if=\"searchForm1.pdBussRlGrd==='3'\"\r\n              :label=\"showTabFlag !== 13?$t('acceptInsuranceRules.guaranteeItem'):$t('acceptInsuranceRules.compensationGuaranteeItem')\"\r\n              :rules=\"searchForm1.pdBussRlGrd ==='3'?rules.guaranteeItem: [{required: false, trigger: 'change'}]\"\r\n              prop=\"guaranteeItem\">\r\n              <el-select v-model=\"searchForm1.guaranteeItem\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"\r\n                         clearable\r\n                         filterable\r\n                         @change=\"findBnftDttailByBnft($event,0)\">\r\n                <el-option v-for=\"item in bnftOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-if=\"searchForm1.pdBussRlGrd === '4'\"\r\n                          :label=\"$t('acceptInsuranceRules.paymentItem')\"\r\n                          :rules=\"searchForm1.pdBussRlGrd === '4'?rules.paymentItem: [{required: false, trigger: 'change'}]\"\r\n                          prop=\"paymentItem\">\r\n              <el-select v-model=\"searchForm1.paymentItem\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                         filterable>\r\n                <el-option v-for=\"item in premOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-form-item\r\n              v-if=\"searchForm1.pdBussRlGrd === '3'\"\r\n              :label=\"showTabFlag !== 13 ? $t('acceptInsuranceRules.guaranteeDtItem') : $t('acceptInsuranceRules.compensationGuaranteeDtItem')\"\r\n              :rules=\"searchForm1.pdBussRlGrd === '3'?rules.guaranteeDetails: [{required: false, trigger: 'change'}]\"\r\n              prop=\"guaranteeDetails\">\r\n              <el-select v-model=\"searchForm1.guaranteeDetails\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                         filterable>\r\n                <el-option v-for=\"item in bnftdetailOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" style=\"text-align: right\">\r\n          <el-col>\r\n            <el-form-item>\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-connection\" size=\"small\" type=\"primary\"\r\n                         @click=\"selectUnderwritingRules\">\r\n                {{ $t('rule.moreRule') }}\r\n              </el-button>\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-circle-plus el-icon--left\" size=\"small\" type=\"primary\"\r\n                         @click=\"goURL\">\r\n                {{ $t('rule.toAddRule') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <el-row v-if=\"false\" :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"id\" prop=\"Id\">\r\n            <el-input v-model=\"searchForm1.Id\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-table :data=\"tableData_brief\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\" @selection-change=\"handleSelectionChangeInBrief\">\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_brief', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.details')\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showRule(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleGrade')\" align=\"center\" min-width=\"200\" prop=\"pdRuleGrade\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdRuleGrade | filter_pdRuleGrade }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.programItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdProgCode }}<span v-if=\"scope.row.pdProgCode\">:</span>{{ scope.row.progName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"showTabFlag === 12\" :label=\"$t('acceptInsuranceRules.pdPaCode')\" align=\"center\"\r\n                       min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.pdPaCode\">{{ scope.row.pdPaCode }}:{{ scope.row.pdPaName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdBnftCode }}<span v-if=\"scope.row.pdBnftCode\">:</span>{{ scope.row.bnftName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeDtItem')\" align=\"center\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdBnftDtCode }}<span v-if=\"scope.row.pdBnftDtCode\">:</span>{{\r\n              scope.row.bnftDtName\r\n            }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"showTabFlag !== 13\" :label=\"$t('acceptInsuranceRules.paymentItem')\" align=\"center\"\r\n                       min-width=\"200\" prop=\"pdPremCode\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdPremCode }}<span v-if=\"scope.row.pdPremCode\">:</span>{{ scope.row.premName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('acceptInsuranceRules.pdRuleCode')\" align=\"center\"\r\n                       min-width=\"200\" prop=\"pdRuleCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDtCls')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{ scope.row.pdRuleDtCls | filter_pdBussDetailType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdRuleDesc')\" align=\"center\"\r\n                       min-width=\"200\" prop=\"pdRuleDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page_brief\" v-model=\"tableData_brief\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                    :params=\"params_brief\" url=\"/pdtemp-pd-rules/base/briefRule\"/>\r\n\r\n    <el-row style=\"text-align: right\">\r\n      <el-col>\r\n        <el-button v-auth=\"'pdtemppdrules_add'\" dialog-disable=\"disable\" icon=\"el-icon-connection\" size=\"small\"\r\n                   type=\"primary\"\r\n                   @click=\"selectAssociation('brief')\">\r\n          {{ $t('acceptInsuranceRules.button3') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!--核保规则全局搜索弹窗-->\r\n    <el-dialog v-if=\"underwritingShow\" v-dialog-drag :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\r\n               :show-close=\"false\" :visible.sync=\"underwritingShow\" center width=\"70%\"\r\n               @close=\"underwritingShow = false\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('acceptInsuranceRules.acceptInsuranceRulesSelect')\"\r\n                           @backTo=\"goBack\"></cus-page-title-back>\r\n\r\n      <el-form ref=\"underwritingForm\" :model=\"underwritingForm\" label-width=\"auto\">\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('pdDiscountFormulaSelect.productDetailsType')\">\r\n              <cus-select v-model=\"params.eq_productDetailType\" :codetype=\"'ProductCategory'\"\r\n                          @change=\"productDetailTypeChanged\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedProducts')\"\r\n                          prop=\"designatedProducts\">\r\n              <el-select v-model=\"params.eq_pdInfoId\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\"\r\n                         clearable filterable @change=\"findDesignatedOptions\">\r\n                <el-option v-for=\"item in productOptionList\" :key=\"item.id\" :label=\"item.pdCode + ':' + item.pdName\"\r\n                           :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('rule.pdRuleCode')\">\r\n              <el-input v-model=\"params.like_pdRuleCode\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('rule.pdRuleDtCls')\" prop=\"pdRuleDtCls\">\r\n              <cus-select v-model=\"params.pdRuleDtCls\" codetype=\"ruleBusinessDetailClass\" disabled></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <!-- 指定业务项 -->\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <el-col v-if=\"showTabFlag === 12\" :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedPreservationItems')\"\r\n                          prop=\"designatedPreservationItems\">\r\n              <el-select v-model=\"params.eq_pdPaCode\" clearable filterable>\r\n                <el-option v-for=\"item in pdpaOptions1\" :key=\"item.value\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col v-if=\"searchForm1.pdBussRlGrd !== '1'\" :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedProgram')\" prop=\"eq_pdProgCode\">\r\n              <el-select v-model=\"params.eq_pdProgCode\" clearable filterable @change=\"progChange($event, 1)\">\r\n                <el-option v-for=\"item in progOptions1\" :key=\"item.value\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col v-if=\"searchForm1.pdBussRlGrd === '3'\" :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedGuarantee')\" prop=\"eq_pdBnftCode\">\r\n              <el-select v-model=\"params.eq_pdBnftCode\" clearable filterable @change=\"findBnftDttailByBnft($event, 1)\">\r\n                <el-option v-for=\"item in bnftOptions1\" :key=\"item.value\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col v-if=\"searchForm1.pdBussRlGrd==='3'\" :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedGuaranteeDetails')\" prop=\"eq_pdBnftDtCode\">\r\n              <el-select v-model=\"params.eq_pdBnftDtCode\" clearable filterable>\r\n                <el-option v-for=\"item in bnftdetailOptions1\" :key=\"item.value\" :label=\"item.label\"\r\n                           :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col v-if=\"searchForm1.pdBussRlGrd === '4'\" :span=\"6\">\r\n            <el-form-item :label=\"$t('acceptInsuranceRules.designatedPayment')\" prop=\"eq_pdPremCode\">\r\n              <el-select v-model=\"params.eq_pdPremCode\" clearable filterable>\r\n                <el-option v-for=\"item in premOptions1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" style=\"text-align: right\" type=\"flex\">\r\n          <el-col>\r\n            <el-form-item>\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-search\" size=\"small\" type=\"primary\"\r\n                         @click=\"searchRules\">\r\n                {{ $t('acceptInsuranceRules.button6') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <cus-table-title v-if=\"showTabFlag === 10\"\r\n                       :label=\"$t('acceptInsuranceRules.newUnderwritingRules')\"></cus-table-title>\r\n      <cus-table-title v-if=\"showTabFlag === 11\" :label=\"$t('acceptInsuranceRules.renewalRules')\"></cus-table-title>\r\n      <cus-table-title v-if=\"showTabFlag === 12\"\r\n                       :label=\"$t('acceptInsuranceRules.preservationUnderwritingRules')\"></cus-table-title>\r\n      <cus-table-title v-if=\"showTabFlag === 13\"\r\n                       :label=\"$t('acceptInsuranceRules.claimUnderwritingRules')\"></cus-table-title>\r\n      <el-table ref=\"ruleTable\" :data=\"ruleTable\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\" @selection-change=\"handleSelectionChangeInAll\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button dialog-disable=\"disable\" size=\"small\" type=\"text\" @click=\"showRule(scope.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdRuleGrade')\" align=\"center\" min-width=\"200\" prop=\"pdRuleGrade\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdRuleGrade | filter_pdRuleGrade }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('acceptInsuranceRules.programItem')\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.pdProgCode }}<span v-if=\"scope.row.pdProgCode\">:</span>{{ scope.row.progName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"showTabFlag === 12\" :label=\"$t('acceptInsuranceRules.pdPaCode')\" align=\"center\"\r\n                         min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.pdPaCode\">{{ scope.row.pdPaCode }}:{{ scope.row.pdPaName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeItem')\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.pdBnftCode }}<span v-if=\"scope.row.pdBnftCode\">:</span>{{ scope.row.bnftName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('acceptInsuranceRules.guaranteeDtItem')\" align=\"center\"\r\n                         min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.pdBnftDtCode }}<span v-if=\"scope.row.pdBnftDtCode\">:</span>{{\r\n              scope.row.bnftDtName\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"showTabFlag !== 13\" :label=\"$t('acceptInsuranceRules.paymentItem')\" align=\"center\"\r\n                         min-width=\"200\" prop=\"pdPremCode\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.pdPremCode }}<span v-if=\"scope.row.pdPremCode\">:</span>{{ scope.row.premName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdRuleDtCls')\" align=\"center\" min-width=\"200\" prop=\"pdRuleDtCls\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdRuleDtCls | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdRuleCode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdRuleCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdRuleDesc')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdRuleDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <cus-pagination ref=\"page\" v-model=\"ruleTable\" :autoBuild=\"false\" :pageSize=\"5\" :params=\"params\"\r\n                      url=\"/pdtemp-pd-rules/base/searchRules\"/>\r\n\r\n      <el-row style=\"text-align: right\">\r\n        <el-col>\r\n          <el-button v-auth=\"'pdtemppdrules_add'\" dialog-disable=\"disable\" icon=\"el-icon-connection\" size=\"small\"\r\n                     type=\"primary\"\r\n                     @click=\"selectAssociation('all')\">\r\n            {{ $t('acceptInsuranceRules.button3') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n\r\n    <!-- 规则引擎公式定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"ruleVisible\"></cus-rule-definition>\r\n\r\n    <!-- 公式查看弹窗 -->\r\n    <cus-rule-modify :flag=\"ruleView.flag\" :performType=\"ruleView.performType\" :ruleCode=\"ruleView.ruleCode\"\r\n                     :ruleModifyClosed=\"ruleViewClosed\" :ruleType=\"'1'\" :visible=\"ruleView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  addPdtempPdRules,\r\n  deletePdtempPdRules,\r\n  findBnftById,\r\n  findBnftDttailByBnft,\r\n  findPdPaInfo,\r\n  findPremById,\r\n  findProgById,\r\n  getRuleCode\r\n} from '@/api/basicinfo/acceptInsuranceRules'\r\nimport {findAllProductByDetailType} from \"@/api/basicinfo/invRules\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'acceptInsuranceRules',\r\n  filters: {\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    },\r\n    filter_pdRuleGrade(code) {\r\n      return _this.getCodeName(\"ruleGrade\", code)\r\n    }\r\n  },\r\n  props: {\r\n    showTabFlag: {\r\n      type: Number,\r\n      default: undefined\r\n    }\r\n  },\r\n  inject: ['reload'],\r\n  data() {\r\n    _this = this\r\n    return {\r\n      ruleView: {\r\n        visible: false,\r\n        flag: '',\r\n        ruleCode: '',\r\n        performType: ''\r\n      },\r\n      ruleVisible: false,\r\n      attributeObj: {},\r\n      bussRlGrdShow: true,\r\n      pdtempPdRules: [],//产品规则关联表数组\r\n      pdtempPdInfo: null,\r\n      productOptionList: [],//产品数组\r\n      progOptions: [],//方案项数组\r\n      progOptions1: [],//指定方案项数组\r\n      pdpaOptions: [],//保全项数组\r\n      pdpaOptions1: [],//指定保全项数组\r\n      bnftOptions: [],//保障项数组\r\n      bnftOptions1: [],//指定保障项数组\r\n      bnftdetailOptions: [],//保障明细项数组\r\n      bnftdetailOptions1: [],//指定保障明细项数组\r\n      premOptions: [],//缴费项数组\r\n      premOptions1: [],//指定缴费项数组\r\n      filterPdBussRlGrd: '',\r\n      searchForm1: {\r\n        Id: '',//主键\r\n        pdBussRlGrd: '1',//规则所属级别\r\n        programItem: '',//方案项\r\n        guaranteeItem: '',//保障项\r\n        guaranteeDetails: '',//保障明细项\r\n        paymentItem: '',//缴费项\r\n        preservationItems: ''//保全项目\r\n      },\r\n      //核保规则定义表格\r\n      underwritingForm: {\r\n        product: '',//产品\r\n        pdEdition: '',//版别\r\n        programItem: '',//方案项\r\n        guaranteeItem: '',//保障项\r\n        guaranteeDetails: '',//保障明细项\r\n        paymentItem: '',//缴费项\r\n        preservationItems: '',//保全项目\r\n        ruleType: '',//规则细类\r\n        //指定\r\n        designatedProducts: '',//指定产品\r\n        designatedProgram: '',//指定方案\r\n        designatedGuarantee: '',//指定保障\r\n        designatedGuaranteeDetails: '',//指定保障明细\r\n        designatedPayment: '',//指定缴费\r\n        designatedPreservationItems: '',//指定保全项目\r\n        designatedRuleType: '',//指定规则细类\r\n      },\r\n      //规则参数表格数据\r\n      ruleConfigs: [],\r\n      //规则表格数据\r\n      ruleTable: [],\r\n      chooseRulesInBrief: [],\r\n      chooseRulesInAll: [],\r\n      selectedDef: {},//产品新单核保规则表格单选按钮\r\n      //产品新单核保规则表格数据\r\n      tableData_current: [],\r\n      tableData_brief: [],\r\n      params_current: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdType: '1',\r\n        eq_pdRuleCls: '8',\r\n        eq_pdRuleDtCls: String(this.showTabFlag)\r\n      },\r\n      params_brief: {\r\n        product: undefined,\r\n        productDetailType: '',\r\n        pdRuleDtCls: String(this.showTabFlag)\r\n      },\r\n      underwritingShow: false,\r\n      params: {\r\n        // 当前产品和业务项信息\r\n        product: undefined,\r\n        pdRuleGrade: '',\r\n        pdRuleDtCls: String(this.showTabFlag),\r\n        current_pdProgCode: '',\r\n        current_pdBnftCode: '',\r\n        current_pdBnftDtCode: '',\r\n        current_pdPremCode: '',\r\n        current_pdPaCode: '',\r\n        // 查询条件\r\n        eq_productDetailType: '',\r\n        eq_pdInfoId: undefined,\r\n        eq_pdProgCode: '',\r\n        eq_pdBnftCode: '',\r\n        eq_pdBnftDtCode: '',\r\n        eq_pdPremCode: '',\r\n        eq_pdPaCode: '',\r\n        like_pdRuleCode: ''\r\n      },\r\n      //检验规则\r\n      rules: {\r\n        programItem: [\r\n          {required: true, message: this.$t('acceptInsuranceRules.pleaseSelectProgItem'), trigger: 'change'},\r\n        ],\r\n        guaranteeItem: [\r\n          {required: true, message: this.$t('acceptInsuranceRules.pleaseSelectBnftItem'), trigger: 'change'},\r\n        ],\r\n        guaranteeDetails: [\r\n          {required: false, message: this.$t('acceptInsuranceRules.pleaseSelectBnftDTItem'), trigger: 'change'},\r\n        ],\r\n        paymentItem: [\r\n          {required: true, message: this.$t('acceptInsuranceRules.pleaseSelectPayItem'), trigger: 'change'}\r\n        ],\r\n        preservationItems: [\r\n          {required: true, message: this.$t('acceptInsuranceRules.pleaseSelectPaItem'), trigger: 'change'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdtempPdInfo = this.getPdData()\r\n    if (Object.keys(pdtempPdInfo).length > 0) {\r\n      this.pdtempPdInfo = pdtempPdInfo\r\n      if (this.showTabFlag === 13) {\r\n        this.filterPdBussRlGrd = '1$1$2$3'\r\n      } else {\r\n        this.filterPdBussRlGrd = '1$1$2$3$4$'\r\n      }\r\n      this.params.product = this.pdtempPdInfo\r\n      this.params_current.eq_pdInfoId = this.pdtempPdInfo.id\r\n      this.params_brief.product = this.pdtempPdInfo\r\n      this.params_brief.productDetailType = this.pdtempPdInfo.cType\r\n      this.findProgById(pdtempPdInfo.id, 0)\r\n      if (this.showTabFlag === 12) {\r\n        this.findPdPaInfo(pdtempPdInfo.id, 0)\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n      })\r\n    } else {\r\n      this.notifyError(this.$t('message.invalidProductInfo'))\r\n    }\r\n  },\r\n  methods: {\r\n    ruleModuleClosed() {\r\n      this.ruleVisible = false\r\n      this.$refs.page_brief.reload()\r\n    },\r\n    /*Rule详情*/\r\n    showRule(row) {\r\n      this.ruleView.flag = '1'\r\n      this.ruleView.performType = row.performType\r\n      this.ruleView.ruleCode = row.pdRuleCode\r\n      this.ruleView.visible = true\r\n    },\r\n    ruleViewClosed() {\r\n      this.ruleView.visible = false\r\n      this.selectedDef = {}\r\n    },\r\n    //核保规则定义 - 搜索\r\n    searchRules() {\r\n      this.params.current_pdProgCode = this.searchForm1.programItem\r\n      this.params.current_pdBnftCode = this.searchForm1.guaranteeItem\r\n      this.params.current_pdBnftDtCode = this.searchForm1.guaranteeDetails\r\n      this.params.current_pdPremCode = this.searchForm1.paymentItem\r\n      this.params.current_pdPaCode = this.getCaption(this.searchForm1.preservationItems, 0)\r\n      this.$refs.page.reload()\r\n    },\r\n    //显示方案项数组\r\n    findProgById(id, num) {\r\n      findProgById(id).then(res => {\r\n        let data = res.data\r\n        if (num === 0) {\r\n          this.progOptions = []\r\n        } else {\r\n          this.progOptions1 = []\r\n        }\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            if (num === 0) {\r\n              this.progOptions.push({\r\n                key: val.pdProgCode,\r\n                value: val.pdProgCode,\r\n                label: val.pdProgCode + \":\" + val.pdProgName\r\n              })\r\n            } else {\r\n              this.progOptions1.push({\r\n                key: val.pdProgCode,\r\n                value: val.pdProgCode,\r\n                label: val.pdProgCode + \":\" + val.pdProgName\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //显示保全项目数组\r\n    findPdPaInfo(id, num) {\r\n      findPdPaInfo(id).then(res => {\r\n        let data = res.data\r\n        if (num === 0) {\r\n          this.pdpaOptions = []\r\n        } else {\r\n          this.pdpaOptions1 = []\r\n        }\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            if (num === 0) {\r\n              this.pdpaOptions.push({\r\n                key: val.paCode,\r\n                value: val.paCode + \":\" + val.pdAttr,\r\n                label: val.paCode + \":\" + val.paName,\r\n                entity: val\r\n              })\r\n            } else {\r\n              this.pdpaOptions1.push({\r\n                key: val.paCode,\r\n                value: val.paCode,\r\n                label: val.paCode + \":\" + val.paName,\r\n                entity: val\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //显示保障项数组\r\n    findBnftById(id, value, num) {\r\n      let params = {\r\n        pdInfoId: id,\r\n        pdProgCode: ''\r\n      }\r\n      if (value) {\r\n        params.pdProgCode = value\r\n      }\r\n      findBnftById(params).then(res => {\r\n        let data = res.data\r\n        if (num === 0) {\r\n          this.searchForm1.guaranteeItem = ''\r\n          this.searchForm1.guaranteeDetails = ''\r\n          this.bnftOptions = []\r\n        } else {\r\n          this.bnftOptions1 = []\r\n        }\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            if (num === 0) {\r\n              if (this.showTabFlag === 13) {\r\n                if (val.pdBnftType === 'C') {\r\n                  this.bnftOptions.push({\r\n                    key: val.pdBnftCode,\r\n                    value: val.pdBnftCode + \":\" + val.pdBnftType,\r\n                    label: val.pdBnftCode + \":\" + val.pdBnftName\r\n                  })\r\n                }\r\n              } else {\r\n                this.bnftOptions.push({\r\n                  key: val.pdBnftCode,\r\n                  value: val.pdBnftCode + \":\" + val.pdBnftType,\r\n                  label: val.pdBnftCode + \":\" + val.pdBnftName\r\n                })\r\n              }\r\n\r\n            } else {\r\n              if (this.showTabFlag === 13) {\r\n                if (val.pdBnftType === 'C') {\r\n                  this.bnftOptions1.push({\r\n                    key: val.pdBnftCode,\r\n                    value: val.pdBnftCode + \":\" + val.pdBnftType,\r\n                    label: val.pdBnftCode + \":\" + val.pdBnftName\r\n                  })\r\n                }\r\n              } else {\r\n                this.bnftOptions1.push({\r\n                  key: val.pdBnftCode,\r\n                  value: val.pdBnftCode + \":\" + val.pdBnftType,\r\n                  label: val.pdBnftCode + \":\" + val.pdBnftName\r\n                })\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    progChange(value, num) {\r\n      if (this.searchForm1.pdBussRlGrd === \"3\") {\r\n        this.findBnftById(this.pdtempPdInfo.id, value, num)\r\n      } else if (this.searchForm1.pdBussRlGrd === \"4\") {\r\n        this.findPremById(this.pdtempPdInfo.id, value, num)\r\n      }\r\n    },\r\n    //显示保障明细项数组\r\n    findBnftDttailByBnft(row, num) {\r\n      if (row) {\r\n        let data = {\r\n          pdBnftCode: this.getCaption(row, 0),\r\n          pdBnftType: this.getCaption(row, 1)\r\n        }\r\n        findBnftDttailByBnft(data).then(res => {\r\n          let data = res.data\r\n          if (num === 0) {\r\n            this.bnftdetailOptions = []\r\n          } else {\r\n            this.bnftdetailOptions1 = []\r\n          }\r\n          if (data.length) {\r\n            if (data[0].pdClmBnftCode) {\r\n              data.forEach(val => {\r\n                if (num === 0) {\r\n                  this.bnftdetailOptions.push({\r\n                    key: val.pdClmBnftCode,\r\n                    value: val.pdClmBnftCode,\r\n                    label: val.pdClmBnftCode + \":\" + val.pdClmBnftName\r\n                  })\r\n                } else {\r\n                  this.bnftdetailOptions1.push({\r\n                    key: val.pdClmBnftCode,\r\n                    value: val.pdClmBnftCode,\r\n                    label: val.pdClmBnftCode + \":\" + val.pdClmBnftName\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              data.forEach(val => {\r\n                if (num === 0) {\r\n                  this.bnftdetailOptions.push({\r\n                    key: val.pdSrvlBnftCode,\r\n                    value: val.pdSrvlBnftCode,\r\n                    label: val.pdSrvlBnftCode + \":\" + val.pdSrvlBnftName\r\n                  })\r\n                } else {\r\n                  this.bnftdetailOptions1.push({\r\n                    key: val.pdSrvlBnftCode,\r\n                    value: val.pdSrvlBnftCode,\r\n                    label: val.pdSrvlBnftCode + \":\" + val.pdSrvlBnftName\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        this.bnftdetailOptions = []\r\n      }\r\n    },\r\n    //显示缴费项数组\r\n    findPremById(id, value, num) {\r\n      let params = {\r\n        pdInfoId: id,\r\n        pdProgCode: '',\r\n      }\r\n      if (value) {\r\n        params.pdProgCode = value\r\n      }\r\n      this.premOptions = []\r\n      this.premOptions1 = []\r\n      findPremById(params).then(res => {\r\n        let data = res.data\r\n        if (num === 0) {\r\n          this.searchForm1.paymentItem = ''\r\n        } else {\r\n          // this.underwritingForm.designatedPayment = ''\r\n        }\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            if (num === 0) {\r\n              this.premOptions.push({\r\n                key: val.id,\r\n                value: val.pdPremCode,\r\n                label: val.pdPremCode + \":\" + val.pdPayName\r\n              })\r\n            } else {\r\n              this.premOptions1.push({\r\n                key: val.id,\r\n                value: val.pdPremCode,\r\n                label: val.pdPremCode + \":\" + val.pdPayName\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //产品新单核保规则表格删除按钮\r\n    delRuleRow(row) {\r\n      deletePdtempPdRules(row.id).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n      })\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    //规则表格的 -\r\n    delRow(index, row) {\r\n      this.ruleConfigs.splice(index, 1)\r\n    },\r\n    //规则表格的 +\r\n    addRow(index, row) {\r\n      this.ruleConfigs.push({\r\n        pdCode: \"\",\r\n        tips: \"\",\r\n        ruleData: []\r\n      })\r\n    },\r\n    //选择XX核保规则\r\n    async selectUnderwritingRules() {\r\n      this.$refs.searchForm1.validate(async pass => {\r\n        if (pass) {\r\n          this.ruleTable = []\r\n          this.params.product = this.pdtempPdInfo\r\n          this.params.pdRuleGrade = this.searchForm1.pdBussRlGrd\r\n          this.params.current_pdProgCode = this.searchForm1.programItem\r\n          this.params.current_pdBnftCode = this.getCaption(this.searchForm1.guaranteeItem, 0)\r\n          this.params.current_pdBnftDtCode = this.searchForm1.guaranteeDetails\r\n          this.params.current_pdPremCode = this.searchForm1.paymentItem\r\n          console.log(this.searchForm1.preservationItems)\r\n          this.params.current_pdPaCode = this.getCaption(this.searchForm1.preservationItems, 0)\r\n          this.params.eq_productDetailType = this.pdtempPdInfo.cType\r\n          await this.productDetailTypeChanged(this.params.eq_productDetailType)\r\n          this.underwritingShow = true\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    //返回函数\r\n    goBack() {\r\n      this.underwritingShow = false\r\n    },\r\n    handleSelectionChangeInBrief(row) {\r\n      this.chooseRulesInBrief = row\r\n    },\r\n    handleSelectionChangeInAll(row) {\r\n      this.chooseRulesInAll = row\r\n    },\r\n    // 产品新单核保规则表格单选按钮\r\n    selectedChanged(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDef.id) {\r\n          this.selectedDef = {}\r\n        } else {\r\n          this.searchForm1.Id = row.id\r\n          this.searchForm1.pdBussRlGrd = row.pdRuleGrade//规则所属级别\r\n          this.searchForm1.programItem = row.pdProgCode//方案项\r\n          this.searchForm1.guaranteeItem = row.pdBnftCode//保障项\r\n          this.searchForm1.guaranteeDetails = row.pdBnftDtCode//保障明细项\r\n          this.searchForm1.paymentItem = row.pdPremCode//缴费项\r\n          this.ruleView.flag = row.ruleAttr === '1' ? '1' : '2'\r\n          this.ruleView.ruleCode = row.pdRuleCode\r\n          this.ruleView.performType = row.performType\r\n          this.ruleView.visible = true\r\n        }\r\n      }\r\n    },\r\n    //新增公式\r\n    goURL() {\r\n      const param = {\r\n        pdBussType: '8',\r\n        pdBussDetailType: String(this.showTabFlag)\r\n      }\r\n      getRuleCode(this.buildRequestData(param)).then(res => {\r\n        this.attributeObj = {\r\n          code: res.data,\r\n          ruleBussModu: '8',\r\n          ruleBussModuDeta: String(this.showTabFlag),\r\n          rulePosItem: this.showTabFlag === 12 ? this.getCaption(this.searchForm1.preservationItems, 0) : undefined,\r\n          ruleType: '1',\r\n          ruleAttr: '2',\r\n          pdType: '1',\r\n          riskType: this.pdtempPdInfo.bType,\r\n          riskDetail: this.pdtempPdInfo.cType,\r\n          pdCode: this.pdtempPdInfo.pdCode,\r\n          pdEdition: this.pdtempPdInfo.pdEdition\r\n        }\r\n        this.ruleVisible = true\r\n      })\r\n    },\r\n    //跳转页面初始化规则\r\n    goAndInitURL(code) {\r\n      this.$router.push({name: '校验型规则', params: {ruleFlag: '1', ruleCode: code}})\r\n    },\r\n    //选择-关联\r\n    selectAssociation(type) {\r\n      let chooseRules = []\r\n      if (type === 'brief') {\r\n        if (this.chooseRulesInBrief.length === 0) {\r\n          this.notifyError(this.$t('acceptInsuranceRules.pleaseSelectRules'))\r\n          return\r\n        }\r\n        let passFlag = true\r\n        this.$refs.searchForm1.validate(pass => {\r\n          if (!pass) {\r\n            this.focusItem()\r\n            passFlag = false\r\n          }\r\n        })\r\n        if (!passFlag) {\r\n          return\r\n        }\r\n        chooseRules = this.chooseRulesInBrief\r\n      } else if (type === 'all') {\r\n        if (this.chooseRulesInAll.length === 0) {\r\n          this.notifyError(this.$t('acceptInsuranceRules.pleaseSelectRules'))\r\n          return\r\n        }\r\n        chooseRules = this.chooseRulesInAll\r\n      } else {\r\n        this.notifyError(this.$t('acceptInsuranceRules.pleaseAppointAssociationType'))\r\n        return\r\n      }\r\n      let pdtempPdRulesList = []\r\n      chooseRules.forEach(rule => {\r\n        let pdtempPdRules = {\r\n          pdVerId: this.pdtempPdInfo.pdVerId,\r\n          pdType: '1',\r\n          pdInfoId: this.pdtempPdInfo.id,\r\n          pdCode: rule.pdCode,\r\n          pdRuleGrade: this.searchForm1.pdBussRlGrd,\r\n          pdProgCode: this.searchForm1.programItem,\r\n          pdBnftCode: this.getCaption(this.searchForm1.guaranteeItem, 0),\r\n          pdBnftDtCode: this.searchForm1.guaranteeDetails,\r\n          pdPremCode: this.searchForm1.paymentItem,\r\n          pdPaCode: this.getCaption(this.searchForm1.preservationItems, 0),\r\n          pdAttr: this.getCaption(this.searchForm1.preservationItems, 1),\r\n          pdRuleCls: rule.pdRuleCls,\r\n          pdRuleDtCls: rule.pdRuleDtCls,\r\n          pdRulePropCls: rule.pdRulePropCls,\r\n          pdRulePropDtCls: rule.pdRulePropDtCls,\r\n          pdRuleCode: rule.pdRuleCode,\r\n          pdRuleDesc: rule.pdRuleDesc\r\n        }\r\n        pdtempPdRulesList.push(pdtempPdRules)\r\n      })\r\n      addPdtempPdRules(this.buildRequestData({\r\n        rules: pdtempPdRulesList,\r\n        product: this.pdtempPdInfo,\r\n        pdBussType: \"8\",\r\n        pdBussDetailType: String(this.showTabFlag)\r\n      })).then(() => {\r\n        this.notifySuccess(this.$t('rule.associationSuccess'))\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n        if (type === 'all') {\r\n          this.$refs.page.reload()\r\n        }\r\n      })\r\n    },\r\n    //指定项的初始化\r\n    findDesignatedOptions(pdInfoId) {\r\n      if (pdInfoId) {\r\n        if (this.showTabFlag === 12) {\r\n          this.findPdPaInfo(pdInfoId, 1)\r\n        }\r\n        this.findProgById(pdInfoId, 1)\r\n        this.findBnftById(pdInfoId, undefined, 1)\r\n        this.findBnftDttailByBnft(this.underwritingForm.designatedGuarantee, 1)\r\n        this.findPremById(pdInfoId, undefined, 1)\r\n        this.findPdPaInfo(pdInfoId, 1)\r\n        this.ruleTable = []\r\n        return true\r\n      } else {\r\n        this.progOptions1 = []\r\n        this.bnftOptions1 = []\r\n        this.bnftdetailOptions1 = []\r\n        this.premOptions1 = []\r\n      }\r\n    },\r\n    async productDetailTypeChanged(val) {\r\n      this.params.eq_pdInfoId = undefined\r\n      this.productOptionList = []\r\n      await findAllProductByDetailType(this.buildRequestData({productDetailType: val})).then(response => {\r\n        this.productOptionList = response.data\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    showTabFlag: function () {\r\n      this.reload()\r\n    },\r\n    //规则所属层级值变化，清空相关输入框值\r\n    'searchForm1.pdBussRlGrd'() {\r\n      if (!this.searchForm1.Id) {\r\n        this.searchForm1.programItem = ''//方案项\r\n        this.searchForm1.guaranteeItem = ''//保障项\r\n        this.searchForm1.guaranteeDetails = ''//保障明细项\r\n        this.searchForm1.paymentItem = ''//缴费项\r\n        this.underwritingForm.programItem = '' //方案项\r\n        this.underwritingForm.guaranteeItem = ''//保障项\r\n        this.underwritingForm.guaranteeDetails = ''//保障明细项\r\n        this.underwritingForm.paymentItem = ''//缴费项\r\n        //指定\r\n        this.underwritingForm.designatedProducts = ''//指定产品\r\n        this.underwritingForm.designatedProgram = ''//指定方案\r\n        this.underwritingForm.designatedGuarantee = ''//指定保障\r\n        this.underwritingForm.designatedPayment = ''//指定缴费\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.searchForm1.clearValidate()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}
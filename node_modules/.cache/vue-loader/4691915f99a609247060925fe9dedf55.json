{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\new-single-test\\casereadonly\\index.vue?vue&type=style&index=0&id=e857141e&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-testing\\new-single-test\\casereadonly\\index.vue","mtime":1609847107117},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCi5kaXZpZGVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogIG1hcmdpbi1sZWZ0OiA0cHg7DQp9DQoNCi5mb3JtdGl0bGUgew0KICBwYWRkaW5nLXRvcDogMTBweDsNCiAgZm9udC1zaXplOiAxNXB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQouZGl2Y2xhc3Mgew0KICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwMmU7DQogIHdpZHRoOiA3MzVweDsNCiAgaGVpZ2h0OiBhdXRvOw0KfQ0KDQouY3N0IHsNCiAgd2lkdGg6IDgwcHg7DQogIGJvcmRlcjogMDsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2tBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-testing/new-single-test/casereadonly","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-commodity-info></cus-commodity-info>\r\n\r\n    <cus-form-title :label=\"$t('productTestingNewCaseDefinition.CaseDefinitionDetail')\" :first=\"true\"/>\r\n    <el-form label-width=\"auto\" ref=\"caseDefForm\" style=\"margin-left: 30px\" class=\"demo-ruleForm\"\r\n             :model=\"CaseDefinition\">\r\n\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.testCaseCode')\">\r\n            <span> {{ CaseDefinition.pdTestCaseCode }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"14\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.testPoint')\">\r\n            <span v-for=\"item in CaseDefinition.testPoint\">{{ item }}、</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.testCaseDesc')\">\r\n            <span> {{ CaseDefinition.pdTestCaseDesc }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('productTestingNewCaseDefinition.customer')\"/>\r\n    <el-table :data=\"customers\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column width=\"50\" :label=\"$t('table.select')\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs2\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleUpdateCustomer\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerrole')\" align=\"center\"\r\n                       prop=\"customerRole\"></el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerseq')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterSeq(scope.row) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerno')\" align=\"center\"\r\n      >\r\n        <template v-slot=\"scope\">{{ filterCustomerNo(scope.row) }}</template>\r\n\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customersex')\" align=\"center\"\r\n                       prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterSexType(filterSex(scope.row)) }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.customerage')\" align=\"center\" prop=\"\">\r\n        <template v-slot=\"scope\">{{ filterAge(scope.row) }}</template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--投保人资料-->\r\n    <cus-form-title v-if=\"policyFormFlag\" :label=\"$t('productTestingNewDetails.policyholderInformation')\"/>\r\n    <el-form v-if=\"policyFormFlag\" :inline=\"true\" label-width=\"auto\" ref=\"policyForm\" :model=\"policyHolder\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.policyholderSeq')\">\r\n            <span>{{ policyHolder.appntSeq }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <span>{{ policyHolder.appntNo }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customersex')\">\r\n            <span>{{ filterSexType(policyHolder.appntSex) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"appntAge\"\r\n                        :label=\"$t('productTestingNewCaseDefinition.customerage')\">\r\n            <span>{{ policyHolder.appntAge }}</span>\r\n            <span>{{ policyHolder.ageUnit === 'Y' ? '(岁)' : '(天)' }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\">\r\n            <span>{{ filterOccupationType(policyHolder.occupationType) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <span>{{ policyHolder.smokeFlag }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewDetails.relationshipWithTheInsured')\">\r\n            <span>{{ filterRelationToInsured(policyHolder.relationToInsured) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n\r\n    <!--被保人资料-->\r\n\r\n    <cus-form-title v-if=\"insuredFormFlag\" :label=\"$t('productTestingNewDetails.insured')\"/>\r\n    <el-form v-if=\"insuredFormFlag\" :inline=\"true\" label-width=\"auto\" ref=\"insuredForm\" :model=\"insured\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"insuredSeq\"\r\n                        :label=\"$t('productTestingNewCaseDefinition.insuredSeq')\">\r\n            <span>{{ insured.insuredSeq }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <span>{{ insured.insuredNo }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"insuredSex\" :label=\"$t('productTestingNewCaseDefinition.customersex')\">\r\n            <span>{{ filterSexType(insured.insuredSex) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.customerage')\">\r\n            <span>{{ insured.insuredAppAge }}</span>\r\n            <span>{{ insured.ageUnit === 'Y' ? '(岁)' : '(天)' }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\">\r\n            <span>{{ filterOccupationType(insured.occupationType) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <span>{{ insured.smokeFlag }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"relationToMInsured\"\r\n                        :label=\"$t('productTestingNewDetails.relationshipWithPrincipalInsured')\">\r\n            <span>{{ filterRelationToInsured(insured.relationToMInsured) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!--受益人资料-->\r\n    <cus-form-title v-if=\"beneficiaryFormFlag\" :label=\"$t('productTestingNewCaseDefinition.beneficiary')\"/>\r\n    <el-form v-if=\"beneficiaryFormFlag\" :inline=\"true\" label-width=\"auto\" ref=\"bnfForm\" :model=\"beneficiary\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.bnfSeq')\">\r\n            <span>{{ beneficiary.bnfSeq }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.belToInsuredSeq')\">\r\n            <span>{{ beneficiary.belToInsuredSeq }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customerno')\">\r\n            <span>{{ beneficiary.bnfNo }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.customersex')\">\r\n            <span>{{ filterSexType(beneficiary.bnfSex) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item\r\n                        :label=\"$t('productTestingNewCaseDefinition.customerage')\">\r\n            <span>{{ beneficiary.bnfAge }}</span>\r\n            <span>{{ beneficiary.ageUnit === 'Y' ? '(岁)' : '(天)' }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"occupationType\"\r\n                        :label=\"$t('productTestingNewCaseDefinition.occupationGrade')\">\r\n            <span>{{ filterOccupationType(beneficiary.occupationType) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('productTestingNewCaseDefinition.smokingSigns')\">\r\n            <span>{{ beneficiary.smokeFlag }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item prop=\"relationToInsured\"\r\n                        :label=\"$t('productTestingNewDetails.relationshipWithTheInsured')\">\r\n            <span>{{ filterRelationToInsured(beneficiary.relationToInsured) }}</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!--当前产品资料-->\r\n\r\n    <br/>\r\n\r\n    <cus-form-title :label=\"$t('productTestingNewCaseDefinition.currentProduct')\"/>\r\n    <el-form\r\n      size=\"medium\"\r\n      label-position=\"right\"\r\n      label-width=\"auto\"\r\n      :inline=\"true\"\r\n      ref=\"relaElForm\"\r\n      style=\"margin-left: 24px;\"\r\n    >\r\n      <el-row>\r\n        <el-col :span=8 v-for=\"(item,index) in elementDatas\">\r\n          <el-form-item :label=\"item.label\">\r\n            <!--日期-->\r\n            <el-date-picker v-if=\"item.type === 'date'\" clearable :disabled=\"true\" :readonly=\"true\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            :placeholder=\"item.placeholder\" v-model=\"item.config.defaultValue\"/>\r\n            <!--下拉选-->\r\n            <el-select v-if=\"item.type === 'select'\" :disabled=\"true\"\r\n                       clearable\r\n                       :placeholder=\"item.placeholder\" :multiple=\"item.multiple\" v-model=\"item.config.defaultValue\">\r\n              <el-option v-for=\"(sItem,sIndex) in item.slot.options\"\r\n                         :key=\"sIndex\"\r\n                         :label=\"sItem.label\"\r\n                         :value=\"sItem.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <!--文本域-->\r\n            <el-input v-if=\"item.type === 'textarea'\" clearable type=\"textarea\" :disabled=\"true\"\r\n                      :readonly=\"true\"\r\n                      v-model=\"item.config.defaultValue\" :placeholder=\"item.placeholder\"/>\r\n\r\n            <!--文本框-->\r\n            <el-input v-if=\"item.type === 'text'\" type=\"text\" clearable :disabled=\"true\"\r\n                      :readonly=\"true\"\r\n                      v-model=\"item.config.defaultValue\" :placeholder=\"item.placeholder\"/>\r\n\r\n            <!--复选框-->\r\n            <el-checkbox-group v-if=\"item.type === 'checkbox'\" :disabled=\"true\"\r\n                               :readonly=\"true\" v-model=\"item.config.defaultValue\"\r\n                               :placeholder=\"item.placeholder\">\r\n              <el-checkbox v-for=\"(cItem,cIndex) in item.slot.options\"\r\n                           :label=\"cItem.label\" :value=\"cItem.value\"/>\r\n            </el-checkbox-group>\r\n\r\n            <!--单选框-->\r\n            <el-radio-group v-if=\"item.type === 'radio'\" :disabled=\"true\" :readonly=\"true\"\r\n                            v-model=\"item.config.defaultValue\"\r\n                            :placeholder=\"item.placeholder\">\r\n              <el-radio v-for=\"(rItem,rIndex) in item.slot.options\" :key=\"rIndex\"\r\n                        :label=\"rItem.value\" :value=\"rItem.value\">{{ rItem.label }}\r\n              </el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!-- 产品搭配 -->\r\n    <cus-form-title :showArrow=\"true\" @show=\"queryRelaPdData\" :display=\"true\" v-if=\"this.pdInfo.commodityType==='R'\"\r\n                    :label=\"$t('productTestingNewCaseDefinition.productRela')\"/>\r\n\r\n\r\n    <cus-table-title v-if=\"tableFlag\" :label=\"$t('productTestingNewCaseDefinition.relaPd')\"/>\r\n\r\n    <el-table v-if=\"tableFlag\" :data=\"configs3\" align=\"center\" border class=\"wraper-table\"\r\n              element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">\r\n      <el-table-column width=\"50\" :label=\"$t('table.select')\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectConfigs3\">\r\n            <el-radio :label=\"scope.row\" @change=\"handleRelaPd\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\"\r\n                       prop=\"pdRelaItemVal\"></el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\"\r\n                       prop=\"pdRelaItemName\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productTestingNewCaseDefinition.relation')\" align=\"center\"\r\n                       prop=\"pdRelaVal\">\r\n        <template v-slot=\"scope\">{{ filterRela(scope.row.pdRelaVal) }}</template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <cus-form-title v-if=\"relaElementShow\" :label=\"$t('productTestingNewCaseDefinition.relaPd')\"/>\r\n\r\n    <el-form\r\n      size=\"medium\"\r\n      label-position=\"right\"\r\n      label-width=\"auto\"\r\n      :inline=\"true\"\r\n      ref=\"relaElForm\"\r\n      style=\"margin-left: 24px;\"\r\n      v-if=\"relaElementShow\"\r\n    >\r\n      <el-row>\r\n        <el-col :span=8 v-for=\"(item,index) in relaElementDatas\">\r\n          <el-form-item :label=\"item.label\" :required=\"item.required\">\r\n            <!--日期-->\r\n            <el-date-picker v-if=\"item.type === 'date'\" clearable :disabled=\"true\" :readonly=\"item.readonly\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            :placeholder=\"item.placeholder\" v-model=\"item.config.defaultValue\"/>\r\n            <!--下拉选-->\r\n            <el-select v-if=\"item.type === 'select'\" :disabled=\"true\" :readonly=\"item.readonly\"\r\n                       clearable\r\n                       :placeholder=\"item.placeholder\" :multiple=\"item.multiple\" v-model=\"item.config.defaultValue\">\r\n              <el-option v-for=\"(sItem,sIndex) in item.slot.options\"\r\n                         :key=\"sIndex\"\r\n                         :label=\"sItem.label\"\r\n                         :value=\"sItem.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <!--文本域-->\r\n            <el-input v-if=\"item.type === 'textarea'\" clearable type=\"textarea\" :disabled=\"true\"\r\n                      :readonly=\"item.readonly\"\r\n                      v-model=\"item.config.defaultValue\" :placeholder=\"item.placeholder\"/>\r\n\r\n            <!--文本框-->\r\n            <el-input v-if=\"item.type === 'text'\" clearable type=\"text\" :disabled=\"true\"\r\n                      :readonly=\"item.readonly\"\r\n                      v-model=\"item.config.defaultValue\" :placeholder=\"item.placeholder\"/>\r\n\r\n            <!--复选框-->\r\n            <el-checkbox-group v-if=\"item.type === 'checkbox'\" :disabled=\"true\"\r\n                               :readonly=\"item.readonly\" v-model=\"item.config.defaultValue\"\r\n                               :placeholder=\"item.placeholder\">\r\n              <el-checkbox v-for=\"(cItem,cIndex) in item.slot.options\"\r\n                           :label=\"cItem.label\" :value=\"cItem.value\"/>\r\n            </el-checkbox-group>\r\n\r\n            <!--单选框-->\r\n            <el-radio-group v-if=\"item.type === 'radio'\" :disabled=\"true\" :readonly=\"item.readonly\"\r\n                            v-model=\"item.config.defaultValue\"\r\n                            :placeholder=\"item.placeholder\">\r\n              <el-radio v-for=\"(rItem,rIndex) in item.slot.options\" :key=\"rIndex\"\r\n                        :label=\"rItem.value\" :value=\"rItem.value\">{{ rItem.label }}\r\n              </el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  queryPdTestFunc,\r\n  initElement,\r\n  queryRelaPd,\r\n  saveCaseDef,\r\n  deleteCase,\r\n  downloadCaseTemplate,\r\n  uploadTestCase,\r\n  downloadCaseDef\r\n} from '@/api/pdtest/productTestingNew'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'productTestingNewCaseDefinition',\r\n  props: {\r\n    caseDef: {\r\n      required: true,\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      testCaseType: { '1': '自动化测试', '2': '自定义测试' },\r\n      testCaseDefinition: { '1': '页面定义', '2': '上传定义' },\r\n      selectConfigs1: '',\r\n      selectConfigs2: '',\r\n      selectConfigs3: '',\r\n      funcSelect: [],\r\n      elementDatas: {},\r\n      currentPdPageData: {},\r\n      elementRules: {},\r\n      configs1: [],\r\n      configs2: [],\r\n      configs3: [],\r\n      testCaseUpdateFlag: false,\r\n      relaPdList: [],\r\n      relaPdSelect: [],\r\n      relaPdEditionSelect: [],\r\n      relaPdPageEleDatas: [],\r\n      relaPdForm: {\r\n        relaPdSed: '',\r\n        relaPdEditionSed: ''\r\n      },\r\n      relaPdRules: {\r\n        relaPdSed: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.relaPdmsg'),\r\n          trigger: 'change'\r\n        }],\r\n        relaPdEditionSed: [{\r\n          required: true,\r\n          message: this.$t('productTestingNewCaseDefinition.relaPdEditionmsg'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      relaPdCode: '',\r\n      relaPdEdition: '',\r\n      relaElementDatas: {},\r\n      relaElementShow: false,\r\n      tableFlag: false,\r\n      quickicon: 'el-icon-arrow-right',\r\n      fileList: [],\r\n      params1: {},\r\n      pdInfo: {\r\n        pdInfoId: '',\r\n        commodityType: ''\r\n      },\r\n      CaseDefinition: {\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: '',\r\n        pdTestCaseDesc: '',\r\n        testPoint: ''\r\n      },\r\n      CaseDetails: {},\r\n      customers: [],\r\n      policyUpdateFlag: false,\r\n      policyHolder: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'policyholder',\r\n        appntSeq: 1,\r\n        appntAge: '',\r\n        appntNo: '',\r\n        appntSex: '',\r\n        ageUnit: 'Y',\r\n        smokeFlag: 'N',\r\n        relationToInsured: '',\r\n        occupationType: ''\r\n      },\r\n      insuredUpdateFlag: false,\r\n      insured: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'insured',\r\n        insuredSeq: 1,\r\n        insuredAppAge: '',\r\n        ageUnit: 'Y',\r\n        insuredNo: '',\r\n        insuredSex: '',\r\n        smokeFlag: 'N',\r\n        relationToMInsured: '',\r\n        occupationType: ''\r\n      },\r\n      beneficiary: {\r\n        pKey: '',\r\n        customerRole: '',\r\n        customerCode: 'beneficiary',\r\n        bnfSeq: 1,\r\n        belToInsuredSeq: '',\r\n        bnfAge: '',\r\n        ageUnit: 'Y',\r\n        bnfNo: '',\r\n        bnfSex: '',\r\n        smokeFlag: 'N',\r\n        relationToInsured: '',\r\n        occupationType: ''\r\n      },\r\n      policyFormFlag: false,\r\n      insuredFormFlag: false,\r\n      beneficiaryFormFlag: false,\r\n      bnfUpdateFlag: false,\r\n      relaUpdateFlag: false,\r\n      dialogTableVisible1: false,\r\n      //检验规则\r\n      rules: {}\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n  },\r\n  created() {\r\n    let pdInfo = this.getJsonData('pdTestInfo')\r\n    if (pdInfo) {\r\n      this.params1.pdInfoId = pdInfo.id\r\n      this.pdInfo.pdInfoId = pdInfo.id\r\n      this.pdInfo.commodityType = pdInfo.commodityType\r\n      this.CaseDefinition.pdInfoId = pdInfo.id\r\n      this.CaseDefinition.pdCode = pdInfo.pdCode\r\n      this.CaseDefinition.pdName = pdInfo.pdName\r\n      this.CaseDefinition.pdEdition = pdInfo.pdEdition\r\n      this.initElement(pdInfo.pdCode, pdInfo.id)\r\n    }\r\n  },\r\n  methods: {\r\n    filterCaseType(code) {\r\n      return _this.testCaseType[code]\r\n    },\r\n    filterCaseDefinition(code) {\r\n      return _this.testCaseDefinition[code]\r\n    },\r\n    filterSexType(code) {\r\n      return _this.getCodeName('sex', code, true)\r\n    },\r\n    filterOccupationType(code) {\r\n      return _this.getCodeName('occupationtype', code, true)\r\n    }, filterRela(code) {\r\n      return _this.getCodeName('insuranceRelationship', code)\r\n    },\r\n    filterRelationToInsured(code) {\r\n      return _this.getCodeName('relagenttoins', code)\r\n    },\r\n    filterCustomerNo(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntNo\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredNo\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfNo\r\n      }\r\n    },\r\n    filterSeq(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSeq\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSeq\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSeq\r\n      }\r\n    },\r\n    filterSex(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntSex\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredSex\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfSex\r\n      }\r\n    },\r\n    filterAge(row) {\r\n      let unit = ''\r\n      if (row.ageUnit === 'Y') {\r\n        unit = '(岁)'\r\n      }\r\n      if (row.ageUnit === 'D') {\r\n        unit = '(天)'\r\n      }\r\n      if (row.customerCode === 'policyholder') {\r\n        return row.appntAge + unit\r\n      } else if (row.customerCode === 'insured') {\r\n        return row.insuredAppAge + unit\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        return row.bnfAge + unit\r\n      }\r\n    },\r\n    handleUpdateCustomer(row) {\r\n      if (row.customerCode === 'policyholder') {\r\n        this.policyHolder = Object.assign({}, row)\r\n        this.policyFormFlag = true\r\n        this.beneficiaryFormFlag = false\r\n        this.insuredFormFlag = false\r\n      } else if (row.customerCode === 'insured') {\r\n        this.insured = Object.assign({}, row)\r\n        this.insuredFormFlag = true\r\n        this.policyFormFlag = false\r\n        this.beneficiaryFormFlag = false\r\n      } else if (row.customerCode === 'beneficiary') {\r\n        this.beneficiary = Object.assign({}, row)\r\n        this.beneficiaryFormFlag = true\r\n        this.insuredFormFlag = false\r\n        this.policyFormFlag = false\r\n      }\r\n    },\r\n    downloadCaseDef(row) {\r\n      let fileName = row.pdTestCaseCode + '上传定义.xlsm'\r\n      downloadCaseDef(this.buildRequestData({ 'testCasePath': row.pdTestCasePath })).then(res => {\r\n        this.downloadResponseFile(res, fileName)\r\n      })\r\n    },\r\n    deleteCaseDef(id) {\r\n      deleteCase(id).then(res => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$refs.page1.reload()\r\n        this.resetCaseDef()\r\n      })\r\n    },\r\n    resetCaseDef() {\r\n      this.CaseDefinition.id = ''\r\n      this.CaseDefinition.pdTestCaseDesc = ''\r\n      this.CaseDefinition.testPoint = ''\r\n      this.testCaseUpdateFlag = false\r\n      this.customers = []\r\n      this.currentPdPageData = {}\r\n      this.relaPdPageEleDatas = []\r\n      this.configs3 = []\r\n      this.tableFlag = false\r\n      this.relaElementShow = false\r\n      this.initElement(this.CaseDefinition.pdCode, this.CaseDefinition.pdInfoId)\r\n    },\r\n    handleUpdateCase(row) {\r\n      this.testCaseUpdateFlag = true\r\n      this.CaseDefinition.id = row.id\r\n      this.CaseDefinition.pdInfoId = row.pdInfoId\r\n      this.CaseDefinition.pdCode = row.pdCode\r\n      this.CaseDefinition.pdEdition = row.pdEdition\r\n      this.CaseDefinition.pdName = row.pdName\r\n      this.CaseDefinition.pdTestCaseDesc = row.pdTestCaseDesc\r\n      this.CaseDefinition.pdTestCaseCode = row.pdTestCaseCode\r\n      this.CaseDefinition.testPoint = row.pdFuncDesc.map(data => data.pd_test_func_desc)\r\n      //处理data\r\n      let pdTestCaseData = JSON.parse(row.pdTestCaseData)\r\n\r\n      let testData = pdTestCaseData.testData\r\n\r\n      this.customers = testData.customers\r\n      this.currentPdPageData = testData.currentPdPageData\r\n      this.relaPdPageEleDatas = testData.relaPdPageData\r\n\r\n      if (this.pdInfo.commodityType === 'R') {\r\n\r\n        //回显险种定义页面的栏位\r\n        //不能直接遍历赋值 需使用中间转换\r\n        let temp = JSON.parse(JSON.stringify(this.elementDatas))\r\n        temp.forEach(tem => {\r\n          tem.config.defaultValue = this.currentPdPageData[tem.vModel]\r\n        })\r\n        this.elementDatas = temp\r\n        this.queryRelaPdData()\r\n      }\r\n\r\n    },\r\n    initElement(pdCode, pdInfoId) {\r\n      let data = {\r\n        'pdCode': pdCode,\r\n        'pdInfoId': pdInfoId\r\n      }\r\n      initElement(this.buildRequestData(data)).then(response => {\r\n        this.elementDatas = response.data\r\n        this.handleUpdateCase(this.caseDef)\r\n      })\r\n    },\r\n    queryRelaPdData() {\r\n      this.tableFlag = !this.tableFlag\r\n      if (this.tableFlag) {\r\n        let data = { 'pdInfoId': this.pdInfo.pdInfoId }\r\n        queryRelaPd(this.buildRequestData(data)).then(res => {\r\n          let list = res.data\r\n          this.relaPdList = res.data\r\n          this.relaPdSelect = []\r\n          for (let i = 0; i < list.length; i++) {\r\n            let data = list[i]\r\n            this.relaPdSelect.push({\r\n              'label': data.pdRelaItemVal + ':' + data.pdRelaItemName,\r\n              'value': data.pdRelaItemVal\r\n            })\r\n          }\r\n\r\n          //回填数据\r\n          if (this.relaPdPageEleDatas && this.relaPdPageEleDatas.length > 0) {\r\n            this.configs3 = []\r\n            this.relaPdPageEleDatas.forEach(data => {\r\n              let pdCode = data.relaPdCode\r\n              let pdEdition = data.relaPdEdition\r\n              this.configs3.push(this.relaPdList.filter(data2 => data2.pdRelaItemVal === pdCode && data2.pdRelaItemEdition === pdEdition)[0])\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    handleRelaPd(row) {\r\n      this.relaPdEdition = row.pdRelaItemEdition\r\n      this.relaPdCode = row.pdRelaItemVal\r\n      let data = {\r\n        'pdCode': row.pdRelaItemVal,\r\n        'pdInfoId': row.pdRelaItemId\r\n      }\r\n      this.relaElementShow = false\r\n      this.relaUpdateFlag = false\r\n      initElement(this.buildRequestData(data)).then(response => {\r\n        this.relaElementDatas = response.data\r\n        let temp = JSON.parse(JSON.stringify(this.relaElementDatas)) //深克隆\r\n        if (this.relaElementDatas.length > 0) {\r\n          this.relaElementShow = true\r\n          //回显当前搭配产品下险种页面的数据\r\n          this.relaPdPageEleDatas.filter(reladata => reladata.relaPdCode === data.pdCode && reladata.relaPdEdition === this.relaPdEdition).forEach(temp2 => {\r\n            let param = temp2.param\r\n            temp.forEach(rela => {\r\n              rela.config.defaultValue = param[rela.vModel]\r\n              this.relaUpdateFlag = true\r\n            })\r\n          })\r\n          this.relaElementDatas = temp\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.formtitle {\r\n  padding-top: 10px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.divclass {\r\n  border: 1px solid #0000002e;\r\n  width: 735px;\r\n  height: auto;\r\n}\r\n\r\n.cst {\r\n  width: 80px;\r\n  border: 0;\r\n}\r\n</style>\r\n\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-attr-def\\base-attr-def\\index.vue?vue&type=style&index=0&id=41fe9d06&lang=scss&scoped=true&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-attr-def\\base-attr-def\\index.vue","mtime":1609847106839},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQoucHJvZHVjdFJhdGlvew0KICAuZWwtZm9ybS1pdGVtIHsNCiAgICBtYXJnaW4tYm90dG9tOiAwcHg7DQogIH0NCn0NCg0KDQouZWwtcm93IHsNCiAgJjpsYXN0LWNoaWxkIHsNCiAgICBtYXJnaW4tYm90dG9tOiAwOw0KICB9DQp9DQoNCi5lbC1jb2wgew0KICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KDQouZ3JpZC1jb250ZW50IHsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBtaW4taGVpZ2h0OiAzNnB4Ow0KfQ0KDQoudGVtcGxhdGUgew0KICBjb2xvcjogI0ZGRkZGRjsNCn0NCg0KLnNob3dEaXYgew0KICB3aWR0aDogOTAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIG1hcmdpbi10b3A6IC00MHB4Ow0KICBtYXJnaW4tbGVmdDogLTQwcHg7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgYmFja2dyb3VuZDogI2ZmZmZmZjAwOw0KICB6LWluZGV4OiA5OTk7DQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAk8DA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product-definition/pd-framework-def/pd-attr-def/base-attr-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div :class=\"{ 'showDiv': showPageFlag == 1 }\"></div>\r\n\r\n    <cus-page-title-back :label=\"$t('route.productAttributeDefinition_list')\" @backTo=\"goBack\"/>\r\n    <!--产品基本属性-->\r\n    <div style=\"margin-left: 10px\">\r\n      <el-button :icon=\"quickicon\" :label=\"$t('ProductAttributeDefinition.quickDefinition')\" size=\"small\"\r\n                 type=\"text\"\r\n                 dialog-disable=\"disable\"\r\n                 @click=\"isShowQuick\">{{$t('ProductAttributeDefinition.quickDefinition')}}\r\n      </el-button>\r\n      <el-divider direction=\"vertical\"></el-divider>\r\n      <el-button :icon=\"excelicon\" :label=\"$t('ProductAttributeDefinition.Excel')\" size=\"small\"\r\n                 type=\"text\"\r\n                 dialog-disable=\"disable\"\r\n                 @click=\"isShowQuick('excel')\">{{$t('ProductAttributeDefinition.Excel')}}\r\n      </el-button>\r\n    </div>\r\n    <div style=\"margin-top: 20px;margin-left: 34px;\">\r\n      <el-collapse-transition>\r\n        <el-form v-if=\"quickshow\" ref=\"form_quick\" label-width=\"auto\">\r\n          <cus-row :gutter=\"10\">\r\n            <cus-col>\r\n              <el-form-item :label=\"$t('pay_def.typeRegion')\">\r\n                <cus-select v-model=\"form_quick.typeRegion\" :codetype=\"'ProductType'\"\r\n                            @change=\"typeRegionSelect\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col>\r\n              <el-form-item :label=\"$t('pay_def.finelinesRegion')\" required>\r\n                <cus-select v-model=\"form_quick.finelinesRegion\" :codetype=\"'ProductCategory'\"\r\n                            :filter=\"finelinesRegionFilter\"\r\n                            @change=\"getReleasedReferenceProductList\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col/>\r\n          </cus-row>\r\n          <cus-row type=\"normal\">\r\n            <cus-col>\r\n              <el-form-item :label=\"$t('ProductAttributeDefinition.referenceProducts')\">\r\n                <el-select v-model=\"referenceProductId\" :placeholder=\"$t('ProductAttributeDefinition.placeholder')\"\r\n                           clearable filterable>\r\n                  <el-option v-for=\"product in releasedProductList\" :key=\"product.id\"\r\n                             :label=\"product.pdCode + ':' + product.pdName\"\r\n                             :value=\"product.id\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <el-button v-auth=\"'product:copy'\" icon=\"el-icon-document-copy\" size=\"small\" type=\"primary\"\r\n                       @click=\"copyProduct\">\r\n              {{ $t('ProductAttributeDefinition.productReplication') }}\r\n            </el-button>\r\n          </cus-row>\r\n        </el-form>\r\n      </el-collapse-transition>\r\n      <el-collapse-transition>\r\n        <div v-if=\"excelshow\">\r\n          <my-template></my-template>\r\n        </div>\r\n      </el-collapse-transition>\r\n    </div>\r\n    <cus-form-title :first=\"true\" :label=\"$t('ProductAttributeDefinition.basicProduct')\"></cus-form-title>\r\n    <el-form ref=\"sizeForm1\" :model=\"sizeForm1\" :rules=\"rules\" label-width=\"auto\" style=\"margin-left: 19px\">\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('i18nView.pdCode')\">\r\n            <el-tag type=\"info\">{{ sizeForm1.pdCode }}</el-tag>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('customComponents.pdEdition')\">\r\n            <el-tag type=\"info\">{{ sizeForm1.pdEdition }}</el-tag>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.groupFlag')\">\r\n            <cus-radio v-model=\"sizeForm2.groupFlag\" :codetype=\"'GroupFlag'\" :changeMethod=\"findDefaultPa\"></cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col :span=\"14\" style=\"width:63.9%;\">\r\n          <el-form-item :label=\"$t('i18nView.pdName')\" prop=\"pdName\">\r\n            <el-input v-model=\"sizeForm1.pdName\" clearable maxlength=\"60\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.pdShortName')\" prop=\"pdShortname\">\r\n            <el-input v-model=\"sizeForm1.pdShortname\" clearable maxlength=\"60\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col :span=\"14\" style=\"width:63.9%;\">\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.pdEnName')\" prop=\"pdEnName\">\r\n            <el-input v-model=\"sizeForm1.pdEnName\" clearable maxlength=\"120\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.pdShortEnName')\" prop=\"pdShortEnName\">\r\n            <el-input v-model=\"sizeForm1.pdShortEnName\" clearable maxlength=\"120\" show-word-limit></el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n    </el-form>\r\n    <el-form ref=\"sizeForm2\" :model=\"sizeForm2\" :rules=\"rules\" label-width=\"auto\">\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.typeRegion')\" prop=\"typeRegion\">\r\n            <cus-select v-model=\"sizeForm2.typeRegion\" :codetype=\"'ProductType'\"\r\n                        @change=\"typeRegionSelect\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('rule.productDetailType')\" prop=\"finelinesRegion\">\r\n            <cus-select v-model=\"sizeForm2.finelinesRegion\" :codetype=\"'ProductCategory'\"\r\n                        :filter=\"finelinesRegionFilter\" @change=\"typeFinelinesRegionSelect\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item v-if=\"medicalTreatmentTypeShow\" :label=\"$t('ProductAttributeDefinition.medicalTreatmentType')\"\r\n                        prop=\"medicalTreatmentType\">\r\n            <cus-select v-model=\"sizeForm2.medicalTreatmentType\" :codetype=\"'MedicalInsuranceType'\"\r\n                        :filter=\"medicalTreatmentTypeFilter\"\r\n                        :placeholder=\"$t('ProductAttributeDefinition.placeholder')\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.designType')\" prop=\"designType\">\r\n            <cus-select v-model=\"sizeForm2.designType\" :codetype=\"'ProductDesignType'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.pdSalechnl2')\" prop=\"pdSalechnl2\">\r\n            <cus-select v-model=\"sizeForm2.pdSalechnl2\" :codetype=\"'ProductOwnershipChannel'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.insuranceNature')\" prop=\"insuranceNature\">\r\n            <cus-select v-model=\"sizeForm2.insuranceNature\" :codetype=\"'InsuranceNature'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.productCurrency')\" prop=\"productCurrency\">\r\n            <cus-multi-select v-model=\"sizeForm2.productCurrency\" :codetype=\"'productCurrency'\">\r\n            </cus-multi-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.principalRiskFlag')\"\r\n                        prop=\"principalRiskFlag\">\r\n            <cus-radio v-model=\"sizeForm2.principalRiskFlag\" :codetype=\"'principalRiskFlag'\"></cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('i18nView.exemptionMark')\" prop=\"exemptionMark\">\r\n            <cus-multi-select v-model=\"sizeForm2.exemptionMark\" :codetype=\"'exemptType'\">\r\n            </cus-multi-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('i18nView.payTerm')\">\r\n            <el-input v-model=\"sizeForm1.pdPayPeriod\" :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\">\r\n              <cus-select slot=\"append\" v-model=\"sizeForm1.pdPayPeriodCompany\" :codetype=\"'pdsbnftdy'\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.pdGrcPeriod')\">\r\n            <el-input v-model=\"sizeForm1.pdGracePeriod\" :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\">\r\n              <template slot=\"suffix\">{{ $t('i18nView.day') }}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.renewalMark')\" prop=\"renewalMark\">\r\n            <el-switch v-model=\"sizeForm2.renewalMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n\r\n\r\n      </cus-row>\r\n\r\n      <cus-row type=\"normal\">\r\n        <cus-col :span=\"24\">\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.paymentFrequency')\" prop=\"paymentFrequency\">\r\n            <cus-checkbox v-model=\"sizeForm2.paymentFrequency\" :codetype=\"'paymentFrequency'\"></cus-checkbox>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.longAndShortInsurance')\"\r\n                        prop=\"longAndShortInsurance\">\r\n            <cus-radio v-model=\"sizeForm2.longAndShortInsurance\" :changeMethod=\"changeradio\" :codetype=\"'LongAndShortInsuranceTypes'\"\r\n                       :isRequired=\"true\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.insurancePeriod')\"\r\n                        prop=\"insurancePeriod\">\r\n            <cus-radio v-model=\"sizeForm2.insurancePeriod\" :codetype=\"'InsurancePeriodType'\"\r\n                       :disabled=\"sizeForm2.longAndShortInsurance==='0'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('i18nView.guaranteeDate')\">\r\n            <el-input v-model=\"sizeForm1.pdGuaranteePeriod\" :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\">\r\n              <cus-select slot=\"append\" v-model=\"sizeForm1.pdPayPeriodCompany1\" :codetype=\"'pdsbnftdy'\"\r\n                          class=\"cst\"></cus-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('i18nView.Obperiod')\" prop=\"pdObservationDay\">\r\n            <el-input v-model=\"sizeForm1.pdObservationDay\" :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\">\r\n              <template slot=\"suffix\">{{$t('i18nView.day')}}</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n\r\n        </cus-col>\r\n        <cus-col>\r\n\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.policyType')\" prop=\"policyType\">\r\n            <cus-radio v-model=\"sizeForm2.policyType\" :codetype=\"'PolicyType'\"></cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.employeeListType')\"\r\n                        prop=\"employeeListType\">\r\n            <el-switch v-model=\"sizeForm2.employeeListType\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.investmentMark')\" prop=\"investmentMark\">\r\n            <el-switch v-model=\"sizeForm2.investmentMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.productTraceabilityMark')\"\r\n                        prop=\"productTraceabilityMark\">\r\n            <el-switch v-model=\"sizeForm2.productTraceabilityMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.notificationMark')\" prop=\"notificationMark\">\r\n            <el-switch v-model=\"sizeForm2.notificationMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.underwritingMark')\" prop=\"underwritingMark\">\r\n            <el-switch v-model=\"sizeForm2.underwritingMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.selfCushionType')\" prop=\"selfCushionType\">\r\n            <cus-radio v-model=\"sizeForm2.selfCushionType\" :codetype=\"'SelfCushionType'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.extensionType')\" prop=\"extensionType\">\r\n            <cus-radio v-model=\"sizeForm2.extensionType\" :codetype=\"'ExtensionType'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col></cus-col>\r\n      </cus-row>\r\n\r\n\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.bonusType')\" prop=\"bonusType\">\r\n            <cus-radio v-model=\"sizeForm2.bonusType\" :changeMethod=\"typeRegionSelectBonus\"\r\n                       :codetype=\"'BonusType'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.dividendCollectionType')\" prop=\"dividendCollectionType\">\r\n            <cus-multi-select v-model=\"sizeForm2.dividendCollectionType\" :codetype=\"'DividendCollectionType'\"\r\n                              :filter=\"finelinesRegionFilterBonus\">\r\n            </cus-multi-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.payUpAndNoDividendMark')\"\r\n                        prop=\"payUpAndNoDividendMark\">\r\n            <el-switch v-model=\"sizeForm2.payUpAndNoDividendMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.reinsuranceMark')\" prop=\"reinsuranceMark\">\r\n            <cus-radio v-model=\"sizeForm2.reinsuranceMark\" :codetype=\"'reinsuranceType'\"></cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col v-if=\"sizeForm2.reinsuranceMark==='1'\" >\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.reinsuranceRatio')\" prop=\"reinsuranceRatio\">\r\n            <el-input v-model=\"sizeForm2.reinsuranceRatio\" type=\"number\">\r\n              <template slot=\"suffix\">%</template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col v-if=\"sizeForm2.reinsuranceMark==='2'\" >\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.reinsuranceRatio')\" prop=\"reinsuranceQuota\">\r\n            <el-input v-model=\"sizeForm2.reinsuranceQuota\" type=\"number\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.diseaseClassification')\"\r\n                        prop=\"diseaseClassification\">\r\n            <cus-radio v-model=\"sizeForm2.diseaseClassification\" :codetype=\"'diseaseClassification'\">\r\n            </cus-radio>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row v-if=\"sizeForm2.groupFlag==='G'\">\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.agreementInsurancemMark')\"\r\n                        prop=\"agreementInsurancemMark\">\r\n            <cus-select v-model=\"sizeForm2.agreementInsurancemMark\" :codetype=\"'AgreementInsuranceType'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.agreementInsurancemPaymentVariableMark')\"\r\n                        prop=\"agreementInsurancemPaymentVariableMark\">\r\n            <cus-select v-model=\"sizeForm2.agreementInsurancemPaymentVariableMark\" :codetype=\"'AgreementPaymentType'\">\r\n            </cus-select>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.agreementInsuranceVariablePayment')\"\r\n                        prop=\"agreementInsuranceVariablePayment\">\r\n            <el-switch v-model=\"sizeForm2.agreementInsuranceVariablePayment\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <cus-row v-if=\"sizeForm2.groupFlag==='G'\">\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.constructionInsuranceMark')\"\r\n                        prop=\"constructionInsuranceMark\">\r\n            <el-switch v-model=\"sizeForm2.constructionInsuranceMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.healthConsignmentProductMark')\"\r\n                        prop=\"healthConsignmentProductMark\">\r\n            <el-switch v-model=\"sizeForm2.healthConsignmentProductMark\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n        <cus-col>\r\n          <el-form-item :label=\"$t('ProductAttributeDefinition.noListType')\" prop=\"noListType\">\r\n            <el-switch v-model=\"sizeForm2.noListType\" active-value=\"Y\" inactive-value=\"N\">\r\n            </el-switch>\r\n          </el-form-item>\r\n        </cus-col>\r\n      </cus-row>\r\n      <div>\r\n        <cus-form-title :display=\"true\" :label=\"$t('ProductAttributeDefinition.preservationItem')\" :showArrow=\"true\"\r\n                        @show=\"poFlag=!poFlag\"></cus-form-title>\r\n      <div v-if=\"poFlag\">\r\n        <el-button icon=\"el-icon-circle-plus\" size=\"small\" dialog-disable=\"disable\" type=\"primary\" @click=\"showPreservation=true\">\r\n          {{ $t('ProductAttributeDefinition.connPreservationItem') }}\r\n        </el-button>\r\n        <cus-table-title :label=\"$t('ProductAttributeDefinition.proPreservationItem')\"></cus-table-title>\r\n        <el-table ref=\"preservationTable\" :data=\"preservationTable\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n          <el-table-column :label=\"$t('table.id')\" type=\"index\" align=\"center\" width=\"55px\"></el-table-column>\r\n          <el-table-column :label=\"$t('ProductAttributeDefinition.pdPaCode')\" prop=\"paCode\" align=\"center\"></el-table-column>\r\n          <el-table-column :label=\"$t('ProductAttributeDefinition.pdPaName')\" align=\"center\" prop=\"paName\"></el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"140px\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-popover @confirm=\"deletePreservation(scope.row)\" icon=\"el-icon-delete\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\" v-auth=\"'product-attr:delete'\" :content=\"$t('confirmMessage.delete')\">\r\n            </cus-popover>\r\n          </template>\r\n        </el-table-column>\r\n        </el-table>\r\n        <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page\" url=\"/product-base-attr-def/base/pdtempPdPaInfoList\" v-model=\"preservationTable\"/>\r\n        <el-dialog v-dialog-drag :close-on-click-modal=\"false\"  :visible.sync=\"showPreservation\" v-if=\"showPreservation\" center\r\n               top=\"8vh\" width=\"1200px\">\r\n               <preservation @backToMenu=\"backToMenu\" :selPO=\"selPO\" :defaultSelPo=\"defaultSelPo\" :poOptions=\"poOptions\"></preservation>\r\n        </el-dialog>\r\n      </div>\r\n      </div>\r\n    </el-form>\r\n\r\n    <br/>\r\n    <el-form ref=\"form\" label-width=\"auto\">\r\n      <el-form-item align=\"right\">\r\n        <el-button v-if=\"!showUpdateButton\" v-auth=\"'product-attr:add'\" icon=\"el-icon-success\"\r\n                   size=\"small\" type=\"primary\" dialog-disable=\"disable\" @click=\"handleCreate('sizeForm1','sizeForm2','save')\">\r\n          {{ $t('ProductAttributeDefinition.save') }}\r\n        </el-button>\r\n        <el-button v-if=\"showUpdateButton\" dialog-disable=\"disable\"  v-auth=\"'product-attr:add'\" icon=\"el-icon-success\"\r\n                   size=\"small\" type=\"primary\" @click=\"handleCreate('sizeForm1','sizeForm2','update')\">\r\n          {{ $t('ProductAttributeDefinition.update') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"small\" dialog-disable=\"disable\" type=\"primary\" @click=\"clearAll\">\r\n          {{ $t('ProductAttributeDefinition.refresh') }}\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  addProductAttributeDefinition,\r\n  copyProduct,\r\n  findProductInfoVoByPdInfoId,\r\n  getAllPOName,\r\n  getAllReleasedProduct,\r\n  pdgenlAttrsInfoList,\r\n  pdtempPdAtrsInfoList,\r\n  pdtempPdClsLabList,\r\n  pdtempPdFinIndList,\r\n  pdtempPdInfoList,\r\n  pdtempPdPaInfoList,\r\n  deletePreservation,\r\n  getPaDesType\r\n} from '@/api/basicinfo/ProductAttributeDefinition'\r\n\r\nimport {mapGetters} from 'vuex'\r\nimport myTemplate from \"@/views/product-definition/pd-framework-def/pd-attr-def/base-attr-def/template/index\"\r\nimport preservation from \"@/views/product-definition/pd-framework-def/pd-attr-def/base-attr-def/preservation/index\"\r\n\r\nexport default {\r\n  name: 'ProductAttributeDefinition',\r\n  inject: ['reload'],\r\n  data() {\r\n    return {\r\n      showPageFlag: 0,\r\n      quickicon: 'el-icon-arrow-down',\r\n      excelicon: 'el-icon-arrow-down',\r\n      quickshow: false,\r\n      excelshow: false,\r\n      pdInfo: {},\r\n      //产品复制下拉选\r\n      releasedProductList: [],\r\n      referenceProductId: undefined,\r\n      selfCushionType1: 'N',//自动垫缴\r\n      poOptions: [],//保全项目选项\r\n      poOptionsCopy: [],//保全项目选项\r\n      poFlag: true,\r\n      rowCount: false,\r\n      selPO: [],//选择的保全项目\r\n      defaultSelPo: [],//产品设计类型带出来的保全项目\r\n\r\n      showUpdateButton: false,\r\n      form_quick: {\r\n        typeRegion: '',\r\n        finelinesRegion: '',\r\n      },\r\n      sizeForm1: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: '',\r\n        pdStartPeriodUnit: 'Y',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: '',\r\n        pdEndPeriodUnit: 'Y',\r\n        pdGracePeriod: '',\r\n        pdObservationDay: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined,\r\n        pdGuaranteePeriod: '',\r\n        pdPayPeriod: '',\r\n        pdPayPeriodCompany: 'Y',\r\n        pdPayPeriodCompany1: 'Y'\r\n\r\n      },\r\n      sizeForm2: {\r\n        diseaseClassification: '',//疾病分类\r\n        productCurrency: [],//产品币种\r\n        employeeListType: 'N',//员工单标记\r\n        pdStartDateMode: '',\r\n        pdEndDateMode: '',\r\n        id1: '',//类型主键id\r\n        id2: '',//标记主键id\r\n        agreementInsuranceVariablePayment: 'N',//协议险给付金可变\r\n        exemptionMark: [],//豁免属性\r\n        typeRegion: '',//产品类型\r\n        constructionInsuranceMark: 'N',//建工险标记\r\n        finelinesRegion: '',//产品细类\r\n        designType: '',//产品设计类型\r\n        pdSalechnl2: '',//产品归属渠道\r\n        reinsuranceRatio: '',//分保比例\r\n        reinsuranceQuota: '',//分保限额\r\n        dividendCalculationMethod: '',//红利计算方式\r\n        medicalTreatmentType: '',//医疗险类型\r\n        insuranceNature: '',//产品销售性质\r\n        longAndShortInsurance: '',//保险期间类型\r\n        insurancePeriod: '',//长期险期限类型\r\n        reminderMark: 'Y',//催缴标记\r\n        paymentmark: 'N',//催付标记\r\n        policyType: '',//保单\r\n        principalRiskFlag: '',//主险//此时是附加险\r\n        additionalInsuranceEffect: 'N',//附加险独立生效\r\n        notificationMark: 'N',//告知标记\r\n        productTraceabilityMark: 'N',//产品回溯标记\r\n        underwritingMark: 'N',//核保标记\r\n        renewalChargeMark: 'N',//续期收费标记\r\n        renewalMark: 'N',//续保标记\r\n        bonusType: '',//红利分配方式\r\n        paymentFrequency: [],//缴费频率\r\n        bonusMark: 'N',//红利标记//\r\n        dividendCollectionType: [],//红利领取方式\r\n        selfCushionFlag: '',//自动垫缴标记/\r\n        selfCushionType: '',//自动垫缴类型\r\n        noListType: 'N',//无名单类型\r\n        extensionType: '',//展期类型\r\n        extensionFlag: 'N',//自动展期标记\r\n        agreementInsurancemMark: '',//协议险类型\r\n        agreementInsurancemPaymentVariableMark: '',//协议缴费类型\r\n        preservationMark: 'N',//保全标记\r\n        loanMark: 'N',//借款标记\r\n        mortgageMark: 'N',//抵押标记\r\n        automaticSurrenderMark: 'N',//自动退保标记\r\n        reductionAndSettlementMark: 'N',//减额交清标记\r\n        payUpAndNoDividendMark: 'N',//清缴不分红标记\r\n        reinsuranceMark: '',//分保类型\r\n        coInsuranceMark: 'N',//共保标记\r\n        investmentMark: 'N',//投资标记\r\n        healthConsignmentProductMark: 'N',//健康委托产品标记\r\n        groupFlag: 'P'\r\n      },\r\n      sizeForm3: {\r\n        options: [],\r\n        selectValue: '',\r\n        //表格数据\r\n        tableData2: [],\r\n      },\r\n      preservationTable: [],\r\n      options5: [],\r\n      bonusTypeDisabledSTR: false,\r\n      finelinesRegionFilter: '',\r\n      medicalTreatmentTypeFilter: '',\r\n      medicalTreatmentTypeShow: false,\r\n      finelinesRegionFilterBonus: '',\r\n      pdtempPdClsLabForm1: {\r\n        id: '',\r\n        pdVerId: '',\r\n        pdType: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdClsType: '',\r\n        pdCls1: '',\r\n        pdCls2: '',\r\n        pdCls3: '',\r\n        pdCls4: '',\r\n        pdCls5: '',\r\n        pdCls6: '',\r\n        pdCls7: '',\r\n        pdCls8: '',\r\n        pdCls9: '',\r\n        pdCls10: '',\r\n        pdCls11: '',\r\n        pdCls12: '',\r\n        pdCls13: '',\r\n        pdCls14: '',\r\n        pdCls15: '',\r\n        pdCls16: '',\r\n        pdCls17: '',\r\n        pdCls18: '',\r\n        pdCls19: '',\r\n        pdCls20: '',\r\n      },\r\n      pdtempPdClsLabForm2: {\r\n        id: '',\r\n        pdVerId: '',\r\n        pdType: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdClsType: '',\r\n        pdCls1: '',\r\n        pdCls2: '',\r\n        pdCls3: '',\r\n        pdCls4: '',\r\n        pdCls5: '',\r\n        pdCls6: '',\r\n        pdCls7: '',\r\n        pdCls8: '',\r\n        pdCls9: '',\r\n        pdCls10: '',\r\n        pdCls11: '',\r\n        pdCls12: '',\r\n        pdCls13: '',\r\n        pdCls14: '',\r\n        pdCls15: '',\r\n        pdCls16: '',\r\n        pdCls17: '',\r\n        pdCls18: '',\r\n        pdCls19: '',\r\n        pdCls20: '',\r\n        pdCls21: '',\r\n        pdCls22: '',\r\n        pdCls23: '',\r\n        pdCls24: '',\r\n        pdCls25: '',\r\n        pdCls26: '',\r\n      },\r\n      PdtempPdFinInd1: {\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdFinIndiAttr: '',\r\n        pdFinIndiType: '',\r\n        pdFinIndiVal: '',\r\n        pdLevyFlag: '',\r\n        pdMngCom: '',\r\n        pdVailStartDate: '',\r\n        pdVailEndDate: '',\r\n        pdFinIndFeeType: ' ',\r\n        pdSuitFlag: '',\r\n        pdCalcId: '',\r\n      },\r\n      PdtempPdFinInd2: {\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdFinIndiAttr: '',\r\n        pdFinIndiType: '',\r\n        pdFinIndiVal: '',\r\n        pdLevyFlag: '',\r\n        pdMngCom: '',\r\n        pdVailStartDate: '',\r\n        pdVailEndDate: '',\r\n        pdFinIndFeeType: ' ',\r\n        pdSuitFlag: '',\r\n        pdCalcId: '',\r\n      },\r\n      PdtempPdAtrsInfo1: {\r\n        pdVerId: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdAscLevel: '',\r\n        pdAscLevelCode: '',\r\n        pdAtrsType: '',\r\n        pdAtrsCode: '',\r\n        pdAtrsName: '',\r\n        pdAtrsVal: '',\r\n        pdAtrsDesc: '',\r\n      },\r\n      PdtempPdAtrsInfo2: {\r\n        pdVerId: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdAscLevel: '',\r\n        pdAscLevelCode: '',\r\n        pdAtrsType: '',\r\n        pdAtrsCode: '',\r\n        pdAtrsName: '',\r\n        pdAtrsVal: '',\r\n        pdAtrsDesc: '',\r\n      },\r\n      PdtempPdAtrsInfo3: {\r\n        pdVerId: '',\r\n        pdType: '',\r\n        pdCode: '',\r\n        pdAscLevel: '',\r\n        pdAscLevelCode: '',\r\n        pdAtrsType: '',\r\n        pdAtrsCode: '',\r\n        pdAtrsName: '',\r\n        pdAtrsVal: '',\r\n        pdAtrsDesc: '',\r\n      },\r\n      showPreservation: false,\r\n      params:{\r\n        pd_info_id:null,\r\n      },\r\n      rules: {\r\n        principalRiskFlag: [{\r\n          required: true,\r\n          message: this.$t('ProductAttributeDefinition.message13'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdVer: [{required: true, message: this.$t('ProductAttributeDefinition.message1'), trigger: 'blur'}],\r\n        pdName: [{required: true, message: this.$t('ProductAttributeDefinition.message2'), trigger: 'blur'}],\r\n        pdShortname: [{required: true, message: this.$t('ProductAttributeDefinition.message3'), trigger: 'blur'}],\r\n        pdSalechnl2: [{required: true, message: this.$t('ProductAttributeDefinition.message4'), trigger: 'blur'}],\r\n        // pdStartDateMode: [{required: true, message: this.$t('ProductAttributeDefinition.pdStartDateMode'), trigger: 'blur'}],\r\n        // pdEndDateMode: [{required: true, message: this.$t('ProductAttributeDefinition.pdEndDateMode'), trigger: 'blur'}],\r\n        selfCushionType: [{required: true, message: this.$t('ProductAttributeDefinition.selfCushionType'), trigger: 'blur'}],\r\n        //extensionType: [{required: true, message: this.$t('ProductAttributeDefinition.extensionType'), trigger: 'blur'}],\r\n        bonusType: [],\r\n        dividendCollectionType: [],\r\n        designType: [{required: true, message: this.$t('ProductAttributeDefinition.message5'), trigger: 'blur'}],\r\n        paymentFrequency: [{required: true, message: this.$t('ProductAttributeDefinition.message6'), trigger: 'blur'}],\r\n        insuranceNature: [{required: true, message: this.$t('ProductAttributeDefinition.message7'), trigger: 'blur'}],\r\n        finelinesRegion: [{required: true, message: this.$t('ProductAttributeDefinition.message8'), trigger: 'blur'}],\r\n        typeRegion: [{required: true, message: this.$t('ProductAttributeDefinition.message9'), trigger: 'blur'}],\r\n        longAndShortInsurance: [{\r\n          required: true,\r\n          message: this.$t('ProductAttributeDefinition.message10'),\r\n          trigger: 'blur'\r\n        }],\r\n        insurancePeriod: [{\r\n          required: true,\r\n          message: this.$t('ProductAttributeDefinition.message11'),\r\n          trigger: 'change'\r\n        }],\r\n        productCurrency: [{\r\n          required: true,\r\n          message: this.$t('ProductAttributeDefinition.message12'),\r\n          trigger: 'blur'\r\n        }],\r\n        rateType: [{required: true, message: \"请选择利率类型\", trigger: \"blur\"}],\r\n        currency: [{required: true, message: \"请选择币种\", trigger: \"blur\"}],\r\n        yearRateInput: [\r\n          {pattern: /(^(\\d|[1-9]\\d)(\\.\\d{1,2})?$)|(^100$)/, message: \"必须为数字，且在0-100之间\", trigger: \"blur\"}\r\n        ],\r\n        dayRateInput: [\r\n          {pattern: /(^(\\d|[1-9]\\d)(\\.\\d{1,2})?$)|(^100$)/, message: \"必须为数字，且在0-100之间\", trigger: \"blur\"}\r\n        ],\r\n        CostType: [{required: true, message: \"请输入费用类型\", trigger: \"blur\"}],\r\n        LevyTaxes: [{required: true, message: \"请选择是否征税\", trigger: \"blur\"}],\r\n        taxRateInput: [{pattern: /(^(\\d|[1-9]\\d)(\\.\\d{1,2})?$)|(^100$)/, message: \"必须为数字，且在0-1之间\", trigger: \"blur\"}],\r\n      },\r\n      sizeForm2_Rules: {},\r\n      copysizeForm1: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: '',\r\n        pdStartPeriodUnit: 'Y',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: '',\r\n        pdEndPeriodUnit: 'Y',\r\n        pdGracePeriod: '',\r\n        pdObservationDay: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      copysizeForm2: {\r\n        diseaseClassification: '',//疾病分类\r\n        productCurrency: [],//产品币种\r\n        employeeListType: 'N',//员工单标记\r\n        pdStartDateMode: '',\r\n        pdEndDateMode: '',\r\n        id1: '',//类型主键id\r\n        id2: '',//标记主键id\r\n        agreementInsuranceVariablePayment: 'N',//协议险给付金可变\r\n        exemptionMark: [],//豁免属性\r\n        typeRegion: '',//产品类型\r\n        constructionInsuranceMark: 'N',//建工险标记\r\n        finelinesRegion: '',//产品细类\r\n        designType: '',//产品设计类型\r\n        pdSalechnl2: '',//产品归属渠道\r\n        reinsuranceRatio: '',//分保比例\r\n        reinsuranceQuota: '',//分保限额\r\n        dividendCalculationMethod: '',//红利计算方式\r\n        medicalTreatmentType: '',//医疗险类型\r\n        insuranceNature: '',//产品销售性质\r\n        longAndShortInsurance: '',//保险期间类型\r\n        insurancePeriod: '',//长期险期限类型\r\n        reminderMark: 'Y',//催缴标记\r\n        paymentmark: 'N',//催付标记\r\n        policyType: '',//保单\r\n        principalRiskFlag: '',//主险//此时是附加险\r\n        additionalInsuranceEffect: 'N',//附加险独立生效\r\n        notificationMark: 'N',//告知标记\r\n        productTraceabilityMark: 'N',//产品回溯标记\r\n        underwritingMark: 'N',//核保标记\r\n        renewalChargeMark: 'N',//续期收费标记\r\n        renewalMark: 'N',//续保标记\r\n        bonusType: '',//红利分配方式\r\n        paymentFrequency: [],//缴费频率\r\n        bonusMark: 'N',//红利标记//\r\n        dividendCollectionType: [],//红利领取方式\r\n        selfCushionFlag: '',//自动垫缴标记/\r\n        selfCushionType: '',//自动垫缴类型\r\n        noListType: 'N',//无名单类型\r\n        extensionType: '',//展期类型\r\n        extensionFlag: 'N',//自动展期标记\r\n        agreementInsurancemMark: '',//协议险类型\r\n        agreementInsurancemPaymentVariableMark: '',//协议缴费类型\r\n        preservationMark: 'N',//保全标记\r\n        loanMark: 'N',//借款标记\r\n        mortgageMark: 'N',//抵押标记\r\n        automaticSurrenderMark: 'N',//自动退保标记\r\n        reductionAndSettlementMark: 'N',//减额交清标记\r\n        payUpAndNoDividendMark: 'N',//清缴不分红标记\r\n        reinsuranceMark: '',//分保类型\r\n        coInsuranceMark: 'N',//共保标记\r\n        investmentMark: 'N',//投资标记\r\n        healthConsignmentProductMark: 'N',//健康委托产品标记\r\n        groupFlag: 'P'\r\n      },\r\n      copysizeForm3: {\r\n        options: [],\r\n        selectValue: '',\r\n        //表格数据\r\n        tableData2: [],\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n    myTemplate,\r\n    preservation,\r\n  },\r\n  async created() {\r\n\r\n  },\r\n  async mounted() {\r\n    Object.assign(this.sizeForm1, this.getPdData());\r\n    this.params.pd_info_id = this.sizeForm1.id;\r\n    this.showPageFlag = this.$route.query.showPageFlag;\r\n    await this.getAllPOName();\r\n    await this.initializationProductAttributeDefinition();\r\n    this.findChoosePreservation();\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.push({path: '/product-definition/pd-framework-def/apply', params: {}})\r\n    },\r\n    testFun() {\r\n      if (this.sizeForm2.selfCushionFlag == 'Y') {\r\n        this.sizeForm2.selfCushionType = '1'\r\n      }\r\n    },\r\n    changeradio(val) {\r\n      if (val == 0) {\r\n        this.sizeForm1.pdGuaranteePeriod = '999';\r\n        this.sizeForm1.pdPayPeriodCompany1 = 'Y';\r\n      }else{\r\n        this.sizeForm1.pdGuaranteePeriod = '';\r\n      }\r\n\r\n    },\r\n    copyProduct() {\r\n      if (!!!this.referenceProductId) {\r\n        this.notifyError(\"请选择参考产品\")\r\n        return\r\n      }\r\n      let data = this.buildRequestData({\r\n        \"onlineId\": this.referenceProductId,\r\n        \"newId\": this.sizeForm1.id\r\n      })\r\n      copyProduct(data).then(() => {\r\n        this.notifySuccess(\"产品复制成功\")\r\n        this.reload()\r\n      })\r\n    },\r\n    /*获取保全项目名称*/\r\n    async getAllPOName() {\r\n      let data = this.buildRequestData({\r\n        \"pdCode\": '000000',\r\n        \"pdInfoId\": this.sizeForm1.id,\r\n        \"clsPdCode\": this.sizeForm1.pdCode\r\n      })\r\n      await getAllPOName(data).then(res => {\r\n        for (const row of res.data) {\r\n          if (this.sizeForm2.groupFlag == 'P') {\r\n            if (row.pdAttr == '1') {\r\n              this.poOptions.push(row)\r\n            }\r\n          } else if (this.sizeForm2.groupFlag == 'G') {\r\n            if (row.pdAttr == '2') {\r\n              this.poOptions.push(row)\r\n            }\r\n          }\r\n          this.poOptionsCopy.push(row)\r\n        }\r\n      })\r\n    },\r\n    BQShowChoose() {\r\n      this.poOptions = [];\r\n      let val = this.sizeForm2.groupFlag\r\n      let num = 0;\r\n      if (val == 'P') {\r\n        for (num = 0; num < this.poOptionsCopy.length; num++) {\r\n          if (this.poOptionsCopy[num].pdAttr == '1') {\r\n            this.poOptions.push(this.poOptionsCopy[num]);\r\n            continue;\r\n          }\r\n        }\r\n      } else if (val == 'G') {\r\n        for (num = 0; num < this.poOptionsCopy.length; num++) {\r\n          if (this.poOptionsCopy[num].pdAttr == '2') {\r\n            this.poOptions.push(this.poOptionsCopy[num]);\r\n            continue;\r\n          }\r\n        }\r\n      } else {\r\n        this.poOptions = this.poOptionsCopy\r\n      }\r\n\r\n    },\r\n    isShowQuick(type) {\r\n      if (type == 'excel') {\r\n        this.quickshow = false\r\n        this.quickicon = 'el-icon-arrow-down'\r\n        if (!this.excelshow) {\r\n          this.excelicon = 'el-icon-arrow-up'\r\n        } else {\r\n          this.excelicon = 'el-icon-arrow-down'\r\n        }\r\n        return this.excelshow = !this.excelshow\r\n      } else {\r\n        this.excelshow = false\r\n        this.excelicon = 'el-icon-arrow-down'\r\n        if (!this.quickshow) {\r\n          this.quickicon = 'el-icon-arrow-up'\r\n        } else {\r\n          this.quickicon = 'el-icon-arrow-down'\r\n        }\r\n        return this.quickshow = !this.quickshow\r\n      }\r\n    },\r\n    //下拉过滤1$对应编码$1\r\n    typeRegionSelect(val) {\r\n      if (val == 'L') {\r\n        this.finelinesRegionFilter = '1$L01$L02$L03$1'\r\n      } else if (val == 'R') {\r\n        this.finelinesRegionFilter = '1$R01$R02$1'\r\n      } else if (val == 'H') {\r\n        this.finelinesRegionFilter = '1$H01$H02$H03$H04$1'\r\n      } else if (val == 'A') {\r\n        this.finelinesRegionFilter = '1$A01$1'\r\n      } else {\r\n        this.finelinesRegionFilter = ''\r\n      }\r\n    },\r\n    //产品细类 - 医疗险类型\r\n    typeFinelinesRegionSelect(val) {\r\n      if (val == 'H01') {\r\n        this.medicalTreatmentTypeShow = true\r\n        this.medicalTreatmentTypeFilter = '1$1$2$3$4$5$'\r\n      } else {\r\n        this.medicalTreatmentTypeShow = false\r\n      }\r\n      if (val == 'L01' || val == 'L02' || val == 'L03' || val == 'R01' || val == 'R02' || val == 'H02') {\r\n        this.sizeForm2.selfCushionFlag = 'Y'\r\n        this.sizeForm2.selfCushionType = '1'\r\n      }\r\n      if (val == 'L01') {\r\n        this.sizeForm2.longAndShortInsurance = '1'\r\n      }\r\n      if (val == 'L02') {\r\n        this.sizeForm2.longAndShortInsurance = '0'\r\n      }\r\n    },\r\n    typeRegionSelectBonus(val) {\r\n      if (val == '2') {\r\n        this.finelinesRegionFilterBonus = '1$1$2$3$4$'\r\n      } else if (val == '1') {\r\n        this.finelinesRegionFilterBonus = '1$5$'\r\n      } else {\r\n        this.finelinesRegionFilterBonus = '0$1$2$3$4$5'\r\n      }\r\n    },\r\n    //清空\r\n    clearAll() {\r\n      this.$refs.sizeForm1.resetFields();\r\n      this.$refs.sizeForm2.resetFields();\r\n      this.sizeForm3.tableData2 = [];\r\n      this.initializationProductAttributeDefinition();\r\n      this.getAllPOName();\r\n    },\r\n    //保存\r\n    handleCreate(sizeForm1, sizeForm2, valOper) {\r\n\r\n      if (this.sizeForm2.bonusMark == 'N') {\r\n        this.sizeForm2.bonusType = ''\r\n        this.sizeForm2.dividendCollectionType = [];\r\n      }\r\n\r\n\r\n      if (this.sizeForm2.extensionFlag == 'N') {\r\n        this.sizeForm2.extensionType = '';\r\n        this.rules.extensionType = [{required: false}]\r\n      }\r\n\r\n      if (this.sizeForm2.payUpAndNoDividendMark == 'Y' && this.sizeForm2.reductionAndSettlementMark == 'N') {\r\n        this.messageError(\"勾选了清缴不分红标记，但是未选择减额缴清保全项\")\r\n        return\r\n      }\r\n\r\n      //自动垫缴双保险\r\n      this.selfCushionType1 = 'N'\r\n      this.preservationTable.forEach(val=>{\r\n        if(val.paName.indexOf(\"自动垫缴\")!==-1 && this.sizeForm2.selfCushionType == ''){\r\n          this.messageError(\"选择了自动垫缴保全项，但是没有选择自动垫缴类型\")\r\n          this.rules.selfCushionType.push({required: true, message: this.$t('ProductAttributeDefinition.selfCushionType'), trigger: 'blur'})\r\n          this.selfCushionType1 = 'Y'\r\n          return\r\n        }\r\n      });\r\n      if (this.sizeForm2.selfCushionType == '') {\r\n        this.sizeForm2.selfCushionFlag = 'N';\r\n      } else {\r\n        this.sizeForm2.selfCushionFlag = 'Y';\r\n      }\r\n      if(this.selfCushionType1 !=='Y'){\r\n      this.$refs[sizeForm1].validate((valid1) => {\r\n        if (valid1) {\r\n          this.$refs[sizeForm2].validate((valid2) => {\r\n            if (valid2) {\r\n                  let pForm1 = this.setPdtempPdClsLabForm1();\r\n                  if (pForm1 === false) {\r\n                    return false;\r\n                  }\r\n                  let pForm2 = this.setPdtempPdClsLabForm2();\r\n                  if (pForm2 === false) {\r\n                    return false;\r\n                  }\r\n\r\n                  let pForm5 = this.setPdtempPdAtrsInfo1();\r\n                  if (pForm5 === false) {\r\n                    return false;\r\n                  }\r\n                  let pForm6 = this.setPdtempPdAtrsInfo2();\r\n                  if (pForm6 === false) {\r\n                    return false;\r\n                  }\r\n                  let pForm7 = this.setPdtempPdAtrsInfo3();\r\n                  if (pForm7 === false) {\r\n                    return false;\r\n                  }\r\n                  let pForm8 = this.setPdtempPdAtrsInfo4();\r\n                  if (pForm8 === false) {\r\n                    return false;\r\n                  }\r\n\r\n                  let pForm9 = this.setPdtempPdAtrsInfo5();\r\n                  if (pForm9 === false) {\r\n                    return false;\r\n                  }\r\n\r\n                  let bigForm = {};\r\n                  this.sizeForm1.pdSalechnl = this.sizeForm2.pdSalechnl2;\r\n                  this.sizeForm1.pdStartDateMode = this.sizeForm2.pdStartDateMode\r\n                  this.sizeForm1.pdEndDateMode = this.sizeForm2.pdEndDateMode\r\n                  bigForm[\"pdtempPdInfo\"] = this.sizeForm1;\r\n                  bigForm[\"pdtempPdClsLabByType\"] = this.pdtempPdClsLabForm1;\r\n                  bigForm[\"pdtempPdClsLabByMark\"] = this.pdtempPdClsLabForm2;\r\n                  // bigForm[\"pdtempPdFinIndList1\"] = pForm3;\r\n                  bigForm[\"pdtempPdAtrsInfo1\"] = pForm5;\r\n                  bigForm[\"pdtempPdAtrsInfo2\"] = this.PdtempPdAtrsInfo2;\r\n                  bigForm[\"pdtempPdAtrsInfo3\"] = pForm7;\r\n                  bigForm[\"pdtempPdAtrsInfo4\"] = pForm8;\r\n                  //添加保全项\r\n                  bigForm[\"pdtempPdAtrsInfo5\"] = pForm9;\r\n                  // bigForm[\"pdtempPdAtrsInfo6\"] = pForm10;\r\n\r\n                  let back = '';\r\n                  back = addProductAttributeDefinition(bigForm);\r\n                  back.then(response => {\r\n                    if (response.code == 200) {\r\n                      this.$emit('childFn', true);\r\n                      if (valOper === 'save') {\r\n                        this.notifySuccess(response.message);\r\n                      } else {\r\n                        this.notifySuccess(\"更新成功\");\r\n                      }\r\n                      const param = {\r\n                        pdInfoId: this.sizeForm1.id\r\n                      }\r\n                      let back1 = findProductInfoVoByPdInfoId(this.buildRequestData(param))\r\n                      back1.then(response => {\r\n                        this.pdInfo = response.data\r\n                        this.showUpdateButton = true\r\n                        if (this.pdInfo) {\r\n                          this.cacheCurrPagePdData(this.pdInfo)\r\n                          this.$store.dispatch('product/storageProducts')\r\n                        }\r\n                      })\r\n                    }\r\n                  });\r\n            } else {\r\n              this.focusItem()\r\n            }\r\n          })\r\n        } else {\r\n          this.focusItem()\r\n          return false;\r\n        }\r\n      });\r\n      }\r\n    },\r\n    setPdtempPdClsLabForm1() {\r\n      this.pdtempPdClsLabForm1.id = this.sizeForm2.id1;\r\n      this.pdtempPdClsLabForm1.pdVerId = this.sizeForm1.pdVerId;\r\n      this.pdtempPdClsLabForm1.pdType = '1';//不确定\r\n      this.pdtempPdClsLabForm1.pdInfoId = this.sizeForm1.id;//不确定\r\n      this.pdtempPdClsLabForm1.pdCode = this.sizeForm1.pdCode;\r\n      this.pdtempPdClsLabForm1.pdClsType = '1';//  --类型\r\n      //产品类型\r\n      this.pdtempPdClsLabForm1.pdCls1 = this.sizeForm2.typeRegion;\r\n      //产品细类\r\n      this.pdtempPdClsLabForm1.pdCls2 = this.sizeForm2.finelinesRegion;\r\n      //医疗险类型\r\n      this.pdtempPdClsLabForm1.pdCls3 = this.sizeForm2.medicalTreatmentType;\r\n      //产品设计类型\r\n      this.pdtempPdClsLabForm1.pdCls4 = this.sizeForm2.designType;\r\n      //主附险类型\r\n      this.pdtempPdClsLabForm1.pdCls5 = this.sizeForm2.principalRiskFlag;\r\n      //产品销售性质\r\n      this.pdtempPdClsLabForm1.pdCls6 = this.sizeForm2.insuranceNature;\r\n      //保险期间类型\r\n      this.pdtempPdClsLabForm1.pdCls7 = this.sizeForm2.longAndShortInsurance;\r\n      //长期险期限类型\r\n      this.pdtempPdClsLabForm1.pdCls8 = this.sizeForm2.insurancePeriod;\r\n      //展期类型\r\n      this.pdtempPdClsLabForm1.pdCls9 = this.sizeForm2.extensionType;\r\n      //分红方式\r\n      this.pdtempPdClsLabForm1.pdCls10 = this.sizeForm2.bonusType;\r\n      //自动垫缴类型\r\n      this.pdtempPdClsLabForm1.pdCls11 = this.sizeForm2.selfCushionType;\r\n      //分保类型\r\n      this.pdtempPdClsLabForm1.pdCls12 = this.sizeForm2.reinsuranceMark;\r\n      //协议缴费类型\r\n      this.pdtempPdClsLabForm1.pdCls13 = this.sizeForm2.agreementInsurancemPaymentVariableMark;\r\n      //协议险类型\r\n      this.pdtempPdClsLabForm1.pdCls14 = this.sizeForm2.agreementInsurancemMark;\r\n      //疾病分类\r\n      this.pdtempPdClsLabForm1.pdCls15 = this.sizeForm2.diseaseClassification;\r\n      //保单类型\r\n      this.pdtempPdClsLabForm1.pdCls16 = this.sizeForm2.policyType;\r\n      return this.pdtempPdClsLabForm1;\r\n    },\r\n    setPdtempPdClsLabForm2() {\r\n      this.pdtempPdClsLabForm2.id = this.sizeForm2.id2;\r\n      this.pdtempPdClsLabForm2.pdVerId = this.sizeForm1.pdVerId;//不确定\r\n      this.pdtempPdClsLabForm2.pdType = '1';//不确定\r\n      this.pdtempPdClsLabForm2.pdInfoId = this.sizeForm1.id;//不确定\r\n      this.pdtempPdClsLabForm2.pdCode = this.sizeForm1.pdCode;\r\n      this.pdtempPdClsLabForm2.pdClsType = '2';// 2是标记\r\n\r\n      //员工单标记\r\n      this.pdtempPdClsLabForm2.pdCls1 = this.sizeForm2.employeeListType;\r\n      //产品回溯标记\r\n      this.pdtempPdClsLabForm2.pdCls2 = this.sizeForm2.productTraceabilityMark;\r\n      //告知标记\r\n      this.pdtempPdClsLabForm2.pdCls3 = this.sizeForm2.notificationMark;\r\n      //核保标记\r\n      this.pdtempPdClsLabForm2.pdCls4 = this.sizeForm2.underwritingMark;\r\n      //续期收费标记\r\n      this.pdtempPdClsLabForm2.pdCls5 = this.sizeForm2.renewalChargeMark;\r\n      //催缴标记\r\n      this.pdtempPdClsLabForm2.pdCls6 = this.sizeForm2.reminderMark;\r\n      //续保标记\r\n      this.pdtempPdClsLabForm2.pdCls7 = this.sizeForm2.renewalMark;\r\n      //建工险标记\r\n      this.pdtempPdClsLabForm2.pdCls8 = this.sizeForm2.constructionInsuranceMark;\r\n      //健康委托产品标记\r\n      this.pdtempPdClsLabForm2.pdCls9 = this.sizeForm2.healthConsignmentProductMark;\r\n      //保全标记\r\n      this.pdtempPdClsLabForm2.pdCls10 = this.sizeForm2.preservationMark;\r\n      //自动垫缴标记\r\n      this.pdtempPdClsLabForm2.pdCls11 = this.sizeForm2.selfCushionFlag;\r\n      //自动展期标记\r\n      this.pdtempPdClsLabForm2.pdCls12 = this.sizeForm2.extensionFlag;\r\n      //自动退保标记\r\n      this.pdtempPdClsLabForm2.pdCls13 = this.sizeForm2.automaticSurrenderMark;\r\n      //借款标记\r\n      this.pdtempPdClsLabForm2.pdCls14 = this.sizeForm2.loanMark;\r\n      //抵押标记\r\n      this.pdtempPdClsLabForm2.pdCls15 = this.sizeForm2.mortgageMark;\r\n      //投资标记\r\n      this.pdtempPdClsLabForm2.pdCls16 = this.sizeForm2.investmentMark;\r\n      //分红标记\r\n      this.pdtempPdClsLabForm2.pdCls17 = this.sizeForm2.bonusMark;\r\n      //无名单标记\r\n      this.pdtempPdClsLabForm2.pdCls18 = this.sizeForm2.noListType;\r\n      //共保标记\r\n      this.pdtempPdClsLabForm2.pdCls19 = this.sizeForm2.coInsuranceMark;\r\n      //催付标记\r\n      this.pdtempPdClsLabForm2.pdCls20 = this.sizeForm2.paymentmark;\r\n      //减额交清标记\r\n      this.pdtempPdClsLabForm2.pdCls22 = this.sizeForm2.reductionAndSettlementMark;\r\n      //清缴不分红标记\r\n      this.pdtempPdClsLabForm2.pdCls23 = this.sizeForm2.payUpAndNoDividendMark;\r\n      //协议险给付金可变\r\n      this.pdtempPdClsLabForm2.pdCls24 = this.sizeForm2.agreementInsuranceVariablePayment;\r\n      //团个标识\r\n      this.pdtempPdClsLabForm2.pdCls25 = this.sizeForm2.groupFlag;\r\n\r\n      return this.pdtempPdClsLabForm2;\r\n    },\r\n    //传参--缴费频率\r\n    setPdtempPdAtrsInfo1() {\r\n      let result = [];\r\n      for (let i = 0; i < this.sizeForm2.paymentFrequency.length; i++) {\r\n        this.PdtempPdAtrsInfo1 = {\r\n          pdVerId: '',\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdInfoId: '',\r\n          pdAscLevel: '',\r\n          pdAscLevelCode: '',\r\n          pdAtrsType: '',\r\n          pdAtrsCode: '',\r\n          pdAtrsName: '',\r\n          pdAtrsVal: '',\r\n          pdAtrsDesc: '',\r\n        };\r\n        this.PdtempPdAtrsInfo1.pdVerId = this.sizeForm1.pdVerId;\r\n        this.PdtempPdAtrsInfo1.pdCode = this.sizeForm1.pdCode;\r\n        this.PdtempPdAtrsInfo1.pdInfoId = this.sizeForm1.pdInfoId;\r\n        this.PdtempPdAtrsInfo1.pdType = '1';\r\n        this.PdtempPdAtrsInfo1.pdAscLevel = 'Prod';//\r\n        this.PdtempPdAtrsInfo1.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n        this.PdtempPdAtrsInfo1.pdAtrsType = 'P';//\r\n        this.PdtempPdAtrsInfo1.pdAtrsCode = 'payintv';//\r\n        this.PdtempPdAtrsInfo1.pdAtrsName = '缴费频率';\r\n        this.PdtempPdAtrsInfo1.pdAtrsVal = this.sizeForm2.paymentFrequency[i];//\r\n        result.push(this.PdtempPdAtrsInfo1);\r\n      }\r\n      return result;\r\n    },\r\n    //传参--分保比例\r\n    setPdtempPdAtrsInfo2() {\r\n      this.PdtempPdAtrsInfo2.pdVerId = this.sizeForm1.pdVerId;\r\n      this.PdtempPdAtrsInfo2.pdCode = this.sizeForm1.pdCode;\r\n      this.PdtempPdAtrsInfo2.pdInfoId = this.sizeForm1.pdInfoId;\r\n      this.PdtempPdAtrsInfo2.pdType = '1';//1-产品\r\n      this.PdtempPdAtrsInfo2.pdAscLevel = 'Prod';//险种层\r\n      this.PdtempPdAtrsInfo2.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n      this.PdtempPdAtrsInfo2.pdAtrsType = '';//属性类型\r\n      this.PdtempPdAtrsInfo2.pdAtrsCode = 'rinsrate';//\r\n      this.PdtempPdAtrsInfo2.pdAtrsName = '分保类型值';\r\n      if (this.sizeForm2.reinsuranceMark == '1') {\r\n        this.PdtempPdAtrsInfo2.pdAtrsVal = this.sizeForm2.reinsuranceRatio;\r\n      } else if (this.sizeForm2.reinsuranceMark == '2') {\r\n        this.PdtempPdAtrsInfo2.pdAtrsVal = this.sizeForm2.reinsuranceQuota;\r\n      } else {\r\n        this.PdtempPdAtrsInfo2.pdAtrsVal = '';\r\n      }\r\n      return this.PdtempPdAtrsInfo2;\r\n    },\r\n    //传参--红利领取方式\r\n    setPdtempPdAtrsInfo3() {\r\n      let result = [];\r\n      if (this.sizeForm2.dividendCollectionType.length > 0) {\r\n        for (let i = 0; i < this.sizeForm2.dividendCollectionType.length; i++) {\r\n          this.PdtempPdAtrsInfo3 = {\r\n            pdVerId: '',\r\n            pdType: '',\r\n            pdCode: '',\r\n            pdInfoId: '',\r\n            pdAscLevel: '',\r\n            pdAscLevelCode: '',\r\n            pdAtrsType: '',\r\n            pdAtrsCode: '',\r\n            pdAtrsName: '',\r\n            pdAtrsVal: '',\r\n            pdAtrsDesc: '',\r\n          };\r\n          this.PdtempPdAtrsInfo3.pdVerId = this.sizeForm1.pdVerId;\r\n          this.PdtempPdAtrsInfo3.pdCode = this.sizeForm1.pdCode;\r\n          this.PdtempPdAtrsInfo3.pdInfoId = this.sizeForm1.pdInfoId;\r\n          this.PdtempPdAtrsInfo3.pdType = '1';\r\n          this.PdtempPdAtrsInfo3.pdAscLevel = 'Prod';//\r\n          this.PdtempPdAtrsInfo3.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n          this.PdtempPdAtrsInfo3.pdAtrsType = 'G';//属性类型\r\n          this.PdtempPdAtrsInfo3.pdAtrsCode = 'DividendCollection';//\r\n          this.PdtempPdAtrsInfo3.pdAtrsName = '红利领取方式';\r\n          this.PdtempPdAtrsInfo3.pdAtrsVal = this.sizeForm2.dividendCollectionType[i];//\r\n          result.push(this.PdtempPdAtrsInfo3);\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    //传参--产品币种\r\n    setPdtempPdAtrsInfo4() {\r\n      let result = [];\r\n      for (let i = 0; i < this.sizeForm2.productCurrency.length; i++) {\r\n        this.PdtempPdAtrsInfo4 = {\r\n          pdVerId: '',\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdInfoId: '',\r\n          pdAscLevel: '',\r\n          pdAscLevelCode: '',\r\n          pdAtrsType: '',\r\n          pdAtrsCode: '',\r\n          pdAtrsName: '',\r\n          pdAtrsVal: '',\r\n          pdAtrsDesc: '',\r\n        };\r\n        this.PdtempPdAtrsInfo4.pdVerId = this.sizeForm1.pdVerId;\r\n        this.PdtempPdAtrsInfo4.pdCode = this.sizeForm1.pdCode;\r\n        this.PdtempPdAtrsInfo4.pdInfoId = this.sizeForm1.pdInfoId;\r\n        this.PdtempPdAtrsInfo4.pdType = '1';\r\n        this.PdtempPdAtrsInfo4.pdAscLevel = 'Prod';//\r\n        this.PdtempPdAtrsInfo4.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n        this.PdtempPdAtrsInfo4.pdAtrsType = '';//\r\n        this.PdtempPdAtrsInfo4.pdAtrsCode = 'productCurrency';//\r\n        this.PdtempPdAtrsInfo4.pdAtrsName = '产品币种';\r\n        this.PdtempPdAtrsInfo4.pdAtrsVal = this.sizeForm2.productCurrency[i];//\r\n        result.push(this.PdtempPdAtrsInfo4);\r\n      }\r\n      return result;\r\n    },\r\n    //传参--豁免属性\r\n    setPdtempPdAtrsInfo5() {\r\n      if (this.sizeForm2.exemptionMark.length > 0) {\r\n        if (this.sizeForm2.exemptionMark == null || this.sizeForm2.exemptionMark == '') {\r\n          this.messageError(\"请选择豁免属性\");\r\n          return false;\r\n        } else {\r\n          let result = [];\r\n          for (let i = 0; i < this.sizeForm2.exemptionMark.length; i++) {\r\n            this.PdtempPdAtrsInfo5 = {\r\n              pdVerId: '',\r\n              pdType: '',\r\n              pdCode: '',\r\n              pdInfoId: '',\r\n              pdAscLevel: '',\r\n              pdAscLevelCode: '',\r\n              pdAtrsType: '',\r\n              pdAtrsCode: '',\r\n              pdAtrsName: '',\r\n              pdAtrsVal: '',\r\n              pdAtrsDesc: '',\r\n            };\r\n            this.PdtempPdAtrsInfo5.pdVerId = this.sizeForm1.pdVerId;\r\n            this.PdtempPdAtrsInfo5.pdCode = this.sizeForm1.pdCode;\r\n            this.PdtempPdAtrsInfo5.pdInfoId = this.sizeForm1.pdInfoId;\r\n            this.PdtempPdAtrsInfo5.pdType = '1';\r\n            this.PdtempPdAtrsInfo5.pdAscLevel = 'Prod';//\r\n            this.PdtempPdAtrsInfo5.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n            this.PdtempPdAtrsInfo5.pdAtrsType = 'G';//属性类型\r\n            this.PdtempPdAtrsInfo5.pdAtrsCode = 'exemptionMark';//\r\n            this.PdtempPdAtrsInfo5.pdAtrsName = '豁免属性';\r\n            this.PdtempPdAtrsInfo5.pdAtrsVal = this.sizeForm2.exemptionMark[i];//\r\n            result.push(this.PdtempPdAtrsInfo5);\r\n          }\r\n          return result;\r\n        }\r\n      }\r\n    },\r\n    //传参--保全项目\r\n    setPdtempPdAtrsInfo6() {\r\n      let result = [];\r\n      for (let i = 0; i < this.selPO.length; i++) {\r\n        this.PdtempPdAtrsInfo6 = {\r\n          pdVerId: '',\r\n          pdType: '',\r\n          pdCode: '',\r\n          pdInfoId: '',\r\n          pdAscLevel: '',\r\n          pdAscLevelCode: '',\r\n          pdAtrsType: '',\r\n          pdAtrsCode: '',\r\n          pdAtrsName: '',\r\n          pdAtrsVal: '',\r\n          pdAtrsDesc: '',\r\n          paName: '',\r\n          paCode: '',\r\n          pdName: '',\r\n          pdPaInfoId: '',\r\n        };\r\n        this.PdtempPdAtrsInfo6.pdVerId = this.sizeForm1.pdVerId;\r\n        this.PdtempPdAtrsInfo6.pdCode = this.sizeForm1.pdCode;\r\n        this.PdtempPdAtrsInfo6.pdInfoId = this.sizeForm1.pdInfoId;\r\n        this.PdtempPdAtrsInfo6.pdType = '1';\r\n        this.PdtempPdAtrsInfo6.pdAscLevel = 'Prod';//险种层\r\n        this.PdtempPdAtrsInfo6.pdAscLevelCode = this.sizeForm1.pdCode;//\r\n        this.PdtempPdAtrsInfo6.pdAtrsType = '';//\r\n        this.PdtempPdAtrsInfo6.pdAtrsCode = 'preservationItems';//\r\n        this.PdtempPdAtrsInfo6.pdAtrsName = '保全项目';\r\n        this.PdtempPdAtrsInfo6.pdAtrsVal = this.selPO[i];//\r\n        this.PdtempPdAtrsInfo6.paName = this.getCaption(this.selPO[i], 2);//新表pa_name\r\n        this.PdtempPdAtrsInfo6.paCode = this.getCaption(this.selPO[i], 1);//新表pa_code\r\n        this.PdtempPdAtrsInfo6.pdName = this.sizeForm1.pdName;//产品名称\r\n        this.PdtempPdAtrsInfo6.pdPaInfoId = this.getCaption(this.selPO[i], 0);\r\n        result.push(this.PdtempPdAtrsInfo6);\r\n      }\r\n      return result;\r\n    },\r\n    getCaption(obj, state) {\r\n      let index1 = obj.indexOf(\":\")\r\n      let index2 = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index1)\r\n      } else if (state === 1) {\r\n        return obj.substring(index1 + 1, index2)\r\n      } else {\r\n        return obj.substring(index2 + 1, obj.length)\r\n      }\r\n    },\r\n    //页面初始化\r\n    async initializationProductAttributeDefinition() {\r\n      let id = this.sizeForm1.id; //产品id\r\n      //基础表\r\n      let back1 = '';\r\n      back1 = pdtempPdInfoList(id);\r\n      back1.then(response => {\r\n        if (response.code == 200) {\r\n          this.sizeForm1.pdEnName = response.data.pdEnName;\r\n          this.sizeForm1.pdShortName = response.data.pdShortname;\r\n          this.sizeForm1.pdShortEnName = response.data.pdShortEnName;\r\n          this.sizeForm1.pdSalechnl = response.data.pdSalechnl;\r\n          this.sizeForm1.pdStartDateRule = response.data.pdStartDateRule;\r\n          this.sizeForm2.pdStartDateMode = response.data.pdStartDateMode;\r\n          this.sizeForm1.pdStartPeriod = response.data.pdStartPeriod;\r\n          //保障起期\r\n          if (response.data.pdStartPeriodUnit != null) {\r\n            this.sizeForm1.pdStartPeriodUnit = response.data.pdStartPeriodUnit;\r\n          } else {\r\n            this.sizeForm1.pdStartPeriodUnit = 'Y';\r\n          }\r\n          this.sizeForm1.pdEndDateRule = response.data.pdEndDateRule;\r\n          this.sizeForm2.pdEndDateMode = response.data.pdEndDateMode;\r\n          this.sizeForm1.pdEndPeriod = response.data.pdEndPeriod;\r\n\r\n          //保障止期\r\n          if (response.data.pdEndPeriodUnit != null) {\r\n            this.sizeForm1.pdEndPeriodUnit = response.data.pdEndPeriodUnit;\r\n          } else {\r\n            this.sizeForm1.pdEndPeriodUnit = 'Y';\r\n          }\r\n          this.sizeForm1.pdGracePeriod = response.data.pdGracePeriod;\r\n          this.sizeForm1.pdGuaranteePeriod = response.data.pdGuaranteePeriod;\r\n          this.sizeForm1.pdPayPeriod = response.data.pdPayPeriod;\r\n          this.sizeForm1.pdPayPeriodCompany1 = response.data.pdPayPeriodCompany1;\r\n          this.sizeForm1.pdPayPeriodCompany = response.data.pdPayPeriodCompany;\r\n          this.sizeForm1.pdObservationDay = response.data.pdObservationDay;\r\n          this.sizeForm2.pdSalechnl2 = response.data.pdSalechnl;\r\n          if (this.sizeForm1.pdShortName == '' || this.sizeForm1.pdShortName == null) {\r\n            this.sizeForm2.productTraceabilityMark = 'Y';\r\n            this.sizeForm2.notificationMark = 'Y'\r\n            this.sizeForm2.underwritingMark = 'Y'\r\n            this.sizeForm2.policyType = 'P';\r\n            this.sizeForm2.productCurrency.push(\"01\");\r\n            this.sizeForm2.diseaseClassification = 'P';\r\n            this.initializationRateType();\r\n          } else {\r\n            //分类标记\r\n            let back2 = '';\r\n            back2 = pdtempPdClsLabList(id);\r\n            back2.then(response => {\r\n              if (response.code == 200) {\r\n                for (let i = 0; i < response.data.length; i++) {\r\n                  this.showUpdateButton = true\r\n                  if (response.data[i].pdClsType == 1) {\r\n                    this.sizeForm2.id1 = response.data[i].id;\r\n                    this.sizeForm2.typeRegion = response.data[i].pdCls1;\r\n                    this.sizeForm2.finelinesRegion = response.data[i].pdCls2;\r\n                    if (response.data[i].pdCls2 == '06') {\r\n                      this.medicalTreatmentTypeShow = true;\r\n                    }\r\n                    //医疗险类型\r\n                    this.sizeForm2.medicalTreatmentType = response.data[i].pdCls3;\r\n                    this.sizeForm2.designType = response.data[i].pdCls4;\r\n                    this.sizeForm2.principalRiskFlag = response.data[i].pdCls5;//主附险类型\r\n                    this.sizeForm2.insuranceNature = response.data[i].pdCls6;\r\n                    this.sizeForm2.longAndShortInsurance = response.data[i].pdCls7;\r\n                    this.sizeForm2.insurancePeriod = response.data[i].pdCls8;\r\n                    this.sizeForm2.extensionType = response.data[i].pdCls9;\r\n                    this.sizeForm2.bonusType = response.data[i].pdCls10;\r\n                    this.sizeForm2.selfCushionType = response.data[i].pdCls11;\r\n                    this.preservationTable.forEach(val=>{\r\n                      if(val.paName.indexOf(\"自动垫缴\")!==-1){\r\n                        this.rules.selfCushionType.push({required: true, message: this.$t('ProductAttributeDefinition.selfCushionType'), trigger: 'blur'})\r\n                      }\r\n                    })\r\n                    this.sizeForm2.reinsuranceMark = response.data[i].pdCls12;//分保类型\r\n                    this.sizeForm2.agreementInsurancemPaymentVariableMark = response.data[i].pdCls13;\r\n                    this.sizeForm2.agreementInsurancemMark = response.data[i].pdCls14;\r\n                    this.sizeForm2.diseaseClassification = response.data[i].pdCls15;\r\n                    this.sizeForm2.policyType = response.data[i].pdCls16;//保单类型\r\n                  } else {\r\n                    this.sizeForm2.id2 = response.data[i].id;\r\n                    this.sizeForm2.employeeListType = response.data[i].pdCls1;\r\n                    //产品回溯标记\r\n                    this.sizeForm2.productTraceabilityMark = response.data[i].pdCls2;\r\n                    //告知标记\r\n                    this.sizeForm2.notificationMark = response.data[i].pdCls3;\r\n                    //核保标记\r\n                    this.sizeForm2.underwritingMark = response.data[i].pdCls4;\r\n                    //续期收费标记\r\n                    this.sizeForm2.renewalChargeMark = response.data[i].pdCls5;\r\n                    //催缴标记\r\n                    this.sizeForm2.reminderMark = response.data[i].pdCls6;\r\n                    //续保标记\r\n                    this.sizeForm2.renewalMark = response.data[i].pdCls7;\r\n                    //建工险标记\r\n                    this.sizeForm2.constructionInsuranceMark = response.data[i].pdCls8;\r\n                    //健康委托产品标记\r\n                    this.sizeForm2.healthConsignmentProductMark = response.data[i].pdCls9;\r\n                    //保全标记\r\n                    this.sizeForm2.preservationMark = response.data[i].pdCls10;\r\n                    //自动垫缴标记\r\n                    this.sizeForm2.selfCushionFlag = response.data[i].pdCls11;\r\n                    //自动展期标记\r\n                    this.sizeForm2.extensionFlag = response.data[i].pdCls12;\r\n                    //自动退保标记\r\n                    this.sizeForm2.automaticSurrenderMark = response.data[i].pdCls13;\r\n                    //借款标记\r\n                    this.sizeForm2.loanMark = response.data[i].pdCls14;\r\n                    //抵押标记\r\n                    this.sizeForm2.mortgageMark = response.data[i].pdCls15;\r\n                    //投资标记\r\n                    this.sizeForm2.investmentMark = response.data[i].pdCls16;\r\n                    //分红标记\r\n                    this.sizeForm2.bonusMark = response.data[i].pdCls17;\r\n                    //无名单标记\r\n                    this.sizeForm2.noListType = response.data[i].pdCls18;\r\n                    //共保标记\r\n                    this.sizeForm2.coInsuranceMark = response.data[i].pdCls19;\r\n                    //催付标记\r\n                    this.sizeForm2.paymentmark = response.data[i].pdCls20;\r\n                    //减额交清标记\r\n                    this.sizeForm2.reductionAndSettlementMark = response.data[i].pdCls22;\r\n                    //清缴不分红标记\r\n                    this.sizeForm2.payUpAndNoDividendMark = response.data[i].pdCls23;\r\n                    //协议险给付金可变\r\n                    this.sizeForm2.agreementInsuranceVariablePayment = response.data[i].pdCls24;\r\n                    this.sizeForm2.groupFlag = response.data[i].pdCls25;\r\n                  }\r\n                }\r\n              }\r\n            });\r\n            //财务表\r\n            let back3 = '';\r\n            back3 = pdtempPdFinIndList(id);\r\n            this.sizeForm3.tableData2 = [];\r\n            back3.then(response => {\r\n              if (response.code == 200 && response.data.length > 0) {\r\n\r\n                for (let i = 0; i < response.data.length; i++) {\r\n                  if (response.data[i].pdFinIndiType != null && response.data[i].pdFinIndiType != '') {\r\n                    this.sizeForm3.tableData2.push({\r\n                      numID: i,\r\n                      rateType: response.data[i].pdFinIndiType,\r\n                      currency: response.data[i].pdRateCurr,\r\n                      yearRateInput: response.data[i].pdAnnuRate,\r\n                      dayRateInput: response.data[i].pdDayRate,\r\n                      startRateDate: response.data[i].pdVailStartDate,//\r\n                      endRateDate: response.data[i].pdVailEndDate,//\r\n                    });\r\n                  }\r\n                }\r\n              }\r\n            });\r\n            //属性表\r\n            let back4 = '';\r\n            back4 = pdtempPdAtrsInfoList(id);\r\n            back4.then(response => {\r\n              if (response.code == 200 && response.data.length > 0) {\r\n                for (let i = 0; i < response.data.length; i++) {\r\n                  if (response.data[i].pdAtrsCode == 'DividendCollection') {\r\n                    this.sizeForm2.dividendCollectionType.push(//红利领取方式\r\n                      response.data[i].pdAtrsVal,\r\n                    );\r\n                  }\r\n                  //分保值\r\n                  if (response.data[i].pdAtrsCode == 'rinsrate') {\r\n                    if (this.sizeForm2.reinsuranceMark == '1') {\r\n                      this.sizeForm2.reinsuranceRatio = response.data[i].pdAtrsVal;\r\n                    } else if (this.sizeForm2.reinsuranceMark == '2') {\r\n                      this.sizeForm2.reinsuranceQuota = response.data[i].pdAtrsVal;\r\n                    } else {\r\n                      this.sizeForm2.reinsuranceRatio = '';\r\n                      this.sizeForm2.reinsuranceQuota == '';\r\n                    }\r\n                  }\r\n                  //缴费频率\r\n                  if (response.data[i].pdAtrsCode == 'payintv') {\r\n                    this.sizeForm2.paymentFrequency.push(\r\n                      response.data[i].pdAtrsVal,\r\n                    );\r\n                  }\r\n                  //产品币种\r\n                  if (response.data[i].pdAtrsCode == 'productCurrency') {\r\n                    this.sizeForm2.productCurrency.push(\r\n                      response.data[i].pdAtrsVal,\r\n                    );\r\n                  }\r\n                  //豁免属性\r\n                  if (response.data[i].pdAtrsCode == 'exemptionMark') {\r\n                    this.sizeForm2.exemptionMark.push(\r\n                      response.data[i].pdAtrsVal,\r\n                    );\r\n                  }\r\n                  //保全项目\r\n\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 查询参考产品\r\n    async getReleasedReferenceProductList() {\r\n      this.$nextTick(async () => {\r\n        if (!this.form_quick.finelinesRegion) {\r\n          return\r\n        }\r\n        this.referenceProductId = undefined\r\n        const paramsMap = {\r\n          pd_cls_type: '1',\r\n          pd_cls2: this.form_quick.finelinesRegion\r\n        }\r\n        this.releasedProductList = (await getAllReleasedProduct(this.buildRequestData(paramsMap))).data\r\n      })\r\n    },\r\n    //初始化产品比率表格\r\n    initializationRateType() {\r\n      this.sizeForm3.tableData2 = [];\r\n      this.sizeForm3.options = this.ldcodes[\"RateType\"];\r\n      this.sizeForm3.selectValue = this.value;\r\n      //此处看一下字段取值的\r\n      for (let i = 0; i < this.sizeForm3.options.length; i++) {\r\n        this.sizeForm3.tableData2.push({\r\n          numID: i,\r\n          rateType: this.sizeForm3.options[i].code,\r\n          currency: '',\r\n          yearRateInput: '',\r\n          dayRateInput: '',\r\n          startRateDate: new Date(),\r\n          endRateDate: '9999-12-31'\r\n        });\r\n      }\r\n      let back4 = '';\r\n      let pdgenlAttrsInfo = {\r\n        attrsClass: '',\r\n        rateClass: '',\r\n        rateCurr: '',\r\n        rateType: '',\r\n        feeType: '',\r\n        attrVal: '',\r\n        grcPeriod: '',\r\n        riskType: '',\r\n        riskDetail: '',\r\n      }\r\n      pdgenlAttrsInfo.attrsClass = 'PI';\r\n      back4 = pdgenlAttrsInfoList(pdgenlAttrsInfo);\r\n      back4.then(response => {\r\n        if (response.code == 200 && response.data.length > 0) {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            for (let j = 0; j < this.sizeForm3.tableData2.length; j++) {\r\n              if (this.sizeForm3.tableData2[j].rateType == response.data[i].rateClass) {\r\n                if (response.data[i].rateType == 'Y') {\r\n                  this.sizeForm3.tableData2[j].currency = response.data[i].rateCurr;\r\n                  this.sizeForm3.tableData2[j].yearRateInput = response.data[i].attrVal;\r\n                }\r\n                if (response.data[i].rateType == 'D') {\r\n                  this.sizeForm3.tableData2[j].currency = response.data[i].rateCurr;\r\n                  this.sizeForm3.tableData2[j].dayRateInput = response.data[i].attrVal;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delRateRow(index, row) {\r\n      this.sizeForm3.tableData2.splice(index, 1);\r\n    },\r\n    addRateRow() {\r\n      this.sizeForm3.tableData2.push({\r\n        numID: '',\r\n        rateType: '',\r\n        rate: '',\r\n        startRateDate: new Date(),\r\n        endRateDate: '9999-12-31',\r\n      });\r\n    },\r\n    deletePreservation(row){\r\n      deletePreservation(this.buildRequestData({pdtempPdPaInfo:row})).then(res=>{\r\n        this.notifySuccess(res.message);\r\n        this.$refs.page.reload();\r\n        this.findChoosePreservation();\r\n      })\r\n    },\r\n    backToMenu(flag){\r\n      if(flag){\r\n        this.showPreservation = false;\r\n        this.$refs.page.reload();\r\n        this.findChoosePreservation();\r\n      }\r\n    },\r\n    findChoosePreservation(){\r\n      this.selPO = [];\r\n      let back5 = '';\r\n      back5 = pdtempPdPaInfoList(this.sizeForm1.id);\r\n      back5.then(response => {\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          this.selPO.push(\r\n          response.data[i].pdPaInfoId + ':' + response.data[i].paCode + ':' + response.data[i].paName\r\n          );\r\n        }\r\n      });\r\n    },\r\n    findDefaultPa(val){\r\n      this.defaultSelPo = []\r\n      if(this.sizeForm2.designType){\r\n        getPaDesType(this.sizeForm2.designType).then(res=>{\r\n          res.data.forEach(data=>{\r\n            if(val === 'P'&&data.pdAttr==='1'){\r\n              this.defaultSelPo.push(data.id+':'+data.pdPaCode+':'+data.pdPaName)\r\n            }else if(val === 'G'&&data.pdAttr==='2'){\r\n              this.defaultSelPo.push(data.id+':'+data.pdPaCode+':'+data.pdPaName)\r\n            }\r\n          })\r\n        })\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    preservationTable:function(){\r\n      if(this.preservationTable.length){\r\n        this.rules.selfCushionType = [];\r\n        this.preservationTable.forEach(val=>{\r\n          if(val.paName.indexOf(\"自动垫缴\")!==-1){\r\n            this.rules.selfCushionType.push({required: true, message: this.$t('ProductAttributeDefinition.selfCushionType'), trigger: 'blur'})\r\n          }\r\n          if(val.paCode==='LN'){\r\n            this.sizeForm2.mortgageMark = 'Y'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    'sizeForm1.pdName'() {\r\n      if (this.sizeForm1.pdName) {\r\n        var srr = this.sizeForm1.pdName;\r\n        if (srr.match(\"人寿\") != null) {\r\n          let mm = srr.substring(srr.indexOf('人寿') + 2, srr.length);\r\n          this.sizeForm1.pdShortname = mm;\r\n        } else {\r\n          this.sizeForm1.pdShortname = srr;\r\n        }\r\n      }\r\n    },\r\n    'sizeForm2.finelinesRegion'() {\r\n      let val = this.sizeForm2.finelinesRegion\r\n      if (val == 'H01') {\r\n        this.medicalTreatmentTypeShow = true\r\n        this.medicalTreatmentTypeFilter = '1$1$2$3$4$5$'\r\n      } else {\r\n        this.medicalTreatmentTypeShow = false\r\n      }\r\n      if (val == 'L01' || val == 'L02' || val == 'L03' || val == 'R01' || val == 'R02' || val == 'H02') {\r\n        this.sizeForm2.selfCushionFlag = 'Y'\r\n        this.sizeForm2.selfCushionType = '1'\r\n      }\r\n      if (val == 'L01') {\r\n        this.sizeForm2.longAndShortInsurance = '1'\r\n      }\r\n      if (val == 'L02') {\r\n        this.sizeForm2.longAndShortInsurance = '0'\r\n      }\r\n    },\r\n    'sizeForm2.reminderMark'() {\r\n      this.sizeForm2.renewalChargeMark = this.sizeForm2.reminderMark\r\n    },\r\n    'sizeForm2.groupFlag'() {\r\n      this.poOptions = [];\r\n      let val = this.sizeForm2.groupFlag\r\n      let num = 0;\r\n      if (val == 'P') {\r\n        for (num = 0; num < this.poOptionsCopy.length; num++) {\r\n          if (this.poOptionsCopy[num].pdAttr == '1') {\r\n            this.poOptions.push(this.poOptionsCopy[num]);\r\n          }\r\n        }\r\n      } else if (val == 'G') {\r\n        for (num = 0; num < this.poOptionsCopy.length; num++) {\r\n          if (this.poOptionsCopy[num].pdAttr == '2') {\r\n            this.poOptions.push(this.poOptionsCopy[num]);\r\n          }\r\n        }\r\n      } else {\r\n        this.poOptions = this.poOptionsCopy\r\n      }\r\n    },\r\n    'sizeForm2.insurancePeriod'() {\r\n      const _demo = this.sizeForm2.insurancePeriod\r\n      if (_demo == 'L') {\r\n        if (this.sizeForm2.renewalChargeMark == 'N') {\r\n          this.sizeForm2.renewalChargeMark = 'Y';\r\n        }\r\n        if (this.sizeForm2.reminderMark == 'N') {\r\n          this.sizeForm2.reminderMark = 'Y';\r\n        }\r\n        this.sizeForm2.selfCushionType = '1';\r\n      } else {\r\n        this.sizeForm2.reminderMark = 'Y';\r\n        // this.sizeForm2.selfCushionType = '';\r\n      }\r\n    },\r\n    //保全标记\r\n    'sizeForm2.preservationMark'() {\r\n      const val = this.sizeForm2.preservationMark\r\n      if (val == 'N') {\r\n        this.selPO = []\r\n      }\r\n    },\r\n    //保全项目\r\n    'selPO'() {\r\n      let val = this.selPO\r\n      this.sizeForm2.loanMark = 'N'\r\n      this.sizeForm2.reductionAndSettlementMark = 'N'\r\n      this.rules.selfCushionType = [{required: false}]\r\n      for (const item of val) {\r\n        const val2 = this.getCaption(item, 1)\r\n\r\n        if (val2.indexOf(\"自动垫缴\")!==-1) {\r\n          this.rules.selfCushionType = [{\r\n            required: true,\r\n            message: this.$t('ProductAttributeDefinition.selfCushionType'),\r\n            trigger: 'change'\r\n          }]\r\n        } else if (val2 == 'JK') {\r\n          this.sizeForm2.loanMark = 'Y'\r\n        } else if (val2 == 'PU') {\r\n          this.sizeForm2.reductionAndSettlementMark = 'Y'\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n    // 根据产品设计类型打开分红标记\r\n    'sizeForm2.designType'() {\r\n      //根据产品设计类型查找通用保全项\r\n      this.rules.bonusType = []\r\n      this.rules.dividendCollectionType = []\r\n      const val = this.sizeForm2.designType\r\n      this.findDefaultPa(this.sizeForm2.groupFlag);\r\n      if (val == '2') {\r\n        this.sizeForm2.investmentMark = 'Y'\r\n      } else {\r\n        this.sizeForm2.investmentMark = 'N'\r\n      }\r\n      if (val == '1') {\r\n        this.sizeForm2.bonusMark = 'Y'\r\n        this.rules.bonusType.push({required: true, message: this.$t('ProductAttributeDefinition.bonusType'), trigger: 'blur'})\r\n        this.rules.dividendCollectionType.push({required: true,message: this.$t('ProductAttributeDefinition.dividendCollectionType'),trigger: 'blur'})\r\n      } else {\r\n        this.sizeForm2.bonusMark = 'N'\r\n      }\r\n    },\r\n    //分红标记\r\n    'sizeForm2.bonusType'() {\r\n      const val = this.sizeForm2.bonusType;\r\n      if (val == '') {\r\n        this.sizeForm2.bonusMark = 'N'\r\n        this.sizeForm2.dividendCollectionType = [];\r\n      } else {\r\n        this.sizeForm2.bonusMark = 'Y'\r\n      }\r\n    },\r\n    //自动垫缴标记\r\n    'sizeForm2.selfCushionType'() {\r\n      const val = this.sizeForm2.selfCushionType;\r\n      if (val == '') {\r\n        this.sizeForm2.selfCushionFlag = 'N';\r\n      } else {\r\n        this.sizeForm2.selfCushionFlag = 'Y';\r\n      }\r\n\r\n    },\r\n\r\n    //共保类型标记\r\n    'sizeForm2.reinsuranceMark'() {\r\n      const val = this.sizeForm2.reinsuranceMark;\r\n      if (val == '') {\r\n        this.sizeForm2.coInsuranceMark = 'N';\r\n      } else {\r\n        this.sizeForm2.coInsuranceMark = 'Y';\r\n      }\r\n    },\r\n    //自动展期标记\r\n    'sizeForm2.extensionType'() {\r\n      const val = this.sizeForm2.extensionType;\r\n      if (val == '') {\r\n        this.sizeForm2.extensionFlag = 'N';\r\n      } else {\r\n        this.sizeForm2.extensionFlag = 'Y';\r\n      }\r\n    },\r\n    'sizeForm2.longAndShortInsurance'() {\r\n      const val = this.sizeForm2.longAndShortInsurance\r\n      if (val == '0') {\r\n        this.sizeForm2.insurancePeriod = ''\r\n        this.rules.insurancePeriod = [{required: false}]\r\n        this.sizeForm1.pdEndPeriod = 999;\r\n        this.sizeForm1.pdEndPeriodUnit = 'A'\r\n        this.sizeForm1.guaranteePeriod = '999'\r\n      } else {\r\n        this.sizeForm1.guaranteePeriod = ''\r\n        this.rules.insurancePeriod = [{\r\n          required: true,\r\n          message: this.$t('ProductAttributeDefinition.message11'),\r\n          trigger: 'change'\r\n        }]\r\n        this.sizeForm1.pdEndPeriodUnit = 'Y'\r\n\r\n      }\r\n    },\r\n    'sizeForm2.typeRegion'() {\r\n      if (this.sizeForm2.typeRegion == 'H' && this.sizeForm2.finelinesRegion == 'H01') {\r\n        this.medicalTreatmentTypeShow = true;\r\n      } else {\r\n        this.sizeForm2.medicalTreatmentType = '';\r\n        this.medicalTreatmentTypeShow = false;\r\n      }\r\n\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'ldcodes'\r\n    ])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.productRatio{\r\n  .el-form-item {\r\n    margin-bottom: 0px;\r\n  }\r\n}\r\n\r\n\r\n.el-row {\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.el-col {\r\n  border-radius: 0;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.template {\r\n  color: #FFFFFF;\r\n}\r\n\r\n.showDiv {\r\n  width: 90%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\taskAssignment.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\wecom-login\\wecom-dashboard\\wecomlist\\taskAssignment.vue","mtime":1609847107220},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1706753188288},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1706753191924},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\postcss-loader\\src\\index.js","mtime":1706753189537},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1706753187424},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQoucmVjZWl2YWJsZUxpc3QtdmFudCB7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjIxLCAyMzEsIDIzMSwgMC45MzMpOw0KDQogIC5yZWNlaXZhYmxlTGlzdC12YW50LWl0ZW0gew0KICAgIG1hcmdpbjogOHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCg0KICAgIC5pdGVtLXRleHQgew0KICAgICAgcGFkZGluZzogMCAxNnB4Ow0KICAgIH0NCg0KICAgIC5pdGVtLXRleHQ6bm90KDpsYXN0LWNoaWxkKTo6YWZ0ZXIgew0KICAgICAgYm9yZGVyOiAwcHggIWltcG9ydGFudDsNCiAgICB9DQoNCiAgICAuaXRlbS10ZXh0Om50aC1jaGlsZCgyKSB7DQogICAgICBwYWRkaW5nLXRvcDogNXB4Ow0KICAgIH0NCg0KICAgIC5pdGVtLXRleHQ6bnRoLWNoaWxkKDQpIHsNCiAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7DQogICAgfQ0KDQogICAgLnJlY2VpdmFibGVMaXN0LXZhbnQtYnRucyB7DQogICAgICBtYXJnaW4tdG9wOiAxcHg7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KDQogICAgICBidXR0b24gew0KICAgICAgICBib3JkZXI6IDBweDsNCiAgICAgIH0NCg0KICAgICAgYnV0dG9uICsgYnV0dG9uIHsNCiAgICAgICAgbWFyZ2luLWxlZnQ6IDU1cHg7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgLnJlY2VpdmFibGVMaXN0LWFkZEJ0biB7DQogICAgcG9zaXRpb246IGZpeGVkOw0KICAgIHJpZ2h0OiAxMHB4Ow0KICAgIGJvdHRvbTogNTBweDsNCiAgICBib3JkZXItcmFkaXVzOiA1MHB4Ow0KICAgIHdpZHRoOiA2MHB4Ow0KICAgIGhlaWdodDogNjBweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIH0NCn0NCg0K"},{"version":3,"sources":["taskAssignment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4PA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"taskAssignment.vue","sourceRoot":"src/views/wecom-login/wecom-dashboard/wecomlist","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n\r\n    <van-dropdown-menu active-color=\"#2C40A6\">\r\n      <van-dropdown-item v-model=\"params.taskName\" :options=\"taskOptions\" />\r\n      <van-dropdown-item title=\"筛选\" ref=\"item\">\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.userCode\" clearable :label=\"$t('i18nView.transactor')\" :placeholder=\"$t('form.please_enter')\" />\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdName\" clearable :label=\"$t('i18nView.pdName')\" :placeholder=\"$t('form.please_enter')\" />\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n          <van-field v-model=\"params.pdCode\" clearable :label=\"$t('i18nView.pdCode')\" :placeholder=\"$t('form.please_enter')\" />\r\n        </van-cell-group>\r\n        <div style=\"padding: 5px 16px;\">\r\n          <van-button  color=\"#2C40A6\" size=\"small\" block round @click=\"onConfirm\">\r\n            {{$t('confirmMessage.confirm')}}\r\n          </van-button>\r\n        </div>\r\n      </van-dropdown-item>\r\n    </van-dropdown-menu>\r\n\r\n    <van-pull-refresh v-model=\"isDownLoading\" @refresh=\"onDownRefresh\" style=\"margin-bottom: 60px;\" v-if=\"!showmsg\">\r\n      <van-list\r\n        v-model=\"isUpLoading\"\r\n        :finished=\"upFinished\"\r\n        :immediate-check=\"false\"\r\n        :offset=\"10\"\r\n        finished-text=\"我是有底线的\"\r\n        @load=\"onLoadList\"\r\n      >\r\n        <van-row>\r\n          <van-col span=\"24\" class=\"receivableList-vant\">\r\n            <van-row\r\n              class=\"receivableList-vant-item\"\r\n              v-for=\"(item, i) in datas\"\r\n              :key=\"i\"\r\n            >\r\n              <van-cell-group>\r\n                <van-cell title=\"任务名称\" :value=\"item.taskName\"/>\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品名称\"\r\n                  :value=\"item.pdName\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品编码\"\r\n                  :value=\"item.pdCode\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品版别\"\r\n                  :value=\"item.pdEdition\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"产品形态\"\r\n                  :value=\"filterCodeTypeHandler('pdAuditType', item.defType)\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"办理人\"\r\n                  :value=\"item.assignName\"\r\n                />\r\n                <van-cell\r\n                  class=\"item-text\"\r\n                  title=\"分配日期\"\r\n                  :value=\"item.changeDate\"\r\n                />\r\n              </van-cell-group>\r\n              <van-row class=\"receivableList-vant-btns\">\r\n                <van-button\r\n                  plain\r\n                  color=\"#2C40A6\"\r\n                  @click=\"handleDetail(item)\"\r\n                >\r\n                  {{$t('i18nView.searchPrograse')}}\r\n                </van-button>\r\n                <van-button\r\n                  plain\r\n                  color=\"#2C40A6\"\r\n                  @click=\"handleAssign(item)\"\r\n                >\r\n                  {{$t('i18nView.allocateTask')}}\r\n                </van-button>\r\n              </van-row>\r\n            </van-row>\r\n          </van-col>\r\n        </van-row>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n\r\n\r\n    <van-panel\r\n      v-show=\"showmsg\"\r\n      title=\"表格状态\"\r\n      desc=\"当前没有可分配任务\"></van-panel>\r\n\r\n    <cus-pagination :autoBuild=\"false\" v-show=\"false\" :pageSize=\"5\" :refreshDone=\"refreshDone\" :params=\"params\"\r\n                    ref=\"page\"\r\n                    url=\"/workflow/queryAssignedTask\"\r\n                    v-model=\"configs\"/>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapGetters } from 'vuex'\r\n\r\nimport Vue from 'vue'\r\nimport { Col, Row, PullRefresh, List, Button, CellGroup, Cell,DropdownMenu, DropdownItem,Toast,Field,Panel } from 'vant'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nVue.use(Field);\r\nVue.use(Panel);\r\nVue.use(DropdownMenu);\r\nVue.use(DropdownItem);\r\n\r\nVue.use(CellGroup)\r\nVue.use(Cell)\r\nVue.use(Button)\r\nVue.use(Col)\r\nVue.use(List)\r\nVue.use(Row)\r\nVue.use(PullRefresh)\r\n\r\nexport default {\r\n  name: 'taskAssignment',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      configs: [],\r\n      datas: [],\r\n      params: {\r\n        userCode: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: '',\r\n        taskName: ''\r\n      },\r\n      showmsg: false,\r\n      enableAdd: false,\r\n      total: 0,\r\n      isDownLoading: false, // 下拉刷新\r\n      isUpLoading: false, // 上拉加载\r\n      upFinished: false // 上拉加载完毕\r\n      ,\r\n      taskOptions: [{ text: '全部任务', value: '' },{ text: '产品框架定义', value: '产品框架定义' },\r\n        { text: '产品销售定义', value: '产品销售定义' },\r\n        { text: '产品核赔定义', value: '产品核赔定义' },\r\n        { text: '产品保全定义', value: '产品保全定义' },\r\n        { text: '产品续期续保定义', value: '产品续期续保定义' },\r\n        { text: '产品核保定义', value: '产品核保定义' },\r\n        { text: '产品承保定义', value: '产品承保定义' },\r\n        { text: '产品审核', value: '产品审核' },\r\n        { text: '产品发布', value: '产品发布' }],\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    this.$refs.page.buildData()\r\n  },\r\n  methods: {\r\n    filterCodeTypeHandler(codetype, value) {\r\n      return this.getCodeName(codetype, value, true)\r\n    },\r\n    handleDetail(row){\r\n      this.cacheJsonData('phone-pdInfo', row)\r\n      this.cacheStrData('active', 'TaskAssignment')\r\n      this.$router.push({ path: \"/process\", params:{}});\r\n    },\r\n    handleAssign(row){\r\n      this.cacheJsonData('phone-pdInfo', row)\r\n      this.cacheStrData('active', 'TaskAssignment')\r\n      this.$router.push({ path: \"/assign\", params:{}});\r\n    },\r\n    onConfirm() {\r\n      this.$refs.item.toggle();\r\n      this.datas = []\r\n      this.$refs.page.page = 1\r\n      this.$refs.page.buildData()\r\n    },\r\n    refreshDone(data) {\r\n      this.showmsg = false\r\n      this.upFinished = false\r\n      const rows = data.records\r\n      if (rows == null || rows.length === 0) {\r\n        // 加载结束\r\n        this.upFinished = true\r\n        if (this.datas == null || this.datas.length == 0) {\r\n          this.showmsg = true\r\n        }\r\n        return\r\n      }\r\n      if (rows.length < 5) {\r\n        // 最后一页不足10条的情况\r\n        this.upFinished = true\r\n      }\r\n      // 处理数据\r\n      if (this.$refs.page.page === 1) {\r\n        this.datas = rows\r\n      } else {\r\n        this.datas = this.datas.concat(rows)\r\n      }\r\n\r\n      this.isDownLoading = false;\r\n      this.isUpLoading = false;\r\n    },\r\n    //瀑布流效果\r\n    onLoadList() {\r\n      if (this.datas.length >= 5) {\r\n        this.$refs.page.page++\r\n      }\r\n      this.$refs.page.buildData().then(() =>{\r\n        this.isUpLoading = false\r\n      })\r\n\r\n    },\r\n    onDownRefresh() {\r\n      this.$refs.page.page = 1\r\n      this.upFinished = false // 不写这句会导致你上拉到底过后在下拉刷新将不能触发下拉加载事件\r\n      this.$refs.page.buildData().then(() => {\r\n        this.isDownLoading = false\r\n        Toast('刷新成功')\r\n      })\r\n        .catch(() => {\r\n          Toast('刷新失败')\r\n        }) // 加载数据\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n\r\n.receivableList-vant {\r\n  background-color: rgba(221, 231, 231, 0.933);\r\n\r\n  .receivableList-vant-item {\r\n    margin: 8px;\r\n    border-radius: 20px;\r\n    overflow: hidden;\r\n\r\n    .item-text {\r\n      padding: 0 16px;\r\n    }\r\n\r\n    .item-text:not(:last-child)::after {\r\n      border: 0px !important;\r\n    }\r\n\r\n    .item-text:nth-child(2) {\r\n      padding-top: 5px;\r\n    }\r\n\r\n    .item-text:nth-child(4) {\r\n      padding-bottom: 5px;\r\n    }\r\n\r\n    .receivableList-vant-btns {\r\n      margin-top: 1px;\r\n      text-align: center;\r\n      background-color: #fff;\r\n\r\n      button {\r\n        border: 0px;\r\n      }\r\n\r\n      button + button {\r\n        margin-left: 55px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .receivableList-addBtn {\r\n    position: fixed;\r\n    right: 10px;\r\n    bottom: 50px;\r\n    border-radius: 50px;\r\n    width: 60px;\r\n    height: 60px;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\commonpa\\commonpa-info-item-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\business-general-conf\\commonpa\\commonpa-info-item-def\\index.vue","mtime":1609847106569},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7ZGVsZXRlUGRQYU1lc3NhZ2UsIHNhdmVQZFBhTWVzc2FnZX0gZnJvbSAiQC9hcGkvYmFzaWNpbmZvL2NvbW1vbnBhaW5mb2l0ZW1kZWYiDQoNCmxldCBfdGhpcw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJjb21tb25QYUluZm9JdGVtIiwNCiAgZmlsdGVyczogew0KICAgIGZpbHRlcl9wZFBhTXNUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRQYU1zVHlwZScsIGNvZGUpDQogICAgfSwNCiAgICBmaWx0ZXJfcGRQYU1zSW5wdXRUeXBlKGNvZGUpIHsNCiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRQYU1zSW5wdXRUeXBlJywgY29kZSkNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgX3RoaXMgPSB0aGlzDQogICAgY29uc3QgdmFsaWRhdGVQZFBhTWVzc0NvZGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAoIXZhbHVlKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcih0aGlzLiR0KCdmb3JtLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgnY29tbW9uUGFJbmZvSXRlbS5wZFBhTXNDb2RlJykpKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKCEvXltBLVphLXowLTldKyQvLnRlc3QodmFsdWUpKSB7DQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKFN0cmluZyh0aGlzLiR0KCdjb21tb25QYUluZm9JdGVtLnBkUGFNZXNzQ29kZU1lc3NhZ2UnKSkpKQ0KICAgICAgICB9DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlRGF0YVBhSW5mb0l0ZW06IFtdLA0KICAgICAgdGFibGVEYXRhU2VsZWN0OiBbXSwNCiAgICAgIHNlbGVjdGVkUGFJbmZvSXRlbToge30sDQogICAgICBtYXJrU2hvdzogZmFsc2UsDQogICAgICBmb3JtX3BhSW5mb0l0ZW06IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICBvcGVyYXRvcjogJycsDQogICAgICAgIHBkVmVySWQ6ICcnLA0KICAgICAgICBwZEluZm9JZDogJycsDQogICAgICAgIHBkQ29kZTogJycsDQogICAgICAgIHBkUGFNZXNzQ29kZTogJycsDQogICAgICAgIHBkUGFNZXNzTmFtZTogJycsDQogICAgICAgIHBkUGFNZXNzRGVzYzogJycsDQogICAgICAgIHBkUGFNZXNzVHlwZTogJycsDQogICAgICAgIHBkUGFNZXNzSW5wdXRUeXBlOiAnJywNCiAgICAgICAgcGRQYU1zSW5wdXRUeXBlOiAnJywNCiAgICAgICAgY3JlYXRlVGltZTogJycsDQogICAgICAgIHVwZGF0ZVRpbWU6ICcnDQogICAgICB9LA0KICAgICAgcnVsZXNfcGFJbmZvSXRlbTogew0KICAgICAgICBwZFBhTWVzc0NvZGU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScsDQogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBkUGFNZXNzQ29kZQ0KICAgICAgICB9XSwNCiAgICAgICAgcGRQYU1lc3NOYW1lOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdjb21tb25QYUluZm9JdGVtLnBkUGFNc05hbWUnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgICAgcGRQYU1lc3NJbnB1dFR5cGU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdjb21tb25QYUluZm9JdGVtLnBkUGFNc1R5cGUnKSwNCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgICB9XSwNCiAgICAgICAgcGRQYU1lc3NEZXNjOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2Zvcm0ucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdjb21tb25QYUluZm9JdGVtLnBkUGFNc0V4cGxhbmF0aW9uJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0sDQogICAgICAgIHBkUGFNc0lucHV0VHlwZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ2NvbW1vblBhSW5mb0l0ZW0ucGRQYU1zSW5wdXRUeXBlJyksDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgICAgfV0NCiAgICAgIH0sDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQoNCiAgfSwNCiAgY29tcHV0ZWQ6IHt9LA0KICBtZXRob2RzOiB7DQogICAgc2VsZWN0ZWRQYUluZm9JdGVtQ2hhbmdlZCh2YWwpIHsNCiAgICAgIHRoaXMucmVzZXRGb3JtUGFJbmZvSXRlbSgpDQogICAgICB0aGlzLnRhYmxlRGF0YVNlbGVjdCA9IFtdDQogICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9wYUluZm9JdGVtLCB2YWwpDQogICAgICBpZiAodmFsLnBkUGFNZXNzVHlwZSA9PT0gJzInKSB7DQogICAgICAgIGZvciAoY29uc3QgbGRjb2RlIG9mIHZhbC5sZGNvZGVMaXN0KSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGFTZWxlY3QucHVzaChsZGNvZGUpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJvd0NsaWNrX3BhSW5mb0l0ZW0ocm93LCBjb2x1bW4sIGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7DQogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRQYUluZm9JdGVtLmlkKSB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZFBhSW5mb0l0ZW0gPSB7fQ0KICAgICAgICAgIHRoaXMucmVzZXRGb3JtUGFJbmZvSXRlbSgpDQogICAgICAgICAgdGhpcy50YWJsZURhdGFTZWxlY3QgPSBbXQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBkZWxldGVQYUluZm9JdGVtKHJvdykgew0KICAgICAgZGVsZXRlUGRQYU1lc3NhZ2Uocm93KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKQ0KICAgICAgICB0aGlzLnJlZnJlc2goKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFkZFNlbGVjdCgpIHsNCiAgICAgIHRoaXMudGFibGVEYXRhU2VsZWN0LnB1c2goe30pDQogICAgfSwNCiAgICBkZWxldGVTZWxlY3Qocm93KSB7DQogICAgICB0aGlzLnRhYmxlRGF0YVNlbGVjdC5zcGxpY2UodGhpcy50YWJsZURhdGFTZWxlY3QuaW5kZXhPZihyb3cpLCAxKQ0KICAgIH0sDQogICAgYmFjaygpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2RpYWxvZ0Nsb3NlZCcpDQogICAgfSwNCiAgICBoYW5kbGVTYXZlUGFJbmZvSXRlbSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9wYUluZm9JdGVtLnZhbGlkYXRlKHBhc3MgPT4gew0KICAgICAgICBpZiAocGFzcykgew0KICAgICAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICAgICAgcGRQYU1lc3NhZ2U6IHRoaXMuZm9ybV9wYUluZm9JdGVtLA0KICAgICAgICAgICAgbGRjb2RlTGlzdDogW10NCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHRoaXMuZm9ybV9wYUluZm9JdGVtLnBkUGFNZXNzVHlwZSA9PT0gJzInKSB7DQogICAgICAgICAgICAvLyDkuIvmi4npgIkNCiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YVNlbGVjdC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdjb21tb25QYUluZm9JdGVtLnBsZWFzZURlZmluZU9wdGlvbkNvbnRlbnQnKSkNCiAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmZvcm1fcGFJbmZvSXRlbS5wZFBhTXNJbnB1dFR5cGUgPSB1bmRlZmluZWQNCiAgICAgICAgICAgIHBhcmFtLmxkY29kZUxpc3QgPSB0aGlzLnRhYmxlRGF0YVNlbGVjdA0KICAgICAgICAgICAgc2F2ZVBkUGFNZXNzYWdlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbGRjb2RlL3VwZGF0ZVNlbGVjdCcpDQogICAgICAgICAgICAgIHRoaXMubm90aWZ5U3VjY2Vzcyh0aGlzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpDQogICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtX3BhSW5mb0l0ZW0ucGRQYU1lc3NUeXBlID09PSAnMScpIHsNCiAgICAgICAgICAgIC8vIOWNleihjOaWh+acrA0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGFTZWxlY3QgPSBbXQ0KICAgICAgICAgICAgc2F2ZVBkUGFNZXNzYWdlKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKQ0KICAgICAgICAgICAgICB0aGlzLm1hcmtTaG93ID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgcmVmcmVzaCgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGFnZV9wYUluZm9JdGVtLnJlbG9hZCgpDQogICAgICB0aGlzLnJlc2V0Rm9ybVBhSW5mb0l0ZW0oKQ0KICAgICAgdGhpcy5zZWxlY3RlZFBhSW5mb0l0ZW0gPSB7fQ0KICAgICAgdGhpcy50YWJsZURhdGFTZWxlY3QgPSBbXQ0KICAgIH0sDQogICAgcmVzZXRGb3JtUGFJbmZvSXRlbSgpIHsNCiAgICAgIHRoaXMuZm9ybV9wYUluZm9JdGVtID0gew0KICAgICAgICBpZDogJycsDQogICAgICAgIG9wZXJhdG9yOiAnJywNCiAgICAgICAgcGRWZXJJZDogJycsDQogICAgICAgIHBkSW5mb0lkOiAnJywNCiAgICAgICAgcGRDb2RlOiAnJywNCiAgICAgICAgcGRQYU1lc3NDb2RlOiAnJywNCiAgICAgICAgcGRQYU1lc3NOYW1lOiAnJywNCiAgICAgICAgcGRQYU1lc3NEZXNjOiAnJywNCiAgICAgICAgcGRQYU1lc3NUeXBlOiAnJywNCiAgICAgICAgcGRQYU1zSW5wdXRUeXBlOiAnJywNCiAgICAgICAgY3JlYXRlVGltZTogJycsDQogICAgICAgIHVwZGF0ZVRpbWU6ICcnDQogICAgICB9DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9wYUluZm9JdGVtLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/business-general-conf/commonpa/commonpa-info-item-def","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back :isDialog=\"true\" :label=\"$t('commonPaInfoItem.paItemDef')\"\r\n                         @backTo=\"back\"></cus-page-title-back>\r\n    <cus-table-title :label=\"$t('commonPaInfoItem.tableName')\"></cus-table-title>\r\n    <el-table :data=\"tableDataPaInfoItem\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n              size=\"mini\" @row-click=\"rowClick_paInfoItem\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedPaInfoItem\" @change=\"selectedPaInfoItemChanged\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_paInfoItem', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('commonPaInfoItem.pdPaMsName')\" align=\"center\" prop=\"pdPaMessName\"\r\n                       sortable></el-table-column>\r\n      <el-table-column :label=\"$t('commonPaInfoItem.pdPaMsExplanation')\" align=\"center\" prop=\"pdPaMessDesc\"\r\n                       sortable></el-table-column>\r\n      <el-table-column :label=\"$t('commonPaInfoItem.pdPaMsType')\" align=\"center\" prop=\"pdPaMessType\" sortable>\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.pdPaMessType | filter_pdPaMsType }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('commonPaInfoItem.pdPaMsOptions')\" align=\"center\" sortable>\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.pdPaMessType === '2'\">\r\n            <span v-for=\"ldcode in scope.row.ldcodeList\" v-if=\"scope.row.ldcodeList.length > 0\">\r\n              {{ ldcode.code + ':' + ldcode.codeName }}\r\n              <span v-if=\"scope.row.ldcodeList.indexOf(ldcode) !== scope.row.ldcodeList.length - 1\">,</span>\r\n            </span>\r\n          </span>\r\n          <span v-else>\r\n            {{ scope.row.pdPaMessInputType | filter_pdPaMsInputType }}\r\n          </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-popover :content=\"$t('confirmMessage.delete')\" icon=\"el-icon-delete\"\r\n                       size=\"mini\" type=\"danger\" @confirm=\"deletePaInfoItem(scope.row)\"></cus-popover>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page_paInfoItem\" v-model=\"tableDataPaInfoItem\" :pageSize=\"10\" :params=\"undefined\"\r\n                    url=\"/common-pd-pa-info-item-def/base/list\"/>\r\n\r\n    <cus-form-title :label=\"$t('commonPaInfoItem.paItemDef')\"></cus-form-title>\r\n    <el-form ref=\"form_paInfoItem\" :model=\"form_paInfoItem\" :rules=\"rules_paInfoItem\"\r\n             label-position=\"right\" label-width=\"150px\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaInfoItem.pdPaMsCode')\" prop=\"pdPaMessCode\">\r\n            <el-input v-model=\"form_paInfoItem.pdPaMessCode\" :disabled=\"Object.keys(selectedPaInfoItem).length > 0\"\r\n                      :placeholder=\"$t('pay_def.message.please_enter')\"\r\n                      clearable maxlength=\"20\"\r\n                      show-word-limit></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaInfoItem.pdPaMsName')\" prop=\"pdPaMessName\">\r\n            <el-input v-model=\"form_paInfoItem.pdPaMessName\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable\r\n                      maxlength=\"100\"\r\n                      show-word-limit></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaInfoItem.pdPaMsType')\" prop=\"pdPaMessType\">\r\n            <cus-select v-model=\"form_paInfoItem.pdPaMessType\" :codetype=\"'pdPaMsType'\"\r\n                        :disabled=\"Object.keys(selectedPaInfoItem).length > 0\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"16\">\r\n          <el-form-item :label=\"$t('commonPaInfoItem.pdPaMsExplanation')\" prop=\"pdPaMessDesc\">\r\n            <el-input v-model=\"form_paInfoItem.pdPaMessDesc\" :placeholder=\"$t('pay_def.message.please_enter')\" clearable\r\n                      maxlength=\"100\"\r\n                      show-word-limit></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col v-if=\"form_paInfoItem.pdPaMessType === '1'\" :span=\"8\">\r\n          <el-form-item :label=\"$t('commonPaInfoItem.pdPaMsInputType')\" prop=\"pdPaMessInputType\">\r\n            <cus-radio v-model=\"form_paInfoItem.pdPaMessInputType\" :codetype=\"'pdPaMsInputType'\"></cus-radio>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <div v-if=\"form_paInfoItem.pdPaMessType === '2'\">\r\n      <el-divider direction=\"vertical\"></el-divider>\r\n      <label>{{ $t('commonPaInfoItem.paItemOptionContent') }}</label>\r\n      <el-divider content-position=\"left\">\r\n        <i class=\"el-icon-s-grid\" style=\"margin-right: 5px\"></i>{{ $t('commonPaInfoItem.paItemOptionList') }}\r\n      </el-divider>\r\n      <el-table :data=\"tableDataSelect\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('commonPaInfoItem.code')\" align=\"center\" prop=\"code\" sortable>\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.code\" clearable style=\"width: 50%\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('commonPaInfoItem.codeName')\" align=\"center\" prop=\"codeName\" sortable>\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.codeName\" clearable style=\"width: 50%\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"deleteSelect(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button size=\"mini\" type=\"primary\" @click=\"addSelect\">+</el-button>\r\n    </div>\r\n\r\n    <el-row>\r\n      <div style=\"float: right\">\r\n        <el-button v-show=\"Object.keys(selectedPaInfoItem).length === 0\" v-auth=\"'common-pd-pa-info-item-def:save'\"\r\n                   size=\"small\" style=\"margin: 0 10px 0 0\"\r\n                   type=\"primary\" @click=\"handleSavePaInfoItem\">\r\n          <i class=\"el-icon-success el-icon--left\"></i>\r\n          {{ $t('table.save') }}\r\n        </el-button>\r\n        <el-button v-show=\"Object.keys(selectedPaInfoItem).length > 0\" v-auth=\"'common-pd-pa-info-item-def:save'\"\r\n                   size=\"small\" style=\"margin: 0 10px 0 0\"\r\n                   type=\"primary\" @click=\"handleSavePaInfoItem\">\r\n          <i class=\"el-icon-success el-icon--left\"></i>\r\n          {{ $t('table.update') }}\r\n        </el-button>\r\n        <el-button size=\"small\" style=\"margin: 0\" type=\"primary\" @click=\"refresh\">\r\n          <i class=\"el-icon-refresh el-icon--left\"></i>\r\n          {{ $t('table.refresh') }}\r\n        </el-button>\r\n      </div>\r\n    </el-row>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {deletePdPaMessage, savePdPaMessage} from \"@/api/basicinfo/commonpainfoitemdef\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: \"commonPaInfoItem\",\r\n  filters: {\r\n    filter_pdPaMsType(code) {\r\n      return _this.getCodeName('pdPaMsType', code)\r\n    },\r\n    filter_pdPaMsInputType(code) {\r\n      return _this.getCodeName('pdPaMsInputType', code)\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    const validatePdPaMessCode = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(this.$t('form.please_enter') + this.$t('commonPaInfoItem.pdPaMsCode')))\r\n      } else {\r\n        if (!/^[A-Za-z0-9]+$/.test(value)) {\r\n          callback(new Error(String(this.$t('commonPaInfoItem.pdPaMessCodeMessage'))))\r\n        }\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      tableDataPaInfoItem: [],\r\n      tableDataSelect: [],\r\n      selectedPaInfoItem: {},\r\n      markShow: false,\r\n      form_paInfoItem: {\r\n        id: '',\r\n        operator: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdPaMessCode: '',\r\n        pdPaMessName: '',\r\n        pdPaMessDesc: '',\r\n        pdPaMessType: '',\r\n        pdPaMessInputType: '',\r\n        pdPaMsInputType: '',\r\n        createTime: '',\r\n        updateTime: ''\r\n      },\r\n      rules_paInfoItem: {\r\n        pdPaMessCode: [{\r\n          required: true,\r\n          trigger: 'change',\r\n          validator: validatePdPaMessCode\r\n        }],\r\n        pdPaMessName: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('commonPaInfoItem.pdPaMsName'),\r\n          trigger: 'change'\r\n        }],\r\n        pdPaMessInputType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('commonPaInfoItem.pdPaMsType'),\r\n          trigger: 'change'\r\n        }],\r\n        pdPaMessDesc: [{\r\n          required: true,\r\n          message: this.$t('form.please_enter') + this.$t('commonPaInfoItem.pdPaMsExplanation'),\r\n          trigger: 'change'\r\n        }],\r\n        pdPaMsInputType: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('commonPaInfoItem.pdPaMsInputType'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    selectedPaInfoItemChanged(val) {\r\n      this.resetFormPaInfoItem()\r\n      this.tableDataSelect = []\r\n      Object.assign(this.form_paInfoItem, val)\r\n      if (val.pdPaMessType === '2') {\r\n        for (const ldcode of val.ldcodeList) {\r\n          this.tableDataSelect.push(ldcode)\r\n        }\r\n      }\r\n    },\r\n    rowClick_paInfoItem(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedPaInfoItem.id) {\r\n          this.selectedPaInfoItem = {}\r\n          this.resetFormPaInfoItem()\r\n          this.tableDataSelect = []\r\n        }\r\n      }\r\n    },\r\n    deletePaInfoItem(row) {\r\n      deletePdPaMessage(row).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.refresh()\r\n      })\r\n    },\r\n    addSelect() {\r\n      this.tableDataSelect.push({})\r\n    },\r\n    deleteSelect(row) {\r\n      this.tableDataSelect.splice(this.tableDataSelect.indexOf(row), 1)\r\n    },\r\n    back() {\r\n      this.$emit('dialogClosed')\r\n    },\r\n    handleSavePaInfoItem() {\r\n      this.$refs.form_paInfoItem.validate(pass => {\r\n        if (pass) {\r\n          const param = {\r\n            pdPaMessage: this.form_paInfoItem,\r\n            ldcodeList: []\r\n          }\r\n          if (this.form_paInfoItem.pdPaMessType === '2') {\r\n            // 下拉选\r\n            if (this.tableDataSelect.length === 0) {\r\n              this.notifyError(this.$t('commonPaInfoItem.pleaseDefineOptionContent'))\r\n              return\r\n            }\r\n            this.form_paInfoItem.pdPaMsInputType = undefined\r\n            param.ldcodeList = this.tableDataSelect\r\n            savePdPaMessage(this.buildRequestData(param)).then(() => {\r\n              this.$store.dispatch('ldcode/updateSelect')\r\n              this.notifySuccess(this.$t('successMessage.save'))\r\n              this.refresh()\r\n            })\r\n          } else if (this.form_paInfoItem.pdPaMessType === '1') {\r\n            // 单行文本\r\n            this.tableDataSelect = []\r\n            savePdPaMessage(this.buildRequestData(param)).then(() => {\r\n              this.notifySuccess(this.$t('successMessage.save'))\r\n              this.markShow = false\r\n              this.refresh()\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    refresh() {\r\n      this.$refs.page_paInfoItem.reload()\r\n      this.resetFormPaInfoItem()\r\n      this.selectedPaInfoItem = {}\r\n      this.tableDataSelect = []\r\n    },\r\n    resetFormPaInfoItem() {\r\n      this.form_paInfoItem = {\r\n        id: '',\r\n        operator: '',\r\n        pdVerId: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdPaMessCode: '',\r\n        pdPaMessName: '',\r\n        pdPaMessDesc: '',\r\n        pdPaMessType: '',\r\n        pdPaMsInputType: '',\r\n        createTime: '',\r\n        updateTime: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_paInfoItem.clearValidate()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\general-config\\gen-paInfo-conf\\pdgenlPaFormula\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\general-config\\gen-paInfo-conf\\pdgenlPaFormula\\index.vue","mtime":1609847106722},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfcGRnZW5sUGFJbmZvID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkZ2VubFBhSW5mbyIpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF90aGlzOwoKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdwZGdlbmxQYUZvcm11bGEnLAogIHByb3BzOiB7CiAgICBwZFBhSW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcGRCdXNzRGV0YWlsVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgTWFyazogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBtYXJrUnVsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9ydWxlQnVzc01vZHVEZXRhOiBmdW5jdGlvbiBmaWx0ZXJfcnVsZUJ1c3NNb2R1RGV0YShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICBmb3JtdWxhVmlldzogewogICAgICAgIGZsYWc6ICcnLAogICAgICAgIHBlcmZvcm1UeXBlOiAnJywKICAgICAgICBydWxlQ29kZTogJycsCiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgc2VsZWN0ZWRGb3JtdWxhOiBbXSwKICAgICAgcGFPcHRpb25zOiBbXSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcHJvZHVjdDogdW5kZWZpbmVkLAogICAgICAgIGxpa2VfcGRDYWxjQ29kZTogJycsCiAgICAgICAgcHJvZHVjdERldGFpbFR5cGU6ICcnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6ICcnLAogICAgICAgIGN1cnJlbnRfcGRQYUluZm86IHRoaXMucGRQYUluZm8sCiAgICAgICAgZXFfcGFJZDogdW5kZWZpbmVkLAogICAgICAgIE1hcms6ICcnCiAgICAgIH0sCiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIGJUeXBlOiAnJywKICAgICAgICBjVHlwZTogJycsCiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZEVkaXRpb246ICcnLAogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFNhbGVjaG5sOiAnJywKICAgICAgICBwZE5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRuYW1lOiAnJywKICAgICAgICBwZEVuTmFtZTogJycsCiAgICAgICAgcGRTaG9ydEVuTmFtZTogJycsCiAgICAgICAgb3BlcmF0b3I6ICcnLAogICAgICAgIHBkQXBwbERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBwZFByb2Nlc3NJZDogdW5kZWZpbmVkLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5NYXJrID09PSAncGQnKSB7CiAgICAgIHZhciBwZHRlbXBQZEluZm8gPSB0aGlzLmdldFBkRGF0YSgpOwoKICAgICAgaWYgKE9iamVjdC5rZXlzKHBkdGVtcFBkSW5mbykubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucHJvZHVjdCA9IHBkdGVtcFBkSW5mbzsKICAgICAgICB0aGlzLnBhcmFtcy5wcm9kdWN0ID0gcGR0ZW1wUGRJbmZvOwogICAgICAgIHRoaXMucGFyYW1zLk1hcmsgPSB0aGlzLk1hcms7CiAgICAgICAgdGhpcy5wYXJhbXMucHJvZHVjdERldGFpbFR5cGUgPSB0aGlzLnByb2R1Y3QuY1R5cGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdtZXNzYWdlLmludmFsaWRQcm9kdWN0SW5mbycpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0gLy8g5Yid5aeL5YyW5oyH5a6a5L+d5YWo6aG555uu5LiL5ouJCgoKICAgIHRoaXMucXVlcnlBbGxQYSgpOwogICAgdGhpcy5wYXJhbXMucGRCdXNzRGV0YWlsVHlwZSA9IHRoaXMucGRCdXNzRGV0YWlsVHlwZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJ1bGVNYWtlQ2xvc2VkOiBmdW5jdGlvbiBydWxlTWFrZUNsb3NlZCgpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgcXVlcnlBbGxQYTogZnVuY3Rpb24gcXVlcnlBbGxQYSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAoMCwgX3BkZ2VubFBhSW5mby5nZXRBbGxQYSkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIucGFPcHRpb25zID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dGb3JtdWxhOiBmdW5jdGlvbiBzaG93Rm9ybXVsYShyb3cpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5mbGFnID0gJzEnOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnJ1bGVDb2RlID0gcm93LnBkQ2FsY0NvZGU7CiAgICAgIHRoaXMuZm9ybXVsYVZpZXcudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYXNzb2NpYXRlOiBmdW5jdGlvbiBhc3NvY2lhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRGb3JtdWxhLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncGRnZW5sUGFGb3JtdWxhLnBsZWFzZVNlbGVjdEZvcm11bGEnKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbWFwID0gewogICAgICAgICJydWxlVHlwZSI6ICcyJywKICAgICAgICAiTWFyayI6IHRoaXMuTWFyaywKICAgICAgICAicGRJbmZvIjogdGhpcy5wcm9kdWN0LAogICAgICAgICJwZEJ1c3NEZXRhaWxUeXBlIjogdGhpcy5wZEJ1c3NEZXRhaWxUeXBlLAogICAgICAgICJwZGdlbmxQZFBhSW5mbyI6IHRoaXMucGRQYUluZm8sCiAgICAgICAgInBkdGVtcFBkUGFJbmZvVm8iOiB0aGlzLnBkUGFJbmZvLAogICAgICAgICJwZHRlbXBQZENhbGNWb0xpc3QiOiB0aGlzLnNlbGVjdGVkRm9ybXVsYQogICAgICB9OwogICAgICAoMCwgX3BkZ2VubFBhSW5mby5jb25uZWN0aW9uUnVsZSkodGhpcy5idWlsZFJlcXVlc3REYXRhKG1hcCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5ub3RpZnlTdWNjZXNzKF90aGlzMy4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSk7CgogICAgICAgIF90aGlzMy4kcmVmcy5wYWdlLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlhazlvI/liqjmgIHooajmoLzlpJrpgInmoYYKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHZhbDsKICAgIH0sCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZURpYWxvZ0Zvcm11bGEnKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back v-if=\"Mark !== 'pd'\" :isDialog=\"true\" :label=\"$t('pdgenlPaInfo.pdgenlPaInfo')\"\r\n                         @backTo=\"back\"></cus-page-title-back>\r\n    <cus-page-title-back v-if=\"Mark === 'pd'\" :isDialog=\"true\" :label=\"$t('pdgenlPaInfo.pdgenlPaFormula')\"\r\n                         @backTo=\"back\"></cus-page-title-back>\r\n\r\n    <el-form ref=\"searchForm\" :model=\"params\" label-width=\"auto\">\r\n      <cus-row :gutter=\"10\" type=\"flex\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdgenlPaInfo.designationSecurityProject')\" prop=\"eq_paId\">\r\n            <el-select v-model=\"params.eq_paId\" :placeholder=\"$t('form.please_select')\" clearable filterable>\r\n              <el-option v-for=\"item in paOptions\" :key=\"item.id\"\r\n                         :label=\"item.pdPaCode + ':' + item.pdPaName + (item.pdAttr==='1'?' - '+$t('pdgenlPaRule.personalInsurance'):' - '+$t('pdgenlPaRule.groupInsurance'))\"\r\n                         :value=\"item.id\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdBussDetailType')\" prop=\"pdBussDetailType\">\r\n            <cus-select v-model=\"params.pdBussDetailType\" codetype=\"ruleBusinessDetailClass\" disabled></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('rule.pdCalcCode')\" prop=\"like_pdCalcCode\">\r\n            <el-input v-model=\"params.like_pdCalcCode\" :placeholder=\"$t('pay_def.message.please_enter')\"\r\n                      clearable></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </cus-row>\r\n      <el-row :gutter=\"10\" type=\"flex\">\r\n        <el-col style=\"text-align: right\">\r\n          <el-button icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"$refs.page.reload()\">\r\n            {{ $t('pdgenlCmpnInfo.search') }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <cus-table-title :label=\"$t('pdgenlPaFormula.paFormula')\"></cus-table-title>\r\n    <el-table :data=\"tableData\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\"\r\n              @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.details')\" align=\"center\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.securityProject')\" align=\"center\" min-width=\"200\" prop=\"pdPaCode\"\r\n                       sortable>\r\n        <template slot-scope=\"scope\">\r\n          {{\r\n            scope.row.pdPaCode ? scope.row.pdPaCode + ':' + scope.row.pdPaName + (scope.row.pdAttr === '1' ? ' - ' + $t('pdgenlPaRule.personalInsurance') : ' - ' + $t('pdgenlPaRule.groupInsurance')) : ''\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdBussDetailType')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdBussDetailType | filter_ruleBussModuDeta }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\" prop=\"pdCalcCode\" sortable>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('rule.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                       prop=\"pdCalcDesc\"></el-table-column>\r\n      <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          {{\r\n            scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cus-pagination ref=\"page\" v-model=\"tableData\" :autoBuild=\"false\" :pageSize=\"5\" :params=\"params\"\r\n                    url=\"/pd-pa-info-general/selectFormula\"/>\r\n\r\n    <el-row style=\"text-align: right\" type=\"flex\">\r\n      <el-col :span=\"8\"></el-col>\r\n      <el-col :span=\"8\"></el-col>\r\n      <el-col :span=\"8\">\r\n        <el-button icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"associate\">\r\n          {{ $t('pdgenlPaInfo.select') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 公式查看弹窗 -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"ruleMakeClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {connectionRule, getAllPa} from \"@/api/basicinfo/pdgenlPaInfo\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'pdgenlPaFormula',\r\n  props: {\r\n    pdPaInfo: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    pdBussDetailType: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    Mark: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    markRule: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    }\r\n  },\r\n  filters: {\r\n    filter_ruleBussModuDeta(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      formulaView: {\r\n        flag: '',\r\n        performType: '',\r\n        ruleCode: '',\r\n        visible: false\r\n      },\r\n      tableData: [],\r\n      selectedFormula: [],\r\n      paOptions: [],\r\n      params: {\r\n        product: undefined,\r\n        like_pdCalcCode: '',\r\n        productDetailType: '',\r\n        pdBussDetailType: '',\r\n        current_pdPaInfo: this.pdPaInfo,\r\n        eq_paId: undefined,\r\n        Mark: ''\r\n      },\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if (this.Mark === 'pd') {\r\n      let pdtempPdInfo = this.getPdData()\r\n      if (Object.keys(pdtempPdInfo).length > 0) {\r\n        this.product = pdtempPdInfo\r\n        this.params.product = pdtempPdInfo\r\n        this.params.Mark = this.Mark\r\n        this.params.productDetailType = this.product.cType\r\n      } else {\r\n        this.notifyError(this.$t('message.invalidProductInfo'))\r\n        return\r\n      }\r\n    }\r\n    // 初始化指定保全项目下拉\r\n    this.queryAllPa()\r\n    this.params.pdBussDetailType = this.pdBussDetailType\r\n  },\r\n  methods: {\r\n    ruleMakeClosed() {\r\n      this.formulaView.visible = false\r\n    },\r\n    queryAllPa() {\r\n      getAllPa().then(res => {\r\n        this.paOptions = res.data\r\n      })\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.visible = true\r\n    },\r\n    associate() {\r\n      if (this.selectedFormula.length === 0) {\r\n        this.notifyError(this.$t('pdgenlPaFormula.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      let map = {\r\n        \"ruleType\": '2',\r\n        \"Mark\": this.Mark,\r\n        \"pdInfo\": this.product,\r\n        \"pdBussDetailType\": this.pdBussDetailType,\r\n        \"pdgenlPdPaInfo\": this.pdPaInfo,\r\n        \"pdtempPdPaInfoVo\": this.pdPaInfo,\r\n        \"pdtempPdCalcVoList\": this.selectedFormula\r\n      }\r\n      connectionRule(this.buildRequestData(map)).then(() => {\r\n        this.notifySuccess(this.$t('rule.associationSuccess'))\r\n        this.$refs.page.reload()\r\n      })\r\n    },\r\n    // 公式动态表格多选框\r\n    handleSelectionChange(val) {\r\n      this.selectedFormula = val\r\n    },\r\n    back() {\r\n      this.$emit('closeDialogFormula')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n"],"sourceRoot":"src/views/general-config/gen-paInfo-conf/pdgenlPaFormula"}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\store\\modules\\ruleCache.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\store\\modules\\ruleCache.js","mtime":1609847106479},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9ydWxlTWFrZSA9IHJlcXVpcmUoIkAvYXBpL2licm1zL3J1bGVNYWtlIik7Cgp2YXIgc3RhdGUgPSB7CiAgcnVsZUNhY2hlRGF0YToge30gLy8gbGRjb2RlCgp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9SVUxFQ0FDSEU6IGZ1bmN0aW9uIFNFVF9SVUxFQ0FDSEUoc3RhdGUsIGRhdGEpIHsKICAgIHN0YXRlLnJ1bGVDYWNoZURhdGEgPSBkYXRhOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy/ojrflj5bop4TliJnnvJPlrZjmlbDmja4KICBzdG9yYWdlUnVsZUNhY2hlOiBmdW5jdGlvbiBzdG9yYWdlUnVsZUNhY2hlKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAoMCwgX3J1bGVNYWtlLmdldFJ1bGVDYWNoZSkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBydWxlQ2FjaGVEYXRhID0ge307CiAgICAgICAgcnVsZUNhY2hlRGF0YS5ydWxlQm9tTGlzdCA9IHJlc3BvbnNlLmRhdGEucnVsZUJvbUxpc3Q7CiAgICAgICAgcnVsZUNhY2hlRGF0YS5ydWxlQm9tSXRlbUxpc3QgPSByZXNwb25zZS5kYXRhLnJ1bGVCb21JdGVtTGlzdDsKICAgICAgICBydWxlQ2FjaGVEYXRhLnJ1bGVDb21tYW5kTGlzdCA9IHJlc3BvbnNlLmRhdGEucnVsZUNvbW1hbmRMaXN0OwogICAgICAgIHJ1bGVDYWNoZURhdGEucnVsZUZ1bmN0aW9uTGlzdCA9IHJlc3BvbnNlLmRhdGEucnVsZUZ1bmN0aW9uTGlzdDsKICAgICAgICBjb21taXQoJ1NFVF9SVUxFQ0FDSEUnLCBydWxlQ2FjaGVEYXRhKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICB1cGRhdGVSdWxlQ2FjaGU6IGZ1bmN0aW9uIHVwZGF0ZVJ1bGVDYWNoZShfcmVmMiwgcGFyYW0pIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgIGRlYnVnZ2VyOwogICAgdmFyIG9iaiA9IHBhcmFtLm9iajsKICAgIHZhciB0eXBlID0gcGFyYW0udHlwZTsKICAgIHZhciBpdGVtID0gcGFyYW0uaXRlbTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIC8v5qC55o2u5LiN5ZCM57G75Z6LIOafpeivoiDlr7nlupTmlbDmja4KICAgICAgdmFyIHJ1bGVfc3RhdGUgPSB0cnVlOwogICAgICB2YXIgaW5kZXg7CgogICAgICBzd2l0Y2ggKHR5cGUudG9VcHBlckNhc2UoKSkgewogICAgICAgIGNhc2UgIkJPTSI6CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUJvbUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUJvbUxpc3RbaV0uaWQgPT0gb2JqLmlkKSB7CiAgICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQm9tTGlzdFtpXSA9IG9iajsKICAgICAgICAgICAgICBydWxlX3N0YXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJ1bGVfc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQm9tTGlzdFtzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVCb21MaXN0Lmxlbmd0aCAtIDFdID0gb2JqOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGl0ZW0gPT0gImRlbGV0ZSIpIHsKICAgICAgICAgICAgICBzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVCb21MaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiQk9NSVRFTSI6CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUJvbUl0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVCb21JdGVtTGlzdFtpXS5pZCA9PSBvYmouaWQpIHsKICAgICAgICAgICAgICBzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVCb21JdGVtTGlzdFtpXSA9IG9iajsKICAgICAgICAgICAgICBydWxlX3N0YXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJ1bGVfc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQm9tSXRlbUxpc3Rbc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQm9tSXRlbUxpc3QubGVuZ3RoIC0gMV0gPSBvYmo7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoaXRlbSA9PSAiZGVsZXRlIikgewogICAgICAgICAgICAgIHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUJvbUl0ZW1MaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiQ01EIjoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQ29tbWFuZExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUNvbW1hbmRMaXN0W2ldLmlkID09IG9iai5pZCkgewogICAgICAgICAgICAgIHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUNvbW1hbmRMaXN0W2ldID0gb2JqOwogICAgICAgICAgICAgIHJ1bGVfc3RhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocnVsZV9zdGF0ZSkgewogICAgICAgICAgICBzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVDb21tYW5kTGlzdFtzdGF0ZS5ydWxlQ2FjaGVEYXRhLnJ1bGVDb21tYW5kTGlzdC5sZW5ndGggLSAxXSA9IG9iajsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChpdGVtID09ICJkZWxldGUiKSB7CiAgICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlQ29tbWFuZExpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJGVU5DVElPTiI6CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUZ1bmN0aW9uTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlRnVuY3Rpb25MaXN0W2ldLmlkID09IG9iai5pZCkgewogICAgICAgICAgICAgIHN0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUZ1bmN0aW9uTGlzdFtpXSA9IG9iajsKICAgICAgICAgICAgICBydWxlX3N0YXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJ1bGVfc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlRnVuY3Rpb25MaXN0W3N0YXRlLnJ1bGVDYWNoZURhdGEucnVsZUZ1bmN0aW9uTGlzdC5sZW5ndGggLSAxXSA9IG9iajsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChpdGVtID09ICJkZWxldGUiKSB7CiAgICAgICAgICAgICAgc3RhdGUucnVsZUNhY2hlRGF0YS5ydWxlRnVuY3Rpb25MaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgY29tbWl0KCdTRVRfUlVMRUNBQ0hFJywgc3RhdGUucnVsZUNhY2hlRGF0YSk7CiAgICB9KTsKICB9Cn07CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/store/modules/ruleCache.js"],"names":["state","ruleCacheData","mutations","SET_RULECACHE","data","actions","storageRuleCache","commit","Promise","resolve","reject","then","response","ruleBomList","ruleBomItemList","ruleCommandList","ruleFunctionList","catch","error","updateRuleCache","param","obj","type","item","rule_state","index","toUpperCase","i","length","id","splice","namespaced"],"mappings":";;;;;;;;;;;AAAA;;AAGA,IAAMA,KAAK,GAAG;AACZC,EAAAA,aAAa,EAAE,EADH,CACO;;AADP,CAAd;AAIA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,aAAa,EAAE,uBAACH,KAAD,EAAQI,IAAR,EAAiB;AAC9BJ,IAAAA,KAAK,CAACC,aAAN,GAAsBG,IAAtB;AACD;AAHe,CAAlB;AAMA,IAAMC,OAAO,GAAG;AACd;AACAC,EAAAA,gBAFc,kCAEoB;AAAA,QAAfC,MAAe,QAAfA,MAAe;AAAA,QAARP,KAAQ,QAARA,KAAQ;AAChC,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,oCAAeC,IAAf,CAAoB,UAAAC,QAAQ,EAAI;AAC9B,YAAIX,aAAa,GAAG,EAApB;AACAA,QAAAA,aAAa,CAACY,WAAd,GAA4BD,QAAQ,CAACR,IAAT,CAAcS,WAA1C;AACAZ,QAAAA,aAAa,CAACa,eAAd,GAA+BF,QAAQ,CAACR,IAAT,CAAcU,eAA7C;AACAb,QAAAA,aAAa,CAACc,eAAd,GAA+BH,QAAQ,CAACR,IAAT,CAAcW,eAA7C;AACAd,QAAAA,aAAa,CAACe,gBAAd,GAAgCJ,QAAQ,CAACR,IAAT,CAAcY,gBAA9C;AACAT,QAAAA,MAAM,CAAC,eAAD,EAAiBN,aAAjB,CAAN;AACAQ,QAAAA,OAAO;AACR,OARD,EAQGQ,KARH,CAQS,UAAAC,KAAK,EAAI;AAChBR,QAAAA,MAAM,CAACQ,KAAD,CAAN;AACD,OAVD;AAWD,KAZM,CAAP;AAaD,GAhBa;AAiBdC,EAAAA,eAjBc,kCAiBkBC,KAjBlB,EAiByB;AAAA,QAArBb,MAAqB,SAArBA,MAAqB;AAAA,QAAdP,KAAc,SAAdA,KAAc;AACrC;AACA,QAAIqB,GAAG,GAAGD,KAAK,CAACC,GAAhB;AACA,QAAIC,IAAI,GAAGF,KAAK,CAACE,IAAjB;AACA,QAAIC,IAAI,GAAGH,KAAK,CAACG,IAAjB;AACA,WAAO,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC;AACA,UAAIc,UAAU,GAAG,IAAjB;AACA,UAAIC,KAAJ;;AACA,cAAQH,IAAI,CAACI,WAAL,EAAR;AACE,aAAK,KAAL;AACI,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG3B,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCe,MAAnD,EAA2DD,CAAC,EAA5D,EAA+D;AAC7D,gBAAG3B,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCc,CAAhC,EAAmCE,EAAnC,IAAwCR,GAAG,CAACQ,EAA/C,EAAkD;AAC/C7B,cAAAA,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCc,CAAhC,IAAqCN,GAArC;AACAG,cAAAA,UAAU,GAAG,KAAb;AACAC,cAAAA,KAAK,GAAGE,CAAR;AACF;AACF;;AACD,cAAGH,UAAH,EAAc;AACXxB,YAAAA,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCb,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCe,MAAhC,GAAuC,CAAvE,IAA4EP,GAA5E;AACF,WAFD,MAEM;AACH,gBAAGE,IAAI,IAAI,QAAX,EAAoB;AAClBvB,cAAAA,KAAK,CAACC,aAAN,CAAoBY,WAApB,CAAgCiB,MAAhC,CAAuCL,KAAvC,EAA8C,CAA9C;AACD;AACH;;AACDhB,UAAAA,OAAO;AACT;;AACF,aAAK,SAAL;AACI,eAAI,IAAIkB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG3B,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCc,MAAvD,EAA+DD,CAAC,EAAhE,EAAmE;AACjE,gBAAG3B,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCa,CAApC,EAAuCE,EAAvC,IAA4CR,GAAG,CAACQ,EAAnD,EAAsD;AACpD7B,cAAAA,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCa,CAApC,IAAyCN,GAAzC;AACAG,cAAAA,UAAU,GAAG,KAAb;AACAC,cAAAA,KAAK,GAAGE,CAAR;AACD;AACF;;AACD,cAAGH,UAAH,EAAc;AACZxB,YAAAA,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCd,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCc,MAApC,GAA2C,CAA/E,IAAoFP,GAApF;AACD,WAFD,MAEM;AACJ,gBAAGE,IAAI,IAAI,QAAX,EAAoB;AAClBvB,cAAAA,KAAK,CAACC,aAAN,CAAoBa,eAApB,CAAoCgB,MAApC,CAA2CL,KAA3C,EAAkD,CAAlD;AACD;AACF;;AACDhB,UAAAA,OAAO;AACT;;AACF,aAAK,KAAL;AACI,eAAI,IAAIkB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG3B,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCa,MAAvD,EAA+DD,CAAC,EAAhE,EAAmE;AACjE,gBAAG3B,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCY,CAApC,EAAuCE,EAAvC,IAA4CR,GAAG,CAACQ,EAAnD,EAAsD;AACpD7B,cAAAA,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCY,CAApC,IAAyCN,GAAzC;AACAG,cAAAA,UAAU,GAAG,KAAb;AACAC,cAAAA,KAAK,GAAGE,CAAR;AACD;AACF;;AACD,cAAGH,UAAH,EAAc;AACZxB,YAAAA,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCf,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCa,MAApC,GAA2C,CAA/E,IAAoFP,GAApF;AACD,WAFD,MAEM;AACJ,gBAAGE,IAAI,IAAI,QAAX,EAAoB;AAClBvB,cAAAA,KAAK,CAACC,aAAN,CAAoBc,eAApB,CAAoCe,MAApC,CAA2CL,KAA3C,EAAkD,CAAlD;AACD;AACF;;AACDhB,UAAAA,OAAO;AACT;;AACF,aAAK,UAAL;AACI,eAAI,IAAIkB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG3B,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqCY,MAAxD,EAAgED,CAAC,EAAjE,EAAoE;AAClE,gBAAG3B,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqCW,CAArC,EAAwCE,EAAxC,IAA6CR,GAAG,CAACQ,EAApD,EAAuD;AACrD7B,cAAAA,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqCW,CAArC,IAA0CN,GAA1C;AACAG,cAAAA,UAAU,GAAG,KAAb;AACAC,cAAAA,KAAK,GAAGE,CAAR;AACD;AACF;;AACD,cAAGH,UAAH,EAAc;AACZxB,YAAAA,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqChB,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqCY,MAArC,GAA4C,CAAjF,IAAsFP,GAAtF;AACD,WAFD,MAEM;AACJ,gBAAGE,IAAI,IAAI,QAAX,EAAoB;AAClBvB,cAAAA,KAAK,CAACC,aAAN,CAAoBe,gBAApB,CAAqCc,MAArC,CAA4CL,KAA5C,EAAmD,CAAnD;AACD;AACF;;AACDhB,UAAAA,OAAO;AACT;AApEJ;;AAsEAF,MAAAA,MAAM,CAAC,eAAD,EAAkBP,KAAK,CAACC,aAAxB,CAAN;AACD,KA3EM,CAAP;AA4ED;AAlGa,CAAhB;eAsGe;AACb8B,EAAAA,UAAU,EAAE,IADC;AAEb/B,EAAAA,KAAK,EAALA,KAFa;AAGbE,EAAAA,SAAS,EAATA,SAHa;AAIbG,EAAAA,OAAO,EAAPA;AAJa,C","sourcesContent":["import { getRuleCache } from '@/api/ibrms/ruleMake'\r\n\r\n\r\nconst state = {\r\n  ruleCacheData: {}, // ldcode\r\n}\r\n\r\nconst mutations = {\r\n  SET_RULECACHE: (state, data) => {\r\n    state.ruleCacheData = data\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  //获取规则缓存数据\r\n  storageRuleCache({ commit,state}) {\r\n    return new Promise((resolve, reject) => {\r\n      getRuleCache().then(response => {\r\n        var ruleCacheData = {};\r\n        ruleCacheData.ruleBomList = response.data.ruleBomList;\r\n        ruleCacheData.ruleBomItemList =response.data.ruleBomItemList;\r\n        ruleCacheData.ruleCommandList =response.data.ruleCommandList;\r\n        ruleCacheData.ruleFunctionList =response.data.ruleFunctionList;\r\n        commit('SET_RULECACHE',ruleCacheData);\r\n        resolve()\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  updateRuleCache({ commit,state},param) {\r\n    debugger\r\n    var obj = param.obj;\r\n    var type = param.type;\r\n    var item = param.item;\r\n    return new Promise((resolve, reject) => {\r\n      //根据不同类型 查询 对应数据\r\n      var rule_state = true;\r\n      var index;\r\n      switch (type.toUpperCase()) {\r\n        case \"BOM\":\r\n            for(var i = 0; i < state.ruleCacheData.ruleBomList.length; i++){\r\n              if(state.ruleCacheData.ruleBomList[i].id ==obj.id){\r\n                 state.ruleCacheData.ruleBomList[i] = obj;\r\n                 rule_state = false;\r\n                 index = i;\r\n              }\r\n            }\r\n            if(rule_state){\r\n               state.ruleCacheData.ruleBomList[state.ruleCacheData.ruleBomList.length-1] = obj;\r\n            }else {\r\n               if(item == \"delete\"){\r\n                 state.ruleCacheData.ruleBomList.splice(index, 1);\r\n               }\r\n            }\r\n            resolve()\r\n          break\r\n        case \"BOMITEM\":\r\n            for(var i = 0; i < state.ruleCacheData.ruleBomItemList.length; i++){\r\n              if(state.ruleCacheData.ruleBomItemList[i].id ==obj.id){\r\n                state.ruleCacheData.ruleBomItemList[i] = obj;\r\n                rule_state = false;\r\n                index = i;\r\n              }\r\n            }\r\n            if(rule_state){\r\n              state.ruleCacheData.ruleBomItemList[state.ruleCacheData.ruleBomItemList.length-1] = obj;\r\n            }else {\r\n              if(item == \"delete\"){\r\n                state.ruleCacheData.ruleBomItemList.splice(index, 1);\r\n              }\r\n            }\r\n            resolve()\r\n          break\r\n        case \"CMD\":\r\n            for(var i = 0; i < state.ruleCacheData.ruleCommandList.length; i++){\r\n              if(state.ruleCacheData.ruleCommandList[i].id ==obj.id){\r\n                state.ruleCacheData.ruleCommandList[i] = obj;\r\n                rule_state = false;\r\n                index = i;\r\n              }\r\n            }\r\n            if(rule_state){\r\n              state.ruleCacheData.ruleCommandList[state.ruleCacheData.ruleCommandList.length-1] = obj;\r\n            }else {\r\n              if(item == \"delete\"){\r\n                state.ruleCacheData.ruleCommandList.splice(index, 1);\r\n              }\r\n            }\r\n            resolve()\r\n          break\r\n        case \"FUNCTION\":\r\n            for(var i = 0; i < state.ruleCacheData.ruleFunctionList.length; i++){\r\n              if(state.ruleCacheData.ruleFunctionList[i].id ==obj.id){\r\n                state.ruleCacheData.ruleFunctionList[i] = obj;\r\n                rule_state = false;\r\n                index = i;\r\n              }\r\n            }\r\n            if(rule_state){\r\n              state.ruleCacheData.ruleFunctionList[state.ruleCacheData.ruleFunctionList.length-1] = obj;\r\n            }else {\r\n              if(item == \"delete\"){\r\n                state.ruleCacheData.ruleFunctionList.splice(index, 1);\r\n              }\r\n            }\r\n            resolve()\r\n          break\r\n      }\r\n      commit('SET_RULECACHE', state.ruleCacheData );\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n"]}]}
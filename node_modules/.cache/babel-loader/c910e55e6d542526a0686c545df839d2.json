{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\main\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-sales-def\\main\\index.vue","mtime":1609847106965},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMiIpKTsKCnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvYmFzaWNpbmZvL29wZXJhdGlvbmVuZC9pbmRleCIpKTsKCnZhciBfdnVleCA9IHJlcXVpcmUoInZ1ZXgiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfdGhpczsKCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAncHJvZHVjdFNhbGVNYWluJywKICBjb21wdXRlZDogKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCAoMCwgX3Z1ZXgubWFwR2V0dGVycykoWyd0ZW5hbnRDb2RlJ10pKSwKICBmaWx0ZXJzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgc2hvd1BhZ2VGbGFnOiAwLAogICAgICB0eXBlOiAncHJvZHVjdERpc3RyaWJ1dGlvbkZsYWcnLAogICAgICBwZFByb2Nlc3NJZDogJycsCiAgICAgIGFjdGl2ZU5hbWU6IDAsCiAgICAgIGFjdGl2ZVRhYk5hbWU6ICdzYWxlYmFzZScsCiAgICAgIGFjdGl2ZTogJ3NhbGUnLAogICAgICBpc0ZpeGVkOiBmYWxzZSwKICAgICAgb2Zmc2V0VG9wOiAyMCwKICAgICAgY29tcG9uZW50TmFtZTogJycsCiAgICAgIHNhbGViYXNlRmxhZzogZmFsc2UsCiAgICAgIHNhbGVjb3N0RmxhZzogZmFsc2UsCiAgICAgIG5vd1Bvc2l0aW9uOiAnc2FsZWJhc2UnLAogICAgICBzdGVwT3JkZXI6IHsKICAgICAgICAnc2FsZWJhc2UnOiAwLAogICAgICAgICdzYWxlY29zdCc6IDEKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIG9wZXJhdGlvbmJ1dHRvbjogX2luZGV4LmRlZmF1bHQKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5pbml0SGVpZ2h0KTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLm9mZnNldFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNib3hGaXhlZCcpLm9mZnNldFRvcDsKICAgIH0pOyAvLyB0aGlzLiRlbWl0KCdmaW5pc2gnKQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1BhZ2VGbGFnID0gdGhpcy4kcm91dGUucXVlcnkuc2hvd1BhZ2VGbGFnOwogICAgdmFyIHBkSW5mb0RhdGEgPSB0aGlzLmdldFBkRGF0YSgpOwogICAgdGhpcy5wZFByb2Nlc3NJZCA9IHBkSW5mb0RhdGEucGRQcm9jZXNzSWQ7CiAgICB0aGlzLnN3aXRjaENvbXBvbmVudCgnc2FsZWJhc2UnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZpbmlzaFBhZ2U6IGZ1bmN0aW9uIGZpbmlzaFBhZ2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2ZpbmlzaCcpOwogICAgfSwKICAgIGhhbmRsZVNhbGU6IGZ1bmN0aW9uIGhhbmRsZVNhbGUodHlwZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMuc3RlcE9yZGVyW3R5cGVdOwoKICAgICAgaWYgKHRoaXMubm93UG9zaXRpb24gIT09IHR5cGUpIHsKICAgICAgICBpZiAodGhpcy5pc1NhdmVkKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZVRhYk5hbWUgPSB0eXBlOwogICAgICAgICAgdGhpcy5pc1NhdmVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSBpbmRleDsKICAgICAgICAgIHRoaXMubm93UG9zaXRpb24gPSB0eXBlOwogICAgICAgICAgdGhpcy5zd2l0Y2hDb21wb25lbnQodHlwZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGNvbmZpcm0odGhpcy4kdCgncHJvZHVjdE1lbnUubWVzc2FnZVRpdGxlJyksIHRoaXMuJHQoJ3Byb2R1Y3RNZW51Lm1lc3NhZ2VUaXAnKSwgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgncHJvZHVjdE1lbnUubWVzc2FnZUJ1dHRvbjInKSwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgncHJvZHVjdE1lbnUubWVzc2FnZUJ1dHRvbjEnKSwKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMzLmFjdGl2ZVRhYk5hbWUgPSB0eXBlOwogICAgICAgICAgICBfdGhpczMuYWN0aXZlTmFtZSA9IGluZGV4OwogICAgICAgICAgICBfdGhpczMubm93UG9zaXRpb24gPSB0eXBlOwogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CgogICAgICAgICAgICBfdGhpczMuc3dpdGNoQ29tcG9uZW50KHR5cGUpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMuYWN0aXZlVGFiTmFtZSA9IF90aGlzMy5ub3dQb3NpdGlvbjsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHN3aXRjaENvbXBvbmVudDogZnVuY3Rpb24gc3dpdGNoQ29tcG9uZW50KHR5cGUpIHsKICAgICAgdmFyIG1vZHVsZUxvY2F0aW9uID0gdGhpcy5nZXRDb21wb25lbnRQYXRoKHR5cGUpOwogICAgICB2YXIgcGF0aCA9IG1vZHVsZUxvY2F0aW9uICsgJy8nICsgdGhpcy50ZW5hbnRDb2RlICsgJy9pbmRleCc7CiAgICAgIHZhciBwYXRoMSA9IHRoaXMuaXNJbkFsbFZ1ZShwYXRoKTsKCiAgICAgIHRoaXMuY29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUuZW5zdXJlKFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXF1aXJlKCJAL3ZpZXdzLyIuY29uY2F0KHBhdGgxKSkpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIGdldENvbXBvbmVudFBhdGg6IGZ1bmN0aW9uIGdldENvbXBvbmVudFBhdGgodHlwZSkgewogICAgICB0aGlzLnNhbGViYXNlRmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnNhbGVjb3N0RmxhZyA9IGZhbHNlOwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnc2FsZWJhc2UnOgogICAgICAgICAgdGhpcy5zYWxlYmFzZUZsYWcgPSB0cnVlOwogICAgICAgICAgcmV0dXJuICdwcm9kdWN0LWRlZmluaXRpb24vcGQtb3BlcmF0aW9uLWRlZi9wZC1zYWxlcy1kZWYvc2FsZXMtYXR0cmlidXRlLWRlZic7CgogICAgICAgIGNhc2UgJ3NhbGVjb3N0JzoKICAgICAgICAgIHRoaXMuc2FsZWNvc3RGbGFnID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiAncHJvZHVjdC1kZWZpbml0aW9uL3BkLW9wZXJhdGlvbi1kZWYvcGQtc2FsZXMtZGVmL3NhbGVzLWV4cGVuc2VzLWRlZic7CgogICAgICAgIC8qY2FzZSAgJ3NhbGVkaXNjb3VudCc6DQogICAgICAgICAgcmV0dXJuICdiYXNpY2luZm8vcGR0ZW1wcGRjbXBuaW5mbycqLwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgcGFyZW50Rm46IGZ1bmN0aW9uIHBhcmVudEZuKHZhbCkgewogICAgICB0aGlzLmlzU2F2ZWQgPSB2YWw7CiAgICB9LAogICAgYmFja1RvTWVudTogZnVuY3Rpb24gYmFja1RvTWVudSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcHJvZHVjdC1kZWZpbml0aW9uL3BkLW9wZXJhdGlvbi1kZWYvcGQtc2FsZXMtZGVmL3NhbGVzLWFwcGx5JywKICAgICAgICBwYXJhbXM6IHt9CiAgICAgIH0pOwogICAgfSwKICAgIGNsaWNrVGFiOiBmdW5jdGlvbiBjbGlja1RhYih2YWwpIHsKICAgICAgdmFyIHR5cGUgPSB2YWwubmFtZTsKICAgICAgdGhpcy5oYW5kbGVTYWxlKHR5cGUpOwogICAgfSwKICAgIGluaXRIZWlnaHQ6IGZ1bmN0aW9uIGluaXRIZWlnaHQoKSB7CiAgICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgICAgdGhpcy5pc0ZpeGVkID0gc2Nyb2xsVG9wID4gdGhpcy5vZmZzZXRUb3A7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div class=\"nav-container\">\r\n      <cus-page-title-back @backTo=\"backToMenu\" :label=\"$t('route.productSaleDefinition')\"/>\r\n\r\n      <!-- 产品信息 -->\r\n      <cus-product-info></cus-product-info>\r\n\r\n      <van-sticky :offset-top=\"0\">\r\n        <el-collapse v-model=\"active\" accordion class=\"collapseCusSale collapseCus\" id=\"boxFixed\"\r\n                     :class=\"{'is_fixed' : isFixed}\">\r\n          <el-collapse-item title=\"产品销售定义\" name=\"sale\">\r\n            <div style=\"height: 64px;\" class=\"stepDiv\">\r\n              <el-steps process-status=\"finish \" finish-status=\"wait\" direction=\"vertical\" :active=\"activeName\">\r\n                <el-step icon=\"el-icon-info\" title=\"销售属性定义\"\r\n                         @click.native=\"handleSale('salebase')\"></el-step>\r\n                <el-step icon=\"el-icon-info\" title=\"销售费用定义\"\r\n                         @click.native=\"handleSale('salecost')\"></el-step>\r\n                <!--<el-step icon=\"el-icon-info\" title=\"优惠定义\"\r\n                         @click.native=\"handleSale('salediscount')\"></el-step>-->\r\n              </el-steps>\r\n            </div>\r\n          </el-collapse-item>\r\n        </el-collapse>\r\n      </van-sticky>\r\n\r\n\r\n      <el-tabs @tab-click=\"clickTab\" type=\"border-card\" v-model=\"activeTabName\">\r\n        <el-tab-pane :label=\"$t('productSaleMain.basicInfoDefinition')\" name=\"salebase\">\r\n          <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n          <component @childFn=\"parentFn\" :is=\"componentName\" v-if=\"salebaseFlag\" @hook:mounted=\"finishPage\"/>\r\n        </el-tab-pane>\r\n        <el-tab-pane :label=\"$t('productSaleMain.pdtemppdrpsaledes')\" name=\"salecost\">\r\n          <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n          <component @childFn=\"parentFn\" :is=\"componentName\" v-if=\"salecostFlag\" @hook:mounted=\"finishPage\"/>\r\n        </el-tab-pane>\r\n        <!--<el-tab-pane :label=\"$t('route.pdtempPdCmpnInfo_List')\" name=\"salediscount\">\r\n          <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n          <component @childFn=\"parentFn\" :is=\"componentName\"/>\r\n        </el-tab-pane>-->\r\n      </el-tabs>\r\n\r\n      <operationbutton :type=\"type\" :procInsId=\"pdProcessId\" ></operationbutton>\r\n    </div>\r\n  </cus-wraper>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport operationbutton from '@/views/basicinfo/operationend/index'\r\nimport { mapGetters } from 'vuex'\r\n\r\nlet _this\r\nexport default {\r\n  name: 'productSaleMain',\r\n  computed: {\r\n    ...mapGetters(['tenantCode'])\r\n  },\r\n  filters: {},\r\n  data() {\r\n    _this = this\r\n    return {\r\n      showPageFlag: 0,\r\n      type: 'productDistributionFlag',\r\n      pdProcessId: '',\r\n      activeName: 0,\r\n      activeTabName: 'salebase',\r\n      active: 'sale',\r\n      isFixed: false,\r\n      offsetTop: 20,\r\n      componentName: '',\r\n      salebaseFlag: false,\r\n      salecostFlag: false,\r\n      nowPosition: 'salebase',\r\n      stepOrder: { 'salebase': 0, 'salecost': 1 }\r\n    }\r\n  },\r\n  components: {\r\n    operationbutton\r\n  },\r\n  mounted() {\r\n    window.addEventListener('scroll', this.initHeight)\r\n    this.$nextTick(() => {\r\n      this.offsetTop = document.querySelector('#boxFixed').offsetTop\r\n    })\r\n    // this.$emit('finish')\r\n  },\r\n  created() {\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    let pdInfoData = this.getPdData()\r\n    this.pdProcessId = pdInfoData.pdProcessId\r\n    this.switchComponent('salebase')\r\n  },\r\n  methods: {\r\n    finishPage(){\r\n      this.$emit('finish')\r\n    },\r\n    handleSale(type) {\r\n      let index = this.stepOrder[type]\r\n      if (this.nowPosition !== type) {\r\n        if (this.isSaved) {\r\n          this.activeTabName = type\r\n          this.isSaved = false\r\n          this.activeName = index\r\n          this.nowPosition = type\r\n          this.switchComponent(type)\r\n        } else {\r\n          this.$confirm(\r\n            this.$t('productMenu.messageTitle'),\r\n            this.$t('productMenu.messageTip'),\r\n            {\r\n              confirmButtonText: this.$t('productMenu.messageButton2'),\r\n              cancelButtonText: this.$t('productMenu.messageButton1'),\r\n              type: 'warning'\r\n            }\r\n          ).then(() => {\r\n            this.activeTabName = type\r\n            this.activeName = index\r\n            this.nowPosition = type\r\n            window.scrollTo(0, 0)\r\n            this.switchComponent(type)\r\n          }).catch(() => {\r\n            this.activeTabName = this.nowPosition\r\n          })\r\n        }\r\n\r\n      }\r\n    },\r\n    switchComponent(type) {\r\n      let moduleLocation = this.getComponentPath(type)\r\n      const path = moduleLocation + '/' + this.tenantCode + '/index'\r\n      let path1 = this.isInAllVue(path)\r\n      this.componentName = resolve => require.ensure([], () => resolve(require(`@/views/${path1}`)))\r\n    },\r\n    getComponentPath(type) {\r\n      this.salebaseFlag = false\r\n      this.salecostFlag = false\r\n      switch (type) {\r\n        case  'salebase':\r\n          this.salebaseFlag = true\r\n          return 'product-definition/pd-operation-def/pd-sales-def/sales-attribute-def'\r\n        case  'salecost':\r\n          this.salecostFlag = true\r\n          return 'product-definition/pd-operation-def/pd-sales-def/sales-expenses-def'\r\n        /*case  'salediscount':\r\n          return 'basicinfo/pdtemppdcmpninfo'*/\r\n        default :\r\n          return ''\r\n      }\r\n    },\r\n    parentFn(val) {\r\n      this.isSaved = val\r\n    },\r\n    backToMenu() {\r\n      this.$router.push({ path: '/product-definition/pd-operation-def/pd-sales-def/sales-apply', params: {} })\r\n    },\r\n    clickTab(val) {\r\n      let type = val.name\r\n      this.handleSale(type)\r\n    },\r\n    initHeight() {\r\n      let scrollTop =\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop\r\n      this.isFixed = scrollTop > this.offsetTop\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n.showDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n\r\n.collapseCusSale {\r\n  top: 129px !important;\r\n  right: 15px !important;\r\n  width: 150px !important;\r\n}\r\n\r\n\r\n.is_fixed {\r\n  position: fixed;\r\n  top: 0px !important;\r\n  z-index: 99;\r\n}\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-operation-def/pd-sales-def/main"}]}
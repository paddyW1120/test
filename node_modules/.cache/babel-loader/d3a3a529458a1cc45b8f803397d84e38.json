{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\system\\admin-role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\system\\admin-role\\index.vue","mtime":1609847107185},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3JvbGVBZG1pbiA9IHJlcXVpcmUoIkAvYXBpL3N5c3RlbS9yb2xlLWFkbWluIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ1JvbGUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+ihqOagvOaVsOaNrgogICAgICBjb25maWdzOiBbXSwKICAgICAgdGVuYW50TGlzdDogW10sCiAgICAgIC8vIOenn+aIt+WIl+ihqAogICAgICAvL+afpeivouWPguaVsOWPr+S7peaYr+aooeeziuaIluiAheetieWAvCBsaWtlXyAgZXFfCiAgICAgIHBhcmFtczogewogICAgICAgIHJvbGVOYW1lOiAnJywKICAgICAgICB0ZW5hbnRJZDogJycsCiAgICAgICAgcm9sZUNvZGU6ICcnCiAgICAgIH0sCiAgICAgIGZvcm06IHsKICAgICAgICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lAogICAgICAgIGlkOiAnJywKICAgICAgICAvL+S4u+mUrklECiAgICAgICAgcm9sZUNvZGU6ICcnLAogICAgICAgIC8v6LSm5Y+3CiAgICAgICAgcm9sZU5hbWU6ICcnLAogICAgICAgIC8v6LSm5Y+3CiAgICAgICAgdGVuYW50SWQ6ICcnIC8v56ef5oi3SWQKCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcm9sZUNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLnvJbnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcm9sZU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLlkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdGVuYW50SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nnp5/miLcnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vZGlhbG9n5pi+56S66L+Y5piv6ZqQ6JePCiAgICAgIGRpYWxvZ1N0YXR1czogJycsCiAgICAgIC8v6KGo5Y2V54q25oCB5piv5paw5aKe6L+Y5piv5L+u5pS5CiAgICAgIHRpdGxlTWFwOiB7CiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdyb2xlVmlldy51cGRhdGUnKSwKICAgICAgICBjcmVhdGU6IHRoaXMuJHQoJ3JvbGVWaWV3LmFkZCcpCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHJvbGVjb2RlcyA9IHRoaXMuJHN0b3JlLmdldHRlcnMucm9sZWNvZGVzOwoKICAgIGlmIChyb2xlY29kZXMuaW5kZXhPZignc3VwZXJBZG1pbicsIDApICE9IC0xKSB7CiAgICAgIHRoaXMucGFyYW1zLmlzU3VwZXJBZG1pbiA9IHRydWU7CiAgICB9CgogICAgdGhpcy5pbml0VGVuYW50cygpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGZpbHRlclRlbmFudE5hbWU6IGZ1bmN0aW9uIGZpbHRlclRlbmFudE5hbWUodGVuYW50SWQpIHsKICAgICAgcmV0dXJuIHRoaXMuXy5maWx0ZXIodGhpcy50ZW5hbnRMaXN0LCB7CiAgICAgICAgImlkIjogcGFyc2VJbnQodGVuYW50SWQpCiAgICAgIH0pWzBdLm5hbWU7CiAgICB9LAogICAgaW5pdFRlbmFudHM6IGZ1bmN0aW9uIGluaXRUZW5hbnRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgKDAsIF9yb2xlQWRtaW4uc2VsZWN0VGVuYW50cykoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50ZW5hbnRMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLiRyZWZzLnBhZ2UucmVsb2FkKCk7CiAgICB9LAogICAgdGVuYW50Q2hhbmdlOiBmdW5jdGlvbiB0ZW5hbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuZm9ybS50ZW5hbnRJZCA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVDcmVhdGU6IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAnY3JlYXRlJzsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgICAgdGhpcy5mb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KTsKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAndXBkYXRlJzsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICgwLCBfcm9sZUFkbWluLmZpbmRVc2Vyc0J5Um9sZUlkKShpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICgwLCBfcm9sZUFkbWluLmRlbGV0ZVJvbGUpKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczIuaGFuZGxlU2VhcmNoKCk7CgogICAgICAgICAgICBfdGhpczIubm90aWZ5U3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsKCiAgICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLm5vdGlmeUVycm9yKCfop5LoibLkuIvlrZjlnKjnlKjmiLfvvIzkuI3lhYHorrjliKDpmaTop5LoibLvvIEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBiYWNrOwoKICAgICAgICAgIGlmIChfdGhpczMuZm9ybS5pZCkgewogICAgICAgICAgICBiYWNrID0gKDAsIF9yb2xlQWRtaW4udXBkYXRlUm9sZSkoX3RoaXMzLmZvcm0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYmFjayA9ICgwLCBfcm9sZUFkbWluLmFkZFJvbGUpKF90aGlzMy5mb3JtKTsKICAgICAgICAgIH0KCiAgICAgICAgICBiYWNrLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzMy5oYW5kbGVTZWFyY2goKTsKCiAgICAgICAgICAgIF90aGlzMy5ub3RpZnlTdWNjZXNzKHJlc3BvbnNlLm1lc3NhZ2UpOwoKICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAvL+ihqOWNleaVsOaNruS4juWQjuerr+WunuS9k+exu+WvueW6lAogICAgICAgIGlkOiAnJywKICAgICAgICAvL+S4u+mUrklECiAgICAgICAgcm9sZUNvZGU6ICcnLAogICAgICAgIC8v6KeS6Imy57yW56CBCiAgICAgICAgcm9sZU5hbWU6ICcnLAogICAgICAgIC8v6KeS6Imy5ZCNCiAgICAgICAgdGVuYW50SWQ6ICcnCiAgICAgIH07CiAgICB9LAogICAgdG9BdXRoU2V0dGluZzogZnVuY3Rpb24gdG9BdXRoU2V0dGluZyhyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdhdXRoU2V0dGluZycsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICByb2xlSWQ6IHJvdy5pZCwKICAgICAgICAgIGZsYWc6ICcyJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n       <el-form label-width=\"auto\">\r\n         <el-row :gutter=\"10\">\r\n           <cus-col>\r\n                  <el-form-item :label=\"$t('roleView.table_roleName')\">\r\n                    <el-input v-model=\"params.roleName\" :placeholder=\"$t('form.please_enter')\" class=\"filter-item\"\r\n                              clearable></el-input>\r\n                  </el-form-item>\r\n           </cus-col>\r\n\r\n           <cus-col>\r\n             <el-form-item :label=\"$t('roleView.table_roleCode')\">\r\n               <el-input v-model=\"params.roleCode\" :placeholder=\"$t('form.please_enter')\" class=\"filter-item\"\r\n                         clearable></el-input>\r\n             </el-form-item>\r\n           </cus-col>\r\n\r\n\r\n           <cus-col>\r\n             <el-form-item :label=\"$t('sysTenant.name')\">\r\n               <el-select  clearable filterable\r\n                           v-model=\"params.tenantId\" >\r\n                 <el-option  :key=\"tenant.id\" :label=\"tenant.comCode+':'+tenant.name\" :value=\"tenant.id\"\r\n                             v-for=\"tenant in tenantList\"></el-option>\r\n               </el-select>\r\n             </el-form-item>\r\n           </cus-col>\r\n\r\n\r\n           <cus-btn-wrapper>\r\n             <el-button v-waves class=\"filter-button\" icon=\"el-icon-search\" size=\"small\" type=\"primary\" @click=\"handleSearch\">\r\n               {{$t('table.search') }}\r\n             </el-button>\r\n             <el-button v-auth=\"'sys-role:add'\" v-waves class=\"filter-button\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\"\r\n                        @click=\"handleCreate\">{{ $t('table.add') }}\r\n             </el-button>\r\n           </cus-btn-wrapper>\r\n         </el-row>\r\n       </el-form>\r\n\r\n\r\n    <cus-table-title :label=\"$t('route.sys_role_list')\"></cus-table-title>\r\n    <el-table :data=\"configs\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" sortable type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('roleView.table_roleName')\" align=\"center\" prop=\"roleName\"></el-table-column>\r\n      <el-table-column :label=\"$t('roleView.table_roleCode')\" align=\"center\" prop=\"roleCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('roleView.table_tenantName')\" align=\"center\"\r\n                       prop=\"tenantId\">\r\n              <template v-slot=\"scope\">\r\n                      {{filterTenantName(scope.row.tenantId)}}\r\n              </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\"  width=\"350\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button v-auth=\"'sys-role:update'\" class=\"filter-button\" icon=\"el-icon-edit\" size=\"small\"\r\n                     type=\"primary\" @click=\"handleUpdate(scope.row)\">\r\n            {{ $t('table.edit') }}\r\n          </el-button>\r\n          <el-button v-auth=\"'sys-role:toAuthSetting'\" class=\"filter-button\" icon=\"el-icon-edit\" size=\"small\"\r\n                     type=\"primary\" @click=\"toAuthSetting(scope.row)\">\r\n            {{ $t('roleView.roleAuthoritySettings') }}\r\n          </el-button>\r\n          <cus-del-btn v-auth=\"'sys-role:delete'\" :buttonText=\"$t('table.delete')\" style=\"margin-left: 10px\"\r\n                       @ok=\"handleDelete(scope.row.id)\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page\" v-model=\"configs\" :pageSize=\"10\" :params=\"params\" url=\"/sys-role-admin/base/list\"/>\r\n\r\n    <!---新增修改dialog---->\r\n\r\n    <el-dialog v-dialog-drag  :visible.sync=\"dialogVisible\" @close=\"dialogVisible=false\" >\r\n      <cus-page-title-back @backTo=\"dialogVisible=false\" :isDialog=\"true\" :label=\"titleMap[dialogStatus]\" />\r\n      <el-form ref=\"dataForm\" :model=\"form\" :rules=\"rules\" label-width=\"auto\" style=\"margin-left: 10%\">\r\n        <el-row :gutter=\"20\"><el-col :span=\"15\"><el-form-item :label=\"$t('roleView.table_roleCode')+':'\" prop=\"roleCode\">\r\n          <el-input v-model=\"form.roleCode\"\r\n                    :placeholder=\"$t('roleView.input')+$t('roleView.table_roleCode')\"></el-input>\r\n        </el-form-item></el-col></el-row>\r\n        <el-row :gutter=\"20\"><el-col :span=\"15\"><el-form-item :label=\"$t('roleView.table_roleName')+':'\" prop=\"roleName\">\r\n          <el-input v-model=\"form.roleName\"\r\n                    :placeholder=\"$t('roleView.input')+$t('roleView.table_roleName')\"></el-input>\r\n        </el-form-item></el-col></el-row>\r\n        <el-row :gutter=\"20\"><el-col :span=\"15\"> <el-form-item  :label=\"$t('roleView.table_tenantName')+':'\" prop=\"tenantId\">\r\n          <el-select  v-model=\"form.tenantId\" :placeholder=\"$t('form.please_select')\"  clearable filterable>\r\n            <el-option\r\n              v-for=\"(item,index) in tenantList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item></el-col></el-row>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button size=\"small\" icon='el-icon-circle-close' type=\"primary\" @click=\"dialogVisible = false\"> {{ $t('table.cancel') }} </el-button>\r\n          <el-button v-auth=\"'sys-role:add'\" class=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"submitForm\"> {{\r\n              $t('table.confirm')\r\n            }} </el-button>\r\n        </span>\r\n    </el-dialog>\r\n\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {addRole, deleteRole, findUsersByRoleId, updateRole,selectTenants} from '@/api/system/role-admin'\r\n\r\nexport default {\r\n  name: 'Role',\r\n  data() {\r\n    return {\r\n\r\n      //表格数据\r\n      configs: [],\r\n      tenantList: [],// 租户列表\r\n      //查询参数可以是模糊或者等值 like_  eq_\r\n      params: {\r\n        roleName: '',\r\n        tenantId: '',\r\n        roleCode: ''\r\n      },\r\n      form: {  //表单数据与后端实体类对应\r\n        id: '', //主键ID\r\n        roleCode: '', //账号\r\n        roleName: '', //账号\r\n        tenantId: '', //租户Id\r\n      },\r\n      rules: {\r\n        roleCode: [\r\n          {required: true, message: '请输入角色编码', trigger: 'blur'},\r\n        ],\r\n        roleName: [\r\n          {required: true, message: '请输入角色名', trigger: 'blur'},\r\n        ],\r\n        tenantId: [\r\n          {required: true, message: '请选择租户', trigger: 'blur'},\r\n        ]\r\n      },\r\n      dialogVisible: false, //dialog显示还是隐藏\r\n      dialogStatus: '', //表单状态是新增还是修改\r\n      titleMap: {\r\n        update: this.$t('roleView.update'),\r\n        create: this.$t('roleView.add')\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    let rolecodes = this.$store.getters.rolecodes\r\n    if (rolecodes.indexOf('superAdmin', 0) != -1) {\r\n      this.params.isSuperAdmin = true;\r\n    }\r\n\r\n    this.initTenants()\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    filterTenantName(tenantId){\r\n        return   this._.filter(this.tenantList,{\"id\": parseInt(tenantId)})[0].name\r\n    },\r\n    initTenants() {\r\n      selectTenants().then(res => {\r\n          this.tenantList = res.data\r\n      })\r\n    },\r\n    handleSearch() {\r\n      this.$refs.page.reload()\r\n    },\r\n    tenantChange(val) {\r\n      this.form.tenantId = val\r\n    },\r\n    handleCreate() {\r\n      this.resetForm()\r\n      this.dialogStatus = 'create'\r\n      this.dialogVisible = true\r\n    },\r\n    handleUpdate(row) {\r\n      console.log(row)\r\n      this.form = Object.assign({}, row)\r\n      this.dialogStatus = 'update'\r\n      this.dialogVisible = true\r\n    },\r\n    handleDelete(id) {\r\n      findUsersByRoleId(id).then(response => {\r\n        if (response.data.length === 0) {\r\n          deleteRole(id).then(response => {\r\n            this.handleSearch()\r\n            this.notifySuccess(response.message)\r\n            this.dialogVisible = false\r\n          })\r\n        } else {\r\n          this.notifyError('角色下存在用户，不允许删除角色！')\r\n        }\r\n      })\r\n    },\r\n    submitForm() {\r\n      this.$refs.dataForm.validate(valid => {\r\n        if (valid) {\r\n          let back;\r\n          if (this.form.id) {\r\n            back = updateRole(this.form)\r\n          } else {\r\n            back = addRole(this.form)\r\n          }\r\n          back.then(response => {\r\n            this.handleSearch()\r\n            this.notifySuccess(response.message)\r\n            this.dialogVisible = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    resetForm() {\r\n      this.form = {  //表单数据与后端实体类对应\r\n        id: '', //主键ID\r\n        roleCode: '', //角色编码\r\n        roleName: '', //角色名\r\n        tenantId: ''\r\n      }\r\n    },\r\n    toAuthSetting(row) {\r\n      this.$router.push({name: 'authSetting', params: {roleId: row.id,flag: '2'}})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/system/admin-role"}]}
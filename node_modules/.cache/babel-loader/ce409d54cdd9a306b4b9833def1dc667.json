{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\index.vue","mtime":1618544604557},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5ldmVyeS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMiIpKTsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIpOwoKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpKTsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX3Z1ZXggPSByZXF1aXJlKCJ2dWV4Iik7Cgp2YXIgX3BkdGVtcHBkcHJlbSA9IHJlcXVpcmUoIkAvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZHByZW0iKTsKCnZhciBfcGR0ZW1wcGRleHRwcmVtID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkZXh0cHJlbSIpOwoKdmFyIF9wZHRlbXBwZGNtcG5pbmZvID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY21wbmluZm8iKTsKCnZhciBfZGlzY291bnRGb3JtdWxhID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvZGlzY291bnQtZm9ybXVsYSIpKTsKCnZhciBfZGlzY291bnRGb3JtdWxhU2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvZGlzY291bnQtZm9ybXVsYS1zZWxlY3QiKSk7Cgp2YXIgX3ByZW1Gb3JtdWxhID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1mb3JtdWxhIikpOwoKdmFyIF9wcmVtRm9ybXVsYVNlbGVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC92aWV3cy9wcm9kdWN0LWRlZmluaXRpb24vcGQtZnJhbWV3b3JrLWRlZi9wZC1zdHJ1Y3R1cmUtZGVmL3BheW1lbnQtZGVmL3ByZW0tZm9ybXVsYS1zZWxlY3QiKSk7Cgp2YXIgX3ByZW1SdWxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1ydWxlIikpOwoKdmFyIF9wcmVtUnVsZVNlbGVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC92aWV3cy9wcm9kdWN0LWRlZmluaXRpb24vcGQtZnJhbWV3b3JrLWRlZi9wZC1zdHJ1Y3R1cmUtZGVmL3BheW1lbnQtZGVmL3ByZW0tcnVsZS1zZWxlY3QiKSk7Cgp2YXIgX2d1aWRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvZ3VpZGUiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX3RoaXM7Cgp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIlBheW1lbnREZWZpbml0aW9uIiwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJfY2FsY01ldGhvZDogZnVuY3Rpb24gZmlsdGVyX2NhbGNNZXRob2QoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fY2FsX21ldGhvZCcsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9kYXRlU3VmZml4OiBmdW5jdGlvbiBmaWx0ZXJfZGF0ZVN1ZmZpeChjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9kYXRlX3N1ZmZpeCcsIGNvZGUsIHRydWUpOwogICAgfSwKICAgIGZpbHRlcl9mcmVxOiBmdW5jdGlvbiBmaWx0ZXJfZnJlcShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9mcmVxJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3N0YXJ0Q2FsY1J1bGU6IGZ1bmN0aW9uIGZpbHRlcl9zdGFydENhbGNSdWxlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3N0YXJ0X2NhbGNfcnVsZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9lbmRDYWxjUnVsZTogZnVuY3Rpb24gZmlsdGVyX2VuZENhbGNSdWxlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2VuZF9jYWxjX3J1bGUnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfc3RhcnRDYWxjTWV0aG9kOiBmdW5jdGlvbiBmaWx0ZXJfc3RhcnRDYWxjTWV0aG9kKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3N0YXJ0X2NhbGNfbWV0aG9kJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX2VuZENhbGNNZXRob2Q6IGZ1bmN0aW9uIGZpbHRlcl9lbmRDYWxjTWV0aG9kKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2VuZF9jYWxjX21ldGhvZCcsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvblR5cGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvblR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fYWRkaXRpb25fdHlwZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvbk1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvbk1vZGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fYWRkaXRpb25fbW9kZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hY2NvdW50VHlwZTogZnVuY3Rpb24gZmlsdGVyX2FjY291bnRUeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2FjY291bnRfdHlwZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvblBheVBlcnNvbjogZnVuY3Rpb24gZmlsdGVyX2FkZGl0aW9uUGF5UGVyc29uKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZEFkZFByZW1PYmonLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfYWRkaXRpb25BZGRpdGlvbk1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvbkFkZGl0aW9uTW9kZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9hZGRpdGlvbl9hZGRpdGlvbl9tb2RlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheVplcm86IGZ1bmN0aW9uIGZpbHRlcl9wYXlaZXJvKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3plcm8nLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfc2VydmljZUNoYXJnZU9mZnNldDogZnVuY3Rpb24gZmlsdGVyX3NlcnZpY2VDaGFyZ2VPZmZzZXQoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fc2VydmljZV9jaGFyZ2Vfb2Zmc2V0JywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblR5cGU6IGZ1bmN0aW9uIGZpbHRlcl9wZENtcG5UeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVmZXJlbnRpYWxUeXBlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wbkNhbGNNb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDbXBuQ2FsY01vZGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3ByZWZlcmVudGlhbENsY3VsYXRpb25UeXBlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblJhbmdlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDbXBuUmFuZ2UoY29kZSkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5kZWZUYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGVmID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGRlZi5wZFByZW1Db2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBkZWYucGRQcmVtQ29kZSArICI6IiArIGRlZi5wZFBheU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IyID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5hZGRpdGlvblRhYmxlRGF0YSksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RlZiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RlZi5wZEV4dFByZW1Db2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBfZGVmLnBkRXh0UHJlbUNvZGUgKyAiOiIgKyBfZGVmLnBkRXh0UHJlbU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvZGU7CiAgICB9LAogICAgZmlsdGVyX3BheVVyZ2luZzogZnVuY3Rpb24gZmlsdGVyX3BheVVyZ2luZyhjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV91cmdpbmcnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGF5RnJlcXVlbmN5OiBmdW5jdGlvbiBmaWx0ZXJfcGF5RnJlcXVlbmN5KGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwYXltZW50RnJlcXVlbmN5JywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheWRhdGV2YWx1ZTogZnVuY3Rpb24gZmlsdGVyX3BheWRhdGV2YWx1ZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRQYXlFbmRDYWxNb2RlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheW1lbnRJZDogZnVuY3Rpb24gZmlsdGVyX3BheW1lbnRJZChwZFByZW1JZCkgewogICAgICB2YXIgX2l0ZXJhdG9yMyA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMuZGVmVGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBkZWYgPSBfc3RlcDMudmFsdWU7CgogICAgICAgICAgaWYgKGRlZi5pZCA9PT0gcGRQcmVtSWQpIHsKICAgICAgICAgICAgcmV0dXJuIGRlZi5wZFBheU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIGZpbHRlcl9wZFBheVN0YXJ0UGVyaW9kOiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlTdGFydFBlcmlvZChsaXN0KSB7CiAgICAgIHZhciByZXR1cm5EYXRhID0gJyc7CgogICAgICBpZiAobGlzdC5sZW5ndGgpIHsKICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmIChyZXR1cm5EYXRhLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm5EYXRhICs9ICcsJzsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm5EYXRhICs9IGRhdGEucGRQYXlTdGFydFBlcmlvZDsKICAgICAgICAgIHJldHVybkRhdGEgKz0gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fZGF0ZV9zdWZmaXgnLCBkYXRhLnBkUGF5U3RhcnRQZXJVbml0LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9LAogICAgZmlsdGVyX3BkUGF5RW5kUGVyaW9kOiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlFbmRQZXJpb2QobGlzdCkgewogICAgICB2YXIgcmV0dXJuRGF0YSA9ICcnOwoKICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAocmV0dXJuRGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuRGF0YSArPSAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuRGF0YSArPSBkYXRhLnBkUGF5RW5kUGVyaW9kOwogICAgICAgICAgcmV0dXJuRGF0YSArPSBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9kYXRlX3N1ZmZpeCcsIGRhdGEucGRQYXlFbmRVbml0LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9CiAgfSwKICBwcm9wczogewogICAgcHJlbWl1bUNvZGU6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvOiBmYWxzZSwKICAgICAgcGRQYXlGcmVxQ29weTogW10sCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QwOiBbXSwKICAgICAgcXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDE6IFtdLAogICAgICBxdWlja2ZpbHRlckhhbmRsZXJMaXN0MjogW10sCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QzOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QwOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QxOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QyOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QzOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3Q0OiBbXSwKICAgICAgZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxOiBbXSwKICAgICAgZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QyOiBbXSwKICAgICAgZGV0YWlsVHlwZU9wdGlvbkxpc3Q6IFtdLAogICAgICBwYXlEYXRlRm9ybTogewogICAgICAgIHBheURhdGVUYWJsZTogW10KICAgICAgfSwKICAgICAgdGFibGVDb3VudDogMCwKICAgICAgdGFibGVDb3VudERpc2NvdW50OiAwLAogICAgICBwZENtcG5DYWxjQ29kZTE6ICcnLAogICAgICBmbGFnMTogMCwKICAgICAgLy/lhazlvI8KICAgICAgZGlhbG9nU2hvdzogewogICAgICAgIHByZW1BbW91bnRGb3JtdWxhOiBmYWxzZSwKICAgICAgICBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UsCiAgICAgICAgcGREaXNjb3VudEZvcm11bGE6IGZhbHNlLAogICAgICAgIHBkRGlzY291bnRGb3JtdWxhU2VsZWN0OiBmYWxzZQogICAgICB9LAogICAgICBndWFyYW50ZWVEZXRhaWxzOiAnJywKICAgICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogJycsCiAgICAgIHBkVXdTaVR5cGVPcHRpb25zOiAnJywKICAgICAgcGRVd1NpVHlwZUR0T3B0aW9uczogJycsCiAgICAgIHBkRGlzQ291bnQ6ICcnLAogICAgICAvL+inhOWImQogICAgICBkaWFsb2dSdWxlc1Nob3c6IHsKICAgICAgICBwcmVtUnVsZXM6IGZhbHNlLAogICAgICAgIHByZW1SdWxlc1NlbGVjdDogZmFsc2UKICAgICAgfSwKICAgICAgc2hvd1BhZ2VGbGFnOiAwLAogICAgICBxdWlja1RhYmxlRGF0YTogW10sCiAgICAgIGRlZlRhYmxlRGF0YTogW10sCiAgICAgIGFkZGl0aW9uVGFibGVEYXRhOiBbXSwKICAgICAgYWRkaXRpb25BZGRUYWJsZURhdGE6IFtdLAogICAgICBwZENtcG5UeXBlRmlsdGVyczogW10sCiAgICAgIHJvd0luZGV4OiAnLTEnLAogICAgICBvcmRlckluZGV4QXJyX2FkZGl0aW9uOiBbXSwKICAgICAgb3JkZXJJbmRleEFycl9hZGRpdGlvbl9hZGQ6IFtdLAogICAgICBvcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50OiBbXSwKICAgICAgaG92ZXJPcmRlckFycjogW10sCiAgICAgIHF1aWNraWNvbl9kaXNjb3VudDogImVsLWljb24tYXJyb3ctcmlnaHQiLAogICAgICBxdWlja3Nob3c6IGZhbHNlLAogICAgICBmaWx0ZXJEaXNjb3VudENvZGU6IFtdLAogICAgICBwZENtcG5SYW5nZUZpbHRlcnM6IFtdLAogICAgICBwcm9kdWN0T3JpZ2luYWxMaXN0OiBbXSwKICAgICAgcHJvZHVjdExpc3Q6IFtdLAogICAgICBzZWxlY3RlZFJlZmVyZW5jZVByb2R1Y3RJZDogdW5kZWZpbmVkLAogICAgICBmb3JtX3F1aWNrOiB7CiAgICAgICAgdHlwZVJlZ2lvbjogJycKICAgICAgfSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwKICAgICAgICBlcV9wZFByZW1DYWxNb2RlOiAnJywKICAgICAgICBhY2NvdW50UmVsYXRlZDogJycsCiAgICAgICAgZXh0cmFQcmVtaXVtRmxhZzogJycsCiAgICAgICAgZXFfaWQ6ICcnLAogICAgICAgIGJ5UGFnZTogJ1knLAogICAgICAgIGZpbmVsaW5lc1JlZ2lvbjogJycsCiAgICAgICAgZmlyc3RPcGVuUGFnZUZsYWc6ICdZJwogICAgICB9LAogICAgICBwYXJhbXNfY3VycmVudFByb2R1Y3Q6IHsKICAgICAgICBlcV9wZEluZm9JZDogdW5kZWZpbmVkLAogICAgICAgIGxpa2VfcGF5TmFtZTogJycsCiAgICAgICAgZXFfcGF5Q29kZTogJycKICAgICAgfSwKICAgICAgcGFyYW1zX2FkZGl0aW9uOiB7CiAgICAgICAgcHJlbWl1bUxpc3Q6IFtdCiAgICAgIH0sCiAgICAgIGRpc2NvdW50VGFibGVEYXRhOiBbXSwKICAgICAgY29uZmlnUmFuZ2VMZW5ndGg6ICcnLAogICAgICBwZERpc2NvdW50UmFuZ2VPcHRpb25zOiBbewogICAgICAgIGtleTogJzAwMDAwMCcsCiAgICAgICAgdmFsdWU6ICcwMDAwMDAnLAogICAgICAgIGxhYmVsOiAn5YWo6YOoJywKICAgICAgICBkaXNhYmxlZDogdHJ1ZQogICAgICB9XSwKICAgICAgZmlsdGVyQ21wblR5cGU6ICcxJEQkSScsCiAgICAgIGFkZEZlZUZsYWc6IGZhbHNlLAogICAgICBkaXNjb3VudEZsYWc6ICdOJywKICAgICAgc2VsZWN0ZWREaXNjb3VudDoge30sCiAgICAgIHNlbGVjdGVkRGVmOiB7fSwKICAgICAgc2VsZWN0ZWREZWZJblF1ZXJ5UmVzdWx0OiB7fSwKICAgICAgc2VsZWN0ZWRBZGRpdGlvbjoge30sCiAgICAgIHNlbGVjdGVkQWRkaXRpb25BZGRzOiBbXSwKICAgICAgLy8g5Lqn5ZOB5L+h5oGvCiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRTYWxlY2hubDogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFNob3J0bmFtZTogJycsCiAgICAgICAgcGRFbk5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZFN0YXJ0RGF0ZVJ1bGU6ICcnLAogICAgICAgIHBkU3RhcnREYXRlTW9kZTogJycsCiAgICAgICAgcGRTdGFydFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkU3RhcnRQZXJpb2RVbml0OiAnJywKICAgICAgICBwZEVuZERhdGVSdWxlOiAnJywKICAgICAgICBwZEVuZERhdGVNb2RlOiAnJywKICAgICAgICBwZEVuZFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkRW5kUGVyaW9kVW5pdDogJycsCiAgICAgICAgcGRHcmFjZVBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkT2JzZXJ2YXRpb25EYXk6IHVuZGVmaW5lZCwKICAgICAgICBwZEFwcGxEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFN0YXJ0RGF0ZTogdW5kZWZpbmVkLAogICAgICAgIHBkU3RvcERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHByb2R1Y3RfZXh0cmE6IHsKICAgICAgICB0eXBlUmVnaW9uOiAnJywKICAgICAgICBwZFBheUZyZXE6IFtdCiAgICAgIH0sCiAgICAgIGZvcm1fY291bnQ6IHsKICAgICAgICBwZFZlcklkOiAnJywKICAgICAgICBvcGVyYXRvcjogJycsCiAgICAgICAgcGRUeXBlOiAnJywKICAgICAgICBwZERlZlR5cGU6ICcnLAogICAgICAgIHBkSW5mb0lkOiAnJywKICAgICAgICBwZENvZGU6ICcnLAogICAgICAgIHBkTmFtZTogJycsCiAgICAgICAgcGRQcmVtSWRzOiBbXSwKICAgICAgICBwZFByZW1JZDogJycsCiAgICAgICAgcGRQcmVtQ29kZTogJycsCiAgICAgICAgcGRQcmVtQ29kZXM6IFtdLAogICAgICAgIHBkQ21wblJhbmdlOiBbXSwKICAgICAgICBwZENtcG5UeXBlOiAnJywKICAgICAgICBjbXBuSW5mb0lkOiAnJywKICAgICAgICBwZENtcG5Db2RlOiAnJywKICAgICAgICBwZENtcG5PcmRlcjogJycsCiAgICAgICAgcGRDbXBuQ2FsY01vZGU6ICcnLAogICAgICAgIHBkQ21wblZhbDogJycsCiAgICAgICAgcGRDbXBuQ2FsY0NvZGU6ICcnLAogICAgICAgIHBkQ21wbkRlc2M6ICcnCiAgICAgIH0sCiAgICAgIGZvcm1fZGVmQWRkOiB7fSwKICAgICAgZm9ybV9kZWY6IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkSW5mb0lkOiB1bmRlZmluZWQsCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBvcGVyYXRvcjogJycsCiAgICAgICAgcGRQYXlOYW1lOiAnJywKICAgICAgICBwZFByZW1Db2RlOiAnJywKICAgICAgICBwZFByZW1DYWxNb2RlOiAnRycsCiAgICAgICAgcGRQcmVtWmVyb0ZsYWc6ICdZJywKICAgICAgICBwZFByZW1SZWNsRmxhZzogJ04nLAogICAgICAgIHBkVXJnZVBheUZsYWc6ICdZJywKICAgICAgICBwZFBheVN0YXJ0UGVyaW9kOiB1bmRlZmluZWQsCiAgICAgICAgcGRQYXlTdGFydFBlclVuaXQ6ICdZJywKICAgICAgICBwZFBheVN0YXJ0Q2FsUnVsZTogJycsCiAgICAgICAgcGRQYXlTdGFydENhbE1vZGU6ICcnLAogICAgICAgIHBkUGF5RW5kUGVyaW9kOiB1bmRlZmluZWQsCiAgICAgICAgcGRQYXlFbmRVbml0OiAnWScsCiAgICAgICAgcGRQYXlFbmRDYWxSdWxlOiAnJywKICAgICAgICBwZFBheUVuZENhbE1vZGU6ICcnLAogICAgICAgIHBkQWRkUHJlbU1vZGU6ICcnLAogICAgICAgIHBkUGF5QWNjS2luZDogJycsCiAgICAgICAgcGRSYXRlQ2hhbmdlRmxhZzogJ04nLAogICAgICAgIHBkUHJlbUFkZEZsYWc6ICdOJywKICAgICAgICBwZFByZW1TdGFydEZsYWc6ICdOJywKICAgICAgICBwZENoYXJQcmVtUmVsOiAnTicsCiAgICAgICAgcGRQcmVtQWNjUmVsYTogJ04nLAogICAgICAgIHBkUHJlbUNhbGNDb2RlOiAnJywKICAgICAgICBwZFBheUZyZXF1ZW5jeTogJycsCiAgICAgICAgcGRQYXlEYXRlVmFsdWU6ICcnCiAgICAgIH0sCiAgICAgIGZvcm1fYWRkaXRpb246IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkUHJlbUlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZEV4dFByZW1Db2RlOiAnJywKICAgICAgICBwZEV4dFByZW1OYW1lOiAnJywKICAgICAgICBwZFByZW1OYW1lOiAnJywKICAgICAgICBwZFByZW1Db2RlOiAnJywKICAgICAgICBwZEV4dFByZW1PYmo6ICcnLAogICAgICAgIHBkRXh0UHJlbU1vZGU6ICcnLAogICAgICAgIHBkRXh0UHJlbVR5cGU6ICcnLAogICAgICAgIHBkTWF4VmFsOiB1bmRlZmluZWQsCiAgICAgICAgcGRFeHRQcmVtQ2FsY0NvZGU6ICcnLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZm9ybV9hZGRpdGlvbl9hZGQ6IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkUHJlbUlkOiBbXSwKICAgICAgICBwZEV4dFByZW1PYmo6IFtdLAogICAgICAgIHBkRXh0UHJlbU1vZGU6IFtdLAogICAgICAgIHBkRXh0UHJlbVR5cGU6IFtdLAogICAgICAgIHBkRXh0UHJlbUNhbGNDb2RlOiAnJwogICAgICB9LAogICAgICBwYWdlRmxhZzogewogICAgICAgIHRhYmxlVmlzaWJsZV9kZWY6IHRydWUsCiAgICAgICAgZGlhbG9nVmlzaWJsZV9hZGRpdGlvblR5cGU6IGZhbHNlLAogICAgICAgIGRpYWxvZ1Zpc2libGVfcXVlcnlSZXN1bHQ6IGZhbHNlLAogICAgICAgIGFkZGl0aW9uRmxhZzogZmFsc2UKICAgICAgfSwKICAgICAgZGlzcGxheU5hbWVfYWRkaXRpb25UeXBlOiAnJywKICAgICAgaXNGaXhlZDogZmFsc2UsCiAgICAgIGZpeGVkQ2xhc3NOYW1lOiAnJywKICAgICAgb2Zmc2V0VG9wOiB1bmRlZmluZWQsCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICBwZEFkZFByZW1Nb2RlOiBbXSwKICAgICAgICBwZFByZW1DYWxNb2RlOiBbXSwKICAgICAgICBwZFBheUFjY0tpbmQ6IFtdCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGRQYXlFbmRQZXJpb2Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BheV9kZWYubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ2kxOG5WaWV3LnBheVRlcm0nKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkUGF5TmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGF5X2RlZi5tZXNzYWdlLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgncGF5X2RlZi5wYXlfbmFtZScpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRQcmVtQ2FsTW9kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGF5X2RlZi5tZXNzYWdlLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgncGF5X2RlZi5wYXlfY2FsY19tZXRob2QnKSwKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgcGRFeHRQcmVtTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWKoOi0ueWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZFByZW1JZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWKoOi0ueWvueixoSIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZFByZW1JZHM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nliqDotLnlr7nosaEiLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRFeHRQcmVtT2JqOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5Yqg6LS55a+56LGhIiwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkRXh0UHJlbU1vZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nliqDotLnmlrnlvI8iLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRFeHRQcmVtVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWKoOi0ueexu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBydWxlczE6IHsKICAgICAgICBwZFBheUZyZXE6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BheV9kZWYubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BheV9kZWYucGF5X2ZyZXF1ZW5jeScpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgcnVsZXNfY291bnQ6IHsKICAgICAgICBwZFByZW1JZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGF5X2RlZi5tZXNzYWdlLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgncGF5X2RlZi5wYXlfbmFtZScpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRDbXBuUmFuZ2U6IFt7CiAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwYXlfZGVmLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwYXlfZGVmLnBheV9kaXNjb3VudF9yYW5nZScpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBwZENtcG5UeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwYXlfZGVmLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwYXlfZGVmLnBheV9kaXNjb3VudF90eXBlJyksCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZENtcG5PcmRlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncGF5X2RlZi5tZXNzYWdlLnBsZWFzZV9lbnRlcicpICsgdGhpcy4kdCgncGF5X2RlZi5wYXlfZGlzY291bnRfb3JkZXInKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkQ21wbkNhbGNNb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwYXlfZGVmLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwYXlfZGVmLnBheV9jYWxjX21ldGhvZCcpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XQogICAgICB9LAogICAgICBydWxlc19xdWljazogewogICAgICAgIGZpbmVsaW5lc1JlZ2lvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZm9ybS5wbGVhc2Vfc2VsZWN0JykgKyB0aGlzLiR0KCdwYXlfZGVmLmZpbmVsaW5lc1JlZ2lvbicpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgcHJlbUFtb3VudEZvcm11bGE6IF9wcmVtRm9ybXVsYS5kZWZhdWx0LAogICAgcHJlbUFtb3VudEZvcm11bGFTZWxlY3Q6IF9wcmVtRm9ybXVsYVNlbGVjdC5kZWZhdWx0LAogICAgcHJlbVJ1bGVzOiBfcHJlbVJ1bGUuZGVmYXVsdCwKICAgIHByZW1SdWxlc1NlbGVjdDogX3ByZW1SdWxlU2VsZWN0LmRlZmF1bHQsCiAgICBwZERpc2NvdW50Rm9ybXVsYTogX2Rpc2NvdW50Rm9ybXVsYS5kZWZhdWx0LAogICAgcGREaXNjb3VudEZvcm11bGFTZWxlY3Q6IF9kaXNjb3VudEZvcm11bGFTZWxlY3QuZGVmYXVsdCwKICAgIGd1aWRlOiBfZ3VpZGUuZGVmYXVsdAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMi5pbml0UHJvZHVjdFF1ZXJ5RGF0YSgpOwoKICAgICAgICAgICAgICBfdGhpczIuc2hvd1BhZ2VGbGFnID0gX3RoaXMyLiRyb3V0ZS5xdWVyeS5zaG93UGFnZUZsYWc7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pbml0KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX3RoaXMyLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbyA9IF90aGlzMi4kcm91dGUucXVlcnkucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID09PSAndHJ1ZSc7CgogICAgICAgICAgICAgIGlmICghX3RoaXMyLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbykgewogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUHJlbUFkZEZsYWcgPSAnWSc7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRQYXlTdGFydENhbE1vZGUgPSAnMCc7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRQYXlTdGFydENhbFJ1bGUgPSAnUyc7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRQYXlFbmRDYWxNb2RlID0gJzAnOwogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUGF5RW5kQ2FsUnVsZSA9ICdTJzsKICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtX2RlZi5wZFBheURhdGVWYWx1ZSA9ICcxJzsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJlZnMucGFnZV9kZWYuYnVpbGREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcmVmcy5wYWdlX2FkZGl0aW9uLmJ1aWxkRGF0YSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIC8vIOW4puWFpemcgOimgeafpeeci+eahOS/oeaBrwogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIucHJlbWl1bUNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKF90aGlzMi5kZWZUYWJsZURhdGEpLAogICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGVwNDsKCiAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlbWl1bS5wZFByZW1Db2RlID09PSBfdGhpczIucHJlbWl1bUNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbGVjdGVkRGVmID0gcHJlbWl1bTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWREZWZDaGFuZ2VkKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUHJlbUFkZEZsYWcgPSAnWSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLmRpc2NvdW50Q2xpY2soKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0RGlzY291bnRSYW5nZVRhYmxlKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUHJlbUFkZEZsYWcgPSAnWSc7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzLnBhZ2VfZGVmLmJ1aWxkRGF0YSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHJlZnMucGFnZV9hZGRpdGlvbi5idWlsZERhdGEoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAvLyDluKblhaXpnIDopoHmn6XnnIvnmoTkv6Hmga8KICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnByZW1pdW1Db2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I1ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpczIuZGVmVGFibGVEYXRhKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RlcDU7CgogICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bSA9IF9zdGVwNS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZW1pdW0ucGRQcmVtQ29kZSA9PT0gX3RoaXMyLnByZW1pdW1Db2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZERlZiA9IHByZW1pdW07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbGVjdGVkRGVmQ2hhbmdlZCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtX2RlZi5wZFByZW1BZGRGbGFnID0gJ1knOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIC8vIOWQuOmhtuaViOaenAogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaW5pdEhlaWdodCk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMy5vZmZzZXRUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFibGVfZGVmJykub2Zmc2V0VG9wOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7CiAgfSwKICBjb21wdXRlZDogKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCAoMCwgX3Z1ZXgubWFwR2V0dGVycykoWydsZGNvZGVzJywgJ3NpZGViYXInXSkpLAogIHdhdGNoOiB7CiAgICAnZm9ybV9kZWYucGRQYXlFbmRQZXJpb2QnOiBmdW5jdGlvbiBmb3JtX2RlZlBkUGF5RW5kUGVyaW9kKCkgewogICAgICB2YXIgdmFsVGltZSA9IHRoaXMuZm9ybV9kZWYucGRQYXlFbmRQZXJpb2Q7CgogICAgICBpZiAodmFsVGltZSkgewogICAgICAgIGlmICghdGhpcy5mb3JtX2RlZi5wZFBheUVuZFVuaXQpIHsKICAgICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlFbmRVbml0ID0gJ1knOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICdmb3JtX2RlZi5wZFBheVN0YXJ0UGVyaW9kJzogZnVuY3Rpb24gZm9ybV9kZWZQZFBheVN0YXJ0UGVyaW9kKCkgewogICAgICB2YXIgdmFsVGltZSA9IHRoaXMuZm9ybV9kZWYucGRQYXlTdGFydFBlcmlvZDsKCiAgICAgIGlmICh2YWxUaW1lKSB7CiAgICAgICAgaWYgKCF0aGlzLmZvcm1fZGVmLnBkUGF5U3RhcnRQZXJVbml0KSB7CiAgICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5U3RhcnRQZXJVbml0ID0gJ1knOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICdmb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1UeXBlJzogZnVuY3Rpb24gZm9ybV9hZGRpdGlvbl9hZGRQZEV4dFByZW1UeXBlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuZGlzcGxheU5hbWVfYWRkaXRpb25UeXBlID0gJyc7CgogICAgICB2YXIgYWRkaXRpb25UeXBlTGlzdF9zZWxlY3RlZCA9IHRoaXMuXy5maWx0ZXIodGhpcy5sZGNvZGVzWydwZF9wcmVtX2FkZGl0aW9uX3R5cGUnXSwgZnVuY3Rpb24gKGFkZGl0aW9uVHlwZSkgewogICAgICAgIHJldHVybiBfdGhpcy5pc0luQXJyYXkoYWRkaXRpb25UeXBlLmNvZGUsIF90aGlzLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbVR5cGUpOwogICAgICB9KTsKCiAgICAgIGlmIChhZGRpdGlvblR5cGVMaXN0X3NlbGVjdGVkICYmIGFkZGl0aW9uVHlwZUxpc3Rfc2VsZWN0ZWQubGVuZ3RoID4gMCkgewogICAgICAgIGFkZGl0aW9uVHlwZUxpc3Rfc2VsZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAoYWRkaXRpb25UeXBlLCBpbmRleCkgewogICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzNC5kaXNwbGF5TmFtZV9hZGRpdGlvblR5cGUgKz0gYWRkaXRpb25UeXBlLmNvZGVuYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0LmRpc3BsYXlOYW1lX2FkZGl0aW9uVHlwZSArPSAnLCAnICsgYWRkaXRpb25UeXBlLmNvZGVuYW1lOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlzcGxheU5hbWVfYWRkaXRpb25UeXBlID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICAncXVpY2tUYWJsZURhdGEnOiBmdW5jdGlvbiBxdWlja1RhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5xdWlja1RhYmxlRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MCA9IFtdOwogICAgICAgIHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDEgPSBbXTsKICAgICAgICB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QyID0gW107CiAgICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MyA9IFtdOwogICAgICAgIHRoaXMucXVpY2tUYWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICBfdGhpczUucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDAucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFByZW1Db2RlLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUNvZGUKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNS5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MS5wdXNoKHsKICAgICAgICAgICAgdGV4dDogdmFsLnBkUmF0ZUNoYW5nZUZsYWcsCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRSYXRlQ2hhbmdlRmxhZwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM1LnF1aWNrZmlsdGVySGFuZGxlckxpc3QyLnB1c2goewogICAgICAgICAgICB0ZXh0OiB2YWwucGRQcmVtQWNjUmVsYSwKICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFByZW1BY2NSZWxhCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczUucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDMucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFByZW1BZGRGbGFnLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUFkZEZsYWcKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QwID0gdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXByZXYuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dDsKICAgICAgICB9KSkgewogICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0sIFtdKTsKICAgICAgdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0MSA9IHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMucXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDIgPSB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QyLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZWxlbWVudCkgewogICAgICAgIGlmICghcHJldi5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLnRleHQgPT0gZWxlbWVudC50ZXh0OwogICAgICAgIH0pKSB7CiAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcHJldjsKICAgICAgfSwgW10pOwogICAgICB0aGlzLnF1aWNrZmlsdGVySGFuZGxlckxpc3QzID0gdGhpcy5xdWlja2ZpbHRlckhhbmRsZXJMaXN0My5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXByZXYuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC50ZXh0ID09IGVsZW1lbnQudGV4dDsKICAgICAgICB9KSkgewogICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0sIFtdKTsKICAgIH0sCiAgICBkZWZUYWJsZURhdGE6IGZ1bmN0aW9uIGRlZlRhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kZWZUYWJsZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QwID0gW107CiAgICAgICAgdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDEgPSBbXTsKICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXJMaXN0MiA9IFtdOwogICAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QzID0gW107CiAgICAgICAgdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDQgPSBbXTsKICAgICAgICB0aGlzLmRlZlRhYmxlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgIF90aGlzNi5maWx0ZXJIYW5kbGVyTGlzdDAucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFByZW1Db2RlLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUNvZGUKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNi5maWx0ZXJIYW5kbGVyTGlzdDEucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFJhdGVDaGFuZ2VGbGFnLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUmF0ZUNoYW5nZUZsYWcKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNi5maWx0ZXJIYW5kbGVyTGlzdDIucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFByZW1BY2NSZWxhLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUFjY1JlbGEKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNi5maWx0ZXJIYW5kbGVyTGlzdDMucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFByZW1BZGRGbGFnLAogICAgICAgICAgICB2YWx1ZTogdmFsLnBkUHJlbUFkZEZsYWcKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNi5maWx0ZXJIYW5kbGVyTGlzdDQucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IHZhbC5wZFBheUVuZFBlcmlvZCwKICAgICAgICAgICAgdmFsdWU6IHZhbC5wZFBheUVuZFBlcmlvZAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QwID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDAucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QxID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QyID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDIucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3QzID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuZmlsdGVySGFuZGxlckxpc3Q0ID0gdGhpcy5maWx0ZXJIYW5kbGVyTGlzdDQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CgogICAgICBpZiAodGhpcy50YWJsZUNvdW50ID09IDApIHsKICAgICAgICBpZiAodGhpcy5kZWZUYWJsZURhdGEubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmRlZlRhYmxlRGF0YS5zZXRDdXJyZW50Um93KHRoaXMuZGVmVGFibGVEYXRhWzBdKTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWYgPSB0aGlzLmRlZlRhYmxlRGF0YVswXTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWZDaGFuZ2VkKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZGVmVGFibGVEYXRhLnNldEN1cnJlbnRSb3codGhpcy5kZWZUYWJsZURhdGFbMF0pOwogICAgICAgIHRoaXMuc2VsZWN0ZWREZWYgPSB0aGlzLmRlZlRhYmxlRGF0YVswXTsKICAgICAgICB0aGlzLnNlbGVjdGVkRGVmQ2hhbmdlZCgpOwogICAgICB9CgogICAgICB0aGlzLnBhcmFtc19hZGRpdGlvbi5wcmVtaXVtTGlzdCA9IHRoaXMuZGVmVGFibGVEYXRhOwoKICAgICAgaWYgKHRoaXMuZm9ybV9kZWYucGRQcmVtQWRkRmxhZyA9PT0gJ1knKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2FkZGl0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9LAogICAgJ2Rpc2NvdW50VGFibGVEYXRhJzogZnVuY3Rpb24gZGlzY291bnRUYWJsZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlzY291bnRUYWJsZURhdGEubGVuZ3RoID09IDEpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRGlzY291bnQgPSB0aGlzLmRpc2NvdW50VGFibGVEYXRhWzBdOwogICAgICAgIHRoaXMuc2VsZWN0ZWREaXNjb3VudENoYW5nZWQoKTsKICAgICAgfSAvL+iOt+WPluS8mOaDoOmhuuW6jwoKCiAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby5nZXRNYXhSYW5nZU9yZGVyKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoewogICAgICAgICJwZEluZm9JZCI6IHRoaXMucHJvZHVjdC5pZAogICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3LmNvbmZpZ1JhbmdlTGVuZ3RoID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXM3LmZvcm1fY291bnQucGRDbXBuT3JkZXIgPSByZXMuZGF0YTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5kaXNjb3VudFRhYmxlRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5maWx0ZXJEaXNjb3VudENvZGUgPSBbXTsKICAgICAgICB0aGlzLnBkQ21wblJhbmdlRmlsdGVycyA9IFtdOwogICAgICAgIHRoaXMucGRDbXBuVHlwZUZpbHRlcnMgPSBbXTsKICAgICAgICB0aGlzLmRpc2NvdW50VGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgX3RoaXM3LmZpbHRlckRpc2NvdW50Q29kZS5wdXNoKHsKICAgICAgICAgICAgdGV4dDogdmFsLnBkUHJlbUNvZGUsCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRQcmVtQ29kZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM3LnBkQ21wblJhbmdlRmlsdGVycy5wdXNoKHsKICAgICAgICAgICAgdGV4dDogX3RoaXM3LmZpbHRlcl9wZENtcG5SYW5nZXModmFsLnBkQ21wblJhbmdlKSwKICAgICAgICAgICAgdmFsdWU6IHZhbC5wZENtcG5SYW5nZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM3LnBkQ21wblR5cGVGaWx0ZXJzLnB1c2goewogICAgICAgICAgICB0ZXh0OiBfdGhpczcuZ2V0Q29kZU5hbWUoJ3ByZWZlcmVudGlhbFR5cGUnLCB2YWwucGRDbXBuVHlwZSksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRDbXBuVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7IC8v57y06LS557yW56CBCgogICAgICAgIHRoaXMuZmlsdGVyRGlzY291bnRDb2RlID0gdGhpcy5maWx0ZXJEaXNjb3VudENvZGUucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgICBpZiAoIXByZXYuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgcmV0dXJuIGVsLnRleHQgPT0gZWxlbWVudC50ZXh0OwogICAgICAgICAgfSkpIHsKICAgICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgIH0sIFtdKTsgLy/kvJjmg6DojIPlm7QKCiAgICAgICAgdGhpcy5wZENtcG5SYW5nZUZpbHRlcnMgPSB0aGlzLnBkQ21wblJhbmdlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgICAgfSwgW10pOyAvL+S8mOaDoOexu+WeiwoKICAgICAgICB0aGlzLnBkQ21wblR5cGVGaWx0ZXJzID0gdGhpcy5wZENtcG5UeXBlRmlsdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmICghcHJldi5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgICAgfSwgW10pOwogICAgICB9CiAgICB9LAogICAgJ3NpZGViYXIub3BlbmVkJzogZnVuY3Rpb24gc2lkZWJhck9wZW5lZCgpIHsKICAgICAgdGhpcy5pbml0SGVpZ2h0KCk7CiAgICB9LAogICAgJ2FkZGl0aW9uVGFibGVEYXRhJzogZnVuY3Rpb24gYWRkaXRpb25UYWJsZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYWRkaXRpb25UYWJsZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxID0gW107CiAgICAgICAgdGhpcy5maWx0ZXJwZEV4dFByZW1OYW1lTGlzdDIgPSBbXTsKICAgICAgICB0aGlzLmFkZGl0aW9uVGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgX3RoaXM4LmZpbHRlcnBkRXh0UHJlbU5hbWVMaXN0MS5wdXNoKHsKICAgICAgICAgICAgdGV4dDogdmFsLnBkRXh0UHJlbU5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRFeHRQcmVtTmFtZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM4LmZpbHRlcnBkRXh0UHJlbU5hbWVMaXN0Mi5wdXNoKHsKICAgICAgICAgICAgdGV4dDogX3RoaXM4LmdldENvZGVOYW1lKCdwZF9wcmVtX2FkZGl0aW9uX3R5cGUnLCB2YWwucGRFeHRQcmVtVHlwZSksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRFeHRQcmVtVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxID0gdGhpcy5maWx0ZXJwZEV4dFByZW1OYW1lTGlzdDEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QyID0gdGhpcy5maWx0ZXJwZEV4dFByZW1OYW1lTGlzdDIucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PSBlbGVtZW50LnRleHQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHByZXYucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcmV2OwogICAgICB9LCBbXSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbiA9IHt9OwogICAgICB0aGlzLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CgogICAgICBpZiAodGhpcy5hZGRpdGlvblRhYmxlRGF0YS5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbiA9IHRoaXMuYWRkaXRpb25UYWJsZURhdGFbMF07CiAgICAgICAgdGhpcy5zZWxlY3RlZEFkZGl0aW9uQ2hhbmdlZCgpOwogICAgICB9CiAgICB9LAogICAgJ2Zvcm1fY291bnQucGRDbXBuQ2FsY01vZGUnOiBmdW5jdGlvbiBmb3JtX2NvdW50UGRDbXBuQ2FsY01vZGUoKSB7CiAgICAgIHZhciB2YWwgPSB0aGlzLmZvcm1fY291bnQucGRDbXBuQ2FsY01vZGU7CgogICAgICBpZiAodmFsID09PSAnMScpIHsKICAgICAgICB0aGlzLmZvcm1fY291bnQucGRDbXBuQ2FsY0NvZGUgPSAnJzsKICAgICAgfSBlbHNlIGlmICh2YWwgPT09ICcyJykgewogICAgICAgIHRoaXMuZm9ybV9jb3VudC5wZENtcG5WYWwgPSAnJzsKICAgICAgfQogICAgfSwKICAgICdmb3JtX2NvdW50LnBkQ21wblJhbmdlJzogZnVuY3Rpb24gZm9ybV9jb3VudFBkQ21wblJhbmdlKHNlbGVjdGVkQ29kZXMpIHsKICAgICAgaWYgKHNlbGVjdGVkQ29kZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMucGREaXNjb3VudFJhbmdlT3B0aW9ucyksCiAgICAgICAgICAgIF9zdGVwNjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBwZERpc2NvdW50ID0gX3N0ZXA2LnZhbHVlOwogICAgICAgICAgICBwZERpc2NvdW50LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLl8uaW5jbHVkZXMoc2VsZWN0ZWRDb2RlcywgJzAwMDAwMCcpKSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yNyA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5wZERpc2NvdW50UmFuZ2VPcHRpb25zKSwKICAgICAgICAgICAgICBfc3RlcDc7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgX3BkRGlzY291bnQgPSBfc3RlcDcudmFsdWU7CiAgICAgICAgICAgICAgX3BkRGlzY291bnQuZGlzYWJsZWQgPSBfcGREaXNjb3VudC52YWx1ZSAhPT0gJzAwMDAwMCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yOCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5wZERpc2NvdW50UmFuZ2VPcHRpb25zKSwKICAgICAgICAgICAgICBfc3RlcDg7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgX3BkRGlzY291bnQyID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgICAgIF9wZERpc2NvdW50Mi5kaXNhYmxlZCA9IF9wZERpc2NvdW50Mi52YWx1ZSA9PT0gJzAwMDAwMCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjguZigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmFjazI6IGZ1bmN0aW9uIGJhY2syKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ+S6p+WTgeWFrOW8j+iuouato+S4u+mhtScsCiAgICAgICAgcGFyYW1zOiB7fQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VQZENtcG5DYWxjTW9kZTogZnVuY3Rpb24gY2hhbmdlUGRDbXBuQ2FsY01vZGUoKSB7Ly9jb25zb2xlLmxvZyh0aGlzLmZvcm1fY291bnQucGRDbXBuQ2FsY01vZGUpCiAgICB9LAogICAgYnJpbmdJbkNhbGNDb2RlOiBmdW5jdGlvbiBicmluZ0luQ2FsY0NvZGUocGRCdXNzRGV0YWlsVHlwZSwgcGRCdXNzSWQsIGNhbGNDb2RlKSB7CiAgICAgIHN3aXRjaCAocGRCdXNzRGV0YWlsVHlwZSkgewogICAgICAgIGNhc2UgJzE3JzoKICAgICAgICAgIHZhciBfaXRlcmF0b3I5ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmRlZlRhYmxlRGF0YSksCiAgICAgICAgICAgICAgX3N0ZXA5OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIHByZW0gPSBfc3RlcDkudmFsdWU7CgogICAgICAgICAgICAgIGlmIChwcmVtLmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQocHJlbSwgJ3BkUHJlbUNhbGNDb2RlJywgY2FsY0NvZGUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yOS5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I5LmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5mb3JtX2RlZi5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgewogICAgICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUHJlbUNhbGNDb2RlID0gY2FsY0NvZGU7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJzE5JzoKICAgICAgICAgIHZhciBfaXRlcmF0b3IxMCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5hZGRpdGlvblRhYmxlRGF0YSksCiAgICAgICAgICAgICAgX3N0ZXAxMDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDEwID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBleHRQcmVtID0gX3N0ZXAxMC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKGV4dFByZW0uaWQgPT09IE51bWJlcihwZEJ1c3NJZCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHNldChleHRQcmVtLCAncGRFeHRQcmVtQ2FsY0NvZGUnLCBjYWxjQ29kZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IxMC5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuZm9ybV9hZGRpdGlvbi5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgewogICAgICAgICAgICB0aGlzLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtQ2FsY0NvZGUgPSBjYWxjQ29kZTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnNDAnOgogICAgICAgICAgdmFyIF9pdGVyYXRvcjExID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmRpc2NvdW50VGFibGVEYXRhKSwKICAgICAgICAgICAgICBfc3RlcDExOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTEucygpOyAhKF9zdGVwMTEgPSBfaXRlcmF0b3IxMS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGRpc2NvdW50ID0gX3N0ZXAxMS52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKGRpc2NvdW50LmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQoZGlzY291bnQsICdwZENtcG5DYWxjQ29kZScsIGNhbGNDb2RlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjExLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5mb3JtX2NvdW50LmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybV9jb3VudC5wZENtcG5DYWxjQ29kZSA9IGNhbGNDb2RlOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjb3VudENsaWNrOiBmdW5jdGlvbiBkaXNjb3VudENsaWNrKCkgewogICAgICBpZiAodGhpcy5kaXNjb3VudEZsYWcgPT09ICdOJykgewogICAgICAgIHRoaXMucXVpY2tpY29uX2Rpc2NvdW50ID0gImVsLWljb24tYXJyb3ctZG93biI7CiAgICAgICAgdGhpcy5kaXNjb3VudEZsYWcgPSAnWSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWlja2ljb25fZGlzY291bnQgPSAiZWwtaWNvbi1hcnJvdy1yaWdodCI7CiAgICAgICAgdGhpcy5kaXNjb3VudEZsYWcgPSAnTic7CiAgICAgIH0KICAgIH0sCiAgICAvL+WFrOW8jwogICAgZ29DbGlja3M6IGZ1bmN0aW9uIGdvQ2xpY2tzKG51bTEsIG51bTIpIHsKICAgICAgdGhpcy5ndWFyYW50ZWVEZXRhaWxzID0gbnVtMTsgLy/kuJrliqHlpKfnsbsKCiAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IG51bTI7IC8v5Lia5Yqh57uG57G7CgogICAgICBpZiAobnVtMiA9PT0gJzE5JykgewogICAgICAgIC8v5Yqg6LS5CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuc2VsZWN0ZWRBZGRpdGlvbi5wZFByZW1JZCArICI6IiArIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbi5wZFByZW1Db2RlOwogICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IHRoaXMuc2VsZWN0ZWRBZGRpdGlvbi5pZCArICI6IiArIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbi5wZEV4dFByZW1Db2RlOwogICAgICB9IGVsc2UgewogICAgICAgIC8v57y06LS5CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuc2VsZWN0ZWREZWYuaWQgPyB0aGlzLnNlbGVjdGVkRGVmLmlkICsgIjoiICsgdGhpcy5zZWxlY3RlZERlZi5wZFByZW1Db2RlIDogdGhpcy5mb3JtX2RlZkFkZC5pZCArICI6IiArIHRoaXMuZm9ybV9kZWZBZGQucGRQcmVtQ29kZTsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSAnJzsKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2dTaG93LnByZW1BbW91bnRGb3JtdWxhID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRQZERpc2NvdW50UmFuZ2U6IGZ1bmN0aW9uIGdldFBkRGlzY291bnRSYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wZERpc2NvdW50UmFuZ2VPcHRpb25zID0gW107IC8v5re75Yqg5YWo6YOo6YCJ6aG5CgogICAgICB0aGlzLnBkRGlzY291bnRSYW5nZU9wdGlvbnMucHVzaCh7CiAgICAgICAgdmFsdWU6ICcwMDAwMDAnLAogICAgICAgIGxhYmVsOiAn5YWo6YOoJwogICAgICB9KTsgLy/mt7vliqDnvLTotLnpgInpobkKCiAgICAgIHZhciBfaXRlcmF0b3IxMiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5kZWZUYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXAxMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxMi5zKCk7ICEoX3N0ZXAxMiA9IF9pdGVyYXRvcjEyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwZERpc0NvdW50ID0gX3N0ZXAxMi52YWx1ZTsKCiAgICAgICAgICBpZiAodmFsLmluY2x1ZGVzKHBkRGlzQ291bnQuaWQpKSB7CiAgICAgICAgICAgIHRoaXMucGREaXNjb3VudFJhbmdlT3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICB2YWx1ZTogcGREaXNDb3VudC5wZFByZW1Db2RlLAogICAgICAgICAgICAgIGxhYmVsOiBwZERpc0NvdW50LnBkUHJlbUNvZGUgKyAiOiIgKyBwZERpc0NvdW50LnBkUGF5TmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IC8v5re75Yqg5Yqg6LS56YCJ6aG5CgogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTIuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMTMgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMuYWRkaXRpb25UYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXAxMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxMy5zKCk7ICEoX3N0ZXAxMyA9IF9pdGVyYXRvcjEzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfcGREaXNDb3VudCA9IF9zdGVwMTMudmFsdWU7CgogICAgICAgICAgaWYgKHZhbC5pbmNsdWRlcyhfcGREaXNDb3VudC5wZFByZW1JZCkpIHsKICAgICAgICAgICAgdGhpcy5wZERpc2NvdW50UmFuZ2VPcHRpb25zLnB1c2goewogICAgICAgICAgICAgIHZhbHVlOiBfcGREaXNDb3VudC5wZEV4dFByZW1Db2RlLAogICAgICAgICAgICAgIGxhYmVsOiBfcGREaXNDb3VudC5wZEV4dFByZW1Db2RlICsgIi0iICsgX3BkRGlzQ291bnQucGRFeHRQcmVtTmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IC8v6K6+572u572u54Gw5bGe5oCnCgogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTMuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMTQgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMucGREaXNjb3VudFJhbmdlT3B0aW9ucyksCiAgICAgICAgICBfc3RlcDE0OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjE0LnMoKTsgIShfc3RlcDE0ID0gX2l0ZXJhdG9yMTQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHBkRGlzY291bnQgPSBfc3RlcDE0LnZhbHVlOwogICAgICAgICAgdGhpcy4kc2V0KHBkRGlzY291bnQsICdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjE0LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxNC5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGE6IGZ1bmN0aW9uIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYShmbGFnKSB7CiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMucGR0ZW1wUGRCbmZ0OwogICAgICB9CgogICAgICB0aGlzLmRpYWxvZ1Nob3cucHJlbUFtb3VudEZvcm11bGEgPSBmbGFnOwogICAgfSwKICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdDogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9mb3JtdWxhU2VsZWN0KGZsYWcsIGd1YXJhbnRlZURldGFpbHMsIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGUsIHByZW0sIGV4dFByZW0pIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSBwcmVtOwogICAgICAgIHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucyA9IGV4dFByZW07CiAgICAgICAgdGhpcy5ndWFyYW50ZWVEZXRhaWxzID0gZ3VhcmFudGVlRGV0YWlsczsKICAgICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBjYWxjdWxhdGlvbkZvcm11bGFUeXBlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYSA9IGZhbHNlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzOS5kaWFsb2dTaG93LnByZW1BbW91bnRGb3JtdWxhID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2dTaG93LnByZW1BbW91bnRGb3JtdWxhU2VsZWN0ID0gZmxhZzsKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3BkRGlzY291bnRTZWxlY3Q6IGZ1bmN0aW9uIGNoYW5nZURpYWxvZ1Zpc2libGVfcGREaXNjb3VudFNlbGVjdChmbGFnKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wZERpc2NvdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWc7CgogICAgICBpZiAoZmxhZyA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmRpYWxvZ1Nob3cucGREaXNjb3VudEZvcm11bGEgPSBmYWxzZTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczEwLmRpYWxvZ1Nob3cucGREaXNjb3VudEZvcm11bGEgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmlsdGVySGFuZGxlcjogZnVuY3Rpb24gZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyRGlzY291bnQ6IGZ1bmN0aW9uIGZpbHRlckhhbmRsZXJEaXNjb3VudCh2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICAvL+inhOWImQogICAgZ29SdWxlczogZnVuY3Rpb24gZ29SdWxlcyhudW0xLCBudW0yKSB7CiAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IG51bTE7IC8v5Lia5Yqh5aSn57G7CgogICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBudW0yOyAvL+S4muWKoee7huexuwoKICAgICAgdGhpcy5kaWFsb2dSdWxlc1Nob3cucHJlbVJ1bGVzID0gdHJ1ZTsKICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuZm9ybV9kZWYuaWQgKyAiOiIgKyB0aGlzLmZvcm1fZGVmLnBkUHJlbUNvZGU7CiAgICB9LAogICAgZ29QZERpc2NvdW50U2VsZWN0OiBmdW5jdGlvbiBnb1BkRGlzY291bnRTZWxlY3QobnVtMSwgbnVtMikgewogICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBudW0xOyAvL+S4muWKoeWkp+exuwoKICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gbnVtMjsgLy/kuJrliqHnu4bnsbsKCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wZERpc2NvdW50Rm9ybXVsYSA9IHRydWU7CiAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLmZvcm1fZGVmOwogICAgICB0aGlzLnBkRGlzQ291bnQgPSB0aGlzLmZvcm1fY291bnQ7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblJhbmdlczogZnVuY3Rpb24gZmlsdGVyX3BkQ21wblJhbmdlcyhjb2RlKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxNSA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMuZGVmVGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwMTU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGVmID0gX3N0ZXAxNS52YWx1ZTsKCiAgICAgICAgICBpZiAoZGVmLnBkUHJlbUNvZGUgPT09IGNvZGUpIHsKICAgICAgICAgICAgcmV0dXJuIGRlZi5wZFByZW1Db2RlICsgIjoiICsgZGVmLnBkUGF5TmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjE1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxNS5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IxNiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMuYWRkaXRpb25UYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXAxNjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxNi5zKCk7ICEoX3N0ZXAxNiA9IF9pdGVyYXRvcjE2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGVmMiA9IF9zdGVwMTYudmFsdWU7CgogICAgICAgICAgaWYgKF9kZWYyLnBkRXh0UHJlbUNvZGUgPT09IGNvZGUpIHsKICAgICAgICAgICAgcmV0dXJuIF9kZWYyLnBkRXh0UHJlbUNvZGUgKyAiOiIgKyBfZGVmMi5wZEV4dFByZW1OYW1lOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTYuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjE2LmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvZGU7CiAgICB9LAogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlczogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlcyhmbGFnKSB7CiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMucGR0ZW1wUGRCbmZ0OwogICAgICB9CgogICAgICB0aGlzLmRpYWxvZ1J1bGVzU2hvdy5wcmVtUnVsZXMgPSBmbGFnOwogICAgfSwKICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfcGREaXNjb3VudDogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9wZERpc2NvdW50KGZsYWcpIHsKICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5wZHRlbXBQZEJuZnQ7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wZERpc2NvdW50Rm9ybXVsYSA9IGZsYWc7CiAgICB9LAogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlc1NlbGVjdDogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlc1NlbGVjdChmbGFnLCBndWFyYW50ZWVEZXRhaWxzLCBjYWxjdWxhdGlvbkZvcm11bGFUeXBlLCBwcmVtLCBleHRQcmVtKSB7CiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHByZW07CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zID0gZXh0UHJlbTsKICAgICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBndWFyYW50ZWVEZXRhaWxzOwogICAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nUnVsZXNTaG93LnByZW1SdWxlc1NlbGVjdCA9IGZsYWc7CiAgICB9LAogICAgLy8g6aG16Z2i5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB0aGlzLmdldFByb2R1Y3RJbmZvKCk7CiAgICAgIHRoaXMuaW5pdF9maWx0ZXJzKCk7CiAgICAgIHRoaXMuaW5pdF9wYXlfZnJlcXVlbmN5KCk7CiAgICAgIHRoaXMuc2VsZWN0RGlzY291bnRSYW5nZVRhYmxlKCk7CiAgICAgIHRoaXMuaW5pdF9wYXlfZGF0ZSgpOwogICAgICB0aGlzLmluaXRfdHlwZVJlZ2lvbigpOwogICAgfSwKICAgIGdldFByb2R1Y3RJbmZvOiBmdW5jdGlvbiBnZXRQcm9kdWN0SW5mbygpIHsKICAgICAgLy8g5bim5YWl5Lqn5ZOB5L+h5oGvCiAgICAgIHRoaXMucHJvZHVjdCA9IHRoaXMuZ2V0UGREYXRhKCk7CiAgICAgIHRoaXMucGFyYW1zX2N1cnJlbnRQcm9kdWN0LmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICB0aGlzLmZvcm1fZGVmLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICB0aGlzLmZvcm1fZGVmLnBkVmVySWQgPSB0aGlzLnByb2R1Y3QucGRWZXJJZDsKICAgICAgdGhpcy5mb3JtX2RlZi5wZENvZGUgPSB0aGlzLnByb2R1Y3QucGRDb2RlOwogICAgICB0aGlzLmZvcm1fZGVmLnBkTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWU7CiAgICAgIHRoaXMucGFyYW1zLmZpbmVsaW5lc1JlZ2lvbiA9IHRoaXMuZ2V0UGREYXRhKCkuY1R5cGU7CiAgICB9LAogICAgLy8g6I635Y+W57y06LS56aKR546HCiAgICBpbml0X3BheV9mcmVxdWVuY3k6IGZ1bmN0aW9uIGluaXRfcGF5X2ZyZXF1ZW5jeSgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtc01hcCA9IHsKICAgICAgICBwZF9pbmZvX2lkOiB0aGlzLnBhcmFtc19jdXJyZW50UHJvZHVjdC5lcV9wZEluZm9JZCwKICAgICAgICBwZF9hdHJzX2NvZGU6ICdwYXlpbnR2JwogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkcHJlbS5nZXRQZEF0dHJJbmZvKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zTWFwKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcGRUZW1wQXRyc0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMTEucHJvZHVjdF9leHRyYS5wZFBheUZyZXEgPSBfdGhpczExLl8ubWFwKHBkVGVtcEF0cnNMaXN0LCAncGRBdHJzVmFsJyk7CiAgICAgICAgX3RoaXMxMS5wZFBheUZyZXFDb3B5ID0gX3RoaXMxMS5fLm1hcChwZFRlbXBBdHJzTGlzdCwgJ3BkQXRyc1ZhbCcpOwogICAgICAgIGNvbnNvbGUubG9nKCJBQUFBQUFBQUFBQUFBQUFBQUFBQSIsIF90aGlzMTEucGRQYXlGcmVxQ29weSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5Lqn5ZOB5YiG57G75qCH6K6w6KGo5L+h5oGv5YKs57y05qCH6K6wCiAgICBpbml0X3R5cGVSZWdpb246IGZ1bmN0aW9uIGluaXRfdHlwZVJlZ2lvbigpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtc01hcCA9IHsKICAgICAgICBwZF9pbmZvX2lkOiB0aGlzLnBhcmFtc19jdXJyZW50UHJvZHVjdC5lcV9wZEluZm9JZCwKICAgICAgICBwZF9jbHNfdHlwZTogJzInCiAgICAgIH07CiAgICAgICgwLCBfcGR0ZW1wcGRwcmVtLmdldFBkQ2xzTGFiSW5mbykodGhpcy5idWlsZFJlcXVlc3REYXRhKHBhcmFtc01hcCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHBkVGVtcENsc0xhYkxpc3QgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICB2YXIgcGRDbHM2QXJyYXkgPSBfdGhpczEyLl8ubWFwKHBkVGVtcENsc0xhYkxpc3QsICdwZENsczYnKTsKCiAgICAgICAgaWYgKHBkQ2xzNkFycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzMTIuZm9ybV9kZWYucGRVcmdlUGF5RmxhZyA9IHBkQ2xzNkFycmF5WzBdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bnvLTotLnmnJ/pl7QKICAgIGluaXRfcGF5X2RhdGU6IGZ1bmN0aW9uIGluaXRfcGF5X2RhdGUoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHZhciBwYXlNYXAgPSB7CiAgICAgICAgcGRfaW5mb19pZDogdGhpcy5wYXJhbXNfY3VycmVudFByb2R1Y3QuZXFfcGRJbmZvSWQKICAgICAgfTsKICAgICAgKDAsIF9wZHRlbXBwZHByZW0uZ2V0UGF5RGF0ZSkodGhpcy5idWlsZFJlcXVlc3REYXRhKHBheU1hcCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxMy5mb3JtX2RlZi5wZFBheUVuZFBlcmlvZCA9IHJlc3BvbnNlLmRhdGEucGRQYXlQZXJpb2Q7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIneWni+WMluetm+mAieWZqAogICAgaW5pdF9maWx0ZXJzOiBmdW5jdGlvbiBpbml0X2ZpbHRlcnMoKSB7CiAgICAgIHZhciBsZGNvZGVfcGRQcmVtQ2FsTW9kZSA9IHRoaXMubGRjb2Rlc1sncGRfcHJlbV9jYWxfbWV0aG9kJ107CiAgICAgIHZhciBsZGNvZGVfcGRBZGRQcmVtTW9kZSA9IHRoaXMubGRjb2Rlc1sncGRfcHJlbV9hZGRpdGlvbl9tb2RlJ107CiAgICAgIHZhciBsZGNvZGVfcGRQYXlBY2NLaW5kID0gdGhpcy5sZGNvZGVzWydwZF9wcmVtX2FjY291bnRfdHlwZSddOwoKICAgICAgaWYgKGxkY29kZV9wZFByZW1DYWxNb2RlIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMTcgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGxkY29kZV9wZFByZW1DYWxNb2RlKSwKICAgICAgICAgICAgX3N0ZXAxNzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTcucygpOyAhKF9zdGVwMTcgPSBfaXRlcmF0b3IxNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAxNy52YWx1ZTsKICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnBkUHJlbUNhbE1vZGUucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogaXRlbS5jb2RlbmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5jb2RlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMTcuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IxNy5mKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAobGRjb2RlX3BkQWRkUHJlbU1vZGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgIHZhciBfaXRlcmF0b3IxOCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkobGRjb2RlX3BkQWRkUHJlbU1vZGUpLAogICAgICAgICAgICBfc3RlcDE4OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IxOC5zKCk7ICEoX3N0ZXAxOCA9IF9pdGVyYXRvcjE4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9pdGVtID0gX3N0ZXAxOC52YWx1ZTsKICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnBkQWRkUHJlbU1vZGUucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogX2l0ZW0uY29kZW5hbWUsCiAgICAgICAgICAgICAgdmFsdWU6IF9pdGVtLmNvZGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IxOC5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjE4LmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChsZGNvZGVfcGRQYXlBY2NLaW5kIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMTkgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGxkY29kZV9wZFBheUFjY0tpbmQpLAogICAgICAgICAgICBfc3RlcDE5OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IxOS5zKCk7ICEoX3N0ZXAxOSA9IF9pdGVyYXRvcjE5Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9pdGVtMiA9IF9zdGVwMTkudmFsdWU7CiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5wZFBheUFjY0tpbmQucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogX2l0ZW0yLmNvZGVuYW1lLAogICAgICAgICAgICAgIHZhbHVlOiBfaXRlbTIuY29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjE5LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMTkuZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbHRlcl9wZFByZW1DYWxNb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRQcmVtQ2FsTW9kZSh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cucGRQcmVtQ2FsTW9kZSA9PT0gdmFsdWU7CiAgICB9LAogICAgZmlsdGVyX3BkQWRkUHJlbU1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9wZEFkZFByZW1Nb2RlKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHJvdy5wZEFkZFByZW1Nb2RlID09PSB2YWx1ZTsKICAgIH0sCiAgICBmaWx0ZXJfcGRQYXlBY2NLaW5kOiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlBY2NLaW5kKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHJvdy5wZFBheUFjY0tpbmQgPT09IHZhbHVlOwogICAgfSwKICAgIGluaXRIZWlnaHQ6IGZ1bmN0aW9uIGluaXRIZWlnaHQoKSB7CiAgICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgICAgdGhpcy5pc0ZpeGVkID0gdGhpcy5mb3JtX2RlZi5wZFByZW1BZGRGbGFnID09PSAnWScgJiYgc2Nyb2xsVG9wID4gdGhpcy5vZmZzZXRUb3AgKyAxMzA7CiAgICAgIHRoaXMuZml4ZWRDbGFzc05hbWUgPSB0aGlzLmdldEZpeGVkQ2xhc3NOYW1lKCk7CiAgICB9LAogICAgZ2V0Rml4ZWRDbGFzc05hbWU6IGZ1bmN0aW9uIGdldEZpeGVkQ2xhc3NOYW1lKCkgewogICAgICB2YXIgb3BlbmVkID0gdGhpcy5zaWRlYmFyLm9wZW5lZDsKCiAgICAgIGlmICh0aGlzLmlzRml4ZWQgPT09IHRydWUpIHsKICAgICAgICBpZiAob3BlbmVkID09PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gJ2lzX2ZpeGVkX3NpZGViYXJPcGVuZWQnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJ2lzX2ZpeGVkX3NpZGViYXJDbG9zZWQnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0sCiAgICBpbml0UHJvZHVjdFF1ZXJ5RGF0YTogZnVuY3Rpb24gaW5pdFByb2R1Y3RRdWVyeURhdGEoKSB7CiAgICAgIHRoaXMuZmlsdGVyUHJvZHVjdEJ5Tm9kZSh0aGlzLCAnMScpOwogICAgfSwKICAgIHNlbGVjdGVkRGV0YWlsVHlwZUNoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkRGV0YWlsVHlwZUNoYW5nZWQodmFsKSB7CiAgICAgIHRoaXMucGFyYW1zLmVxX3BkSW5mb0lkID0gJyc7CiAgICAgIHZhbCA9PT0gJycgPyB0aGlzLmluaXRQcm9kdWN0UXVlcnlEYXRhKCkgOiB0aGlzLmZpbHRlclByb2R1Y3RCeUNhdGVnb3J5KHRoaXMsIHZhbCk7CiAgICB9LAogICAgaGFuZGxlU2VhcmNoSW5BbGxQcmVtaXVtOiBmdW5jdGlvbiBoYW5kbGVTZWFyY2hJbkFsbFByZW1pdW0oKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9xdWljay52YWxpZGF0ZShmdW5jdGlvbiAocGFzcykgewogICAgICAgIGlmIChwYXNzKSB7CiAgICAgICAgICBfdGhpczE0LnBhcmFtcy5maXJzdE9wZW5QYWdlRmxhZyA9ICdOJzsKICAgICAgICAgIF90aGlzMTQucGFyYW1zLmJ5UGFnZSA9ICdZJzsKCiAgICAgICAgICBfdGhpczE0LiRyZWZzLnBhZ2VfcXVpY2sucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjb3B5UHJlbWl1bVRvQ3VycmVudFByb2R1Y3Q6IGZ1bmN0aW9uIGNvcHlQcmVtaXVtVG9DdXJyZW50UHJvZHVjdChyb3cpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIGFkZCA9IHt9OwogICAgICBPYmplY3QuYXNzaWduKGFkZCwgcm93KTsgLy8g5riF6Zmk5bim5YWl55qE5Li76ZSu77yM5L2/5ZCO5Y+w5omn6KGM5paw5aKe6ICM5LiN5piv5pu05pawCgogICAgICBhZGQuaWQgPSB1bmRlZmluZWQ7IC8vIOS9v+eUqOW9k+WJjeS6p+WTgeS/oeaBr+imhuebluWOn+acieS6p+WTgeS/oeaBrwoKICAgICAgYWRkLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICBhZGQucGRDb2RlID0gdGhpcy5wcm9kdWN0LnBkQ29kZTsKICAgICAgYWRkLnBkTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWU7CiAgICAgIGFkZC5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQ7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHByZW1pdW06IGFkZAogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkcHJlbS5hZGRQZHRlbXBQZFByZW0pKGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTUuJHJlZnMucGFnZV9kZWYuYnVpbGREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczE1LiRlbWl0KCdjaGlsZEZuJywgdHJ1ZSk7CgogICAgICAgICAgX3RoaXMxNS5ub3RpZnlTdWNjZXNzKF90aGlzMTUuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmFkZCcpKTsKCiAgICAgICAgICBfdGhpczE1LnNlbGVjdGVkRGVmSW5RdWVyeVJlc3VsdCA9IHt9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBicmluZ0ludG9Gb3JtRGVmOiBmdW5jdGlvbiBicmluZ0ludG9Gb3JtRGVmKCkgewogICAgICB0aGlzLnJlc2V0Rm9ybURlZigpOwogICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9kZWYsIHRoaXMuc2VsZWN0ZWREZWZJblF1ZXJ5UmVzdWx0KTsgLy8g5riF6Zmk5bim5YWl55qE5Li76ZSu77yM6KGo56S66L+Z5piv5paw5aKe6ICM5LiN5piv5pu05pawCgogICAgICB0aGlzLmZvcm1fZGVmLmlkID0gdW5kZWZpbmVkOyAvLyDkvb/nlKjlvZPliY3kuqflk4Hkv6Hmga/opobnm5bljp/mnInkuqflk4Hkv6Hmga8KCiAgICAgIHRoaXMuZm9ybV9kZWYucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7CiAgICAgIHRoaXMuZm9ybV9kZWYucGRWZXJJZCA9IHRoaXMucHJvZHVjdC5wZFZlcklkOwogICAgICB0aGlzLmZvcm1fZGVmLnBkQ29kZSA9IHRoaXMucHJvZHVjdC5wZENvZGU7CiAgICAgIHRoaXMuZm9ybV9kZWYucGROYW1lID0gdGhpcy5wcm9kdWN0LnBkTmFtZTsKCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERlZi5wZFByZW1aZXJvRmxhZykgewogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQcmVtWmVyb0ZsYWcgPSAnTic7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERlZi5wZFVyZ2VQYXlGbGFnKSB7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFVyZ2VQYXlGbGFnID0gJ1knOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWREZWYucGRDaGFyUHJlbVJlbCkgewogICAgICAgIHRoaXMuZm9ybV9kZWYucGRDaGFyUHJlbVJlbCA9ICdOJzsKICAgICAgfQoKICAgICAgdGhpcy5wYXJhbXNfYWRkaXRpb24ucHJlbWl1bUxpc3QgPSBbdGhpcy5zZWxlY3RlZERlZl07CgogICAgICBpZiAodGhpcy4kcmVmcy5wYWdlX2FkZGl0aW9uKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2FkZGl0aW9uLnJlbG9hZCgpOwogICAgICB9CgogICAgICB0aGlzLnNlbGVjdGVkRGVmSW5RdWVyeVJlc3VsdCA9IHt9OwogICAgfSwKICAgIGhhbmRsZVNlYXJjaEluQ3VycmVudFByb2R1Y3Q6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaEluQ3VycmVudFByb2R1Y3QoKSB7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9kZWYucmVsb2FkKCk7CiAgICB9LAogICAgLy/liJ3lp4vljJbnvLTotLnkvJjmg6DooajmoLwKICAgIHNlbGVjdERpc2NvdW50UmFuZ2VUYWJsZTogZnVuY3Rpb24gc2VsZWN0RGlzY291bnRSYW5nZVRhYmxlKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICB0aGlzLmRpc2NvdW50VGFibGVEYXRhID0gW107CiAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby5zZWxlY3REaXNjb3VudFJhbmdlQnlQZEluZm9JZCkodGhpcy5idWlsZFJlcXVlc3REYXRhKHsKICAgICAgICAicGRJbmZvSWQiOiB0aGlzLnByb2R1Y3QuaWQKICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTYuZGlzY291bnRUYWJsZURhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgX3RoaXMxNi5nZXRPcmRlck51bWJlcignYWRkaXRpb25fZGlzY291bnQnKTsKCiAgICAgICAgaWYgKF90aGlzMTYuZmxhZzEgPT0gMSkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczE2LmRpc2NvdW50VGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpID0gX3RoaXMxNi5kaXNjb3VudFRhYmxlRGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgX3RoaXMxNi5mb3JtX2NvdW50LnBkQ21wbkNhbGNDb2RlID0gX3RoaXMxNi5kaXNjb3VudFRhYmxlRGF0YVtpXS5wZENtcG5DYWxjQ29kZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcm93Q2xpY2tfcXVpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrX3F1aWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZERlZkluUXVlcnlSZXN1bHQuaWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWZJblF1ZXJ5UmVzdWx0ID0ge307CiAgICAgICAgICB0aGlzLnJlc2V0Rm9ybURlZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJvd0NsaWNrX2RlZjogZnVuY3Rpb24gcm93Q2xpY2tfZGVmKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZERlZi5pZCkgewogICAgICAgICAgdGhpcy5jYW5jZWxVcGRhdGVEZWYoKTsKICAgICAgICAgIHRoaXMuaW5pdF9wYXlfZGF0ZSgpOwogICAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFBheVN0YXJ0Q2FsTW9kZSA9ICcwJzsKICAgICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlTdGFydENhbFJ1bGUgPSAnUyc7CiAgICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5RW5kQ2FsTW9kZSA9ICcwJzsKICAgICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlFbmRDYWxSdWxlID0gJ1MnOwogICAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFBheURhdGVWYWx1ZSA9ICcxJzsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZERlZkNoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkRGVmQ2hhbmdlZCgpIHsKICAgICAgdGhpcy5yZXNldEZvcm1EZWYoKTsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fZGVmLCB0aGlzLnNlbGVjdGVkRGVmKTsKICAgICAgdGhpcy5wYXlEYXRlRm9ybS5wYXlEYXRlVGFibGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybV9kZWYucGR0ZW1wUGRQcmVtUGVyaW9kTGlzdCkpOwoKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRGVmLnBkUHJlbVplcm9GbGFnKSB7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFByZW1aZXJvRmxhZyA9ICdOJzsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRGVmLnBkVXJnZVBheUZsYWcpIHsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkVXJnZVBheUZsYWcgPSAnWSc7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERlZi5wZENoYXJQcmVtUmVsKSB7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZENoYXJQcmVtUmVsID0gJ04nOwogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZERlZi5wZFBheVN0YXJ0Q2FsUnVsZSB8fCB0aGlzLnNlbGVjdGVkRGVmLnBkUGF5U3RhcnRDYWxNb2RlIHx8IHRoaXMuc2VsZWN0ZWREZWYucGRQYXlTdGFydFBlcmlvZCkgewogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQcmVtU3RhcnRGbGFnID0gJ1knOwogICAgICB9CgogICAgICB0aGlzLnBhcmFtc19hZGRpdGlvbi5wcmVtaXVtTGlzdCA9IFt0aGlzLnNlbGVjdGVkRGVmXTsKICAgICAgdmFyIGFyciA9IHRoaXMuZm9ybV9kZWYucGRQYXlGcmVxdWVuY3k7CgogICAgICBpZiAoYXJyKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcSA9IGV2YWwoJygnICsgYXJyICsgJyknKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb2R1Y3RfZXh0cmEucGRQYXlGcmVxID0gW107CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRyZWZzLnBhZ2VfYWRkaXRpb24pIHsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfYWRkaXRpb24ucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxVcGRhdGVEZWY6IGZ1bmN0aW9uIGNhbmNlbFVwZGF0ZURlZigpIHsKICAgICAgdGhpcy5yZXNldEZvcm1EZWYoKTsKICAgICAgdGhpcy5zZWxlY3RlZERlZiA9IHt9OwogICAgICB0aGlzLnBhcmFtc19hZGRpdGlvbi5wcmVtaXVtTGlzdCA9IHRoaXMuZGVmVGFibGVEYXRhOwoKICAgICAgaWYgKHRoaXMuJHJlZnMucGFnZV9hZGRpdGlvbikgewogICAgICAgIHRoaXMuJHJlZnMucGFnZV9hZGRpdGlvbi5yZWxvYWQoKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUFkZERlZjogZnVuY3Rpb24gaGFuZGxlQWRkRGVmKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm1fZGVmLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzKSB7CiAgICAgICAgX3RoaXMxNy4kcmVmcy5wcm9kdWN0X2V4dHJhLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzMikgewogICAgICAgICAgaWYgKHBhc3MgJiYgcGFzczIpIHsKICAgICAgICAgICAgX3RoaXMxNy4kcmVmcy5ydWxlRm9ybTEudmFsaWRhdGUoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxNy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcS5ldmVyeShmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LnBkUGF5RnJlcUNvcHkuaW5jbHVkZXModmFsKTsKICAgICAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcubm90aWZ5RXJyb3IoIue8tOi0uemikeeOh+S4jeWPr+i2hei/h+S6p+WTgee8tOi0ueiMg+WbtCIpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxNy5wYXlEYXRlRm9ybS5wYXlEYXRlVGFibGUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcubm90aWZ5RXJyb3IoIuivt+W9leWFpeiHs+WwkeS4gOadoee8tOi0ueacn+mXtCIpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczE3LmFkZGl0aW9uVGFibGVEYXRhLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcuZm9ybV9kZWYucGRQcmVtQWRkRmxhZyA9ICdZJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcuZm9ybV9kZWYucGRQcmVtQWRkRmxhZyA9ICdOJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNy5mb3JtX2RlZi5wZFBheVN0YXJ0UGVyaW9kID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczE3LmZvcm1fZGVmLnBkUGF5U3RhcnRQZXJVbml0ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczE3LmZvcm1fZGVmLnBkUGF5RW5kUGVyaW9kID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczE3LmZvcm1fZGVmLnBkUGF5RW5kVW5pdCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczE3LmZvcm1fZGVmLnBkUGF5RnJlcXVlbmN5ID0gX3RoaXMxNy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcTsgLy8g5riF6Zmk5bim5YWl55qE5Li76ZSu77yM5L2/5ZCO5Y+w5omn6KGM5paw5aKe6ICM5LiN5piv5pu05pawCgogICAgICAgICAgICAgICAgX3RoaXMxNy5mb3JtX2RlZi5pZCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIF90aGlzMTcuZm9ybV9kZWYucGRQcmVtU3RhcnRGbGFnID0gJyc7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgcHJlbWl1bTogX3RoaXMxNy5mb3JtX2RlZiwKICAgICAgICAgICAgICAgICAgcGF5RGF0ZVRhYmxlOiBfdGhpczE3LnBheURhdGVGb3JtLnBheURhdGVUYWJsZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICgwLCBfcGR0ZW1wcGRwcmVtLmFkZFBkdGVtcFBkUHJlbSkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtX2RlZkFkZCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5mb3JtX2RlZkFkZCA9IHt9OwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kcmVmcy5wYWdlX2RlZi5idWlsZERhdGEoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LnJlc2V0Rm9ybURlZigpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LiRlbWl0KCdjaGlsZEZuJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTcubm90aWZ5U3VjY2VzcyhfdGhpczE3LiR0KCdzdWNjZXNzTWVzc2FnZS5hZGQnKSk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNy50YWJsZUNvdW50Kys7CgogICAgICAgICAgICAgICAgICBfdGhpczE3LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zZWxlY3RlZFJvdygpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczE3Lm5vdGlmeUVycm9yKF90aGlzMTcuJHQoJ3BheV9kZWYubWVzc2FnZS5mb3JtX3ZhbGlkYXRpb25fZmFpbGVkJykpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVVcGRhdGVEZWY6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZURlZigpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5mb3JtX2RlZi52YWxpZGF0ZShmdW5jdGlvbiAocGFzcykgewogICAgICAgIGlmIChwYXNzKSB7CiAgICAgICAgICBfdGhpczE4LiRyZWZzLnJ1bGVGb3JtMS52YWxpZGF0ZShmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgICAgICBpZiAoIV90aGlzMTgucHJvZHVjdF9leHRyYS5wZFBheUZyZXEuZXZlcnkoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTgucGRQYXlGcmVxQ29weS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgICBfdGhpczE4Lm5vdGlmeUVycm9yKCLnvLTotLnpopHnjofkuI3lj6/otoXov4fkuqflk4HnvLTotLnojIPlm7QiKTsKCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2YXIgaWRSb3cgPSBfdGhpczE4LmZvcm1fZGVmLmlkOwogICAgICAgICAgICAgIF90aGlzMTguZm9ybV9kZWYucGRQYXlGcmVxdWVuY3kgPSBfdGhpczE4LnByb2R1Y3RfZXh0cmEucGRQYXlGcmVxOwogICAgICAgICAgICAgIF90aGlzMTguZm9ybV9kZWYucGRQcmVtU3RhcnRGbGFnID0gJyc7CiAgICAgICAgICAgICAgdmFyIHBkdGVtcFBkUHJlbSA9IF90aGlzMTguZm9ybV9kZWY7CiAgICAgICAgICAgICAgdmFyIHBkdGVtcFBkUHJlbVBlcmlvZHMgPSBbXTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzMTgucGF5RGF0ZUZvcm0ucGF5RGF0ZVRhYmxlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX3RoaXMxOC5wYXlEYXRlRm9ybS5wYXlEYXRlVGFibGUuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgIHBkdGVtcFBkUHJlbVBlcmlvZHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGRQYXlTdGFydFBlcmlvZDogdmFsLnBkUGF5U3RhcnRQZXJpb2QsCiAgICAgICAgICAgICAgICAgICAgcGRQYXlTdGFydFBlclVuaXQ6IHZhbC5wZFBheVN0YXJ0UGVyVW5pdCwKICAgICAgICAgICAgICAgICAgICBwZFBheUVuZFBlcmlvZDogdmFsLnBkUGF5RW5kUGVyaW9kLAogICAgICAgICAgICAgICAgICAgIHBkUGF5RW5kVW5pdDogdmFsLnBkUGF5RW5kVW5pdAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBwZHRlbXBQZFByZW06IHBkdGVtcFBkUHJlbSwKICAgICAgICAgICAgICAgIHBkdGVtcFBkUHJlbVBlcmlvZHM6IHBkdGVtcFBkUHJlbVBlcmlvZHMKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICgwLCBfcGR0ZW1wcGRwcmVtLnVwZGF0ZVBkdGVtcFBkUHJlbSkoX3RoaXMxOC5idWlsZFJlcXVlc3REYXRhKGRhdGEpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzMTguJHJlZnMucGFnZV9kZWYuYnVpbGREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTgucmVzZXRGb3JtRGVmKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczE4LnNlbGVjdGVkRGVmID0ge307CgogICAgICAgICAgICAgICAgICBfdGhpczE4LiRlbWl0KCdjaGlsZEZuJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE4Lm5vdGlmeVN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxOC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTguc2VsZWN0ZWRSb3coaWRSb3cpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6YCJ5Lit57y06LS55L+u5pS56aG5CiAgICBzZWxlY3RlZFJvdzogZnVuY3Rpb24gc2VsZWN0ZWRSb3coaWQpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5wYWdlX2RlZi5idWlsZERhdGEoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIHZhciBpZFJvdyA9IGlkOwogICAgICAgICAgdmFyIG51bSA9IDA7CgogICAgICAgICAgZm9yIChudW0gPSAwOyBudW0gPCBfdGhpczE5LmRlZlRhYmxlRGF0YS5sZW5ndGg7IG51bSsrKSB7CiAgICAgICAgICAgIGlmIChfdGhpczE5LmRlZlRhYmxlRGF0YVtudW1dLmlkID09PSBpZFJvdykgewogICAgICAgICAgICAgIF90aGlzMTkuJHJlZnMuZGVmVGFibGVEYXRhLnNldEN1cnJlbnRSb3coX3RoaXMxOS5kZWZUYWJsZURhdGFbbnVtXSk7CgogICAgICAgICAgICAgIF90aGlzMTkuc2VsZWN0ZWREZWYgPSBfdGhpczE5LmRlZlRhYmxlRGF0YVtudW1dOwoKICAgICAgICAgICAgICBfdGhpczE5LnNlbGVjdGVkRGVmQ2hhbmdlZCgpOwoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczE5LiRyZWZzLmRlZlRhYmxlRGF0YS5zZXRDdXJyZW50Um93KF90aGlzMTkuZGVmVGFibGVEYXRhWzBdKTsKCiAgICAgICAgICBfdGhpczE5LnNlbGVjdGVkRGVmID0gX3RoaXMxOS5kZWZUYWJsZURhdGFbMF07CgogICAgICAgICAgX3RoaXMxOS5zZWxlY3RlZERlZkNoYW5nZWQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZURlZjogZnVuY3Rpb24gaGFuZGxlRGVsZXRlRGVmKHJvdykgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICAoMCwgX3BkdGVtcHBkcHJlbS5kZWxldGVQZHRlbXBQZFByZW0pKHJvdy5pZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHJvdy5wZFByZW1Db2RlID09PSBfdGhpczIwLmZvcm1fZGVmQWRkLnBkUHJlbUNvZGUpIHsKICAgICAgICAgIF90aGlzMjAuZm9ybV9kZWZBZGQgPSB7fTsKICAgICAgICB9IC8vIOWIoOmZpOWKoOi0ueWKqOaAgeihqOagvOS4reWxnuS6juivpeadoee8tOi0ueeahOWKoOi0uQoKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczIwLmFkZGl0aW9uQWRkVGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgYWRkaXRpb25BZGQgPSBfdGhpczIwLmFkZGl0aW9uQWRkVGFibGVEYXRhW2ldOwoKICAgICAgICAgIGlmIChhZGRpdGlvbkFkZC5wZFByZW1JZCA9PT0gX3RoaXMyMC5zZWxlY3RlZERlZi5pZCkgewogICAgICAgICAgICBfdGhpczIwLmFkZGl0aW9uQWRkVGFibGVEYXRhLnNwbGljZShpLCAxKTsKCiAgICAgICAgICAgIGktLTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBvcGVyYXRpb25GbGFnOwoKICAgICAgICBpZiAoX3RoaXMyMC5fLmluY2x1ZGVzKF90aGlzMjAuZGVmVGFibGVEYXRhLCBfdGhpczIwLnNlbGVjdGVkRGVmKSkgewogICAgICAgICAgaWYgKF90aGlzMjAuZGVmVGFibGVEYXRhLmxlbmd0aCA9PT0gMSAmJiBfdGhpczIwLiRyZWZzLnBhZ2VfZGVmLnBhZ2UgPiAxKSB7CiAgICAgICAgICAgIF90aGlzMjAuJHJlZnMucGFnZV9kZWYucGFnZSAtPSAxOwogICAgICAgICAgfQoKICAgICAgICAgIG9wZXJhdGlvbkZsYWcgPSAnYnVpbGREYXRhJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3BlcmF0aW9uRmxhZyA9ICdyZWxvYWQnOwogICAgICAgIH0KCiAgICAgICAgc3dpdGNoIChvcGVyYXRpb25GbGFnKSB7CiAgICAgICAgICBjYXNlICdidWlsZERhdGEnOgogICAgICAgICAgICBfdGhpczIwLiRyZWZzLnBhZ2VfZGVmLmJ1aWxkRGF0YSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMjAucmVzZXRGb3JtRGVmKCk7CgogICAgICAgICAgICAgIF90aGlzMjAuc2VsZWN0ZWREZWYgPSB7fTsKCiAgICAgICAgICAgICAgX3RoaXMyMC5ub3RpZnlTdWNjZXNzKF90aGlzMjAuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdyZWxvYWQnOgogICAgICAgICAgICBfdGhpczIwLiRyZWZzLnBhZ2VfZGVmLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMjAucmVzZXRGb3JtRGVmKCk7CgogICAgICAgICAgICAgIF90aGlzMjAuc2VsZWN0ZWREZWYgPSB7fTsKCiAgICAgICAgICAgICAgX3RoaXMyMC5ub3RpZnlTdWNjZXNzKF90aGlzMjAuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJvd0NsaWNrX2FkZGl0aW9uOiBmdW5jdGlvbiByb3dDbGlja19hZGRpdGlvbihyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgewogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRBZGRpdGlvbi5pZCkgewogICAgICAgICAgdGhpcy5jYW5jZWxVcGRhdGVBZGRpdGlvbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJvd0NsaWNrX2Rpc2NvdW50OiBmdW5jdGlvbiByb3dDbGlja19kaXNjb3VudChyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgewogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWREaXNjb3VudC5pZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZERpc2NvdW50ID0ge307CiAgICAgICAgICB0aGlzLnJlc2V0RGlzY291bnRGb3JtKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWRBZGRpdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkQWRkaXRpb25DaGFuZ2VkKCkgewogICAgICB0aGlzLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5mb3JtX2FkZGl0aW9uLCB0aGlzLnNlbGVjdGVkQWRkaXRpb24pOwogICAgfSwKICAgIHNlbGVjdGVkRGlzY291bnRDaGFuZ2VkOiBmdW5jdGlvbiBzZWxlY3RlZERpc2NvdW50Q2hhbmdlZCgpIHsKICAgICAgdGhpcy5yZXNldERpc2NvdW50Rm9ybSgpOwogICAgICBPYmplY3QuYXNzaWduKHRoaXMuZm9ybV9jb3VudCwgdGhpcy5zZWxlY3RlZERpc2NvdW50KTsKICAgICAgdGhpcy5mb3JtX2NvdW50LnBkUHJlbUlkcyA9IFt0aGlzLnNlbGVjdGVkRGlzY291bnQucGRQcmVtSWRdOwogICAgICB0aGlzLmdldFBkRGlzY291bnRSYW5nZShbdGhpcy5zZWxlY3RlZERpc2NvdW50LnBkUHJlbUlkXSk7IC8v6I635Y+W5LyY5oOg6IyD5Zu0CgogICAgICB0aGlzLmZvcm1fY291bnQucGRDbXBuUmFuZ2UgPSBbdGhpcy5zZWxlY3RlZERpc2NvdW50LnBkQ21wblJhbmdlXTsKICAgIH0sCiAgICBzZWxlY3RBbGxBZGRpdGlvblR5cGU6IGZ1bmN0aW9uIHNlbGVjdEFsbEFkZGl0aW9uVHlwZSgpIHsKICAgICAgdmFyIF9pdGVyYXRvcjIwID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmxkY29kZXNbJ3BkX3ByZW1fYWRkaXRpb25fdHlwZSddKSwKICAgICAgICAgIF9zdGVwMjA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMjAucygpOyAhKF9zdGVwMjAgPSBfaXRlcmF0b3IyMC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgYWRkaXRpb25UeXBlID0gX3N0ZXAyMC52YWx1ZTsKICAgICAgICAgIHRoaXMuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtVHlwZS5wdXNoKGFkZGl0aW9uVHlwZS5jb2RlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIwLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyMC5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVBZGRBZGRpdGlvbjogZnVuY3Rpb24gaGFuZGxlQWRkQWRkaXRpb24oKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9hZGRpdGlvbl9hZGQudmFsaWRhdGUoZnVuY3Rpb24gKHBhc3MpIHsKICAgICAgICBpZiAocGFzcykgewogICAgICAgICAgaWYgKF90aGlzMjEuZm9ybV9hZGRpdGlvbl9hZGQucGRQcmVtSWQubGVuZ3RoID09PSAwIHx8IF90aGlzMjEuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtT2JqLmxlbmd0aCA9PT0gMCB8fCBfdGhpczIxLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbU1vZGUubGVuZ3RoID09PSAwIHx8IF90aGlzMjEuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtVHlwZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgX3RoaXMyMS5ub3RpZnlFcnJvcihfdGhpczIxLiR0KCdwYXlfZGVmLm1lc3NhZ2UuZXJyb3JfaW5jb21wbGV0ZV9pbmZvcm1hdGlvbicpKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMyMS5kZWZUYWJsZURhdGEgJiYgX3RoaXMyMS5kZWZUYWJsZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvLyDpqozor4HpgInmi6nnmoTnvLTotLnkv6Hmga/mmK/lkKblhajpg6jmnInmlYgKICAgICAgICAgICAgdmFyIHBheW1lbnRJZHMgPSBfdGhpczIxLmZvcm1fYWRkaXRpb25fYWRkLnBkUHJlbUlkOwoKICAgICAgICAgICAgdmFyIHBheW1lbnRJZHNfYXZhaWxhYmxlID0gX3RoaXMyMS5fLm1hcChfdGhpczIxLmRlZlRhYmxlRGF0YSwgJ2lkJyk7CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMjEgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHBheW1lbnRJZHMpLAogICAgICAgICAgICAgICAgX3N0ZXAyMTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyMS5zKCk7ICEoX3N0ZXAyMSA9IF9pdGVyYXRvcjIxLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBwYXltZW50SWQgPSBfc3RlcDIxLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyMS5pc0luQXJyYXkocGF5bWVudElkLCBwYXltZW50SWRzX2F2YWlsYWJsZSkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyMS5ub3RpZnlFcnJvcihfdGhpczIxLiR0KCdwYXlfZGVmLm1lc3NhZ2UuZXJyb3JfdW5hdmFpbGFibGVfZGVmJykpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy8g6YCa6L+H6aqM6K+B77yM5byA5aeL5Yib5bu6CgogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyMS5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMjEuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYXJyYXkgPSBfdGhpczIxLmJ1aWxkQXJyYXkocGF5bWVudElkcywgX3RoaXMyMS5mb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1PYmosIF90aGlzMjEuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtTW9kZSwgX3RoaXMyMS5mb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1UeXBlKTsKCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyMiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoYXJyYXkpLAogICAgICAgICAgICAgICAgX3N0ZXAyMjsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyMi5zKCk7ICEoX3N0ZXAyMiA9IF9pdGVyYXRvcjIyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBhcnJheUl0ZW0gPSBfc3RlcDIyLnZhbHVlOwogICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMyMS5mb3JtX2FkZGl0aW9uX2FkZCk7CiAgICAgICAgICAgICAgICBhcnJheUl0ZW0uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjEuZm9ybV9hZGRpdGlvbi5wZFByZW1JZCA9IHZhbHVlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbU9iaiA9IHZhbHVlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbU1vZGUgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjEuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1UeXBlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyAvLyDkuLogcGF5TmFtZSDlkowgcGF5Q29kZSDotYvlgLwKCiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMjMgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKF90aGlzMjEuZGVmVGFibGVEYXRhKSwKICAgICAgICAgICAgICAgICAgICBfc3RlcDIzOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMjMucygpOyAhKF9zdGVwMjMgPSBfaXRlcmF0b3IyMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IF9zdGVwMjMudmFsdWU7CgogICAgICAgICAgICAgICAgICAgIGlmIChkZWYuaWQgPT09IF90aGlzMjEuZm9ybV9hZGRpdGlvbi5wZFByZW1JZCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkUHJlbU5hbWUgPSBkZWYucGRQYXlOYW1lOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkUHJlbUNvZGUgPSBkZWYucGRQcmVtQ29kZTsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSAvLyDkuLogcGRJbmZvSWQg6LWL5YC8CgogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIzLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIzLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIxLmZvcm1fYWRkaXRpb24ucGRJbmZvSWQgPSBfdGhpczIxLnByb2R1Y3QuaWQ7IC8vIOS4uiBwZENvZGUg6LWL5YC8CgogICAgICAgICAgICAgICAgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkQ29kZSA9IF90aGlzMjEucHJvZHVjdC5wZENvZGU7IC8vIOS4uiBwZFZlcklkIOi1i+WAvAoKICAgICAgICAgICAgICAgIF90aGlzMjEuZm9ybV9hZGRpdGlvbi5wZFZlcklkID0gX3RoaXMyMS5wcm9kdWN0LnBkVmVySWQ7IC8vIOS4uiBwZFByZW1DYWxjQ29kZSDotYvlgLwKCiAgICAgICAgICAgICAgICBfdGhpczIxLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtQ2FsY0NvZGUgPSBfdGhpczIxLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbUNhbGNDb2RlOyAvL+S4uuWKoOi0ueWQjeensOi1i+WIneWni+WAvAoKICAgICAgICAgICAgICAgIHZhciBwZEFkZFByZW1PYmogPSBfdGhpczIxLmdldENvZGVOYW1lKCdwZEFkZFByZW1PYmonLCBfdGhpczIxLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtT2JqLCB0cnVlKTsKCiAgICAgICAgICAgICAgICB2YXIgcGRfcHJlbV9hZGRpdGlvbl9hZGRpdGlvbl9tb2RlID0gX3RoaXMyMS5nZXRDb2RlTmFtZSgncGRfcHJlbV9hZGRpdGlvbl9hZGRpdGlvbl9tb2RlJywgX3RoaXMyMS5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbU1vZGUsIHRydWUpOwoKICAgICAgICAgICAgICAgIHZhciBwZF9wcmVtX2FkZGl0aW9uX3R5cGUgPSBfdGhpczIxLmdldENvZGVOYW1lKCdwZF9wcmVtX2FkZGl0aW9uX3R5cGUnLCBfdGhpczIxLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtVHlwZSwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX3RoaXMyMS4kc2V0KF90aGlzMjEuZm9ybV9hZGRpdGlvbiwgJ3BkRXh0UHJlbU5hbWUnLCBwZEFkZFByZW1PYmogKyBwZF9wcmVtX2FkZGl0aW9uX2FkZGl0aW9uX21vZGUgKyBwZF9wcmVtX2FkZGl0aW9uX3R5cGUpOwoKICAgICAgICAgICAgICAgIF90aGlzMjEuYWRkaXRpb25BZGRUYWJsZURhdGEucHVzaChfdGhpczIxLmZvcm1fYWRkaXRpb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMjIuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIyLmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMyMS5nZXRPcmRlck51bWJlcignYWRkaXRpb25fYWRkJyk7CgogICAgICAgICAgICBfdGhpczIxLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CgogICAgICAgICAgICBfdGhpczIxLnJlc2V0Rm9ybUFkZGl0aW9uQWRkKCk7CgogICAgICAgICAgICBfdGhpczIxLm5vdGlmeVN1Y2Nlc3MoX3RoaXMyMS4kdCgnc3VjY2Vzc01lc3NhZ2UuYWRkJykpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyMS5ub3RpZnlFcnJvcihfdGhpczIxLiR0KCdwYXlfZGVmLm1lc3NhZ2UuZXJyb3JfZGVmX25vX2RlZmluZScpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGJ1aWxkQXJyYXk6IGZ1bmN0aW9uIGJ1aWxkQXJyYXkocGF5bWVudElkcywgYWRkaXRpb25QYXlQZXJzb25UeXBlcywgYWRkaXRpb25Nb2RlcywgYWRkaXRpb25UeXBlcykgewogICAgICB2YXIgYXJyYXkgPSBbXTsKICAgICAgdmFyIGFycmF5X2l0ZW0gPSBbXTsKICAgICAgdmFyIGFycmF5X3BheW1lbnRJZCA9ICcnOwogICAgICB2YXIgYXJyYXlfYWRkaXRpb25QYXlQZXJzb25UeXBlID0gJyc7CiAgICAgIHZhciBhcnJheV9hZGRpdGlvbk1vZGUgPSAnJzsKICAgICAgdmFyIGFycmF5X2FkZGl0aW9uVHlwZSA9ICcnOwoKICAgICAgdmFyIF9pdGVyYXRvcjI0ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShwYXltZW50SWRzKSwKICAgICAgICAgIF9zdGVwMjQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMjQucygpOyAhKF9zdGVwMjQgPSBfaXRlcmF0b3IyNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcGF5bWVudElkID0gX3N0ZXAyNC52YWx1ZTsKICAgICAgICAgIGFycmF5X3BheW1lbnRJZCA9IHBheW1lbnRJZDsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMjUgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGFkZGl0aW9uUGF5UGVyc29uVHlwZXMpLAogICAgICAgICAgICAgIF9zdGVwMjU7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyNS5zKCk7ICEoX3N0ZXAyNSA9IF9pdGVyYXRvcjI1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgYWRkaXRpb25QYXlQZXJzb25UeXBlID0gX3N0ZXAyNS52YWx1ZTsKICAgICAgICAgICAgICBhcnJheV9hZGRpdGlvblBheVBlcnNvblR5cGUgPSBhZGRpdGlvblBheVBlcnNvblR5cGU7CgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyNiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoYWRkaXRpb25Nb2RlcyksCiAgICAgICAgICAgICAgICAgIF9zdGVwMjY7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjI2LnMoKTsgIShfc3RlcDI2ID0gX2l0ZXJhdG9yMjYubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25Nb2RlID0gX3N0ZXAyNi52YWx1ZTsKICAgICAgICAgICAgICAgICAgYXJyYXlfYWRkaXRpb25Nb2RlID0gYWRkaXRpb25Nb2RlOwoKICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjI3ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShhZGRpdGlvblR5cGVzKSwKICAgICAgICAgICAgICAgICAgICAgIF9zdGVwMjc7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMjcucygpOyAhKF9zdGVwMjcgPSBfaXRlcmF0b3IyNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25UeXBlID0gX3N0ZXAyNy52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIGFycmF5X2FkZGl0aW9uVHlwZSA9IGFkZGl0aW9uVHlwZTsKICAgICAgICAgICAgICAgICAgICAgIGFycmF5X2l0ZW0ucHVzaChhcnJheV9wYXltZW50SWQsIGFycmF5X2FkZGl0aW9uUGF5UGVyc29uVHlwZSwgYXJyYXlfYWRkaXRpb25Nb2RlLCBhcnJheV9hZGRpdGlvblR5cGUpOwogICAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChhcnJheV9pdGVtKTsKICAgICAgICAgICAgICAgICAgICAgIGFycmF5X2l0ZW0gPSBbXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjI3LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyNy5mKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjI2LmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMjYuZigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjI1LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjI1LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjI0LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyNC5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhcnJheTsKICAgIH0sCiAgICBoYW5kbGVVcGRhdGVBZGRpdGlvbjogZnVuY3Rpb24gaGFuZGxlVXBkYXRlQWRkaXRpb24oKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9hZGRpdGlvbi52YWxpZGF0ZShmdW5jdGlvbiAocGFzcykgewogICAgICAgIGlmIChwYXNzKSB7CiAgICAgICAgICAoMCwgX3BkdGVtcHBkZXh0cHJlbS51cGRhdGVQZHRlbXBQZEV4dFByZW0pKF90aGlzMjIuZm9ybV9hZGRpdGlvbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMjIuJHJlZnMucGFnZV9hZGRpdGlvbi5idWlsZERhdGEoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIyLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CgogICAgICAgICAgICAgIF90aGlzMjIuc2VsZWN0ZWRBZGRpdGlvbiA9IHt9OwoKICAgICAgICAgICAgICBfdGhpczIyLm5vdGlmeVN1Y2Nlc3MoX3RoaXMyMi4kdCgnc3VjY2Vzc01lc3NhZ2UudXBkYXRlJykpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsVXBkYXRlQWRkaXRpb246IGZ1bmN0aW9uIGNhbmNlbFVwZGF0ZUFkZGl0aW9uKCkgewogICAgICB0aGlzLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbiA9IHt9OwogICAgfSwKICAgIGhhbmRsZURlbGV0ZUFkZGl0aW9uOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVBZGRpdGlvbihyb3cpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgKDAsIF9wZHRlbXBwZGV4dHByZW0uZGVsZXRlUGR0ZW1wUGRFeHRQcmVtKShyb3cuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvcGVyYXRpb25GbGFnOwoKICAgICAgICBpZiAoX3RoaXMyMy5fLmluY2x1ZGVzKF90aGlzMjMuYWRkaXRpb25UYWJsZURhdGEsIF90aGlzMjMuc2VsZWN0ZWRBZGRpdGlvbikpIHsKICAgICAgICAgIGlmIChfdGhpczIzLmFkZGl0aW9uVGFibGVEYXRhLmxlbmd0aCA9PT0gMSAmJiBfdGhpczIzLiRyZWZzLnBhZ2VfYWRkaXRpb24ucGFnZSA+IDEpIHsKICAgICAgICAgICAgX3RoaXMyMy4kcmVmcy5wYWdlX2FkZGl0aW9uLnBhZ2UgLT0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBvcGVyYXRpb25GbGFnID0gJ2J1aWxkRGF0YSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9wZXJhdGlvbkZsYWcgPSAncmVsb2FkJzsKICAgICAgICB9CgogICAgICAgIHN3aXRjaCAob3BlcmF0aW9uRmxhZykgewogICAgICAgICAgY2FzZSAnYnVpbGREYXRhJzoKICAgICAgICAgICAgX3RoaXMyMy4kcmVmcy5wYWdlX2FkZGl0aW9uLmJ1aWxkRGF0YSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMjMucmVzZXRGb3JtQWRkaXRpb24oKTsKCiAgICAgICAgICAgICAgX3RoaXMyMy5zZWxlY3RlZEFkZGl0aW9uID0ge307CgogICAgICAgICAgICAgIF90aGlzMjMubm90aWZ5U3VjY2VzcyhfdGhpczIzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAncmVsb2FkJzoKICAgICAgICAgICAgX3RoaXMyMy4kcmVmcy5wYWdlX2FkZGl0aW9uLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMjMucmVzZXRGb3JtQWRkaXRpb24oKTsKCiAgICAgICAgICAgICAgX3RoaXMyMy5zZWxlY3RlZEFkZGl0aW9uID0ge307CgogICAgICAgICAgICAgIF90aGlzMjMubm90aWZ5U3VjY2VzcyhfdGhpczIzLiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliqjmgIHooajmoLzlpJrpgInmoYYKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGVkQWRkaXRpb25BZGRzID0gdmFsOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZUFkZGl0aW9uQWRkOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVBZGRpdGlvbkFkZChmb3JtX2FkZGl0aW9uKSB7CiAgICAgIHRoaXMuYWRkaXRpb25BZGRUYWJsZURhdGEuc3BsaWNlKHRoaXMuYWRkaXRpb25BZGRUYWJsZURhdGEuaW5kZXhPZihmb3JtX2FkZGl0aW9uKSwgMSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbkFkZHMuc3BsaWNlKHRoaXMuYWRkaXRpb25BZGRUYWJsZURhdGEuaW5kZXhPZihmb3JtX2FkZGl0aW9uKSwgMSk7CiAgICAgIHRoaXMuZ2V0T3JkZXJOdW1iZXIoJ2FkZGl0aW9uX2FkZCcpOwogICAgICB0aGlzLm5vdGlmeVN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpOwogICAgfSwKICAgIGhhbmRsZVNhdmVBZGRpdGlvbkFkZDogZnVuY3Rpb24gaGFuZGxlU2F2ZUFkZGl0aW9uQWRkKCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICB2YXIgbnVtID0gMDsKCiAgICAgIGZvciAobnVtID0gMDsgbnVtIDwgdGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkcy5sZW5ndGg7IG51bSsrKSB7CiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkQWRkaXRpb25BZGRzW251bV0ucGRFeHRQcmVtTmFtZSkgewogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcigi6K+36L6T5YWl5Yqg6LS55ZCN56ewIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkc1tudW1dLnBkRXh0UHJlbU1vZGUgPT0gJzAxJyAmJiAhdGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkc1tudW1dLnBkTWF4VmFsKSB7CiAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCLor7fovpPlhaXliqDotLnkuIrpmZDlgLwiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgZXh0UHJlbUxpc3Q6IHRoaXMuc2VsZWN0ZWRBZGRpdGlvbkFkZHMKICAgICAgfTsKICAgICAgKDAsIF9wZHRlbXBwZGV4dHByZW0uYWRkUGR0ZW1wUGRFeHRQcmVtKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyNC4kcmVmcy5wYWdlX2FkZGl0aW9uLmJ1aWxkRGF0YSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9pdGVyYXRvcjI4ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpczI0LnNlbGVjdGVkQWRkaXRpb25BZGRzKSwKICAgICAgICAgICAgICBfc3RlcDI4OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMjgucygpOyAhKF9zdGVwMjggPSBfaXRlcmF0b3IyOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQWRkaXRpb25BZGQgPSBfc3RlcDI4LnZhbHVlOwoKICAgICAgICAgICAgICBfdGhpczI0LmFkZGl0aW9uQWRkVGFibGVEYXRhLnNwbGljZShfdGhpczI0LmFkZGl0aW9uQWRkVGFibGVEYXRhLmluZGV4T2Yoc2VsZWN0ZWRBZGRpdGlvbkFkZCksIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMjguZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMjguZigpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMjQuc2VsZWN0ZWRBZGRpdGlvbkFkZHMgPSBbXTsKCiAgICAgICAgICBfdGhpczI0LmdldE9yZGVyTnVtYmVyKCdhZGRpdGlvbl9hZGQnKTsKCiAgICAgICAgICBfdGhpczI0Lm5vdGlmeVN1Y2Nlc3MoX3RoaXMyNC4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZURpc0NvdW50OiBmdW5jdGlvbiBzYXZlRGlzQ291bnQoKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjUuJHJlZnNbImZvcm1fY291bnQiXS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQxKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtLCBQZHRlbXBQZENtcG5JbmZvcywgcGRDbXBuUmFuZ2UsIF9pdGVyYXRvcjMwLCBfc3RlcDMwLCBwZERpc2NvdW50LCBfaXRlcmF0b3IzMSwgX3N0ZXAzMSwgZGVmLCBpLCBqLCBQZHRlbXBQZENtcG5JbmZvLCBkYXRhOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBkQ21wblR5cGU6IF90aGlzMjUuZm9ybV9jb3VudC5wZENtcG5UeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcGR0ZW1wcGRjbXBuaW5mby5maW5kQ21wbkNhbGVDb2RlKShfdGhpczI1LmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoIDwgMiAmJiByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDAgJiYgX3RoaXMyNS5mb3JtX2NvdW50LnBkQ21wbkNhbGNNb2RlID09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZGV0YWlsVHlwZU9wdGlvbkxpc3QgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyOSA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMyNS5kZXRhaWxUeXBlT3B0aW9uTGlzdCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXAyOTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjI5LnMoKTsgIShfc3RlcDI5ID0gX2l0ZXJhdG9yMjkubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gX3N0ZXAyOS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QuY21wbkNhbGNDb2RlID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZm9ybV9jb3VudC5wZENtcG5DYWxjQ29kZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZvcm1fY291bnQucGRDbXBuQ2FsY0NvZGUgPSBwcm9kdWN0LmNtcG5DYWxjQ29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyOS5lKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyOS5mKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZm9ybV9jb3VudC5wZENtcG5DYWxjQ29kZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGR0ZW1wUGRDbXBuSW5mb3MgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBkQ21wblJhbmdlID0gX3RoaXMyNS5mb3JtX2NvdW50LnBkQ21wblJhbmdlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczI1Ll8uaW5jbHVkZXMocGRDbXBuUmFuZ2UsICcwMDAwMDAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZENtcG5SYW5nZSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzMCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMyNS5wZERpc2NvdW50UmFuZ2VPcHRpb25zKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzMC5zKCk7ICEoX3N0ZXAzMCA9IF9pdGVyYXRvcjMwLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBkRGlzY291bnQgPSBfc3RlcDMwLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZERpc2NvdW50LnZhbHVlICE9PSAnMDAwMDAwJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZENtcG5SYW5nZS5wdXNoKHBkRGlzY291bnQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMzAuZShlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMwLmYoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZm9ybV9jb3VudC5wZFZlcklkID0gX3RoaXMyNS5wcm9kdWN0LnBkVmVySWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZvcm1fY291bnQub3BlcmF0b3IgPSBfdGhpczI1LnByb2R1Y3Qub3BlcmF0b3I7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZvcm1fY291bnQucGRJbmZvSWQgPSBfdGhpczI1LnByb2R1Y3QuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZvcm1fY291bnQucGRDb2RlID0gX3RoaXMyNS5wcm9kdWN0LnBkQ29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuZm9ybV9jb3VudC5wZE5hbWUgPSBfdGhpczI1LnByb2R1Y3QucGROYW1lOyAvL+iOt+WPlue8tOi0uee8lueggQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMxID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5kZWZUYWJsZURhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMzEucygpOyAhKF9zdGVwMzEgPSBfaXRlcmF0b3IzMS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmID0gX3N0ZXAzMS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMjUuZm9ybV9jb3VudC5wZFByZW1JZHMuaW5jbHVkZXMoZGVmLmlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5mb3JtX2NvdW50LnBkUHJlbUNvZGVzLnB1c2goZGVmLnBkUHJlbUNvZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMxLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMxLmYoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGRDbXBuUmFuZ2UubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IF90aGlzMjUuZm9ybV9jb3VudC5wZFByZW1JZHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQZHRlbXBQZENtcG5JbmZvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczI1LmZvcm1fY291bnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQZHRlbXBQZENtcG5JbmZvLnBkUHJlbUlkID0gX3RoaXMyNS5mb3JtX2NvdW50LnBkUHJlbUlkc1tqXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQZHRlbXBQZENtcG5JbmZvLnBkUHJlbUNvZGUgPSBfdGhpczI1LmZvcm1fY291bnQucGRQcmVtQ29kZXNbal07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGR0ZW1wUGRDbXBuSW5mby5wZENtcG5SYW5nZSA9IHBkQ21wblJhbmdlW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBkdGVtcFBkQ21wbkluZm9zLnB1c2goUGR0ZW1wUGRDbXBuSW5mbyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQZHRlbXBQZENtcG5JbmZvczogUGR0ZW1wUGRDbXBuSW5mb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZsYWcxID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby5hZGRQZHRlbXBQZENtcG5JbmZvKShfdGhpczI1LmJ1aWxkUmVxdWVzdERhdGEoZGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LiRlbWl0KCJjaGlsZEZuIiwgInJlbG9hZCIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuY2xlYXJGb3JtRGlzY291bnQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS5zZWxlY3REaXNjb3VudFJhbmdlVGFibGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1LmZvY3VzSXRlbSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZURpc0NvdW50OiBmdW5jdGlvbiB1cGRhdGVEaXNDb3VudCgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1siZm9ybV9jb3VudCJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZDEpIHsKICAgICAgICBpZiAodmFsaWQxKSB7CiAgICAgICAgICB2YXIgUGR0ZW1wUGRDbXBuSW5mbyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMyNi5mb3JtX2NvdW50KSk7CiAgICAgICAgICBQZHRlbXBQZENtcG5JbmZvLnBkQ21wblJhbmdlID0gUGR0ZW1wUGRDbXBuSW5mby5wZENtcG5SYW5nZVswXTsKICAgICAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby51cGRhdGVQZHRlbXBQZENtcG5JbmZvKShfdGhpczI2LmJ1aWxkUmVxdWVzdERhdGEoewogICAgICAgICAgICAiUGR0ZW1wUGRDbXBuSW5mbyI6IFBkdGVtcFBkQ21wbkluZm8KICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyNi4kZW1pdCgiY2hpbGRGbiIsICJyZWxvYWQiKTsKCiAgICAgICAgICAgIF90aGlzMjYubm90aWZ5U3VjY2VzcyhfdGhpczI2LiR0KCdzdWNjZXNzTWVzc2FnZS51cGRhdGUnKSk7CgogICAgICAgICAgICBfdGhpczI2LnNlbGVjdERpc2NvdW50UmFuZ2VUYWJsZSgpOwoKICAgICAgICAgICAgX3RoaXMyNi5zZWxlY3RlZERpc2NvdW50ID0ge307CgogICAgICAgICAgICBfdGhpczI2LmNsZWFyRm9ybURpc2NvdW50KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyNi5mb2N1c0l0ZW0oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6YCJ5Lit5oqY5omj5pWw5o2uCiAgICBzZWxlY3RlZFJvd0Rpc2NvdW50OiBmdW5jdGlvbiBzZWxlY3RlZFJvd0Rpc2NvdW50KGVlaWQpIHsKICAgICAgdmFyIGxpZCA9IGVlaWQ7CgogICAgICBpZiAobGlkKSB7CiAgICAgICAgdmFyIG51bSA9IDA7CgogICAgICAgIGZvciAobnVtID0gMDsgbnVtIDwgdGhpcy5kaXNjb3VudFRhYmxlRGF0YS5sZW5ndGg7IG51bSsrKSB7CiAgICAgICAgICBpZiAodGhpcy5kaXNjb3VudFRhYmxlRGF0YVtudW1dLmNtcG5JbmZvSWQgPT0gbGlkKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREaXNjb3VudCA9IHRoaXMuZGlzY291bnRUYWJsZURhdGFbbnVtXTsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERpc2NvdW50Q2hhbmdlZCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobGlkID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWREaXNjb3VudCA9IHRoaXMuZGlzY291bnRUYWJsZURhdGFbdGhpcy5kaXNjb3VudFRhYmxlRGF0YS5sZW5ndGggLSAxXTsKICAgICAgICB0aGlzLnNlbGVjdGVkRGlzY291bnRDaGFuZ2VkKCk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVEaXNDb3VudDogZnVuY3Rpb24gZGVsZXRlRGlzQ291bnQocm93KSB7CiAgICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby5kZWxldGVQZHRlbXBQZENtcG5JbmZvKShyb3cuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMjcuJGVtaXQoImNoaWxkRm4iLCAicmVsb2FkIik7CgogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzMjcubm90aWZ5U3VjY2VzcyhyZXMubWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMyNy5zZWxlY3RlZERpc2NvdW50ID0ge307CgogICAgICAgICAgX3RoaXMyNy5yZXNldERpc2NvdW50Rm9ybSgpOwoKICAgICAgICAgIF90aGlzMjcuc2VsZWN0RGlzY291bnRSYW5nZVRhYmxlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bnm7jlkIznvJblj7fnmoTmlbDnu4QKICAgIGdldE9yZGVyTnVtYmVyOiBmdW5jdGlvbiBnZXRPcmRlck51bWJlcihhcnJheU5hbWUpIHsKICAgICAgdmFyIHRhYmxlRGF0YTsKICAgICAgdmFyIG9yZGVySW5kZXhBcnI7CgogICAgICBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb24nKSB7CiAgICAgICAgdGFibGVEYXRhID0gdGhpcy5hZGRpdGlvblRhYmxlRGF0YTsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9hZGQnKSB7CiAgICAgICAgdGFibGVEYXRhID0gdGhpcy5hZGRpdGlvbkFkZFRhYmxlRGF0YTsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9kaXNjb3VudCcpIHsKICAgICAgICB0YWJsZURhdGEgPSB0aGlzLmRpc2NvdW50VGFibGVEYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgb3JkZXJJbmRleEFyciA9IFtdOyAvLyDmjInnhacgcGF5bWVudElkIOaOkuW6j++8jOWwhiBwYXltZW50SWQg55u45ZCM55qE5pWw5o2u6L+e5Zyo5LiA6LW3CgogICAgICB0YWJsZURhdGEgPSB0aGlzLl8ub3JkZXJCeSh0YWJsZURhdGEsICdwZFByZW1JZCcsICdhc2MnKTsKCiAgICAgIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbicpIHsKICAgICAgICB0aGlzLmFkZGl0aW9uVGFibGVEYXRhID0gdGFibGVEYXRhOwogICAgICB9IGVsc2UgaWYgKGFycmF5TmFtZSA9PT0gJ2FkZGl0aW9uX2FkZCcpIHsKICAgICAgICB0aGlzLmFkZGl0aW9uQWRkVGFibGVEYXRhID0gdGFibGVEYXRhOwogICAgICB9IGVsc2UgaWYgKGFycmF5TmFtZSA9PT0gJ2FkZGl0aW9uX2Rpc2NvdW50JykgewogICAgICAgIHRoaXMuZGlzY291bnRUYWJsZURhdGEgPSB0YWJsZURhdGE7CiAgICAgIH0KCiAgICAgIHZhciBvcmRlck9iaiA9IHt9OwogICAgICB0YWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHsKICAgICAgICBlbGVtZW50LnJvd0luZGV4ID0gaW5kZXg7CgogICAgICAgIGlmIChvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXSkgewogICAgICAgICAgb3JkZXJPYmpbZWxlbWVudC5wZFByZW1JZF0ucHVzaChpbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9yZGVyT2JqW2VsZW1lbnQucGRQcmVtSWRdID0gW107CiAgICAgICAgICBvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXS5wdXNoKGluZGV4KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDpnIDopoHlkIjlubbnmoTooYznmoRpbmRleOW3sue7j+WtmOWcqOS6huWQjOS4gOS4quaVsOe7hOmHjO+8jOaKiui/meS6m+aVsOe7hOWtmOWCqOWIsCB0aGlzLm9yZGVySW5kZXhBcnIKCiAgICAgIGZvciAodmFyIGsgaW4gb3JkZXJPYmopIHsKICAgICAgICBvcmRlckluZGV4QXJyLnB1c2gob3JkZXJPYmpba10pOwogICAgICB9CgogICAgICBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb24nKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uID0gb3JkZXJJbmRleEFycjsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9hZGQnKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2FkZCA9IG9yZGVySW5kZXhBcnI7CiAgICAgIH0gZWxzZSBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb25fZGlzY291bnQnKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50ID0gb3JkZXJJbmRleEFycjsKICAgICAgfQogICAgfSwKICAgIC8vIOWQiOW5tuWNleWFg+agvAogICAgb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbjogZnVuY3Rpb24gb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbihfcmVmMikgewogICAgICB2YXIgcm93ID0gX3JlZjIucm93LAogICAgICAgICAgY29sdW1uID0gX3JlZjIuY29sdW1uLAogICAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleCwKICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjIuY29sdW1uSW5kZXg7CgogICAgICBpZiAoY29sdW1uSW5kZXggPT09IDIgfHwgY29sdW1uSW5kZXggPT09IDMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3JkZXJJbmRleEFycl9hZGRpdGlvbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25baV07CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gZWxlbWVudFtqXTsKCiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gaXRlbSkgewogICAgICAgICAgICAgIGlmIChqID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICByb3dzcGFuOiBlbGVtZW50Lmxlbmd0aCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogMCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvYmplY3RTcGFuTWV0aG9kX2FkZGl0aW9uX2FkZDogZnVuY3Rpb24gb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbl9hZGQoX3JlZjMpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYzLnJvdywKICAgICAgICAgIGNvbHVtbiA9IF9yZWYzLmNvbHVtbiwKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjMucm93SW5kZXgsCiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWYzLmNvbHVtbkluZGV4OwoKICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAyIHx8IGNvbHVtbkluZGV4ID09PSAzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fYWRkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMub3JkZXJJbmRleEFycl9hZGRpdGlvbl9hZGRbaV07CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gZWxlbWVudFtqXTsKCiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gaXRlbSkgewogICAgICAgICAgICAgIGlmIChqID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICByb3dzcGFuOiBlbGVtZW50Lmxlbmd0aCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogMCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+S8mOaDoOihqOagvOWQiOW5tgogICAgb2JqZWN0U3Bhbk1ldGhvZF9kaXNjb3VudDogZnVuY3Rpb24gb2JqZWN0U3Bhbk1ldGhvZF9kaXNjb3VudChfcmVmNCkgewogICAgICB2YXIgcm93ID0gX3JlZjQucm93LAogICAgICAgICAgY29sdW1uID0gX3JlZjQuY29sdW1uLAogICAgICAgICAgcm93SW5kZXggPSBfcmVmNC5yb3dJbmRleCwKICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjQuY29sdW1uSW5kZXg7CgogICAgICBpZiAoY29sdW1uSW5kZXggPT09IDIgfHwgY29sdW1uSW5kZXggPT09IDMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3JkZXJJbmRleEFycl9hZGRpdGlvbl9kaXNjb3VudC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fZGlzY291bnRbaV07CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gZWxlbWVudFtqXTsKCiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gaXRlbSkgewogICAgICAgICAgICAgIGlmIChqID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICByb3dzcGFuOiBlbGVtZW50Lmxlbmd0aCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogMCwKICAgICAgICAgICAgICAgICAgY29sc3BhbjogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmuIXnqbrnvLTotLnlrprkuYnooajljZUKICAgIGNsZWFyRm9ybURlZjogZnVuY3Rpb24gY2xlYXJGb3JtRGVmKCkgewogICAgICB2YXIgaWQgPSB0aGlzLmZvcm1fZGVmLmlkOwogICAgICB2YXIgZnJlcXVlbmN5ID0gdGhpcy5mb3JtX2RlZi5mcmVxdWVuY3k7CgogICAgICBpZiAoaWQpIHsKICAgICAgICB0aGlzLmZvcm1fZGVmLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsKICAgICAgICB0aGlzLmZvcm1fZGVmID0gdGhpcy5zZWxlY3RlZERlZjsKICAgICAgICB2YXIgYXJyID0gdGhpcy5mb3JtX2RlZi5wZFBheUZyZXF1ZW5jeTsKCiAgICAgICAgaWYgKGFycikgewogICAgICAgICAgdGhpcy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcSA9IGV2YWwoJygnICsgYXJyICsgJyknKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcSA9IFtdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluaXRfcGF5X2ZyZXF1ZW5jeSgpOwogICAgICAgIHRoaXMucmVzZXRGb3JtRGVmKCk7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5pZCA9IGlkOwogICAgICAgIHRoaXMuZm9ybV9kZWYuZnJlcXVlbmN5ID0gZnJlcXVlbmN5OwogICAgICAgIHRoaXMuc2VsZWN0ZWREZWYgPSB7fTsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUHJlbUFkZEZsYWcgPSAnWSc7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFBheVN0YXJ0Q2FsTW9kZSA9ICcwJzsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5U3RhcnRDYWxSdWxlID0gJ1MnOwogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlFbmRDYWxNb2RlID0gJzAnOwogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlFbmRDYWxSdWxlID0gJ1MnOwogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlEYXRlVmFsdWUgPSAnMSc7CiAgICAgICAgdGhpcy5pbml0X3BheV9kYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmuIXnqbrliqDotLnlrprkuYnooajljZUKICAgIGNsZWFyRm9ybUFkZGl0aW9uOiBmdW5jdGlvbiBjbGVhckZvcm1BZGRpdGlvbigpIHsKICAgICAgdGhpcy5zZWxlY3RlZEFkZGl0aW9uQ2hhbmdlZCgpOwogICAgICAvKiAgICAgIHRoaXMuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1OYW1lID0gJycNCiAgICAgICAgICAgIHRoaXMuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1PYmogPSAnJw0KICAgICAgICAgICAgdGhpcy5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbU1vZGUgPSAnJw0KICAgICAgICAgICAgdGhpcy5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbVR5cGUgPSAnJw0KICAgICAgICAgICAgdGhpcy5mb3JtX2FkZGl0aW9uLnBkTWF4VmFsID0gdW5kZWZpbmVkDQogICAgICAgICAgICB0aGlzLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtQ2FsY0NvZGUgPSAnJyovCiAgICB9LAogICAgY2xlYXJGb3JtRGlzY291bnQ6IGZ1bmN0aW9uIGNsZWFyRm9ybURpc2NvdW50KCkgewogICAgICAvKiBpZiAodGhpcy5zZWxlY3RlZERpc2NvdW50LmlkKSB7DQogICAgICAgICB0aGlzLnNlbGVjdGVkRGlzY291bnRDaGFuZ2VkKCk7DQogICAgICAgfSBlbHNlIHt9Ki8KICAgICAgdGhpcy5zZWxlY3RlZERpc2NvdW50ID0ge307CiAgICAgIHRoaXMucmVzZXREaXNjb3VudEZvcm0oKTsKICAgIH0sCiAgICAvL+mHjee9ruS8mOaDoOWvueixoQogICAgcmVzZXREaXNjb3VudEZvcm06IGZ1bmN0aW9uIHJlc2V0RGlzY291bnRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICB0aGlzLnBkRGlzY291bnRSYW5nZU9wdGlvbnMgPSBbewogICAgICAgIGtleTogJzAwMDAwMCcsCiAgICAgICAgdmFsdWU6ICcwMDAwMDAnLAogICAgICAgIGxhYmVsOiAn5YWo6YOoJywKICAgICAgICBkaXNhYmxlZDogdHJ1ZQogICAgICB9XTsKICAgICAgdGhpcy5mb3JtX2NvdW50ID0gewogICAgICAgIHBkVmVySWQ6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZFR5cGU6ICcnLAogICAgICAgIHBkRGVmVHlwZTogJycsCiAgICAgICAgcGRJbmZvSWQ6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFByZW1JZDogJycsCiAgICAgICAgcGRQcmVtQ29kZTogJycsCiAgICAgICAgcGRQcmVtQ29kZXM6IFtdLAogICAgICAgIHBkQ21wblJhbmdlOiBbXSwKICAgICAgICBwZENtcG5UeXBlOiAnJywKICAgICAgICBjbXBuSW5mb0lkOiAnJywKICAgICAgICBwZENtcG5Db2RlOiAnJywKICAgICAgICBwZENtcG5PcmRlcjogdGhpcy5jb25maWdSYW5nZUxlbmd0aCwKICAgICAgICBwZENtcG5DYWxjTW9kZTogJycsCiAgICAgICAgcGRDbXBuVmFsOiAnJywKICAgICAgICBwZENtcG5DYWxjQ29kZTogJycsCiAgICAgICAgcGRDbXBuRGVzYzogJycKICAgICAgfTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMjguJHJlZnMuZm9ybV9jb3VudC5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9rue8tOi0ueWvueixoe+8iOebuOW9k+S6jiBuZXcg5LqG5LiA5Liq5a+56LGh77yM5YW35pyJ6Kej6Zmk5Y+M5ZCR57uR5a6a55qE5pWI5p6c77yJCiAgICByZXNldEZvcm1EZWY6IGZ1bmN0aW9uIHJlc2V0Rm9ybURlZigpIHsKICAgICAgdmFyIF90aGlzMjkgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtX2RlZiA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkSW5mb0lkOiB1bmRlZmluZWQsCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBvcGVyYXRvcjogJycsCiAgICAgICAgcGRQYXlOYW1lOiAnJywKICAgICAgICBwZFByZW1Db2RlOiAnJywKICAgICAgICBwZFByZW1DYWxNb2RlOiAnRycsCiAgICAgICAgcGRQcmVtWmVyb0ZsYWc6ICdZJywKICAgICAgICBwZFByZW1SZWNsRmxhZzogJ04nLAogICAgICAgIHBkVXJnZVBheUZsYWc6ICdZJywKICAgICAgICBwZFBheVN0YXJ0UGVyaW9kOiB1bmRlZmluZWQsCiAgICAgICAgcGRQYXlTdGFydFBlclVuaXQ6ICdZJywKICAgICAgICBwZFBheVN0YXJ0Q2FsUnVsZTogJ1MnLAogICAgICAgIHBkUGF5U3RhcnRDYWxNb2RlOiAnMCcsCiAgICAgICAgcGRQYXlFbmRQZXJpb2Q6IHVuZGVmaW5lZCwKICAgICAgICBwZFBheUVuZFVuaXQ6ICdZJywKICAgICAgICBwZFBheUVuZENhbFJ1bGU6ICdTJywKICAgICAgICBwZFBheUVuZENhbE1vZGU6ICcwJywKICAgICAgICBwZEFkZFByZW1Nb2RlOiAnJywKICAgICAgICBwZFBheUFjY0tpbmQ6ICcnLAogICAgICAgIHBkQ2hhclByZW1SZWw6ICdOJywKICAgICAgICBwZFJhdGVDaGFuZ2VGbGFnOiAnTicsCiAgICAgICAgcGRQcmVtQWRkRmxhZzogJ04nLAogICAgICAgIHBkUHJlbVN0YXJ0RmxhZzogJ04nLAogICAgICAgIHBkUHJlbUFjY1JlbGE6ICdOJywKICAgICAgICBwZFByZW1DYWxjQ29kZTogJycsCiAgICAgICAgcGRQYXlEYXRlVmFsdWU6ICcxJwogICAgICB9OwogICAgICB0aGlzLmZvcm1fZGVmLnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICB0aGlzLmZvcm1fZGVmLnBkVmVySWQgPSB0aGlzLnByb2R1Y3QucGRWZXJJZDsKICAgICAgdGhpcy5mb3JtX2RlZi5wZENvZGUgPSB0aGlzLnByb2R1Y3QucGRDb2RlOwogICAgICB0aGlzLmZvcm1fZGVmLnBkTmFtZSA9IHRoaXMucHJvZHVjdC5wZE5hbWU7CiAgICAgIHRoaXMucGF5RGF0ZUZvcm0gPSB7CiAgICAgICAgcGF5RGF0ZVRhYmxlOiBbXQogICAgICB9LCB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyOS4kcmVmcy5mb3JtX2RlZi5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9ruWKoOi0ueWvueixoe+8iOebuOW9k+S6jiBuZXcg5LqG5LiA5Liq5a+56LGh77yM5YW35pyJ6Kej6Zmk5Y+M5ZCR57uR5a6a55qE5pWI5p6c77yJCiAgICByZXNldEZvcm1BZGRpdGlvbjogZnVuY3Rpb24gcmVzZXRGb3JtQWRkaXRpb24oKSB7CiAgICAgIHRoaXMuZm9ybV9hZGRpdGlvbiA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkUHJlbUlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRWZXJJZDogdW5kZWZpbmVkLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZEV4dFByZW1Db2RlOiAnJywKICAgICAgICBwZEV4dFByZW1OYW1lOiAnJywKICAgICAgICBwZFByZW1OYW1lOiAnJywKICAgICAgICBwZFByZW1Db2RlOiAnJywKICAgICAgICBwZEV4dFByZW1PYmo6ICcnLAogICAgICAgIHBkRXh0UHJlbU1vZGU6ICcnLAogICAgICAgIHBkRXh0UHJlbVR5cGU6ICcnLAogICAgICAgIHBkTWF4VmFsOiB1bmRlZmluZWQsCiAgICAgICAgcGRFeHRQcmVtQ2FsY0NvZGU6ICcnLAogICAgICAgIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwKICAgICAgICB1cGRhdGVUaW1lOiB1bmRlZmluZWQKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb24pIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb24uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g6YeN572u5Li05pe25Yqg6LS55a+56LGh77yI55u45b2T5LqOIG5ldyDkuobkuIDkuKrlr7nosaHvvIzlhbfmnInop6PpmaTlj4zlkJHnu5HlrprnmoTmlYjmnpzvvIkKICAgIHJlc2V0Rm9ybUFkZGl0aW9uQWRkOiBmdW5jdGlvbiByZXNldEZvcm1BZGRpdGlvbkFkZCgpIHsKICAgICAgdGhpcy5mb3JtX2FkZGl0aW9uX2FkZCA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHBkUHJlbUlkOiBbXSwKICAgICAgICBwZEV4dFByZW1PYmo6IFtdLAogICAgICAgIHBkRXh0UHJlbU1vZGU6IFtdLAogICAgICAgIHBkRXh0UHJlbVR5cGU6IFtdLAogICAgICAgIHBkRXh0UHJlbUNhbGNDb2RlOiAnJwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybV9hZGRpdGlvbl9hZGQpIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb25fYWRkLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dBZGRGZWU6IGZ1bmN0aW9uIHNob3dBZGRGZWUoKSB7CiAgICAgIHRoaXMuYWRkRmVlRmxhZyA9ICF0aGlzLmFkZEZlZUZsYWc7CiAgICB9LAogICAgYWRkUGF5Um93OiBmdW5jdGlvbiBhZGRQYXlSb3coKSB7CiAgICAgIHRoaXMucGF5RGF0ZUZvcm0ucGF5RGF0ZVRhYmxlLnB1c2goewogICAgICAgIHBkUGF5RW5kUGVyaW9kOiB0aGlzLnByb2R1Y3QucGRQYXlQZXJpb2QsCiAgICAgICAgcGRQYXlFbmRVbml0OiAnWScsCiAgICAgICAgcGRQYXlTdGFydFBlcmlvZDogJzAnLAogICAgICAgIHBkUGF5U3RhcnRQZXJVbml0OiAnWScKICAgICAgfSk7CiAgICB9LAogICAgZGVsUGF5Um93OiBmdW5jdGlvbiBkZWxQYXlSb3coaW5kZXgsIHJvdykgewogICAgICB0aGlzLnBheURhdGVGb3JtLnBheURhdGVUYWJsZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div v-show=\"!productCalcRevisionShowINfo\">\r\n      <div :class=\"{ 'showDiv': this.showPageFlag == 1 }\"></div>\r\n      <cus-page-title :label=\"$t('pay_def.payment_database')\">\r\n        <guide id=\"guide\" v-if=\"!premiumCode\" />\r\n      </cus-page-title>\r\n      <!-- 产品信息 -->\r\n      <cus-product-info></cus-product-info>\r\n      <!-- 快捷定义 -->\r\n      <div>\r\n        <cus-condition :disabled=\"!!premiumCode\" :label=\"$t('pay_def.quick_def')\" @show=\"quickshow = !quickshow\"></cus-condition>\r\n      </div>\r\n      <div v-if=\"quickshow\" >\r\n        <cus-form-title :first=\"true\" :label=\"$t('pay_def.paymentquickdef')\"></cus-form-title>\r\n        <el-form ref=\"form_quick\" :model=\"params\" :rules=\"rules_quick\" label-width=\"auto\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"6\">\r\n              <el-form-item :label=\"$t('pay_def.finelinesRegion')\" prop=\"finelinesRegion\">\r\n                <cus-select v-model=\"params.finelinesRegion\" @change=\"selectedDetailTypeChanged\"\r\n                            :codetype=\"'ProductCategory'\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-form-item :label=\"$t('pay_def.referenceProduct')\" prop=\"eq_pdInfoId\">\r\n                <el-select v-model=\"params.eq_pdInfoId\"\r\n                           :placeholder=\"$t('pay_def.message.typeRegion_finelinesRegion_first')\" clearable filterable>\r\n                  <el-option v-for=\"product in productList\" :label=\"product.pdCode + ':' + product.pdName\"\r\n                             :value=\"product.id\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col  :span=\"6\">\r\n              <el-button  size=\"small\" v-if=\"!premiumCode\"  icon=\"el-icon-search\" style=\"margin-left: 5px\" dialog-disable=\"disable\"\r\n                         type=\"primary\"\r\n                         @click=\"handleSearchInAllPremium\">\r\n                {{ $t('table.search') }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n\r\n          </el-row>\r\n        </el-form>\r\n        <cus-table-title :label=\"$t('pay_def.def_list')\"></cus-table-title>\r\n        <el-table v-if=\"!isFixed || isFixed && pageFlag.tableVisible_def\" :data=\"quickTableData\" border\r\n                  element-loading-text=\"Loading\" fit\r\n                  highlight-current-row size=\"mini\" @row-click=\"rowClick_quick\">\r\n\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('table.detail')\" type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                <el-form-item :label=\"$t('pay_def.pay_calc_method')\">\r\n                  <span>{{ props.row.pdPremCalMode | filter_calcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_zero')\">\r\n                  <span>{{ props.row.pdPremZeroFlag | filter_payZero }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('i18nView.pay_start_interval')\">\r\n                  <!-- <span>{{ props.row.pdPayStartPeriod }}{{ props.row.pdPayStartPerUnit | filter_dateSuffix }}</span> -->\r\n                  <span>{{ props.row.pdtempPdPremPeriodList|filter_pdPayStartPeriod}}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_start_calc_basis')\">\r\n                  <span>{{ props.row.pdPayStartCalRule | filter_startCalcRule }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_start_calc_valuetypes')\">\r\n                  <span>{{ props.row.pdPayStartCalMode | filter_startCalcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('i18nView.payTerm')\">\r\n                  <!-- <span>{{ props.row.pdPayEndPeriod }}{{ props.row.pdPayEndUnit | filter_dateSuffix }}</span> -->\r\n                  <span>{{ props.row.pdtempPdPremPeriodList|filter_pdPayEndPeriod}}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_basis')\">\r\n                  <span>{{ props.row.pdPayEndCalRule | filter_endCalcRule }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_method')\">\r\n                  <span>{{ props.row.pdPayEndCalMode | filter_endCalcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_calc_formula_code')\">\r\n                  <span>{{ props.row.pdPremCalcCode }}</span>\r\n                </el-form-item>\r\n              </el-form>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdCode')\" align=\"center\" prop=\"pdCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('i18nView.pdName')\" align=\"center\" prop=\"pdName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\" prop=\"pdPremCode\" sortable :filters=\"quickfilterHandlerList0\"\r\n                           :filter-method=\"filterHandler\" ></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\" prop=\"pdPayName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_calc_method')\" align=\"center\" prop=\"pdPremCalMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdPremCalMode | filter_calcMethod }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_prem_changeFlag')\" align=\"center\"  :filters=\"quickfilterHandlerList1\"\r\n                           :filter-method=\"filterHandler\"\r\n                           prop=\"pdRateChangeFlag\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pd_prem_acc_relaFlag')\" align=\"center\"  :filters=\"quickfilterHandlerList2\"\r\n                           :filter-method=\"filterHandler\"\r\n                           prop=\"pdPremAccRela\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.extra_payFlag')\" align=\"center\" prop=\"pdPremAddFlag\"  :filters=\"quickfilterHandlerList3\"\r\n                           :filter-method=\"filterHandler\" ></el-table-column>\r\n\r\n          <el-table-column v-if=\"!premiumCode\" :label=\"$t('pdtempPdInsuAgeInfo.operation')\" align=\"center\" width=\"150px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button  size=\"small\" v-auth=\"'pdtemp-pd-prem:copyPremium'\" type=\"primary\"\r\n                         @click=\"copyPremiumToCurrentProduct(scope.row)\"><i\r\n                class=\"el-icon-document-copy\"></i>{{ $t('pay_def.copyPremium') }}\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination ref=\"page_quick\" v-model=\"quickTableData\"  :pageSize=\"5\"\r\n                        :params=\"params\" url=\"/pdtemp-pd-prem/base/quickQuery\"/>\r\n      </div>\r\n      <!-- 缴费定义表格 -->\r\n      <cus-table-title :label=\"$t('pay_def.pay_premium')\"></cus-table-title>\r\n      <div id=\"table_def\" :class=\"fixedClassName\">\r\n        <div style=\"text-align: center\">\r\n          <div>\r\n            <cus-form-title v-if=\"isFixed\" style=\"float: left\" :label=\"$t('pay_def.pay_premium')\" :showArrow=\"true\" :display=\"true\" @show=\"pageFlag.tableVisible_def =! pageFlag.tableVisible_def\" >\r\n\r\n            </cus-form-title>\r\n<!--            <el-button   v-if=\"isFixed\" size=\"mini\" style=\"float: right\" @click=\"pageFlag.tableVisible_def =! pageFlag.tableVisible_def\">-->\r\n<!--              {{ $t('pay_def.display_or_not') }}-->\r\n<!--            </el-button>-->\r\n          </div>\r\n        </div>\r\n        <el-table v-show=\"!isFixed || isFixed && pageFlag.tableVisible_def\" ref=\"defTableData\" :data=\"defTableData\" border\r\n                  element-loading-text=\"Loading\"\r\n                  fit highlight-current-row size=\"mini\"\r\n                  @row-click=\"rowClick_def\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDef\" @change=\"selectedDefChanged\">\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.detail')\" type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n                <el-form-item :label=\"$t('pay_def.pay_calc_method')\">\r\n                  <span>{{ props.row.pdPremCalMode | filter_calcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_zero')\">\r\n                  <span>{{ props.row.pdPremZeroFlag | filter_payZero }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('i18nView.pay_start_interval')\">\r\n                  <!-- <span>{{ props.row.pdPayStartPeriod }}{{ props.row.pdPayStartPerUnit | filter_dateSuffix }}</span> -->\r\n                  <span>{{ props.row.pdtempPdPremPeriodList|filter_pdPayStartPeriod}}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_start_calc_basis')\">\r\n                  <span>{{ props.row.pdPayStartCalRule | filter_startCalcRule }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_start_calc_valuetypes')\">\r\n                  <span>{{ props.row.pdPayStartCalMode | filter_startCalcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('i18nView.payTerm')\">\r\n                  <!-- <span>{{ props.row.pdPayEndPeriod }}{{ props.row.pdPayEndUnit | filter_dateSuffix }}</span> -->\r\n                  <span>{{ props.row.pdtempPdPremPeriodList|filter_pdPayEndPeriod}}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_basis')\">\r\n                  <span>{{ props.row.pdPayEndCalRule | filter_endCalcRule }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_method')\">\r\n                  <span>{{ props.row.pdPayEndCalMode | filter_endCalcMethod }}</span>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('pay_def.pay_calc_formula_code')\">\r\n                  <span>{{ props.row.pdPremCalcCode }}</span>\r\n                </el-form-item>\r\n              </el-form>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n            <template v-slot=\"scope\">\r\n              {{ initTableIndex('page_def', scope.$index) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\" prop=\"pdPremCode\" sortable :filters=\"filterHandlerList0\"\r\n                           :filter-method=\"filterHandler\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\" prop=\"pdPayName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_prem_changeFlag')\" align=\"center\" :filters=\"filterHandlerList1\"\r\n                           :filter-method=\"filterHandler\"\r\n                           prop=\"pdRateChangeFlag\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pd_prem_acc_relaFlag')\" align=\"center\"  :filters=\"filterHandlerList2\"\r\n                           :filter-method=\"filterHandler\"\r\n                           prop=\"pdPremAccRela\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.operation')\" v-if=\"!premiumCode\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-del-btn v-auth=\"'pdtemp-pd-prem:delete'\" :disabled=\"!!premiumCode\"\r\n                           @ok=\"handleDeleteDef(scope.row)\"></cus-del-btn>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <!-- 分页 -->\r\n      <cus-pagination ref=\"page_def\" v-model=\"defTableData\" :autoBuild=\"false\" :pageSize=\"10\"\r\n                      :params=\"params_currentProduct\" url=\"/pdtemp-pd-prem/base/list\"/>\r\n      <!-- 缴费定义表单 -->\r\n      <cus-form-title :first=\"true\" :label=\"$t('pay_def.pay_def')\"></cus-form-title>\r\n      <div>\r\n        <el-form id=\"paymentBase\" ref=\"form_def\" :disabled=\"!!premiumCode\"  :model=\"form_def\" :rules=\"rules\"\r\n                  label-width=\"auto\">\r\n          <cus-row>\r\n            <cus-col :span=\"12\">\r\n              <el-form-item :label=\"$t('pay_def.pay_name')\" prop=\"pdPayName\">\r\n                <el-input v-model=\"form_def.pdPayName\" maxlength=\"60\" show-word-limit ></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_calc_method')\" prop=\"pdPremCalMode\">\r\n                <cus-select v-model=\"form_def.pdPremCalMode\" :codetype=\"'pd_prem_cal_method'\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <cus-row >\r\n            <cus-col>\r\n              <el-form-item :label=\"$t('pay_def.pd_prem_acc_rela')\">\r\n                <el-switch v-model=\"form_def.pdPremAccRela\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_zero')\">\r\n                <el-switch v-model=\"form_def.pdPremZeroFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_prem_change')\">\r\n                <el-switch v-model=\"form_def.pdRateChangeFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n\r\n\r\n            <div v-if=\"false\">\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.extra_pay')\">\r\n                <el-switch v-model=\"form_def.pdPremAddFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n              </el-form-item>\r\n            </cus-col>\r\n            </div>\r\n          </cus-row>\r\n          <el-form id=\"paymentBase1\" ref=\"product_extra\" :model=\"product_extra\" :rules=\"rules1\"\r\n                   label-width=\"auto\">\r\n            <cus-row>\r\n              <cus-col :span=\"24\">\r\n                <el-form-item :label=\"$t('pay_def.pay_frequency')\" prop=\"pdPayFreq\">\r\n                  <cus-checkbox v-model=\"product_extra.pdPayFreq\" :codetype=\"'paymentFrequency'\"\r\n                  ></cus-checkbox>\r\n                </el-form-item>\r\n              </cus-col>\r\n              <!--            缴费期间取值类型-->\r\n            </cus-row>\r\n          </el-form>\r\n          <cus-form-title :first=\"true\" :label=\"$t('pay_def.pay_def_time')\"></cus-form-title>\r\n          <cus-table-title :label=\"$t('i18nView.payTerm')\"></cus-table-title>\r\n          <el-form ref=\"ruleForm1\" :model=\"payDateForm\" :rules=\"rules\" class=\"payForm\">\r\n          <el-table ref=\"payDateTable\" :data=\"payDateForm.payDateTable\" align=\"center\" border class=\"wraper-table\" fit highlight-current-row>\r\n            <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"80px\"></el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.payTerm')\" align=\"center\" prop=\"pdPayEndPeriod\" >\r\n              <template slot-scope=\"scope\">\r\n                <el-form-item :prop=\"'payDateTable.' + scope.$index + '.pdPayEndPeriod'\" :rules='rules.pdPayEndPeriod'>\r\n                  <el-input v-model.number=\"scope.row.pdPayEndPeriod\" :placeholder=\"$t('i18nView.placeholderNum')\"  type=\"number\"></el-input>\r\n                </el-form-item>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pay_date_unit')\" align=\"center\" prop=\"pdPayEndUnit\" >\r\n              <template slot-scope=\"scope\">\r\n                <cus-select v-model=\"scope.row.pdPayEndUnit\" :codetype=\"'pdsbnftdy'\"></cus-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pay_start_interval')\" align=\"center\"prop=\"pdPayStartPeriod\" >\r\n              <template slot-scope=\"scope\">\r\n                <el-form-item :prop=\"'payDateTable.' + scope.$index + '.pdPayStartPeriod'\" :rules='rules.pdPayEndPeriod'>\r\n                  <el-input v-model.number=\"scope.row.pdPayStartPeriod\" :placeholder=\"$t('i18nView.placeholderNum')\"  type=\"number\"></el-input>\r\n                </el-form-item>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('i18nView.pay_start_interval_unit')\" align=\"center\" prop=\"pdPayStartPerUnit\" >\r\n              <template slot-scope=\"scope\">\r\n                <cus-select v-model=\"scope.row.pdPayStartPerUnit\" :codetype=\"'pdsbnftdy'\"></cus-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pay_def.operation')\" v-if=\"!premiumCode\" align=\"center\" width=\"100px\">\r\n              <template slot-scope=\"scope\">\r\n                <cus-popover @confirm=\"delPayRow(scope.$index, scope.row)\"  icon=\"el-icon-minus\" style=\"margin-right: 5px;margin-left: 5px\" type=\"danger\"  :content=\"$t('confirmMessage.delete')\">\r\n                </cus-popover>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          </el-form>\r\n          <el-row>\r\n            <el-button v-if=\"!premiumCode\" size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addPayRow\" dialog-disable=\"disable\"></el-button>\r\n          </el-row>\r\n          <!-- <el-row>\r\n            <el-col :span=\"7\">\r\n              <el-form-item :label=\"$t('pay_def.pay_calc_method')\" prop=\"pdPremCalMode\">\r\n                <cus-select v-model=\"form_def.pdPremCalMode\" :codetype=\"'pd_prem_cal_method'\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item :label=\"$t('pay_def.pay_date')\" prop=\"pdPayEndPeriod\">\r\n                <el-input v-model=\"form_def.pdPayEndPeriod\" placeholder=\"请输入数字\"  type=\"number\">\r\n                  <cus-select slot=\"append\" v-model=\"form_def.pdPayEndUnit\" :codetype=\"'pdsbnftdy'\"\r\n                              class=\"cst\"></cus-select>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item :label=\"$t('pay_def.pay_start_interval')\" prop=\"pdPayStartPeriod\">\r\n                <el-input v-model=\"form_def.pdPayStartPeriod\" placeholder=\"请输入数字\"  type=\"number\">\r\n                  <cus-select slot=\"append\" v-model=\"form_def.pdPayStartPerUnit\" :codetype=\"'pdsbnftdy'\"\r\n                              class=\"cst\"></cus-select>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row> -->\r\n\r\n\r\n          <el-row>\r\n            <el-col :span=\"8\" style=\"white-space: nowrap;\" >\r\n              <el-form-item :label=\"$t('pay_def.pay_start_calc_basis')\">\r\n                <cus-radio v-model=\"form_def.pdPayStartCalRule\" :codetype=\"'pd_prem_start_calc_rule'\"></cus-radio>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <cus-col :span=\"24\">\r\n            <el-form-item :label=\"$t('pay_def.pay_date_value')\" >\r\n                <cus-radio v-model=\"form_def.pdPayDateValue\" :codetype=\"'pdPayEndCalMode'\"></cus-radio>\r\n            </el-form-item>\r\n          </cus-col>\r\n          <cus-row>\r\n\r\n          </cus-row>\r\n          <div v-if=\"false\">\r\n            <el-row>\r\n              <cus-col >\r\n                <el-form-item :label=\"$t('pay_def.pay_start_menu')\">\r\n                  <el-switch v-model=\"form_def.pdPremStartFlag\" active-value=\"Y\" inactive-value=\"N\"></el-switch>\r\n                </el-form-item>\r\n              </cus-col>\r\n            </el-row>\r\n          </div>\r\n              <el-row>\r\n                <el-col :span=\"8\" style=\"white-space: nowrap;\" >\r\n                  <el-form-item :label=\"$t('pay_def.pay_start_calc_valuetypes')\">\r\n                    <cus-radio v-model=\"form_def.pdPayStartCalMode\" :codetype=\"'pd_prem_start_calc_method'\"></cus-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            <cus-row>\r\n              <el-col :span=\"8\" style=\"white-space: nowrap;\" >\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_basis')\">\r\n                  <cus-radio v-model=\"form_def.pdPayEndCalRule\" :codetype=\"'pd_prem_end_calc_rule'\"></cus-radio>\r\n                </el-form-item>\r\n              </el-col>\r\n            </cus-row>\r\n            <cus-row>\r\n              <el-col :span=\"8\" style=\"white-space: nowrap;\" >\r\n                <el-form-item :label=\"$t('pay_def.pay_end_calc_method')\">\r\n                  <cus-radio v-model=\"form_def.pdPayEndCalMode\" :codetype=\"'pd_prem_end_calc_method'\"></cus-radio>\r\n                </el-form-item>\r\n              </el-col>\r\n            </cus-row>\r\n          <el-row>\r\n            <el-form-item style=\"float: right\">\r\n              <el-button  size=\"small\"  v-if=\"!selectedDef.id&&!premiumCode\" v-auth=\"'pdtemp-pd-prem:add'\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                         type=\"primary\" @click=\"handleAddDef\">{{ $t('pay_def.save') }}\r\n              </el-button>\r\n              <el-button  size=\"small\"  v-if=\"selectedDef.id&&!premiumCode\" v-auth=\"'pdtemp-pd-prem:update'\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                         type=\"primary\" @click=\"handleUpdateDef\">{{ $t('pay_def.update') }}\r\n              </el-button>\r\n              <el-button  size=\"small\" v-if=\"!premiumCode\"  icon=\"el-icon-refresh\" type=\"primary\" @click=\"clearFormDef\" dialog-disable=\"disable\">\r\n                {{ $t('pay_def.refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n          <cus-form-title :label=\"$t('pay_def.pay_calc_formula')\"></cus-form-title>\r\n          <el-row id=\"payCalcFormula\">\r\n            <el-col :span=\"8\">\r\n              <el-form-item :label=\"$t('pay_def.pay_code')\">\r\n                <el-tag type=\"info\" style=\"width: 220px\">{{ form_def.pdPremCode || form_defAdd.pdPremCode }}</el-tag>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item :label=\"$t('pay_def.pay_calc_formula1')\">\r\n                <el-input v-model=\"form_def.pdPremCalcCode\" readonly style=\"width: 220px\">\r\n                  <el-tooltip\r\n                    slot=\"suffix\"\r\n                    :content=\"premiumCode?$t('pay_def.message.readonly'):(Object.keys(selectedDef).length===0&&Object.keys(form_defAdd).length===0?$t('pay_def.message.pleaseSelectPremium'):'')\"\r\n                    :disabled=\"!premiumCode && (Object.keys(selectedDef).length>0||Object.keys(form_defAdd).length>0)\"\r\n                    effect=\"dark\" placement=\"top\">\r\n                    <svg-icon\r\n                      :style=\"{cursor:!premiumCode && (Object.keys(selectedDef).length>0||Object.keys(form_defAdd).length>0)?'pointer':'not-allowed'}\"\r\n                      icon-class=\"calc\"\r\n                      style=\"color: #606266;font-size: 18px\"\r\n                      @click=\"!premiumCode && (Object.keys(selectedDef).length>0||Object.keys(form_defAdd).length>0) && goClicks('1','17')\"/>\r\n                  </el-tooltip>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n      <!-- 加费部分 -->\r\n\r\n      <cus-form-title v-show=\"false\" :label=\"$t('pay_def.pay_extra_def')\" :realFirst=\"true\" @show=\"showAddFee\" :showArrow=\"true\"></cus-form-title>\r\n      <div  v-show=\"addFeeFlag\">\r\n        <!-- 加费定义表格（显示数据库中现有的加费记录） -->\r\n        <cus-table-title :label=\"$t('pay_def.addition_list') \"></cus-table-title>\r\n        <el-table :data=\"additionTableData\" :span-method=\"objectSpanMethod_addition\" border element-loading-text=\"Loading\"\r\n                  fit size=\"mini\" @row-click=\"rowClick_addition\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedAddition\" @change=\"selectedAdditionChanged\">\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n            <template v-slot=\"scope\">\r\n              {{ initTableIndex('page_addition', scope.$index) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\" prop=\"pdPremCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\" prop=\"pdPremName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.addition_pay_code')\" align=\"center\" prop=\"pdExtPremCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.addition_pay_name')\" sortable :filters=\"filterpdExtPremNameList1\"\r\n                           :filter-method=\"filterHandler\" align=\"center\" prop=\"pdExtPremName\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.addition_pay_person')\" align=\"center\" prop=\"pdExtPremObj\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdExtPremObj | filter_additionPayPerson }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.addition_type')\" align=\"center\" prop=\"pdExtPremType\" sortable  :filters=\"filterpdExtPremNameList2\"\r\n                           :filter-method=\"filterHandler\" >\r\n            <template v-slot=\"scope\">{{ scope.row.pdExtPremType | filter_additionType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.addition_mode')\" align=\"center\" prop=\"pdExtPremMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdExtPremMode | filter_additionAdditionMode }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.operation')\" v-if=\"!premiumCode\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-del-btn v-auth=\"'pdtemp-pd-ext-prem:delete'\" :disabled=\"!!premiumCode\"\r\n                           @ok=\"handleDeleteAddition(scope.row)\"></cus-del-btn>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <cus-pagination ref=\"page_addition\" v-model=\"additionTableData\" :mergedAttrName=\"'pdPremId'\"\r\n                        :needMerging=\"true\" :orderIndexArrName=\"'orderIndexArr_addition'\" :pageSize=\"10\"\r\n                        :params=\"params_addition\" :tableData=\"additionTableData\" url=\"/pdtemp-pd-ext-prem/base/list\"\r\n                        @updateOrderIndexArr=\"updateOrderIndexArr\"/>\r\n      </div>\r\n      <!-- 加费定义表单（新增） -->\r\n      <div v-if=\"!selectedAddition.id && addFeeFlag\">\r\n        <br>\r\n        <cus-form-title :first=\"true\" :label=\"$t('pay_def.addition_info')\"></cus-form-title>\r\n        <el-form ref=\"form_addition_add\" :disabled=\"!!premiumCode\" :model=\"form_addition_add\" :rules=\"rules\" label-width=\"auto\" >\r\n          <cus-row>\r\n            <cus-col :span=\"11\">\r\n              <el-form-item :label=\"$t('pay_def.pay_name')\" prop=\"pdPremId\">\r\n                <el-select v-model=\"form_addition_add.pdPremId\" :placeholder=\"$t('pay_def.please_select')\" clearable\r\n                           filterable multiple>\r\n                  <el-option v-for=\"def in defTableData\" :label=\"def.pdPayName\" :value=\"def.id\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <cus-row>\r\n            <cus-col :span=\"11\">\r\n              <el-form-item :label=\"$t('pay_def.addition_pay_person')\" prop=\"pdExtPremObj\">\r\n                <cus-checkbox v-model=\"form_addition_add.pdExtPremObj\"\r\n                              :codetype=\"'pdAddPremObj'\"></cus-checkbox>\r\n              </el-form-item>\r\n            </cus-col>\r\n            </cus-row>\r\n            <cus-row>\r\n            <cus-col :span=\"11\">\r\n              <el-form-item :label=\"$t('pay_def.addition_mode')\" prop=\"pdExtPremMode\">\r\n                <cus-checkbox v-model=\"form_addition_add.pdExtPremMode\"\r\n                              :codetype=\"'pd_prem_addition_addition_mode'\"></cus-checkbox>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <el-row>\r\n            <el-col :span=\"11\">\r\n              <el-form-item :label=\"$t('pay_def.addition_type')\" prop=\"pdExtPremType\">\r\n                <el-input v-model=\"displayName_additionType\" :placeholder=\"$t('pay_def.unselected')\" readonly></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-button v-if=\"!premiumCode\"  size=\"small\" style=\"margin-left: 5px\" @click=\"pageFlag.dialogVisible_additionType = true\">\r\n              {{ $t('pay_def.please_select') }}\r\n            </el-button>\r\n          </el-row>\r\n          <el-dialog ref=\"additionType\" v-dialog-drag :visible.sync=\"pageFlag.dialogVisible_additionType\"\r\n                     width=\"45%\">\r\n            <cus-page-title :label=\"$t('pay_def.addition_type')\"></cus-page-title>\r\n            <el-form-item>\r\n              <cus-checkbox v-model=\"form_addition_add.pdExtPremType\"\r\n                            :codetype=\"'pd_prem_addition_type'\"></cus-checkbox>\r\n            </el-form-item>\r\n            <el-button-group>\r\n              <el-button v-if=\"!premiumCode\"  size=\"small\" type=\"primary\" icon=\"el-icon-success\" @click=\"selectAllAdditionType\" dialog-disable=\"disable\">{{ $t('pay_def.select_all') }}</el-button>\r\n              <el-button v-if=\"!premiumCode\"  size=\"small\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"form_addition_add.pdExtPremType = []\" dialog-disable=\"disable\">{{ $t('pay_def.refresh') }}</el-button>\r\n            </el-button-group>\r\n            <div style=\"float: right\">\r\n              <el-button-group>\r\n                <el-button v-if=\"!premiumCode\"  size=\"small\" type=\"primary\" icon=\"el-icon-success\" @click=\"pageFlag.dialogVisible_additionType = false\" dialog-disable=\"disable\">\r\n                  {{ $t('pay_def.add') }}\r\n                </el-button>\r\n              </el-button-group>\r\n            </div>\r\n          </el-dialog>\r\n          <el-row>\r\n            <el-form-item style=\"float: right\">\r\n              <el-button v-if=\"!premiumCode\"  size=\"small\" icon=\"el-icon-success\" type=\"primary\" @click=\"handleAddAddition\" dialog-disable=\"disable\">\r\n                {{ $t('pay_def.add') }}\r\n              </el-button>\r\n              <el-button v-if=\"!premiumCode\" size=\"small\" icon=\"el-icon-refresh\" type=\"primary\" @click=\"resetFormAdditionAdd\" dialog-disable=\"disable\">\r\n                {{ $t('pay_def.refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <!-- 新增加费表格（动态显示） -->\r\n          <div v-if=\"additionAddTableData.length > 0\">\r\n            <cus-form-title :label=\"$t('pay_def.to_add_additionitem')\"></cus-form-title>\r\n            <cus-table-title :label=\"$t('pay_def.addition_add_list')\"></cus-table-title>\r\n            <el-table :data=\"additionAddTableData\" :span-method=\"objectSpanMethod_addition_add\"\r\n                      border element-loading-text=\"Loading\" fit max-height=\"500\" size=\"mini\"\r\n                      @selection-change=\"handleSelectionChange\">\r\n              <el-table-column align=\"center\" type=\"selection\" width=\"50\"></el-table-column>\r\n              <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\" prop=\"pdPremCode\"></el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\" prop=\"pdPremName\"></el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.addition_pay_name')\" align=\"center\" width=\"300px\">\r\n                <template v-slot=\"scope\">\r\n                  <el-input v-model=\"scope.row.pdExtPremName\" :placeholder=\"$t('form.please_enter')\" maxlength=\"60\"\r\n                            show-word-limit></el-input>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.addition_pay_person')\" align=\"center\" prop=\"additionPayPersonType\">\r\n                <template v-slot=\"scope\">{{ scope.row.pdExtPremObj | filter_additionPayPerson }}</template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.addition_mode')\" align=\"center\" prop=\"additionMode\">\r\n                <template v-slot=\"scope\">{{ scope.row.pdExtPremMode | filter_additionAdditionMode }}</template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.addition_type')\" align=\"center\" prop=\"additionType\">\r\n                <template v-slot=\"scope\">{{ scope.row.pdExtPremType | filter_additionType }}</template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('pay_def.addition_maximum')\" align=\"center\" width=\"140px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input-number v-model=\"scope.row.pdMaxVal\" style=\"width: 120px;\"\r\n                                   :disabled=\"scope.row.pdExtPremMode!=='01'\" :placeholder=\"$('i18nView.placeholderNum')\"></el-input-number>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column :label=\"$t('table.actions')\" v-if=\"!premiumCode\" align=\"center\" width=\"100px\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button  slot=\"reference\" size=\"mini\"\r\n                              type=\"danger\" @click=\"handleDeleteAdditionAdd(scope.row)\"><i class=\"el-icon-minus\" dialog-disable=\"disable\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-form>\r\n              <el-row v-if=\"selectedAdditionAdds.length > 0\" style=\"margin: 20px auto 50px auto;\">\r\n                <el-form-item align=\"right\" style=\"float: right\">\r\n                  <el-button v-if=\"!premiumCode\"  size=\"small\" v-auth=\"'pdtemp-pd-ext-prem:add'\" icon=\"el-icon-success\" type=\"primary\" dialog-disable=\"disable\"\r\n                              @click=\"handleSaveAdditionAdd\">{{ $t('pay_def.save') }}\r\n                  </el-button>\r\n                </el-form-item>\r\n              </el-row>\r\n            </el-form>\r\n            <br/>\r\n          </div>\r\n\r\n\r\n          <cus-form-title :label=\"$t('pay_def.addition_calc_formula_code')\"></cus-form-title>\r\n          <cus-row>\r\n            <cus-col>\r\n              <el-form-item :label=\"$t('pay_def.addition_calc_formula_code1')\">\r\n                <el-input v-model=\"form_addition.pdExtPremCalcCode\" readonly >\r\n                  <el-tooltip\r\n                    slot=\"suffix\"\r\n                    :content=\"premiumCode?$t('pay_def.message.readonly'):(Object.keys(selectedAddition).length===0?$t('pay_def.message.pleaseSelectAddPremium'):'')\"\r\n                    :disabled=\"!premiumCode && Object.keys(selectedAddition).length>0\" effect=\"dark\"\r\n                    placement=\"top\">\r\n                    <svg-icon\r\n                      :style=\"{cursor:!premiumCode && Object.keys(selectedAddition).length>0?'pointer':'not-allowed'}\"\r\n                      icon-class=\"calc\"\r\n                      style=\"color: #606266;font-size: 18px\"\r\n                      @click=\"!premiumCode && Object.keys(selectedAddition).length>0 && goClicks('1','19')\"/>\r\n                  </el-tooltip>\r\n                </el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <el-row v-if=\"false\">\r\n            <el-button  size=\"small\" icon=\"el-icon-monitor\" type=\"primary\" @click=\"goRules('1','1')\">\r\n              {{ $t('pay_def.premium_rule_def') }}\r\n            </el-button>\r\n          </el-row>\r\n\r\n        </el-form>\r\n      </div>\r\n      <!-- 加费定义表单（编辑） -->\r\n      <div v-if=\"selectedAddition.id && addFeeFlag\">\r\n        <cus-form-title :first=\"true\" :label=\"$t('pay_def.addition_info')\"></cus-form-title>\r\n        <el-form ref=\"form_addition\" :disabled=\"!!premiumCode\"  :model=\"form_addition\"\r\n                 :rules=\"rules\" label-position=\"right\" label-width=\"auto\">\r\n          <el-row>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.pay_code')\">\r\n                <div>{{ form_addition.pdPremCode }}</div>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.pay_name')\">\r\n                <div>{{ form_addition.pdPremId | filter_paymentId }}</div>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.addition_pay_code')\">\r\n                <div>{{ form_addition.pdExtPremCode }}</div>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.addition_pay_name')\" prop=\"pdExtPremName\">\r\n                <el-input v-model=\"form_addition.pdExtPremName\" maxlength=\"60\" show-word-limit></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.addition_pay_person')\" prop=\"pdExtPremObj\">\r\n                <cus-radio v-model=\"form_addition.pdExtPremObj\" :codetype=\"'pdAddPremObj'\"></cus-radio>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.addition_mode')\" prop=\"pdExtPremMode\">\r\n                <cus-radio v-model=\"form_addition.pdExtPremMode\"\r\n                           :codetype=\"'pd_prem_addition_addition_mode'\"></cus-radio>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"10\">\r\n              <el-form-item :label=\"$t('pay_def.addition_type')\" prop=\"pdExtPremType\">\r\n                <cus-select v-model=\"form_addition.pdExtPremType\" :codetype=\"'pd_prem_addition_type'\"></cus-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col  :span=\"10\" v-if=\"form_addition.pdExtPremMode === '01'\">\r\n              <el-form-item :label=\"$t('pay_def.addition_maximum')\" prop=\"pdMaxVal\">\r\n                <el-input-number v-model=\"form_addition.pdMaxVal\" :placeholder=\"$t('i18nView.placeholderNum')\"></el-input-number>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <cus-form-title :label=\"$t('pay_def.addition_calc_formula_code')\"></cus-form-title>\r\n          <el-row>\r\n            <el-col :span=\"6\">\r\n              <el-form-item :label=\"$t('pay_def.addition_calc_formula_code1')\">\r\n                <el-input v-model=\"form_addition.pdExtPremCalcCode\">\r\n                  <el-tooltip\r\n                    slot=\"suffix\"\r\n                    :content=\"premiumCode?$t('pay_def.message.readonly'):(Object.keys(selectedAddition).length===0?$t('pay_def.message.pleaseSelectAddPremium'):'')\"\r\n                    :disabled=\"!premiumCode && Object.keys(selectedAddition).length>0\" effect=\"dark\"\r\n                    placement=\"top\">\r\n                    <svg-icon\r\n                      :style=\"{cursor:!premiumCode && Object.keys(selectedAddition).length>0?'pointer':'not-allowed'}\"\r\n                      icon-class=\"calc\"\r\n                      style=\"color: #606266;font-size: 18px\"\r\n                      @click=\"!premiumCode && Object.keys(selectedAddition).length>0 && goClicks('1','19')\"/>\r\n                  </el-tooltip>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-form-item style=\"float: right\">\r\n              <el-button  size=\"small\" v-if=\"!premiumCode\" v-auth=\"'pdtemp-pd-ext-prem:update'\" icon=\"el-icon-success\" dialog-disable=\"disable\"\r\n                          type=\"primary\" @click=\"handleUpdateAddition\">{{ $t('pay_def.update') }}\r\n              </el-button>\r\n              <!-- <el-button  size=\"small\" @click=\"handleDeleteAddition\" style=\"margin: 0 10px 0 0\"\r\n                          type=\"danger\" v-auth=\"'pdtemp-pd-ext-prem:delete'\">{{ $t('table.delete') }}\r\n               </el-button>-->\r\n              <el-button  size=\"small\" v-if=\"!premiumCode\" icon=\"el-icon-refresh\" type=\"primary\" @click=\"clearFormAddition\" dialog-disable=\"disable\">\r\n                {{ $t('pay_def.refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n      <!--产品优惠部分-->\r\n      <br/>\r\n    </div>\r\n\r\n    <div v-show=\"productCalcRevisionShowINfo\">\r\n      <cus-page-title-back :label=\"$t('i18nView.pdFormulaQuery')\" @backTo=\"back2\"></cus-page-title-back>\r\n      <cus-product-info></cus-product-info>\r\n    </div>\r\n\r\n    <el-form ref=\"form_count\"  :model=\"form_count\" :rules=\"rules_count\" label-position=\"right\" label-width=\"auto\">\r\n      <cus-form-title @show=\"discountClick\" :showArrow=\"true\" :realFirst=\"true\" :label=\"$t('pay_def.pay_discount')\"></cus-form-title>\r\n\r\n      <div v-if=\"discountFlag==='Y'\">\r\n        <cus-table-title :label=\"$t('pay_def.pd_pay_discount')\"></cus-table-title>\r\n        <el-table ref=\"discountTableData\" :data=\"discountTableData\" :span-method=\"objectSpanMethod_discount\"\r\n                  border element-loading-text=\"Loading\" fit size=\"mini\" @row-click=\"rowClick_discount\">\r\n          <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"selectedDiscount\" @change=\"selectedDiscountChanged\">\r\n                <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\" type=\"index\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\"\r\n                           sortable :filters=\"filterDiscountCode\"\r\n                           :filter-method=\"filterHandlerDiscount\" prop=\"pdPremCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\"\r\n                           prop=\"pdPayName\"></el-table-column>\r\n          <el-table-column :filter-method=\"filterHandler\" :filters=\"pdCmpnRangeFilters\"\r\n                           :label=\"$t('pay_def.pay_discount_range')\"\r\n                           align=\"center\"\r\n                           prop=\"pdCmpnRange\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdCmpnRange | filter_pdCmpnRange }}</template>\r\n          </el-table-column>\r\n          <el-table-column :filter-method=\"filterHandler\" :filters=\"pdCmpnTypeFilters\"\r\n                           :label=\"$t('pay_def.pay_discount_type')\"\r\n                           align=\"center\"\r\n                           prop=\"pdCmpnType\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdCmpnType | filter_pdCmpnType }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_discount_calc')\" align=\"center\" prop=\"pdCmpnCalcMode\">\r\n            <template v-slot=\"scope\">{{ scope.row.pdCmpnCalcMode | filter_pdCmpnCalcMode }}</template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_discount_val')\" align=\"center\" prop=\"pdCmpnVal\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.pay_discount_calc_code')\" align=\"center\"\r\n                           prop=\"pdCmpnCalcCode\"></el-table-column>\r\n          <el-table-column :label=\"$t('pay_def.operation')\" v-if=\"!premiumCode\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <cus-del-btn :disabled=\"!!premiumCode\" @ok=\"deleteDisCount(scope.row)\"></cus-del-btn>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div v-show=\"!productCalcRevisionShowINfo\">\r\n          <cus-form-title :label=\"$t('pay_def.pay_discount_menu')\" ></cus-form-title>\r\n          <cus-row>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_name')\" prop=\"pdPremIds\">\r\n                <el-select v-model=\"form_count.pdPremIds\" :disabled=\"!!selectedDiscount.id\" clearable multiple\r\n                           filterable @change=\"getPdDiscountRange\">\r\n                  <el-option v-for=\"def in defTableData\" :label=\"def.pdPayName\" :value=\"def.id\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_discount_order')\" prop=\"pdCmpnOrder\">\r\n                <el-input v-model=\"form_count.pdCmpnOrder\" :placeholder=\"$t('i18nView.placeholderNum')\" type=\"number\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_discount_type')\" prop=\"pdCmpnType\" >\r\n                <cus-select v-model=\"form_count.pdCmpnType\" :codetype=\"'preferentialType'\"\r\n                            :disabled=\"!!selectedDiscount.id\" :filter=\"filterCmpnType\"></cus-select>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <cus-row>\r\n            <cus-col :span=\"24\">\r\n              <el-form-item :label=\"$t('pay_def.pay_discount_range')\" prop=\"pdCmpnRange\">\r\n                <el-checkbox-group v-model=\"form_count.pdCmpnRange\" :disabled=\"!!selectedDiscount.id\">\r\n                  <el-checkbox v-for=\"item in pdDiscountRangeOptions\" :key=\"item.value\" :disabled=\"item.disabled\"\r\n                               :label=\"item.value\">{{ item.label }}\r\n                  </el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </cus-col>\r\n          </cus-row>\r\n          <cus-row>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_discount_calc')\" prop=\"pdCmpnCalcMode\" @change=\"changePdCmpnCalcMode\">\r\n                <cus-radio v-model=\"form_count.pdCmpnCalcMode\" :codetype=\"'preferentialClculationType'\"\r\n                ></cus-radio>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n              <el-form-item :label=\"$t('pay_def.pay_discount_val')\">\r\n                <el-input v-model=\"form_count.pdCmpnVal\" :disabled=\"form_count.pdCmpnCalcMode!=='1'\" :placeholder=\"$t('i18nView.placeholderNum')\"\r\n                          type=\"number\"></el-input>\r\n              </el-form-item>\r\n            </cus-col>\r\n            <cus-col >\r\n            </cus-col >\r\n          </cus-row>\r\n          <el-row>\r\n            <el-form-item style=\"float: right\">\r\n              <el-button  size=\"small\" v-if=\"!selectedDiscount.id&&!premiumCode\" :disabled=\"!!premiumCode\" icon=\"el-icon-success\" type=\"primary\" dialog-disable=\"disable\"\r\n                         @click=\"saveDisCount\">\r\n                {{ $t('pay_def.save') }}\r\n              </el-button>\r\n              <el-button  size=\"small\" v-if=\"selectedDiscount.id&&!premiumCode\" :disabled=\"!!premiumCode\" icon=\"el-icon-success\" type=\"primary\" dialog-disable=\"disable\"\r\n                         @click=\"updateDisCount\">\r\n                {{ $t('pay_def.update') }}\r\n              </el-button>\r\n              <el-button  size=\"small\" v-if=\"!premiumCode\" :disabled=\"!!premiumCode\" icon=\"el-icon-refresh\" type=\"primary\" @click=\"clearFormDiscount\" dialog-disable=\"disable\">\r\n                {{ $t('pay_def.refresh') }}\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n        </div>\r\n\r\n        <cus-form-title :label=\"$t('pay_def.pay_discount_calc_code')\"></cus-form-title>\r\n        <cus-row>\r\n          <cus-col >\r\n            <el-form-item :label=\"$t('pay_def.pay_discount_calc_code1')\" >\r\n              <el-input v-model=\"form_count.pdCmpnCalcCode\" :disabled=\"form_count.pdCmpnCalcMode!=='2'\" readonly>\r\n                <el-tooltip\r\n                  slot=\"suffix\"\r\n                  :content=\"premiumCode?$t('pay_def.message.readonly'):(Object.keys(selectedDiscount).length===0?$t('pay_def.message.pleaseSelectRange'):'')\"\r\n                  :disabled=\"!premiumCode && Object.keys(selectedDiscount).length>0\" effect=\"dark\"\r\n                  placement=\"top\">\r\n                  <svg-icon\r\n                    :style=\"{cursor:form_count.pdCmpnCalcMode==='2' && !premiumCode && Object.keys(selectedDiscount).length>0?'pointer':'not-allowed'}\"\r\n                    icon-class=\"calc\"\r\n                    style=\"color: #606266;font-size: 18px\"\r\n                    @click=\"form_count.pdCmpnCalcMode==='2' && !premiumCode && Object.keys(selectedDiscount).length>0 && goPdDiscountSelect('1','40')\"/>\r\n                </el-tooltip>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n\r\n      </div>\r\n    </el-form>\r\n\r\n    <!-- 弹窗（公式定义） -->\r\n    <el-dialog v-if=\"dialogShow.premAmountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogShow.premAmountFormula\" center width=\"80%\"\r\n               @close=\"changeDialogVisible_formula(false)\">\r\n      <premAmountFormula :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                         :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                         @bringInCalcCode=\"bringInCalcCode\"\r\n                         @changeDialogVisible_formula=\"changeDialogVisible_formula\"\r\n                         @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormula>\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogShow.premAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogShow.premAmountFormulaSelect\" append-to-body center\r\n                 width=\"70%\" @close=\"changeDialogVisible_formulaSelect(false)\">\r\n        <premAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                                 :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                 @bringInCalcCode=\"bringInCalcCode\"\r\n                                 @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n    <!-- 弹窗（规则定义） -->\r\n    <el-dialog v-if=\"dialogRulesShow.premRules\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogRulesShow.premRules\"\r\n               center width=\"80%\" @close=\"changeDialogVisible_rules(false)\">\r\n      <premRules :calculationFormulaType=\"calculationFormulaType\"\r\n                 :guaranteeDetails=\"guaranteeDetails\"\r\n                 :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                 :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                 @changeDialogVisible_formula=\"changeDialogVisible_rules\"\r\n                 @changeDialogVisible_formulaSelect=\"changeDialogVisible_rulesSelect\"></premRules>\r\n      <!-- 弹窗（规则选择） -->\r\n      <el-dialog v-if=\"dialogRulesShow.premRulesSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogRulesShow.premRulesSelect\" append-to-body\r\n                 center width=\"70%\" @close=\"changeDialogVisible_rulesSelect(false)\">\r\n        <premRulesSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                         :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\"\r\n                         :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                         @changeDialogVisible_formulaSelect=\"changeDialogVisible_rulesSelect\"></premRulesSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n    <!--优惠计算公式定义-->\r\n    <el-dialog v-if=\"dialogShow.pdDiscountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogShow.pdDiscountFormula\" center width=\"80%\"\r\n               @close=\"changeDialogVisible_pdDiscount(false)\">\r\n      <pdDiscountFormula :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                         :pdDisCount=\"pdDisCount\" :pdDiscountRangeOptions=\"pdDiscountRangeOptions\"\r\n                         @bringInCalcCode=\"bringInCalcCode\"\r\n                         @changeDialogVisible_pdDiscount=\"changeDialogVisible_pdDiscount\"\r\n                         @changeDialogVisible_pdDiscountSelect=\"changeDialogVisible_pdDiscountSelect\"></pdDiscountFormula>\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogShow.pdDiscountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :visible.sync=\"dialogShow.pdDiscountFormulaSelect\" append-to-body center\r\n                 width=\"70%\" @close=\"changeDialogVisible_pdDiscountSelect(false)\">\r\n        <pdDiscountFormulaSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                                 :pdDisCount=\"pdDisCount\" @bringInCalcCode=\"bringInCalcCode\"\r\n                                 @changeDialogVisible_pdDiscountSelect=\"changeDialogVisible_pdDiscountSelect\"></pdDiscountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {mapGetters} from \"vuex\"\r\nimport {\r\n  addPdtempPdPrem,\r\n  deletePdtempPdPrem,\r\n  getPayDate,\r\n  getPdAttrInfo,\r\n  getPdClsLabInfo,\r\n  updatePdtempPdPrem\r\n} from \"@/api/basicinfo/pdtemppdprem\"\r\nimport {addPdtempPdExtPrem, deletePdtempPdExtPrem, updatePdtempPdExtPrem} from \"@/api/basicinfo/pdtemppdextprem\"\r\nimport {\r\n  addPdtempPdCmpnInfo,\r\n  deletePdtempPdCmpnInfo,\r\n  findCmpnCaleCode,\r\n  getMaxRangeOrder,\r\n  selectDiscountRangeByPdInfoId,\r\n  updatePdtempPdCmpnInfo\r\n} from \"@/api/basicinfo/pdtemppdcmpninfo\";\r\nimport pdDiscountFormula\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula\";\r\nimport pdDiscountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula-select\";\r\nimport premAmountFormula from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula\";\r\nimport premAmountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula-select\";\r\nimport premRules from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule\";\r\nimport premRulesSelect from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule-select\";\r\n\r\nimport guide from '@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/guide'\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: \"PaymentDefinition\",\r\n  filters: {\r\n    filter_calcMethod(code) {\r\n      return _this.getCodeName('pd_prem_cal_method', code)\r\n    },\r\n    filter_dateSuffix(code) {\r\n      return _this.getCodeName('pd_prem_date_suffix', code, true)\r\n    },\r\n    filter_freq(code) {\r\n      return _this.getCodeName('pd_prem_freq', code)\r\n    },\r\n    filter_startCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_rule', code)\r\n    },\r\n    filter_endCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_rule', code)\r\n    },\r\n    filter_startCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_method', code)\r\n    },\r\n    filter_endCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_method', code)\r\n    },\r\n    filter_additionType(code) {\r\n      return _this.getCodeName('pd_prem_addition_type', code)\r\n    },\r\n    filter_additionMode(code) {\r\n      return _this.getCodeName('pd_prem_addition_mode', code)\r\n    },\r\n    filter_accountType(code) {\r\n      return _this.getCodeName('pd_prem_account_type', code)\r\n    },\r\n    filter_additionPayPerson(code) {\r\n      return _this.getCodeName('pdAddPremObj', code)\r\n    },\r\n    filter_additionAdditionMode(code) {\r\n      return _this.getCodeName('pd_prem_addition_addition_mode', code)\r\n    },\r\n    filter_payZero(code) {\r\n      return _this.getCodeName('pd_prem_zero', code)\r\n    },\r\n    filter_serviceChargeOffset(code) {\r\n      return _this.getCodeName('pd_prem_service_charge_offset', code)\r\n    },\r\n    filter_pdCmpnType(code) {\r\n      return _this.getCodeName('preferentialType', code)\r\n    },\r\n    filter_pdCmpnCalcMode(code) {\r\n      return _this.getCodeName('preferentialClculationType', code)\r\n    },\r\n    filter_pdCmpnRange(code) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.pdPremCode === code) {\r\n          return def.pdPremCode + \":\" + def.pdPayName\r\n        }\r\n      }\r\n      for (const def of _this.additionTableData) {\r\n        if (def.pdExtPremCode === code) {\r\n          return def.pdExtPremCode + \":\" + def.pdExtPremName\r\n        }\r\n      }\r\n      return code\r\n    },\r\n    filter_payUrging(code) {\r\n      return _this.getCodeName('pd_prem_urging', code)\r\n    },\r\n    filter_payFrequency(code) {\r\n      return _this.getCodeName('paymentFrequency', code)\r\n    },\r\n    filter_paydatevalue(code){\r\n      return _this.getCodeName('pdPayEndCalMode', code)\r\n    },\r\n    filter_paymentId(pdPremId) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.id === pdPremId) {\r\n          return def.pdPayName\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n    filter_pdPayStartPeriod(list){\r\n      let returnData = ''\r\n      if(list.length){\r\n        list.forEach(data=>{\r\n          if(returnData.length){\r\n            returnData+=','\r\n          }\r\n        returnData+=data.pdPayStartPeriod;\r\n        returnData+=_this.getCodeName('pd_prem_date_suffix',data.pdPayStartPerUnit,true);\r\n      })\r\n      }\r\n      return returnData\r\n    },\r\n    filter_pdPayEndPeriod(list){\r\n      let returnData = ''\r\n      if(list.length){\r\n        list.forEach(data=>{\r\n          if(returnData.length){\r\n            returnData+=','\r\n          }\r\n        returnData+=data.pdPayEndPeriod;\r\n        returnData+=_this.getCodeName('pd_prem_date_suffix',data.pdPayEndUnit,true);\r\n      })\r\n      }\r\n      return returnData\r\n    }\r\n  },\r\n  props: {\r\n    premiumCode: {\r\n      required: false,\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n\r\n    _this = this\r\n    return {\r\n      productCalcRevisionShowINfo:false,\r\n      pdPayFreqCopy:[],\r\n      quickfilterHandlerList0:[],\r\n      quickfilterHandlerList1:[],\r\n      quickfilterHandlerList2:[],\r\n      quickfilterHandlerList3:[],\r\n      filterHandlerList0:[],\r\n      filterHandlerList1:[],\r\n      filterHandlerList2:[],\r\n      filterHandlerList3:[],\r\n      filterHandlerList4:[],\r\n      filterpdExtPremNameList1:[],\r\n      filterpdExtPremNameList2:[],\r\n      detailTypeOptionList:[],\r\n      payDateForm:{\r\n        payDateTable:[],\r\n      },\r\n      tableCount: 0,\r\n      tableCountDiscount: 0,\r\n      pdCmpnCalcCode1: '',\r\n      flag1:0,\r\n      //公式\r\n      dialogShow: {\r\n        premAmountFormula: false,\r\n        premAmountFormulaSelect: false,\r\n        pdDiscountFormula: false,\r\n        pdDiscountFormulaSelect: false\r\n      },\r\n      guaranteeDetails: '',\r\n      calculationFormulaType: '',\r\n      pdUwSiTypeOptions: '',\r\n      pdUwSiTypeDtOptions: '',\r\n      pdDisCount: '',\r\n      //规则\r\n      dialogRulesShow: {\r\n        premRules: false,\r\n        premRulesSelect: false\r\n      },\r\n      showPageFlag: 0,\r\n      quickTableData: [],\r\n      defTableData: [],\r\n      additionTableData: [],\r\n      additionAddTableData: [],\r\n      pdCmpnTypeFilters: [],\r\n      rowIndex: '-1',\r\n      orderIndexArr_addition: [],\r\n      orderIndexArr_addition_add: [],\r\n      orderIndexArr_addition_discount:[],\r\n      hoverOrderArr: [],\r\n      quickicon_discount: \"el-icon-arrow-right\",\r\n      quickshow: false,\r\n      filterDiscountCode:[],\r\n      pdCmpnRangeFilters: [],\r\n      productOriginalList:[],\r\n      productList:[],\r\n      selectedReferenceProductId: undefined,\r\n      form_quick: {\r\n        typeRegion: '',\r\n      },\r\n      params: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdPremCalMode: '',\r\n        accountRelated: '',\r\n        extraPremiumFlag: '',\r\n        eq_id: '',\r\n        byPage: 'Y',\r\n        finelinesRegion: '',\r\n        firstOpenPageFlag: 'Y',\r\n      },\r\n      params_currentProduct: {\r\n        eq_pdInfoId: undefined,\r\n        like_payName: '',\r\n        eq_payCode: ''\r\n      },\r\n      params_addition: {\r\n        premiumList: []\r\n      },\r\n      discountTableData: [],\r\n      configRangeLength: '',\r\n      pdDiscountRangeOptions: [{\r\n        key: '000000',\r\n        value: '000000',\r\n        label: '全部',\r\n        disabled: true\r\n      }],\r\n      filterCmpnType: '1$D$I',\r\n      addFeeFlag: false,\r\n      discountFlag: 'N',\r\n      selectedDiscount: {},\r\n      selectedDef: {},\r\n      selectedDefInQueryResult: {},\r\n      selectedAddition: {},\r\n      selectedAdditionAdds: [],\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: undefined,\r\n        pdStartPeriodUnit: '',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: undefined,\r\n        pdEndPeriodUnit: '',\r\n        pdGracePeriod: undefined,\r\n        pdObservationDay: undefined,\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        pdStartDate: undefined,\r\n        pdStopDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      product_extra: {\r\n        typeRegion: '',\r\n        pdPayFreq: []\r\n      },\r\n      form_count: {\r\n        pdVerId: '',\r\n        operator: '',\r\n        pdType: '',\r\n        pdDefType: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdPremIds: [],\r\n        pdPremId:'',\r\n        pdPremCode: '',\r\n        pdPremCodes:[],\r\n        pdCmpnRange: [],\r\n        pdCmpnType: '',\r\n        cmpnInfoId: '',\r\n        pdCmpnCode: '',\r\n        pdCmpnOrder: '',\r\n        pdCmpnCalcMode: '',\r\n        pdCmpnVal: '',\r\n        pdCmpnCalcCode: '',\r\n        pdCmpnDesc: ''\r\n      },\r\n      form_defAdd: {},\r\n      form_def: {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        pdCode: '',\r\n        pdName: '',\r\n        operator: '',\r\n        pdPayName: '',\r\n        pdPremCode: '',\r\n        pdPremCalMode: 'G',\r\n        pdPremZeroFlag: 'Y',\r\n        pdPremReclFlag: 'N',\r\n        pdUrgePayFlag: 'Y',\r\n        pdPayStartPeriod: undefined,\r\n        pdPayStartPerUnit: 'Y',\r\n        pdPayStartCalRule: '',\r\n        pdPayStartCalMode: '',\r\n        pdPayEndPeriod: undefined,\r\n        pdPayEndUnit: 'Y',\r\n        pdPayEndCalRule: '',\r\n        pdPayEndCalMode: '',\r\n        pdAddPremMode: '',\r\n        pdPayAccKind: '',\r\n        pdRateChangeFlag: 'N',\r\n        pdPremAddFlag: 'N',\r\n        pdPremStartFlag: 'N',\r\n        pdCharPremRel: 'N',\r\n        pdPremAccRela: 'N',\r\n        pdPremCalcCode: '',\r\n        pdPayFrequency:'',\r\n        pdPayDateValue:''\r\n      },\r\n      form_addition: {\r\n        id: undefined,\r\n        pdPremId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdExtPremCode: '',\r\n        pdExtPremName: '',\r\n        pdPremName: '',\r\n        pdPremCode: '',\r\n        pdExtPremObj: '',\r\n        pdExtPremMode: '',\r\n        pdExtPremType: '',\r\n        pdMaxVal: undefined,\r\n        pdExtPremCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_addition_add: {\r\n        id: undefined,\r\n        pdPremId: [],\r\n        pdExtPremObj: [],\r\n        pdExtPremMode: [],\r\n        pdExtPremType: [],\r\n        pdExtPremCalcCode: ''\r\n      },\r\n      pageFlag: {\r\n        tableVisible_def: true,\r\n        dialogVisible_additionType: false,\r\n        dialogVisible_queryResult: false,\r\n        additionFlag: false\r\n      },\r\n      displayName_additionType: '',\r\n      isFixed: false,\r\n      fixedClassName: '',\r\n      offsetTop: undefined,\r\n      filters: {\r\n        pdAddPremMode: [],\r\n        pdPremCalMode: [],\r\n        pdPayAccKind: []\r\n      },\r\n      rules: {\r\n        pdPayEndPeriod: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('i18nView.payTerm'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdPayName: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_name'),\r\n          trigger: 'blur'\r\n        }],\r\n\r\n        pdPremCalMode: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_calc_method'),\r\n          trigger: 'change'\r\n        }],\r\n        pdExtPremName:[{required: true, message: \"请输入加费名称\", trigger: 'blur'}],\r\n        pdPremId: [{required: true, message: \"请选择加费对象\", trigger: 'blur'}],\r\n        pdPremIds: [{required: true, message: \"请选择加费对象\", trigger: 'blur'}],\r\n        pdExtPremObj: [{required: true, message: \"请选择加费对象\", trigger: 'blur'}],\r\n        pdExtPremMode: [{required: true, message: \"请选择加费方式\", trigger: 'blur'}],\r\n        pdExtPremType: [{required: true, message: \"请选择加费类型\", trigger: 'blur'}],\r\n      },\r\n      rules1:{\r\n        pdPayFreq: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_frequency'),\r\n          trigger: 'blur'\r\n        }],\r\n      },\r\n      rules_count: {\r\n        pdPremId: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_name'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnRange: [{\r\n          type: 'array',\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_discount_range'),\r\n          trigger: 'change'\r\n        }],\r\n        pdCmpnType: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_discount_type'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnOrder: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_discount_order'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnCalcMode: [{\r\n          required: true,\r\n          message: this.$t('pay_def.message.please_enter') + this.$t('pay_def.pay_calc_method'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      rules_quick: {\r\n        finelinesRegion: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pay_def.finelinesRegion'),\r\n          trigger: 'change'\r\n        }],\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    premAmountFormula,\r\n    premAmountFormulaSelect,\r\n    premRules,\r\n    premRulesSelect,\r\n    pdDiscountFormula,\r\n    pdDiscountFormulaSelect,\r\n    guide\r\n  },\r\n  async created() {\r\n\r\n    this.initProductQueryData()\r\n\r\n    this.showPageFlag = this.$route.query.showPageFlag\r\n    await this.init();\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n    if (!this.productCalcRevisionShowINfo){\r\n      this.form_def.pdPremAddFlag = 'Y'\r\n      this.form_def.pdPayStartCalMode = '0'\r\n      this.form_def.pdPayStartCalRule = 'S'\r\n      this.form_def.pdPayEndCalMode = '0'\r\n      this.form_def.pdPayEndCalRule = 'S'\r\n      this.form_def.pdPayDateValue = '1'\r\n      this.$refs.page_def.buildData().then(() => {\r\n        this.$refs.page_addition.buildData().then(() =>{\r\n          // 带入需要查看的信息\r\n          if (this.premiumCode) {\r\n            let flag = false\r\n            for (const premium of this.defTableData) {\r\n              if (premium.pdPremCode === this.premiumCode) {\r\n                flag = true\r\n                this.selectedDef = premium\r\n                this.selectedDefChanged()\r\n                this.form_def.pdPremAddFlag = 'Y'\r\n                break\r\n              }\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }else {\r\n        this.discountClick();\r\n        this.selectDiscountRangeTable()\r\n        this.form_def.pdPremAddFlag = 'Y'\r\n        this.$refs.page_def.buildData().then(() => {\r\n            this.$refs.page_addition.buildData().then(() =>{\r\n                // 带入需要查看的信息\r\n                if (this.premiumCode) {\r\n                    let flag = false\r\n                    for (const premium of this.defTableData) {\r\n                        if (premium.pdPremCode === this.premiumCode) {\r\n                            flag = true\r\n                            this.selectedDef = premium\r\n                            this.selectedDefChanged()\r\n                            this.form_def.pdPremAddFlag = 'Y'\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n  },\r\n  mounted() {\r\n    // 吸顶效果\r\n    window.addEventListener('scroll', this.initHeight);\r\n    this.$nextTick(() => {\r\n      this.offsetTop = document.querySelector('#table_def').offsetTop;\r\n    })\r\n\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'ldcodes',\r\n      'sidebar'\r\n    ])\r\n  },\r\n  watch: {\r\n    'form_def.pdPayEndPeriod'() {\r\n      const valTime = this.form_def.pdPayEndPeriod;\r\n      if (valTime) {\r\n        if (!this.form_def.pdPayEndUnit) {\r\n          this.form_def.pdPayEndUnit = 'Y'\r\n        }\r\n      }\r\n    },\r\n    'form_def.pdPayStartPeriod'() {\r\n      const valTime = this.form_def.pdPayStartPeriod;\r\n      if (valTime) {\r\n        if (!this.form_def.pdPayStartPerUnit) {\r\n          this.form_def.pdPayStartPerUnit = 'Y'\r\n        }\r\n      }\r\n    },\r\n    'form_addition_add.pdExtPremType'() {\r\n      this.displayName_additionType = ''\r\n      const additionTypeList_selected = this._.filter(this.ldcodes['pd_prem_addition_type'], function (additionType) {\r\n        return _this.isInArray(additionType.code, _this.form_addition_add.pdExtPremType);\r\n      })\r\n      if (additionTypeList_selected && additionTypeList_selected.length > 0) {\r\n        additionTypeList_selected.forEach((additionType, index) => {\r\n          if (index === 0) {\r\n            this.displayName_additionType += additionType.codename\r\n          } else {\r\n            this.displayName_additionType += ', ' + additionType.codename\r\n          }\r\n        })\r\n      } else {\r\n        this.displayName_additionType = ''\r\n      }\r\n    },\r\n    'quickTableData'(){\r\n      if (this.quickTableData.length > 0) {\r\n        this.quickfilterHandlerList0 = [];\r\n        this.quickfilterHandlerList1 = [];\r\n        this.quickfilterHandlerList2 = [];\r\n        this.quickfilterHandlerList3 = [];\r\n        this.quickTableData.forEach(val => {\r\n          this.quickfilterHandlerList0.push({\r\n            text: val.pdPremCode,\r\n            value: val.pdPremCode\r\n          });\r\n          this.quickfilterHandlerList1.push({\r\n            text: val.pdRateChangeFlag,\r\n            value: val.pdRateChangeFlag\r\n          });\r\n          this.quickfilterHandlerList2.push({\r\n            text: val.pdPremAccRela,\r\n            value: val.pdPremAccRela\r\n          });\r\n          this.quickfilterHandlerList3.push({\r\n            text: val.pdPremAddFlag,\r\n            value: val.pdPremAddFlag\r\n          });\r\n        });\r\n      }\r\n      this.quickfilterHandlerList0 = this.quickfilterHandlerList0.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.quickfilterHandlerList1 = this.quickfilterHandlerList1.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.quickfilterHandlerList2 = this.quickfilterHandlerList2.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.quickfilterHandlerList3 = this.quickfilterHandlerList3.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n    },\r\n    defTableData() {\r\n      if (this.defTableData.length > 0) {\r\n        this.filterHandlerList0 = [];\r\n        this.filterHandlerList1 = [];\r\n        this.filterHandlerList2 = [];\r\n        this.filterHandlerList3 = [];\r\n        this.filterHandlerList4 = [];\r\n        this.defTableData.forEach(val => {\r\n          this.filterHandlerList0.push({\r\n            text: val.pdPremCode,\r\n            value: val.pdPremCode\r\n          });\r\n          this.filterHandlerList1.push({\r\n            text: val.pdRateChangeFlag,\r\n            value: val.pdRateChangeFlag\r\n          });\r\n          this.filterHandlerList2.push({\r\n            text: val.pdPremAccRela,\r\n            value: val.pdPremAccRela\r\n          });\r\n          this.filterHandlerList3.push({\r\n            text: val.pdPremAddFlag,\r\n            value: val.pdPremAddFlag\r\n          });\r\n          this.filterHandlerList4.push({\r\n            text: val.pdPayEndPeriod,\r\n            value: val.pdPayEndPeriod\r\n          });\r\n        });\r\n      }\r\n      this.filterHandlerList0 = this.filterHandlerList0.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.filterHandlerList1 = this.filterHandlerList1.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.filterHandlerList2 = this.filterHandlerList2.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.filterHandlerList3 = this.filterHandlerList3.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.filterHandlerList4 = this.filterHandlerList4.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      if (this.tableCount == 0) {\r\n        if (this.defTableData.length === 1) {\r\n          this.$refs.defTableData.setCurrentRow(this.defTableData[0]);\r\n          this.selectedDef = this.defTableData[0]\r\n          this.selectedDefChanged();\r\n        }\r\n      } else {\r\n        this.$refs.defTableData.setCurrentRow(this.defTableData[0]);\r\n        this.selectedDef = this.defTableData[0]\r\n        this.selectedDefChanged();\r\n      }\r\n\r\n      this.params_addition.premiumList = this.defTableData\r\n      if (this.form_def.pdPremAddFlag === 'Y') {\r\n        this.$refs.page_addition.reload()\r\n      }\r\n    },\r\n    'discountTableData'() {\r\n      if (this.discountTableData.length == 1) {\r\n        this.selectedDiscount = this.discountTableData[0]\r\n        this.selectedDiscountChanged();\r\n      }\r\n      //获取优惠顺序\r\n      getMaxRangeOrder(this.buildRequestData({\"pdInfoId\": this.product.id})).then(res => {\r\n        this.configRangeLength = res.data;\r\n        this.form_count.pdCmpnOrder = res.data;\r\n      });\r\n      if (this.discountTableData.length > 0) {\r\n        this.filterDiscountCode=[];\r\n        this.pdCmpnRangeFilters = [];\r\n        this.pdCmpnTypeFilters = [];\r\n        this.discountTableData.forEach(val => {\r\n          this.filterDiscountCode.push({\r\n            text: val.pdPremCode,\r\n            value: val.pdPremCode\r\n          });\r\n          this.pdCmpnRangeFilters.push({\r\n            text: this.filter_pdCmpnRanges(val.pdCmpnRange),\r\n            value: val.pdCmpnRange\r\n          });\r\n          this.pdCmpnTypeFilters.push({\r\n            text: this.getCodeName('preferentialType', val.pdCmpnType),\r\n            value: val.pdCmpnType\r\n          });\r\n        });\r\n        //缴费编码\r\n        this.filterDiscountCode = this.filterDiscountCode.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        //优惠范围\r\n        this.pdCmpnRangeFilters = this.pdCmpnRangeFilters.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n        //优惠类型\r\n        this.pdCmpnTypeFilters = this.pdCmpnTypeFilters.reduce(function (prev, element) {\r\n          if (!prev.find(el => el.text == element.text)) {\r\n            prev.push(element);\r\n          }\r\n          return prev;\r\n        }, []);\r\n      }\r\n    },\r\n    'sidebar.opened'() {\r\n      this.initHeight()\r\n    },\r\n    'additionTableData'() {\r\n      if (this.additionTableData.length > 0) {\r\n        this.filterpdExtPremNameList1 = [];\r\n        this.filterpdExtPremNameList2 = [];\r\n        this.additionTableData.forEach(val => {\r\n          this.filterpdExtPremNameList1.push({\r\n            text: val.pdExtPremName,\r\n            value: val.pdExtPremName\r\n          });\r\n          this.filterpdExtPremNameList2.push({\r\n            text: this.getCodeName('pd_prem_addition_type', val.pdExtPremType),\r\n            value: val.pdExtPremType\r\n          });\r\n        });\r\n      }\r\n      this.filterpdExtPremNameList1 = this.filterpdExtPremNameList1.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.filterpdExtPremNameList2 = this.filterpdExtPremNameList2.reduce(function(prev, element) {\r\n        if (!prev.find(el => el.text == element.text)) {\r\n          prev.push(element);\r\n        }\r\n        return prev;\r\n      }, []);\r\n      this.selectedAddition = {}\r\n      this.resetFormAddition()\r\n      if (this.additionTableData.length ==1) {\r\n        this.selectedAddition = this.additionTableData[0]\r\n        this.selectedAdditionChanged();\r\n      }\r\n    },\r\n    'form_count.pdCmpnCalcMode'() {\r\n      const val = this.form_count.pdCmpnCalcMode\r\n      if (val === '1') {\r\n        this.form_count.pdCmpnCalcCode = ''\r\n      } else if (val === '2') {\r\n        this.form_count.pdCmpnVal = ''\r\n      }\r\n    },\r\n    'form_count.pdCmpnRange'(selectedCodes) {\r\n      if (selectedCodes.length === 0) {\r\n        for (const pdDiscount of this.pdDiscountRangeOptions) {\r\n          pdDiscount.disabled = false\r\n        }\r\n      } else {\r\n        if (this._.includes(selectedCodes, '000000')) {\r\n          for (const pdDiscount of this.pdDiscountRangeOptions) {\r\n            pdDiscount.disabled = pdDiscount.value !== '000000'\r\n          }\r\n        } else {\r\n          for (const pdDiscount of this.pdDiscountRangeOptions) {\r\n            pdDiscount.disabled = pdDiscount.value === '000000'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    back2(){\r\n      this.$router.push({name: '产品公式订正主页', params: {}})\r\n    },\r\n    changePdCmpnCalcMode(){\r\n      //console.log(this.form_count.pdCmpnCalcMode)\r\n    },\r\n\r\n    bringInCalcCode(pdBussDetailType, pdBussId, calcCode) {\r\n      switch (pdBussDetailType) {\r\n        case '17':\r\n          for (const prem of this.defTableData) {\r\n            if (prem.id === Number(pdBussId)) {\r\n              this.$set(prem, 'pdPremCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_def.id === Number(pdBussId)) {\r\n            this.form_def.pdPremCalcCode = calcCode\r\n          }\r\n          break\r\n        case '19':\r\n          for (const extPrem of this.additionTableData) {\r\n            if (extPrem.id === Number(pdBussId)) {\r\n              this.$set(extPrem, 'pdExtPremCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_addition.id === Number(pdBussId)) {\r\n            this.form_addition.pdExtPremCalcCode = calcCode\r\n          }\r\n          break\r\n        case '40':\r\n          for (const discount of this.discountTableData) {\r\n            if (discount.id === Number(pdBussId)) {\r\n              this.$set(discount, 'pdCmpnCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_count.id === Number(pdBussId)) {\r\n            this.form_count.pdCmpnCalcCode = calcCode\r\n          }\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    discountClick() {\r\n      if (this.discountFlag === 'N') {\r\n        this.quickicon_discount = \"el-icon-arrow-down\"\r\n        this.discountFlag = 'Y'\r\n      } else {\r\n        this.quickicon_discount = \"el-icon-arrow-right\"\r\n        this.discountFlag = 'N'\r\n      }\r\n    },\r\n    //公式\r\n    goClicks(num1, num2) {\r\n      this.guaranteeDetails = num1;//业务大类\r\n      this.calculationFormulaType = num2;//业务细类\r\n      if (num2 === '19') {//加费\r\n        this.pdUwSiTypeOptions = this.selectedAddition.pdPremId + \":\" + this.selectedAddition.pdPremCode;\r\n        this.pdUwSiTypeDtOptions = this.selectedAddition.id + \":\" + this.selectedAddition.pdExtPremCode;\r\n      } else {//缴费\r\n        this.pdUwSiTypeOptions = this.selectedDef.id ? this.selectedDef.id + \":\" + this.selectedDef.pdPremCode : this.form_defAdd.id + \":\" + this.form_defAdd.pdPremCode\r\n        this.pdUwSiTypeDtOptions = ''\r\n      }\r\n      this.dialogShow.premAmountFormula = true;\r\n    },\r\n    getPdDiscountRange(val) {\r\n      this.pdDiscountRangeOptions = []\r\n      //添加全部选项\r\n      this.pdDiscountRangeOptions.push({\r\n        value: '000000',\r\n        label: '全部'\r\n      })\r\n      //添加缴费选项\r\n      for (const pdDisCount of this.defTableData) {\r\n        if (val.includes(pdDisCount.id)) {\r\n          this.pdDiscountRangeOptions.push({\r\n            value: pdDisCount.pdPremCode,\r\n            label: pdDisCount.pdPremCode + \":\" + pdDisCount.pdPayName\r\n          })\r\n        }\r\n      }\r\n      //添加加费选项\r\n      for (const pdDisCount of this.additionTableData) {\r\n        if (val.includes(pdDisCount.pdPremId)) {\r\n          this.pdDiscountRangeOptions.push({\r\n            value: pdDisCount.pdExtPremCode,\r\n            label: pdDisCount.pdExtPremCode + \"-\" + pdDisCount.pdExtPremName\r\n          })\r\n        }\r\n      }\r\n      //设置置灰属性\r\n      for (const pdDiscount of this.pdDiscountRangeOptions) {\r\n        this.$set(pdDiscount, 'disabled', false)\r\n      }\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogShow.premAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.premAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.premAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.premAmountFormulaSelect = flag\r\n    },\r\n    changeDialogVisible_pdDiscountSelect(flag) {\r\n      this.dialogShow.pdDiscountFormulaSelect = flag\r\n      if (flag === false) {\r\n        this.dialogShow.pdDiscountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.pdDiscountFormula = true\r\n        })\r\n      }\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row[property] === value;\r\n      }\r\n    },\r\n    filterHandlerDiscount(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"];\r\n        return row[property] === value;\r\n      }\r\n    },\r\n    //规则\r\n    goRules(num1, num2) {\r\n      this.guaranteeDetails = num1;//业务大类\r\n      this.calculationFormulaType = num2;//业务细类\r\n      this.dialogRulesShow.premRules = true;\r\n      this.pdUwSiTypeOptions = this.form_def.id + \":\" + this.form_def.pdPremCode;\r\n    },\r\n    goPdDiscountSelect(num1, num2) {\r\n      this.guaranteeDetails = num1;//业务大类\r\n      this.calculationFormulaType = num2;//业务细类\r\n      this.dialogShow.pdDiscountFormula = true;\r\n      this.pdUwSiTypeOptions = this.form_def;\r\n      this.pdDisCount = this.form_count\r\n    },\r\n    filter_pdCmpnRanges(code) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.pdPremCode === code) {\r\n          return def.pdPremCode + \":\" + def.pdPayName\r\n        }\r\n      }\r\n      for (const def of _this.additionTableData) {\r\n        if (def.pdExtPremCode === code) {\r\n          return def.pdExtPremCode + \":\" + def.pdExtPremName\r\n        }\r\n      }\r\n      return code\r\n    },\r\n    changeDialogVisible_rules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogRulesShow.premRules = flag\r\n    },\r\n    changeDialogVisible_pdDiscount(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogShow.pdDiscountFormula = flag\r\n    },\r\n    changeDialogVisible_rulesSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      }\r\n      this.dialogRulesShow.premRulesSelect = flag\r\n    },\r\n    // 页面初始化\r\n    init() {\r\n      this.getProductInfo();\r\n      this.init_filters();\r\n      this.init_pay_frequency();\r\n      this.selectDiscountRangeTable();\r\n      this.init_pay_date();\r\n      this.init_typeRegion();\r\n    },\r\n    getProductInfo() {\r\n      // 带入产品信息\r\n      this.product = this.getPdData()\r\n      this.params_currentProduct.eq_pdInfoId = this.product.id\r\n      this.form_def.pdInfoId = this.product.id\r\n      this.form_def.pdVerId = this.product.pdVerId\r\n      this.form_def.pdCode = this.product.pdCode\r\n      this.form_def.pdName = this.product.pdName;\r\n      this.params.finelinesRegion = this.getPdData().cType;\r\n    },\r\n    // 获取缴费频率\r\n    init_pay_frequency() {\r\n      const paramsMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId,\r\n        pd_atrs_code: 'payintv'\r\n      }\r\n      getPdAttrInfo(this.buildRequestData(paramsMap)).then(response => {\r\n        const pdTempAtrsList = response.data\r\n        this.product_extra.pdPayFreq = this._.map(pdTempAtrsList, 'pdAtrsVal');\r\n        this.pdPayFreqCopy = this._.map(pdTempAtrsList, 'pdAtrsVal');\r\n        console.log(\"AAAAAAAAAAAAAAAAAAAA\", this.pdPayFreqCopy);\r\n      })\r\n    },\r\n    //获取产品分类标记表信息催缴标记\r\n    init_typeRegion() {\r\n      const paramsMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId,\r\n        pd_cls_type: '2'\r\n      }\r\n      getPdClsLabInfo(this.buildRequestData(paramsMap)).then(response => {\r\n        const pdTempClsLabList = response.data\r\n        const pdCls6Array = this._.map(pdTempClsLabList, 'pdCls6')\r\n        if (pdCls6Array.length > 0) {\r\n          this.form_def.pdUrgePayFlag = pdCls6Array[0]\r\n        }\r\n      })\r\n    },\r\n    //获取缴费期间\r\n    init_pay_date(){\r\n      const payMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId\r\n      }\r\n      getPayDate(this.buildRequestData(payMap)).then(response => {\r\n        this.form_def.pdPayEndPeriod = response.data.pdPayPeriod\r\n      })\r\n    },\r\n    // 初始化筛选器\r\n    init_filters() {\r\n      let ldcode_pdPremCalMode = this.ldcodes['pd_prem_cal_method']\r\n      let ldcode_pdAddPremMode = this.ldcodes['pd_prem_addition_mode']\r\n      let ldcode_pdPayAccKind = this.ldcodes['pd_prem_account_type']\r\n      if (ldcode_pdPremCalMode instanceof Array) {\r\n        for (const item of ldcode_pdPremCalMode) {\r\n          this.filters.pdPremCalMode.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n      if (ldcode_pdAddPremMode instanceof Array) {\r\n        for (const item of ldcode_pdAddPremMode) {\r\n          this.filters.pdAddPremMode.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n      if (ldcode_pdPayAccKind instanceof Array) {\r\n        for (const item of ldcode_pdPayAccKind) {\r\n          this.filters.pdPayAccKind.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n    },\r\n    filter_pdPremCalMode(value, row) {\r\n      return row.pdPremCalMode === value;\r\n    },\r\n    filter_pdAddPremMode(value, row) {\r\n      return row.pdAddPremMode === value;\r\n    },\r\n    filter_pdPayAccKind(value, row) {\r\n      return row.pdPayAccKind === value;\r\n    },\r\n    initHeight() {\r\n      let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n      this.isFixed = this.form_def.pdPremAddFlag === 'Y' && scrollTop > this.offsetTop + 130\r\n      this.fixedClassName = this.getFixedClassName()\r\n    },\r\n    getFixedClassName() {\r\n      const opened = this.sidebar.opened\r\n      if (this.isFixed === true) {\r\n        if (opened === true) {\r\n          return 'is_fixed_sidebarOpened'\r\n        } else {\r\n          return 'is_fixed_sidebarClosed'\r\n        }\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    initProductQueryData(){\r\n      this.filterProductByNode(this,'1')\r\n    },\r\n    selectedDetailTypeChanged(val) {\r\n      this.params.eq_pdInfoId = ''\r\n      val === ''?  this.initProductQueryData() : this.filterProductByCategory(this,val)\r\n    },\r\n    handleSearchInAllPremium() {\r\n      this.$refs.form_quick.validate(pass => {\r\n        if (pass) {\r\n          this.params.firstOpenPageFlag = 'N'\r\n          this.params.byPage = 'Y'\r\n          this.$refs.page_quick.reload()\r\n        }\r\n      })\r\n    },\r\n    copyPremiumToCurrentProduct(row) {\r\n      let add = {}\r\n      Object.assign(add, row)\r\n      // 清除带入的主键，使后台执行新增而不是更新\r\n      add.id = undefined\r\n      // 使用当前产品信息覆盖原有产品信息\r\n      add.pdInfoId = this.product.id\r\n      add.pdCode = this.product.pdCode\r\n      add.pdName = this.product.pdName\r\n      add.pdVerId = this.product.pdVerId\r\n      const data = {\r\n        premium: add\r\n      }\r\n      addPdtempPdPrem(data).then(() => {\r\n        this.$refs.page_def.buildData().then(() => {\r\n          this.$emit('childFn', true);\r\n          this.notifySuccess(this.$t('successMessage.add'))\r\n          this.selectedDefInQueryResult = {}\r\n        })\r\n      })\r\n    },\r\n    bringIntoFormDef() {\r\n      this.resetFormDef()\r\n      Object.assign(this.form_def, this.selectedDefInQueryResult)\r\n      // 清除带入的主键，表示这是新增而不是更新\r\n      this.form_def.id = undefined\r\n      // 使用当前产品信息覆盖原有产品信息\r\n      this.form_def.pdInfoId = this.product.id\r\n      this.form_def.pdVerId = this.product.pdVerId\r\n      this.form_def.pdCode = this.product.pdCode\r\n      this.form_def.pdName = this.product.pdName\r\n      if (!this.selectedDef.pdPremZeroFlag) {\r\n        this.form_def.pdPremZeroFlag = 'N'\r\n      }\r\n      if (!this.selectedDef.pdUrgePayFlag) {\r\n        this.form_def.pdUrgePayFlag = 'Y'\r\n      }\r\n      if (!this.selectedDef.pdCharPremRel) {\r\n        this.form_def.pdCharPremRel = 'N'\r\n      }\r\n      this.params_addition.premiumList = [this.selectedDef]\r\n      if (this.$refs.page_addition) {\r\n        this.$refs.page_addition.reload()\r\n      }\r\n      this.selectedDefInQueryResult = {}\r\n    },\r\n    handleSearchInCurrentProduct() {\r\n      this.$refs.page_def.reload()\r\n    },\r\n    //初始化缴费优惠表格\r\n    selectDiscountRangeTable() {\r\n      this.discountTableData = []\r\n      selectDiscountRangeByPdInfoId(this.buildRequestData({\"pdInfoId\": this.product.id})).then(res => {\r\n        this.discountTableData = res.data\r\n        this.getOrderNumber('addition_discount')\r\n        if (this.flag1 == 1){\r\n          for (let i = 0; i< this.discountTableData.length; i ++){\r\n            if (i = this.discountTableData.length - 1){\r\n              this.form_count.pdCmpnCalcCode = this.discountTableData[i].pdCmpnCalcCode\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    rowClick_quick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDefInQueryResult.id) {\r\n          this.selectedDefInQueryResult = {}\r\n          this.resetFormDef()\r\n        }\r\n      }\r\n    },\r\n    rowClick_def(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDef.id) {\r\n          this.cancelUpdateDef();\r\n          this.init_pay_date();\r\n          this.form_def.pdPayStartCalMode = '0'\r\n          this.form_def.pdPayStartCalRule = 'S'\r\n          this.form_def.pdPayEndCalMode = '0'\r\n          this.form_def.pdPayEndCalRule = 'S'\r\n          this.form_def.pdPayDateValue = '1'\r\n        }\r\n      }\r\n    },\r\n    selectedDefChanged() {\r\n      this.resetFormDef()\r\n      Object.assign(this.form_def, this.selectedDef)\r\n      this.payDateForm.payDateTable = JSON.parse(JSON.stringify(this.form_def.pdtempPdPremPeriodList))\r\n      if (!this.selectedDef.pdPremZeroFlag) {\r\n        this.form_def.pdPremZeroFlag = 'N'\r\n      }\r\n      if (!this.selectedDef.pdUrgePayFlag) {\r\n        this.form_def.pdUrgePayFlag = 'Y'\r\n      }\r\n      if (!this.selectedDef.pdCharPremRel) {\r\n        this.form_def.pdCharPremRel = 'N'\r\n      }\r\n\r\n      if (this.selectedDef.pdPayStartCalRule || this.selectedDef.pdPayStartCalMode || this.selectedDef.pdPayStartPeriod){\r\n        this.form_def.pdPremStartFlag='Y'\r\n      }\r\n\r\n      this.params_addition.premiumList = [this.selectedDef]\r\n\r\n      var arr = this.form_def.pdPayFrequency;\r\n      if (arr){\r\n        this.product_extra.pdPayFreq = eval('(' + arr + ')');\r\n      }else {\r\n        this.product_extra.pdPayFreq=[]\r\n      }\r\n      if (this.$refs.page_addition) {\r\n        this.$refs.page_addition.reload()\r\n      }\r\n\r\n    },\r\n    cancelUpdateDef() {\r\n      this.resetFormDef()\r\n      this.selectedDef = {}\r\n      this.params_addition.premiumList = this.defTableData\r\n      if (this.$refs.page_addition) {\r\n        this.$refs.page_addition.reload()\r\n      }\r\n    },\r\n    handleAddDef() {\r\n      this.$refs.form_def.validate(pass => {\r\n        this.$refs.product_extra.validate(pass2 => {\r\n          if (pass && pass2) {\r\n            this.$refs.ruleForm1.validate(val => {\r\n              if (val) {\r\n                if (!this.product_extra.pdPayFreq.every(val => this.pdPayFreqCopy.includes(val))) {\r\n                  this.notifyError(\"缴费频率不可超过产品缴费范围\")\r\n                  return;\r\n                }\r\n                if (!this.payDateForm.payDateTable.length) {\r\n                  this.notifyError(\"请录入至少一条缴费期间\")\r\n                  return;\r\n                }\r\n                if (this.additionTableData.length != 0) {\r\n                  this.form_def.pdPremAddFlag = 'Y'\r\n                } else {\r\n                  this.form_def.pdPremAddFlag = 'N'\r\n                }\r\n                if (this.form_def.pdPayStartPeriod == undefined) {\r\n                  this.form_def.pdPayStartPerUnit = undefined\r\n                }\r\n                if (this.form_def.pdPayEndPeriod == undefined) {\r\n                  this.form_def.pdPayEndUnit = undefined\r\n                }\r\n                this.form_def.pdPayFrequency = this.product_extra.pdPayFreq;\r\n                // 清除带入的主键，使后台执行新增而不是更新\r\n                this.form_def.id = undefined\r\n                this.form_def.pdPremStartFlag = '';\r\n                const data = {\r\n                  premium: this.form_def,\r\n                  payDateTable: this.payDateForm.payDateTable\r\n                }\r\n                addPdtempPdPrem(data).then(response => {\r\n                  // this.form_defAdd = response.data\r\n                  this.form_defAdd = {};\r\n                  this.$refs.page_def.buildData().then(() => {\r\n                    this.resetFormDef()\r\n                    this.$emit('childFn', true);\r\n                    this.notifySuccess(this.$t('successMessage.add'))\r\n                  })\r\n                  this.tableCount++;\r\n                  this.$nextTick(() => {\r\n                    this.selectedRow();\r\n                  })\r\n                })\r\n              }\r\n            })\r\n\r\n          } else {\r\n            this.notifyError(this.$t('pay_def.message.form_validation_failed'))\r\n          }\r\n        })\r\n      })\r\n    },\r\n    handleUpdateDef() {\r\n      this.$refs.form_def.validate(pass => {\r\n        if (pass) {\r\n          this.$refs.ruleForm1.validate(val=>{\r\n            if(val){\r\n            if(!this.product_extra.pdPayFreq.every(val => this.pdPayFreqCopy.includes(val))){\r\n            this.notifyError(\"缴费频率不可超过产品缴费范围\")\r\n            return;\r\n          }\r\n          var idRow = this.form_def.id;\r\n          this.form_def.pdPayFrequency = this.product_extra.pdPayFreq;\r\n          this.form_def.pdPremStartFlag ='';\r\n          let pdtempPdPrem = this.form_def;\r\n          let pdtempPdPremPeriods = [];\r\n          if(this.payDateForm.payDateTable.length){\r\n            this.payDateForm.payDateTable.forEach(val=>{\r\n            pdtempPdPremPeriods.push({\r\n            pdPayStartPeriod:val.pdPayStartPeriod,\r\n            pdPayStartPerUnit:val.pdPayStartPerUnit,\r\n            pdPayEndPeriod:val.pdPayEndPeriod,\r\n            pdPayEndUnit:val.pdPayEndUnit\r\n          })\r\n          })\r\n          }\r\n          let data = {\r\n            pdtempPdPrem,\r\n            pdtempPdPremPeriods\r\n          }\r\n          updatePdtempPdPrem(this.buildRequestData(data)).then(res => {\r\n            this.$refs.page_def.buildData().then(() => {\r\n              this.resetFormDef()\r\n              this.selectedDef = {}\r\n              this.$emit('childFn', true);\r\n              this.notifySuccess(res.message)\r\n              this.$nextTick(() => {\r\n                this.selectedRow(idRow);\r\n              })\r\n            })\r\n          })\r\n\r\n            }\r\n          })\r\n\r\n\r\n        }\r\n      })\r\n    },\r\n\r\n    //选中缴费修改项\r\n    selectedRow(id) {\r\n      this.$refs.page_def.buildData().then(() => {\r\n        if (id) {\r\n          var idRow = id;\r\n          let num = 0;\r\n          for (num = 0; num < this.defTableData.length; num++) {\r\n            if (this.defTableData[num].id === idRow) {\r\n              this.$refs.defTableData.setCurrentRow(this.defTableData[num]);\r\n              this.selectedDef = this.defTableData[num]\r\n              this.selectedDefChanged();\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          this.$refs.defTableData.setCurrentRow(this.defTableData[0]);\r\n          this.selectedDef = this.defTableData[0]\r\n          this.selectedDefChanged();\r\n        }\r\n      })\r\n    },\r\n    handleDeleteDef(row) {\r\n      deletePdtempPdPrem(row.id).then(() => {\r\n        if (row.pdPremCode === this.form_defAdd.pdPremCode) {\r\n          this.form_defAdd = {}\r\n        }\r\n        // 删除加费动态表格中属于该条缴费的加费\r\n        for (let i = 0; i < this.additionAddTableData.length; i++) {\r\n          let additionAdd = this.additionAddTableData[i]\r\n          if (additionAdd.pdPremId === this.selectedDef.id) {\r\n            this.additionAddTableData.splice(i, 1)\r\n            i--\r\n          }\r\n        }\r\n        let operationFlag\r\n        if (this._.includes(this.defTableData, this.selectedDef)) {\r\n          if (this.defTableData.length === 1 && this.$refs.page_def.page > 1) {\r\n            this.$refs.page_def.page -= 1\r\n          }\r\n          operationFlag = 'buildData'\r\n        } else {\r\n          operationFlag = 'reload'\r\n        }\r\n        switch (operationFlag) {\r\n          case 'buildData':\r\n            this.$refs.page_def.buildData().then(() => {\r\n              this.resetFormDef()\r\n              this.selectedDef = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n          case 'reload':\r\n            this.$refs.page_def.reload().then(() => {\r\n              this.resetFormDef()\r\n              this.selectedDef = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n        }\r\n      })\r\n    },\r\n    rowClick_addition(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAddition.id) {\r\n          this.cancelUpdateAddition()\r\n        }\r\n      }\r\n    },\r\n    rowClick_discount(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDiscount.id) {\r\n          this.selectedDiscount = {}\r\n          this.resetDiscountForm()\r\n        }\r\n      }\r\n    },\r\n    selectedAdditionChanged() {\r\n      this.resetFormAddition()\r\n      Object.assign(this.form_addition, this.selectedAddition)\r\n    },\r\n    selectedDiscountChanged() {\r\n      this.resetDiscountForm()\r\n      Object.assign(this.form_count, this.selectedDiscount)\r\n      this.form_count.pdPremIds = [this.selectedDiscount.pdPremId]\r\n      this.getPdDiscountRange([this.selectedDiscount.pdPremId])\r\n      //获取优惠范围\r\n      this.form_count.pdCmpnRange = [this.selectedDiscount.pdCmpnRange]\r\n    },\r\n    selectAllAdditionType() {\r\n      for (const additionType of this.ldcodes['pd_prem_addition_type']) {\r\n        this.form_addition_add.pdExtPremType.push(additionType.code)\r\n      }\r\n    },\r\n    handleAddAddition() {\r\n      this.$refs.form_addition_add.validate(pass => {\r\n        if (pass) {\r\n          if (this.form_addition_add.pdPremId.length === 0 || this.form_addition_add.pdExtPremObj.length === 0 || this.form_addition_add.pdExtPremMode.length === 0 || this.form_addition_add.pdExtPremType.length === 0) {\r\n            this.notifyError(this.$t('pay_def.message.error_incomplete_information'))\r\n            return\r\n          }\r\n          if (this.defTableData && this.defTableData.length > 0) {\r\n            // 验证选择的缴费信息是否全部有效\r\n            let paymentIds = this.form_addition_add.pdPremId\r\n            let paymentIds_available = this._.map(this.defTableData, 'id')\r\n            for (const paymentId of paymentIds) {\r\n              if (!this.isInArray(paymentId, paymentIds_available)) {\r\n                this.notifyError(this.$t('pay_def.message.error_unavailable_def'))\r\n                return\r\n              }\r\n            }\r\n            // 通过验证，开始创建\r\n            let array = this.buildArray(paymentIds, this.form_addition_add.pdExtPremObj, this.form_addition_add.pdExtPremMode, this.form_addition_add.pdExtPremType)\r\n            for (const arrayItem of array) {\r\n              this.form_addition = Object.assign({}, this.form_addition_add)\r\n              arrayItem.forEach((value, index) => {\r\n                if (index === 0) {\r\n                  this.form_addition.pdPremId = value\r\n                } else if (index === 1) {\r\n                  this.form_addition.pdExtPremObj = value\r\n                } else if (index === 2) {\r\n                  this.form_addition.pdExtPremMode = value\r\n                } else if (index === 3) {\r\n                  this.form_addition.pdExtPremType = value\r\n                }\r\n              })\r\n              // 为 payName 和 payCode 赋值\r\n              for (const def of this.defTableData) {\r\n                if (def.id === this.form_addition.pdPremId) {\r\n                  this.form_addition.pdPremName = def.pdPayName\r\n                  this.form_addition.pdPremCode = def.pdPremCode\r\n                  break\r\n                }\r\n              }\r\n              // 为 pdInfoId 赋值\r\n              this.form_addition.pdInfoId = this.product.id\r\n              // 为 pdCode 赋值\r\n              this.form_addition.pdCode = this.product.pdCode\r\n              // 为 pdVerId 赋值\r\n              this.form_addition.pdVerId = this.product.pdVerId\r\n              // 为 pdPremCalcCode 赋值\r\n              this.form_addition.pdExtPremCalcCode = this.form_addition_add.pdExtPremCalcCode\r\n              //为加费名称赋初始值\r\n              let pdAddPremObj = this.getCodeName('pdAddPremObj', this.form_addition.pdExtPremObj,true);\r\n              let pd_prem_addition_addition_mode = this.getCodeName('pd_prem_addition_addition_mode', this.form_addition.pdExtPremMode,true);\r\n              let pd_prem_addition_type = this.getCodeName('pd_prem_addition_type', this.form_addition.pdExtPremType,true);\r\n              this.$set(this.form_addition, 'pdExtPremName', pdAddPremObj+pd_prem_addition_addition_mode+pd_prem_addition_type)\r\n              this.additionAddTableData.push(this.form_addition)\r\n            }\r\n            this.getOrderNumber('addition_add')\r\n            this.resetFormAddition()\r\n            this.resetFormAdditionAdd()\r\n            this.notifySuccess(this.$t('successMessage.add'))\r\n          } else {\r\n            this.notifyError(this.$t('pay_def.message.error_def_no_define'))\r\n          }\r\n        }\r\n      })\r\n\r\n    },\r\n    buildArray(paymentIds, additionPayPersonTypes, additionModes, additionTypes) {\r\n      let array = []\r\n      let array_item = []\r\n      let array_paymentId = ''\r\n      let array_additionPayPersonType = ''\r\n      let array_additionMode = ''\r\n      let array_additionType = ''\r\n      for (const paymentId of paymentIds) {\r\n        array_paymentId = paymentId\r\n        for (const additionPayPersonType of additionPayPersonTypes) {\r\n          array_additionPayPersonType = additionPayPersonType\r\n          for (const additionMode of additionModes) {\r\n            array_additionMode = additionMode\r\n            for (const additionType of additionTypes) {\r\n              array_additionType = additionType\r\n              array_item.push(array_paymentId, array_additionPayPersonType, array_additionMode, array_additionType)\r\n              array.push(array_item)\r\n              array_item = []\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return array\r\n    },\r\n    handleUpdateAddition() {\r\n      this.$refs.form_addition.validate(pass => {\r\n        if (pass) {\r\n          updatePdtempPdExtPrem(this.form_addition).then(() => {\r\n            this.$refs.page_addition.buildData().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cancelUpdateAddition() {\r\n      this.resetFormAddition()\r\n      this.selectedAddition = {}\r\n    },\r\n    handleDeleteAddition(row) {\r\n      deletePdtempPdExtPrem(row.id).then(() => {\r\n        let operationFlag\r\n        if (this._.includes(this.additionTableData, this.selectedAddition)) {\r\n          if (this.additionTableData.length === 1 && this.$refs.page_addition.page > 1) {\r\n            this.$refs.page_addition.page -= 1\r\n          }\r\n          operationFlag = 'buildData'\r\n        } else {\r\n          operationFlag = 'reload'\r\n        }\r\n        switch (operationFlag) {\r\n          case 'buildData':\r\n            this.$refs.page_addition.buildData().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n          case 'reload':\r\n            this.$refs.page_addition.reload().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n        }\r\n      })\r\n    },\r\n    // 动态表格多选框\r\n    handleSelectionChange(val) {\r\n      this.selectedAdditionAdds = val\r\n    },\r\n    handleDeleteAdditionAdd(form_addition) {\r\n      this.additionAddTableData.splice(this.additionAddTableData.indexOf(form_addition), 1)\r\n      this.selectedAdditionAdds.splice(this.additionAddTableData.indexOf(form_addition), 1)\r\n      this.getOrderNumber('addition_add')\r\n      this.notifySuccess(this.$t('successMessage.delete'))\r\n    },\r\n    handleSaveAdditionAdd() {\r\n      let num = 0;\r\n      for (num = 0; num < this.selectedAdditionAdds.length; num++) {\r\n        if (!this.selectedAdditionAdds[num].pdExtPremName) {\r\n          this.notifyError(\"请输入加费名称\")\r\n          return\r\n        }\r\n        if (this.selectedAdditionAdds[num].pdExtPremMode == '01' && !this.selectedAdditionAdds[num].pdMaxVal) {\r\n          this.notifyError(\"请输入加费上限值\")\r\n          return\r\n        }\r\n      }\r\n      const params = {\r\n        extPremList: this.selectedAdditionAdds\r\n      }\r\n      addPdtempPdExtPrem(this.buildRequestData(params)).then(() => {\r\n        this.$refs.page_addition.buildData().then(() => {\r\n          for (const selectedAdditionAdd of this.selectedAdditionAdds) {\r\n            this.additionAddTableData.splice(this.additionAddTableData.indexOf(selectedAdditionAdd), 1)\r\n          }\r\n          this.selectedAdditionAdds = []\r\n          this.getOrderNumber('addition_add')\r\n          this.notifySuccess(this.$t('successMessage.save'))\r\n        })\r\n      })\r\n    },\r\n    async saveDisCount() {\r\n      this.$refs[\"form_count\"].validate(async valid1 => {\r\n        if (valid1) {\r\n          let param = {\r\n            pdCmpnType: this.form_count.pdCmpnType\r\n          };\r\n          await findCmpnCaleCode(this.buildRequestData(param)).then(response => {\r\n            this.$nextTick(() => {\r\n              if (response.data.length < 2 && response.data.length > 0 && this.form_count.pdCmpnCalcMode == 2) {\r\n                this.detailTypeOptionList = response.data;\r\n                for (const product of this.detailTypeOptionList) {\r\n                  if (product.cmpnCalcCode == null){\r\n                    this.form_count.pdCmpnCalcCode = '';\r\n                  }else {\r\n                    this.form_count.pdCmpnCalcCode = product.cmpnCalcCode;\r\n                  }\r\n                }\r\n              }else {\r\n                this.form_count.pdCmpnCalcCode = '';\r\n              }\r\n            })\r\n          });\r\n\r\n          let PdtempPdCmpnInfos = []\r\n          let pdCmpnRange = this.form_count.pdCmpnRange\r\n          if (this._.includes(pdCmpnRange, '000000')) {\r\n            pdCmpnRange = []\r\n            for (const pdDiscount of this.pdDiscountRangeOptions) {\r\n              if (pdDiscount.value !== '000000') {\r\n                pdCmpnRange.push(pdDiscount.value)\r\n              }\r\n            }\r\n          }\r\n          this.form_count.pdVerId = this.product.pdVerId\r\n          this.form_count.operator = this.product.operator\r\n          this.form_count.pdInfoId = this.product.id\r\n          this.form_count.pdCode = this.product.pdCode\r\n          this.form_count.pdName = this.product.pdName\r\n          //获取缴费编码\r\n          for (const def of _this.defTableData) {\r\n            if (this.form_count.pdPremIds.includes(def.id)) {\r\n              this.form_count.pdPremCodes.push(def.pdPremCode)\r\n            }\r\n          }\r\n          for (let i = 0; i < pdCmpnRange.length; i++) {\r\n            for(let j = 0; j < this.form_count.pdPremIds.length; j++){\r\n              let PdtempPdCmpnInfo = JSON.parse(JSON.stringify(this.form_count))\r\n              PdtempPdCmpnInfo.pdPremId = this.form_count.pdPremIds[j]\r\n              PdtempPdCmpnInfo.pdPremCode = this.form_count.pdPremCodes[j]\r\n              PdtempPdCmpnInfo.pdCmpnRange = pdCmpnRange[i]\r\n              PdtempPdCmpnInfos.push(PdtempPdCmpnInfo)\r\n            }\r\n\r\n          }\r\n          const data = {\r\n            PdtempPdCmpnInfos: PdtempPdCmpnInfos\r\n          }\r\n          this.flag1 = 1;\r\n          addPdtempPdCmpnInfo(this.buildRequestData(data)).then(res => {\r\n            this.$emit(\"childFn\", \"reload\");\r\n            if (res.code == 200) {\r\n              this.notifySuccess(res.message);\r\n              this.clearFormDiscount()\r\n              this.selectDiscountRangeTable();\r\n            }\r\n          });\r\n        } else {\r\n          this.focusItem()\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    updateDisCount() {\r\n      this.$refs[\"form_count\"].validate(valid1 => {\r\n        if (valid1) {\r\n          const PdtempPdCmpnInfo = JSON.parse(JSON.stringify(this.form_count))\r\n          PdtempPdCmpnInfo.pdCmpnRange = PdtempPdCmpnInfo.pdCmpnRange[0]\r\n          updatePdtempPdCmpnInfo(this.buildRequestData({\"PdtempPdCmpnInfo\": PdtempPdCmpnInfo})).then(() => {\r\n            this.$emit(\"childFn\", \"reload\")\r\n            this.notifySuccess(this.$t('successMessage.update'))\r\n            this.selectDiscountRangeTable();\r\n            this.selectedDiscount = {};\r\n            this.clearFormDiscount()\r\n          });\r\n        } else {\r\n          this.focusItem()\r\n        }\r\n      })\r\n    },\r\n    //选中折扣数据\r\n    selectedRowDiscount(eeid) {\r\n      var lid = eeid;\r\n      if (lid) {\r\n        let num = 0;\r\n        for (num = 0; num < this.discountTableData.length; num++) {\r\n          if (this.discountTableData[num].cmpnInfoId == lid) {\r\n            this.selectedDiscount = this.discountTableData[num]\r\n            this.selectedDiscountChanged();\r\n            break;\r\n          }\r\n        }\r\n      } else if (lid == undefined) {\r\n        this.selectedDiscount = this.discountTableData[this.discountTableData.length - 1]\r\n        this.selectedDiscountChanged();\r\n      }\r\n    },\r\n    deleteDisCount(row) {\r\n      deletePdtempPdCmpnInfo(row.id).then(res => {\r\n        this.$emit(\"childFn\", \"reload\");\r\n        if (res.code == 200) {\r\n          this.notifySuccess(res.message);\r\n          this.selectedDiscount = {};\r\n          this.resetDiscountForm();\r\n          this.selectDiscountRangeTable();\r\n        }\r\n      })\r\n    },\r\n    // 获取相同编号的数组\r\n    getOrderNumber(arrayName) {\r\n      let tableData\r\n      let orderIndexArr\r\n      if (arrayName === 'addition') {\r\n        tableData = this.additionTableData\r\n      } else if (arrayName === 'addition_add') {\r\n        tableData = this.additionAddTableData\r\n      } else if (arrayName === 'addition_discount') {\r\n        tableData = this.discountTableData\r\n      }\r\n      else {\r\n        return\r\n      }\r\n      orderIndexArr = []\r\n      // 按照 paymentId 排序，将 paymentId 相同的数据连在一起\r\n      tableData = this._.orderBy(tableData, 'pdPremId', 'asc')\r\n      if (arrayName === 'addition') {\r\n        this.additionTableData = tableData\r\n      } else if (arrayName === 'addition_add') {\r\n        this.additionAddTableData = tableData\r\n      }else if (arrayName === 'addition_discount') {\r\n        this.discountTableData=tableData\r\n      }\r\n      let orderObj = {}\r\n      tableData.forEach((element, index) => {\r\n        element.rowIndex = index\r\n        if (orderObj[element.pdPremId]) {\r\n          orderObj[element.pdPremId].push(index)\r\n        } else {\r\n          orderObj[element.pdPremId] = []\r\n          orderObj[element.pdPremId].push(index)\r\n        }\r\n      })\r\n      // 需要合并的行的index已经存在了同一个数组里，把这些数组存储到 this.orderIndexArr\r\n      for (let k in orderObj) {\r\n        orderIndexArr.push(orderObj[k])\r\n      }\r\n      if (arrayName === 'addition') {\r\n        this.orderIndexArr_addition = orderIndexArr\r\n      } else if (arrayName === 'addition_add') {\r\n        this.orderIndexArr_addition_add = orderIndexArr\r\n      }\r\n      else if (arrayName === 'addition_discount') {\r\n        this.orderIndexArr_addition_discount = orderIndexArr\r\n      }\r\n    },\r\n    // 合并单元格\r\n    objectSpanMethod_addition({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition.length; i++) {\r\n          let element = this.orderIndexArr_addition[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    objectSpanMethod_addition_add({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition_add.length; i++) {\r\n          let element = this.orderIndexArr_addition_add[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //优惠表格合并\r\n    objectSpanMethod_discount({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition_discount.length; i++) {\r\n          let element = this.orderIndexArr_addition_discount[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 清空缴费定义表单\r\n    clearFormDef() {\r\n      const id = this.form_def.id;\r\n      const frequency = this.form_def.frequency\r\n      if (id) {\r\n        this.form_def.frequency = frequency\r\n        this.form_def = this.selectedDef\r\n        var arr = this.form_def.pdPayFrequency;\r\n        if (arr){\r\n          this.product_extra.pdPayFreq = eval('(' + arr + ')');\r\n        }else {\r\n          this.product_extra.pdPayFreq=[]\r\n        }\r\n      } else {\r\n        this.init_pay_frequency();\r\n        this.resetFormDef();\r\n        this.form_def.id = id\r\n        this.form_def.frequency = frequency\r\n        this.selectedDef = {}\r\n        this.form_def.pdPremAddFlag = 'Y'\r\n        this.form_def.pdPayStartCalMode = '0'\r\n        this.form_def.pdPayStartCalRule = 'S'\r\n        this.form_def.pdPayEndCalMode = '0'\r\n        this.form_def.pdPayEndCalRule = 'S'\r\n        this.form_def.pdPayDateValue = '1'\r\n        this.init_pay_date();\r\n      }\r\n    },\r\n    // 清空加费定义表单\r\n    clearFormAddition() {\r\n      this.selectedAdditionChanged();\r\n      /*      this.form_addition.pdExtPremName = ''\r\n            this.form_addition.pdExtPremObj = ''\r\n            this.form_addition.pdExtPremMode = ''\r\n            this.form_addition.pdExtPremType = ''\r\n            this.form_addition.pdMaxVal = undefined\r\n            this.form_addition.pdExtPremCalcCode = ''*/\r\n    },\r\n    clearFormDiscount() {\r\n     /* if (this.selectedDiscount.id) {\r\n        this.selectedDiscountChanged();\r\n      } else {}*/\r\n        this.selectedDiscount = {}\r\n        this.resetDiscountForm()\r\n    },\r\n    //重置优惠对象\r\n    resetDiscountForm() {\r\n      this.pdDiscountRangeOptions = [{\r\n        key: '000000',\r\n        value: '000000',\r\n        label: '全部',\r\n        disabled: true\r\n      }]\r\n      this.form_count = {\r\n        pdVerId: '',\r\n        operator: '',\r\n        pdType: '',\r\n        pdDefType: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdPremId: '',\r\n        pdPremCode: '',\r\n        pdPremCodes: [],\r\n        pdCmpnRange: [],\r\n        pdCmpnType: '',\r\n        cmpnInfoId: '',\r\n        pdCmpnCode: '',\r\n        pdCmpnOrder: this.configRangeLength,\r\n        pdCmpnCalcMode: '',\r\n        pdCmpnVal: '',\r\n        pdCmpnCalcCode: '',\r\n        pdCmpnDesc: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_count.clearValidate()\r\n      })\r\n    },\r\n    // 重置缴费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormDef() {\r\n      this.form_def = {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        pdCode: '',\r\n        pdName: '',\r\n        operator: '',\r\n        pdPayName: '',\r\n        pdPremCode: '',\r\n        pdPremCalMode: 'G',\r\n        pdPremZeroFlag: 'Y',\r\n        pdPremReclFlag: 'N',\r\n        pdUrgePayFlag: 'Y',\r\n        pdPayStartPeriod: undefined,\r\n        pdPayStartPerUnit: 'Y',\r\n        pdPayStartCalRule: 'S',\r\n        pdPayStartCalMode: '0',\r\n        pdPayEndPeriod: undefined,\r\n        pdPayEndUnit: 'Y',\r\n        pdPayEndCalRule: 'S',\r\n        pdPayEndCalMode: '0',\r\n        pdAddPremMode: '',\r\n        pdPayAccKind: '',\r\n        pdCharPremRel: 'N',\r\n        pdRateChangeFlag: 'N',\r\n        pdPremAddFlag: 'N',\r\n        pdPremStartFlag: 'N',\r\n        pdPremAccRela: 'N',\r\n        pdPremCalcCode: '',\r\n        pdPayDateValue:'1'\r\n      }\r\n      this.form_def.pdInfoId = this.product.id\r\n      this.form_def.pdVerId = this.product.pdVerId\r\n      this.form_def.pdCode = this.product.pdCode\r\n      this.form_def.pdName = this.product.pdName\r\n      this.payDateForm = {\r\n        payDateTable:[],\r\n      },\r\n      this.$nextTick(() => {\r\n        this.$refs.form_def.clearValidate()\r\n      })\r\n    },\r\n    // 重置加费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormAddition() {\r\n      this.form_addition = {\r\n        id: undefined,\r\n        pdPremId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdExtPremCode: '',\r\n        pdExtPremName: '',\r\n        pdPremName: '',\r\n        pdPremCode: '',\r\n        pdExtPremObj: '',\r\n        pdExtPremMode: '',\r\n        pdExtPremType: '',\r\n        pdMaxVal: undefined,\r\n        pdExtPremCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n      if (this.$refs.form_addition) {\r\n        this.$refs.form_addition.clearValidate()\r\n      }\r\n    },\r\n    // 重置临时加费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormAdditionAdd() {\r\n      this.form_addition_add = {\r\n        id: undefined,\r\n        pdPremId: [],\r\n        pdExtPremObj: [],\r\n        pdExtPremMode: [],\r\n        pdExtPremType: [],\r\n        pdExtPremCalcCode: ''\r\n      }\r\n      if (this.$refs.form_addition_add) {\r\n        this.$refs.form_addition_add.clearValidate()\r\n      }\r\n    },\r\n    showAddFee(){\r\n      this.addFeeFlag =  !this.addFeeFlag\r\n    },\r\n    addPayRow(){\r\n      this.payDateForm.payDateTable.push({\r\n        pdPayEndPeriod:this.product.pdPayPeriod,\r\n        pdPayEndUnit:'Y',\r\n        pdPayStartPeriod:'0',\r\n        pdPayStartPerUnit:'Y'\r\n      })\r\n    },\r\n    delPayRow(index, row){\r\n      this.payDateForm.payDateTable.splice(index,1);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.input-with-select .el-input-group__append {\r\n  background-color: #fff;\r\n}\r\n\r\n\r\n\r\n.is_fixed_sidebarClosed {\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 98;\r\n  background: #ebebeb;\r\n  width: 81%;\r\n  padding: 10px;\r\n}\r\n\r\n.is_fixed_sidebarOpened {\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 98;\r\n  background: #ebebeb;\r\n  padding: 10px;\r\n  width: 74%;\r\n}\r\n\r\n.showDiv {\r\n  width: 90%;\r\n  height: 100%;\r\n  margin-top: -40px;\r\n  margin-left: -40px;\r\n  position: absolute;\r\n  background: #ffffff00;\r\n  z-index: 999;\r\n}\r\n\r\n.formtitle2 {\r\n  padding-top: 10px;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.divider {\r\n  background-color: black;\r\n  margin-left: 4px;\r\n}\r\n\r\n.payForm{\r\n  .el-form-item {\r\n    margin-bottom: 0px;\r\n  }\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/payment-def"}]}
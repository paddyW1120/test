{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-addition\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-operation-def\\pd-underwriting-def\\underwriting-addition\\index.vue","mtime":1609847106978},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMiIpKTsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIpOwoKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpKTsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX3Z1ZXggPSByZXF1aXJlKCJ2dWV4Iik7Cgp2YXIgX3BkdGVtcHBkcHJlbSA9IHJlcXVpcmUoIkAvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZHByZW0iKTsKCnZhciBfcGR0ZW1wcGRleHRwcmVtID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkZXh0cHJlbSIpOwoKdmFyIF9kaXNjb3VudEZvcm11bGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9kaXNjb3VudC1mb3JtdWxhIikpOwoKdmFyIF9kaXNjb3VudEZvcm11bGFTZWxlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9kaXNjb3VudC1mb3JtdWxhLXNlbGVjdCIpKTsKCnZhciBfcHJlbUZvcm11bGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9wcmVtLWZvcm11bGEiKSk7Cgp2YXIgX3ByZW1Gb3JtdWxhU2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1mb3JtdWxhLXNlbGVjdCIpKTsKCnZhciBfcHJlbVJ1bGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9wcmVtLXJ1bGUiKSk7Cgp2YXIgX3ByZW1SdWxlU2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvcHJlbS1ydWxlLXNlbGVjdCIpKTsKCnZhciBfZ3VpZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9ndWlkZSIpKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfdGhpczsKCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAidW5kZXJ3cml0aW5nQWRkaXRpb24iLAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9kYXRlU3VmZml4OiBmdW5jdGlvbiBmaWx0ZXJfZGF0ZVN1ZmZpeChjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9kYXRlX3N1ZmZpeCcsIGNvZGUsIHRydWUpOwogICAgfSwKICAgIGZpbHRlcl9mcmVxOiBmdW5jdGlvbiBmaWx0ZXJfZnJlcShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9mcmVxJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3N0YXJ0Q2FsY1J1bGU6IGZ1bmN0aW9uIGZpbHRlcl9zdGFydENhbGNSdWxlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3N0YXJ0X2NhbGNfcnVsZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9lbmRDYWxjUnVsZTogZnVuY3Rpb24gZmlsdGVyX2VuZENhbGNSdWxlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2VuZF9jYWxjX3J1bGUnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfc3RhcnRDYWxjTWV0aG9kOiBmdW5jdGlvbiBmaWx0ZXJfc3RhcnRDYWxjTWV0aG9kKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3N0YXJ0X2NhbGNfbWV0aG9kJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX2VuZENhbGNNZXRob2Q6IGZ1bmN0aW9uIGZpbHRlcl9lbmRDYWxjTWV0aG9kKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2VuZF9jYWxjX21ldGhvZCcsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvblR5cGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvblR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fYWRkaXRpb25fdHlwZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvbk1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvbk1vZGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fYWRkaXRpb25fbW9kZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hY2NvdW50VHlwZTogZnVuY3Rpb24gZmlsdGVyX2FjY291bnRUeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2FjY291bnRfdHlwZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9hZGRpdGlvblBheVBlcnNvbjogZnVuY3Rpb24gZmlsdGVyX2FkZGl0aW9uUGF5UGVyc29uKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZEFkZFByZW1PYmonLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfYWRkaXRpb25BZGRpdGlvbk1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9hZGRpdGlvbkFkZGl0aW9uTW9kZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9hZGRpdGlvbl9hZGRpdGlvbl9tb2RlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheVplcm86IGZ1bmN0aW9uIGZpbHRlcl9wYXlaZXJvKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3plcm8nLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfc2VydmljZUNoYXJnZU9mZnNldDogZnVuY3Rpb24gZmlsdGVyX3NlcnZpY2VDaGFyZ2VPZmZzZXQoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fc2VydmljZV9jaGFyZ2Vfb2Zmc2V0JywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblR5cGU6IGZ1bmN0aW9uIGZpbHRlcl9wZENtcG5UeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwcmVmZXJlbnRpYWxUeXBlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wbkNhbGNNb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDbXBuQ2FsY01vZGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3ByZWZlcmVudGlhbENsY3VsYXRpb25UeXBlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblJhbmdlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDbXBuUmFuZ2UoY29kZSkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5kZWZUYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGVmID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGRlZi5wZFByZW1Db2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBkZWYucGRQcmVtQ29kZSArICI6IiArIGRlZi5wZFBheU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IyID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5hZGRpdGlvblRhYmxlRGF0YSksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RlZiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RlZi5wZEV4dFByZW1Db2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBfZGVmLnBkRXh0UHJlbUNvZGUgKyAiOiIgKyBfZGVmLnBkRXh0UHJlbU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvZGU7CiAgICB9LAogICAgZmlsdGVyX3BheVVyZ2luZzogZnVuY3Rpb24gZmlsdGVyX3BheVVyZ2luZyhjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV91cmdpbmcnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGF5RnJlcXVlbmN5OiBmdW5jdGlvbiBmaWx0ZXJfcGF5RnJlcXVlbmN5KGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwYXltZW50RnJlcXVlbmN5JywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheWRhdGV2YWx1ZTogZnVuY3Rpb24gZmlsdGVyX3BheWRhdGV2YWx1ZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRQYXlFbmRDYWxNb2RlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BheW1lbnRJZDogZnVuY3Rpb24gZmlsdGVyX3BheW1lbnRJZChwZFByZW1JZCkgewogICAgICB2YXIgX2l0ZXJhdG9yMyA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMuZGVmVGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBkZWYgPSBfc3RlcDMudmFsdWU7CgogICAgICAgICAgaWYgKGRlZi5pZCA9PT0gcGRQcmVtSWQpIHsKICAgICAgICAgICAgcmV0dXJuIGRlZi5wZFBheU5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIGZpbHRlcl9wZFBheVN0YXJ0UGVyaW9kOiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlTdGFydFBlcmlvZChsaXN0KSB7CiAgICAgIHZhciByZXR1cm5EYXRhID0gJyc7CgogICAgICBpZiAobGlzdC5sZW5ndGgpIHsKICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmIChyZXR1cm5EYXRhLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm5EYXRhICs9ICcsJzsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm5EYXRhICs9IGRhdGEucGRQYXlTdGFydFBlcmlvZDsKICAgICAgICAgIHJldHVybkRhdGEgKz0gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fZGF0ZV9zdWZmaXgnLCBkYXRhLnBkUGF5U3RhcnRQZXJVbml0LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9LAogICAgZmlsdGVyX3BkUGF5RW5kUGVyaW9kOiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlFbmRQZXJpb2QobGlzdCkgewogICAgICB2YXIgcmV0dXJuRGF0YSA9ICcnOwoKICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAocmV0dXJuRGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuRGF0YSArPSAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuRGF0YSArPSBkYXRhLnBkUGF5RW5kUGVyaW9kOwogICAgICAgICAgcmV0dXJuRGF0YSArPSBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9kYXRlX3N1ZmZpeCcsIGRhdGEucGRQYXlFbmRVbml0LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvOiBmYWxzZSwKICAgICAgcGRQYXlGcmVxQ29weTogW10sCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QwOiBbXSwKICAgICAgcXVpY2tmaWx0ZXJIYW5kbGVyTGlzdDE6IFtdLAogICAgICBxdWlja2ZpbHRlckhhbmRsZXJMaXN0MjogW10sCiAgICAgIHF1aWNrZmlsdGVySGFuZGxlckxpc3QzOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QwOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QxOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QyOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3QzOiBbXSwKICAgICAgZmlsdGVySGFuZGxlckxpc3Q0OiBbXSwKICAgICAgZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxOiBbXSwKICAgICAgZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QyOiBbXSwKICAgICAgZGV0YWlsVHlwZU9wdGlvbkxpc3Q6IFtdLAogICAgICBwYXlEYXRlRm9ybTogewogICAgICAgIHBheURhdGVUYWJsZTogW10KICAgICAgfSwKICAgICAgdGFibGVDb3VudDogMCwKICAgICAgdGFibGVDb3VudERpc2NvdW50OiAwLAogICAgICBwZENtcG5DYWxjQ29kZTE6ICcnLAogICAgICBmbGFnMTogMCwKICAgICAgLy/lhazlvI8KICAgICAgZGlhbG9nU2hvdzogewogICAgICAgIHByZW1BbW91bnRGb3JtdWxhOiBmYWxzZSwKICAgICAgICBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdDogZmFsc2UKICAgICAgfSwKICAgICAgZ3VhcmFudGVlRGV0YWlsczogJycsCiAgICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU6ICcnLAogICAgICBwZFV3U2lUeXBlT3B0aW9uczogJycsCiAgICAgIHBkVXdTaVR5cGVEdE9wdGlvbnM6ICcnLAogICAgICBwZERpc0NvdW50OiAnJywKICAgICAgLy/op4TliJkKICAgICAgZGlhbG9nUnVsZXNTaG93OiB7CiAgICAgICAgcHJlbVJ1bGVzOiBmYWxzZSwKICAgICAgICBwcmVtUnVsZXNTZWxlY3Q6IGZhbHNlCiAgICAgIH0sCiAgICAgIHNob3dQYWdlRmxhZzogMCwKICAgICAgZGVmVGFibGVEYXRhOiBbXSwKICAgICAgYWRkaXRpb25UYWJsZURhdGE6IFtdLAogICAgICBhZGRpdGlvbkFkZFRhYmxlRGF0YTogW10sCiAgICAgIHBkQ21wblR5cGVGaWx0ZXJzOiBbXSwKICAgICAgcm93SW5kZXg6ICctMScsCiAgICAgIG9yZGVySW5kZXhBcnJfYWRkaXRpb246IFtdLAogICAgICBvcmRlckluZGV4QXJyX2FkZGl0aW9uX2FkZDogW10sCiAgICAgIG9yZGVySW5kZXhBcnJfYWRkaXRpb25fZGlzY291bnQ6IFtdLAogICAgICBob3Zlck9yZGVyQXJyOiBbXSwKICAgICAgcXVpY2tpY29uX2Rpc2NvdW50OiAiZWwtaWNvbi1hcnJvdy1yaWdodCIsCiAgICAgIHF1aWNrc2hvdzogZmFsc2UsCiAgICAgIGZpbHRlckRpc2NvdW50Q29kZTogW10sCiAgICAgIHBkQ21wblJhbmdlRmlsdGVyczogW10sCiAgICAgIHByb2R1Y3RPcmlnaW5hbExpc3Q6IFtdLAogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIHNlbGVjdGVkUmVmZXJlbmNlUHJvZHVjdElkOiB1bmRlZmluZWQsCiAgICAgIGZvcm1fcXVpY2s6IHsKICAgICAgICB0eXBlUmVnaW9uOiAnJwogICAgICB9LAogICAgICBwYXJhbXM6IHsKICAgICAgICBlcV9wZEluZm9JZDogdW5kZWZpbmVkLAogICAgICAgIGVxX3BkUHJlbUNhbE1vZGU6ICcnLAogICAgICAgIGFjY291bnRSZWxhdGVkOiAnJywKICAgICAgICBleHRyYVByZW1pdW1GbGFnOiAnJywKICAgICAgICBlcV9pZDogJycsCiAgICAgICAgYnlQYWdlOiAnWScsCiAgICAgICAgZmluZWxpbmVzUmVnaW9uOiAnJywKICAgICAgICBmaXJzdE9wZW5QYWdlRmxhZzogJ1knCiAgICAgIH0sCiAgICAgIHBhcmFtc19jdXJyZW50UHJvZHVjdDogewogICAgICAgIGVxX3BkSW5mb0lkOiB1bmRlZmluZWQsCiAgICAgICAgbGlrZV9wYXlOYW1lOiAnJywKICAgICAgICBlcV9wYXlDb2RlOiAnJwogICAgICB9LAogICAgICBwYXJhbXNfYWRkaXRpb246IHsKICAgICAgICBwcmVtaXVtTGlzdDogW10KICAgICAgfSwKICAgICAgY29uZmlnUmFuZ2VMZW5ndGg6ICcnLAogICAgICBmaWx0ZXJDbXBuVHlwZTogJzEkRCRJJywKICAgICAgYWRkRmVlRmxhZzogdHJ1ZSwKICAgICAgZGlzY291bnRGbGFnOiAnTicsCiAgICAgIHNlbGVjdGVkRGlzY291bnQ6IHt9LAogICAgICBzZWxlY3RlZERlZjoge30sCiAgICAgIHNlbGVjdGVkRGVmSW5RdWVyeVJlc3VsdDoge30sCiAgICAgIHNlbGVjdGVkQWRkaXRpb246IHt9LAogICAgICBzZWxlY3RlZEFkZGl0aW9uQWRkczogW10sCiAgICAgIC8vIOS6p+WTgeS/oeaBrwogICAgICBwcm9kdWN0OiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBiVHlwZTogJycsCiAgICAgICAgY1R5cGU6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRTYWxlY2hubDogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFNob3J0bmFtZTogJycsCiAgICAgICAgcGRFbk5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZFN0YXJ0RGF0ZVJ1bGU6ICcnLAogICAgICAgIHBkU3RhcnREYXRlTW9kZTogJycsCiAgICAgICAgcGRTdGFydFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkU3RhcnRQZXJpb2RVbml0OiAnJywKICAgICAgICBwZEVuZERhdGVSdWxlOiAnJywKICAgICAgICBwZEVuZERhdGVNb2RlOiAnJywKICAgICAgICBwZEVuZFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkRW5kUGVyaW9kVW5pdDogJycsCiAgICAgICAgcGRHcmFjZVBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkT2JzZXJ2YXRpb25EYXk6IHVuZGVmaW5lZCwKICAgICAgICBwZEFwcGxEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFN0YXJ0RGF0ZTogdW5kZWZpbmVkLAogICAgICAgIHBkU3RvcERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHByb2R1Y3RfZXh0cmE6IHsKICAgICAgICB0eXBlUmVnaW9uOiAnJywKICAgICAgICBwZFBheUZyZXE6IFtdCiAgICAgIH0sCiAgICAgIGZvcm1fZGVmOiB7fSwKICAgICAgZm9ybV9hZGRpdGlvbjogewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcmVtSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgb3BlcmF0b3I6ICcnLAogICAgICAgIHBkRXh0UHJlbUNvZGU6ICcnLAogICAgICAgIHBkRXh0UHJlbU5hbWU6ICcnLAogICAgICAgIHBkUHJlbU5hbWU6ICcnLAogICAgICAgIHBkUHJlbUNvZGU6ICcnLAogICAgICAgIHBkRXh0UHJlbU9iajogJycsCiAgICAgICAgcGRFeHRQcmVtTW9kZTogJycsCiAgICAgICAgcGRFeHRQcmVtVHlwZTogJycsCiAgICAgICAgcGRNYXhWYWw6IHVuZGVmaW5lZCwKICAgICAgICBwZEV4dFByZW1DYWxjQ29kZTogJycsCiAgICAgICAgY3JlYXRlVGltZTogdW5kZWZpbmVkLAogICAgICAgIHVwZGF0ZVRpbWU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBmb3JtX2FkZGl0aW9uX2FkZDogewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcmVtSWQ6IFtdLAogICAgICAgIHBkRXh0UHJlbU9iajogWyIyIl0sCiAgICAgICAgcGRFeHRQcmVtTW9kZTogW10sCiAgICAgICAgcGRFeHRQcmVtVHlwZTogW10sCiAgICAgICAgcGRFeHRQcmVtQ2FsY0NvZGU6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VGbGFnOiB7CiAgICAgICAgdGFibGVWaXNpYmxlX2RlZjogdHJ1ZSwKICAgICAgICBkaWFsb2dWaXNpYmxlX2FkZGl0aW9uVHlwZTogZmFsc2UsCiAgICAgICAgZGlhbG9nVmlzaWJsZV9xdWVyeVJlc3VsdDogZmFsc2UsCiAgICAgICAgYWRkaXRpb25GbGFnOiBmYWxzZQogICAgICB9LAogICAgICBkaXNwbGF5TmFtZV9hZGRpdGlvblR5cGU6ICcnLAogICAgICBpc0ZpeGVkOiBmYWxzZSwKICAgICAgZml4ZWRDbGFzc05hbWU6ICcnLAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgcGRBZGRQcmVtTW9kZTogW10sCiAgICAgICAgcGRQcmVtQ2FsTW9kZTogW10sCiAgICAgICAgcGRQYXlBY2NLaW5kOiBbXQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHBkUGF5RW5kUGVyaW9kOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZGFkZGl0aW9uLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwZGFkZGl0aW9uLnBheV9kYXRlJyksCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZFBheU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkYWRkaXRpb24ubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24ucGF5X25hbWUnKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkUHJlbUNhbE1vZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkYWRkaXRpb24ubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24ucGF5X2NhbGNfbWV0aG9kJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHBkRXh0UHJlbU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXliqDotLnlkI3np7AiLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRQcmVtSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nliqDotLnlr7nosaEiLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRFeHRQcmVtT2JqOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5Yqg6LS55a+56LGhIiwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkRXh0UHJlbU1vZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nliqDotLnmlrnlvI8iLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRFeHRQcmVtVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWKoOi0ueexu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBydWxlc19jb3VudDogewogICAgICAgIHBkUHJlbUlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZGFkZGl0aW9uLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwZGFkZGl0aW9uLnBheV9uYW1lJyksCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZENtcG5SYW5nZTogW3sKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkYWRkaXRpb24ubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24ucGF5X2Rpc2NvdW50X3JhbmdlJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHBkQ21wblR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkYWRkaXRpb24ubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24ucGF5X2Rpc2NvdW50X3R5cGUnKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBkQ21wbk9yZGVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZGFkZGl0aW9uLm1lc3NhZ2UucGxlYXNlX2VudGVyJykgKyB0aGlzLiR0KCdwZGFkZGl0aW9uLnBheV9kaXNjb3VudF9vcmRlcicpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGRDbXBuQ2FsY01vZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3BkYWRkaXRpb24ubWVzc2FnZS5wbGVhc2VfZW50ZXInKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24ucGF5X2NhbGNfbWV0aG9kJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHJ1bGVzX3F1aWNrOiB7CiAgICAgICAgZmluZWxpbmVzUmVnaW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdmb3JtLnBsZWFzZV9zZWxlY3QnKSArIHRoaXMuJHQoJ3BkYWRkaXRpb24uZmluZWxpbmVzUmVnaW9uJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBwcmVtQW1vdW50Rm9ybXVsYTogX3ByZW1Gb3JtdWxhLmRlZmF1bHQsCiAgICBwcmVtQW1vdW50Rm9ybXVsYVNlbGVjdDogX3ByZW1Gb3JtdWxhU2VsZWN0LmRlZmF1bHQsCiAgICBwcmVtUnVsZXM6IF9wcmVtUnVsZS5kZWZhdWx0LAogICAgcHJlbVJ1bGVzU2VsZWN0OiBfcHJlbVJ1bGVTZWxlY3QuZGVmYXVsdCwKICAgIHBkRGlzY291bnRGb3JtdWxhOiBfZGlzY291bnRGb3JtdWxhLmRlZmF1bHQsCiAgICBwZERpc2NvdW50Rm9ybXVsYVNlbGVjdDogX2Rpc2NvdW50Rm9ybXVsYVNlbGVjdC5kZWZhdWx0LAogICAgZ3VpZGU6IF9ndWlkZS5kZWZhdWx0CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcGR0ZW1wUGRJbmZvOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8g5bim5YWl5Lqn5ZOB5L+h5oGvCiAgICAgICAgICAgICAgcGR0ZW1wUGRJbmZvID0gX3RoaXMyLmdldFBkRGF0YSgpOwoKICAgICAgICAgICAgICBpZiAoIShPYmplY3Qua2V5cyhwZHRlbXBQZEluZm8pLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMi5wcm9kdWN0ID0gcGR0ZW1wUGRJbmZvOwogICAgICAgICAgICAgIF90aGlzMi5wYXJhbXNfY3VycmVudFByb2R1Y3QuZXFfcGRJbmZvSWQgPSBfdGhpczIucHJvZHVjdC5pZDsKICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRJbmZvSWQgPSBfdGhpczIucHJvZHVjdC5pZDsKICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRWZXJJZCA9IF90aGlzMi5wcm9kdWN0LnBkVmVySWQ7CiAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkQ29kZSA9IF90aGlzMi5wcm9kdWN0LnBkQ29kZTsKICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGROYW1lID0gX3RoaXMyLnByb2R1Y3QucGROYW1lOwogICAgICAgICAgICAgIF90aGlzMi5wYXJhbXMuZmluZWxpbmVzUmVnaW9uID0gcGR0ZW1wUGRJbmZvLmNUeXBlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX3RoaXMyLm5vdGlmeUVycm9yKCfml6Dms5Xojrflj5bkuqflk4Hkv6Hmga8nKTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmluaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX3RoaXMyLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbyA9IF90aGlzMi4kcm91dGUucXVlcnkucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID09PSAndHJ1ZSc7CgogICAgICAgICAgICAgIGlmIChfdGhpczIucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMi5mb3JtX2RlZi5wZFByZW1BZGRGbGFnID0gJ1knOwogICAgICAgICAgICAgIF90aGlzMi5mb3JtX2RlZi5wZFBheVN0YXJ0Q2FsTW9kZSA9ICcwJzsKICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRQYXlTdGFydENhbFJ1bGUgPSAnUyc7CiAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUGF5RW5kQ2FsTW9kZSA9ICcwJzsKICAgICAgICAgICAgICBfdGhpczIuZm9ybV9kZWYucGRQYXlFbmRDYWxSdWxlID0gJ1MnOwogICAgICAgICAgICAgIF90aGlzMi5mb3JtX2RlZi5wZFBheURhdGVWYWx1ZSA9ICcxJzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRBbGxQcmVtaXVtKCk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgX3RoaXMyLmZvcm1fZGVmLnBkUHJlbUFkZEZsYWcgPSAnWSc7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0QWxsUHJlbWl1bSgpOwoKICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kcmVmcy5wYWdlX2FkZGl0aW9uLmJ1aWxkRGF0YSgpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7CiAgfSwKICBjb21wdXRlZDogKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCAoMCwgX3Z1ZXgubWFwR2V0dGVycykoWydsZGNvZGVzJywgJ3NpZGViYXInXSkpLAogIHdhdGNoOiB7CiAgICAnZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtVHlwZSc6IGZ1bmN0aW9uIGZvcm1fYWRkaXRpb25fYWRkUGRFeHRQcmVtVHlwZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRpc3BsYXlOYW1lX2FkZGl0aW9uVHlwZSA9ICcnOwoKICAgICAgdmFyIGFkZGl0aW9uVHlwZUxpc3Rfc2VsZWN0ZWQgPSB0aGlzLl8uZmlsdGVyKHRoaXMubGRjb2Rlc1sncGRfcHJlbV9hZGRpdGlvbl90eXBlJ10sIGZ1bmN0aW9uIChhZGRpdGlvblR5cGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMuaXNJbkFycmF5KGFkZGl0aW9uVHlwZS5jb2RlLCBfdGhpcy5mb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1UeXBlKTsKICAgICAgfSk7CgogICAgICBpZiAoYWRkaXRpb25UeXBlTGlzdF9zZWxlY3RlZCAmJiBhZGRpdGlvblR5cGVMaXN0X3NlbGVjdGVkLmxlbmd0aCA+IDApIHsKICAgICAgICBhZGRpdGlvblR5cGVMaXN0X3NlbGVjdGVkLmZvckVhY2goZnVuY3Rpb24gKGFkZGl0aW9uVHlwZSwgaW5kZXgpIHsKICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgICBfdGhpczMuZGlzcGxheU5hbWVfYWRkaXRpb25UeXBlICs9IGFkZGl0aW9uVHlwZS5jb2RlbmFtZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5kaXNwbGF5TmFtZV9hZGRpdGlvblR5cGUgKz0gJywgJyArIGFkZGl0aW9uVHlwZS5jb2RlbmFtZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpc3BsYXlOYW1lX2FkZGl0aW9uVHlwZSA9ICcnOwogICAgICB9CiAgICB9LAogICAgJ2FkZGl0aW9uVGFibGVEYXRhJzogZnVuY3Rpb24gYWRkaXRpb25UYWJsZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYWRkaXRpb25UYWJsZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxID0gW107CiAgICAgICAgdGhpcy5maWx0ZXJwZEV4dFByZW1OYW1lTGlzdDIgPSBbXTsKICAgICAgICB0aGlzLmFkZGl0aW9uVGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgX3RoaXM0LmZpbHRlcnBkRXh0UHJlbU5hbWVMaXN0MS5wdXNoKHsKICAgICAgICAgICAgdGV4dDogdmFsLnBkRXh0UHJlbU5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRFeHRQcmVtTmFtZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM0LmZpbHRlcnBkRXh0UHJlbU5hbWVMaXN0Mi5wdXNoKHsKICAgICAgICAgICAgdGV4dDogX3RoaXM0LmdldENvZGVOYW1lKCdwZF9wcmVtX2FkZGl0aW9uX3R5cGUnLCB2YWwucGRFeHRQcmVtVHlwZSksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRFeHRQcmVtVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QxID0gdGhpcy5maWx0ZXJwZEV4dFByZW1OYW1lTGlzdDEucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKCFwcmV2LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwudGV4dCA9PT0gZWxlbWVudC50ZXh0OwogICAgICAgIH0pKSB7CiAgICAgICAgICBwcmV2LnB1c2goZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcHJldjsKICAgICAgfSwgW10pOwogICAgICB0aGlzLmZpbHRlcnBkRXh0UHJlbU5hbWVMaXN0MiA9IHRoaXMuZmlsdGVycGRFeHRQcmVtTmFtZUxpc3QyLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZWxlbWVudCkgewogICAgICAgIGlmICghcHJldi5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLnRleHQgPT09IGVsZW1lbnQudGV4dDsKICAgICAgICB9KSkgewogICAgICAgICAgcHJldi5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0sIFtdKTsKICAgICAgdGhpcy5zZWxlY3RlZEFkZGl0aW9uID0ge307CiAgICAgIHRoaXMucmVzZXRGb3JtQWRkaXRpb24oKTsKCiAgICAgIGlmICh0aGlzLmFkZGl0aW9uVGFibGVEYXRhLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbiA9IHRoaXMuYWRkaXRpb25UYWJsZURhdGFbMF07CiAgICAgICAgdGhpcy5zZWxlY3RlZEFkZGl0aW9uQ2hhbmdlZCgpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBicmluZ0luQ2FsY0NvZGU6IGZ1bmN0aW9uIGJyaW5nSW5DYWxjQ29kZShwZEJ1c3NEZXRhaWxUeXBlLCBwZEJ1c3NJZCwgY2FsY0NvZGUpIHsKICAgICAgc3dpdGNoIChwZEJ1c3NEZXRhaWxUeXBlKSB7CiAgICAgICAgY2FzZSAnMTknOgogICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMuYWRkaXRpb25UYWJsZURhdGEpLAogICAgICAgICAgICAgIF9zdGVwNDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBleHRQcmVtID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgICBpZiAoZXh0UHJlbS5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgewogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGV4dFByZW0sICdwZEV4dFByZW1DYWxjQ29kZScsIGNhbGNDb2RlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuZm9ybV9hZGRpdGlvbi5pZCA9PT0gTnVtYmVyKHBkQnVzc0lkKSkgewogICAgICAgICAgICB0aGlzLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtQ2FsY0NvZGUgPSBjYWxjQ29kZTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgLy/lhazlvI8KICAgIGdvQ2xpY2tzOiBmdW5jdGlvbiBnb0NsaWNrcyhudW0xLCBudW0yKSB7CiAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IG51bTE7IC8v5Lia5Yqh5aSn57G7CgogICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBudW0yOyAvL+S4muWKoee7huexuwoKICAgICAgaWYgKG51bTIgPT09ICcxOScpIHsKICAgICAgICAvL+WKoOi0uQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnNlbGVjdGVkQWRkaXRpb24ucGRQcmVtSWQgKyAiOiIgKyB0aGlzLnNlbGVjdGVkQWRkaXRpb24ucGRQcmVtQ29kZTsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSB0aGlzLnNlbGVjdGVkQWRkaXRpb24uaWQgKyAiOiIgKyB0aGlzLnNlbGVjdGVkQWRkaXRpb24ucGRFeHRQcmVtQ29kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+e8tOi0uQogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnNlbGVjdGVkRGVmLmlkID8gdGhpcy5zZWxlY3RlZERlZi5pZCArICI6IiArIHRoaXMuc2VsZWN0ZWREZWYucGRQcmVtQ29kZSA6IHRoaXMuZm9ybV9kZWZBZGQuaWQgKyAiOiIgKyB0aGlzLmZvcm1fZGVmQWRkLnBkUHJlbUNvZGU7CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zID0gJyc7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYSA9IHRydWU7CiAgICB9LAogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9mb3JtdWxhOiBmdW5jdGlvbiBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGEoZmxhZykgewogICAgICBpZiAoZmxhZyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMucGRVd1NpVHlwZU9wdGlvbnMgPSB0aGlzLnBkdGVtcFBkQm5mdDsKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2dTaG93LnByZW1BbW91bnRGb3JtdWxhID0gZmxhZzsKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3Q6IGZ1bmN0aW9uIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYVNlbGVjdChmbGFnLCBndWFyYW50ZWVEZXRhaWxzLCBjYWxjdWxhdGlvbkZvcm11bGFUeXBlLCBwcmVtLCBleHRQcmVtKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gcHJlbTsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMgPSBleHRQcmVtOwogICAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IGd1YXJhbnRlZURldGFpbHM7CiAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlID0gY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpYWxvZ1Nob3cucHJlbUFtb3VudEZvcm11bGEgPSBmYWxzZTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nU2hvdy5wcmVtQW1vdW50Rm9ybXVsYVNlbGVjdCA9IGZsYWc7CiAgICB9LAogICAgZmlsdGVySGFuZGxlcjogZnVuY3Rpb24gZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJIYW5kbGVyRGlzY291bnQ6IGZ1bmN0aW9uIGZpbHRlckhhbmRsZXJEaXNjb3VudCh2YWx1ZSwgcm93LCBjb2x1bW4pIHsKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgICByZXR1cm4gcm93W3Byb3BlcnR5XSA9PT0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICAvL+inhOWImQogICAgZ29SdWxlczogZnVuY3Rpb24gZ29SdWxlcyhudW0xLCBudW0yKSB7CiAgICAgIHRoaXMuZ3VhcmFudGVlRGV0YWlscyA9IG51bTE7IC8v5Lia5Yqh5aSn57G7CgogICAgICB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPSBudW0yOyAvL+S4muWKoee7huexuwoKICAgICAgdGhpcy5kaWFsb2dSdWxlc1Nob3cucHJlbVJ1bGVzID0gdHJ1ZTsKICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHRoaXMuZm9ybV9kZWYuaWQgKyAiOiIgKyB0aGlzLmZvcm1fZGVmLnBkUHJlbUNvZGU7CiAgICB9LAogICAgZmlsdGVyX3BkQ21wblJhbmdlczogZnVuY3Rpb24gZmlsdGVyX3BkQ21wblJhbmdlcyhjb2RlKSB7CiAgICAgIHZhciBfaXRlcmF0b3I1ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5kZWZUYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXA1OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRlZiA9IF9zdGVwNS52YWx1ZTsKCiAgICAgICAgICBpZiAoZGVmLnBkUHJlbUNvZGUgPT09IGNvZGUpIHsKICAgICAgICAgICAgcmV0dXJuIGRlZi5wZFByZW1Db2RlICsgIjoiICsgZGVmLnBkUGF5TmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yNiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXMuYWRkaXRpb25UYWJsZURhdGEpLAogICAgICAgICAgX3N0ZXA2OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9kZWYyID0gX3N0ZXA2LnZhbHVlOwoKICAgICAgICAgIGlmIChfZGVmMi5wZEV4dFByZW1Db2RlID09PSBjb2RlKSB7CiAgICAgICAgICAgIHJldHVybiBfZGVmMi5wZEV4dFByZW1Db2RlICsgIjoiICsgX2RlZjIucGRFeHRQcmVtTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICB9CgogICAgICByZXR1cm4gY29kZTsKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3J1bGVzOiBmdW5jdGlvbiBjaGFuZ2VEaWFsb2dWaXNpYmxlX3J1bGVzKGZsYWcpIHsKICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnBkVXdTaVR5cGVPcHRpb25zID0gdGhpcy5wZHRlbXBQZEJuZnQ7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nUnVsZXNTaG93LnByZW1SdWxlcyA9IGZsYWc7CiAgICB9LAogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlc1NlbGVjdDogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9ydWxlc1NlbGVjdChmbGFnLCBndWFyYW50ZWVEZXRhaWxzLCBjYWxjdWxhdGlvbkZvcm11bGFUeXBlLCBwcmVtLCBleHRQcmVtKSB7CiAgICAgIGlmIChmbGFnID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlT3B0aW9ucyA9IHByZW07CiAgICAgICAgdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zID0gZXh0UHJlbTsKICAgICAgICB0aGlzLmd1YXJhbnRlZURldGFpbHMgPSBndWFyYW50ZWVEZXRhaWxzOwogICAgICAgIHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9IGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nUnVsZXNTaG93LnByZW1SdWxlc1NlbGVjdCA9IGZsYWc7CiAgICB9LAogICAgLy8g6aG16Z2i5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB0aGlzLmluaXRfZmlsdGVycygpOwogICAgICB0aGlzLmluaXRfcGF5X2ZyZXF1ZW5jeSgpOwogICAgICB0aGlzLmluaXRfcGF5X2RhdGUoKTsKICAgICAgdGhpcy5pbml0X3R5cGVSZWdpb24oKTsKICAgIH0sCiAgICBnZXRBbGxQcmVtaXVtOiBmdW5jdGlvbiBnZXRBbGxQcmVtaXVtKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwZEluZm9JZDogX3RoaXM2LnByb2R1Y3QuaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9wZHRlbXBwZGV4dHByZW0uZ2V0QWxsUHJlbWl1bSkoX3RoaXM2LmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnBhcmFtc19hZGRpdGlvbi5wcmVtaXVtTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kZWZUYWJsZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPlue8tOi0uemikeeOhwogICAgaW5pdF9wYXlfZnJlcXVlbmN5OiBmdW5jdGlvbiBpbml0X3BheV9mcmVxdWVuY3koKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtc01hcCA9IHsKICAgICAgICBwZF9pbmZvX2lkOiB0aGlzLnBhcmFtc19jdXJyZW50UHJvZHVjdC5lcV9wZEluZm9JZCwKICAgICAgICBwZF9hdHJzX2NvZGU6ICdwYXlpbnR2JwogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkcHJlbS5nZXRQZEF0dHJJbmZvKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zTWFwKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcGRUZW1wQXRyc0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzNy5wcm9kdWN0X2V4dHJhLnBkUGF5RnJlcSA9IF90aGlzNy5fLm1hcChwZFRlbXBBdHJzTGlzdCwgJ3BkQXRyc1ZhbCcpOwogICAgICAgIF90aGlzNy5wZFBheUZyZXFDb3B5ID0gX3RoaXM3Ll8ubWFwKHBkVGVtcEF0cnNMaXN0LCAncGRBdHJzVmFsJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5Lqn5ZOB5YiG57G75qCH6K6w6KGo5L+h5oGv5YKs57y05qCH6K6wCiAgICBpbml0X3R5cGVSZWdpb246IGZ1bmN0aW9uIGluaXRfdHlwZVJlZ2lvbigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zTWFwID0gewogICAgICAgIHBkX2luZm9faWQ6IHRoaXMucGFyYW1zX2N1cnJlbnRQcm9kdWN0LmVxX3BkSW5mb0lkLAogICAgICAgIHBkX2Nsc190eXBlOiAnMicKICAgICAgfTsKICAgICAgKDAsIF9wZHRlbXBwZHByZW0uZ2V0UGRDbHNMYWJJbmZvKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW1zTWFwKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcGRUZW1wQ2xzTGFiTGlzdCA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIHZhciBwZENsczZBcnJheSA9IF90aGlzOC5fLm1hcChwZFRlbXBDbHNMYWJMaXN0LCAncGRDbHM2Jyk7CgogICAgICAgIGlmIChwZENsczZBcnJheS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczguZm9ybV9kZWYucGRVcmdlUGF5RmxhZyA9IHBkQ2xzNkFycmF5WzBdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bnvLTotLnmnJ/pl7QKICAgIGluaXRfcGF5X2RhdGU6IGZ1bmN0aW9uIGluaXRfcGF5X2RhdGUoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIHBheU1hcCA9IHsKICAgICAgICBwZF9pbmZvX2lkOiB0aGlzLnBhcmFtc19jdXJyZW50UHJvZHVjdC5lcV9wZEluZm9JZAogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkcHJlbS5nZXRQYXlEYXRlKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGF5TWFwKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczkuZm9ybV9kZWYucGRQYXlFbmRQZXJpb2QgPSByZXNwb25zZS5kYXRhLnBkUGF5UGVyaW9kOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJbnrZvpgInlmagKICAgIGluaXRfZmlsdGVyczogZnVuY3Rpb24gaW5pdF9maWx0ZXJzKCkgewogICAgICB2YXIgbGRjb2RlX3BkUHJlbUNhbE1vZGUgPSB0aGlzLmxkY29kZXNbJ3BkX3ByZW1fY2FsX21ldGhvZCddOwogICAgICB2YXIgbGRjb2RlX3BkQWRkUHJlbU1vZGUgPSB0aGlzLmxkY29kZXNbJ3BkX3ByZW1fYWRkaXRpb25fbW9kZSddOwogICAgICB2YXIgbGRjb2RlX3BkUGF5QWNjS2luZCA9IHRoaXMubGRjb2Rlc1sncGRfcHJlbV9hY2NvdW50X3R5cGUnXTsKCiAgICAgIGlmIChsZGNvZGVfcGRQcmVtQ2FsTW9kZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjcgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGxkY29kZV9wZFByZW1DYWxNb2RlKSwKICAgICAgICAgICAgX3N0ZXA3OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDcudmFsdWU7CiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5wZFByZW1DYWxNb2RlLnB1c2goewogICAgICAgICAgICAgIHRleHQ6IGl0ZW0uY29kZW5hbWUsCiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uY29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChsZGNvZGVfcGRBZGRQcmVtTW9kZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjggPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGxkY29kZV9wZEFkZFByZW1Nb2RlKSwKICAgICAgICAgICAgX3N0ZXA4OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9pdGVtID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgICB0aGlzLmZpbHRlcnMucGRBZGRQcmVtTW9kZS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBfaXRlbS5jb2RlbmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogX2l0ZW0uY29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjguZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I4LmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChsZGNvZGVfcGRQYXlBY2NLaW5kIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yOSA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkobGRjb2RlX3BkUGF5QWNjS2luZCksCiAgICAgICAgICAgIF9zdGVwOTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfaXRlbTIgPSBfc3RlcDkudmFsdWU7CiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5wZFBheUFjY0tpbmQucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogX2l0ZW0yLmNvZGVuYW1lLAogICAgICAgICAgICAgIHZhbHVlOiBfaXRlbTIuY29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjkuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I5LmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJfcGRQcmVtQ2FsTW9kZTogZnVuY3Rpb24gZmlsdGVyX3BkUHJlbUNhbE1vZGUodmFsdWUsIHJvdykgewogICAgICByZXR1cm4gcm93LnBkUHJlbUNhbE1vZGUgPT09IHZhbHVlOwogICAgfSwKICAgIGZpbHRlcl9wZEFkZFByZW1Nb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRBZGRQcmVtTW9kZSh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cucGRBZGRQcmVtTW9kZSA9PT0gdmFsdWU7CiAgICB9LAogICAgZmlsdGVyX3BkUGF5QWNjS2luZDogZnVuY3Rpb24gZmlsdGVyX3BkUGF5QWNjS2luZCh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cucGRQYXlBY2NLaW5kID09PSB2YWx1ZTsKICAgIH0sCiAgICByb3dDbGlja19hZGRpdGlvbjogZnVuY3Rpb24gcm93Q2xpY2tfYWRkaXRpb24ocm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsKICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkQWRkaXRpb24uaWQpIHsKICAgICAgICAgIHRoaXMuY2FuY2VsVXBkYXRlQWRkaXRpb24oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZEFkZGl0aW9uQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRBZGRpdGlvbkNoYW5nZWQoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtQWRkaXRpb24oKTsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1fYWRkaXRpb24sIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbik7CiAgICB9LAogICAgc2VsZWN0QWxsQWRkaXRpb25UeXBlOiBmdW5jdGlvbiBzZWxlY3RBbGxBZGRpdGlvblR5cGUoKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxMCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5sZGNvZGVzWydwZF9wcmVtX2FkZGl0aW9uX3R5cGUnXSksCiAgICAgICAgICBfc3RlcDEwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDEwID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGFkZGl0aW9uVHlwZSA9IF9zdGVwMTAudmFsdWU7CiAgICAgICAgICB0aGlzLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbVR5cGUucHVzaChhZGRpdGlvblR5cGUuY29kZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTAuZigpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQWRkQWRkaXRpb246IGZ1bmN0aW9uIGhhbmRsZUFkZEFkZGl0aW9uKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb25fYWRkLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzKSB7CiAgICAgICAgaWYgKHBhc3MpIHsKICAgICAgICAgIGlmIChfdGhpczEwLmZvcm1fYWRkaXRpb25fYWRkLnBkUHJlbUlkLmxlbmd0aCA9PT0gMCB8fCBfdGhpczEwLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbU9iai5sZW5ndGggPT09IDAgfHwgX3RoaXMxMC5mb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1Nb2RlLmxlbmd0aCA9PT0gMCB8fCBfdGhpczEwLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbVR5cGUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzMTAubm90aWZ5RXJyb3IoX3RoaXMxMC4kdCgncGRhZGRpdGlvbi5tZXNzYWdlLmVycm9yX2luY29tcGxldGVfaW5mb3JtYXRpb24nKSk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzMTAuZGVmVGFibGVEYXRhICYmIF90aGlzMTAuZGVmVGFibGVEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy8g6aqM6K+B6YCJ5oup55qE57y06LS55L+h5oGv5piv5ZCm5YWo6YOo5pyJ5pWICiAgICAgICAgICAgIHZhciBwYXltZW50SWRzID0gX3RoaXMxMC5mb3JtX2FkZGl0aW9uX2FkZC5wZFByZW1JZDsKCiAgICAgICAgICAgIHZhciBwYXltZW50SWRzX2F2YWlsYWJsZSA9IF90aGlzMTAuXy5tYXAoX3RoaXMxMC5kZWZUYWJsZURhdGEsICdpZCcpOwoKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjExID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShwYXltZW50SWRzKSwKICAgICAgICAgICAgICAgIF9zdGVwMTE7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTEucygpOyAhKF9zdGVwMTEgPSBfaXRlcmF0b3IxMS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgcGF5bWVudElkID0gX3N0ZXAxMS52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTAuaXNJbkFycmF5KHBheW1lbnRJZCwgcGF5bWVudElkc19hdmFpbGFibGUpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAubm90aWZ5RXJyb3IoX3RoaXMxMC4kdCgncGRhZGRpdGlvbi5tZXNzYWdlLmVycm9yX3VuYXZhaWxhYmxlX2RlZicpKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIOmAmui/h+mqjOivge+8jOW8gOWni+WIm+W7ugoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMTEuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGFycmF5ID0gX3RoaXMxMC5idWlsZEFycmF5KHBheW1lbnRJZHMsIF90aGlzMTAuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtT2JqLCBfdGhpczEwLmZvcm1fYWRkaXRpb25fYWRkLnBkRXh0UHJlbU1vZGUsIF90aGlzMTAuZm9ybV9hZGRpdGlvbl9hZGQucGRFeHRQcmVtVHlwZSk7CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTIgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGFycmF5KSwKICAgICAgICAgICAgICAgIF9zdGVwMTI7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTIucygpOyAhKF9zdGVwMTIgPSBfaXRlcmF0b3IxMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgYXJyYXlJdGVtID0gX3N0ZXAxMi52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTAuZm9ybV9hZGRpdGlvbl9hZGQpOwogICAgICAgICAgICAgICAgYXJyYXlJdGVtLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmZvcm1fYWRkaXRpb24ucGRQcmVtSWQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1PYmogPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1Nb2RlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmZvcm1fYWRkaXRpb24ucGRFeHRQcmVtVHlwZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8g5Li6IHBheU5hbWUg5ZKMIHBheUNvZGUg6LWL5YC8CgogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjEzID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpczEwLmRlZlRhYmxlRGF0YSksCiAgICAgICAgICAgICAgICAgICAgX3N0ZXAxMzsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDEzID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIHZhciBkZWYgPSBfc3RlcDEzLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLmlkID09PSBfdGhpczEwLmZvcm1fYWRkaXRpb24ucGRQcmVtSWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZFByZW1OYW1lID0gZGVmLnBkUGF5TmFtZTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZFByZW1Db2RlID0gZGVmLnBkUHJlbUNvZGU7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gLy8g5Li6IHBkSW5mb0lkIOi1i+WAvAoKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxMy5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxMy5mKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMC5mb3JtX2FkZGl0aW9uLnBkSW5mb0lkID0gX3RoaXMxMC5wcm9kdWN0LmlkOyAvLyDkuLogcGRDb2RlIOi1i+WAvAoKICAgICAgICAgICAgICAgIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZENvZGUgPSBfdGhpczEwLnByb2R1Y3QucGRDb2RlOyAvLyDkuLogcGRWZXJJZCDotYvlgLwKCiAgICAgICAgICAgICAgICBfdGhpczEwLmZvcm1fYWRkaXRpb24ucGRWZXJJZCA9IF90aGlzMTAucHJvZHVjdC5wZFZlcklkOyAvLyDkuLogcGRQcmVtQ2FsY0NvZGUg6LWL5YC8CgogICAgICAgICAgICAgICAgX3RoaXMxMC5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbUNhbGNDb2RlID0gX3RoaXMxMC5mb3JtX2FkZGl0aW9uX2FkZC5wZEV4dFByZW1DYWxjQ29kZTsgLy/kuLrliqDotLnlkI3np7DotYvliJ3lp4vlgLwKCiAgICAgICAgICAgICAgICB2YXIgcGRBZGRQcmVtT2JqID0gX3RoaXMxMC5nZXRDb2RlTmFtZSgncGRBZGRQcmVtT2JqJywgX3RoaXMxMC5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbU9iaiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgdmFyIHBkX3ByZW1fYWRkaXRpb25fYWRkaXRpb25fbW9kZSA9IF90aGlzMTAuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fYWRkaXRpb25fYWRkaXRpb25fbW9kZScsIF90aGlzMTAuZm9ybV9hZGRpdGlvbi5wZEV4dFByZW1Nb2RlLCB0cnVlKTsKCiAgICAgICAgICAgICAgICB2YXIgcGRfcHJlbV9hZGRpdGlvbl90eXBlID0gX3RoaXMxMC5nZXRDb2RlTmFtZSgncGRfcHJlbV9hZGRpdGlvbl90eXBlJywgX3RoaXMxMC5mb3JtX2FkZGl0aW9uLnBkRXh0UHJlbVR5cGUsIHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMTAuJHNldChfdGhpczEwLmZvcm1fYWRkaXRpb24sICdwZEV4dFByZW1OYW1lJywgcGRBZGRQcmVtT2JqICsgcGRfcHJlbV9hZGRpdGlvbl9hZGRpdGlvbl9tb2RlICsgcGRfcHJlbV9hZGRpdGlvbl90eXBlKTsKCiAgICAgICAgICAgICAgICBfdGhpczEwLmFkZGl0aW9uQWRkVGFibGVEYXRhLnB1c2goX3RoaXMxMC5mb3JtX2FkZGl0aW9uKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IxMi5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMTAuZ2V0T3JkZXJOdW1iZXIoJ2FkZGl0aW9uX2FkZCcpOwoKICAgICAgICAgICAgX3RoaXMxMC5yZXNldEZvcm1BZGRpdGlvbigpOwoKICAgICAgICAgICAgX3RoaXMxMC5yZXNldEZvcm1BZGRpdGlvbkFkZCgpOwoKICAgICAgICAgICAgX3RoaXMxMC5ub3RpZnlTdWNjZXNzKF90aGlzMTAuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmFkZCcpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTAubm90aWZ5RXJyb3IoX3RoaXMxMC4kdCgncGRhZGRpdGlvbi5tZXNzYWdlLmVycm9yX2RlZl9ub19kZWZpbmUnKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBidWlsZEFycmF5OiBmdW5jdGlvbiBidWlsZEFycmF5KHBheW1lbnRJZHMsIGFkZGl0aW9uUGF5UGVyc29uVHlwZXMsIGFkZGl0aW9uTW9kZXMsIGFkZGl0aW9uVHlwZXMpIHsKICAgICAgdmFyIGFycmF5ID0gW107CiAgICAgIHZhciBhcnJheV9pdGVtID0gW107CiAgICAgIHZhciBhcnJheV9wYXltZW50SWQgPSAnJzsKICAgICAgdmFyIGFycmF5X2FkZGl0aW9uUGF5UGVyc29uVHlwZSA9ICcnOwogICAgICB2YXIgYXJyYXlfYWRkaXRpb25Nb2RlID0gJyc7CiAgICAgIHZhciBhcnJheV9hZGRpdGlvblR5cGUgPSAnJzsKCiAgICAgIHZhciBfaXRlcmF0b3IxNCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkocGF5bWVudElkcyksCiAgICAgICAgICBfc3RlcDE0OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjE0LnMoKTsgIShfc3RlcDE0ID0gX2l0ZXJhdG9yMTQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHBheW1lbnRJZCA9IF9zdGVwMTQudmFsdWU7CiAgICAgICAgICBhcnJheV9wYXltZW50SWQgPSBwYXltZW50SWQ7CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjE1ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShhZGRpdGlvblBheVBlcnNvblR5cGVzKSwKICAgICAgICAgICAgICBfc3RlcDE1OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uUGF5UGVyc29uVHlwZSA9IF9zdGVwMTUudmFsdWU7CiAgICAgICAgICAgICAgYXJyYXlfYWRkaXRpb25QYXlQZXJzb25UeXBlID0gYWRkaXRpb25QYXlQZXJzb25UeXBlOwoKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTYgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGFkZGl0aW9uTW9kZXMpLAogICAgICAgICAgICAgICAgICBfc3RlcDE2OwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxNi5zKCk7ICEoX3N0ZXAxNiA9IF9pdGVyYXRvcjE2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uTW9kZSA9IF9zdGVwMTYudmFsdWU7CiAgICAgICAgICAgICAgICAgIGFycmF5X2FkZGl0aW9uTW9kZSA9IGFkZGl0aW9uTW9kZTsKCiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxNyA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoYWRkaXRpb25UeXBlcyksCiAgICAgICAgICAgICAgICAgICAgICBfc3RlcDE3OwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjE3LnMoKTsgIShfc3RlcDE3ID0gX2l0ZXJhdG9yMTcubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uVHlwZSA9IF9zdGVwMTcudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICBhcnJheV9hZGRpdGlvblR5cGUgPSBhZGRpdGlvblR5cGU7CiAgICAgICAgICAgICAgICAgICAgICBhcnJheV9pdGVtLnB1c2goYXJyYXlfcGF5bWVudElkLCBhcnJheV9hZGRpdGlvblBheVBlcnNvblR5cGUsIGFycmF5X2FkZGl0aW9uTW9kZSwgYXJyYXlfYWRkaXRpb25UeXBlKTsKICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlfaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICBhcnJheV9pdGVtID0gW107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNy5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTcuZigpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNi5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE2LmYoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IxNS5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IxNS5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTQuZigpOwogICAgICB9CgogICAgICByZXR1cm4gYXJyYXk7CiAgICB9LAogICAgaGFuZGxlVXBkYXRlQWRkaXRpb246IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZUFkZGl0aW9uKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb24udmFsaWRhdGUoZnVuY3Rpb24gKHBhc3MpIHsKICAgICAgICBpZiAocGFzcykgewogICAgICAgICAgKDAsIF9wZHRlbXBwZGV4dHByZW0udXBkYXRlUGR0ZW1wUGRFeHRQcmVtKShfdGhpczExLmZvcm1fYWRkaXRpb24pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczExLiRyZWZzLnBhZ2VfYWRkaXRpb24uYnVpbGREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMxMS5yZXNldEZvcm1BZGRpdGlvbigpOwoKICAgICAgICAgICAgICBfdGhpczExLnNlbGVjdGVkQWRkaXRpb24gPSB7fTsKCiAgICAgICAgICAgICAgX3RoaXMxMS5ub3RpZnlTdWNjZXNzKF90aGlzMTEuJHQoJ3N1Y2Nlc3NNZXNzYWdlLnVwZGF0ZScpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbFVwZGF0ZUFkZGl0aW9uOiBmdW5jdGlvbiBjYW5jZWxVcGRhdGVBZGRpdGlvbigpIHsKICAgICAgdGhpcy5yZXNldEZvcm1BZGRpdGlvbigpOwogICAgICB0aGlzLnNlbGVjdGVkQWRkaXRpb24gPSB7fTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGVBZGRpdGlvbjogZnVuY3Rpb24gaGFuZGxlRGVsZXRlQWRkaXRpb24ocm93KSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgICgwLCBfcGR0ZW1wcGRleHRwcmVtLmRlbGV0ZVBkdGVtcFBkRXh0UHJlbSkocm93LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb3BlcmF0aW9uRmxhZzsKCiAgICAgICAgaWYgKF90aGlzMTIuXy5pbmNsdWRlcyhfdGhpczEyLmFkZGl0aW9uVGFibGVEYXRhLCBfdGhpczEyLnNlbGVjdGVkQWRkaXRpb24pKSB7CiAgICAgICAgICBpZiAoX3RoaXMxMi5hZGRpdGlvblRhYmxlRGF0YS5sZW5ndGggPT09IDEgJiYgX3RoaXMxMi4kcmVmcy5wYWdlX2FkZGl0aW9uLnBhZ2UgPiAxKSB7CiAgICAgICAgICAgIF90aGlzMTIuJHJlZnMucGFnZV9hZGRpdGlvbi5wYWdlIC09IDE7CiAgICAgICAgICB9CgogICAgICAgICAgb3BlcmF0aW9uRmxhZyA9ICdidWlsZERhdGEnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvcGVyYXRpb25GbGFnID0gJ3JlbG9hZCc7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbkZsYWcpIHsKICAgICAgICAgIGNhc2UgJ2J1aWxkRGF0YSc6CiAgICAgICAgICAgIF90aGlzMTIuJHJlZnMucGFnZV9hZGRpdGlvbi5idWlsZERhdGEoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczEyLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CgogICAgICAgICAgICAgIF90aGlzMTIuc2VsZWN0ZWRBZGRpdGlvbiA9IHt9OwoKICAgICAgICAgICAgICBfdGhpczEyLm5vdGlmeVN1Y2Nlc3MoX3RoaXMxMi4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6CiAgICAgICAgICAgIF90aGlzMTIuJHJlZnMucGFnZV9hZGRpdGlvbi5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczEyLnJlc2V0Rm9ybUFkZGl0aW9uKCk7CgogICAgICAgICAgICAgIF90aGlzMTIuc2VsZWN0ZWRBZGRpdGlvbiA9IHt9OwoKICAgICAgICAgICAgICBfdGhpczEyLm5vdGlmeVN1Y2Nlc3MoX3RoaXMxMi4kdCgnc3VjY2Vzc01lc3NhZ2UuZGVsZXRlJykpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yqo5oCB6KGo5qC85aSa6YCJ5qGGCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkcyA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVEZWxldGVBZGRpdGlvbkFkZDogZnVuY3Rpb24gaGFuZGxlRGVsZXRlQWRkaXRpb25BZGQoZm9ybV9hZGRpdGlvbikgewogICAgICB0aGlzLmFkZGl0aW9uQWRkVGFibGVEYXRhLnNwbGljZSh0aGlzLmFkZGl0aW9uQWRkVGFibGVEYXRhLmluZGV4T2YoZm9ybV9hZGRpdGlvbiksIDEpOwogICAgICB0aGlzLnNlbGVjdGVkQWRkaXRpb25BZGRzLnNwbGljZSh0aGlzLmFkZGl0aW9uQWRkVGFibGVEYXRhLmluZGV4T2YoZm9ybV9hZGRpdGlvbiksIDEpOwogICAgICB0aGlzLmdldE9yZGVyTnVtYmVyKCdhZGRpdGlvbl9hZGQnKTsKICAgICAgdGhpcy5ub3RpZnlTdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKTsKICAgIH0sCiAgICBoYW5kbGVTYXZlQWRkaXRpb25BZGQ6IGZ1bmN0aW9uIGhhbmRsZVNhdmVBZGRpdGlvbkFkZCgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBmb3IgKG51bSA9IDA7IG51bSA8IHRoaXMuc2VsZWN0ZWRBZGRpdGlvbkFkZHMubGVuZ3RoOyBudW0rKykgewogICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkc1tudW1dLnBkRXh0UHJlbU5hbWUpIHsKICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuivt+i+k+WFpeWKoOi0ueWQjeensCIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBZGRpdGlvbkFkZHNbbnVtXS5wZEV4dFByZW1Nb2RlID09PSAnMDEnICYmICF0aGlzLnNlbGVjdGVkQWRkaXRpb25BZGRzW251bV0ucGRNYXhWYWwpIHsKICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoIuivt+i+k+WFpeWKoOi0ueS4iumZkOWAvCIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBleHRQcmVtTGlzdDogdGhpcy5zZWxlY3RlZEFkZGl0aW9uQWRkcwogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkZXh0cHJlbS5hZGRQZHRlbXBQZEV4dFByZW0pKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbXMpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczEzLiRyZWZzLnBhZ2VfYWRkaXRpb24uYnVpbGREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTggPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKF90aGlzMTMuc2VsZWN0ZWRBZGRpdGlvbkFkZHMpLAogICAgICAgICAgICAgIF9zdGVwMTg7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxOC5zKCk7ICEoX3N0ZXAxOCA9IF9pdGVyYXRvcjE4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRBZGRpdGlvbkFkZCA9IF9zdGVwMTgudmFsdWU7CgogICAgICAgICAgICAgIF90aGlzMTMuYWRkaXRpb25BZGRUYWJsZURhdGEuc3BsaWNlKF90aGlzMTMuYWRkaXRpb25BZGRUYWJsZURhdGEuaW5kZXhPZihzZWxlY3RlZEFkZGl0aW9uQWRkKSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IxOC5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IxOC5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMxMy5zZWxlY3RlZEFkZGl0aW9uQWRkcyA9IFtdOwoKICAgICAgICAgIF90aGlzMTMuZ2V0T3JkZXJOdW1iZXIoJ2FkZGl0aW9uX2FkZCcpOwoKICAgICAgICAgIF90aGlzMTMubm90aWZ5U3VjY2VzcyhfdGhpczEzLiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bnm7jlkIznvJblj7fnmoTmlbDnu4QKICAgIGdldE9yZGVyTnVtYmVyOiBmdW5jdGlvbiBnZXRPcmRlck51bWJlcihhcnJheU5hbWUpIHsKICAgICAgdmFyIHRhYmxlRGF0YTsKICAgICAgdmFyIG9yZGVySW5kZXhBcnI7CgogICAgICBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb24nKSB7CiAgICAgICAgdGFibGVEYXRhID0gdGhpcy5hZGRpdGlvblRhYmxlRGF0YTsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9hZGQnKSB7CiAgICAgICAgdGFibGVEYXRhID0gdGhpcy5hZGRpdGlvbkFkZFRhYmxlRGF0YTsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9kaXNjb3VudCcpIHsKICAgICAgICB0YWJsZURhdGEgPSB0aGlzLmRpc2NvdW50VGFibGVEYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgb3JkZXJJbmRleEFyciA9IFtdOyAvLyDmjInnhacgcGF5bWVudElkIOaOkuW6j++8jOWwhiBwYXltZW50SWQg55u45ZCM55qE5pWw5o2u6L+e5Zyo5LiA6LW3CgogICAgICB0YWJsZURhdGEgPSB0aGlzLl8ub3JkZXJCeSh0YWJsZURhdGEsICdwZFByZW1JZCcsICdhc2MnKTsKCiAgICAgIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbicpIHsKICAgICAgICB0aGlzLmFkZGl0aW9uVGFibGVEYXRhID0gdGFibGVEYXRhOwogICAgICB9IGVsc2UgaWYgKGFycmF5TmFtZSA9PT0gJ2FkZGl0aW9uX2FkZCcpIHsKICAgICAgICB0aGlzLmFkZGl0aW9uQWRkVGFibGVEYXRhID0gdGFibGVEYXRhOwogICAgICB9IGVsc2UgaWYgKGFycmF5TmFtZSA9PT0gJ2FkZGl0aW9uX2Rpc2NvdW50JykgewogICAgICAgIHRoaXMuZGlzY291bnRUYWJsZURhdGEgPSB0YWJsZURhdGE7CiAgICAgIH0KCiAgICAgIHZhciBvcmRlck9iaiA9IHt9OwogICAgICB0YWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHsKICAgICAgICBlbGVtZW50LnJvd0luZGV4ID0gaW5kZXg7CgogICAgICAgIGlmIChvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXSkgewogICAgICAgICAgb3JkZXJPYmpbZWxlbWVudC5wZFByZW1JZF0ucHVzaChpbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9yZGVyT2JqW2VsZW1lbnQucGRQcmVtSWRdID0gW107CiAgICAgICAgICBvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXS5wdXNoKGluZGV4KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDpnIDopoHlkIjlubbnmoTooYznmoRpbmRleOW3sue7j+WtmOWcqOS6huWQjOS4gOS4quaVsOe7hOmHjO+8jOaKiui/meS6m+aVsOe7hOWtmOWCqOWIsCB0aGlzLm9yZGVySW5kZXhBcnIKCiAgICAgIGZvciAodmFyIGsgaW4gb3JkZXJPYmopIHsKICAgICAgICBvcmRlckluZGV4QXJyLnB1c2gob3JkZXJPYmpba10pOwogICAgICB9CgogICAgICBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb24nKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uID0gb3JkZXJJbmRleEFycjsKICAgICAgfSBlbHNlIGlmIChhcnJheU5hbWUgPT09ICdhZGRpdGlvbl9hZGQnKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2FkZCA9IG9yZGVySW5kZXhBcnI7CiAgICAgIH0gZWxzZSBpZiAoYXJyYXlOYW1lID09PSAnYWRkaXRpb25fZGlzY291bnQnKSB7CiAgICAgICAgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50ID0gb3JkZXJJbmRleEFycjsKICAgICAgfQogICAgfSwKICAgIC8vIOWQiOW5tuWNleWFg+agvAogICAgb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbjogZnVuY3Rpb24gb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbihfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIGNvbHVtbiA9IF9yZWYuY29sdW1uLAogICAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4LAogICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmLmNvbHVtbkluZGV4OwoKICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAyIHx8IGNvbHVtbkluZGV4ID09PSAzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uW2ldOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgaXRlbSA9IGVsZW1lbnRbal07CgogICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogZWxlbWVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IDAsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb2JqZWN0U3Bhbk1ldGhvZF9hZGRpdGlvbl9hZGQ6IGZ1bmN0aW9uIG9iamVjdFNwYW5NZXRob2RfYWRkaXRpb25fYWRkKF9yZWYyKSB7CiAgICAgIHZhciByb3cgPSBfcmVmMi5yb3csCiAgICAgICAgICBjb2x1bW4gPSBfcmVmMi5jb2x1bW4sCiAgICAgICAgICByb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4LAogICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmMi5jb2x1bW5JbmRleDsKCiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMiB8fCBjb2x1bW5JbmRleCA9PT0gMykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2FkZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fYWRkW2ldOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgaXRlbSA9IGVsZW1lbnRbal07CgogICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogZWxlbWVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IDAsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy/kvJjmg6DooajmoLzlkIjlubYKICAgIG9iamVjdFNwYW5NZXRob2RfZGlzY291bnQ6IGZ1bmN0aW9uIG9iamVjdFNwYW5NZXRob2RfZGlzY291bnQoX3JlZjMpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYzLnJvdywKICAgICAgICAgIGNvbHVtbiA9IF9yZWYzLmNvbHVtbiwKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjMucm93SW5kZXgsCiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWYzLmNvbHVtbkluZGV4OwoKICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAyIHx8IGNvbHVtbkluZGV4ID09PSAzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fZGlzY291bnQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50W2ldOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgaXRlbSA9IGVsZW1lbnRbal07CgogICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogZWxlbWVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IDAsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5riF56m657y06LS55a6a5LmJ6KGo5Y2VCiAgICBjbGVhckZvcm1EZWY6IGZ1bmN0aW9uIGNsZWFyRm9ybURlZigpIHsKICAgICAgdmFyIGlkID0gdGhpcy5mb3JtX2RlZi5pZDsKICAgICAgdmFyIGZyZXF1ZW5jeSA9IHRoaXMuZm9ybV9kZWYuZnJlcXVlbmN5OwoKICAgICAgaWYgKGlkKSB7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5mcmVxdWVuY3kgPSBmcmVxdWVuY3k7CiAgICAgICAgdGhpcy5mb3JtX2RlZiA9IHRoaXMuc2VsZWN0ZWREZWY7CiAgICAgICAgdmFyIGFyciA9IHRoaXMuZm9ybV9kZWYucGRQYXlGcmVxdWVuY3k7CgogICAgICAgIGlmIChhcnIpIHsKICAgICAgICAgIHRoaXMucHJvZHVjdF9leHRyYS5wZFBheUZyZXEgPSBldmFsKCcoJyArIGFyciArICcpJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucHJvZHVjdF9leHRyYS5wZFBheUZyZXEgPSBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbml0X3BheV9mcmVxdWVuY3koKTsKICAgICAgICB0aGlzLnJlc2V0Rm9ybURlZigpOwogICAgICAgIHRoaXMuZm9ybV9kZWYuaWQgPSBpZDsKICAgICAgICB0aGlzLmZvcm1fZGVmLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsKICAgICAgICB0aGlzLnNlbGVjdGVkRGVmID0ge307CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFByZW1BZGRGbGFnID0gJ1knOwogICAgICAgIHRoaXMuZm9ybV9kZWYucGRQYXlTdGFydENhbE1vZGUgPSAnMCc7CiAgICAgICAgdGhpcy5mb3JtX2RlZi5wZFBheVN0YXJ0Q2FsUnVsZSA9ICdTJzsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5RW5kQ2FsTW9kZSA9ICcwJzsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5RW5kQ2FsUnVsZSA9ICdTJzsKICAgICAgICB0aGlzLmZvcm1fZGVmLnBkUGF5RGF0ZVZhbHVlID0gJzEnOwogICAgICAgIHRoaXMuaW5pdF9wYXlfZGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g5riF56m65Yqg6LS55a6a5LmJ6KGo5Y2VCiAgICBjbGVhckZvcm1BZGRpdGlvbjogZnVuY3Rpb24gY2xlYXJGb3JtQWRkaXRpb24oKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRpdGlvbkNoYW5nZWQoKTsKICAgIH0sCiAgICAvL+mHjee9ruS8mOaDoOWvueixoQogICAgcmVzZXREaXNjb3VudEZvcm06IGZ1bmN0aW9uIHJlc2V0RGlzY291bnRGb3JtKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB0aGlzLmZvcm1fY291bnQgPSB7CiAgICAgICAgcGRWZXJJZDogJycsCiAgICAgICAgb3BlcmF0b3I6ICcnLAogICAgICAgIHBkVHlwZTogJycsCiAgICAgICAgcGREZWZUeXBlOiAnJywKICAgICAgICBwZEluZm9JZDogJycsCiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZE5hbWU6ICcnLAogICAgICAgIHBkUHJlbUlkOiAnJywKICAgICAgICBwZFByZW1Db2RlOiAnJywKICAgICAgICBwZENtcG5SYW5nZTogW10sCiAgICAgICAgcGRDbXBuVHlwZTogJycsCiAgICAgICAgY21wbkluZm9JZDogJycsCiAgICAgICAgcGRDbXBuQ29kZTogJycsCiAgICAgICAgcGRDbXBuT3JkZXI6IHRoaXMuY29uZmlnUmFuZ2VMZW5ndGgsCiAgICAgICAgcGRDbXBuQ2FsY01vZGU6ICcnLAogICAgICAgIHBkQ21wblZhbDogJycsCiAgICAgICAgcGRDbXBuQ2FsY0NvZGU6ICcnLAogICAgICAgIHBkQ21wbkRlc2M6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczE0LiRyZWZzLmZvcm1fY291bnQuY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43nva7nvLTotLnlr7nosaHvvIjnm7jlvZPkuo4gbmV3IOS6huS4gOS4quWvueixoe+8jOWFt+acieino+mZpOWPjOWQkee7keWumueahOaViOaenO+8iQogICAgcmVzZXRGb3JtRGVmOiBmdW5jdGlvbiByZXNldEZvcm1EZWYoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybV9kZWYgPSB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkLAogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZENvZGU6ICcnLAogICAgICAgIHBkTmFtZTogJycsCiAgICAgICAgb3BlcmF0b3I6ICcnLAogICAgICAgIHBkUGF5TmFtZTogJycsCiAgICAgICAgcGRQcmVtQ29kZTogJycsCiAgICAgICAgcGRQcmVtQ2FsTW9kZTogJ0cnLAogICAgICAgIHBkUHJlbVplcm9GbGFnOiAnWScsCiAgICAgICAgcGRQcmVtUmVjbEZsYWc6ICdOJywKICAgICAgICBwZFVyZ2VQYXlGbGFnOiAnWScsCiAgICAgICAgcGRQYXlTdGFydFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkUGF5U3RhcnRQZXJVbml0OiAnWScsCiAgICAgICAgcGRQYXlTdGFydENhbFJ1bGU6ICdTJywKICAgICAgICBwZFBheVN0YXJ0Q2FsTW9kZTogJzAnLAogICAgICAgIHBkUGF5RW5kUGVyaW9kOiB1bmRlZmluZWQsCiAgICAgICAgcGRQYXlFbmRVbml0OiAnWScsCiAgICAgICAgcGRQYXlFbmRDYWxSdWxlOiAnUycsCiAgICAgICAgcGRQYXlFbmRDYWxNb2RlOiAnMCcsCiAgICAgICAgcGRBZGRQcmVtTW9kZTogJycsCiAgICAgICAgcGRQYXlBY2NLaW5kOiAnJywKICAgICAgICBwZENoYXJQcmVtUmVsOiAnTicsCiAgICAgICAgcGRSYXRlQ2hhbmdlRmxhZzogJ04nLAogICAgICAgIHBkUHJlbUFkZEZsYWc6ICdOJywKICAgICAgICBwZFByZW1TdGFydEZsYWc6ICdOJywKICAgICAgICBwZFByZW1BY2NSZWxhOiAnTicsCiAgICAgICAgcGRQcmVtQ2FsY0NvZGU6ICcnLAogICAgICAgIHBkUGF5RGF0ZVZhbHVlOiAnMScKICAgICAgfTsKICAgICAgdGhpcy5mb3JtX2RlZi5wZEluZm9JZCA9IHRoaXMucHJvZHVjdC5pZDsKICAgICAgdGhpcy5mb3JtX2RlZi5wZFZlcklkID0gdGhpcy5wcm9kdWN0LnBkVmVySWQ7CiAgICAgIHRoaXMuZm9ybV9kZWYucGRDb2RlID0gdGhpcy5wcm9kdWN0LnBkQ29kZTsKICAgICAgdGhpcy5mb3JtX2RlZi5wZE5hbWUgPSB0aGlzLnByb2R1Y3QucGROYW1lOwogICAgICB0aGlzLnBheURhdGVGb3JtID0gewogICAgICAgIHBheURhdGVUYWJsZTogW10KICAgICAgfTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTUuJHJlZnMuZm9ybV9kZWYuY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43nva7liqDotLnlr7nosaHvvIjnm7jlvZPkuo4gbmV3IOS6huS4gOS4quWvueixoe+8jOWFt+acieino+mZpOWPjOWQkee7keWumueahOaViOaenO+8iQogICAgcmVzZXRGb3JtQWRkaXRpb246IGZ1bmN0aW9uIHJlc2V0Rm9ybUFkZGl0aW9uKCkgewogICAgICB0aGlzLmZvcm1fYWRkaXRpb24gPSB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFByZW1JZDogdW5kZWZpbmVkLAogICAgICAgIHBkVmVySWQ6IHVuZGVmaW5lZCwKICAgICAgICBvcGVyYXRvcjogJycsCiAgICAgICAgcGRFeHRQcmVtQ29kZTogJycsCiAgICAgICAgcGRFeHRQcmVtTmFtZTogJycsCiAgICAgICAgcGRQcmVtTmFtZTogJycsCiAgICAgICAgcGRQcmVtQ29kZTogJycsCiAgICAgICAgcGRFeHRQcmVtT2JqOiAnJywKICAgICAgICBwZEV4dFByZW1Nb2RlOiAnJywKICAgICAgICBwZEV4dFByZW1UeXBlOiAnJywKICAgICAgICBwZE1heFZhbDogdW5kZWZpbmVkLAogICAgICAgIHBkRXh0UHJlbUNhbGNDb2RlOiAnJywKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH07CgogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtX2FkZGl0aW9uKSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2FkZGl0aW9uLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOmHjee9ruS4tOaXtuWKoOi0ueWvueixoe+8iOebuOW9k+S6jiBuZXcg5LqG5LiA5Liq5a+56LGh77yM5YW35pyJ6Kej6Zmk5Y+M5ZCR57uR5a6a55qE5pWI5p6c77yJCiAgICByZXNldEZvcm1BZGRpdGlvbkFkZDogZnVuY3Rpb24gcmVzZXRGb3JtQWRkaXRpb25BZGQoKSB7CiAgICAgIHRoaXMuZm9ybV9hZGRpdGlvbl9hZGQgPSB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFByZW1JZDogW10sCiAgICAgICAgcGRFeHRQcmVtT2JqOiBbXSwKICAgICAgICBwZEV4dFByZW1Nb2RlOiBbXSwKICAgICAgICBwZEV4dFByZW1UeXBlOiBbXSwKICAgICAgICBwZEV4dFByZW1DYWxjQ29kZTogJycKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm1fYWRkaXRpb25fYWRkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2FkZGl0aW9uX2FkZC5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93QWRkRmVlOiBmdW5jdGlvbiBzaG93QWRkRmVlKCkgewogICAgICB0aGlzLmFkZEZlZUZsYWcgPSAhdGhpcy5hZGRGZWVGbGFnOwogICAgfSwKICAgIGFkZFBheVJvdzogZnVuY3Rpb24gYWRkUGF5Um93KCkgewogICAgICB0aGlzLnBheURhdGVGb3JtLnBheURhdGVUYWJsZS5wdXNoKHsKICAgICAgICBwZFBheUVuZFBlcmlvZDogJycsCiAgICAgICAgcGRQYXlFbmRVbml0OiAnWScsCiAgICAgICAgcGRQYXlTdGFydFBlcmlvZDogJycsCiAgICAgICAgcGRQYXlTdGFydFBlclVuaXQ6ICdZJwogICAgICB9KTsKICAgIH0sCiAgICBkZWxQYXlSb3c6IGZ1bmN0aW9uIGRlbFBheVJvdyhpbmRleCwgcm93KSB7CiAgICAgIHRoaXMucGF5RGF0ZUZvcm0ucGF5RGF0ZVRhYmxlLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <!-- 加费部分 -->\r\n    <!-- 加费定义表格（显示数据库中现有的加费记录） -->\r\n    <cus-table-title :label=\"$t('pdaddition.addition_list') \"></cus-table-title>\r\n    <el-table :data=\"additionTableData\" :span-method=\"objectSpanMethod_addition\" border element-loading-text=\"Loading\"\r\n              fit size=\"mini\" @row-click=\"rowClick_addition\">\r\n      <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"60px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedAddition\" @change=\"selectedAdditionChanged\">\r\n            <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_addition', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.pay_code')\" align=\"center\" prop=\"pdPremCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.pay_name')\" align=\"center\" prop=\"pdPremName\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.addition_pay_code')\" align=\"center\"\r\n                       prop=\"pdExtPremCode\"></el-table-column>\r\n      <el-table-column :filter-method=\"filterHandler\" :filters=\"filterpdExtPremNameList1\"\r\n                       :label=\"$t('pdaddition.addition_pay_name')\"\r\n                       align=\"center\" prop=\"pdExtPremName\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.addition_pay_person')\" align=\"center\" prop=\"pdExtPremObj\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdExtPremObj | filter_additionPayPerson }}</template>\r\n      </el-table-column>\r\n      <el-table-column :filter-method=\"filterHandler\" :filters=\"filterpdExtPremNameList2\"\r\n                       :label=\"$t('pdaddition.addition_type')\" align=\"center\"\r\n                       prop=\"pdExtPremType\"\r\n                       sortable>\r\n        <template v-slot=\"scope\">{{ scope.row.pdExtPremType | filter_additionType }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.addition_mode')\" align=\"center\" prop=\"pdExtPremMode\">\r\n        <template v-slot=\"scope\">{{ scope.row.pdExtPremMode | filter_additionAdditionMode }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdaddition.operation')\" align=\"center\" width=\"100px\">\r\n        <template slot-scope=\"scope\">\r\n          <cus-del-btn v-auth=\"'pdtemp-pd-ext-prem:delete'\" @ok=\"handleDeleteAddition(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination ref=\"page_addition\" v-model=\"additionTableData\" :autoBuild=\"false\" :mergedAttrName=\"'pdPremId'\"\r\n                    :needMerging=\"true\" :orderIndexArrName=\"'orderIndexArr_addition'\" :pageSize=\"10\"\r\n                    :params=\"params_addition\" :tableData=\"additionTableData\" url=\"/pdtemp-pd-ext-prem/base/list\"\r\n                    @updateOrderIndexArr=\"updateOrderIndexArr\"/>\r\n    <!-- 加费定义表单（新增） -->\r\n    <div v-if=\"!selectedAddition.id && addFeeFlag\">\r\n      <cus-form-title :first=\"true\" :label=\"$t('pdaddition.addition_info')\"></cus-form-title>\r\n      <el-form ref=\"form_addition_add\" :model=\"form_addition_add\" :rules=\"rules\" label-width=\"130px\">\r\n        <cus-row>\r\n          <cus-col :span=\"11\">\r\n            <el-form-item :label=\"$t('pdaddition.pay_name')\" prop=\"pdPremId\">\r\n              <el-select v-model=\"form_addition_add.pdPremId\" :placeholder=\"$t('pdaddition.please_select')\" clearable\r\n                         filterable multiple>\r\n                <el-option v-for=\"def in defTableData\" :label=\"def.pdPayName\" :value=\"def.id\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col :span=\"11\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_pay_person')\" prop=\"pdExtPremObj\">\r\n              <cus-checkbox v-model=\"form_addition_add.pdExtPremObj\"\r\n                            :codetype=\"'pdAddPremObj'\"></cus-checkbox>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <cus-row>\r\n          <cus-col :span=\"11\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_mode')\" prop=\"pdExtPremMode\">\r\n              <cus-checkbox v-model=\"form_addition_add.pdExtPremMode\"\r\n                            :codetype=\"'pd_prem_addition_addition_mode'\"></cus-checkbox>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <el-row>\r\n          <el-col :span=\"11\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_type')\" prop=\"pdExtPremType\">\r\n              <el-input v-model=\"displayName_additionType\" :placeholder=\"$t('pdaddition.unselected')\"\r\n                        readonly></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-button dialog-disable=\"disable\" size=\"small\" style=\"margin-left: 5px\" @click=\"pageFlag.dialogVisible_additionType = true\">\r\n            {{ $t('pdaddition.please_select') }}\r\n          </el-button>\r\n        </el-row>\r\n        <el-dialog ref=\"additionType\" v-dialog-drag :visible.sync=\"pageFlag.dialogVisible_additionType\"\r\n                   width=\"45%\">\r\n          <cus-page-title :label=\"$t('pdaddition.addition_type')\"></cus-page-title>\r\n          <el-form-item>\r\n            <cus-checkbox v-model=\"form_addition_add.pdExtPremType\"\r\n                          :codetype=\"'pd_prem_addition_type'\"></cus-checkbox>\r\n          </el-form-item>\r\n          <el-button-group>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"selectAllAdditionType\">\r\n              {{ $t('pdaddition.select_all') }}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"form_addition_add.pdExtPremType = []\">\r\n              {{ $t('pdaddition.refresh') }}\r\n            </el-button>\r\n          </el-button-group>\r\n          <div style=\"float: right\">\r\n            <el-button-group>\r\n              <el-button dialog-disable=\"disable\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                         @click=\"pageFlag.dialogVisible_additionType = false\">\r\n                {{ $t('pdaddition.add') }}\r\n              </el-button>\r\n            </el-button-group>\r\n          </div>\r\n        </el-dialog>\r\n        <el-row>\r\n          <el-form-item style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"handleAddAddition\">\r\n              {{ $t('pdaddition.add') }}\r\n            </el-button>\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"resetFormAdditionAdd\">\r\n              {{ $t('pdaddition.refresh') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n\r\n        <!-- 新增加费表格（动态显示） -->\r\n        <div v-if=\"additionAddTableData.length > 0\">\r\n          <cus-form-title :label=\"$t('pdaddition.to_add_additionitem')\"></cus-form-title>\r\n          <cus-table-title :label=\"$t('pdaddition.addition_add_list')\"></cus-table-title>\r\n          <el-table :data=\"additionAddTableData\" :span-method=\"objectSpanMethod_addition_add\"\r\n                    border element-loading-text=\"Loading\" fit max-height=\"500\" size=\"mini\"\r\n                    @selection-change=\"handleSelectionChange\">\r\n            <el-table-column align=\"center\" type=\"selection\" width=\"50\"></el-table-column>\r\n            <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\" width=\"50\"></el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.pay_code')\" align=\"center\" prop=\"pdPremCode\"></el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.pay_name')\" align=\"center\" prop=\"pdPremName\"></el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.addition_pay_name')\" align=\"center\" width=\"300px\">\r\n              <template v-slot=\"scope\">\r\n                <el-input v-model=\"scope.row.pdExtPremName\" :placeholder=\"$t('form.please_enter')\" maxlength=\"60\"\r\n                          show-word-limit></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.addition_pay_person')\" align=\"center\" prop=\"additionPayPersonType\">\r\n              <template v-slot=\"scope\">{{ scope.row.pdExtPremObj | filter_additionPayPerson }}</template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.addition_mode')\" align=\"center\" prop=\"additionMode\">\r\n              <template v-slot=\"scope\">{{ scope.row.pdExtPremMode | filter_additionAdditionMode }}</template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.addition_type')\" align=\"center\" prop=\"additionType\">\r\n              <template v-slot=\"scope\">{{ scope.row.pdExtPremType | filter_additionType }}</template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('pdaddition.addition_maximum')\" align=\"center\" width=\"140px\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input-number v-model=\"scope.row.pdMaxVal\" :disabled=\"scope.row.pdExtPremMode!=='01'\"\r\n                                 :placeholder=\"$t('i18nView.placeholderNum')\" style=\"width: 120px\"></el-input-number>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column :label=\"$t('table.actions')\" align=\"center\" width=\"100px\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button dialog-disable=\"disable\" slot=\"reference\" size=\"mini\"\r\n                           type=\"danger\" @click=\"handleDeleteAdditionAdd(scope.row)\"><i class=\"el-icon-minus\"></i>\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <el-form>\r\n            <el-row v-if=\"selectedAdditionAdds.length > 0\" style=\"margin: 20px auto 50px auto\">\r\n              <el-form-item style=\"float: right\">\r\n                <el-button dialog-disable=\"disable\" v-auth=\"'pdtemp-pd-ext-prem:add'\" icon=\"el-icon-success\" size=\"small\" type=\"primary\"\r\n                           @click=\"handleSaveAdditionAdd\">{{ $t('pdaddition.save') }}\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-row>\r\n          </el-form>\r\n          <br/>\r\n        </div>\r\n        <cus-form-title :label=\"$t('pdaddition.addition_calc_formula_code')\"></cus-form-title>\r\n        <cus-row>\r\n          <cus-col>\r\n            <el-form-item :label=\"$t('pdaddition.addition_calc_formula_code1')\">\r\n              <el-input v-model=\"form_addition.pdExtPremCalcCode\" readonly>\r\n                <el-tooltip\r\n                  slot=\"suffix\"\r\n                  :content=\"(Object.keys(selectedAddition).length===0?$t('pdaddition.message.pleaseSelectAddPremium'):'')\"\r\n                  :disabled=\"Object.keys(selectedAddition).length>0\" effect=\"dark\"\r\n                  placement=\"top\">\r\n                  <svg-icon\r\n                    :style=\"{cursor:Object.keys(selectedAddition).length>0?'pointer':'not-allowed'}\"\r\n                    icon-class=\"calc\"\r\n                    style=\"color: #606266;font-size: 18px\"\r\n                    @click=\"Object.keys(selectedAddition).length>0 && goClicks('1','19')\"/>\r\n                </el-tooltip>\r\n              </el-input>\r\n            </el-form-item>\r\n          </cus-col>\r\n        </cus-row>\r\n        <el-row v-if=\"false\">\r\n          <el-button dialog-disable=\"disable\" icon=\"el-icon-monitor\" size=\"small\" type=\"primary\" @click=\"goRules('1','1')\">\r\n            {{ $t('pdaddition.premium_rule_def') }}\r\n          </el-button>\r\n        </el-row>\r\n\r\n      </el-form>\r\n    </div>\r\n    <!-- 加费定义表单（编辑） -->\r\n    <div v-if=\"selectedAddition.id && addFeeFlag\">\r\n      <cus-form-title :first=\"true\" :label=\"$t('pdaddition.addition_info')\"></cus-form-title>\r\n      <el-form ref=\"form_addition\" :model=\"form_addition\" :rules=\"rules\" label-position=\"right\" label-width=\"130px\">\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.pay_code')\">\r\n              <div>{{ form_addition.pdPremCode }}</div>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.pay_name')\">\r\n              <div>{{ form_addition.pdPremId | filter_paymentId }}</div>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_pay_code')\">\r\n              <div>{{ form_addition.pdExtPremCode }}</div>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_pay_name')\" prop=\"pdExtPremName\">\r\n              <el-input v-model=\"form_addition.pdExtPremName\" maxlength=\"60\" show-word-limit></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_pay_person')\" prop=\"pdExtPremObj\">\r\n              <cus-radio v-model=\"form_addition.pdExtPremObj\" :codetype=\"'pdAddPremObj'\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_mode')\" prop=\"pdExtPremMode\">\r\n              <cus-radio v-model=\"form_addition.pdExtPremMode\"\r\n                         :codetype=\"'pd_prem_addition_addition_mode'\"></cus-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_type')\" prop=\"pdExtPremType\">\r\n              <cus-select v-model=\"form_addition.pdExtPremType\" :codetype=\"'pd_prem_addition_type'\"></cus-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col v-if=\"form_addition.pdExtPremMode === '01'\" :span=\"10\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_maximum')\" prop=\"pdMaxVal\">\r\n              <el-input-number v-model=\"form_addition.pdMaxVal\" :placeholder=\"$t('i18nView.placeholderNum')\"></el-input-number>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <cus-form-title :label=\"$t('pdaddition.addition_calc_formula_code')\"></cus-form-title>\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('pdaddition.addition_calc_formula_code1')\">\r\n              <el-input v-model=\"form_addition.pdExtPremCalcCode\">\r\n                <el-tooltip\r\n                  slot=\"suffix\"\r\n                  :content=\"Object.keys(selectedAddition).length===0?$t('pdaddition.message.pleaseSelectAddPremium'):''\"\r\n                  :disabled=\"Object.keys(selectedAddition).length>0\" effect=\"dark\"\r\n                  placement=\"top\">\r\n                  <svg-icon\r\n                    :style=\"{cursor:Object.keys(selectedAddition).length>0?'pointer':'not-allowed'}\"\r\n                    icon-class=\"calc\"\r\n                    style=\"color: #606266;font-size: 18px\"\r\n                    @click=\"Object.keys(selectedAddition).length>0 && goClicks('1','19')\"/>\r\n                </el-tooltip>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-form-item style=\"float: right\">\r\n            <el-button dialog-disable=\"disable\" v-auth=\"'pdtemp-pd-ext-prem:update'\" icon=\"el-icon-success\" size=\"small\"\r\n                       type=\"primary\" @click=\"handleUpdateAddition\">{{ $t('pdaddition.update') }}\r\n            </el-button>\r\n            <!-- <el-button dialog-disable=\"disable\"  size=\"small\" @click=\"handleDeleteAddition\" style=\"margin: 0 10px 0 0\"\r\n                        type=\"danger\" v-auth=\"'pdtemp-pd-ext-prem:delete'\">{{ $t('table.delete') }}\r\n             </el-button>-->\r\n            <el-button dialog-disable=\"disable\" icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"clearFormAddition\">\r\n              {{ $t('pdaddition.refresh') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 弹窗（公式定义） -->\r\n    <el-dialog v-if=\"dialogShow.premAmountFormula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :show-close=\"false\" :visible.sync=\"dialogShow.premAmountFormula\" center width=\"80%\"\r\n               @close=\"changeDialogVisible_formula(false)\">\r\n      <premAmountFormula :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                         :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                         @bringInCalcCode=\"bringInCalcCode\"\r\n                         @changeDialogVisible_formula=\"changeDialogVisible_formula\"\r\n                         @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormula>\r\n      <!-- 弹窗（公式选择） -->\r\n      <el-dialog v-if=\"dialogShow.premAmountFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n                 :show-close=\"false\" :visible.sync=\"dialogShow.premAmountFormulaSelect\" append-to-body center\r\n                 width=\"70%\" @close=\"changeDialogVisible_formulaSelect(false)\">\r\n        <premAmountFormulaSelect :calculationFormulaType=\"calculationFormulaType\" :guaranteeDetails=\"guaranteeDetails\"\r\n                                 :pdUwSiTypeDtOptions=\"pdUwSiTypeDtOptions\" :pdUwSiTypeOptions=\"pdUwSiTypeOptions\"\r\n                                 @bringInCalcCode=\"bringInCalcCode\"\r\n                                 @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormulaSelect>\r\n      </el-dialog>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapGetters} from \"vuex\"\r\nimport {getPayDate, getPdAttrInfo, getPdClsLabInfo} from \"@/api/basicinfo/pdtemppdprem\"\r\nimport {\r\n  addPdtempPdExtPrem,\r\n  deletePdtempPdExtPrem,\r\n  getAllPremium,\r\n  updatePdtempPdExtPrem\r\n} from \"@/api/basicinfo/pdtemppdextprem\"\r\nimport pdDiscountFormula\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula\"\r\nimport pdDiscountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula-select\"\r\nimport premAmountFormula from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula\"\r\nimport premAmountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula-select\"\r\nimport premRules from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule\"\r\nimport premRulesSelect from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-rule-select\"\r\n\r\nimport guide from '@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/guide'\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: \"underwritingAddition\",\r\n  filters: {\r\n    filter_dateSuffix(code) {\r\n      return _this.getCodeName('pd_prem_date_suffix', code, true)\r\n    },\r\n    filter_freq(code) {\r\n      return _this.getCodeName('pd_prem_freq', code)\r\n    },\r\n    filter_startCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_rule', code)\r\n    },\r\n    filter_endCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_rule', code)\r\n    },\r\n    filter_startCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_method', code)\r\n    },\r\n    filter_endCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_method', code)\r\n    },\r\n    filter_additionType(code) {\r\n      return _this.getCodeName('pd_prem_addition_type', code)\r\n    },\r\n    filter_additionMode(code) {\r\n      return _this.getCodeName('pd_prem_addition_mode', code)\r\n    },\r\n    filter_accountType(code) {\r\n      return _this.getCodeName('pd_prem_account_type', code)\r\n    },\r\n    filter_additionPayPerson(code) {\r\n      return _this.getCodeName('pdAddPremObj', code)\r\n    },\r\n    filter_additionAdditionMode(code) {\r\n      return _this.getCodeName('pd_prem_addition_addition_mode', code)\r\n    },\r\n    filter_payZero(code) {\r\n      return _this.getCodeName('pd_prem_zero', code)\r\n    },\r\n    filter_serviceChargeOffset(code) {\r\n      return _this.getCodeName('pd_prem_service_charge_offset', code)\r\n    },\r\n    filter_pdCmpnType(code) {\r\n      return _this.getCodeName('preferentialType', code)\r\n    },\r\n    filter_pdCmpnCalcMode(code) {\r\n      return _this.getCodeName('preferentialClculationType', code)\r\n    },\r\n    filter_pdCmpnRange(code) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.pdPremCode === code) {\r\n          return def.pdPremCode + \":\" + def.pdPayName\r\n        }\r\n      }\r\n      for (const def of _this.additionTableData) {\r\n        if (def.pdExtPremCode === code) {\r\n          return def.pdExtPremCode + \":\" + def.pdExtPremName\r\n        }\r\n      }\r\n      return code\r\n    },\r\n    filter_payUrging(code) {\r\n      return _this.getCodeName('pd_prem_urging', code)\r\n    },\r\n    filter_payFrequency(code) {\r\n      return _this.getCodeName('paymentFrequency', code)\r\n    },\r\n    filter_paydatevalue(code) {\r\n      return _this.getCodeName('pdPayEndCalMode', code)\r\n    },\r\n    filter_paymentId(pdPremId) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.id === pdPremId) {\r\n          return def.pdPayName\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n    filter_pdPayStartPeriod(list) {\r\n      let returnData = ''\r\n      if (list.length) {\r\n        list.forEach(data => {\r\n          if (returnData.length) {\r\n            returnData += ','\r\n          }\r\n          returnData += data.pdPayStartPeriod\r\n          returnData += _this.getCodeName('pd_prem_date_suffix', data.pdPayStartPerUnit, true)\r\n        })\r\n      }\r\n      return returnData\r\n    },\r\n    filter_pdPayEndPeriod(list) {\r\n      let returnData = ''\r\n      if (list.length) {\r\n        list.forEach(data => {\r\n          if (returnData.length) {\r\n            returnData += ','\r\n          }\r\n          returnData += data.pdPayEndPeriod\r\n          returnData += _this.getCodeName('pd_prem_date_suffix', data.pdPayEndUnit, true)\r\n        })\r\n      }\r\n      return returnData\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      productCalcRevisionShowINfo: false,\r\n      pdPayFreqCopy: [],\r\n      quickfilterHandlerList0: [],\r\n      quickfilterHandlerList1: [],\r\n      quickfilterHandlerList2: [],\r\n      quickfilterHandlerList3: [],\r\n      filterHandlerList0: [],\r\n      filterHandlerList1: [],\r\n      filterHandlerList2: [],\r\n      filterHandlerList3: [],\r\n      filterHandlerList4: [],\r\n      filterpdExtPremNameList1: [],\r\n      filterpdExtPremNameList2: [],\r\n      detailTypeOptionList: [],\r\n      payDateForm: {\r\n        payDateTable: [],\r\n      },\r\n      tableCount: 0,\r\n      tableCountDiscount: 0,\r\n      pdCmpnCalcCode1: '',\r\n      flag1: 0,\r\n      //公式\r\n      dialogShow: {\r\n        premAmountFormula: false,\r\n        premAmountFormulaSelect: false\r\n      },\r\n      guaranteeDetails: '',\r\n      calculationFormulaType: '',\r\n      pdUwSiTypeOptions: '',\r\n      pdUwSiTypeDtOptions: '',\r\n      pdDisCount: '',\r\n      //规则\r\n      dialogRulesShow: {\r\n        premRules: false,\r\n        premRulesSelect: false\r\n      },\r\n      showPageFlag: 0,\r\n      defTableData: [],\r\n      additionTableData: [],\r\n      additionAddTableData: [],\r\n      pdCmpnTypeFilters: [],\r\n      rowIndex: '-1',\r\n      orderIndexArr_addition: [],\r\n      orderIndexArr_addition_add: [],\r\n      orderIndexArr_addition_discount: [],\r\n      hoverOrderArr: [],\r\n      quickicon_discount: \"el-icon-arrow-right\",\r\n      quickshow: false,\r\n      filterDiscountCode: [],\r\n      pdCmpnRangeFilters: [],\r\n      productOriginalList: [],\r\n      productList: [],\r\n      selectedReferenceProductId: undefined,\r\n      form_quick: {\r\n        typeRegion: '',\r\n      },\r\n      params: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdPremCalMode: '',\r\n        accountRelated: '',\r\n        extraPremiumFlag: '',\r\n        eq_id: '',\r\n        byPage: 'Y',\r\n        finelinesRegion: '',\r\n        firstOpenPageFlag: 'Y',\r\n      },\r\n      params_currentProduct: {\r\n        eq_pdInfoId: undefined,\r\n        like_payName: '',\r\n        eq_payCode: ''\r\n      },\r\n      params_addition: {\r\n        premiumList: []\r\n      },\r\n      configRangeLength: '',\r\n      filterCmpnType: '1$D$I',\r\n      addFeeFlag: true,\r\n      discountFlag: 'N',\r\n      selectedDiscount: {},\r\n      selectedDef: {},\r\n      selectedDefInQueryResult: {},\r\n      selectedAddition: {},\r\n      selectedAdditionAdds: [],\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: undefined,\r\n        pdStartPeriodUnit: '',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: undefined,\r\n        pdEndPeriodUnit: '',\r\n        pdGracePeriod: undefined,\r\n        pdObservationDay: undefined,\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        pdStartDate: undefined,\r\n        pdStopDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      product_extra: {\r\n        typeRegion: '',\r\n        pdPayFreq: []\r\n      },\r\n      form_def: {},\r\n      form_addition: {\r\n        id: undefined,\r\n        pdPremId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdExtPremCode: '',\r\n        pdExtPremName: '',\r\n        pdPremName: '',\r\n        pdPremCode: '',\r\n        pdExtPremObj: '',\r\n        pdExtPremMode: '',\r\n        pdExtPremType: '',\r\n        pdMaxVal: undefined,\r\n        pdExtPremCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_addition_add: {\r\n        id: undefined,\r\n        pdPremId: [],\r\n        pdExtPremObj: [\"2\"],\r\n        pdExtPremMode: [],\r\n        pdExtPremType: [],\r\n        pdExtPremCalcCode: ''\r\n      },\r\n      pageFlag: {\r\n        tableVisible_def: true,\r\n        dialogVisible_additionType: false,\r\n        dialogVisible_queryResult: false,\r\n        additionFlag: false\r\n      },\r\n      displayName_additionType: '',\r\n      isFixed: false,\r\n      fixedClassName: '',\r\n      filters: {\r\n        pdAddPremMode: [],\r\n        pdPremCalMode: [],\r\n        pdPayAccKind: []\r\n      },\r\n      rules: {\r\n        pdPayEndPeriod: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_date'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdPayName: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_name'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdPremCalMode: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_calc_method'),\r\n          trigger: 'change'\r\n        }],\r\n        pdExtPremName: [{required: true, message: \"请输入加费名称\", trigger: 'blur'}],\r\n        pdPremId: [{required: true, message: \"请选择加费对象\", trigger: 'blur'}],\r\n        pdExtPremObj: [{required: true, message: \"请选择加费对象\", trigger: 'blur'}],\r\n        pdExtPremMode: [{required: true, message: \"请选择加费方式\", trigger: 'blur'}],\r\n        pdExtPremType: [{required: true, message: \"请选择加费类型\", trigger: 'blur'}],\r\n      },\r\n      rules_count: {\r\n        pdPremId: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_name'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnRange: [{\r\n          type: 'array',\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_discount_range'),\r\n          trigger: 'change'\r\n        }],\r\n        pdCmpnType: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_discount_type'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnOrder: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_discount_order'),\r\n          trigger: 'blur'\r\n        }],\r\n        pdCmpnCalcMode: [{\r\n          required: true,\r\n          message: this.$t('pdaddition.message.please_enter') + this.$t('pdaddition.pay_calc_method'),\r\n          trigger: 'change'\r\n        }]\r\n      },\r\n      rules_quick: {\r\n        finelinesRegion: [{\r\n          required: true,\r\n          message: this.$t('form.please_select') + this.$t('pdaddition.finelinesRegion'),\r\n          trigger: 'change'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    premAmountFormula,\r\n    premAmountFormulaSelect,\r\n    premRules,\r\n    premRulesSelect,\r\n    pdDiscountFormula,\r\n    pdDiscountFormulaSelect,\r\n    guide\r\n  },\r\n  async created() {\r\n    // 带入产品信息\r\n    let pdtempPdInfo = this.getPdData()\r\n    if (Object.keys(pdtempPdInfo).length > 0) {\r\n      this.product = pdtempPdInfo\r\n      this.params_currentProduct.eq_pdInfoId = this.product.id\r\n      this.form_def.pdInfoId = this.product.id\r\n      this.form_def.pdVerId = this.product.pdVerId\r\n      this.form_def.pdCode = this.product.pdCode\r\n      this.form_def.pdName = this.product.pdName\r\n      this.params.finelinesRegion = pdtempPdInfo.cType\r\n    } else {\r\n      this.notifyError('无法获取产品信息')\r\n      return\r\n    }\r\n    await this.init()\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n    if (!this.productCalcRevisionShowINfo) {\r\n      this.form_def.pdPremAddFlag = 'Y'\r\n      this.form_def.pdPayStartCalMode = '0'\r\n      this.form_def.pdPayStartCalRule = 'S'\r\n      this.form_def.pdPayEndCalMode = '0'\r\n      this.form_def.pdPayEndCalRule = 'S'\r\n      this.form_def.pdPayDateValue = '1'\r\n      await this.getAllPremium()\r\n    } else {\r\n      this.form_def.pdPremAddFlag = 'Y'\r\n      await this.getAllPremium()\r\n    }\r\n    this.$nextTick(() => {\r\n      this.$refs.page_addition.buildData()\r\n    })\r\n  },\r\n  mounted() {\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'ldcodes',\r\n      'sidebar'\r\n    ])\r\n  },\r\n  watch: {\r\n    'form_addition_add.pdExtPremType'() {\r\n      this.displayName_additionType = ''\r\n      const additionTypeList_selected = this._.filter(this.ldcodes['pd_prem_addition_type'], function (additionType) {\r\n        return _this.isInArray(additionType.code, _this.form_addition_add.pdExtPremType)\r\n      })\r\n      if (additionTypeList_selected && additionTypeList_selected.length > 0) {\r\n        additionTypeList_selected.forEach((additionType, index) => {\r\n          if (index === 0) {\r\n            this.displayName_additionType += additionType.codename\r\n          } else {\r\n            this.displayName_additionType += ', ' + additionType.codename\r\n          }\r\n        })\r\n      } else {\r\n        this.displayName_additionType = ''\r\n      }\r\n    },\r\n    'additionTableData'() {\r\n      if (this.additionTableData.length > 0) {\r\n        this.filterpdExtPremNameList1 = []\r\n        this.filterpdExtPremNameList2 = []\r\n        this.additionTableData.forEach(val => {\r\n          this.filterpdExtPremNameList1.push({\r\n            text: val.pdExtPremName,\r\n            value: val.pdExtPremName\r\n          })\r\n          this.filterpdExtPremNameList2.push({\r\n            text: this.getCodeName('pd_prem_addition_type', val.pdExtPremType),\r\n            value: val.pdExtPremType\r\n          })\r\n        })\r\n      }\r\n      this.filterpdExtPremNameList1 = this.filterpdExtPremNameList1.reduce(function (prev, element) {\r\n        if (!prev.find(el => el.text === element.text)) {\r\n          prev.push(element)\r\n        }\r\n        return prev\r\n      }, [])\r\n      this.filterpdExtPremNameList2 = this.filterpdExtPremNameList2.reduce(function (prev, element) {\r\n        if (!prev.find(el => el.text === element.text)) {\r\n          prev.push(element)\r\n        }\r\n        return prev\r\n      }, [])\r\n      this.selectedAddition = {}\r\n      this.resetFormAddition()\r\n      if (this.additionTableData.length === 1) {\r\n        this.selectedAddition = this.additionTableData[0]\r\n        this.selectedAdditionChanged()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    bringInCalcCode(pdBussDetailType, pdBussId, calcCode) {\r\n      switch (pdBussDetailType) {\r\n        case '19':\r\n          for (const extPrem of this.additionTableData) {\r\n            if (extPrem.id === Number(pdBussId)) {\r\n              this.$set(extPrem, 'pdExtPremCalcCode', calcCode)\r\n              break\r\n            }\r\n          }\r\n          if (this.form_addition.id === Number(pdBussId)) {\r\n            this.form_addition.pdExtPremCalcCode = calcCode\r\n          }\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    //公式\r\n    goClicks(num1, num2) {\r\n      this.guaranteeDetails = num1//业务大类\r\n      this.calculationFormulaType = num2//业务细类\r\n      if (num2 === '19') {//加费\r\n        this.pdUwSiTypeOptions = this.selectedAddition.pdPremId + \":\" + this.selectedAddition.pdPremCode\r\n        this.pdUwSiTypeDtOptions = this.selectedAddition.id + \":\" + this.selectedAddition.pdExtPremCode\r\n      } else {//缴费\r\n        this.pdUwSiTypeOptions = this.selectedDef.id ? this.selectedDef.id + \":\" + this.selectedDef.pdPremCode : this.form_defAdd.id + \":\" + this.form_defAdd.pdPremCode\r\n        this.pdUwSiTypeDtOptions = ''\r\n      }\r\n      this.dialogShow.premAmountFormula = true\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogShow.premAmountFormula = flag\r\n    },\r\n    changeDialogVisible_formulaSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      } else {\r\n        this.dialogShow.premAmountFormula = false\r\n        this.$nextTick(() => {\r\n          this.dialogShow.premAmountFormula = true\r\n        })\r\n      }\r\n      this.dialogShow.premAmountFormulaSelect = flag\r\n    },\r\n    filterHandler(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"]\r\n        return row[property] === value\r\n      }\r\n    },\r\n    filterHandlerDiscount(value, row, column) {\r\n      if (column) {\r\n        const property = column[\"property\"]\r\n        return row[property] === value\r\n      }\r\n    },\r\n    //规则\r\n    goRules(num1, num2) {\r\n      this.guaranteeDetails = num1//业务大类\r\n      this.calculationFormulaType = num2//业务细类\r\n      this.dialogRulesShow.premRules = true\r\n      this.pdUwSiTypeOptions = this.form_def.id + \":\" + this.form_def.pdPremCode\r\n    },\r\n    filter_pdCmpnRanges(code) {\r\n      for (const def of _this.defTableData) {\r\n        if (def.pdPremCode === code) {\r\n          return def.pdPremCode + \":\" + def.pdPayName\r\n        }\r\n      }\r\n      for (const def of _this.additionTableData) {\r\n        if (def.pdExtPremCode === code) {\r\n          return def.pdExtPremCode + \":\" + def.pdExtPremName\r\n        }\r\n      }\r\n      return code\r\n    },\r\n    changeDialogVisible_rules(flag) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = this.pdtempPdBnft\r\n      }\r\n      this.dialogRulesShow.premRules = flag\r\n    },\r\n    changeDialogVisible_rulesSelect(flag, guaranteeDetails, calculationFormulaType, prem, extPrem) {\r\n      if (flag === true) {\r\n        this.pdUwSiTypeOptions = prem\r\n        this.pdUwSiTypeDtOptions = extPrem\r\n        this.guaranteeDetails = guaranteeDetails\r\n        this.calculationFormulaType = calculationFormulaType\r\n      }\r\n      this.dialogRulesShow.premRulesSelect = flag\r\n    },\r\n    // 页面初始化\r\n    init() {\r\n      this.init_filters()\r\n      this.init_pay_frequency()\r\n      this.init_pay_date()\r\n      this.init_typeRegion()\r\n    },\r\n    async getAllPremium() {\r\n      const params = {\r\n        pdInfoId: this.product.id\r\n      }\r\n      await getAllPremium(this.buildRequestData(params)).then(response => {\r\n        this.params_addition.premiumList = response.data\r\n        this.defTableData = response.data\r\n      })\r\n    },\r\n    // 获取缴费频率\r\n    init_pay_frequency() {\r\n      const paramsMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId,\r\n        pd_atrs_code: 'payintv'\r\n      }\r\n      getPdAttrInfo(this.buildRequestData(paramsMap)).then(response => {\r\n        const pdTempAtrsList = response.data\r\n        this.product_extra.pdPayFreq = this._.map(pdTempAtrsList, 'pdAtrsVal')\r\n        this.pdPayFreqCopy = this._.map(pdTempAtrsList, 'pdAtrsVal')\r\n      })\r\n    },\r\n    //获取产品分类标记表信息催缴标记\r\n    init_typeRegion() {\r\n      const paramsMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId,\r\n        pd_cls_type: '2'\r\n      }\r\n      getPdClsLabInfo(this.buildRequestData(paramsMap)).then(response => {\r\n        const pdTempClsLabList = response.data\r\n        const pdCls6Array = this._.map(pdTempClsLabList, 'pdCls6')\r\n        if (pdCls6Array.length > 0) {\r\n          this.form_def.pdUrgePayFlag = pdCls6Array[0]\r\n        }\r\n      })\r\n    },\r\n    //获取缴费期间\r\n    init_pay_date() {\r\n      const payMap = {\r\n        pd_info_id: this.params_currentProduct.eq_pdInfoId\r\n      }\r\n      getPayDate(this.buildRequestData(payMap)).then(response => {\r\n        this.form_def.pdPayEndPeriod = response.data.pdPayPeriod\r\n      })\r\n    },\r\n    // 初始化筛选器\r\n    init_filters() {\r\n      let ldcode_pdPremCalMode = this.ldcodes['pd_prem_cal_method']\r\n      let ldcode_pdAddPremMode = this.ldcodes['pd_prem_addition_mode']\r\n      let ldcode_pdPayAccKind = this.ldcodes['pd_prem_account_type']\r\n      if (ldcode_pdPremCalMode instanceof Array) {\r\n        for (const item of ldcode_pdPremCalMode) {\r\n          this.filters.pdPremCalMode.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n      if (ldcode_pdAddPremMode instanceof Array) {\r\n        for (const item of ldcode_pdAddPremMode) {\r\n          this.filters.pdAddPremMode.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n      if (ldcode_pdPayAccKind instanceof Array) {\r\n        for (const item of ldcode_pdPayAccKind) {\r\n          this.filters.pdPayAccKind.push({text: item.codename, value: item.code})\r\n        }\r\n      }\r\n    },\r\n    filter_pdPremCalMode(value, row) {\r\n      return row.pdPremCalMode === value\r\n    },\r\n    filter_pdAddPremMode(value, row) {\r\n      return row.pdAddPremMode === value\r\n    },\r\n    filter_pdPayAccKind(value, row) {\r\n      return row.pdPayAccKind === value\r\n    },\r\n    rowClick_addition(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedAddition.id) {\r\n          this.cancelUpdateAddition()\r\n        }\r\n      }\r\n    },\r\n    selectedAdditionChanged() {\r\n      this.resetFormAddition()\r\n      Object.assign(this.form_addition, this.selectedAddition)\r\n    },\r\n    selectAllAdditionType() {\r\n      for (const additionType of this.ldcodes['pd_prem_addition_type']) {\r\n        this.form_addition_add.pdExtPremType.push(additionType.code)\r\n      }\r\n    },\r\n    handleAddAddition() {\r\n      this.$refs.form_addition_add.validate(pass => {\r\n        if (pass) {\r\n          if (this.form_addition_add.pdPremId.length === 0 || this.form_addition_add.pdExtPremObj.length === 0 || this.form_addition_add.pdExtPremMode.length === 0 || this.form_addition_add.pdExtPremType.length === 0) {\r\n            this.notifyError(this.$t('pdaddition.message.error_incomplete_information'))\r\n            return\r\n          }\r\n          if (this.defTableData && this.defTableData.length > 0) {\r\n            // 验证选择的缴费信息是否全部有效\r\n            let paymentIds = this.form_addition_add.pdPremId\r\n            let paymentIds_available = this._.map(this.defTableData, 'id')\r\n            for (const paymentId of paymentIds) {\r\n              if (!this.isInArray(paymentId, paymentIds_available)) {\r\n                this.notifyError(this.$t('pdaddition.message.error_unavailable_def'))\r\n                return\r\n              }\r\n            }\r\n            // 通过验证，开始创建\r\n            let array = this.buildArray(paymentIds, this.form_addition_add.pdExtPremObj, this.form_addition_add.pdExtPremMode, this.form_addition_add.pdExtPremType)\r\n            for (const arrayItem of array) {\r\n              this.form_addition = Object.assign({}, this.form_addition_add)\r\n              arrayItem.forEach((value, index) => {\r\n                if (index === 0) {\r\n                  this.form_addition.pdPremId = value\r\n                } else if (index === 1) {\r\n                  this.form_addition.pdExtPremObj = value\r\n                } else if (index === 2) {\r\n                  this.form_addition.pdExtPremMode = value\r\n                } else if (index === 3) {\r\n                  this.form_addition.pdExtPremType = value\r\n                }\r\n              })\r\n              // 为 payName 和 payCode 赋值\r\n              for (const def of this.defTableData) {\r\n                if (def.id === this.form_addition.pdPremId) {\r\n                  this.form_addition.pdPremName = def.pdPayName\r\n                  this.form_addition.pdPremCode = def.pdPremCode\r\n                  break\r\n                }\r\n              }\r\n              // 为 pdInfoId 赋值\r\n              this.form_addition.pdInfoId = this.product.id\r\n              // 为 pdCode 赋值\r\n              this.form_addition.pdCode = this.product.pdCode\r\n              // 为 pdVerId 赋值\r\n              this.form_addition.pdVerId = this.product.pdVerId\r\n              // 为 pdPremCalcCode 赋值\r\n              this.form_addition.pdExtPremCalcCode = this.form_addition_add.pdExtPremCalcCode\r\n              //为加费名称赋初始值\r\n              let pdAddPremObj = this.getCodeName('pdAddPremObj', this.form_addition.pdExtPremObj, true)\r\n              let pd_prem_addition_addition_mode = this.getCodeName('pd_prem_addition_addition_mode', this.form_addition.pdExtPremMode, true)\r\n              let pd_prem_addition_type = this.getCodeName('pd_prem_addition_type', this.form_addition.pdExtPremType, true)\r\n              this.$set(this.form_addition, 'pdExtPremName', pdAddPremObj + pd_prem_addition_addition_mode + pd_prem_addition_type)\r\n              this.additionAddTableData.push(this.form_addition)\r\n            }\r\n            this.getOrderNumber('addition_add')\r\n            this.resetFormAddition()\r\n            this.resetFormAdditionAdd()\r\n            this.notifySuccess(this.$t('successMessage.add'))\r\n          } else {\r\n            this.notifyError(this.$t('pdaddition.message.error_def_no_define'))\r\n          }\r\n        }\r\n      })\r\n\r\n    },\r\n    buildArray(paymentIds, additionPayPersonTypes, additionModes, additionTypes) {\r\n      let array = []\r\n      let array_item = []\r\n      let array_paymentId = ''\r\n      let array_additionPayPersonType = ''\r\n      let array_additionMode = ''\r\n      let array_additionType = ''\r\n      for (const paymentId of paymentIds) {\r\n        array_paymentId = paymentId\r\n        for (const additionPayPersonType of additionPayPersonTypes) {\r\n          array_additionPayPersonType = additionPayPersonType\r\n          for (const additionMode of additionModes) {\r\n            array_additionMode = additionMode\r\n            for (const additionType of additionTypes) {\r\n              array_additionType = additionType\r\n              array_item.push(array_paymentId, array_additionPayPersonType, array_additionMode, array_additionType)\r\n              array.push(array_item)\r\n              array_item = []\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return array\r\n    },\r\n    handleUpdateAddition() {\r\n      this.$refs.form_addition.validate(pass => {\r\n        if (pass) {\r\n          updatePdtempPdExtPrem(this.form_addition).then(() => {\r\n            this.$refs.page_addition.buildData().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.update'))\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cancelUpdateAddition() {\r\n      this.resetFormAddition()\r\n      this.selectedAddition = {}\r\n    },\r\n    handleDeleteAddition(row) {\r\n      deletePdtempPdExtPrem(row.id).then(() => {\r\n        let operationFlag\r\n        if (this._.includes(this.additionTableData, this.selectedAddition)) {\r\n          if (this.additionTableData.length === 1 && this.$refs.page_addition.page > 1) {\r\n            this.$refs.page_addition.page -= 1\r\n          }\r\n          operationFlag = 'buildData'\r\n        } else {\r\n          operationFlag = 'reload'\r\n        }\r\n        switch (operationFlag) {\r\n          case 'buildData':\r\n            this.$refs.page_addition.buildData().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n          case 'reload':\r\n            this.$refs.page_addition.reload().then(() => {\r\n              this.resetFormAddition()\r\n              this.selectedAddition = {}\r\n              this.notifySuccess(this.$t('successMessage.delete'))\r\n            })\r\n            break\r\n        }\r\n      })\r\n    },\r\n    // 动态表格多选框\r\n    handleSelectionChange(val) {\r\n      this.selectedAdditionAdds = val\r\n    },\r\n    handleDeleteAdditionAdd(form_addition) {\r\n      this.additionAddTableData.splice(this.additionAddTableData.indexOf(form_addition), 1)\r\n      this.selectedAdditionAdds.splice(this.additionAddTableData.indexOf(form_addition), 1)\r\n      this.getOrderNumber('addition_add')\r\n      this.notifySuccess(this.$t('successMessage.delete'))\r\n    },\r\n    handleSaveAdditionAdd() {\r\n      let num = 0\r\n      for (num = 0; num < this.selectedAdditionAdds.length; num++) {\r\n        if (!this.selectedAdditionAdds[num].pdExtPremName) {\r\n          this.notifyError(\"请输入加费名称\")\r\n          return\r\n        }\r\n        if (this.selectedAdditionAdds[num].pdExtPremMode === '01' && !this.selectedAdditionAdds[num].pdMaxVal) {\r\n          this.notifyError(\"请输入加费上限值\")\r\n          return\r\n        }\r\n      }\r\n      const params = {\r\n        extPremList: this.selectedAdditionAdds\r\n      }\r\n      addPdtempPdExtPrem(this.buildRequestData(params)).then(() => {\r\n        this.$refs.page_addition.buildData().then(() => {\r\n          for (const selectedAdditionAdd of this.selectedAdditionAdds) {\r\n            this.additionAddTableData.splice(this.additionAddTableData.indexOf(selectedAdditionAdd), 1)\r\n          }\r\n          this.selectedAdditionAdds = []\r\n          this.getOrderNumber('addition_add')\r\n          this.notifySuccess(this.$t('successMessage.save'))\r\n        })\r\n      })\r\n    },\r\n    // 获取相同编号的数组\r\n    getOrderNumber(arrayName) {\r\n      let tableData\r\n      let orderIndexArr\r\n      if (arrayName === 'addition') {\r\n        tableData = this.additionTableData\r\n      } else if (arrayName === 'addition_add') {\r\n        tableData = this.additionAddTableData\r\n      } else if (arrayName === 'addition_discount') {\r\n        tableData = this.discountTableData\r\n      } else {\r\n        return\r\n      }\r\n      orderIndexArr = []\r\n      // 按照 paymentId 排序，将 paymentId 相同的数据连在一起\r\n      tableData = this._.orderBy(tableData, 'pdPremId', 'asc')\r\n      if (arrayName === 'addition') {\r\n        this.additionTableData = tableData\r\n      } else if (arrayName === 'addition_add') {\r\n        this.additionAddTableData = tableData\r\n      } else if (arrayName === 'addition_discount') {\r\n        this.discountTableData = tableData\r\n      }\r\n      let orderObj = {}\r\n      tableData.forEach((element, index) => {\r\n        element.rowIndex = index\r\n        if (orderObj[element.pdPremId]) {\r\n          orderObj[element.pdPremId].push(index)\r\n        } else {\r\n          orderObj[element.pdPremId] = []\r\n          orderObj[element.pdPremId].push(index)\r\n        }\r\n      })\r\n      // 需要合并的行的index已经存在了同一个数组里，把这些数组存储到 this.orderIndexArr\r\n      for (let k in orderObj) {\r\n        orderIndexArr.push(orderObj[k])\r\n      }\r\n      if (arrayName === 'addition') {\r\n        this.orderIndexArr_addition = orderIndexArr\r\n      } else if (arrayName === 'addition_add') {\r\n        this.orderIndexArr_addition_add = orderIndexArr\r\n      } else if (arrayName === 'addition_discount') {\r\n        this.orderIndexArr_addition_discount = orderIndexArr\r\n      }\r\n    },\r\n    // 合并单元格\r\n    objectSpanMethod_addition({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition.length; i++) {\r\n          let element = this.orderIndexArr_addition[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    objectSpanMethod_addition_add({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition_add.length; i++) {\r\n          let element = this.orderIndexArr_addition_add[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //优惠表格合并\r\n    objectSpanMethod_discount({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition_discount.length; i++) {\r\n          let element = this.orderIndexArr_addition_discount[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 清空缴费定义表单\r\n    clearFormDef() {\r\n      const id = this.form_def.id\r\n      const frequency = this.form_def.frequency\r\n      if (id) {\r\n        this.form_def.frequency = frequency\r\n        this.form_def = this.selectedDef\r\n        const arr = this.form_def.pdPayFrequency\r\n        if (arr) {\r\n          this.product_extra.pdPayFreq = eval('(' + arr + ')')\r\n        } else {\r\n          this.product_extra.pdPayFreq = []\r\n        }\r\n      } else {\r\n        this.init_pay_frequency()\r\n        this.resetFormDef()\r\n        this.form_def.id = id\r\n        this.form_def.frequency = frequency\r\n        this.selectedDef = {}\r\n        this.form_def.pdPremAddFlag = 'Y'\r\n        this.form_def.pdPayStartCalMode = '0'\r\n        this.form_def.pdPayStartCalRule = 'S'\r\n        this.form_def.pdPayEndCalMode = '0'\r\n        this.form_def.pdPayEndCalRule = 'S'\r\n        this.form_def.pdPayDateValue = '1'\r\n        this.init_pay_date()\r\n      }\r\n    },\r\n    // 清空加费定义表单\r\n    clearFormAddition() {\r\n      this.selectedAdditionChanged()\r\n    },\r\n    //重置优惠对象\r\n    resetDiscountForm() {\r\n      this.form_count = {\r\n        pdVerId: '',\r\n        operator: '',\r\n        pdType: '',\r\n        pdDefType: '',\r\n        pdInfoId: '',\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdPremId: '',\r\n        pdPremCode: '',\r\n        pdCmpnRange: [],\r\n        pdCmpnType: '',\r\n        cmpnInfoId: '',\r\n        pdCmpnCode: '',\r\n        pdCmpnOrder: this.configRangeLength,\r\n        pdCmpnCalcMode: '',\r\n        pdCmpnVal: '',\r\n        pdCmpnCalcCode: '',\r\n        pdCmpnDesc: ''\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_count.clearValidate()\r\n      })\r\n    },\r\n    // 重置缴费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormDef() {\r\n      this.form_def = {\r\n        id: undefined,\r\n        pdInfoId: undefined,\r\n        pdVerId: undefined,\r\n        pdCode: '',\r\n        pdName: '',\r\n        operator: '',\r\n        pdPayName: '',\r\n        pdPremCode: '',\r\n        pdPremCalMode: 'G',\r\n        pdPremZeroFlag: 'Y',\r\n        pdPremReclFlag: 'N',\r\n        pdUrgePayFlag: 'Y',\r\n        pdPayStartPeriod: undefined,\r\n        pdPayStartPerUnit: 'Y',\r\n        pdPayStartCalRule: 'S',\r\n        pdPayStartCalMode: '0',\r\n        pdPayEndPeriod: undefined,\r\n        pdPayEndUnit: 'Y',\r\n        pdPayEndCalRule: 'S',\r\n        pdPayEndCalMode: '0',\r\n        pdAddPremMode: '',\r\n        pdPayAccKind: '',\r\n        pdCharPremRel: 'N',\r\n        pdRateChangeFlag: 'N',\r\n        pdPremAddFlag: 'N',\r\n        pdPremStartFlag: 'N',\r\n        pdPremAccRela: 'N',\r\n        pdPremCalcCode: '',\r\n        pdPayDateValue: '1'\r\n      }\r\n      this.form_def.pdInfoId = this.product.id\r\n      this.form_def.pdVerId = this.product.pdVerId\r\n      this.form_def.pdCode = this.product.pdCode\r\n      this.form_def.pdName = this.product.pdName\r\n      this.payDateForm = {\r\n        payDateTable: [],\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form_def.clearValidate()\r\n      })\r\n    },\r\n    // 重置加费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormAddition() {\r\n      this.form_addition = {\r\n        id: undefined,\r\n        pdPremId: undefined,\r\n        pdVerId: undefined,\r\n        operator: '',\r\n        pdExtPremCode: '',\r\n        pdExtPremName: '',\r\n        pdPremName: '',\r\n        pdPremCode: '',\r\n        pdExtPremObj: '',\r\n        pdExtPremMode: '',\r\n        pdExtPremType: '',\r\n        pdMaxVal: undefined,\r\n        pdExtPremCalcCode: '',\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      }\r\n      if (this.$refs.form_addition) {\r\n        this.$refs.form_addition.clearValidate()\r\n      }\r\n    },\r\n    // 重置临时加费对象（相当于 new 了一个对象，具有解除双向绑定的效果）\r\n    resetFormAdditionAdd() {\r\n      this.form_addition_add = {\r\n        id: undefined,\r\n        pdPremId: [],\r\n        pdExtPremObj: [],\r\n        pdExtPremMode: [],\r\n        pdExtPremType: [],\r\n        pdExtPremCalcCode: ''\r\n      }\r\n      if (this.$refs.form_addition_add) {\r\n        this.$refs.form_addition_add.clearValidate()\r\n      }\r\n    },\r\n    showAddFee() {\r\n      this.addFeeFlag = !this.addFeeFlag\r\n    },\r\n    addPayRow() {\r\n      this.payDateForm.payDateTable.push({\r\n        pdPayEndPeriod: '',\r\n        pdPayEndUnit: 'Y',\r\n        pdPayStartPeriod: '',\r\n        pdPayStartPerUnit: 'Y'\r\n      })\r\n    },\r\n    delPayRow(index, row) {\r\n      this.payDateForm.payDateTable.splice(index, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-operation-def/pd-underwriting-def/underwriting-addition"}]}
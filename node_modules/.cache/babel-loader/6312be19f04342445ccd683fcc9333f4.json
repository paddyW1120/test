{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\prem-formula\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\prem-formula\\index.vue","mtime":1609847106897},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIpOwoKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpKTsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX3ByZW1BbW91bnRGb3JtdWxhID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3ByZW1BbW91bnRGb3JtdWxhIik7Cgp2YXIgX2FjY2VwdEluc3VyYW5jZVJ1bGVzID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL2FjY2VwdEluc3VyYW5jZVJ1bGVzIik7Cgp2YXIgX3hsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInhsc3giKSk7Cgp2YXIgX3BkdGVtcHBkcHJlbSA9IHJlcXVpcmUoIkAvYXBpL2Jhc2ljaW5mby9wZHRlbXBwZHByZW0iKTsKCnZhciBfcHJlbUZvcm11bGFTZWxlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtc3RydWN0dXJlLWRlZi9wYXltZW50LWRlZi9wcmVtLWZvcm11bGEtc2VsZWN0IikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF90aGlzOwoKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdwcmVtRm9ybXVsYScsCiAgY29tcG9uZW50czogewogICAgcHJlbUFtb3VudEZvcm11bGFTZWxlY3Q6IF9wcmVtRm9ybXVsYVNlbGVjdC5kZWZhdWx0CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJfcGRCdXNzVHlwZTogZnVuY3Rpb24gZmlsdGVyX3BkQnVzc1R5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3J1bGVCdXNpbmVzc01vZHVsZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlOiBmdW5jdGlvbiBmaWx0ZXJfcGRCdXNzRGV0YWlsVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGRQYXlFbmRVbml0OiBmdW5jdGlvbiBmaWx0ZXJfcGRQYXlFbmRVbml0KGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZHNibmZ0ZHknLCBjb2RlLCB0cnVlKTsKICAgIH0sCiAgICBmaWx0ZXJfY2FsY01ldGhvZDogZnVuY3Rpb24gZmlsdGVyX2NhbGNNZXRob2QoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fY2FsX21ldGhvZCcsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9wYXlaZXJvOiBmdW5jdGlvbiBmaWx0ZXJfcGF5WmVybyhjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV96ZXJvJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3N0YXJ0Q2FsY1J1bGU6IGZ1bmN0aW9uIGZpbHRlcl9zdGFydENhbGNSdWxlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX3N0YXJ0X2NhbGNfcnVsZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9zdGFydENhbGNNZXRob2Q6IGZ1bmN0aW9uIGZpbHRlcl9zdGFydENhbGNNZXRob2QoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkX3ByZW1fc3RhcnRfY2FsY19tZXRob2QnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfZW5kQ2FsY1J1bGU6IGZ1bmN0aW9uIGZpbHRlcl9lbmRDYWxjUnVsZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9lbmRfY2FsY19ydWxlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX2VuZENhbGNNZXRob2Q6IGZ1bmN0aW9uIGZpbHRlcl9lbmRDYWxjTWV0aG9kKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2VuZF9jYWxjX21ldGhvZCcsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9wZEV4dFByZW1PYmo6IGZ1bmN0aW9uIGZpbHRlcl9wZEV4dFByZW1PYmooY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3BkQWRkUHJlbU9iaicsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9wZEV4dFByZW1UeXBlOiBmdW5jdGlvbiBmaWx0ZXJfcGRFeHRQcmVtVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncGRfcHJlbV9hZGRpdGlvbl90eXBlJywgY29kZSk7CiAgICB9LAogICAgZmlsdGVyX3BkRXh0UHJlbU1vZGU6IGZ1bmN0aW9uIGZpbHRlcl9wZEV4dFByZW1Nb2RlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZF9wcmVtX2FkZGl0aW9uX2FkZGl0aW9uX21vZGUnLCBjb2RlKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICAvLyDkuJrliqHlpKfnsbsKICAgIGd1YXJhbnRlZURldGFpbHM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICAvLyDkuJrliqHnu4bnsbsKICAgIGNhbGN1bGF0aW9uRm9ybXVsYVR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICAvLyDnvLTotLnkv6Hmga8KICAgIHBkVXdTaVR5cGVPcHRpb25zOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgLy8g5Yqg6LS55L+h5oGvCiAgICBwZFV3U2lUeXBlRHRPcHRpb25zOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICAvLyDorqLmraPmoIfor4YKICAgIHByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXzogZmFsc2UsCiAgICAgIHBhZ2U6IHVuZGVmaW5lZCwKICAgICAgcGFnZVNpemU6IHVuZGVmaW5lZCwKICAgICAgcmV2aXNpb25UeXBlOiAnJywKICAgICAgZmlsdGVyc19wZENvZGU6IFtdLAogICAgICBwYXJhbXNfcHJlbWl1bTogewogICAgICAgIGVxX3BkSW5mb0lkOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgcGFyYW1zX2V4dFByZW1pdW06IHsKICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHBhcmFtc19jdXJyZW50OiB7CiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwKICAgICAgICBlcV9wZEJ1c3NUeXBlOiAnMScsCiAgICAgICAgZXFfcGRCdXNzRGV0YWlsVHlwZTogJycsCiAgICAgICAgZXFfcGRTdHJ1Y3R1cmVUeXBlOiAnJywKICAgICAgICBlcV9wZEJ1c3NJZDogJycsCiAgICAgICAgZXFfcGRUeXBlOiAnMScKICAgICAgfSwKICAgICAgcGFyYW1zX2JyaWVmOiB7CiAgICAgICAgcHJvZHVjdDogdW5kZWZpbmVkLAogICAgICAgIHBkQnVzc0lkOiB1bmRlZmluZWQsCiAgICAgICAgcHJvZHVjdERldGFpbFR5cGU6ICcnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXyA/ICcnIDogdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlCiAgICAgIH0sCiAgICAgIGZvcm11bGFTZWxlY3RWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybXVsYVZpc2libGU6IGZhbHNlLAogICAgICBhdHRyaWJ1dGVPYmo6IHt9LAogICAgICBmb3JtdWxhVmlldzogewogICAgICAgIGZsYWc6ICcnLAogICAgICAgIHJ1bGVDb2RlOiAnJywKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICBwZXJmb3JtVHlwZTogJycKICAgICAgfSwKICAgICAgbGFuZ3VhZ2U6IG51bGwsCiAgICAgIHJ1bGVNZXNzYWdlSW5mb0JvbTogW10sCiAgICAgIHVuZGVyd3JpdGluZ1Nob3c6IGZhbHNlLAogICAgICAvL+S4iuS8oOi0ueeOh+ihqAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4OS9hcGkvcGR0ZW1wLXBkLWZpbGUvdXBMb2FkJywKICAgICAgcHJvZHVjdEJuZnRGb3JtOiB7CiAgICAgICAgcHJlbTogJycsCiAgICAgICAgZXh0UHJlbTogJycsCiAgICAgICAgRXhwcmVzc2lvblR5cGU6ICcnCiAgICAgIH0sCiAgICAgIHJhdGVGb3JtOiB7CiAgICAgICAgdnB1OiB1bmRlZmluZWQsCiAgICAgICAgcmF0ZUVkaXRpb246ICcnLAogICAgICAgIHN0YXJ0RGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGVuZERhdGU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICByYXRlRWRpdEZsYWc6IGZhbHNlLAogICAgICB2YXJpYWJsZVJhdGVGbGFnOiBmYWxzZSwKICAgICAgdGFibGVEYXRhUHJlbWl1bTogW10sCiAgICAgIHRhYmxlRGF0YUV4dFByZW1pdW06IFtdLAogICAgICB0YWJsZURhdGFGb3JtdWxhOiBbXSwKICAgICAgdGFibGVEYXRhQnJpZWZGb3JtdWxhOiBbXSwKICAgICAgc2VsZWN0ZWRGb3JtdWxhOiB7fSwKICAgICAgc2VsZWN0ZWRQcmVtaXVtSW5SZXY6IHt9LAogICAgICBzZWxlY3RlZEV4dFByZW1pdW1JblJldjoge30sCiAgICAgIHRhYmxlRGF0YUZvcm11bGFQYXJhbXM6IFtdLAogICAgICBzaG93RmxhZzogZmFsc2UsCiAgICAgIE9wdGlvbnMxOiBbXSwKICAgICAgLy/nvLTotLkKICAgICAgT3B0aW9uczI6IFtdLAogICAgICAvL+WKoOi0uQogICAgICBwcm9kdWN0OiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBiVHlwZTogJycsCiAgICAgICAgY1R5cGU6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRTYWxlY2hubDogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFNob3J0bmFtZTogJycsCiAgICAgICAgcGRFbk5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZEFwcGxEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGRhdGFHZXQ6IHt9LAogICAgICByYXRlRm9ybVJ1bGVzOiB7CiAgICAgICAgdnB1OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwcmVtRm9ybXVsYS5wbGVhc2VJbnB1dFZQVScpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICByYXRlRWRpdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlSW5wdXRFZGl0aW9uJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFibGVEYXRhQnJpZWZGb3JtdWxhOiBmdW5jdGlvbiB0YWJsZURhdGFCcmllZkZvcm11bGEoKSB7CiAgICAgIHRoaXMuZmlsdGVyc19wZENvZGUgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMudGFibGVEYXRhQnJpZWZGb3JtdWxhKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIXRoaXMuXy5pbmNsdWRlcyh0aGlzLl8ubWFwKHRoaXMuZmlsdGVyc19wZENvZGUsICd2YWx1ZScpLCBpdGVtLnBkQ29kZSkpIHsKICAgICAgICAgICAgdGhpcy5maWx0ZXJzX3BkQ29kZS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBpdGVtLnBkQ29kZSArICc6JyArIGl0ZW0ucGROYW1lLAogICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnBkQ29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubGFuZ3VhZ2U7CiAgICB0aGlzLnJ1bGVNZXNzYWdlSW5mb0JvbSA9IHRoaXMuJHN0b3JlLnN0YXRlLnJ1bGVNZXNzYWdlLnJ1bGVNZXNzYWdlczsKCiAgICBpZiAodGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fKSB7CiAgICAgIC8vIOS7juWFrOW8j+iuouato+i/m+WFpe+8jOS4jeWIneWni+WMluWFrOW8j+ihqOagvOaVsOaNru+8jOagueaNrumAieS4reeahOS4muWKoemhueWGjei/m+ihjOafpeivogogICAgICBpZiAodGhpcy5yZXZpc2lvblR5cGUgPT09ICdwcmVtaXVtJykgewogICAgICAgIHRoaXMuJHJlZnMucGFnZV9wcmVtaXVtLnJlbG9hZCgpOwogICAgICB9IGVsc2UgaWYgKHRoaXMucmV2aXNpb25UeXBlID09PSAnZXh0UHJlbWl1bScpIHsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfZXh0UHJlbWl1bS5yZWxvYWQoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8g5LuO57y06LS55a6a5LmJ6L+b5YWlCiAgICAgIHRoaXMuZmluZFByZW1CeUlkKHRoaXMucHJvZHVjdC5pZCk7CiAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0gPSB0aGlzLnBkVXdTaVR5cGVPcHRpb25zOwogICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5FeHByZXNzaW9uVHlwZSA9IHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTsKCiAgICAgIGlmICh0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMpIHsKICAgICAgICB0aGlzLmZpbmRFeHRQcmVtQnlJZCh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5wcm9kdWN0Qm5mdEZvcm0uZXh0UHJlbSA9IF90aGlzMi5wZFV3U2lUeXBlRHRPcHRpb25zOwoKICAgICAgICAgIF90aGlzMi5oYW5kbGVTZWFyY2goKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wYWdlID0gdGhpcy4kcm91dGUucXVlcnkucGFnZTsKICAgIHRoaXMucGFnZVNpemUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlU2l6ZTsKICAgIHRoaXMucmV2aXNpb25UeXBlID0gdGhpcy4kcm91dGUucXVlcnkucmV2aXNpb25UeXBlOyAvLyDnvLTotLnlhazlvI/orqLmraPmoIfor4YKCiAgICBpZiAodGhpcy5yZXZpc2lvblR5cGUgPT09ICdwcmVtaXVtJykgewogICAgICB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPSB0cnVlOwogICAgICB0aGlzLnBhcmFtc19icmllZi5wZEJ1c3NEZXRhaWxUeXBlID0gJzE3JzsKICAgIH0gLy8g5Yqg6LS55YWs5byP6K6i5q2j5qCH6K+GCgoKICAgIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ2V4dFByZW1pdW0nKSB7CiAgICAgIHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXyA9IHRydWU7CiAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnBkQnVzc0RldGFpbFR5cGUgPSAnMTknOwogICAgfQoKICAgIHRoaXMuaW5pdFByb2R1Y3RJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByYXRlRWRpdEZsYWdDaGFuZ2VkOiBmdW5jdGlvbiByYXRlRWRpdEZsYWdDaGFuZ2VkKHJhdGVFZGl0RmxhZykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMudmFyaWFibGVSYXRlRmxhZyA9IGZhbHNlOwoKICAgICAgaWYgKGZhbHNlID09PSByYXRlRWRpdEZsYWcpIHsKICAgICAgICAvLyDojrflj5botLnnjofooajphY3nva7mlbDmja4KICAgICAgICAoMCwgX3ByZW1BbW91bnRGb3JtdWxhLmdldFJhdGVJbmZvKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEoewogICAgICAgICAgcGRQcmVtSWQ6IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXyA/IHRoaXMuc2VsZWN0ZWRQcmVtaXVtSW5SZXYuaWQgOiB0aGlzLmdldENhcHRpb24odGhpcy5wZFV3U2lUeXBlT3B0aW9ucywgMCksCiAgICAgICAgICBwZENhbGNDb2RlOiB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPyB0aGlzLnNlbGVjdGVkUHJlbWl1bUluUmV2LnBkUHJlbUNhbGNDb2RlIDogdGhpcy5zZWxlY3RlZEZvcm11bGEucGRDYWxjQ29kZQogICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpczMucmF0ZUZvcm0sIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMzLiRyZWZzLnJhdGVGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd0Zvcm11bGE6IGZ1bmN0aW9uIHNob3dGb3JtdWxhKHJvdykgewogICAgICB0aGlzLmZvcm11bGFWaWV3LmZsYWcgPSAnMSc7CiAgICAgIHRoaXMuZm9ybXVsYVZpZXcucnVsZUNvZGUgPSByb3cucGRDYWxjQ29kZTsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5wZXJmb3JtVHlwZSA9IHJvdy5wZXJmb3JtVHlwZTsKICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBmaWx0ZXJfcGRDb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDb2RlKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHZhbHVlID09PSByb3cucGRDb2RlOwogICAgfSwKICAgIHJ1bGVNb2R1bGVDbG9zZWQ6IGZ1bmN0aW9uIHJ1bGVNb2R1bGVDbG9zZWQoKSB7CiAgICAgIHRoaXMuZm9ybXVsYVZpc2libGUgPSBmYWxzZTsKCiAgICAgIGlmICghdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fIHx8IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXyAmJiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZFByZW1pdW1JblJldikubGVuZ3RoID4gMCB8fCBPYmplY3Qua2V5cyh0aGlzLnNlbGVjdGVkRXh0UHJlbWl1bUluUmV2KS5sZW5ndGggPiAwKSkgewogICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgICAgfQogICAgfSwKICAgIGZvcm11bGFWaWV3Q2xvc2VkOiBmdW5jdGlvbiBmb3JtdWxhVmlld0Nsb3NlZCgpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2U7CgogICAgICBpZiAoIXRoaXMuc2hvd0ZsYWcpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHt9OwogICAgICB9CiAgICB9LAogICAgLy/mmL7npLrnvLTotLnpobnmlbDnu4QKICAgIGZpbmRQcmVtQnlJZDogZnVuY3Rpb24gZmluZFByZW1CeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBwZEluZm9JZDogaWQsCiAgICAgICAgcGRQcm9nQ29kZTogJycKICAgICAgfTsKICAgICAgKDAsIF9hY2NlcHRJbnN1cmFuY2VSdWxlcy5maW5kUHJlbUJ5SWQpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczQuT3B0aW9uczEgPSBbXTsKCiAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBfdGhpczQuT3B0aW9uczEucHVzaCh7CiAgICAgICAgICAgICAga2V5OiB2YWwuaWQsCiAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCArICI6IiArIHZhbC5wZFByZW1Db2RlLAogICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRQcmVtQ29kZSArICI6IiArIHZhbC5wZFBheU5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5pi+56S65Yqg6LS56aG55pWw57uECiAgICBmaW5kRXh0UHJlbUJ5SWQ6IGZ1bmN0aW9uIGZpbmRFeHRQcmVtQnlJZChyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtID0gJyc7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5PcHRpb25zMiA9IFtdOwoKICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBfdGhpczUuZ2V0Q2FwdGlvbihyb3csIDEpOwoKICAgICAgICAgICAgICAgICAgaWYgKCFjb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAoMCwgX3ByZW1BbW91bnRGb3JtdWxhLmZpbmRFeHRQcmVtQnlJZCkoY29kZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuT3B0aW9uczIgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuT3B0aW9uczIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB2YWwuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5pZCArICI6IiArIHZhbC5wZEV4dFByZW1Db2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwucGRFeHRQcmVtQ29kZSArICI6IiArIHZhbC5wZEV4dFByZW1OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VsZWN0ZWRQcmVtaXVtQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRQcmVtaXVtQ2hhbmdlZCh2YWwpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXykgewogICAgICAgIC8vIOS7juiuouato+i/m+WFpQogICAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0gPSAnJzsKICAgICAgICB0aGlzLk9wdGlvbnMyID0gW107CgogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuZmluZEV4dFByZW1CeUlkKHZhbCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOS7juS6p+WTgeWumuS5iei/m+WFpQogICAgICAgIGlmICh0aGlzLnBkVXdTaVR5cGVEdE9wdGlvbnMpIHsKICAgICAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0gPSAnJzsKICAgICAgICAgIHRoaXMuT3B0aW9uczIgPSBbXTsKCiAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgIHRoaXMuZmluZEV4dFByZW1CeUlkKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZEV4dFByZW1pdW1DaGFuZ2VkOiBmdW5jdGlvbiBzZWxlY3RlZEV4dFByZW1pdW1DaGFuZ2VkKHZhbCkgewogICAgICB2YWwgJiYgdGhpcy5oYW5kbGVTZWFyY2goKTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkQnVzc1R5cGUgPSAnMSc7CiAgICAgIHRoaXMucGFyYW1zX2N1cnJlbnQuZXFfcGRUeXBlID0gJzEnOwoKICAgICAgaWYgKHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXykgewogICAgICAgIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ3ByZW1pdW0nKSB7CiAgICAgICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkQnVzc0RldGFpbFR5cGUgPSAnMTcnOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZFN0cnVjdHVyZVR5cGUgPSAnMDUnOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZEJ1c3NJZCA9IHRoaXMuc2VsZWN0ZWRQcmVtaXVtSW5SZXYuaWQ7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ2V4dFByZW1pdW0nKSB7CiAgICAgICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkQnVzc0RldGFpbFR5cGUgPSAnMTknOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZFN0cnVjdHVyZVR5cGUgPSAnMDYnOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZEJ1c3NJZCA9IHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYuaWQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtKSB7CiAgICAgICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkQnVzc0RldGFpbFR5cGUgPSAnMTknOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZFN0cnVjdHVyZVR5cGUgPSAnMDYnOwogICAgICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZEJ1c3NJZCA9IHRoaXMuZ2V0Q2FwdGlvbih0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtLCAwKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0pIHsKICAgICAgICAgIHRoaXMucGFyYW1zX2N1cnJlbnQuZXFfcGRCdXNzRGV0YWlsVHlwZSA9ICcxNyc7CiAgICAgICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkU3RydWN0dXJlVHlwZSA9ICcwNSc7CiAgICAgICAgICB0aGlzLnBhcmFtc19jdXJyZW50LmVxX3BkQnVzc0lkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0sIDApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQucmVsb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKChfdGhpczYuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9PT0gJzE3JyB8fCBfdGhpczYucmV2aXNpb25UeXBlID09PSAncHJlbWl1bScpICYmIF90aGlzNi50YWJsZURhdGFGb3JtdWxhLmxlbmd0aCA9PT0gMSAmJiBfdGhpczYudGFibGVEYXRhRm9ybXVsYVswXS5kYXRhR2V0KSB7CiAgICAgICAgICBfdGhpczYuc2VsZWN0ZWRGb3JtdWxhID0gX3RoaXM2LnRhYmxlRGF0YUZvcm11bGFbMF07CgogICAgICAgICAgX3RoaXM2LnNlbGVjdGVkRm9ybXVsYUNoYW5nZWQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRQcm9kdWN0SW5mbzogZnVuY3Rpb24gaW5pdFByb2R1Y3RJbmZvKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciBwZHRlbXBQZEluZm8gPSB0aGlzLmdldFBkRGF0YSgpOwoKICAgICAgaWYgKE9iamVjdC5rZXlzKHBkdGVtcFBkSW5mbykubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wcm9kdWN0LCBwZHRlbXBQZEluZm8pOwogICAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnByb2R1Y3QgPSBwZHRlbXBQZEluZm87CiAgICAgICAgdGhpcy5wYXJhbXNfYnJpZWYucGRCdXNzSWQgPSB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPyB1bmRlZmluZWQgOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUgPT09ICcxNycgPyB0aGlzLmdldENhcHRpb24odGhpcy5wZFV3U2lUeXBlT3B0aW9ucywgMCkgOiB0aGlzLmdldENhcHRpb24odGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zLCAwKTsKICAgICAgICB0aGlzLnBhcmFtc19wcmVtaXVtLmVxX3BkSW5mb0lkID0gcGR0ZW1wUGRJbmZvLmlkOwogICAgICAgIHRoaXMucGFyYW1zX2V4dFByZW1pdW0ucGRJbmZvSWQgPSBwZHRlbXBQZEluZm8uaWQ7CiAgICAgICAgdGhpcy5wYXJhbXNfYnJpZWYucHJvZHVjdERldGFpbFR5cGUgPSB0aGlzLnByb2R1Y3QuY1R5cGU7CgogICAgICAgIGlmICghdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fKSB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgnbWVzc2FnZS5pbnZhbGlkUHJvZHVjdEluZm8nKSk7CiAgICAgIH0KICAgIH0sCiAgICBiYWNrVG9QcmVtRGVmOiBmdW5jdGlvbiBiYWNrVG9QcmVtRGVmKCkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGEnLCBmYWxzZSk7CiAgICB9LAogICAgYmFja1RvRm9ybXVsYVJldjogZnVuY3Rpb24gYmFja1RvRm9ybXVsYVJldigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICfkuqflk4HlhazlvI/orqLmraPkuLvpobUnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGF0aDogdGhpcy4kcm91dGUucGF0aCwKICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b0Zvcm11bGFTZWxlY3Q6IGZ1bmN0aW9uIHRvRm9ybXVsYVNlbGVjdCgpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXykgewogICAgICAgIC8vIOiuouatowogICAgICAgIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ3ByZW1pdW0nKSB7CiAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZFByZW1pdW1JblJldikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0UHJlbWl1bScpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uRXhwcmVzc2lvblR5cGUgPSAnMTcnOwogICAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtID0gdGhpcy5zZWxlY3RlZFByZW1pdW1JblJldi5pZCArICc6JyArIHRoaXMuc2VsZWN0ZWRQcmVtaXVtSW5SZXYucGRQcmVtQ29kZTsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0uZXh0UHJlbSA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXZpc2lvblR5cGUgPT09ICdleHRQcmVtaXVtJykgewogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3ByZW1Gb3JtdWxhLnBsZWFzZVNlbGVjdEV4dFByZW1pdW0nKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucHJvZHVjdEJuZnRGb3JtLkV4cHJlc3Npb25UeXBlID0gJzE5JzsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJlbSA9ICcnOwogICAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtID0gdGhpcy5zZWxlY3RlZEV4dFByZW1pdW1JblJldi5pZCArICc6JyArIHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYucGRFeHRQcmVtQ29kZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5Lqn5ZOB5a6a5LmJCiAgICAgICAgaWYgKHRoaXMucGRVd1NpVHlwZUR0T3B0aW9ucykgewogICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtIHx8ICF0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtKSB7CiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0UHJlbWl1bUFuZEVjdFByZW1pdW0nKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtKSB7CiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0UHJlbWl1bUFuZEVjdFByZW1pdW0nKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghdGhpcy5wZFV3U2lUeXBlRHRPcHRpb25zKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5FeHByZXNzaW9uVHlwZSA9ICcxNyc7IC8vIOWFrOW8j+e7huexu++8mue8tOi0uQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5FeHByZXNzaW9uVHlwZSA9ICcxOSc7IC8vIOWFrOW8j+e7huexu++8muWKoOi0uQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMucmV2aXNpb25UeXBlID09PSAnZXh0UHJlbWl1bScpIHsKICAgICAgICB0aGlzLmZvcm11bGFTZWxlY3RWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QnLCB0cnVlLCAnMScsIHRoaXMucHJvZHVjdEJuZnRGb3JtLkV4cHJlc3Npb25UeXBlLCB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5wcmVtLCB0aGlzLnByb2R1Y3RCbmZ0Rm9ybS5leHRQcmVtKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWKoOi0ueWFrOW8j+iuouato+aXtuWFs+mXreabtOWkmuWFrOW8j+W8ueeqlwogICAgY2hhbmdlRGlhbG9nVmlzaWJsZV9mb3JtdWxhU2VsZWN0OiBmdW5jdGlvbiBjaGFuZ2VEaWFsb2dWaXNpYmxlX2Zvcm11bGFTZWxlY3QoZmxhZykgewogICAgICB0aGlzLmZvcm11bGFTZWxlY3RWaXNpYmxlID0gZmxhZzsKICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQucmVsb2FkKCk7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgIH0sCiAgICBicmluZ0luQ2FsY0NvZGU6IGZ1bmN0aW9uIGJyaW5nSW5DYWxjQ29kZShwZEJ1c3NEZXRhaWxUeXBlLCBwZEJ1c3NJZCwgcGRDYWxjQ29kZSkgewogICAgICBpZiAoJzE5JyA9PT0gcGRCdXNzRGV0YWlsVHlwZSkgewogICAgICAgIHZhciBfaXRlcmF0b3IyID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLnRhYmxlRGF0YUV4dFByZW1pdW0pLAogICAgICAgICAgICBfc3RlcDI7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZXh0UHJlbWl1bSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgIGlmIChleHRQcmVtaXVtLmlkID09PSBwZEJ1c3NJZCkgewogICAgICAgICAgICAgIHRoaXMuJHNldChleHRQcmVtaXVtLCAncGRFeHRQcmVtQ2FsY0NvZGUnLCBwZENhbGNDb2RlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICgnMTcnID09PSBwZEJ1c3NEZXRhaWxUeXBlKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMudGFibGVEYXRhUHJlbWl1bSksCiAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBwcmVtaXVtID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHByZW1pdW0uaWQgPT09IHBkQnVzc0lkKSB7CiAgICAgICAgICAgICAgdGhpcy4kc2V0KHByZW1pdW0sICdwZFByZW1DYWxjQ29kZScsIHBkQ2FsY0NvZGUpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdG9BZGRGb3JtdWxhOiBmdW5jdGlvbiB0b0FkZEZvcm11bGEoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtID0gewogICAgICAgIHBkQnVzc1R5cGU6IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXyA/ICcxJyA6IHRoaXMuZ3VhcmFudGVlRGV0YWlscywKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPyB0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ3ByZW1pdW0nID8gJzE3JyA6ICcxOScgOiB0aGlzLmNhbGN1bGF0aW9uRm9ybXVsYVR5cGUKICAgICAgfTsKICAgICAgKDAsIF9wZHRlbXBwZHByZW0uZ2V0Q2FsY0NvZGUpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM4LmF0dHJpYnV0ZU9iaiA9IHsKICAgICAgICAgIGNvZGU6IHJlc3BvbnNlLmRhdGEsCiAgICAgICAgICBydWxlQnVzc01vZHU6IHBhcmFtLnBkQnVzc1R5cGUsCiAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiBwYXJhbS5wZEJ1c3NEZXRhaWxUeXBlLAogICAgICAgICAgcnVsZVR5cGU6ICcyJywKICAgICAgICAgIHBkVHlwZTogJzEnLAogICAgICAgICAgcmlza1R5cGU6IF90aGlzOC5wcm9kdWN0LmJUeXBlLAogICAgICAgICAgcmlza0RldGFpbDogX3RoaXM4LnByb2R1Y3QuY1R5cGUsCiAgICAgICAgICBwZENvZGU6IF90aGlzOC5wcm9kdWN0LnBkQ29kZSwKICAgICAgICAgIHBkRWRpdGlvbjogX3RoaXM4LnByb2R1Y3QucGRFZGl0aW9uCiAgICAgICAgfTsKICAgICAgICBfdGhpczguZm9ybXVsYVZpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICByb3dDbGljazogZnVuY3Rpb24gcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsKICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5pZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEZvcm11bGEgPSB7fTsKICAgICAgICAgIHRoaXMudGFibGVEYXRhRm9ybXVsYVBhcmFtcyA9IFtdOwogICAgICAgICAgdGhpcy5yZXNldFJhdGVGb3JtKCk7CiAgICAgICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcm93Q2xpY2tQcmVtaXVtOiBmdW5jdGlvbiByb3dDbGlja1ByZW1pdW0ocm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIpIHsKICAgICAgICBpZiAocm93LmlkID09PSB0aGlzLnNlbGVjdGVkUHJlbWl1bUluUmV2LmlkKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJlbWl1bUluUmV2ID0ge307CiAgICAgICAgICB0aGlzLnBhcmFtc19icmllZi5wZEJ1c3NJZCA9IHVuZGVmaW5lZDsKICAgICAgICAgIHRoaXMudGFibGVEYXRhRm9ybXVsYSA9IFtdOwogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQudG90YWwgPSAwOwogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2N1cnJlbnQucGFnZSA9IDE7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YUJyaWVmRm9ybXVsYSA9IFtdOwogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnRvdGFsID0gMDsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5wYWdlID0gMTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtdWxhID0ge307CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMgPSBbXTsKICAgICAgICAgIHRoaXMucmVzZXRSYXRlRm9ybSgpOwogICAgICAgICAgdGhpcy5zaG93RmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJvd0NsaWNrRXh0UHJlbWl1bTogZnVuY3Rpb24gcm93Q2xpY2tFeHRQcmVtaXVtKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZEV4dFByZW1pdW1JblJldi5pZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEV4dFByZW1pdW1JblJldiA9IHt9OwogICAgICAgICAgdGhpcy5wYXJhbXNfYnJpZWYucGRCdXNzSWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGEgPSBbXTsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnRvdGFsID0gMDsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnBhZ2UgPSAxOwogICAgICAgICAgdGhpcy50YWJsZURhdGFCcmllZkZvcm11bGEgPSBbXTsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi50b3RhbCA9IDA7CiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfYnJpZWYucGFnZSA9IDE7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHt9OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlc2V0UmF0ZUZvcm06IGZ1bmN0aW9uIHJlc2V0UmF0ZUZvcm0oKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy5yYXRlRm9ybSA9IHsKICAgICAgICB2cHU6IHVuZGVmaW5lZCwKICAgICAgICByYXRlRWRpdGlvbjogJycsCiAgICAgICAgc3RhcnREYXRlOiB1bmRlZmluZWQsCiAgICAgICAgZW5kRGF0ZTogdW5kZWZpbmVkCiAgICAgIH07CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXM5LiRyZWZzLnJhdGVGb3JtKSB7CiAgICAgICAgICBfdGhpczkuJHJlZnMucmF0ZUZvcm0uY2xlYXJWYWxpZGF0ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0ZWRGb3JtdWxhQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRGb3JtdWxhQ2hhbmdlZCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2FsY3VsYXRpb25Gb3JtdWxhVHlwZSA9PT0gJzE3JyB8fCB0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ3ByZW1pdW0nKSB7CiAgICAgICAgdGhpcy5yYXRlRWRpdEZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLnZhcmlhYmxlUmF0ZUZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMgPSBbXTsKCiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRm9ybXVsYS5kYXRhR2V0KSB7CiAgICAgICAgICB0aGlzLmZvcm11bGFWaWV3LmZsYWcgPSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5ydWxlQXR0ciA9PT0gJzEnID8gJzEnIDogJzInOwogICAgICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IHRoaXMuc2VsZWN0ZWRGb3JtdWxhLnBkQ2FsY0NvZGU7CiAgICAgICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gdGhpcy5zZWxlY3RlZEZvcm11bGEucGVyZm9ybVR5cGU7CiAgICAgICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kYXRhR2V0ID0gSlNPTi5wYXJzZSh0aGlzLnNlbGVjdGVkRm9ybXVsYS5kYXRhR2V0KTsKICAgICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMgPSB0aGlzLmRhdGFHZXQucGFyYW1MaXN0OyAvLyDojrflj5botLnnjofooajphY3nva7mlbDmja4KCiAgICAgICAgKDAsIF9wcmVtQW1vdW50Rm9ybXVsYS5nZXRSYXRlSW5mbykodGhpcy5idWlsZFJlcXVlc3REYXRhKHsKICAgICAgICAgIHBkUHJlbUlkOiB0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPyB0aGlzLnNlbGVjdGVkUHJlbWl1bUluUmV2LmlkIDogdGhpcy5nZXRDYXB0aW9uKHRoaXMucGRVd1NpVHlwZU9wdGlvbnMsIDApLAogICAgICAgICAgcGRDYWxjQ29kZTogdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fID8gdGhpcy5zZWxlY3RlZFByZW1pdW1JblJldi5wZFByZW1DYWxjQ29kZSA6IHRoaXMuc2VsZWN0ZWRGb3JtdWxhLnBkQ2FsY0NvZGUKICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMTAuc2hvd0ZsYWcgPSB0cnVlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMxMC5yYXRlRm9ybSwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczEwLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMxMC4kcmVmcy5yYXRlRm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm11bGFWaWV3LmZsYWcgPSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5ydWxlQXR0ciA9PT0gJzEnID8gJzEnIDogJzInOwogICAgICAgIHRoaXMuZm9ybXVsYVZpZXcucnVsZUNvZGUgPSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5wZENhbGNDb2RlOwogICAgICAgIHRoaXMuZm9ybXVsYVZpZXcucGVyZm9ybVR5cGUgPSB0aGlzLnNlbGVjdGVkRm9ybXVsYS5wZXJmb3JtVHlwZTsKICAgICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgaW5pdFRhYmxlRGF0YUluUmV2OiBmdW5jdGlvbiBpbml0VGFibGVEYXRhSW5SZXYoKSB7CiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCk7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgIH0sCiAgICBzZWxlY3RlZFByZW1pdW1JblJldkNoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkUHJlbWl1bUluUmV2Q2hhbmdlZCgpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZvcm11bGEgPSB7fTsKICAgICAgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zID0gW107CiAgICAgIHRoaXMucmVzZXRSYXRlRm9ybSgpOwogICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCk7CiAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnBkQnVzc0lkID0gdGhpcy5zZWxlY3RlZFByZW1pdW1JblJldi5pZDsKICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwogICAgfSwKICAgIHNlbGVjdGVkRXh0UHJlbWl1bUluUmV2Q2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXZDaGFuZ2VkKCkgewogICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHt9OwogICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpOwogICAgICB0aGlzLnBhcmFtc19icmllZi5wZEJ1c3NJZCA9IHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYuaWQ7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgIH0sCiAgICBkZWxldGVGb3JtdWxhOiBmdW5jdGlvbiBkZWxldGVGb3JtdWxhKHJvdykgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICAoMCwgX3ByZW1BbW91bnRGb3JtdWxhLmRlbGV0ZUZvcm11bGEpKHJvdykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMS5ub3RpZnlTdWNjZXNzKF90aGlzMTEuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKTsKCiAgICAgICAgX3RoaXMxMS5oYW5kbGVTZWFyY2goKTsKCiAgICAgICAgX3RoaXMxMS4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwoKICAgICAgICBpZiAoIV90aGlzMTEucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvXykgewogICAgICAgICAgX3RoaXMxMS4kZW1pdCgnYnJpbmdJbkNhbGNDb2RlJywgcm93LnBkQnVzc0RldGFpbFR5cGUsIHJvdy5wZEJ1c3NJZCwgdW5kZWZpbmVkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxMS5icmluZ0luQ2FsY0NvZGUocm93LnBkQnVzc0RldGFpbFR5cGUsIHJvdy5wZEJ1c3NJZCwgdW5kZWZpbmVkKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMTEuc2hvd0ZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2FwdGlvbjogZnVuY3Rpb24gZ2V0Q2FwdGlvbihvYmosIHN0YXRlKSB7CiAgICAgIHZhciBpbmRleCA9IG9iai5sYXN0SW5kZXhPZigiOiIpOwoKICAgICAgaWYgKHN0YXRlID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG9iai5zdWJzdHJpbmcoMCwgaW5kZXgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBvYmouc3Vic3RyaW5nKGluZGV4ICsgMSwgb2JqLmxlbmd0aCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVCZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oU3RyaW5nKHRoaXMuJHQoJ3ByZW1Gb3JtdWxhLnRleHQwNScpKSwgU3RyaW5nKHRoaXMuJHQoJ2NvbmZpcm1NZXNzYWdlLnRpcCcpKSwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLiR0KCdjb25maXJtTWVzc2FnZS5jb25maXJtJyksCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgnY29uZmlybU1lc3NhZ2UuY2FuY2VsJyksCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogU3RyaW5nKF90aGlzMTIuJHQoJ3ByZW1Gb3JtdWxhLmNvbnRpbnVlJykpCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMTIuZmlsZUxpc3QgPSBbXTsKCiAgICAgICAgX3RoaXMxMi5maWxlTGlzdC5wdXNoKGZpbGUpOwoKICAgICAgICB2YXIgZmlsZXMgPSB7CiAgICAgICAgICAwOiBmaWxlCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMxMi5yZWFkRXhjZWwoZmlsZXMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogU3RyaW5nKF90aGlzMTIuJHQoJ3ByZW1Gb3JtdWxhLmNhbmNlbGVkJykpCiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgLy/kuIvovb0KICAgIGRvd25sb2FkQ3ZUYWJsZTogZnVuY3Rpb24gZG93bmxvYWRDdlRhYmxlKCkgewogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZEZvcm11bGEpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0Rm9ybXVsYScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjb2x1bW5zID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yNCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5kYXRhR2V0LnBhcmFtQXJyKSwKICAgICAgICAgIF9zdGVwNDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwYXJhbSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgIGNvbHVtbnMucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBwYXJhbS5wcm9wLAogICAgICAgICAgICBrZXk6IHBhcmFtLmNvbHVtbgogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyDlpITnkIbnsbvlnovkuLrml6XmnJ/nmoTmlbDmja4KCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CgogICAgICB2YXIgY29sdW1uQXJyID0gdGhpcy5fLm1hcChjb2x1bW5zLCAna2V5Jyk7CgogICAgICB2YXIgX2l0ZXJhdG9yNSA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zKSwKICAgICAgICAgIF9zdGVwNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfcGFyYW0gPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKGNvbHVtbkFyciksCiAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgICAgICB2YXIgY29tbWFuZFR5cGUgPSB0aGlzLmdldENvbW1hbmRUeXBlQnlDb2x1bW4oY29sdW1uKTsKCiAgICAgICAgICAgICAgaWYgKGNvbW1hbmRUeXBlID09PSAnRGF0ZScpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHNldChfcGFyYW0sIGNvbHVtbiwgdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKF9wYXJhbVtjb2x1bW5dKSwgJ3l5eXktTU0tZGQnKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I2LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CgogICAgICB0aGlzLmV4cG9ydDJFeGNlbChjb2x1bW5zLCB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMsIHRoaXMuJHQoJ3ByZW1Gb3JtdWxhLnJhdGVUYWJsZScpICsgJ18nICsgdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKCksICd5eXl5LU1NLWRkIGhoOm1tOnNzJykpOwogICAgfSwKICAgIGdldENvbW1hbmRUeXBlQnlDb2x1bW46IGZ1bmN0aW9uIGdldENvbW1hbmRUeXBlQnlDb2x1bW4oY29sdW1uKSB7CiAgICAgIHZhciBfaXRlcmF0b3I3ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmRhdGFHZXQucGFyYW1BcnIpLAogICAgICAgICAgX3N0ZXA3OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHBhcmFtQXJyRWxlbWVudCA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICBpZiAocGFyYW1BcnJFbGVtZW50LmNvbHVtbiA9PT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJhbUFyckVsZW1lbnQuY29tbWFuZFR5cGU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0sCiAgICByZWFkRXhjZWw6IGZ1bmN0aW9uIHJlYWRFeGNlbChmaWxlcykgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICAvL+ihqOagvOWvvOWFpQogICAgICBpZiAoZmlsZXMubGVuZ3RoIDw9IDApIHsKICAgICAgICAvL+WmguaenOayoeacieaWh+S7tuWQjQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmICghL1wuKHhsc3x4bHN4KSQvLnRlc3QoZmlsZXNbMF0ubmFtZS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoU3RyaW5nKHRoaXMuJHQoJ3ByZW1Gb3JtdWxhLmluY29ycmVjdEZvcm1hdCcpKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldikgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgZGF0YSA9IGV2LnRhcmdldC5yZXN1bHQ7CgogICAgICAgICAgdmFyIHdvcmtib29rID0gX3hsc3guZGVmYXVsdC5yZWFkKGRhdGEsIHsKICAgICAgICAgICAgdHlwZTogJ2JpbmFyeScKICAgICAgICAgIH0pOwoKICAgICAgICAgIHZhciB3c25hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdOyAvL+WPluesrOS4gOW8oOihqAoKICAgICAgICAgIHZhciB3cyA9IF94bHN4LmRlZmF1bHQudXRpbHMuc2hlZXRfdG9fanNvbih3b3JrYm9vay5TaGVldHNbd3NuYW1lXSk7IC8v55Sf5oiQanNvbuihqOagvOWGheWuuQogICAgICAgICAgLy/ph43lhpnmlbDmja4KCgogICAgICAgICAgdHJ5IHt9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczEzLiRyZWZzLnVwbG9hZC52YWx1ZSA9ICcnOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBmaWxlUmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhmaWxlc1swXSk7IC8v5Yqg6L295oiQ5Yqf5ZCOCgogICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBpZiAoZXZ0LnRhcmdldC5yZWFkeVN0YXRlID09PSBGaWxlUmVhZGVyLkRPTkUpIHsKICAgICAgICAgIHZhciBkYXRhID0gZmlsZVJlYWRlci5yZXN1bHQ7CgogICAgICAgICAgdmFyIHdvcmtib29rID0gX3hsc3guZGVmYXVsdC5yZWFkKGRhdGEsIHsKICAgICAgICAgICAgdHlwZTogJ2JpbmFyeScKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNoZWV0X25hbWVfbGlzdCA9IHdvcmtib29rLlNoZWV0TmFtZXM7CgogICAgICAgIHZhciByZXN1bHQgPSBfeGxzeC5kZWZhdWx0LnV0aWxzLnNoZWV0X3RvX2pzb24od29ya2Jvb2suU2hlZXRzW3NoZWV0X25hbWVfbGlzdFswXV0sIHsKICAgICAgICAgIGhlYWRlcjogMQogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zID0gW107CiAgICAgICAgdmFyIGtleUFycmF5ID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0WzBdLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcHJvcE5hbWUgPSByZXN1bHRbMF1baV07CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjggPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKF90aGlzLmRhdGFHZXQucGFyYW1BcnIpLAogICAgICAgICAgICAgIF9zdGVwODsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBwYXJhbUFyckVsZW1lbnQgPSBfc3RlcDgudmFsdWU7CgogICAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PT0gcGFyYW1BcnJFbGVtZW50LnByb3ApIHsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwYXJhbUFyckVsZW1lbnQuY29sdW1uOwogICAgICAgICAgICAgICAga2V5QXJyYXkucHVzaChrZXkpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I4LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCByZXN1bHQubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICBpZiAoX2kgPiAwKSB7CiAgICAgICAgICAgIHZhciBkYXRhSXRlbSA9IHt9OwoKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXN1bHRbX2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0W19pXVtqXTsKCiAgICAgICAgICAgICAgaWYgKCdtdWx0aXBsZScgPT09IF90aGlzLmRhdGFHZXQucGFyYW1BcnJbal0uY29tbWFuZFR5cGUpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJywnKTsKCiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB2YWx1ZS5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzZXQodmFsdWUsIF9pMiwgU3RyaW5nKHZhbHVlW19pMl0pLnRyaW0oKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy4kc2V0KGRhdGFJdGVtLCBrZXlBcnJheVtqXSwgdmFsdWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy4kc2V0KF90aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMsIF9pIC0gMSwgZGF0YUl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBkZWxldGVGb3JtdWxhUGFyYW06IGZ1bmN0aW9uIGRlbGV0ZUZvcm11bGFQYXJhbShyb3cpIHsKICAgICAgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zLnNwbGljZSh0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMuaW5kZXhPZihyb3cpLCAxKTsKICAgIH0sCiAgICBhZGREYXRhUm93OiBmdW5jdGlvbiBhZGREYXRhUm93KCkgewogICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMucHVzaCh7fSk7CiAgICB9LAogICAgc2F2ZUZvcm11bGFQYXJhbTogZnVuY3Rpb24gc2F2ZUZvcm11bGFQYXJhbSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRGb3JtdWxhKS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkVW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYS5wbGVhc2VTZWxlY3RGb3JtdWxhJykpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy5yYXRlRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAocGFzcykgewogICAgICAgIGlmIChfdGhpczE0LnJhdGVFZGl0RmxhZyAmJiAhcGFzcykgewogICAgICAgICAgX3RoaXMxNC5mb2N1c0l0ZW0oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxNC4kcmVmcy5yYXRlRm9ybS5jbGVhclZhbGlkYXRlKCk7CgogICAgICAgICAgX3RoaXMxNC4kc2V0KF90aGlzMTQuZGF0YUdldCwgJ3BhcmFtTGlzdCcsIF90aGlzMTQudGFibGVEYXRhRm9ybXVsYVBhcmFtcyk7CgogICAgICAgICAgdmFyIHBhcmFtID0gewogICAgICAgICAgICBydWxlQ29kZTogX3RoaXMxNC5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fID8gX3RoaXMxNC5zZWxlY3RlZFByZW1pdW1JblJldi5wZFByZW1DYWxjQ29kZSA6IF90aGlzMTQuc2VsZWN0ZWRGb3JtdWxhLnBkQ2FsY0NvZGUsCiAgICAgICAgICAgIGR5bmFtaWNUYWJsZTogSlNPTi5zdHJpbmdpZnkoX3RoaXMxNC5kYXRhR2V0KSwKICAgICAgICAgICAgcmF0ZUZvcm06IF90aGlzMTQucmF0ZUZvcm0sCiAgICAgICAgICAgIHBkUHJlbUlkOiBfdGhpczE0LnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18gPyBfdGhpczE0LnNlbGVjdGVkUHJlbWl1bUluUmV2LmlkIDogX3RoaXMxNC5nZXRDYXB0aW9uKF90aGlzMTQucGRVd1NpVHlwZU9wdGlvbnMsIDApLAogICAgICAgICAgICByYXRlRWRpdEZsYWc6IF90aGlzMTQucmF0ZUVkaXRGbGFnCiAgICAgICAgICB9OwogICAgICAgICAgKDAsIF9wcmVtQW1vdW50Rm9ybXVsYS5zYXZlRm9ybXVsYUluUnVsZUVuZ2luZSkoX3RoaXMxNC5idWlsZFJlcXVlc3REYXRhKHBhcmFtKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMTQubm90aWZ5U3VjY2VzcyhfdGhpczE0LiR0KCdzdWNjZXNzTWVzc2FnZS5zYXZlJykpOwoKICAgICAgICAgICAgX3RoaXMxNC4kc2V0KF90aGlzMTQuc2VsZWN0ZWRGb3JtdWxhLCAnZGF0YUdldCcsIEpTT04uc3RyaW5naWZ5KF90aGlzMTQuZGF0YUdldCkpOwoKICAgICAgICAgICAgX3RoaXMxNC5yYXRlRWRpdEZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMxNC52YXJpYWJsZVJhdGVGbGFnID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hGb3JtdWxhUGFyYW06IGZ1bmN0aW9uIHJlZnJlc2hGb3JtdWxhUGFyYW0oKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtdWxhQ2hhbmdlZCgpOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdEZvcm11bGE6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdEZvcm11bGEocm93KSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ3ByZW1pdW0nICYmIE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRQcmVtaXVtSW5SZXYpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0UHJlbWl1bScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJldmlzaW9uVHlwZSA9PT0gJ2V4dFByZW1pdW0nICYmIE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJlbUZvcm11bGEucGxlYXNlU2VsZWN0RXh0UHJlbWl1bScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBQZHRlbXBQZENhbGMgPSB7CiAgICAgICAgcGRJbmZvSWQ6IHRoaXMucHJvZHVjdC5pZCwKICAgICAgICBwZFZlcklkOiB0aGlzLnByb2R1Y3QucGRWZXJJZCwKICAgICAgICBwZFR5cGU6ICcnLAogICAgICAgIHBkQ29kZTogdGhpcy5wcm9kdWN0LnBkQ29kZSwKICAgICAgICBwZEJ1c3NUeXBlOiAnMScsCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fID8gdGhpcy5yZXZpc2lvblR5cGUgPT09ICdwcmVtaXVtJyA/ICcxNycgOiAnMTknIDogdGhpcy5jYWxjdWxhdGlvbkZvcm11bGFUeXBlLAogICAgICAgIHBkQnVzc0lkOiAnJywKICAgICAgICBwZEJ1c3NDb2RlOiAnJywKICAgICAgICBwZFN0cnVjdHVyZVR5cGU6ICcnLAogICAgICAgIHBkQ2FsY0NvZGU6IHJvdy5wZENhbGNDb2RlLAogICAgICAgIHBkQ2FsY0Rlc2M6IHJvdy5wZENhbGNEZXNjCiAgICAgIH07CgogICAgICBpZiAodGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm9fKSB7CiAgICAgICAgLy8g6K6i5q2jCiAgICAgICAgaWYgKHRoaXMucmV2aXNpb25UeXBlID09PSAncHJlbWl1bScpIHsKICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMDUnOwogICAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0lkID0gdGhpcy5zZWxlY3RlZFByZW1pdW1JblJldi5pZDsKICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZEJ1c3NDb2RlID0gdGhpcy5zZWxlY3RlZFByZW1pdW1JblJldi5wZFByZW1Db2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBQZHRlbXBQZENhbGMucGRTdHJ1Y3R1cmVUeXBlID0gJzA2JzsKICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZEJ1c3NJZCA9IHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYuaWQ7CiAgICAgICAgICBQZHRlbXBQZENhbGMucGRCdXNzQ29kZSA9IHRoaXMuc2VsZWN0ZWRFeHRQcmVtaXVtSW5SZXYucGRFeHRQcmVtQ29kZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g6Z2e6K6i5q2jCiAgICAgICAgaWYgKHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0pIHsKICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMDYnOwogICAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0lkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLmV4dFByZW0sIDApOwogICAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0NvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0uZXh0UHJlbSwgMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFBkdGVtcFBkQ2FsYy5wZFN0cnVjdHVyZVR5cGUgPSAnMDUnOwogICAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0lkID0gdGhpcy5nZXRDYXB0aW9uKHRoaXMucHJvZHVjdEJuZnRGb3JtLnByZW0sIDApOwogICAgICAgICAgUGR0ZW1wUGRDYWxjLnBkQnVzc0NvZGUgPSB0aGlzLmdldENhcHRpb24odGhpcy5wcm9kdWN0Qm5mdEZvcm0ucHJlbSwgMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgcGFyYW0gPSB7CiAgICAgICAgc2VsZWN0ZWRGb3JtdWxhOiByb3csCiAgICAgICAgcGR0ZW1wUGRDYWxjOiBQZHRlbXBQZENhbGMsCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LAogICAgICAgIHBkQnVzc1R5cGU6ICcxJywKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiBQZHRlbXBQZENhbGMucGRCdXNzRGV0YWlsVHlwZSwKICAgICAgICBuZWVkQ2hlY2tpbmc6IHRydWUKICAgICAgfTsKICAgICAgKDAsIF9wcmVtQW1vdW50Rm9ybXVsYS5hc3NvY2lhdGUpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHN1Y2Nlc3NGbGFnID0gcmVzcG9uc2UuZGF0YS5mbGFnOwogICAgICAgIHZhciBwZHRlbXBQZENhbGMgPSByZXNwb25zZS5kYXRhLnBkdGVtcFBkQ2FsYzsKCiAgICAgICAgaWYgKHN1Y2Nlc3NGbGFnID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczE1Lm5vdGlmeVN1Y2Nlc3MoX3RoaXMxNS4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSk7CgogICAgICAgICAgX3RoaXMxNS5oYW5kbGVTZWFyY2goKTsKCiAgICAgICAgICBfdGhpczE1LiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CgogICAgICAgICAgaWYgKCFfdGhpczE1LnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18pIHsKICAgICAgICAgICAgX3RoaXMxNS4kZW1pdCgnYnJpbmdJbkNhbGNDb2RlJywgcGR0ZW1wUGRDYWxjLnBkQnVzc0RldGFpbFR5cGUsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NJZCwgcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMxNS5icmluZ0luQ2FsY0NvZGUoUGR0ZW1wUGRDYWxjLnBkQnVzc0RldGFpbFR5cGUsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NJZCwgcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczE1LiRjb25maXJtKFN0cmluZyhfdGhpczE1LiR0KCd1bmRlcndyaXRpbmdBbW91bnRGb3JtdWxhU2VsZWN0LmNvbmZpcm1fb3ZlcndyaXRlX2Zvcm11bGEnKSksIFN0cmluZyhfdGhpczE1LiR0KCdjb25maXJtTWVzc2FnZS50aXAnKSksIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFN0cmluZyhfdGhpczE1LiR0KCdjb25maXJtTWVzc2FnZS5jb25maXJtJykpLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBTdHJpbmcoX3RoaXMxNS4kdCgnY29uZmlybU1lc3NhZ2UuY2FuY2VsJykpLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBwYXJhbS5uZWVkQ2hlY2tpbmcgPSBmYWxzZTsKICAgICAgICAgICAgKDAsIF9wcmVtQW1vdW50Rm9ybXVsYS5hc3NvY2lhdGUpKF90aGlzMTUuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgdmFyIHBkdGVtcFBkQ2FsYyA9IHJlc3BvbnNlLmRhdGEucGR0ZW1wUGRDYWxjOwoKICAgICAgICAgICAgICBfdGhpczE1Lm5vdGlmeVN1Y2Nlc3MoX3RoaXMxNS4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSk7CgogICAgICAgICAgICAgIF90aGlzMTUuaGFuZGxlU2VhcmNoKCk7CgogICAgICAgICAgICAgIF90aGlzMTUuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgaWYgKCFfdGhpczE1LnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mb18pIHsKICAgICAgICAgICAgICAgIF90aGlzMTUuJGVtaXQoJ2JyaW5nSW5DYWxjQ29kZScsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NEZXRhaWxUeXBlLCBwZHRlbXBQZENhbGMucGRCdXNzSWQsIHBkdGVtcFBkQ2FsYy5wZENhbGNDb2RlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMxNS5icmluZ0luQ2FsY0NvZGUoUGR0ZW1wUGRDYWxjLnBkQnVzc0RldGFpbFR5cGUsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NJZCwgcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMTUubWVzc2FnZUluZm8oX3RoaXMxNS4kdCgndW5kZXJ3cml0aW5nQW1vdW50Rm9ybXVsYVNlbGVjdC5jYW5jZWxlZCcpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n\r\n    <!--  -->\r\n    <cus-page-title-back v-if=\"!productCalcRevisionShowINfo_\" :isDialog=\"true\"\r\n                         :label=\"pdUwSiTypeDtOptions?$t('premFormula.extPremCalcDef'):$t('premFormula.premCalcDef')\"\r\n                         @backTo=\"backToPremDef\"/>\r\n    <!--  -->\r\n    <cus-page-title-back v-if=\"revisionType === 'extPremium'\" :label=\"$t('route.pdExtPremFormulaRevision')\"\r\n                         @backTo=\"backToFormulaRev\"/>\r\n\r\n    <el-form v-if=\"!productCalcRevisionShowINfo_\" ref=\"productBnftForm\" :model=\"productBnftForm\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('premFormula.premItem')\">\r\n            <el-select v-model=\"productBnftForm.prem\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       disabled filterable @change=\"selectedPremiumChanged\">\r\n              <el-option v-for=\"item in Options1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item v-if=\"pdUwSiTypeDtOptions\" :label=\"$t('premFormula.extPremItem')\">\r\n            <el-select v-model=\"productBnftForm.extPrem\" :placeholder=\"$t('pdtempPdBnft.pleaseChoose')\" clearable\r\n                       disabled filterable @change=\"selectedExtPremiumChanged\">\r\n              <el-option v-for=\"item in Options2\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!--  -->\r\n    <div v-if=\"revisionType === 'premium'\">\r\n      <cus-table-title :label=\"$t('premFormula.pdPremItem')\"/>\r\n      <el-table :data=\"tableDataPremium\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                max-height=\"300\" size=\"mini\" @row-click=\"rowClickPremium\">\r\n        <el-table-column :label=\"$t('table.select')\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedPremiumInRev\" @change=\"selectedPremiumInRevChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" type=\"expand\" width=\"80\">\r\n          <template slot-scope=\"props\">\r\n            <el-form class=\"demo-table-expand\" inline label-position=\"left\">\r\n              <el-form-item :label=\"$t('pay_def.pay_calc_method')\">\r\n                <span>{{ props.row.pdPremCalMode | filter_calcMethod }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_zero')\">\r\n                <span>{{ props.row.pdPremZeroFlag | filter_payZero }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_start_calc_basis')\">\r\n                <span>{{ props.row.pdPayStartCalRule | filter_startCalcRule }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_start_calc_valuetypes')\">\r\n                <span>{{ props.row.pdPayStartCalMode | filter_startCalcMethod }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_end_calc_basis')\">\r\n                <span>{{ props.row.pdPayEndCalRule | filter_endCalcRule }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_end_calc_method')\">\r\n                <span>{{ props.row.pdPayEndCalMode | filter_endCalcMethod }}</span>\r\n              </el-form-item>\r\n              <el-form-item :label=\"$t('pay_def.pay_calc_formula_code')\">\r\n                <span>{{ props.row.pdPremCalcCode }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_premium', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPremCode')\" align=\"center\" min-width=\"200\" prop=\"pdPremCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPayName')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdPayName\"></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdRateChangeFlag')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdRateChangeFlag\"></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPremAccRela')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdPremAccRela\"></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPayEndPeriod')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            <span v-for=\"item in scope.row.pdtempPdPremPeriodList\">\r\n              {{ item.pdPayEndPeriod }}\r\n              {{ item.pdPayEndUnit | filter_pdPayEndUnit }}\r\n              {{\r\n                scope.row.pdtempPdPremPeriodList.indexOf(item) === scope.row.pdtempPdPremPeriodList.length - 1 ? '' : ','\r\n              }}\r\n            </span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdPremCalcCode\"></el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_premium\" v-model=\"tableDataPremium\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_premium\" url=\"/PremAmountFormul/list/getAllPremiumByPdInfoId\"/>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"revisionType === 'extPremium'\">\r\n      <cus-table-title :label=\"$t('premFormula.pdExtPremItem')\"/>\r\n      <el-table :data=\"tableDataExtPremium\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                max-height=\"300\" size=\"mini\" @row-click=\"rowClickExtPremium\">\r\n        <el-table-column :label=\"$t('table.select')\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedExtPremiumInRev\" @change=\"selectedExtPremiumInRevChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_extPremium', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPremCode')\" align=\"center\" min-width=\"200\" prop=\"pdPremCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdPayName')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdPremName\"></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdExtPremCode')\" align=\"center\" min-width=\"200\" prop=\"pdExtPremCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdExtPremName')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdExtPremName\"></el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdExtPremObj')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdExtPremObj\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdExtPremObj | filter_pdExtPremObj }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdExtPremType')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdExtPremType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdExtPremType | filter_pdExtPremType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('premFormula.pdExtPremMode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdExtPremMode\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdExtPremMode | filter_pdExtPremMode }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdExtPremCalcCode\"></el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_extPremium\" v-model=\"tableDataExtPremium\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_extPremium\" url=\"/PremAmountFormul/list/getAllExtPremiumByPdInfoId\"/>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div\r\n      v-if=\"!productCalcRevisionShowINfo_ || productCalcRevisionShowINfo_ && (Object.keys(selectedPremiumInRev).length > 0 || Object.keys(selectedExtPremiumInRev).length > 0)\">\r\n      <cus-form-title v-if=\"!productCalcRevisionShowINfo_\" :first=\"true\"\r\n                      :label=\"pdUwSiTypeDtOptions?$t('premFormula.selectedExtPremFormula'):$t('premFormula.selectedPremFormula')\"></cus-form-title>\r\n      <cus-form-title v-if=\"productCalcRevisionShowINfo_\" :first=\"true\"\r\n                      :label=\"revisionType==='extPremium'?$t('premFormula.selectedExtPremFormula'):$t('premFormula.selectedPremFormula')\"></cus-form-title>\r\n      <cus-table-title v-if=\"!productCalcRevisionShowINfo_\"\r\n                       :label=\"pdUwSiTypeDtOptions?$t('premFormula.pdExtPremFormula'):$t('premFormula.pdPremFormula')\"/>\r\n      <cus-table-title v-if=\"productCalcRevisionShowINfo_\"\r\n                       :label=\"revisionType==='extPremium'?$t('premFormula.pdExtPremFormula'):$t('premFormula.pdPremFormula')\"/>\r\n      <el-table :data=\"tableDataFormula\" border element-loading-text=\"Loading\" fit\r\n                highlight-current-row max-height=\"300\" size=\"mini\" @row-click=\"rowClick\">\r\n        <el-table-column :label=\"$t('table.select')\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedFormula\" @change=\"selectedFormulaChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"!pdUwSiTypeDtOptions\" :label=\"$t('premFormula.premItem')\" align=\"center\" min-width=\"200\"\r\n                         sortable>\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.premiumCode ? scope.row.premiumCode + ':' + scope.row.premiumName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"pdUwSiTypeDtOptions || productCalcRevisionShowINfo_\"\r\n                         :label=\"$t('premFormula.extPremItem')\"\r\n                         align=\"center\"\r\n                         min-width=\"200\" sortable>\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.extPremiumCode ? scope.row.extPremiumCode + ':' + scope.row.extPremiumName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdBussDetailType')\" align=\"center\" min-width=\"200\" prop=\"pdExtPremCode\"\r\n                         sortable>\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"pdUwSiTypeDtOptions?$t('premFormula.extPremCalcCode'):$t('premFormula.premCalcCode')\"\r\n                         align=\"center\" min-width=\"200\" prop=\"pdCalcCode\" sortable></el-table-column>\r\n        <el-table-column :label=\"pdUwSiTypeDtOptions?$t('premFormula.extPremCalcDesc'):$t('premFormula.premCalcDesc')\"\r\n                         align=\"center\" min-width=\"200\" prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn v-auth=\"'PremAmountFormul:delete'\" @ok=\"deleteFormula(scope.row)\"></cus-del-btn>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_current\" v-model=\"tableDataFormula\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_current\" url=\"/PremAmountFormul/list/currentFormula\"/>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showFlag\">\r\n      <cus-form-title :label=\"$t('premFormula.premRateConfig')\"/>\r\n      <el-form ref=\"rateForm\" :model=\"rateForm\" :rules=\"rateFormRules\" label-width=\"auto\">\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('premFormula.editPremRateConfig')\">\r\n              <el-switch v-model=\"rateEditFlag\" @change=\"rateEditFlagChanged\"></el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('premFormula.variableRateFlag')\">\r\n              <el-switch v-model=\"variableRateFlag\" :disabled=\"!rateEditFlag\"></el-switch>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\" type=\"flex\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"VPU\" prop=\"vpu\">\r\n              <el-input v-model=\"rateForm.vpu\" :disabled=\"!rateEditFlag\"\r\n                        :placeholder=\"$t('form.please_enter')+$t('form.number')\" clearable filterable\r\n                        type=\"number\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('premFormula.edition')\" prop=\"rateEdition\">\r\n              <el-input v-model=\"rateForm.rateEdition\" :disabled=\"!rateEditFlag\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('premFormula.startDate')\"\r\n                          :rules=\"{required: variableRateFlag, message: this.$t('premFormula.pleaseSelectStartDate'), trigger: 'change'}\"\r\n                          prop=\"startDate\">\r\n              <el-date-picker v-model=\"rateForm.startDate\" :disabled=\"!rateEditFlag\"\r\n                              value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item :label=\"$t('premFormula.endDate')\"\r\n                          :rules=\"{required: variableRateFlag, message: this.$t('premFormula.pleaseSelectEndDate'), trigger: 'change'}\"\r\n                          prop=\"endDate\">\r\n              <el-date-picker v-model=\"rateForm.endDate\" :disabled=\"!rateEditFlag\"\r\n                              value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <el-row>\r\n        <el-button-group>\r\n          <el-button icon=\"el-icon-upload\" size=\"small\" type=\"primary\" @click=\"underwritingShow = true\">\r\n            {{ $t('premFormula.uploadRateTable') }}\r\n          </el-button>\r\n        </el-button-group>\r\n      </el-row>\r\n\r\n      <cus-table-title :label=\"$t('premFormula.rateTable')\"/>\r\n      <el-table ref=\"tableDataFormulaParams\" :data=\"tableDataFormulaParams\" border element-loading-text=\"Loading\" fit\r\n                highlight-current-row max-height=\"300\" size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column v-for=\"item in dataGet.paramArr\" :label=\"item.prop\" :prop=\"item.column\" align=\"center\">\r\n          <template v-slot=\"scope\">\r\n            <el-input v-if=\"item.commandType === 'String' || item.commandType === 'RESULT'\"\r\n                      v-model=\"scope.row[item.column]\"></el-input>\r\n            <el-input-number v-if=\"item.commandType === 'Number' || item.commandType === 'Int'\"\r\n                             v-model=\"scope.row[item.column]\"\r\n                             style=\"width: 100%\"></el-input-number>\r\n            <el-select v-if=\"item.commandType === 'select'\" v-model=\"scope.row[item.column]\">\r\n              <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n            </el-select>\r\n            <el-select v-if=\"item.commandType === 'multiple'\" v-model=\"scope.row[item.column]\" multiple>\r\n              <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n            </el-select>\r\n            <el-date-picker v-if=\"item.commandType === 'Date'\" v-model=\"scope.row[item.column]\"\r\n                            :placeholder=\"$t('dynamicTable.selectDate')\" type=\"date\"\r\n                            value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n            <el-button v-if=\"item.commandType === 'RULEID'\" size=\"mini\">{{ $t('route.multilingual_information') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" :width=\"tableDataFormulaParams.length > 0 ? 150 : undefined\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"deleteFormulaParam(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button size=\"mini\" type=\"primary\" @click=\"addDataRow\">+</el-button>\r\n      <el-form>\r\n        <el-form-item style=\"text-align: right\">\r\n          <el-button icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"saveFormulaParam\">\r\n            {{ $t('pdtempPdClmBnft.save') }}\r\n          </el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refreshFormulaParam\">\r\n            {{ $t('pdtempPdClmBnft.clean') }}\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div\r\n      v-if=\"!productCalcRevisionShowINfo_ || productCalcRevisionShowINfo_ && (Object.keys(selectedPremiumInRev).length > 0 || Object.keys(selectedExtPremiumInRev).length > 0)\">\r\n      <cus-form-title v-if=\"!productCalcRevisionShowINfo_\" :first=\"true\"\r\n                      :label=\"pdUwSiTypeDtOptions?$t('premFormula.selectableExtPremFormula'):$t('premFormula.selectablePremFormula')\"\r\n                      style=\"margin-top: 50px\"></cus-form-title>\r\n      <cus-form-title v-if=\"productCalcRevisionShowINfo_\" :first=\"true\"\r\n                      :label=\"revisionType==='extPremium'?$t('premFormula.selectableExtPremFormula'):$t('premFormula.selectablePremFormula')\"\r\n                      style=\"margin-top: 50px\"></cus-form-title>\r\n\r\n      <el-row style=\"text-align: right\">\r\n        <el-button icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"toFormulaSelect\">\r\n          {{ $t('rule.moreFormula') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-circle-plus el-icon--left\" size=\"small\" type=\"primary\" @click=\"toAddFormula\">\r\n          {{ $t('rule.toAddFormula') }}\r\n        </el-button>\r\n      </el-row>\r\n\r\n      <cus-table-title v-if=\"!productCalcRevisionShowINfo_\"\r\n                       :label=\"pdUwSiTypeDtOptions?$t('premFormula.extPremFormula'):$t('premFormula.premFormula')\"></cus-table-title>\r\n      <cus-table-title v-if=\"productCalcRevisionShowINfo_\"\r\n                       :label=\"revisionType==='extPremium'?$t('premFormula.extPremFormula'):$t('premFormula.premFormula')\"></cus-table-title>\r\n      <el-table :data=\"tableDataBriefFormula\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_brief', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filter_pdCode\" :filters=\"filters_pdCode\" :label=\"$t('rule.product')\"\r\n                         align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"calculationFormulaType === '17' || productCalcRevisionShowINfo_\"\r\n                         :label=\"$t('premFormula.premItem')\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.premiumCode ? scope.row.premiumCode + ':' + scope.row.premiumName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"calculationFormulaType === '19' || revisionType === 'extPremium'\"\r\n                         :label=\"$t('premFormula.extPremItem')\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.extPremiumCode ? scope.row.extPremiumCode + ':' + scope.row.extPremiumName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdBussDetailType')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcDesc')\" align=\"center\" prop=\"pdCalcDesc\"\r\n                         width=\"120\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" width=\"100\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template v-slot=\"scope\">\r\n            <el-button v-auth=\"'PremAmountFormul:associate'\" icon=\"el-icon-connection\"\r\n                       size=\"mini\" type=\"primary\" @click=\"handleSelectFormula(scope.row)\">\r\n              {{ $t('form.select') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_brief\" v-model=\"tableDataBriefFormula\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_brief\" url=\"/PremAmountFormul/list/briefFormula\"/>\r\n    </div>\r\n\r\n    <!---->\r\n    <el-dialog v-dialog-drag :append-to-body=\"true\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\r\n               :visible.sync=\"underwritingShow\" center width=\"70%\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('premFormula.uploadRateTable')\"\r\n                           @backTo=\"underwritingShow = false\"/>\r\n      <el-row>\r\n        <el-button-group>\r\n          <el-button v-auth=\"'pdtemp-pd-cv:downloadCvTable'\" size=\"small\" type=\"primary\" @click=\"downloadCvTable\">\r\n            {{ $t('premFormula.downloadRateTable') }}\r\n          </el-button>\r\n        </el-button-group>\r\n      </el-row>\r\n\r\n      <el-form id=\"uploadForm\" style=\"margin-top: 5px\">\r\n        <el-form-item>\r\n          <el-upload ref=\"upload\" :auto-upload=\"true\" :before-upload=\"handleBeforeUpload\" :file-list=\"fileList\"\r\n                     :on-remove=\"handleRemove\" action=\"url\" class=\"upload-demo\" drag multiple>\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">{{ $t('premFormula.text01') }}</div>\r\n            <div class=\"el-upload__text\">{{ $t('premFormula.text02') }}<em>{{ $t('premFormula.text03') }}</em></div>\r\n            <div slot=\"tip\" class=\"el-upload__tip\">{{ $t('premFormula.text04') }}</div>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!--  -->\r\n    <el-dialog v-if=\"formulaSelectVisible\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"formulaSelectVisible\" append-to-body center width=\"70%\">\r\n      <premAmountFormulaSelect :calculationFormulaType=\"productBnftForm.ExpressionType\"\r\n                               :pdUwSiTypeDtOptions=\"productBnftForm.extPrem\"\r\n                               :pdUwSiTypeOptions=\"productBnftForm.prem\" guaranteeDetails=\"1\"\r\n                               @bringInCalcCode=\"bringInCalcCode\"\r\n                               @changeDialogVisible_formulaSelect=\"changeDialogVisible_formulaSelect\"></premAmountFormulaSelect>\r\n    </el-dialog>\r\n\r\n    <!--  -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"formulaVisible\"></cus-rule-definition>\r\n\r\n    <!--  -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"formulaViewClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n  associate,\r\n  deleteFormula,\r\n  findExtPremById,\r\n  getRateInfo,\r\n  saveFormulaInRuleEngine\r\n} from \"@/api/basicinfo/premAmountFormula\"\r\nimport {findPremById} from '@/api/basicinfo/acceptInsuranceRules'\r\nimport XLSX from 'xlsx'\r\nimport {getCalcCode} from \"@/api/basicinfo/pdtemppdprem\"\r\nimport premAmountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula-select\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n\r\n  name: 'premFormula',\r\n  components: {\r\n    premAmountFormulaSelect\r\n  },\r\n  filters: {\r\n    filter_pdBussType(code) {\r\n      return _this.getCodeName('ruleBusinessModule', code)\r\n    },\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    },\r\n    filter_pdPayEndUnit(code) {\r\n      return _this.getCodeName('pdsbnftdy', code, true)\r\n    },\r\n    filter_calcMethod(code) {\r\n      return _this.getCodeName('pd_prem_cal_method', code)\r\n    },\r\n    filter_payZero(code) {\r\n      return _this.getCodeName('pd_prem_zero', code)\r\n    },\r\n    filter_startCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_rule', code)\r\n    },\r\n    filter_startCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_start_calc_method', code)\r\n    },\r\n    filter_endCalcRule(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_rule', code)\r\n    },\r\n    filter_endCalcMethod(code) {\r\n      return _this.getCodeName('pd_prem_end_calc_method', code)\r\n    },\r\n    filter_pdExtPremObj(code) {\r\n      return _this.getCodeName('pdAddPremObj', code)\r\n    },\r\n    filter_pdExtPremType(code) {\r\n      return _this.getCodeName('pd_prem_addition_type', code)\r\n    },\r\n    filter_pdExtPremMode(code) {\r\n      return _this.getCodeName('pd_prem_addition_addition_mode', code)\r\n    }\r\n  },\r\n  props: {\r\n    // \r\n    guaranteeDetails: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    // \r\n    calculationFormulaType: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    // \r\n    pdUwSiTypeOptions: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    // \r\n    pdUwSiTypeDtOptions: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    // \r\n    productCalcRevisionShowINfo: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      productCalcRevisionShowINfo_: false,\r\n      page: undefined,\r\n      pageSize: undefined,\r\n      revisionType: '',\r\n      filters_pdCode: [],\r\n      params_premium: {\r\n        eq_pdInfoId: undefined\r\n      },\r\n      params_extPremium: {\r\n        pdInfoId: undefined\r\n      },\r\n      params_current: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdBussType: '1',\r\n        eq_pdBussDetailType: '',\r\n        eq_pdStructureType: '',\r\n        eq_pdBussId: '',\r\n        eq_pdType: '1'\r\n      },\r\n      params_brief: {\r\n        product: undefined,\r\n        pdBussId: undefined,\r\n        productDetailType: '',\r\n        pdBussDetailType: this.productCalcRevisionShowINfo_ ? '' : this.calculationFormulaType\r\n      },\r\n      formulaSelectVisible: false,\r\n      formulaVisible: false,\r\n      attributeObj: {},\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        visible: false,\r\n        performType: ''\r\n      },\r\n      language: null,\r\n      ruleMessageInfoBom: [],\r\n      underwritingShow: false,//\r\n      fileList: [],\r\n      url: 'http://localhost:8089/api/pdtemp-pd-file/upLoad',\r\n      productBnftForm: {\r\n        prem: '',\r\n        extPrem: '',\r\n        ExpressionType: ''\r\n      },\r\n      rateForm: {\r\n        vpu: undefined,\r\n        rateEdition: '',\r\n        startDate: undefined,\r\n        endDate: undefined\r\n      },\r\n      rateEditFlag: false,\r\n      variableRateFlag: false,\r\n      tableDataPremium: [],\r\n      tableDataExtPremium: [],\r\n      tableDataFormula: [],\r\n      tableDataBriefFormula: [],\r\n      selectedFormula: {},\r\n      selectedPremiumInRev: {},\r\n      selectedExtPremiumInRev: {},\r\n      tableDataFormulaParams: [],\r\n      showFlag: false,\r\n      Options1: [],//\r\n      Options2: [],//\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      dataGet: {},\r\n      rateFormRules: {\r\n        vpu: [{\r\n          required: true,\r\n          message: this.$t('premFormula.pleaseInputVPU'),\r\n          trigger: 'change'\r\n        }],\r\n        rateEdition: [{\r\n          required: true,\r\n          message: this.$t('premFormula.pleaseInputEdition'),\r\n          trigger: 'change'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    tableDataBriefFormula() {\r\n      this.filters_pdCode = []\r\n      for (const item of this.tableDataBriefFormula) {\r\n        if (!this._.includes(this._.map(this.filters_pdCode, 'value'), item.pdCode)) {\r\n          this.filters_pdCode.push({\r\n            text: item.pdCode + ':' + item.pdName,\r\n            value: item.pdCode\r\n          })\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.language = this.$store.state.app.language\r\n    this.ruleMessageInfoBom = this.$store.state.ruleMessage.ruleMessages\r\n    if (this.productCalcRevisionShowINfo_) { // \r\n      if (this.revisionType === 'premium') {\r\n        this.$refs.page_premium.reload()\r\n      } else if (this.revisionType === 'extPremium') {\r\n        this.$refs.page_extPremium.reload()\r\n      }\r\n    } else { // \r\n      this.findPremById(this.product.id)\r\n      this.productBnftForm.prem = this.pdUwSiTypeOptions\r\n      this.productBnftForm.ExpressionType = this.calculationFormulaType\r\n      if (this.pdUwSiTypeDtOptions) {\r\n        this.findExtPremById(this.productBnftForm.prem).then(() => {\r\n          this.productBnftForm.extPrem = this.pdUwSiTypeDtOptions\r\n          this.handleSearch()\r\n        })\r\n      } else {\r\n        this.handleSearch()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n    this.revisionType = this.$route.query.revisionType\r\n    // \r\n    if (this.revisionType === 'premium') {\r\n      this.productCalcRevisionShowINfo_ = true\r\n      this.params_brief.pdBussDetailType = '17'\r\n    }\r\n    // \r\n    if (this.revisionType === 'extPremium') {\r\n      this.productCalcRevisionShowINfo_ = true\r\n      this.params_brief.pdBussDetailType = '19'\r\n    }\r\n    this.initProductInfo()\r\n  },\r\n  methods: {\r\n    rateEditFlagChanged(rateEditFlag) {\r\n      this.variableRateFlag = false\r\n      if (false === rateEditFlag) {\r\n        // \r\n        getRateInfo(this.buildRequestData({\r\n          pdPremId: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.id : this.getCaption(this.pdUwSiTypeOptions, 0),\r\n          pdCalcCode: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.pdPremCalcCode : this.selectedFormula.pdCalcCode\r\n        },)).then(response => {\r\n          if (response.data) {\r\n            Object.assign(this.rateForm, response.data)\r\n          } else {\r\n            this.$nextTick(() => {\r\n              this.$refs.rateForm.resetFields()\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.visible = true\r\n    },\r\n    filter_pdCode(value, row) {\r\n      return value === row.pdCode\r\n    },\r\n    ruleModuleClosed() {\r\n      this.formulaVisible = false\r\n      if (!this.productCalcRevisionShowINfo_ || this.productCalcRevisionShowINfo_ && (Object.keys(this.selectedPremiumInRev).length > 0 || Object.keys(this.selectedExtPremiumInRev).length > 0)) {\r\n        this.$refs.page_brief.reload()\r\n      }\r\n    },\r\n    formulaViewClosed() {\r\n      this.formulaView.visible = false\r\n      if (!this.showFlag) {\r\n        this.selectedFormula = {}\r\n      }\r\n    },\r\n    //\r\n    findPremById(id) {\r\n      let params = {\r\n        pdInfoId: id,\r\n        pdProgCode: '',\r\n      }\r\n      findPremById(params).then(res => {\r\n        let data = res.data\r\n        this.Options1 = []\r\n        if (data.length) {\r\n          data.forEach(val => {\r\n            this.Options1.push({\r\n              key: val.id,\r\n              value: val.id + \":\" + val.pdPremCode,\r\n              label: val.pdPremCode + \":\" + val.pdPayName\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //\r\n    async findExtPremById(row) {\r\n      return new Promise(resolve => {\r\n        this.productBnftForm.extPrem = ''\r\n        this.Options2 = []\r\n        let code = this.getCaption(row, 1)\r\n        if (!code) {\r\n          return\r\n        }\r\n        findExtPremById(code).then(res => {\r\n          let data = res.data\r\n          this.Options2 = []\r\n          if (data.length) {\r\n            data.forEach(val => {\r\n              this.Options2.push({\r\n                key: val.id,\r\n                value: val.id + \":\" + val.pdExtPremCode,\r\n                label: val.pdExtPremCode + \":\" + val.pdExtPremName\r\n              })\r\n            })\r\n          }\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    selectedPremiumChanged(val) {\r\n      if (this.productCalcRevisionShowINfo_) { // \r\n        this.productBnftForm.extPrem = ''\r\n        this.Options2 = []\r\n        if (val) {\r\n          this.findExtPremById(val)\r\n        }\r\n      } else { // \r\n        if (this.pdUwSiTypeDtOptions) {\r\n          this.productBnftForm.extPrem = ''\r\n          this.Options2 = []\r\n          if (val) {\r\n            this.findExtPremById(val)\r\n          }\r\n        } else {\r\n          if (val) {\r\n            this.handleSearch()\r\n          }\r\n        }\r\n      }\r\n    },\r\n    selectedExtPremiumChanged(val) {\r\n      val && this.handleSearch()\r\n    },\r\n    handleSearch() {\r\n      this.params_current.eq_pdInfoId = this.product.id\r\n      this.params_current.eq_pdBussType = '1'\r\n      this.params_current.eq_pdType = '1'\r\n      if (this.productCalcRevisionShowINfo_) {\r\n        if (this.revisionType === 'premium') {\r\n          this.params_current.eq_pdBussDetailType = '17'\r\n          this.params_current.eq_pdStructureType = '05'\r\n          this.params_current.eq_pdBussId = this.selectedPremiumInRev.id\r\n        } else if (this.revisionType === 'extPremium') {\r\n          this.params_current.eq_pdBussDetailType = '19'\r\n          this.params_current.eq_pdStructureType = '06'\r\n          this.params_current.eq_pdBussId = this.selectedExtPremiumInRev.id\r\n        }\r\n      } else {\r\n        if (this.productBnftForm.extPrem) {\r\n          this.params_current.eq_pdBussDetailType = '19'\r\n          this.params_current.eq_pdStructureType = '06'\r\n          this.params_current.eq_pdBussId = this.getCaption(this.productBnftForm.extPrem, 0)\r\n        } else if (this.productBnftForm.prem) {\r\n          this.params_current.eq_pdBussDetailType = '17'\r\n          this.params_current.eq_pdStructureType = '05'\r\n          this.params_current.eq_pdBussId = this.getCaption(this.productBnftForm.prem, 0)\r\n        }\r\n      }\r\n      this.$refs.page_current.reload().then(() => {\r\n        if ((this.calculationFormulaType === '17' || this.revisionType === 'premium') && this.tableDataFormula.length === 1 && this.tableDataFormula[0].dataGet) {\r\n          this.selectedFormula = this.tableDataFormula[0]\r\n          this.selectedFormulaChanged()\r\n        }\r\n      })\r\n    },\r\n    initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      if (Object.keys(pdtempPdInfo).length > 0) {\r\n        Object.assign(this.product, pdtempPdInfo)\r\n        this.params_brief.product = pdtempPdInfo\r\n        this.params_brief.pdBussId = this.productCalcRevisionShowINfo_ ? undefined : (this.calculationFormulaType === '17' ? this.getCaption(this.pdUwSiTypeOptions, 0) : this.getCaption(this.pdUwSiTypeDtOptions, 0))\r\n        this.params_premium.eq_pdInfoId = pdtempPdInfo.id\r\n        this.params_extPremium.pdInfoId = pdtempPdInfo.id\r\n        this.params_brief.productDetailType = this.product.cType\r\n        if (!this.productCalcRevisionShowINfo_) {\r\n          this.$nextTick(() => {\r\n            this.$refs.page_brief.reload()\r\n          })\r\n        }\r\n      } else {\r\n        this.notifyError(this.$t('message.invalidProductInfo'))\r\n      }\r\n    },\r\n    backToPremDef() {\r\n      this.$emit('changeDialogVisible_formula', false)\r\n    },\r\n    backToFormulaRev() {\r\n      this.$router.push({name: '', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    toFormulaSelect() {\r\n      if (this.productCalcRevisionShowINfo_) { // \r\n        if (this.revisionType === 'premium') {\r\n          if (Object.keys(this.selectedPremiumInRev).length === 0) {\r\n            this.notifyError(this.$t('premFormula.pleaseSelectPremium'))\r\n            return\r\n          } else {\r\n            this.productBnftForm.ExpressionType = '17'\r\n            this.productBnftForm.prem = this.selectedPremiumInRev.id + ':' + this.selectedPremiumInRev.pdPremCode\r\n            this.productBnftForm.extPrem = ''\r\n          }\r\n        } else if (this.revisionType === 'extPremium') {\r\n          if (Object.keys(this.selectedExtPremiumInRev).length === 0) {\r\n            this.notifyError(this.$t('premFormula.pleaseSelectExtPremium'))\r\n            return\r\n          } else {\r\n            this.productBnftForm.ExpressionType = '19'\r\n            this.productBnftForm.prem = ''\r\n            this.productBnftForm.extPrem = this.selectedExtPremiumInRev.id + ':' + this.selectedExtPremiumInRev.pdExtPremCode\r\n          }\r\n        }\r\n      } else { // \r\n        if (this.pdUwSiTypeDtOptions) {\r\n          if (!this.productBnftForm.extPrem || !this.productBnftForm.prem) {\r\n            this.notifyError(this.$t('premFormula.pleaseSelectPremiumAndEctPremium'))\r\n            return\r\n          }\r\n        } else {\r\n          if (!this.productBnftForm.prem) {\r\n            this.notifyError(this.$t('premFormula.pleaseSelectPremiumAndEctPremium'))\r\n            return\r\n          }\r\n        }\r\n        if (!this.pdUwSiTypeDtOptions) {\r\n          this.productBnftForm.ExpressionType = '17' // \r\n        } else {\r\n          this.productBnftForm.ExpressionType = '19' // \r\n        }\r\n      }\r\n      if (this.revisionType === 'extPremium') {\r\n        this.formulaSelectVisible = true\r\n      } else {\r\n        this.$emit('changeDialogVisible_formulaSelect', true, '1', this.productBnftForm.ExpressionType,\r\n          this.productBnftForm.prem, this.productBnftForm.extPrem)\r\n      }\r\n    },\r\n    // \r\n    changeDialogVisible_formulaSelect(flag) {\r\n      this.formulaSelectVisible = flag\r\n      this.$refs.page_current.reload()\r\n      this.$refs.page_brief.reload()\r\n    },\r\n    bringInCalcCode(pdBussDetailType, pdBussId, pdCalcCode) {\r\n      if ('19' === pdBussDetailType) {\r\n        for (const extPremium of this.tableDataExtPremium) {\r\n          if (extPremium.id === pdBussId) {\r\n            this.$set(extPremium, 'pdExtPremCalcCode', pdCalcCode)\r\n            break\r\n          }\r\n        }\r\n      } else if ('17' === pdBussDetailType) {\r\n        for (const premium of this.tableDataPremium) {\r\n          if (premium.id === pdBussId) {\r\n            this.$set(premium, 'pdPremCalcCode', pdCalcCode)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    },\r\n    toAddFormula() {\r\n      const param = {\r\n        pdBussType: this.productCalcRevisionShowINfo_ ? '1' : this.guaranteeDetails,\r\n        pdBussDetailType: this.productCalcRevisionShowINfo_ ? (this.revisionType === 'premium' ? '17' : '19') : this.calculationFormulaType\r\n      }\r\n      getCalcCode(this.buildRequestData(param)).then(response => {\r\n        this.attributeObj = {\r\n          code: response.data,\r\n          ruleBussModu: param.pdBussType,\r\n          ruleBussModuDeta: param.pdBussDetailType,\r\n          ruleType: '2',\r\n          pdType: '1',\r\n          riskType: this.product.bType,\r\n          riskDetail: this.product.cType,\r\n          pdCode: this.product.pdCode,\r\n          pdEdition: this.product.pdEdition\r\n        }\r\n        this.formulaVisible = true\r\n      })\r\n    },\r\n    rowClick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedFormula.id) {\r\n          this.selectedFormula = {}\r\n          this.tableDataFormulaParams = []\r\n          this.resetRateForm()\r\n          this.showFlag = false\r\n        }\r\n      }\r\n    },\r\n    rowClickPremium(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedPremiumInRev.id) {\r\n          this.selectedPremiumInRev = {}\r\n          this.params_brief.pdBussId = undefined\r\n          this.tableDataFormula = []\r\n          this.$refs.page_current.total = 0\r\n          this.$refs.page_current.page = 1\r\n          this.tableDataBriefFormula = []\r\n          this.$refs.page_brief.total = 0\r\n          this.$refs.page_brief.page = 1\r\n          this.selectedFormula = {}\r\n          this.tableDataFormulaParams = []\r\n          this.resetRateForm()\r\n          this.showFlag = false\r\n        }\r\n      }\r\n    },\r\n    rowClickExtPremium(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedExtPremiumInRev.id) {\r\n          this.selectedExtPremiumInRev = {}\r\n          this.params_brief.pdBussId = undefined\r\n          this.tableDataFormula = []\r\n          this.$refs.page_current.total = 0\r\n          this.$refs.page_current.page = 1\r\n          this.tableDataBriefFormula = []\r\n          this.$refs.page_brief.total = 0\r\n          this.$refs.page_brief.page = 1\r\n          this.selectedFormula = {}\r\n        }\r\n      }\r\n    },\r\n    resetRateForm() {\r\n      this.rateForm = {\r\n        vpu: undefined,\r\n        rateEdition: '',\r\n        startDate: undefined,\r\n        endDate: undefined\r\n      }\r\n      this.$nextTick(() => {\r\n        if (this.$refs.rateForm) {\r\n          this.$refs.rateForm.clearValidate()\r\n        }\r\n      })\r\n    },\r\n    selectedFormulaChanged() {\r\n      if (this.calculationFormulaType === '17' || this.revisionType === 'premium') {\r\n        this.rateEditFlag = false\r\n        this.variableRateFlag = false\r\n        this.tableDataFormulaParams = []\r\n        if (!this.selectedFormula.dataGet) {\r\n          this.formulaView.flag = this.selectedFormula.ruleAttr === '1' ? '1' : '2'\r\n          this.formulaView.ruleCode = this.selectedFormula.pdCalcCode\r\n          this.formulaView.performType = this.selectedFormula.performType\r\n          this.formulaView.visible = true\r\n          return\r\n        }\r\n        this.dataGet = JSON.parse(this.selectedFormula.dataGet)\r\n        this.tableDataFormulaParams = this.dataGet.paramList\r\n        // \r\n        getRateInfo(this.buildRequestData({\r\n          pdPremId: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.id : this.getCaption(this.pdUwSiTypeOptions, 0),\r\n          pdCalcCode: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.pdPremCalcCode : this.selectedFormula.pdCalcCode\r\n        })).then(response => {\r\n          this.showFlag = true\r\n          if (response.data) {\r\n            Object.assign(this.rateForm, response.data)\r\n          } else {\r\n            this.$nextTick(() => {\r\n              this.$refs.rateForm.resetFields()\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        this.formulaView.flag = this.selectedFormula.ruleAttr === '1' ? '1' : '2'\r\n        this.formulaView.ruleCode = this.selectedFormula.pdCalcCode\r\n        this.formulaView.performType = this.selectedFormula.performType\r\n        this.formulaView.visible = true\r\n      }\r\n    },\r\n    initTableDataInRev() {\r\n      this.handleSearch()\r\n      this.$refs.page_brief.reload()\r\n    },\r\n    selectedPremiumInRevChanged() {\r\n      this.selectedFormula = {}\r\n      this.tableDataFormulaParams = []\r\n      this.resetRateForm()\r\n      this.showFlag = false\r\n      this.handleSearch()\r\n      this.params_brief.pdBussId = this.selectedPremiumInRev.id\r\n      this.$refs.page_brief.reload()\r\n    },\r\n    selectedExtPremiumInRevChanged() {\r\n      this.selectedFormula = {}\r\n      this.handleSearch()\r\n      this.params_brief.pdBussId = this.selectedExtPremiumInRev.id\r\n      this.$refs.page_brief.reload()\r\n    },\r\n    deleteFormula(row) {\r\n      deleteFormula(row).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.handleSearch()\r\n        this.$refs.page_brief.reload()\r\n        if (!this.productCalcRevisionShowINfo_) {\r\n          this.$emit('bringInCalcCode', row.pdBussDetailType, row.pdBussId, undefined)\r\n        } else {\r\n          this.bringInCalcCode(row.pdBussDetailType, row.pdBussId, undefined)\r\n        }\r\n        this.showFlag = false\r\n      })\r\n    },\r\n    getCaption(obj, state) {\r\n      const index = obj.lastIndexOf(\":\")\r\n      if (state === 0) {\r\n        return obj.substring(0, index)\r\n      } else {\r\n        return obj.substring(index + 1, obj.length)\r\n      }\r\n    },\r\n    handleBeforeUpload(file) {\r\n      this.$confirm(String(this.$t('premFormula.text05')), String(this.$t('confirmMessage.tip')), {\r\n        confirmButtonText: this.$t('confirmMessage.confirm'),\r\n        cancelButtonText: this.$t('confirmMessage.cancel'),\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: String(this.$t('premFormula.continue'))\r\n        })\r\n        this.fileList = []\r\n        this.fileList.push(file)\r\n        let files = {0: file}\r\n        this.readExcel(files)\r\n        return true\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: String(this.$t('premFormula.canceled'))\r\n        })\r\n        return false\r\n      })\r\n      return false\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    //\r\n    downloadCvTable() {\r\n      if (Object.keys(this.selectedFormula).length === 0) {\r\n        this.notifyError(this.$t('premFormula.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      let columns = []\r\n      for (const param of this.dataGet.paramArr) {\r\n        columns.push({\r\n          title: param.prop,\r\n          key: param.column\r\n        })\r\n      }\r\n      // \r\n      let columnArr = this._.map(columns, 'key')\r\n      for (const param of this.tableDataFormulaParams) {\r\n        for (const column of columnArr) {\r\n          let commandType = this.getCommandTypeByColumn(column)\r\n          if (commandType === 'Date') {\r\n            this.$set(param, column, this.formatDate(new Date(param[column]), 'yyyy-MM-dd'))\r\n          }\r\n        }\r\n      }\r\n      this.export2Excel(columns, this.tableDataFormulaParams, this.$t('premFormula.rateTable') + '_' + this.formatDate(new Date(), 'yyyy-MM-dd hh:mm:ss'))\r\n    },\r\n    getCommandTypeByColumn(column) {\r\n      for (const paramArrElement of this.dataGet.paramArr) {\r\n        if (paramArrElement.column === column) {\r\n          return paramArrElement.commandType\r\n        }\r\n      }\r\n      return undefined\r\n    },\r\n    readExcel(files) {//\r\n      if (files.length <= 0) {//\r\n        return false\r\n      } else if (!/\\.(xls|xlsx)$/.test(files[0].name.toLowerCase())) {\r\n        this.$message.error(String(this.$t('premFormula.incorrectFormat')))\r\n        return false\r\n      }\r\n      const fileReader = new FileReader()\r\n      fileReader.onload = (ev) => {\r\n        try {\r\n          const data = ev.target.result\r\n          const workbook = XLSX.read(data, {\r\n            type: 'binary'\r\n          })\r\n          const wsname = workbook.SheetNames[0]//\r\n          const ws = XLSX.utils.sheet_to_json(workbook.Sheets[wsname])//json\r\n          //\r\n          try {\r\n          } catch (err) {\r\n            console.log(err)\r\n          }\r\n          this.$refs.upload.value = ''\r\n        } catch (e) {\r\n          return false\r\n        }\r\n      }\r\n      fileReader.readAsBinaryString(files[0])\r\n      //\r\n      fileReader.onload = function (evt) {\r\n        if (evt.target.readyState === FileReader.DONE) {\r\n          const data = fileReader.result\r\n          var workbook = XLSX.read(data, {type: 'binary'})\r\n        }\r\n        const sheet_name_list = workbook.SheetNames\r\n        const result = XLSX.utils.sheet_to_json(workbook.Sheets[sheet_name_list[0]], {header: 1})\r\n        _this.tableDataFormulaParams = []\r\n        let keyArray = []\r\n        for (let i = 0; i < result[0].length; i++) {\r\n          let propName = result[0][i]\r\n          for (const paramArrElement of _this.dataGet.paramArr) {\r\n            if (propName === paramArrElement.prop) {\r\n              let key = paramArrElement.column\r\n              keyArray.push(key)\r\n              break\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < result.length; i++) {\r\n          if (i > 0) {\r\n            let dataItem = {}\r\n            for (let j = 0; j < result[i].length; j++) {\r\n              let value = result[i][j]\r\n              if ('multiple' === _this.dataGet.paramArr[j].commandType) {\r\n                value = value.split(',')\r\n                for (let i = 0; i < value.length; i++) {\r\n                  _this.$set(value, i, String(value[i]).trim())\r\n                }\r\n              }\r\n              _this.$set(dataItem, keyArray[j], value)\r\n            }\r\n            _this.$set(_this.tableDataFormulaParams, i - 1, dataItem)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    deleteFormulaParam(row) {\r\n      this.tableDataFormulaParams.splice(this.tableDataFormulaParams.indexOf(row), 1)\r\n    },\r\n    addDataRow() {\r\n      this.tableDataFormulaParams.push({})\r\n    },\r\n    saveFormulaParam() {\r\n      if (Object.keys(this.selectedFormula).length === 0) {\r\n        this.notifyError(this.$t('pdtempPdUnderwritingAmountFormula.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      this.$refs.rateForm.validate(pass => {\r\n        if (this.rateEditFlag && !pass) {\r\n          this.focusItem()\r\n        } else {\r\n          this.$refs.rateForm.clearValidate()\r\n          this.$set(this.dataGet, 'paramList', this.tableDataFormulaParams)\r\n          const param = {\r\n            ruleCode: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.pdPremCalcCode : this.selectedFormula.pdCalcCode,\r\n            dynamicTable: JSON.stringify(this.dataGet),\r\n            rateForm: this.rateForm,\r\n            pdPremId: this.productCalcRevisionShowINfo_ ? this.selectedPremiumInRev.id : this.getCaption(this.pdUwSiTypeOptions, 0),\r\n            rateEditFlag: this.rateEditFlag\r\n          }\r\n          saveFormulaInRuleEngine(this.buildRequestData(param)).then(() => {\r\n            this.notifySuccess(this.$t('successMessage.save'))\r\n            this.$set(this.selectedFormula, 'dataGet', JSON.stringify(this.dataGet))\r\n            this.rateEditFlag = false\r\n            this.variableRateFlag = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    refreshFormulaParam() {\r\n      this.selectedFormulaChanged()\r\n    },\r\n    handleSelectFormula(row) {\r\n      if (this.revisionType === 'premium' && Object.keys(this.selectedPremiumInRev).length === 0) {\r\n        this.notifyError(this.$t('premFormula.pleaseSelectPremium'))\r\n        return\r\n      }\r\n      if (this.revisionType === 'extPremium' && Object.keys(this.selectedExtPremiumInRev).length === 0) {\r\n        this.notifyError(this.$t('premFormula.pleaseSelectExtPremium'))\r\n        return\r\n      }\r\n      let PdtempPdCalc = {\r\n        pdInfoId: this.product.id,\r\n        pdVerId: this.product.pdVerId,\r\n        pdType: '',\r\n        pdCode: this.product.pdCode,\r\n        pdBussType: '1',\r\n        pdBussDetailType: this.productCalcRevisionShowINfo_ ? (this.revisionType === 'premium' ? '17' : '19') : this.calculationFormulaType,\r\n        pdBussId: '',\r\n        pdBussCode: '',\r\n        pdStructureType: '',\r\n        pdCalcCode: row.pdCalcCode,\r\n        pdCalcDesc: row.pdCalcDesc\r\n      }\r\n      if (this.productCalcRevisionShowINfo_) { // \r\n        if (this.revisionType === 'premium') {\r\n          PdtempPdCalc.pdStructureType = '05'\r\n          PdtempPdCalc.pdBussId = this.selectedPremiumInRev.id\r\n          PdtempPdCalc.pdBussCode = this.selectedPremiumInRev.pdPremCode\r\n        } else {\r\n          PdtempPdCalc.pdStructureType = '06'\r\n          PdtempPdCalc.pdBussId = this.selectedExtPremiumInRev.id\r\n          PdtempPdCalc.pdBussCode = this.selectedExtPremiumInRev.pdExtPremCode\r\n        }\r\n      } else { // \r\n        if (this.productBnftForm.extPrem) {\r\n          PdtempPdCalc.pdStructureType = '06'\r\n          PdtempPdCalc.pdBussId = this.getCaption(this.productBnftForm.extPrem, 0)\r\n          PdtempPdCalc.pdBussCode = this.getCaption(this.productBnftForm.extPrem, 1)\r\n        } else {\r\n          PdtempPdCalc.pdStructureType = '05'\r\n          PdtempPdCalc.pdBussId = this.getCaption(this.productBnftForm.prem, 0)\r\n          PdtempPdCalc.pdBussCode = this.getCaption(this.productBnftForm.prem, 1)\r\n        }\r\n      }\r\n      const param = {\r\n        selectedFormula: row,\r\n        pdtempPdCalc: PdtempPdCalc,\r\n        product: this.product,\r\n        pdBussType: '1',\r\n        pdBussDetailType: PdtempPdCalc.pdBussDetailType,\r\n        needChecking: true\r\n      }\r\n      associate(this.buildRequestData(param)).then(response => {\r\n        let successFlag = response.data.flag\r\n        let pdtempPdCalc = response.data.pdtempPdCalc\r\n        if (successFlag === true) {\r\n          this.notifySuccess(this.$t('rule.associationSuccess'))\r\n          this.handleSearch()\r\n          this.$refs.page_brief.reload()\r\n          if (!this.productCalcRevisionShowINfo_) {\r\n            this.$emit('bringInCalcCode', pdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n          } else {\r\n            this.bringInCalcCode(PdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n          }\r\n        } else {\r\n          this.$confirm(String(this.$t('underwritingAmountFormulaSelect.confirm_overwrite_formula')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            associate(this.buildRequestData(param)).then(response => {\r\n              let pdtempPdCalc = response.data.pdtempPdCalc\r\n              this.notifySuccess(this.$t('rule.associationSuccess'))\r\n              this.handleSearch()\r\n              this.$refs.page_brief.reload()\r\n              if (!this.productCalcRevisionShowINfo_) {\r\n                this.$emit('bringInCalcCode', pdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n              } else {\r\n                this.bringInCalcCode(PdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n              }\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('underwritingAmountFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/payment-def/prem-formula"}]}
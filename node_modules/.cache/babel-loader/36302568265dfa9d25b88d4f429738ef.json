{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-current-price-def\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-current-price-def\\index.vue","mtime":1609847106845},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIikpOwoKdmFyIF9wZHRlbXBwZGN2ID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY3YiKTsKCnZhciBfcGR0ZW1wcGRjdkZvcm11bGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvcHJvZHVjdC1kZWZpbml0aW9uL3BkLWZyYW1ld29yay1kZWYvcGQtY3VycmVudC1wcmljZS1kZWYvcGR0ZW1wcGRjdkZvcm11bGEiKSk7Cgp2YXIgX3hsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInhsc3giKSk7Cgp2YXIgX3BkdGVtcHBkY3Zmb3JtdWxhID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY3Zmb3JtdWxhIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX3RoaXM7Cgp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ3BkdGVtcFBkQ3YnLAogIGNvbXBvbmVudHM6IHsKICAgIHBkdGVtcFBkQ3ZGb3JtdWxhOiBfcGR0ZW1wcGRjdkZvcm11bGEuZGVmYXVsdAogIH0sCiAgcHJvcHM6IHt9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlOiBmdW5jdGlvbiBmaWx0ZXJfcGRCdXNzRGV0YWlsVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gewogICAgICByZXZpc2lvbk1hcms6IGZhbHNlLAogICAgICBwYWdlOiB1bmRlZmluZWQsCiAgICAgIHBhZ2VTaXplOiB1bmRlZmluZWQsCiAgICAgIGRhdGFHZXQ6IHt9LAogICAgICB1bmRlcndyaXRpbmdTaG93OiBmYWxzZSwKICAgICAgLy/kuIrkvKDnjrDku7fooagKICAgICAgc2hvd0ZsYWc6IGZhbHNlLAogICAgICBhdHRyaWJ1dGVPYmo6IHt9LAogICAgICBmb3JtdWxhVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm11bGFWaWV3OiB7CiAgICAgICAgZmxhZzogJycsCiAgICAgICAgcGVyZm9ybVR5cGU6ICcnLAogICAgICAgIHJ1bGVDb2RlOiAnJywKICAgICAgICB2aXNpYmxlOiBmYWxzZQogICAgICB9LAogICAgICBsYW5ndWFnZTogbnVsbCwKICAgICAgcnVsZU1lc3NhZ2VJbmZvQm9tOiBbXSwKICAgICAgdGFibGVEYXRhRm9ybXVsYVBhcmFtczogW10sCiAgICAgIC8vIOS6p+WTgeS/oeaBrwogICAgICBwcm9kdWN0OiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBiVHlwZTogJycsCiAgICAgICAgY1R5cGU6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRTYWxlY2hubDogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFNob3J0bmFtZTogJycsCiAgICAgICAgcGRFbk5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZEFwcGxEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHBhcmFtc19jdXJyZW50OiB7CiAgICAgICAgcGRJbmZvSWQ6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBwYXJhbXNfYnJpZWY6IHsKICAgICAgICBwcm9kdWN0OiB1bmRlZmluZWQsCiAgICAgICAgcHJvZHVjdERldGFpbFR5cGU6ICcnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGVMaXN0OiBbXQogICAgICB9LAogICAgICB0YWJsZURhdGFfYnJpZWY6IFtdLAogICAgICB0YWJsZURhdGFfY3Y6IFtdLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGZvcm1fZm9ybXVsYTogewogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzX2Zvcm11bGE6IHsKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdwZHRlbXBQZEN2LnBsZWFzZVNlbGVjdFBkQ3ZUeXBlJyksCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNlbGVjdGVkRm9ybXVsYToge30sCiAgICAgIGRpYWxvZ1Zpc2libGU6IHsKICAgICAgICBmb3JtdWxhOiBmYWxzZQogICAgICB9LAogICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAnJywKICAgICAgZm9ybXVsYToge30sCiAgICAgIGZpbHRlcnNfcGRCdXNzRGV0YWlsVHlwZTogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFibGVEYXRhX2N2OiBmdW5jdGlvbiB0YWJsZURhdGFfY3YoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5Lqn5ZOB57yW56CB6L+H5ruk5ZmoCiAgICAgIHRoaXMuZmlsdGVyc19wZEJ1c3NEZXRhaWxUeXBlID0gW107CiAgICAgIHRoaXMudGFibGVEYXRhX2N2LmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgIGlmICghX3RoaXMyLl8uaW5jbHVkZXMoX3RoaXMyLl8ubWFwKF90aGlzMi5maWx0ZXJzX3BkQnVzc0RldGFpbFR5cGUsICd2YWx1ZScpLCB2YWwucGRCdXNzRGV0YWlsVHlwZSkpIHsKICAgICAgICAgIF90aGlzMi5maWx0ZXJzX3BkQnVzc0RldGFpbFR5cGUucHVzaCh7CiAgICAgICAgICAgIHRleHQ6IF90aGlzMi5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCB2YWwucGRCdXNzRGV0YWlsVHlwZSksCiAgICAgICAgICAgIHZhbHVlOiB2YWwucGRCdXNzRGV0YWlsVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAnZm9ybV9mb3JtdWxhLnBkQnVzc0RldGFpbFR5cGUnOiBmdW5jdGlvbiBmb3JtX2Zvcm11bGFQZEJ1c3NEZXRhaWxUeXBlKHZhbCkgewogICAgICBpZiAodGhpcy5yZXZpc2lvbk1hcmspIHsKICAgICAgICB0aGlzLnRhYmxlRGF0YV9icmllZiA9IFtdOwogICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi50b3RhbCA9IDA7CiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnBhZ2UgPSAxOwoKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLnBhcmFtc19icmllZi5wZEJ1c3NEZXRhaWxUeXBlTGlzdCA9IFt2YWxdOwogICAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubGFuZ3VhZ2U7CiAgICB0aGlzLnJ1bGVNZXNzYWdlSW5mb0JvbSA9IHRoaXMuJHN0b3JlLnN0YXRlLnJ1bGVNZXNzYWdlLnJ1bGVNZXNzYWdlczsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnBhZ2UgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlOwogICAgdGhpcy5wYWdlU2l6ZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2VTaXplOwogICAgdGhpcy5yZXZpc2lvbk1hcmsgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPT09ICd0cnVlJzsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5pbml0UHJvZHVjdEluZm8oKTsKICAgICAgdGhpcy5pbml0VGFibGVEYXRhKCk7CgogICAgICBpZiAodGhpcy5yZXZpc2lvbk1hcmspIHsKICAgICAgICB0aGlzLnBhcmFtc19icmllZi5wcm9kdWN0ID0gdGhpcy5wcm9kdWN0OwogICAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnByb2R1Y3REZXRhaWxUeXBlID0gdGhpcy5wcm9kdWN0LmNUeXBlOwogICAgICB9CiAgICB9LAogICAgaW5pdFByb2R1Y3RJbmZvOiBmdW5jdGlvbiBpbml0UHJvZHVjdEluZm8oKSB7CiAgICAgIHZhciBwcm9kdWN0ID0gdGhpcy5nZXRQZERhdGEoKTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhwcm9kdWN0KS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0ID0gcHJvZHVjdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ21lc3NhZ2UuaW52YWxpZFByb2R1Y3RJbmZvJykpOwogICAgICB9CiAgICB9LAogICAgaW5pdFRhYmxlRGF0YTogZnVuY3Rpb24gaW5pdFRhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHt9OwogICAgICB0aGlzLnBhcmFtc19jdXJyZW50LnBkSW5mb0lkID0gdGhpcy5wcm9kdWN0LmlkOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9Gb3JtdWxhRGVmOiBmdW5jdGlvbiB0b0Zvcm11bGFEZWYocGRCdXNzRGV0YWlsVHlwZSwgZm9ybXVsYSwgbmVlZFZhbGlkYXRlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKG5lZWRWYWxpZGF0ZSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybV9mb3JtdWxhLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzKSB7CiAgICAgICAgICBpZiAocGFzcykgewogICAgICAgICAgICBfdGhpczQucGRCdXNzRGV0YWlsVHlwZSA9IHBkQnVzc0RldGFpbFR5cGU7CiAgICAgICAgICAgIF90aGlzNC5mb3JtdWxhID0gZm9ybXVsYTsKICAgICAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUuZm9ybXVsYSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wZEJ1c3NEZXRhaWxUeXBlID0gcGRCdXNzRGV0YWlsVHlwZTsKICAgICAgICB0aGlzLmZvcm11bGEgPSBmb3JtdWxhOwogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZS5mb3JtdWxhID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHJvd0NsaWNrOiBmdW5jdGlvbiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIikgewogICAgICAgIGlmIChyb3cuaWQgPT09IHRoaXMuc2VsZWN0ZWRGb3JtdWxhLmlkKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYSA9IHt9OwogICAgICAgICAgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zID0gW107CiAgICAgICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZm9ybXVsYVZpZXdDbG9zZWQ6IGZ1bmN0aW9uIGZvcm11bGFWaWV3Q2xvc2VkKCkgewogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSBmYWxzZTsKCiAgICAgIGlmICghdGhpcy5zaG93RmxhZykgewogICAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtdWxhID0ge307CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZEZvcm11bGFDaGFuZ2VkOiBmdW5jdGlvbiBzZWxlY3RlZEZvcm11bGFDaGFuZ2VkKCkgewogICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMgPSBbXTsKCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZEZvcm11bGEuZGF0YUdldCkgewogICAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJzsKICAgICAgICB0aGlzLmZvcm11bGFWaWV3LnJ1bGVDb2RlID0gdGhpcy5zZWxlY3RlZEZvcm11bGEucGRDYWxjQ29kZTsKICAgICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gdGhpcy5zZWxlY3RlZEZvcm11bGEucGVyZm9ybVR5cGU7CiAgICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0YUdldCA9IEpTT04ucGFyc2UodGhpcy5zZWxlY3RlZEZvcm11bGEuZGF0YUdldCk7CiAgICAgIHRoaXMudGFibGVEYXRhRm9ybXVsYVBhcmFtcyA9IHRoaXMuZGF0YUdldC5wYXJhbUxpc3Q7CiAgICAgIHRoaXMuc2hvd0ZsYWcgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUN2OiBmdW5jdGlvbiBkZWxldGVDdihpZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgICgwLCBfcGR0ZW1wcGRjdi5kZWxldGVQZHRlbXBQZEN2KShpZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1Lm5vdGlmeVN1Y2Nlc3MoX3RoaXM1LiR0KCdzdWNjZXNzTWVzc2FnZS5kZWxldGUnKSk7CgogICAgICAgIF90aGlzNS5zaG93RmxhZyA9IGZhbHNlOwoKICAgICAgICBpZiAoX3RoaXM1LnJldmlzaW9uTWFyaykgewogICAgICAgICAgX3RoaXM1LiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKCiAgICAgICAgICBfdGhpczUuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM1LmluaXRUYWJsZURhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZURpYWxvZ1Zpc2libGVfZm9ybXVsYTogZnVuY3Rpb24gY2hhbmdlRGlhbG9nVmlzaWJsZV9mb3JtdWxhKGZsYWcpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlLmZvcm11bGEgPSBmbGFnOwogICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5yZXZpc2lvbk1hcmspIHsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbml0VGFibGVEYXRhKCk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVGb3JtdWxhUGFyYW06IGZ1bmN0aW9uIGRlbGV0ZUZvcm11bGFQYXJhbShyb3cpIHsKICAgICAgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zLnNwbGljZSh0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMuaW5kZXhPZihyb3cpLCAxKTsKICAgIH0sCiAgICBhZGREYXRhUm93OiBmdW5jdGlvbiBhZGREYXRhUm93KCkgewogICAgICB0aGlzLnRhYmxlRGF0YUZvcm11bGFQYXJhbXMucHVzaCh7fSk7CiAgICB9LAogICAgc2F2ZUZvcm11bGFQYXJhbTogZnVuY3Rpb24gc2F2ZUZvcm11bGFQYXJhbSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zZWxlY3RlZEZvcm11bGEpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncGR0ZW1wUGRVbmRlcndyaXRpbmdBbW91bnRGb3JtdWxhLnBsZWFzZVNlbGVjdEZvcm11bGEnKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRzZXQodGhpcy5kYXRhR2V0LCAncGFyYW1MaXN0JywgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zKTsKICAgICAgdmFyIHBhcmFtID0gewogICAgICAgIHJ1bGVDb2RlOiB0aGlzLnNlbGVjdGVkRm9ybXVsYS5wZENhbGNDb2RlLAogICAgICAgIGR5bmFtaWNUYWJsZTogSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhR2V0KQogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkY3Yuc2F2ZUZvcm11bGFJblJ1bGVFbmdpbmUpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShwYXJhbSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5ub3RpZnlTdWNjZXNzKF90aGlzNi4kdCgnc3VjY2Vzc01lc3NhZ2Uuc2F2ZScpKTsKCiAgICAgICAgX3RoaXM2LiRzZXQoX3RoaXM2LnNlbGVjdGVkRm9ybXVsYSwgJ2RhdGFHZXQnLCBKU09OLnN0cmluZ2lmeShfdGhpczYuZGF0YUdldCkpOwogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB0aGlzLnNlbGVjdGVkRm9ybXVsYUNoYW5nZWQoKTsKICAgIH0sCiAgICBoYW5kbGVCZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybShTdHJpbmcodGhpcy4kdCgncGR0ZW1wUGRDdi50ZXh0MDUnKSksIFN0cmluZyh0aGlzLiR0KCdjb25maXJtTWVzc2FnZS50aXAnKSksIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgnY29uZmlybU1lc3NhZ2UuY29uZmlybScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMuJHQoJ2NvbmZpcm1NZXNzYWdlLmNhbmNlbCcpLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogU3RyaW5nKF90aGlzNy4kdCgncGR0ZW1wUGRDdi5jb250aW51ZScpKQogICAgICAgIH0pOwoKICAgICAgICBfdGhpczcuZmlsZUxpc3QgPSBbXTsKCiAgICAgICAgX3RoaXM3LmZpbGVMaXN0LnB1c2goZmlsZSk7CgogICAgICAgIHZhciBmaWxlcyA9IHsKICAgICAgICAgIDA6IGZpbGUKICAgICAgICB9OwoKICAgICAgICBfdGhpczcucmVhZEV4Y2VsKGZpbGVzKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogU3RyaW5nKF90aGlzNy4kdCgncGR0ZW1wUGRDdi5jYW5jZWxlZCcpKQogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0OwogICAgfSwKICAgIC8v5LiL6L29CiAgICBkb3dubG9hZEN2VGFibGU6IGZ1bmN0aW9uIGRvd25sb2FkQ3ZUYWJsZSgpIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWRGb3JtdWxhKS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQ3YucGxlYXNlU2VsZWN0Rm9ybXVsYScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjb2x1bW5zID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmRhdGFHZXQucGFyYW1BcnIpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGNvbHVtbnMucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBwYXJhbS5wcm9wLAogICAgICAgICAgICBrZXk6IHBhcmFtLmNvbHVtbgogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyDlpITnkIbnsbvlnovkuLrml6XmnJ/nmoTmlbDmja4KCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgdmFyIGNvbHVtbkFyciA9IHRoaXMuXy5tYXAoY29sdW1ucywgJ2tleScpOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMudGFibGVEYXRhRm9ybXVsYVBhcmFtcyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3BhcmFtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShjb2x1bW5BcnIpLAogICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgICAgdmFyIGNvbW1hbmRUeXBlID0gdGhpcy5nZXRDb21tYW5kVHlwZUJ5Q29sdW1uKGNvbHVtbik7CgogICAgICAgICAgICAgIGlmIChjb21tYW5kVHlwZSA9PT0gJ0RhdGUnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQoX3BhcmFtLCBjb2x1bW4sIHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShfcGFyYW1bY29sdW1uXSksICd5eXl5LU1NLWRkJykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5leHBvcnQyRXhjZWwoY29sdW1ucywgdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zLCB0aGlzLiR0KCdwZHRlbXBQZEN2LmN2VGFibGUnKSArICdfJyArIHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCBoaDptbTpzcycpKTsKICAgIH0sCiAgICBnZXRDb21tYW5kVHlwZUJ5Q29sdW1uOiBmdW5jdGlvbiBnZXRDb21tYW5kVHlwZUJ5Q29sdW1uKGNvbHVtbikgewogICAgICB2YXIgX2l0ZXJhdG9yNCA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5kYXRhR2V0LnBhcmFtQXJyKSwKICAgICAgICAgIF9zdGVwNDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwYXJhbUFyckVsZW1lbnQgPSBfc3RlcDQudmFsdWU7CgogICAgICAgICAgaWYgKHBhcmFtQXJyRWxlbWVudC5jb2x1bW4gPT09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gcGFyYW1BcnJFbGVtZW50LmNvbW1hbmRUeXBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9LAogICAgcmVhZEV4Y2VsOiBmdW5jdGlvbiByZWFkRXhjZWwoZmlsZXMpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICAvL+ihqOagvOWvvOWFpQogICAgICBpZiAoZmlsZXMubGVuZ3RoIDw9IDApIHsKICAgICAgICAvL+WmguaenOayoeacieaWh+S7tuWQjQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmICghL1wuKHhsc3x4bHN4KSQvLnRlc3QoZmlsZXNbMF0ubmFtZS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IodGhpcy4kdCgncGR0ZW1wUGRDdi5pbmNvcnJlY3RGb3JtYXQnKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldikgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgZGF0YSA9IGV2LnRhcmdldC5yZXN1bHQ7CgogICAgICAgICAgdmFyIHdvcmtib29rID0gX3hsc3guZGVmYXVsdC5yZWFkKGRhdGEsIHsKICAgICAgICAgICAgdHlwZTogJ2JpbmFyeScKICAgICAgICAgIH0pOwoKICAgICAgICAgIHZhciB3c25hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdOyAvL+WPluesrOS4gOW8oOihqAoKICAgICAgICAgIHZhciB3cyA9IF94bHN4LmRlZmF1bHQudXRpbHMuc2hlZXRfdG9fanNvbih3b3JrYm9vay5TaGVldHNbd3NuYW1lXSk7IC8v55Sf5oiQanNvbuihqOagvOWGheWuuQogICAgICAgICAgLy/ph43lhpnmlbDmja4KCgogICAgICAgICAgdHJ5IHt9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczguJHJlZnMudXBsb2FkLnZhbHVlID0gJyc7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGZpbGVSZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGZpbGVzWzBdKTsgLy/liqDovb3miJDlip/lkI4KCiAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGlmIChldnQudGFyZ2V0LnJlYWR5U3RhdGUgPT0gRmlsZVJlYWRlci5ET05FKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IGZpbGVSZWFkZXIucmVzdWx0OwoKICAgICAgICAgIHZhciB3b3JrYm9vayA9IF94bHN4LmRlZmF1bHQucmVhZChkYXRhLCB7CiAgICAgICAgICAgIHR5cGU6ICdiaW5hcnknCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBzaGVldF9uYW1lX2xpc3QgPSB3b3JrYm9vay5TaGVldE5hbWVzOwoKICAgICAgICB2YXIgcmVzdWx0ID0gX3hsc3guZGVmYXVsdC51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1tzaGVldF9uYW1lX2xpc3RbMF1dLCB7CiAgICAgICAgICBoZWFkZXI6IDEKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMudGFibGVEYXRhRm9ybXVsYVBhcmFtcyA9IFtdOwogICAgICAgIHZhciBrZXlBcnJheSA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdFswXS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHByb3BOYW1lID0gcmVzdWx0WzBdW2ldOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3I1ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpcy5kYXRhR2V0LnBhcmFtQXJyKSwKICAgICAgICAgICAgICBfc3RlcDU7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgcGFyYW1BcnJFbGVtZW50ID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICAgICAgICBpZiAocHJvcE5hbWUgPT09IHBhcmFtQXJyRWxlbWVudC5wcm9wKSB7CiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyYW1BcnJFbGVtZW50LmNvbHVtbjsKICAgICAgICAgICAgICAgIGtleUFycmF5LnB1c2goa2V5KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcmVzdWx0Lmxlbmd0aDsgX2krKykgewogICAgICAgICAgaWYgKF9pID4gMCkgewogICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSB7fTsKCiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzdWx0W19pXS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdFtfaV1bal07CgogICAgICAgICAgICAgIGlmICgnbXVsdGlwbGUnID09PSBfdGhpcy5kYXRhR2V0LnBhcmFtQXJyW2pdLmNvbW1hbmRUeXBlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcsJyk7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdmFsdWUubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kc2V0KHZhbHVlLCBfaTIsIFN0cmluZyh2YWx1ZVtfaTJdKS50cmltKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMuJHNldChkYXRhSXRlbSwga2V5QXJyYXlbal0sIHZhbHVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMuJHNldChfdGhpcy50YWJsZURhdGFGb3JtdWxhUGFyYW1zLCBfaSAtIDEsIGRhdGFJdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgcnVsZU1vZHVsZUNsb3NlZDogZnVuY3Rpb24gcnVsZU1vZHVsZUNsb3NlZCgpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMucmV2aXNpb25NYXJrKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwogICAgICB9CiAgICB9LAogICAgdG9BZGRGb3JtdWxhOiBmdW5jdGlvbiB0b0FkZEZvcm11bGEoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIHBhc3NGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5mb3JtX2Zvcm11bGEudmFsaWRhdGUoZnVuY3Rpb24gKHBhc3MpIHsKICAgICAgICBpZiAoIXBhc3MpIHsKICAgICAgICAgIHBhc3NGbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICghcGFzc0ZsYWcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICBwZEJ1c3NUeXBlOiAnNScsCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5mb3JtX2Zvcm11bGEucGRCdXNzRGV0YWlsVHlwZQogICAgICB9OwogICAgICAoMCwgX3BkdGVtcHBkY3Zmb3JtdWxhLmdldENhbGNDb2RlKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzOS5hdHRyaWJ1dGVPYmogPSB7CiAgICAgICAgICBjb2RlOiByZXNwb25zZS5kYXRhLAogICAgICAgICAgcnVsZUJ1c3NNb2R1OiAnNScsCiAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiBfdGhpczkuZm9ybV9mb3JtdWxhLnBkQnVzc0RldGFpbFR5cGUsCiAgICAgICAgICBydWxlVHlwZTogJzInLAogICAgICAgICAgcnVsZUF0dHI6ICcyJywKICAgICAgICAgIHBkVHlwZTogJzEnLAogICAgICAgICAgcmlza1R5cGU6IF90aGlzOS5wcm9kdWN0LmJUeXBlLAogICAgICAgICAgcmlza0RldGFpbDogX3RoaXM5LnByb2R1Y3QuY1R5cGUsCiAgICAgICAgICBwZENvZGU6IF90aGlzOS5wcm9kdWN0LnBkQ29kZSwKICAgICAgICAgIHBkRWRpdGlvbjogX3RoaXM5LnByb2R1Y3QucGRFZGl0aW9uCiAgICAgICAgfTsKICAgICAgICBfdGhpczkuZm9ybXVsYVZpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93Rm9ybXVsYTogZnVuY3Rpb24gc2hvd0Zvcm11bGEocm93KSB7CiAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJzsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5wZXJmb3JtVHlwZSA9IHJvdy5wZXJmb3JtVHlwZTsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IHJvdy5wZENhbGNDb2RlOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGJhY2tUb01lbnU6IGZ1bmN0aW9uIGJhY2tUb01lbnUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAn5Lqn5ZOB5YWs5byP6K6i5q2j5Li76aG1JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhdGg6IHRoaXMuJHJvdXRlLnBhdGgsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0Rm9ybXVsYTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Rm9ybXVsYShyb3cpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtID0gewogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZHVjdCwKICAgICAgICBmb3JtdWxhOiByb3csCiAgICAgICAgcGRCdXNzRGV0YWlsVHlwZTogdGhpcy5mb3JtX2Zvcm11bGEucGRCdXNzRGV0YWlsVHlwZSwKICAgICAgICBwZFN0cnVjdHVyZVR5cGU6ICcwOScsCiAgICAgICAgbmVlZENoZWNraW5nOiB0cnVlCiAgICAgIH07CiAgICAgICgwLCBfcGR0ZW1wcGRjdmZvcm11bGEuYXNzb2NpYXRlQ3ZDYWxjKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBzdWNjZXNzRmxhZyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmIChzdWNjZXNzRmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMxMC5ub3RpZnlTdWNjZXNzKF90aGlzMTAuJHQoJ3J1bGUuYXNzb2NpYXRpb25TdWNjZXNzJykpOwoKICAgICAgICAgIF90aGlzMTAuJHJlZnMucGFnZV9jdXJyZW50LnJlbG9hZCgpOwoKICAgICAgICAgIF90aGlzMTAuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxMC4kY29uZmlybShTdHJpbmcoX3RoaXMxMC4kdCgncnVsZS5jb25maXJtX292ZXJ3cml0ZV9mb3JtdWxhJykpLCBTdHJpbmcoX3RoaXMxMC4kdCgnY29uZmlybU1lc3NhZ2UudGlwJykpLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBTdHJpbmcoX3RoaXMxMC4kdCgnY29uZmlybU1lc3NhZ2UuY29uZmlybScpKSwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogU3RyaW5nKF90aGlzMTAuJHQoJ2NvbmZpcm1NZXNzYWdlLmNhbmNlbCcpKSwKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcGFyYW0ubmVlZENoZWNraW5nID0gZmFsc2U7CiAgICAgICAgICAgICgwLCBfcGR0ZW1wcGRjdmZvcm11bGEuYXNzb2NpYXRlQ3ZDYWxjKShfdGhpczEwLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczEwLm5vdGlmeVN1Y2Nlc3MoX3RoaXMxMC4kdCgncnVsZS5hc3NvY2lhdGlvblN1Y2Nlc3MnKSk7CgogICAgICAgICAgICAgIF90aGlzMTAuJHJlZnMucGFnZV9jdXJyZW50LnJlbG9hZCgpOwoKICAgICAgICAgICAgICBfdGhpczEwLiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczEwLm1lc3NhZ2VJbmZvKF90aGlzMTAuJHQoJ3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QuY2FuY2VsZWQnKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <div v-if=\"revisionMark\">\r\n      <cus-page-title-back :label=\"$t('productInfoRule.pdCurrentPriceCalcRev')\" @backTo=\"backToMenu\"/>\r\n      <cus-product-info></cus-product-info>\r\n\r\n      <cus-table-title :label=\"$t('pdtempPdCv.pdCvFormula')\"/>\r\n      <el-table :data=\"tableData_cv\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\" @row-click=\"rowClick\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedFormula\" @change=\"selectedFormulaChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_current', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"props\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(props.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t(('rule.product'))\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filters_method\" :filters=\"filters_pdBussDetailType\"\r\n                         :label=\"$t('rule.pdBussDetailType')\"\r\n                         align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\" sortable>\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcCode')\" align=\"center\" min-width=\"200\" prop=\"pdCalcCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn v-auth=\"'pdtemp-pd-cv:delete'\" @ok=\"deleteCv(scope.row.id)\"></cus-del-btn>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_current\" v-model=\"tableData_cv\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_current\" url=\"/pdtemp-pd-cv/base/list\"/>\r\n\r\n      <!-- 决策树表格 -->\r\n      <div v-if=\"showFlag\">\r\n        <!--上传现价表-->\r\n        <br>\r\n        <el-row :gutter=\"20\">\r\n          <el-button-group>\r\n            <el-button icon=\"el-icon-upload\" size=\"small\" type=\"primary\" @click=\"underwritingShow = true\" dialog-disable=\"disable\">\r\n              {{ $t('pdtempPdCv.uploadRateTable') }}\r\n            </el-button>\r\n          </el-button-group>\r\n        </el-row>\r\n        <cus-table-title :label=\"$t('pdtempPdCv.rateConfig')\"/>\r\n        <el-table ref=\"tableDataFormulaParams\" :data=\"tableDataFormulaParams\" border element-loading-text=\"Loading\" fit\r\n                  highlight-current-row max-height=\"250\" size=\"mini\">\r\n          <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n          <el-table-column v-for=\"item in dataGet.paramArr\" :label=\"item.prop\" :prop=\"item.column\" align=\"center\">\r\n            <template v-slot=\"scope\">\r\n              <el-input v-if=\"item.commandType === 'String' || item.commandType === 'RESULT'\"\r\n                        v-model=\"scope.row[item.column]\"></el-input>\r\n              <el-input-number v-if=\"item.commandType === 'Number' || item.commandType === 'Int'\"\r\n                               v-model=\"scope.row[item.column]\"\r\n                               style=\"width: 100%\"></el-input-number>\r\n              <el-select v-if=\"item.commandType === 'select'\" v-model=\"scope.row[item.column]\">\r\n                <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n              </el-select>\r\n              <el-select v-if=\"item.commandType === 'multiple'\" v-model=\"scope.row[item.column]\" multiple>\r\n                <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n              </el-select>\r\n              <el-date-picker v-if=\"item.commandType === 'Date'\" v-model=\"scope.row[item.column]\"\r\n                              :placeholder=\"$t('dynamicTable.selectDate')\" type=\"date\"\r\n                              value-format=\"yyyy-MM-dd\">\r\n              </el-date-picker>\r\n              <el-button v-if=\"item.commandType === 'RULEID'\" size=\"mini\">{{ $t('route.multilingual_information') }}\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :label=\"$t('table.actions')\" :width=\"tableDataFormulaParams.length > 0 ? 150 : undefined\"\r\n                           align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"deleteFormulaParam(scope.row)\" dialog-disable=\"disable\">-</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"addDataRow\" dialog-disable=\"disable\">+</el-button>\r\n        <el-form>\r\n          <el-form-item style=\"text-align: right\">\r\n            <el-button icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"saveFormulaParam\" dialog-disable=\"disable\">\r\n              {{ $t('pdtempPdClmBnft.save') }}\r\n            </el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refresh\" dialog-disable=\"disable\">\r\n              {{ $t('pdtempPdClmBnft.clean') }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n\r\n    <cus-form-title :first=\"true\" :label=\"$t('route.pdtempPdCv')\"></cus-form-title>\r\n    <el-form ref=\"form_formula\" :model=\"form_formula\" :rules=\"rules_formula\">\r\n      <el-row :gutter=\"10\">\r\n        <el-form-item :label=\"$t('pdtempPdCv.pdCvType')\" prop=\"pdBussDetailType\">\r\n          <cus-radio v-model=\"form_formula.pdBussDetailType\" :isRequired=\"false\" codetype=\"ruleBusinessDetailClass\"\r\n                     filter=\"1$36$37$38$39\"></cus-radio>\r\n        </el-form-item>\r\n      </el-row>\r\n      <el-row :gutter=\"10\" style=\"text-align: right\">\r\n        <el-button icon=\"el-icon-connection\" size=\"small\" type=\"primary\"\r\n                   @click=\"toFormulaDef(form_formula.pdBussDetailType, undefined, true)\" dialog-disable=\"disable\">\r\n          {{ $t('i18nView.moreCalc') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-circle-plus el-icon--left\" size=\"small\" type=\"primary\" @click=\"toAddFormula\" dialog-disable=\"disable\">\r\n          {{ $t('rule.toAddFormula') }}\r\n        </el-button>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!-- 可选择公式（订正时显示） -->\r\n    <div v-if=\"revisionMark\">\r\n      <cus-table-title :label=\"$t('pdtempPdCv.cvFormula')\"/>\r\n      <el-table :data=\"tableData_brief\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_brief', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"props\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(props.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t(('rule.product'))\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filters_method\" :filters=\"filters_pdBussDetailType\"\r\n                         :label=\"$t('rule.pdBussDetailType')\"\r\n                         align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\" sortable>\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcCode')\" align=\"center\" min-width=\"200\" prop=\"pdCalcCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-auth=\"'pdtemp-pd-cv-formula:associate'\" icon=\"el-icon-connection\" size=\"mini\"\r\n                       type=\"primary\" @click=\"handleSelectFormula(scope.row)\">\r\n              {{ $t('form.select') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_brief\" v-model=\"tableData_brief\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_brief\" url=\"/pdtemp-pd-cv/base/briefFormula\"/>\r\n    </div>\r\n\r\n    <!-- 现价已关联的公式（现价定义时显示） -->\r\n    <div v-if=\"!revisionMark\">\r\n      <cus-table-title :label=\"$t('i18nView.currentValue')\"/>\r\n      <el-table :data=\"tableData_cv\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                size=\"mini\" @row-click=\"rowClick\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedFormula\" @change=\"selectedFormulaChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_current', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"props\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(props.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t(('rule.product'))\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filters_method\" :filters=\"filters_pdBussDetailType\"\r\n                         :label=\"$t('rule.pdBussDetailType')\"\r\n                         align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\" sortable>\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcCode')\" align=\"center\" min-width=\"200\" prop=\"pdCalcCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('pdtempPdCv.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <cus-del-btn v-auth=\"'pdtemp-pd-cv:delete'\" @ok=\"deleteCv(scope.row.id)\"></cus-del-btn>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_current\" v-model=\"tableData_cv\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_current\" url=\"/pdtemp-pd-cv/base/list\"/>\r\n    </div>\r\n\r\n    <!-- 决策树表格 -->\r\n    <div v-if=\"!revisionMark && showFlag\">\r\n      <!--上传现价表-->\r\n      <br>\r\n      <el-row :gutter=\"20\">\r\n        <el-button-group>\r\n          <el-button icon=\"el-icon-upload\" size=\"small\" type=\"primary\" @click=\"underwritingShow = true\">\r\n            {{ $t('pdtempPdCv.uploadRateTable') }}\r\n          </el-button>\r\n        </el-button-group>\r\n      </el-row>\r\n      <cus-table-title :label=\"$t('pdtempPdCv.rateConfig')\"/>\r\n      <el-table ref=\"tableDataFormulaParams\" :data=\"tableDataFormulaParams\" border element-loading-text=\"Loading\" fit\r\n                highlight-current-row max-height=\"250\" size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column v-for=\"item in dataGet.paramArr\" :label=\"item.prop\" :prop=\"item.column\" align=\"center\">\r\n          <template v-slot=\"scope\">\r\n            <el-input v-if=\"item.commandType === 'String' || item.commandType === 'RESULT'\"\r\n                      v-model=\"scope.row[item.column]\"></el-input>\r\n            <el-input-number v-if=\"item.commandType === 'Number' || item.commandType === 'Int'\"\r\n                             v-model=\"scope.row[item.column]\"\r\n                             style=\"width: 100%\"></el-input-number>\r\n            <el-select v-if=\"item.commandType === 'select'\" v-model=\"scope.row[item.column]\">\r\n              <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n            </el-select>\r\n            <el-select v-if=\"item.commandType === 'multiple'\" v-model=\"scope.row[item.column]\" multiple>\r\n              <el-option v-for=\"option in item.options\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n            </el-select>\r\n            <el-date-picker v-if=\"item.commandType === 'Date'\" v-model=\"scope.row[item.column]\"\r\n                            :placeholder=\"$t('dynamicTable.selectDate')\" type=\"date\"\r\n                            value-format=\"yyyy-MM-dd\">\r\n            </el-date-picker>\r\n            <el-button v-if=\"item.commandType === 'RULEID'\" size=\"mini\">{{ $t('route.multilingual_information') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" :width=\"tableDataFormulaParams.length > 0 ? 150 : undefined\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"deleteFormulaParam(scope.row)\">-</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button size=\"mini\" type=\"primary\" @click=\"addDataRow\">+</el-button>\r\n      <el-form>\r\n        <el-form-item style=\"text-align: right\">\r\n          <el-button icon=\"el-icon-success\" size=\"small\" type=\"primary\" @click=\"saveFormulaParam\">\r\n            {{ $t('pdtempPdClmBnft.save') }}\r\n          </el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"small\" type=\"primary\" @click=\"refresh\">\r\n            {{ $t('pdtempPdClmBnft.clean') }}\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!--上传现价表-->\r\n    <el-dialog v-dialog-drag :append-to-body=\"true\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\r\n               :visible.sync=\"underwritingShow\" center width=\"70%\">\r\n      <cus-page-title-back :isDialog=\"true\" :label=\"$t('pdtempPdCv.uploadRate')\" @backTo=\"underwritingShow = false\"/>\r\n      <el-row :gutter=\"20\">\r\n        <el-button-group>\r\n          <el-button v-auth=\"'pdtemp-pd-cv:downloadCvTable'\" size=\"small\" type=\"primary\" @click=\"downloadCvTable\">\r\n            {{ $t('pdtempPdCv.downloadCvTable') }}\r\n          </el-button>\r\n        </el-button-group>\r\n      </el-row>\r\n      <el-form id=\"uploadForm\" style=\"margin-top: 5px\">\r\n        <el-form-item>\r\n          <el-upload ref=\"upload\" :auto-upload=\"true\" :before-upload=\"handleBeforeUpload\" :file-list=\"fileList\"\r\n                     :on-remove=\"handleRemove\" action=\"url\" class=\"upload-demo\" drag multiple>\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">{{ $t('pdtempPdCv.text01') }}</div>\r\n            <div class=\"el-upload__text\">{{ $t('pdtempPdCv.text02') }}<em>{{ $t('pdtempPdCv.text03') }}</em></div>\r\n            <div slot=\"tip\" class=\"el-upload__tip\">{{ $t('pdtempPdCv.text04') }}</div>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!-- 计算公式弹窗 -->\r\n    <el-dialog v-if=\"dialogVisible.formula\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"dialogVisible.formula\" append-to-body center\r\n               width=\"80%\" @close=\"changeDialogVisible_formula(false)\">\r\n      <pdtempPdCvFormula :formula=\"formula\" :pdBussDetailType=\"pdBussDetailType\"\r\n                         @changeDialogVisible_formula=\"changeDialogVisible_formula\"></pdtempPdCvFormula>\r\n    </el-dialog>\r\n\r\n    <!-- 规则引擎公式定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"formulaVisible\"></cus-rule-definition>\r\n\r\n    <!-- 公式查看和决策树编辑弹窗 -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"formulaViewClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {deletePdtempPdCv, saveFormulaInRuleEngine} from '@/api/basicinfo/pdtemppdcv'\r\nimport pdtempPdCvFormula from '@/views/product-definition/pd-framework-def/pd-current-price-def/pdtemppdcvFormula'\r\nimport XLSX from \"xlsx\"\r\nimport {associateCvCalc, getCalcCode} from \"@/api/basicinfo/pdtemppdcvformula\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'pdtempPdCv',\r\n  components: {pdtempPdCvFormula},\r\n  props: {},\r\n  filters: {\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      revisionMark: false,\r\n      page: undefined,\r\n      pageSize: undefined,\r\n      dataGet: {},\r\n      underwritingShow: false,//上传现价表\r\n      showFlag: false,\r\n      attributeObj: {},\r\n      formulaVisible: false,\r\n      formulaView: {\r\n        flag: '',\r\n        performType: '',\r\n        ruleCode: '',\r\n        visible: false\r\n      },\r\n      language: null,\r\n      ruleMessageInfoBom: [],\r\n      tableDataFormulaParams: [],\r\n      // 产品信息\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      params_current: {\r\n        pdInfoId: undefined\r\n      },\r\n      params_brief: {\r\n        product: undefined,\r\n        productDetailType: '',\r\n        pdBussDetailTypeList: []\r\n      },\r\n      tableData_brief: [],\r\n      tableData_cv: [],\r\n      fileList: [],\r\n      form_formula: {\r\n        pdBussDetailType: ''\r\n      },\r\n      rules_formula: {\r\n        pdBussDetailType: [\r\n          {required: true, message: this.$t('pdtempPdCv.pleaseSelectPdCvType'), trigger: 'change'},\r\n        ]\r\n      },\r\n      selectedFormula: {},\r\n      dialogVisible: {\r\n        formula: false\r\n      },\r\n      pdBussDetailType: '',\r\n      formula: {},\r\n      filters_pdBussDetailType: []\r\n    }\r\n  },\r\n  watch: {\r\n    tableData_cv() {\r\n      // 产品编码过滤器\r\n      this.filters_pdBussDetailType = []\r\n      this.tableData_cv.forEach(val => {\r\n        if (!this._.includes(this._.map(this.filters_pdBussDetailType, 'value'), val.pdBussDetailType)) {\r\n          this.filters_pdBussDetailType.push({\r\n            text: this.getCodeName('ruleBusinessDetailClass', val.pdBussDetailType),\r\n            value: val.pdBussDetailType\r\n          })\r\n        }\r\n      })\r\n    },\r\n    'form_formula.pdBussDetailType'(val) {\r\n      if (this.revisionMark) {\r\n        this.tableData_brief = []\r\n        this.$refs.page_brief.total = 0\r\n        this.$refs.page_brief.page = 1\r\n        if (val) {\r\n          this.params_brief.pdBussDetailTypeList = [val]\r\n          this.$refs.page_brief.reload()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.language = this.$store.state.app.language\r\n    this.ruleMessageInfoBom = this.$store.state.ruleMessage.ruleMessages\r\n  },\r\n  created() {\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n    this.revisionMark = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.initProductInfo()\r\n      this.initTableData()\r\n      if (this.revisionMark) {\r\n        this.params_brief.product = this.product\r\n        this.params_brief.productDetailType = this.product.cType\r\n      }\r\n    },\r\n    initProductInfo() {\r\n      let product = this.getPdData()\r\n      if (Object.keys(product).length > 0) {\r\n        this.product = product\r\n      } else {\r\n        this.notifyError(this.$t('message.invalidProductInfo'))\r\n      }\r\n    },\r\n    initTableData() {\r\n      this.selectedFormula = {}\r\n      this.params_current.pdInfoId = this.product.id\r\n      this.$nextTick(() => {\r\n        this.$refs.page_current.reload()\r\n      })\r\n    },\r\n    toFormulaDef(pdBussDetailType, formula, needValidate) {\r\n      if (needValidate === true) {\r\n        this.$refs.form_formula.validate(pass => {\r\n          if (pass) {\r\n            this.pdBussDetailType = pdBussDetailType\r\n            this.formula = formula\r\n            this.dialogVisible.formula = true\r\n          }\r\n        })\r\n      } else {\r\n        this.pdBussDetailType = pdBussDetailType\r\n        this.formula = formula\r\n        this.dialogVisible.formula = true\r\n      }\r\n    },\r\n    rowClick(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedFormula.id) {\r\n          this.selectedFormula = {}\r\n          this.tableDataFormulaParams = []\r\n          this.showFlag = false\r\n        }\r\n      }\r\n    },\r\n    formulaViewClosed() {\r\n      this.formulaView.visible = false\r\n      if (!this.showFlag) {\r\n        this.selectedFormula = {}\r\n      }\r\n    },\r\n    selectedFormulaChanged() {\r\n      this.tableDataFormulaParams = []\r\n      if (!this.selectedFormula.dataGet) {\r\n        this.formulaView.flag = '1'\r\n        this.formulaView.ruleCode = this.selectedFormula.pdCalcCode\r\n        this.formulaView.performType = this.selectedFormula.performType\r\n        this.formulaView.visible = true\r\n        return\r\n      }\r\n      this.dataGet = JSON.parse(this.selectedFormula.dataGet)\r\n      this.tableDataFormulaParams = this.dataGet.paramList\r\n      this.showFlag = true\r\n    },\r\n    deleteCv(id) {\r\n      deletePdtempPdCv(id).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.showFlag = false\r\n        if (this.revisionMark) {\r\n          this.$refs.page_current.reload()\r\n          this.$refs.page_brief.reload()\r\n        } else {\r\n          this.initTableData()\r\n        }\r\n      })\r\n    },\r\n    changeDialogVisible_formula(flag) {\r\n      this.dialogVisible.formula = flag\r\n      this.showFlag = false\r\n      if (this.revisionMark) {\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n      } else {\r\n        this.initTableData()\r\n      }\r\n    },\r\n    deleteFormulaParam(row) {\r\n      this.tableDataFormulaParams.splice(this.tableDataFormulaParams.indexOf(row), 1)\r\n    },\r\n    addDataRow() {\r\n      this.tableDataFormulaParams.push({})\r\n    },\r\n    saveFormulaParam() {\r\n      if (Object.keys(this.selectedFormula).length === 0) {\r\n        this.notifyError(this.$t('pdtempPdUnderwritingAmountFormula.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      this.$set(this.dataGet, 'paramList', this.tableDataFormulaParams)\r\n      const param = {\r\n        ruleCode: this.selectedFormula.pdCalcCode,\r\n        dynamicTable: JSON.stringify(this.dataGet)\r\n      }\r\n      saveFormulaInRuleEngine(this.buildRequestData(param)).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.save'))\r\n        this.$set(this.selectedFormula, 'dataGet', JSON.stringify(this.dataGet))\r\n      })\r\n    },\r\n    refresh() {\r\n      this.selectedFormulaChanged()\r\n    },\r\n    handleBeforeUpload(file) {\r\n      this.$confirm(String(this.$t('pdtempPdCv.text05')), String(this.$t('confirmMessage.tip')), {\r\n        confirmButtonText: this.$t('confirmMessage.confirm'),\r\n        cancelButtonText: this.$t('confirmMessage.cancel'),\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: String(this.$t('pdtempPdCv.continue'))\r\n        })\r\n        this.fileList = []\r\n        this.fileList.push(file)\r\n        let files = {0: file}\r\n        this.readExcel(files)\r\n        return true\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: String(this.$t('pdtempPdCv.canceled'))\r\n        })\r\n        return false\r\n      })\r\n      return false\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    //下载\r\n    downloadCvTable() {\r\n      if (Object.keys(this.selectedFormula).length === 0) {\r\n        this.notifyError(this.$t('pdtempPdCv.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      let columns = []\r\n      for (const param of this.dataGet.paramArr) {\r\n        columns.push({\r\n          title: param.prop,\r\n          key: param.column\r\n        })\r\n      }\r\n      // 处理类型为日期的数据\r\n      let columnArr = this._.map(columns, 'key')\r\n      for (const param of this.tableDataFormulaParams) {\r\n        for (const column of columnArr) {\r\n          let commandType = this.getCommandTypeByColumn(column)\r\n          if (commandType === 'Date') {\r\n            this.$set(param, column, this.formatDate(new Date(param[column]), 'yyyy-MM-dd'))\r\n          }\r\n        }\r\n      }\r\n      this.export2Excel(columns, this.tableDataFormulaParams, this.$t('pdtempPdCv.cvTable') + '_' + this.formatDate(new Date(), 'yyyy-MM-dd hh:mm:ss'))\r\n    },\r\n    getCommandTypeByColumn(column) {\r\n      for (const paramArrElement of this.dataGet.paramArr) {\r\n        if (paramArrElement.column === column) {\r\n          return paramArrElement.commandType\r\n        }\r\n      }\r\n      return undefined\r\n    },\r\n    readExcel(files) {//表格导入\r\n      if (files.length <= 0) {//如果没有文件名\r\n        return false\r\n      } else if (!/\\.(xls|xlsx)$/.test(files[0].name.toLowerCase())) {\r\n        this.$Message.error(this.$t('pdtempPdCv.incorrectFormat'))\r\n        return false\r\n      }\r\n      const fileReader = new FileReader()\r\n      fileReader.onload = (ev) => {\r\n        try {\r\n          const data = ev.target.result\r\n          const workbook = XLSX.read(data, {\r\n            type: 'binary'\r\n          })\r\n          const wsname = workbook.SheetNames[0]//取第一张表\r\n          const ws = XLSX.utils.sheet_to_json(workbook.Sheets[wsname])//生成json表格内容\r\n          //重写数据\r\n          try {\r\n          } catch (err) {\r\n            console.log(err)\r\n          }\r\n          this.$refs.upload.value = ''\r\n        } catch (e) {\r\n          return false\r\n        }\r\n      }\r\n      fileReader.readAsBinaryString(files[0])\r\n      //加载成功后\r\n      fileReader.onload = function (evt) {\r\n        if (evt.target.readyState == FileReader.DONE) {\r\n          var data = fileReader.result\r\n          var workbook = XLSX.read(data, {type: 'binary'})\r\n        }\r\n        var sheet_name_list = workbook.SheetNames\r\n        var result = XLSX.utils.sheet_to_json(workbook.Sheets[sheet_name_list[0]], {header: 1})\r\n        _this.tableDataFormulaParams = []\r\n        let keyArray = []\r\n        for (let i = 0; i < result[0].length; i++) {\r\n          let propName = result[0][i]\r\n          for (const paramArrElement of _this.dataGet.paramArr) {\r\n            if (propName === paramArrElement.prop) {\r\n              let key = paramArrElement.column\r\n              keyArray.push(key)\r\n              break\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < result.length; i++) {\r\n          if (i > 0) {\r\n            let dataItem = {}\r\n            for (let j = 0; j < result[i].length; j++) {\r\n              let value = result[i][j]\r\n              if ('multiple' === _this.dataGet.paramArr[j].commandType) {\r\n                value = value.split(',')\r\n                for (let i = 0; i < value.length; i++) {\r\n                  _this.$set(value, i, String(value[i]).trim())\r\n                }\r\n              }\r\n              _this.$set(dataItem, keyArray[j], value)\r\n            }\r\n            _this.$set(_this.tableDataFormulaParams, i - 1, dataItem)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    ruleModuleClosed() {\r\n      this.formulaVisible = false\r\n      if (this.revisionMark) {\r\n        this.$refs.page_brief.reload()\r\n      }\r\n    },\r\n    toAddFormula() {\r\n      let passFlag = true\r\n      this.$refs.form_formula.validate(pass => {\r\n        if (!pass) {\r\n          passFlag = false\r\n        }\r\n      })\r\n      if (!passFlag) {\r\n        return\r\n      }\r\n      const param = {\r\n        pdBussType: '5',\r\n        pdBussDetailType: this.form_formula.pdBussDetailType\r\n      }\r\n      getCalcCode(this.buildRequestData(param)).then(response => {\r\n        this.attributeObj = {\r\n          code: response.data,\r\n          ruleBussModu: '5',\r\n          ruleBussModuDeta: this.form_formula.pdBussDetailType,\r\n          ruleType: '2',\r\n          ruleAttr: '2',\r\n          pdType: '1',\r\n          riskType: this.product.bType,\r\n          riskDetail: this.product.cType,\r\n          pdCode: this.product.pdCode,\r\n          pdEdition: this.product.pdEdition\r\n        }\r\n        this.formulaVisible = true\r\n      })\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.visible = true\r\n    },\r\n    backToMenu() {\r\n      this.$router.push({name: '产品公式订正主页', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    handleSelectFormula(row) {\r\n      const param = {\r\n        product: this.product,\r\n        formula: row,\r\n        pdBussDetailType: this.form_formula.pdBussDetailType,\r\n        pdStructureType: '09',\r\n        needChecking: true\r\n      }\r\n      associateCvCalc(this.buildRequestData(param)).then(response => {\r\n        let successFlag = response.data\r\n        if (successFlag === true) {\r\n          this.notifySuccess(this.$t('rule.associationSuccess'))\r\n          this.$refs.page_current.reload()\r\n          this.$refs.page_brief.reload()\r\n        } else {\r\n          this.$confirm(String(this.$t('rule.confirm_overwrite_formula')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            associateCvCalc(this.buildRequestData(param)).then(() => {\r\n              this.notifySuccess(this.$t('rule.associationSuccess'))\r\n              this.$refs.page_current.reload()\r\n              this.$refs.page_brief.reload()\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('underwritingAmountFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-framework-def/pd-current-price-def"}]}
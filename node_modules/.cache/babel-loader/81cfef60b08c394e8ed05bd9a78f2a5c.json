{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\api\\lib\\encrypt.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\api\\lib\\encrypt.js","mtime":1609847106208},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuRW5jcnlwdCA9IEVuY3J5cHQ7CmV4cG9ydHMuRGVjcnlwdCA9IERlY3J5cHQ7CmV4cG9ydHMuaXNKc29uT2JqZWN0ID0gaXNKc29uT2JqZWN0OwoKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKSk7Cgp2YXIgX2F1dGggPSByZXF1aXJlKCJAL3V0aWxzL2F1dGgiKTsKCmZ1bmN0aW9uIEVuY3J5cHQoZGF0YSkgewogIHRyeSB7CiAgICBpZiAoaXNKc29uT2JqZWN0KGRhdGEpKSB7CiAgICAgIHZhciB3b3JkID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgICAgIHZhciBrZXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSgoMCwgX2F1dGguZ2V0QWVzS2V5KSgpKTsKICAgICAgdmFyIHNyY3MgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSh3b3JkKTsKICAgICAgdmFyIGVuY3J5cHRlZCA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KHNyY3MsIGtleSwgewogICAgICAgIG1vZGU6IENyeXB0b0pTLm1vZGUuRUNCLAogICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5Qa2NzNwogICAgICB9KTsKICAgICAgcmV0dXJuIGVuY3J5cHRlZC50b1N0cmluZygpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgfSBjYXRjaCAoZSkgewogICAgcmV0dXJuIGRhdGE7CiAgfQp9CgpmdW5jdGlvbiBEZWNyeXB0KHdvcmQpIHsKICB0cnkgewogICAgaWYgKCFpc0pzb25PYmplY3Qod29yZCkpIHsKICAgICAgdmFyIGtleSA9IENyeXB0b0pTLmVuYy5VdGY4LnBhcnNlKCgwLCBfYXV0aC5nZXRBZXNLZXkpKCkpOwogICAgICB3b3JkID0gd29yZC50cmltKCk7CiAgICAgIHZhciBkZWNyeXB0ID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQod29yZCwga2V5LCB7CiAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5FQ0IsCiAgICAgICAgcGFkZGluZzogQ3J5cHRvSlMucGFkLlBrY3M3CiAgICAgIH0pOwogICAgICB2YXIgc3RyaW5nID0gQ3J5cHRvSlMuZW5jLlV0Zjguc3RyaW5naWZ5KGRlY3J5cHQpLnRvU3RyaW5nKCk7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZyk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29yZDsKICAgIH0KICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4gewogICAgICAnY29kZSc6ICdlcnJvcicsCiAgICAgICdtZXNzYWdlJzogJ+ino+WvhuaVsOaNruWksei0pScKICAgIH07CiAgfQp9CgpmdW5jdGlvbiBpc0pzb25PYmplY3QoZGF0YSkgewogIHRyeSB7CiAgICBpZiAoKDAsIF90eXBlb2YyLmRlZmF1bHQpKGRhdGEpID09ICdvYmplY3QnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKS50b0xvd2VyQ2FzZSgpID09PSAnW29iamVjdCBvYmplY3RdJyAmJiAhZGF0YS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkudG9Mb3dlckNhc2UoKSA9PT0gJ1tvYmplY3QgYXJyYXldJykgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9IGNhdGNoIChlKSB7fQoKICByZXR1cm4gZmFsc2U7Cn0="},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/api/lib/encrypt.js"],"names":["Encrypt","data","isJsonObject","word","JSON","stringify","key","CryptoJS","enc","Utf8","parse","srcs","encrypted","AES","encrypt","mode","ECB","padding","pad","Pkcs7","toString","e","Decrypt","trim","decrypt","string","Object","prototype","call","toLowerCase","length","Array"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AAEO,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AAC5B,MAAI;AACF,QAAIC,YAAY,CAACD,IAAD,CAAhB,EAAwB;AACtB,UAAIE,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAX;AACA,UAAMK,GAAG,GAAGC,QAAQ,CAACC,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwB,sBAAxB,CAAZ;AACA,UAAIC,IAAI,GAAGJ,QAAQ,CAACC,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBP,IAAxB,CAAX;AACA,UAAIS,SAAS,GAAGL,QAAQ,CAACM,GAAT,CAAaC,OAAb,CAAqBH,IAArB,EAA2BL,GAA3B,EAAgC;AAC9CS,QAAAA,IAAI,EAAGR,QAAQ,CAACQ,IAAT,CAAcC,GADyB;AAE9CC,QAAAA,OAAO,EAAGV,QAAQ,CAACW,GAAT,CAAaC;AAFuB,OAAhC,CAAhB;AAIA,aAAOP,SAAS,CAACQ,QAAV,EAAP;AACD,KATD,MASO;AACL,aAAOnB,IAAP;AACD;AACF,GAbD,CAaE,OAAOoB,CAAP,EAAU;AACV,WAAOpB,IAAP;AACD;AACF;;AAEM,SAASqB,OAAT,CAAiBnB,IAAjB,EAAuB;AAC5B,MAAI;AACF,QAAI,CAACD,YAAY,CAACC,IAAD,CAAjB,EAAyB;AACvB,UAAMG,GAAG,GAAGC,QAAQ,CAACC,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwB,sBAAxB,CAAZ;AACAP,MAAAA,IAAI,GAAGA,IAAI,CAACoB,IAAL,EAAP;AACA,UAAIC,OAAO,GAAGjB,QAAQ,CAACM,GAAT,CAAaW,OAAb,CAAqBrB,IAArB,EAA2BG,GAA3B,EAAgC;AAC5CS,QAAAA,IAAI,EAAER,QAAQ,CAACQ,IAAT,CAAcC,GADwB;AAE5CC,QAAAA,OAAO,EAAEV,QAAQ,CAACW,GAAT,CAAaC;AAFsB,OAAhC,CAAd;AAIA,UAAIM,MAAM,GAAGlB,QAAQ,CAACC,GAAT,CAAaC,IAAb,CAAkBJ,SAAlB,CAA4BmB,OAA5B,EAAqCJ,QAArC,EAAb;AACA,aAAOhB,IAAI,CAACM,KAAL,CAAWe,MAAX,CAAP;AACD,KATD,MASO;AACL,aAAOtB,IAAP;AACD;AACF,GAbD,CAaE,OAAOkB,CAAP,EAAU;AACV,WAAO;AAAE,cAAQ,OAAV;AAAmB,iBAAW;AAA9B,KAAP;AACD;AACF;;AAEM,SAASnB,YAAT,CAAsBD,IAAtB,EAA4B;AACjC,MAAI;AACF,QAAI,sBAAQA,IAAR,KAAiB,QAAjB,IAA6ByB,MAAM,CAACC,SAAP,CAAiBP,QAAjB,CAA0BQ,IAA1B,CAA+B3B,IAA/B,EAAqC4B,WAArC,OAAuD,iBAApF,IAAyG,CAAC5B,IAAI,CAAC6B,MAAnH,EAA2H;AACzH,aAAO,IAAP;AACD,KAFD,MAEM,IAAI7B,IAAI,YAAY8B,KAAhB,IAAyBL,MAAM,CAACC,SAAP,CAAiBP,QAAjB,CAA0BQ,IAA1B,CAA+B3B,IAA/B,EAAqC4B,WAArC,OAAuD,gBAApF,EAAqG;AACzG,aAAO,IAAP;AACD;AACF,GAND,CAME,OAAOR,CAAP,EAAU,CAEX;;AACD,SAAO,KAAP;AACD","sourcesContent":["import { getAesKey } from '@/utils/auth'\r\n\r\nexport function Encrypt(data) {\r\n  try {\r\n    if (isJsonObject(data)) {\r\n      let word = JSON.stringify(data)\r\n      const key = CryptoJS.enc.Utf8.parse(getAesKey())\r\n      let srcs = CryptoJS.enc.Utf8.parse(word);\r\n      let encrypted = CryptoJS.AES.encrypt(srcs, key, {\r\n        mode : CryptoJS.mode.ECB,\r\n        padding : CryptoJS.pad.Pkcs7\r\n      });\r\n      return encrypted.toString();\r\n    } else {\r\n      return data\r\n    }\r\n  } catch (e) {\r\n    return data\r\n  }\r\n}\r\n\r\nexport function Decrypt(word) {\r\n  try {\r\n    if (!isJsonObject(word)) {\r\n      const key = CryptoJS.enc.Utf8.parse(getAesKey())\r\n      word = word.trim()\r\n      let decrypt = CryptoJS.AES.decrypt(word, key, {\r\n        mode: CryptoJS.mode.ECB,\r\n        padding: CryptoJS.pad.Pkcs7\r\n      })\r\n      let string = CryptoJS.enc.Utf8.stringify(decrypt).toString()\r\n      return JSON.parse(string)\r\n    } else {\r\n      return word\r\n    }\r\n  } catch (e) {\r\n    return { 'code': 'error', 'message': '解密数据失败' }\r\n  }\r\n}\r\n\r\nexport function isJsonObject(data) {\r\n  try {\r\n    if (typeof (data) == 'object' && Object.prototype.toString.call(data).toLowerCase() === '[object object]' && !data.length) {\r\n      return true\r\n    }else if (data instanceof Array && Object.prototype.toString.call(data).toLowerCase() === '[object array]'){\r\n      return true\r\n    }\r\n  } catch (e) {\r\n\r\n  }\r\n  return false\r\n}\r\n"]}]}
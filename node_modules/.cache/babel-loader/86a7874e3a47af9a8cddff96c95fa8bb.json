{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\tagsView.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\tagsView.js","mtime":1609847106503},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuY2xvc2VUYWcgPSBjbG9zZVRhZzsKZXhwb3J0cy5jbG9zZVZpc2l0VGFnID0gY2xvc2VWaXNpdFRhZzsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX21haW4gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvbWFpbiIpKTsKCmZ1bmN0aW9uIGNsb3NlVGFnKHRpdGxlKSB7CiAgdmFyIHZpc2l0ZWRWaWV3cyA9IF9tYWluLmRlZmF1bHQuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3LnZpc2l0ZWRWaWV3czsKCiAgaWYgKHZpc2l0ZWRWaWV3cyAmJiB2aXNpdGVkVmlld3MubGVuZ3RoID4gMCkgewogICAgdmFyIF9pdGVyYXRvciA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodmlzaXRlZFZpZXdzKSwKICAgICAgICBfc3RlcDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciB2aWV3ID0gX3N0ZXAudmFsdWU7CgogICAgICAgIGlmICh2aWV3LnRpdGxlID09PSB0aXRsZSkgewogICAgICAgICAgX21haW4uZGVmYXVsdC4kc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbFZpZXcnLCB2aWV3KS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGNsb3NlVmlzaXRUYWcoYmFjaykgewogIHZhciB2aXNpdGVkVmlld3MgPSBfbWFpbi5kZWZhdWx0LiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3M7CiAgdmFyIGxhdGVzdFZpZXcgPSB2aXNpdGVkVmlld3Muc2xpY2UoLTEpWzBdOwogIHZpc2l0ZWRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3cykgewogICAgaWYgKGlzQWN0aXZlKHZpZXdzKSkgewogICAgICBsYXRlc3RWaWV3ID0gdmlld3M7CiAgICB9CiAgfSk7CgogIF9tYWluLmRlZmF1bHQuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgbGF0ZXN0VmlldykudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIHZpc2l0ZWRWaWV3cyA9IF9yZWYudmlzaXRlZFZpZXdzOwoKICAgIGlmICh0cnVlID09PSBiYWNrKSB7CiAgICAgIGlmIChpc0FjdGl2ZShsYXRlc3RWaWV3KSkgewogICAgICAgIHRvTGFzdFZpZXcodmlzaXRlZFZpZXdzLCBsYXRlc3RWaWV3KTsKICAgICAgfQogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBpc0FjdGl2ZShyb3V0ZSkgewogIHJldHVybiByb3V0ZS5wYXRoID09PSBfbWFpbi5kZWZhdWx0LiRyb3V0ZS5wYXRoOwp9CgpmdW5jdGlvbiB0b0xhc3RWaWV3KHZpc2l0ZWRWaWV3cywgdmlldykgewogIHZhciBsYXRlc3RWaWV3ID0gdmlzaXRlZFZpZXdzLnNsaWNlKC0xKVswXTsKCiAgaWYgKGxhdGVzdFZpZXcpIHsKICAgIF9tYWluLmRlZmF1bHQuJHJvdXRlci5wdXNoKGxhdGVzdFZpZXcuZnVsbFBhdGgpLnRoZW4oZnVuY3Rpb24gKCkge30pOwogIH0gZWxzZSB7CiAgICAvLyBub3cgdGhlIGRlZmF1bHQgaXMgdG8gcmVkaXJlY3QgdG8gdGhlIGhvbWUgcGFnZSBpZiB0aGVyZSBpcyBubyB0YWdzLXZpZXcsCiAgICAvLyB5b3UgY2FuIGFkanVzdCBpdCBhY2NvcmRpbmcgdG8geW91ciBuZWVkcy4KICAgIGlmICh2aWV3Lm5hbWUgPT09ICdEYXNoYm9hcmQnKSB7CiAgICAgIC8vIHRvIHJlbG9hZCBob21lIHBhZ2UKICAgICAgX21haW4uZGVmYXVsdC4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIHBhdGg6ICcvcmVkaXJlY3QnICsgdmlldy5mdWxsUGF0aAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0gZWxzZSB7CiAgICAgIF9tYWluLmRlZmF1bHQuJHJvdXRlci5wdXNoKCcvJykudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/utils/tagsView.js"],"names":["closeTag","title","visitedViews","MyVue","$store","state","tagsView","length","view","dispatch","then","closeVisitTag","back","latestView","slice","forEach","views","isActive","toLastView","route","path","$route","$router","push","fullPath","name","replace"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEO,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AAC9B,MAAMC,YAAY,GAAGC,cAAMC,MAAN,CAAaC,KAAb,CAAmBC,QAAnB,CAA4BJ,YAAjD;;AACA,MAAIA,YAAY,IAAIA,YAAY,CAACK,MAAb,GAAsB,CAA1C,EAA6C;AAAA,6DACxBL,YADwB;AAAA;;AAAA;AAC3C,0DAAiC;AAAA,YAAtBM,IAAsB;;AAC/B,YAAIA,IAAI,CAACP,KAAL,KAAeA,KAAnB,EAA0B;AACxBE,wBAAMC,MAAN,CAAaK,QAAb,CAAsB,kBAAtB,EAA0CD,IAA1C,EAAgDE,IAAhD,CAAqD,YAAM,CAC1D,CADD;;AAEA;AACD;AACF;AAP0C;AAAA;AAAA;AAAA;AAAA;AAQ5C;AACF;;AAEM,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAClC,MAAMV,YAAY,GAAGC,cAAMC,MAAN,CAAaC,KAAb,CAAmBC,QAAnB,CAA4BJ,YAAjD;AACA,MAAIW,UAAU,GAAGX,YAAY,CAACY,KAAb,CAAmB,CAAC,CAApB,EAAuB,CAAvB,CAAjB;AACAZ,EAAAA,YAAY,CAACa,OAAb,CAAqB,UAAAC,KAAK,EAAI;AAC5B,QAAIC,QAAQ,CAACD,KAAD,CAAZ,EAAqB;AACnBH,MAAAA,UAAU,GAAGG,KAAb;AACD;AACF,GAJD;;AAKAb,gBAAMC,MAAN,CAAaK,QAAb,CAAsB,kBAAtB,EAA0CI,UAA1C,EAAsDH,IAAtD,CAA2D,gBAAoB;AAAA,QAAlBR,YAAkB,QAAlBA,YAAkB;;AAC7E,QAAI,SAASU,IAAb,EAAmB;AACjB,UAAIK,QAAQ,CAACJ,UAAD,CAAZ,EAA0B;AACxBK,QAAAA,UAAU,CAAChB,YAAD,EAAeW,UAAf,CAAV;AACD;AACF;AACF,GAND;AAOD;;AAED,SAASI,QAAT,CAAkBE,KAAlB,EAAyB;AACvB,SAAOA,KAAK,CAACC,IAAN,KAAejB,cAAMkB,MAAN,CAAaD,IAAnC;AACD;;AAED,SAASF,UAAT,CAAoBhB,YAApB,EAAkCM,IAAlC,EAAwC;AACtC,MAAMK,UAAU,GAAGX,YAAY,CAACY,KAAb,CAAmB,CAAC,CAApB,EAAuB,CAAvB,CAAnB;;AACA,MAAID,UAAJ,EAAgB;AACdV,kBAAMmB,OAAN,CAAcC,IAAd,CAAmBV,UAAU,CAACW,QAA9B,EAAwCd,IAAxC,CAA6C,YAAM,CAClD,CADD;AAED,GAHD,MAGO;AACL;AACA;AACA,QAAIF,IAAI,CAACiB,IAAL,KAAc,WAAlB,EAA+B;AAC7B;AACAtB,oBAAMmB,OAAN,CAAcI,OAAd,CAAsB;AAACN,QAAAA,IAAI,EAAE,cAAcZ,IAAI,CAACgB;AAA1B,OAAtB,EAA2Dd,IAA3D,CAAgE,YAAM,CACrE,CADD;AAED,KAJD,MAIO;AACLP,oBAAMmB,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EAAwBb,IAAxB,CAA6B,YAAM,CAClC,CADD;AAED;AACF;AACF","sourcesContent":["import MyVue from \"@/main\"\r\n\r\nexport function closeTag(title) {\r\n  const visitedViews = MyVue.$store.state.tagsView.visitedViews\r\n  if (visitedViews && visitedViews.length > 0) {\r\n    for (const view of visitedViews) {\r\n      if (view.title === title) {\r\n        MyVue.$store.dispatch('tagsView/delView', view).then(() => {\r\n        })\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function closeVisitTag(back) {\r\n  const visitedViews = MyVue.$store.state.tagsView.visitedViews\r\n  let latestView = visitedViews.slice(-1)[0]\r\n  visitedViews.forEach(views => {\r\n    if (isActive(views)) {\r\n      latestView = views\r\n    }\r\n  })\r\n  MyVue.$store.dispatch('tagsView/delView', latestView).then(({visitedViews}) => {\r\n    if (true === back) {\r\n      if (isActive(latestView)) {\r\n        toLastView(visitedViews, latestView)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction isActive(route) {\r\n  return route.path === MyVue.$route.path\r\n}\r\n\r\nfunction toLastView(visitedViews, view) {\r\n  const latestView = visitedViews.slice(-1)[0]\r\n  if (latestView) {\r\n    MyVue.$router.push(latestView.fullPath).then(() => {\r\n    })\r\n  } else {\r\n    // now the default is to redirect to the home page if there is no tags-view,\r\n    // you can adjust it according to your needs.\r\n    if (view.name === 'Dashboard') {\r\n      // to reload home page\r\n      MyVue.$router.replace({path: '/redirect' + view.fullPath}).then(() => {\r\n      })\r\n    } else {\r\n      MyVue.$router.push('/').then(() => {\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}]}
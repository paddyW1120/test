{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\workflow\\assign\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\workflow\\assign\\index.vue","mtime":1609847107223},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3dvcmtmbG93ID0gcmVxdWlyZSgiQC9hcGkvd29ya2Zsb3cvd29ya2Zsb3ciKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnd29ya2Zsb3cnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJDb2RlOiAnJywKICAgICAgICB0YXNrSWQ6ICcnCiAgICAgIH0sCiAgICAgIGNvbmZpZ3M6IFtdLAogICAgICBwYXJhbXM6IHsKICAgICAgICBwZENvZGU6ICcnLAogICAgICAgIHBkRWRpdGlvbjogJycsCiAgICAgICAgdXNlckNvZGU6ICcnLAogICAgICAgIHRhc2tOYW1lOiAnJwogICAgICB9LAogICAgICB1c2VyT3B0aW9uczogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlckNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3VzZXJWaWV3LmlucHV0JykgKyB0aGlzLiR0KCd1c2VyVmlldy50YWJsZV91c2VyQ29kZScpLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaCgpIHsKICAgICAgdGhpcy4kcmVmcy5wYWdlLnJlbG9hZCgpOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmRhdGFGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgKDAsIF93b3JrZmxvdy5hc3NpZ25UYXNrKShfdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVTZWFyY2goKTsKCiAgICAgICAgICAgIF90aGlzLm5vdGlmeVN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7CgogICAgICAgICAgICBfdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzc2lnblRhc2s6IGZ1bmN0aW9uIGFzc2lnblRhc2socm93KSB7CiAgICAgIHRoaXMuZm9ybS51c2VyQ29kZSA9IHJvdy5hc3NpZ25OYW1lOwogICAgICB0aGlzLmZvcm0udGFza0lkID0gcm93LnRhc2tJZDsKICAgICAgdGhpcy5nZXRBbGxVc2VycygpOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGdldEFsbFVzZXJzOiBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAoMCwgX3dvcmtmbG93LmdldEFsbFVzZXJzKSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi51c2VyT3B0aW9ucyA9IFtdOwogICAgICAgIHZhciB1c2VycyA9IHJlcy5kYXRhOwogICAgICAgIHVzZXJzLmZvckVhY2goZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgIF90aGlzMi51c2VyT3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgJ2tleSc6IHVzZXIudXNlckNvZGUsCiAgICAgICAgICAgICdsYWJlbCc6IHVzZXIudXNlck5hbWUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;AAgEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAFA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAPA;AAaA,MAAA,WAAA,EAAA,EAbA;AAcA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,IAAA,KAAA,EAAA,CAAA,yBAAA,CAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA;AADA;AAdA,KAAA;AAwBA,GA3BA;AA4BA,EAAA,OA5BA,qBA4BA,CACA,CA7BA;AA8BA,EAAA,OA9BA,qBA8BA,CACA,CA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAHA;AAGA,IAAA,UAHA,wBAGA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,oCAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,YAAA;;AACA,YAAA,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,OAAA;;AACA,YAAA,KAAA,CAAA,aAAA,GAAA,KAAA;AACA,WAJA;AAKA;AACA,OARA;AASA,KAbA;AAaA,IAAA,UAbA,sBAaA,GAbA,EAaA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,GAAA,CAAA,UAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AACA,WAAA,WAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AAAA;;AACA,mCAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CAAA;AAAA,mBAAA,IAAA,CAAA,QAAA;AAAA,qBAAA,IAAA,CAAA;AAAA,WAAA;AACA,SAFA;AAGA,OANA;AAOA;AA3BA;AAhCA,C","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-divider content-position=\"left\">{{$t('i18nView.workflowtask')}}</el-divider>\r\n    <cus-filter-wraper>\r\n      <el-form :inline=\"true\">\r\n        <el-form-item :label=\"$t('i18nView.pdCode')\" prop=\"\">\r\n          <el-input clearable placeholder=\"\" v-model=\"params.pdCode\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('customComponents.pdEdition')\" prop=\"\">\r\n          <el-input clearable placeholder=\"\" v-model=\"params.pdEdition\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.taskName')\" prop=\"\">\r\n          <el-input clearable placeholder=\"\" v-model=\"params.taskName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('i18nView.userCode')\" prop=\"\">\r\n          <el-input clearable placeholder=\"\" v-model=\"params.userCode\"></el-input>\r\n        </el-form-item>\r\n        <el-button  size=\"small\" @click=\"handleSearch\" class=\"filter-button\" type=\"primary\">{{$t('i18nView.query')}}</el-button>\r\n      </el-form>\r\n    </cus-filter-wraper>\r\n\r\n\r\n    <el-table :data=\"configs\" align=\"center\" border class=\"wraper-table\" element-loading-text=\"Loading\" fit\r\n              highlight-current-row\r\n              size=\"mini\">>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.insuranceCode')\" prop=\"pdCode\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.editionNum')\" prop=\"pdEdition\"></el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.taskName')\" prop=\"taskName\"></el-table-column>\r\n      <!--      <el-table-column label=\"任务ID\" align=\"center\" prop=\"taskId\" sortable></el-table-column>-->\r\n      <el-table-column align=\"center\" :label=\"$t('i18nView.transcatorCode')\" prop=\"assignName\"></el-table-column>\r\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button  @click=\"assignTask(scope.row)\" class=\"filter-button\" icon=\"el-icon-edit\" size=\"mini\"\r\n                     type=\"primary\">{{ $t('compdMonitoring.redistributionBtn') }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page\" url=\"/workflow/queryAssignedTask\" v-model=\"configs\"/>\r\n\r\n\r\n    <el-dialog :visible.sync=\"dialogVisible\" @close=\"dialogVisible=false\" title=\"用户选择\" v-dialog-drag>\r\n      <el-form :model=\"form\" :rules=\"rules\" label-position=\"right\" label-width=\"40%\"\r\n               ref=\"dataForm\"\r\n               style=\"width: 60%;margin-left: 10%\">\r\n        <el-form-item :label=\"$t('compdMonitoring.user')\" prop=\"userCode\">\r\n          <el-select :placeholder=\"$t('i18nView.selectPlaceholder')\" class=\"filter-item\" v-model=\"form.userCode\">\r\n            <el-option :key=\"item.key\" :label=\"item.label\" :value=\"item.key\"\r\n                       v-for=\"item in userOptions\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n          <el-button  size=\"small\" icon='el-icon-circle-close' @click=\"dialogVisible = false\"> {{ $t('table.cancel') }} </el-button>\r\n          <el-button  size=\"small\" @click=\"submitForm\" class=\"el-icon-success\" type=\"primary\" v-auth=\"'sys-user:add'\"> {{ $t('table.confirm') }} </el-button>\r\n        </span>\r\n    </el-dialog>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\n  import {assignTask, getAllUsers} from '@/api/workflow/workflow'\r\n\r\n  export default {\r\n    name: 'workflow',\r\n    data() {\r\n      return {\r\n        dialogVisible: false,\r\n        form: {\r\n          userCode: '',\r\n          taskId: ''\r\n        },\r\n        configs: [],\r\n        params: {\r\n          pdCode: '',\r\n          pdEdition: '',\r\n          userCode: '',\r\n          taskName: '',\r\n        },\r\n        userOptions: [],\r\n        rules: {\r\n          userCode: [\r\n            {\r\n              required: true,\r\n              message: this.$t('userView.input') + this.$t('userView.table_userCode'),\r\n              trigger: 'change'\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      handleSearch() {\r\n        this.$refs.page.reload()\r\n      }, submitForm() {\r\n        this.$refs.dataForm.validate(valid => {\r\n          if (valid) {\r\n            assignTask(this.form).then(response => {\r\n              this.handleSearch()\r\n              this.notifySuccess(response.message)\r\n              this.dialogVisible = false\r\n            })\r\n          }\r\n        })\r\n      }, assignTask(row) {\r\n        this.form.userCode = row.assignName\r\n        this.form.taskId = row.taskId\r\n        this.getAllUsers()\r\n        this.dialogVisible = true\r\n      },\r\n      getAllUsers() {\r\n        getAllUsers().then(res => {\r\n          this.userOptions = []\r\n          let users = res.data\r\n          users.forEach(user => {\r\n            this.userOptions.push({'key': user.userCode, 'label': user.userName})\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/workflow/assign"}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\route.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\route.js","mtime":1609847106502},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmZpbHRlckFzeW5jUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXM7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvbGF5b3V0L2luZGV4IikpOwoKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vc3RvcmUiKSk7Cgp2YXIgX2NvbW1vblV0aWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL3V0aWxzL2NvbW1vblV0aWwiKSk7CgpmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcyh1c2VyUm91dGVyLCBpc0NoaWxkcmVuKSB7CiAgZm9yICh2YXIgaiA9IDA7IGogPCB1c2VyUm91dGVyLmxlbmd0aDsgaisrKSB7CiAgICB2YXIgaXRlbSA9IHVzZXJSb3V0ZXJbal07IC8vIOaYryBjaGlsZHJlbiDml7bljrvmjokgcGF0aCDlvIDlpLTnmoQgLwoKICAgIGlmICh0cnVlID09PSBpc0NoaWxkcmVuICYmIGl0ZW0ucGF0aC5zdGFydHNXaXRoKCcvJykpIHsKICAgICAgaXRlbS5wYXRoID0gaXRlbS5wYXRoLnNsaWNlKDEpOwogICAgfSAvLyDlpITnkIYgYWx3YXlzU2hvdwoKCiAgICBpdGVtLmFsd2F5c1Nob3cgPSBpdGVtLmFsd2F5c1Nob3cgPT09IHRydWUgJiYgISFpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMDsgLy8g5aSE55CG5Zu+5qCH5rKh5pyJ6YWN572u5L2/55So6buY6K6kCgogICAgaWYgKCFpdGVtLm1ldGEuaWNvbikgewogICAgICBpdGVtLm1ldGEuaWNvbiA9ICd0YWInOwogICAgfQoKICAgIGlmIChpdGVtLm5vQ2FjaGUgPT09IGZhbHNlKSB7CiAgICAgIGl0ZW0ubWV0YS5ub0NhY2hlID0gZmFsc2U7CiAgICB9CgogICAgaWYgKCEhaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgZmlsdGVyQXN5bmNSb3V0ZXMoaXRlbS5jaGlsZHJlbiwgdHJ1ZSk7CiAgICB9IC8vIOWkhOeQhmNvbXBvbmVudAoKCiAgICBpZiAoaXRlbS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgIGl0ZW0uY29tcG9uZW50ID0gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZShbIkAvbGF5b3V0L2luZGV4Il0sIHJlc29sdmUpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdGVuYW50Q29kZSA9IF9zdG9yZS5kZWZhdWx0LmdldHRlcnMudGVuYW50Q29kZTsKICAgICAgICB2YXIgcGF0aCA9IGl0ZW0uY29tcG9uZW50ICsgJy8nICsgdGVuYW50Q29kZSArICcvaW5kZXgnOwoKICAgICAgICB2YXIgcmVhbFBhdGggPSBfY29tbW9uVXRpbC5kZWZhdWx0Lm1ldGhvZHMuaXNJbkFsbFZ1ZShwYXRoKTsKCiAgICAgICAgaXRlbS5jb21wb25lbnQgPSBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgcmV0dXJuIHJlcXVpcmUoWyJAL3ZpZXdzLyIuY29uY2F0KHJlYWxQYXRoKV0sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0pKCk7CiAgICB9CiAgfQoKICByZXR1cm4gdXNlclJvdXRlcjsKfQoKdmFyIF9kZWZhdWx0ID0ge307CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/utils/route.js"],"names":["filterAsyncRoutes","userRouter","isChildren","j","length","item","path","startsWith","slice","alwaysShow","children","meta","icon","noCache","component","resolve","require","tenantCode","store","getters","realPath","methods","isInAllVue"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEO,SAASA,iBAAT,CAA2BC,UAA3B,EAAuCC,UAAvC,EAAmD;AACxD,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,QAAME,IAAI,GAAGJ,UAAU,CAACE,CAAD,CAAvB,CAD0C,CAE1C;;AACA,QAAI,SAASD,UAAT,IAAuBG,IAAI,CAACC,IAAL,CAAUC,UAAV,CAAqB,GAArB,CAA3B,EAAsD;AACpDF,MAAAA,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACC,IAAL,CAAUE,KAAV,CAAgB,CAAhB,CAAZ;AACD,KALyC,CAM1C;;;AACAH,IAAAA,IAAI,CAACI,UAAL,GAAkBJ,IAAI,CAACI,UAAL,KAAoB,IAApB,IAA4B,CAAC,CAACJ,IAAI,CAACK,QAAnC,IAA+CL,IAAI,CAACK,QAAL,CAAcN,MAAd,GAAuB,CAAxF,CAP0C,CAQ1C;;AACA,QAAI,CAACC,IAAI,CAACM,IAAL,CAAUC,IAAf,EAAqB;AACnBP,MAAAA,IAAI,CAACM,IAAL,CAAUC,IAAV,GAAiB,KAAjB;AACD;;AACD,QAAIP,IAAI,CAACQ,OAAL,KAAiB,KAArB,EAA4B;AAC1BR,MAAAA,IAAI,CAACM,IAAL,CAAUE,OAAV,GAAoB,KAApB;AACD;;AACD,QAAI,CAAC,CAACR,IAAI,CAACK,QAAP,IAAmBL,IAAI,CAACK,QAAL,CAAcN,MAAd,GAAuB,CAA9C,EAAiD;AAC/CJ,MAAAA,iBAAiB,CAACK,IAAI,CAACK,QAAN,EAAgB,IAAhB,CAAjB;AACD,KAjByC,CAkB1C;;;AACA,QAAIL,IAAI,CAACS,SAAL,KAAmB,QAAvB,EAAiC;AAC/BT,MAAAA,IAAI,CAACS,SAAL,GAAiB,UAAAC,OAAO;AAAA,eAAIC,OAAO,CAAC,kBAAD,EAAqBD,OAArB,CAAX;AAAA,OAAxB;AACD,KAFD,MAEO;AAAA;AACL,YAAME,UAAU,GAAGC,eAAMC,OAAN,CAAcF,UAAjC;AACA,YAAMX,IAAI,GAAGD,IAAI,CAACS,SAAL,GAAe,GAAf,GAAmBG,UAAnB,GAA8B,QAA3C;;AACA,YAAIG,QAAQ,GAAIC,oBAAQA,OAAR,CAAgBC,UAAhB,CAA2BhB,IAA3B,CAAhB;;AACAD,QAAAA,IAAI,CAACS,SAAL,GAAiB,UAAAC,OAAO;AAAA,iBAAIC,OAAO,CAAC,mBAAYI,QAAZ,EAAD,EAA0BL,OAA1B,CAAX;AAAA,SAAxB;AAJK;AAKN;AACF;;AACD,SAAOd,UAAP;AACD;;eAEc,E","sourcesContent":["import Layout from '@/layout/index'\r\nimport store from '../store'\r\nimport methods from '../utils/commonUtil'\r\n\r\nexport function filterAsyncRoutes(userRouter, isChildren) {\r\n  for (let j = 0; j < userRouter.length; j++) {\r\n    const item = userRouter[j]\r\n    // 是 children 时去掉 path 开头的 /\r\n    if (true === isChildren && item.path.startsWith('/')) {\r\n      item.path = item.path.slice(1)\r\n    }\r\n    // 处理 alwaysShow\r\n    item.alwaysShow = item.alwaysShow === true && !!item.children && item.children.length > 0\r\n    // 处理图标没有配置使用默认\r\n    if (!item.meta.icon) {\r\n      item.meta.icon = 'tab'\r\n    }\r\n    if (item.noCache === false) {\r\n      item.meta.noCache = false\r\n    }\r\n    if (!!item.children && item.children.length > 0) {\r\n      filterAsyncRoutes(item.children, true)\r\n    }\r\n    // 处理component\r\n    if (item.component === 'Layout') {\r\n      item.component = resolve => require([`@/layout/index`], resolve)\r\n    } else {\r\n      const tenantCode = store.getters.tenantCode\r\n      const path = item.component+'/'+tenantCode+'/index';\r\n      let realPath =  methods.methods.isInAllVue(path)\r\n      item.component = resolve => require([`@/views/${realPath}`], resolve)\r\n    }\r\n  }\r\n  return userRouter\r\n}\r\n\r\nexport default {}\r\n"]}]}
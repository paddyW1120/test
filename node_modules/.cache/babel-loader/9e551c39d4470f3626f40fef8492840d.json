{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\watermark.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\watermark.js","mtime":1609847106505},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciB3YXRlcm1hcmsgPSB7fTsKCnZhciBzZXRXYXRlcm1hcmsgPSBmdW5jdGlvbiBzZXRXYXRlcm1hcmsoc3RyKSB7CiAgdmFyIGlkID0gJzEuMjM0NTIzODQxNjQuMTIzNDEyNDE2JzsKCiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSAhPT0gbnVsbCkgewogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpOwogIH0gLy/liJvlu7rkuIDkuKrnlLvluIMKCgogIHZhciBjYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsgLy/orr7nva7nlLvluIPnmoTplb/lrr0KCiAgY2FuLndpZHRoID0gMjQwOwogIGNhbi5oZWlnaHQgPSAzMDA7CiAgdmFyIGNhbnMgPSBjYW4uZ2V0Q29udGV4dCgnMmQnKTsgLy/ml4vovazop5LluqYKCiAgY2Fucy5yb3RhdGUoLTM1ICogTWF0aC5QSSAvIDE4MCk7CiAgY2Fucy5mb250ID0gJzE1cHggVmVkYW5hJzsgLy/orr7nva7loavlhYXnu5jnlLvnmoTpopzoibLjgIHmuJDlj5jmiJbogIXmqKHlvI8KCiAgY2Fucy5maWxsU3R5bGUgPSAncmdiYSgyMDAsIDIwMCwgMjAwLCAwLjQwKSc7IC8v6K6+572u5paH5pys5YaF5a6555qE5b2T5YmN5a+56b2Q5pa55byPCgogIGNhbnMudGV4dEFsaWduID0gJ2xlZnQnOyAvL+iuvue9ruWcqOe7mOWItuaWh+acrOaXtuS9v+eUqOeahOW9k+WJjeaWh+acrOWfuue6vwoKICBjYW5zLnRleHRCYXNlbGluZSA9ICdNaWRkbGUnOyAvL+WcqOeUu+W4g+S4iue7mOWItuWhq+iJsueahOaWh+acrO+8iOi+k+WHuueahOaWh+acrO+8jOW8gOWni+e7mOWItuaWh+acrOeahFjlnZDmoIfkvY3nva7vvIzlvIDlp4vnu5jliLbmlofmnKznmoRZ5Z2Q5qCH5L2N572u77yJCgogIGNhbnMuZmlsbFRleHQoc3RyLCBjYW4ud2lkdGggLyAxMCwgY2FuLmhlaWdodCAvIDIpOwogIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBkaXYuaWQgPSBpZDsKICBkaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsKICBkaXYuc3R5bGUudG9wID0gJzMwcHgnOwogIGRpdi5zdHlsZS5sZWZ0ID0gJzBweCc7CiAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICBkaXYuc3R5bGUuekluZGV4ID0gJzEwMDAwMCc7CiAgZGl2LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICsgJ3B4JzsKICBkaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCArICdweCc7CiAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAndXJsKCcgKyBjYW4udG9EYXRhVVJMKCdpbWFnZS9wbmcnKSArICcpIGxlZnQgdG9wIHJlcGVhdCc7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogIHJldHVybiBpZDsKfTsKCnZhciByZW1vdmVXYXRlcm1hcmsgPSBmdW5jdGlvbiByZW1vdmVXYXRlcm1hcmsoKSB7CiAgdmFyIGlkID0gJzEuMjM0NTIzODQxNjQuMTIzNDEyNDE2JzsKCiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSAhPT0gbnVsbCkgewogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpOwogIH0KfTsgLy8g6K+l5pa55rOV5Y+q5YWB6K646LCD55So5LiA5qyhCgoKd2F0ZXJtYXJrLnNldCA9IGZ1bmN0aW9uIChzdHIpIHsKICB2YXIgaWQgPSBzZXRXYXRlcm1hcmsoc3RyKTsKfTsKCndhdGVybWFyay5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7CiAgcmVtb3ZlV2F0ZXJtYXJrKCk7Cn07Cgp2YXIgX2RlZmF1bHQgPSB3YXRlcm1hcms7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/utils/watermark.js"],"names":["watermark","setWatermark","str","id","document","getElementById","body","removeChild","can","createElement","width","height","cans","getContext","rotate","Math","PI","font","fillStyle","textAlign","textBaseline","fillText","div","style","pointerEvents","top","left","position","zIndex","documentElement","clientWidth","clientHeight","background","toDataURL","appendChild","removeWatermark","set","remove"],"mappings":"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","sourcesContent":["let watermark = {}\r\n\r\nlet setWatermark = (str) => {\r\n  let id = '1.23452384164.123412416';\r\n\r\n  if (document.getElementById(id) !== null) {\r\n    document.body.removeChild(document.getElementById(id));\r\n  }\r\n\r\n  //创建一个画布\r\n  let can = document.createElement('canvas');\r\n  //设置画布的长宽\r\n  can.width = 240;\r\n  can.height = 300;\r\n\r\n  let cans = can.getContext('2d');\r\n  //旋转角度\r\n  cans.rotate(-35 * Math.PI / 180);\r\n  cans.font = '15px Vedana';\r\n  //设置填充绘画的颜色、渐变或者模式\r\n  cans.fillStyle = 'rgba(200, 200, 200, 0.40)';\r\n  //设置文本内容的当前对齐方式\r\n  cans.textAlign = 'left';\r\n  //设置在绘制文本时使用的当前文本基线\r\n  cans.textBaseline = 'Middle';\r\n  //在画布上绘制填色的文本（输出的文本，开始绘制文本的X坐标位置，开始绘制文本的Y坐标位置）\r\n  cans.fillText(str, can.width / 10, can.height / 2);\r\n\r\n  let div = document.createElement('div');\r\n  div.id = id;\r\n  div.style.pointerEvents = 'none';\r\n  div.style.top = '30px';\r\n  div.style.left = '0px';\r\n  div.style.position = 'fixed';\r\n  div.style.zIndex = '100000';\r\n  div.style.width = document.documentElement.clientWidth + 'px';\r\n  div.style.height = document.documentElement.clientHeight + 'px';\r\n  div.style.background = 'url(' + can.toDataURL('image/png') + ') left top repeat';\r\n  document.body.appendChild(div);\r\n  return id;\r\n}\r\n\r\nlet removeWatermark = () => {\r\n  let id = '1.23452384164.123412416';\r\n\r\n  if (document.getElementById(id) !== null) {\r\n    document.body.removeChild(document.getElementById(id));\r\n  }\r\n}\r\n\r\n// 该方法只允许调用一次\r\nwatermark.set = (str) => {\r\n  let id = setWatermark(str);\r\n\r\n}\r\n\r\nwatermark.remove = () => {\r\n  removeWatermark()\r\n}\r\n\r\n\r\nexport default watermark;\r\n"]}]}
{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-formula-rev\\pd-preservation-formula-rev\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-revision\\pd-formula-rev\\pd-preservation-formula-rev\\index.vue","mtime":1609847107077},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX3Byb2R1Y3RSdWxlUmV2aXNpb25RdWVyeSA9IHJlcXVpcmUoIkAvYXBpL2Jhc2ljaW5mby9wcm9kdWN0UnVsZVJldmlzaW9uUXVlcnkiKTsKCnZhciBfcGRnZW5sUGFJbmZvID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkZ2VubFBhSW5mbyIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC92aWV3cy9nZW5lcmFsLWNvbmZpZy9nZW4tcGFJbmZvLWNvbmYvcGRnZW5sUGFGb3JtdWxhL2luZGV4IikpOwoKdmFyIF9wb0luZm9EZXNpZ24gPSByZXF1aXJlKCJAL2FwaS9iYXNpY2luZm8vcG9JbmZvRGVzaWduIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX3RoaXM7Cgp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ3Byb2R1Y3RDYWxjUmV2aXNpb25RdWVyeScsCiAgZmlsdGVyczogewogICAgZmlsdGVyX3J1bGVCdXNzTW9kdURldGE6IGZ1bmN0aW9uIGZpbHRlcl9ydWxlQnVzc01vZHVEZXRhKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdydWxlQnVzaW5lc3NEZXRhaWxDbGFzcycsIGNvZGUpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgcGRnZW5sUGFGb3JtdWxhOiBfaW5kZXguZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIF90aGlzID0gdGhpczsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVWaWV3OiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgZmxhZzogJycsCiAgICAgICAgcnVsZUNvZGU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVSZXZpc2lvblNob3dJTmZvOiB0cnVlLAogICAgICBwcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm86IGZhbHNlLAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZE5hbWU6ICcnLAogICAgICAgIHBkRWRpdGlvbjogJycKICAgICAgfSwKICAgICAgcGRwYUZvcm06IHsKICAgICAgICBzZWN1cml0eVByb2plY3Q6ICcnLAogICAgICAgIHJ1bGVzU3ViY2xhc3M6ICcnLAogICAgICAgIGZvcm11bGFUeXBlOiAnJwogICAgICB9LAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIHBkUGFJbmZvOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHBkUGFDb2RlOiAnJywKICAgICAgICBwZFBhTmFtZTogJycsCiAgICAgICAgcGRBdHRyOiAnJywKICAgICAgICBwZFBhVHlwZTogW10sCiAgICAgICAgcGRDb2RlOiAnJywKICAgICAgICBwZGdlbmxQZFBhRGVzVHlwZUxpc3Q6IFtdCiAgICAgIH0sCiAgICAgIGRpYWxvZ1RhYmxlVmlzaWJsZTI6IGZhbHNlLAogICAgICBkaWFsb2dWaXNpYmxlVXBsb2FkOiBmYWxzZSwKICAgICAgdGFibGVEYXRhX2Zvcm11bGFQYXJhbTogW10sCiAgICAgIGNvbmZpZ3NDYWxjOiBbXSwKICAgICAgY29sdW1uczE6IFtdLAogICAgICBwZE9wdGlvbnM6IFtdLAogICAgICBzZWxlY3RlZERlZjE6IHt9LAogICAgICAvL+ajgOmqjOinhOWImQogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm87CiAgICB0aGlzLnJ1bGVSZXZpc2lvblNob3dJTmZvID0gdGhpcy4kcm91dGUucXVlcnkucnVsZVJldmlzaW9uU2hvd0lOZm87CgogICAgaWYgKCF0aGlzLnJ1bGVSZXZpc2lvblNob3dJTmZvKSB7CiAgICAgIHRoaXMucnVsZVJldmlzaW9uU2hvd0lOZm8gPSB0cnVlOwogICAgfQoKICAgIGlmICghdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8pIHsKICAgICAgdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPSBmYWxzZTsKICAgIH0KCiAgICB0aGlzLnByb2R1Y3QgPSB0aGlzLmdldFBkRGF0YSgpOwogICAgdGhpcy5xdWVyeVBhQnlQZENvZGUoKTsKICAgIHRoaXMucXVlcnlDYWxjQnlQZENvZGUoKTsKICAgIHRoaXMub3BlbigpOwogIH0sCiAgbWV0aG9kczogewogICAgLyrmoLnmja7kuqflk4Hmn6Xor6LlvZPliY3kuqflk4HkuIvnmoTmiYDmnInkv53lhajpobnnm64qLwogICAgcXVlcnlQYUJ5UGRDb2RlOiBmdW5jdGlvbiBxdWVyeVBhQnlQZENvZGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgKDAsIF9wcm9kdWN0UnVsZVJldmlzaW9uUXVlcnkucXVlcnlQYUJ5UGRDb2RlKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wcm9kdWN0KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnBkT3B0aW9ucyA9IFtdOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShyZXMuZGF0YSksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAgICAgICBwYUNvZGU6ICcnLAogICAgICAgICAgICAgIHBhTmFtZTogJycKICAgICAgICAgICAgfTsKICAgICAgICAgICAgb3B0aW9uLnBhQ29kZSA9IGRhdGEucGFDb2RlOwogICAgICAgICAgICBvcHRpb24ucGFOYW1lID0gZGF0YS5wYU5hbWU7CgogICAgICAgICAgICBfdGhpczIucGRPcHRpb25zLnB1c2gob3B0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVGb3JtdWxhUGFyYW06IGZ1bmN0aW9uIGRlbGV0ZUZvcm11bGFQYXJhbShyb3cpIHsKICAgICAgdGhpcy50YWJsZURhdGFfZm9ybXVsYVBhcmFtLnNwbGljZSh0aGlzLnRhYmxlRGF0YV9mb3JtdWxhUGFyYW0uaW5kZXhPZihyb3cpLCAxKTsKICAgIH0sCiAgICBkb3dubG9hZFBhVGFibGU6IGZ1bmN0aW9uIGRvd25sb2FkUGFUYWJsZSgpIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWREZWYxKS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQ3YucGxlYXNlU2VsZWN0Rm9ybXVsYScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjb2x1bW5zID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sdW1uczEubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb2x1bW5zLnB1c2goewogICAgICAgICAgdGl0bGU6IHRoaXMuY29sdW1uczFbaV0ubGFiZWwsCiAgICAgICAgICBrZXk6IFN0cmluZyhpKQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmV4cG9ydDJFeGNlbChjb2x1bW5zLCB0aGlzLnRhYmxlRGF0YV9mb3JtdWxhUGFyYW0sICflhazlvI/mlbDlgLxfJyArIHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZF9oaO+8mm1t77yac3MnKSk7CiAgICB9LAogICAgdXBsb2FkUGFUYWJsZTogZnVuY3Rpb24gdXBsb2FkUGFUYWJsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQ3YucGxlYXNlU2VsZWN0RmlsZScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1cGxvYWRGb3JtIik7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pOwogICAgICAgICgwLCBfcHJvZHVjdFJ1bGVSZXZpc2lvblF1ZXJ5LnVwbG9hZFBhVGFibGUpKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5ub3RpZnlTdWNjZXNzKF90aGlzMy4kdCgncGR0ZW1wUGRDdi51cGxvYWRTdWNjZXNzZnVsbHknKSk7CgogICAgICAgICAgX3RoaXMzLiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCk7CgogICAgICAgICAgX3RoaXMzLmZpbGVMaXN0ID0gW107CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0b1VwbG9hZFBhVGFibGU6IGZ1bmN0aW9uIHRvVXBsb2FkUGFUYWJsZSgpIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWREZWYxKS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKHRoaXMuJHQoJ3BkdGVtcFBkQ3YucGxlYXNlU2VsZWN0Rm9ybXVsYScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZVVwbG9hZCA9IHRydWU7CiAgICB9LAogICAgLy/mlofku7bnirbmgIHmlLnlj5jml7bnmoTpkqnlrZDvvIzmt7vliqDmlofku7bjgIHkuIrkvKDmiJDlip/lkozkuIrkvKDlpLHotKXml7bpg73kvJrooqvosIPnlKgKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIC8v5Yik5pat5paH5Lu25aSn5bCPCiAgICAgIGlmICghKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMTApKSB7CiAgICAgICAgdGhpcy5ub3RpZnlFcnJvcign5LiK5Lyg5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HIDEwTUIhJyk7CiAgICAgICAgZmlsZUxpc3Quc3BsaWNlKGZpbGVMaXN0LmluZGV4T2YoZmlsZSksIDEpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0OwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdDsKICAgIH0sCiAgICByZW1vdmVSdWxlOiBmdW5jdGlvbiByZW1vdmVSdWxlKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHJ1bGVUZW1wbGF0ZUF0dHJpYnV0ZUlkOiByb3cuaWQsCiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0CiAgICAgIH07CiAgICAgICgwLCBfcG9JbmZvRGVzaWduLmRlbGV0ZVJ1bGVPckNhbGMpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YShkYXRhKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0Lm5vdGlmeVN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwoKICAgICAgICAoMCwgX3Byb2R1Y3RSdWxlUmV2aXNpb25RdWVyeS5xdWVyeUNhbGNCeVBkQ29kZSkoX3RoaXM0LmJ1aWxkUmVxdWVzdERhdGEoX3RoaXM0LnByb2R1Y3QpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5jb25maWdzQ2FsYyA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLyrmoLnmja7kuqflk4Hmn6Xor6LlvZPliY3kuqflk4HkuIvnmoTmiYDmnInkv53lhajpobnnm67lhbPogZTnmoTlhazlvI8qLwogICAgcXVlcnlDYWxjQnlQZENvZGU6IGZ1bmN0aW9uIHF1ZXJ5Q2FsY0J5UGRDb2RlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgICgwLCBfcHJvZHVjdFJ1bGVSZXZpc2lvblF1ZXJ5LnF1ZXJ5Q2FsY0J5UGRDb2RlKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEodGhpcy5wcm9kdWN0KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LmNvbmZpZ3NDYWxjID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdGVkRm9ybXVsYUNoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkRm9ybXVsYUNoYW5nZWQoKSB7CiAgICAgIHRoaXMucnVsZVZpZXcuZmxhZyA9ICcyJzsKICAgICAgdGhpcy5ydWxlVmlldy5ydWxlQ29kZSA9IHRoaXMuc2VsZWN0ZWREZWYxLmNvZGU7CiAgICAgIHRoaXMucnVsZVZpZXcudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgcnVsZU1ha2VDbG9zZWQ6IGZ1bmN0aW9uIHJ1bGVNYWtlQ2xvc2VkKCkgewogICAgICB0aGlzLnJ1bGVWaWV3LnZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RlZERlZjEgPSB7fTsKICAgIH0sCiAgICBzaG93UnVsZTogZnVuY3Rpb24gc2hvd1J1bGUoY29kZSkgewogICAgICB0aGlzLnJ1bGVWaWV3LmZsYWcgPSAnMSc7CiAgICAgIHRoaXMucnVsZVZpZXcucnVsZUNvZGUgPSBjb2RlOwogICAgICB0aGlzLnJ1bGVWaWV3LnZpc2libGUgPSB0cnVlOwogICAgfSwKCiAgICAvKiDliLfmlrDph43nva7pgInmi6nnmoTkv53lhajpobnnm64gKi8KICAgIHJlZnJlc2hTZWxPcHRpb25zOiBmdW5jdGlvbiByZWZyZXNoU2VsT3B0aW9ucygpIHsKICAgICAgdGhpcy5zZWxlY3RlZERlZjEgPSB7fTsKICAgICAgdGhpcy5jb2x1bW5zMSA9IFtdOwogICAgICB0aGlzLnRhYmxlRGF0YV9mb3JtdWxhUGFyYW0gPSBbXTsKICAgIH0sCgogICAgLyrlj5bmtojpgInkuK3kuIDooYzop4TliJkqLwogICAgY2hvb3NlT25lUm93Q29uZmlnczI6IGZ1bmN0aW9uIGNob29zZU9uZVJvd0NvbmZpZ3MyKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZERlZjEuaWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWYxID0ge307CiAgICAgICAgICB0aGlzLmNvbHVtbnMxID0gW107CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YV9mb3JtdWxhUGFyYW0gPSBbXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZURpYWxvZ0Zvcm11bGE6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nRm9ybXVsYSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ1RhYmxlVmlzaWJsZTIgPSBmYWxzZTsKICAgICAgKDAsIF9wcm9kdWN0UnVsZVJldmlzaW9uUXVlcnkucXVlcnlDYWxjQnlQZENvZGUpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh0aGlzLnByb2R1Y3QpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYuY29uZmlnc0NhbGMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ29SdWxlOiBmdW5jdGlvbiBnb1J1bGUoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnBkcGFGb3JtLnNlY3VyaXR5UHJvamVjdCkgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgncHJvZHVjdFJ1bGVSZXZpc2lvblF1ZXJ5LnRvUnVsZScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgICgwLCBfcGRnZW5sUGFJbmZvLnF1ZXJ5QWxsUGEpKHRoaXMuYnVpbGRSZXF1ZXN0RGF0YSh7CiAgICAgICAgInBkUGFDb2RlIjogdGhpcy5wZHBhRm9ybS5zZWN1cml0eVByb2plY3QKICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy5wZFBhSW5mbyA9IHJlcy5kYXRhLnJlY29yZHNbMF07CiAgICAgICAgX3RoaXM3LnBkUGFJbmZvLnBkQ29kZSA9IF90aGlzNy5wcm9kdWN0LnBkQ29kZTsKICAgICAgICBfdGhpczcuZGlhbG9nVGFibGVWaXNpYmxlMiA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucnVsZUF0dHJpYnV0ZTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgKDAsIF9wZGdlbmxQYUluZm8ucXVlcnlBbGxQYSkodGhpcy5idWlsZFJlcXVlc3REYXRhKHsKICAgICAgICAgICJwZFBhQ29kZSI6IGRhdGEucnVsZVBvc0l0ZW0KICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczgucGRQYUluZm8gPSByZXMuZGF0YS5yZWNvcmRzWzBdOwogICAgICAgICAgX3RoaXM4LnBkUGFJbmZvLnBkQ29kZSA9IF90aGlzOC5wcm9kdWN0LnBkQ29kZTsKICAgICAgICAgIF90aGlzOC5kaWFsb2dUYWJsZVZpc2libGUyID0gdHJ1ZTsKICAgICAgICAgIF90aGlzOC4kcm91dGUucGFyYW1zLnJ1bGVBdHRyaWJ1dGUgPSBudWxsOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYmFja1RvTWVudTogZnVuY3Rpb24gYmFja1RvTWVudSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICfkuqflk4Hop4TliJnorqLmraPkuLvpobUnLAogICAgICAgIHBhcmFtczoge30KICAgICAgfSk7CiAgICB9LAogICAgYmFja1RvTWVudTI6IGZ1bmN0aW9uIGJhY2tUb01lbnUyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ+S6p+WTgeWFrOW8j+iuouato+S4u+mhtScsCiAgICAgICAgcGFyYW1zOiB7fQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <!--关联公式-->\r\n    <div v-if=\"!ruleRevisionShowINfo\">\r\n      <cus-page-title-back :label=\"$t('i18nView.pdFormulaQuery')\" @backTo=\"backToMenu\"/>\r\n    </div>\r\n    <div v-if=\"productCalcRevisionShowINfo\">\r\n      <cus-page-title-back :label=\"$t('i18nView.pdFormulaQuery')\" @backTo=\"backToMenu2\"/>\r\n    </div>\r\n    <!-- 产品信息 -->\r\n    <el-form ref=\"form\" :model=\"product\" label-width=\"auto\">\r\n      <el-row :gutter=\"20\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('productCalcRevisionQuery.product')\">\r\n            <el-tag type=\"info\">{{ product.pdCode + \" : \" + product.pdName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item :label=\"$t('productCalcRevisionQuery.pdEdition')\">\r\n            <el-tag type=\"info\">{{ product.pdEdition }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"12\"></el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <!--新增保全规则-->\r\n    <el-form ref=\"pdpaForm\" :model=\"pdpaForm\" label-width=\"auto\">\r\n      <el-row :gutter=\"20\" class=\"row-bg\" justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productCalcRevisionQuery.securityProject')\">\r\n            <el-select v-model=\"pdpaForm.securityProject\" @change=\"\">\r\n              <el-option v-for=\"(item,index) in pdOptions\" :key=\"index\" :label=\"item.paCode+':'+item.paName\"\r\n                         :value=\"item.paCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-form-item :label=\"$t('productCalcRevisionQuery.countformulaType')\" prop=\"formulaType\">\r\n            <cus-select v-model=\"pdpaForm.formulaType\" codetype=\"ruleBusinessDetailClass\"\r\n                        filter=\"1$43$44$45$46$47$48$49\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"10\"></el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\">\r\n        <el-button icon=\"el-icon-circle-plus\" size=\"small\" type=\"primary\" @click=\"goRule\">\r\n          {{ $t('productCalcRevisionQuery.relatedCalc') }}\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <cus-table-title :label=\"$t('productCalcRevisionQuery.pdCalc')\"></cus-table-title>\r\n    <el-table :data=\"configsCalc\" :span=\"8\" border element-loading-text=\"Loading\" fit highlight-current-row size=\"mini\"\r\n              @row-click=\"chooseOneRowConfigs2\">\r\n      <el-table-column :label=\"$t('table.select')\" width=\"50\"  align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedDef1\">\r\n            <span><el-radio :label=\"scope.row\" @change=\"selectedFormulaChanged\">{{ '' }}</el-radio></span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.details')\" align=\"center\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"text\" @click=\"showRule(scope.row.code)\">>></el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productCalcRevisionQuery.projectCode')\" align=\"center\"\r\n                       prop=\"rulePosItem\" sortable>\r\n        <template v-slot=\"scope\">{{ scope.row.rulePosItem + \":\" + scope.row.pdPaName }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('i18nView.formulaCode')\" align=\"center\"\r\n                       prop=\"code\" sortable></el-table-column>\r\n      <el-table-column :label=\"$t('productCalcRevisionQuery.calcSubclass')\" align=\"center\"\r\n                       prop=\"ruleBussModuDeta\" sortable>\r\n        <template v-slot=\"scope\">{{ scope.row.ruleBussModuDeta | filter_ruleBussModuDeta }}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('productCalcRevisionQuery.calcDescription')\" align=\"center\"\r\n                       prop=\"description\"\r\n      ></el-table-column>\r\n      <el-table-column :label=\"$t('pdgenlPaInfo.operating')\" align=\"center\" prop=\"\" width=\"100\">\r\n        <template v-slot=\"scope\">\r\n          <cus-del-btn @ok=\"removeRule(scope.row)\"></cus-del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!--关联规则-->\r\n    <el-dialog v-if=\"dialogTableVisible2\" v-dialog-drag :close-on-click-modal=\"false\" :show-close=\"false\"\r\n               :visible.sync=\"dialogTableVisible2\"\r\n               center modal-append-to-body width=\"75%\">\r\n      <pdgenlPaFormula :pdPaInfo=\"pdPaInfo\" Mark=\"pd\" markRule=\"markRule\"\r\n                       @closeDialogFormula=\"closeDialogFormula\"></pdgenlPaFormula>\r\n    </el-dialog>\r\n\r\n    <!-- 公式查看弹窗 -->\r\n    <cus-rule-modify :flag=\"ruleView.flag\" :ruleCode=\"ruleView.ruleCode\" :ruleModifyClosed=\"ruleMakeClosed\"\r\n                     :ruleType=\"'2'\" :visible=\"ruleView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n\r\nimport {queryCalcByPdCode, queryPaByPdCode, uploadPaTable} from '@/api/basicinfo/productRuleRevisionQuery'\r\nimport {queryAllPa} from '@/api/basicinfo/pdgenlPaInfo'\r\nimport pdgenlPaFormula from \"@/views/general-config/gen-paInfo-conf/pdgenlPaFormula/index\"\r\nimport {deleteRuleOrCalc} from \"@/api/basicinfo/poInfoDesign\"\r\n\r\nlet _this\r\nexport default {\r\n  name: 'productCalcRevisionQuery',\r\n  filters: {\r\n    filter_ruleBussModuDeta(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    },\r\n  },\r\n  components: {\r\n    pdgenlPaFormula\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      ruleView: {\r\n        visible: false,\r\n        flag: '',\r\n        ruleCode: ''\r\n      },\r\n      ruleRevisionShowINfo: true,\r\n      productCalcRevisionShowINfo: false,\r\n      product: {\r\n        pdCode: '',\r\n        pdName: '',\r\n        pdEdition: ''\r\n      },\r\n      pdpaForm: {\r\n        securityProject: '',\r\n        rulesSubclass: '',\r\n        formulaType: '',\r\n      },\r\n      fileList: [],\r\n      pdPaInfo: {\r\n        id: '',\r\n        pdPaCode: '',\r\n        pdPaName: '',\r\n        pdAttr: '',\r\n        pdPaType: [],\r\n        pdCode: '',\r\n        pdgenlPdPaDesTypeList: [],\r\n      },\r\n      dialogTableVisible2: false,\r\n      dialogVisibleUpload: false,\r\n      tableData_formulaParam: [],\r\n      configsCalc: [],\r\n      columns1: [],\r\n      pdOptions: [],\r\n      selectedDef1: {},\r\n      //检验规则\r\n      rules: {},\r\n    }\r\n  },\r\n  created() {\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo\r\n    this.ruleRevisionShowINfo = this.$route.query.ruleRevisionShowINfo\r\n    if (!this.ruleRevisionShowINfo) {\r\n      this.ruleRevisionShowINfo = true;\r\n    }\r\n    if (!this.productCalcRevisionShowINfo) {\r\n      this.productCalcRevisionShowINfo = false;\r\n    }\r\n    this.product = this.getPdData()\r\n    this.queryPaByPdCode()\r\n    this.queryCalcByPdCode()\r\n    this.open()\r\n  },\r\n  methods: {\r\n    /*根据产品查询当前产品下的所有保全项目*/\r\n    queryPaByPdCode() {\r\n      queryPaByPdCode(this.buildRequestData(this.product)).then(res => {\r\n        this.pdOptions = []\r\n        for (let data of res.data) {\r\n          let option = {paCode: '', paName: ''};\r\n          option.paCode = data.paCode;\r\n          option.paName = data.paName;\r\n          this.pdOptions.push(option);\r\n        }\r\n      })\r\n    },\r\n    deleteFormulaParam(row) {\r\n      this.tableData_formulaParam.splice(this.tableData_formulaParam.indexOf(row), 1)\r\n    },\r\n    downloadPaTable() {\r\n      if (Object.keys(this.selectedDef1).length === 0) {\r\n        this.notifyError(this.$t('pdtempPdCv.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      let columns = []\r\n      for (let i = 0; i < this.columns1.length; i++) {\r\n        columns.push({\r\n          title: this.columns1[i].label,\r\n          key: String(i)\r\n        })\r\n      }\r\n      this.export2Excel(columns, this.tableData_formulaParam, '公式数值_' + this.formatDate(new Date(), 'yyyy-MM-dd_hh：mm：ss'))\r\n    },\r\n    uploadPaTable() {\r\n      if (this.fileList.length === 0) {\r\n        this.notifyError(this.$t('pdtempPdCv.pleaseSelectFile'))\r\n      } else {\r\n        const form = document.getElementById(\"uploadForm\")\r\n        let formData = new FormData(form)\r\n        uploadPaTable(formData).then(() => {\r\n          this.notifySuccess(this.$t('pdtempPdCv.uploadSuccessfully'))\r\n          this.$refs.upload.clearFiles()\r\n          this.fileList = []\r\n        })\r\n      }\r\n    },\r\n    toUploadPaTable() {\r\n      if (Object.keys(this.selectedDef1).length === 0) {\r\n        this.notifyError(this.$t('pdtempPdCv.pleaseSelectFormula'))\r\n        return\r\n      }\r\n      this.dialogVisibleUpload = true\r\n    },\r\n    //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    handleChange(file, fileList) {\r\n      //判断文件大小\r\n      if (!(file.size / 1024 / 1024 < 10)) {\r\n        this.notifyError('上传文件大小不能超过 10MB!')\r\n        fileList.splice(fileList.indexOf(file), 1)\r\n        return\r\n      }\r\n      this.fileList = fileList;\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList;\r\n    },\r\n    removeRule(row) {\r\n      let data = {\r\n        ruleTemplateAttributeId: row.id,\r\n        product: this.product\r\n      }\r\n      deleteRuleOrCalc(this.buildRequestData(data)).then(() => {\r\n        this.notifySuccess('删除成功')\r\n        queryCalcByPdCode(this.buildRequestData(this.product)).then(res => {\r\n          this.configsCalc = res.data\r\n        })\r\n      })\r\n    },\r\n    /*根据产品查询当前产品下的所有保全项目关联的公式*/\r\n    queryCalcByPdCode() {\r\n      queryCalcByPdCode(this.buildRequestData(this.product)).then(res => {\r\n        this.configsCalc = res.data\r\n      })\r\n    },\r\n    selectedFormulaChanged() {\r\n      this.ruleView.flag = '2'\r\n      this.ruleView.ruleCode = this.selectedDef1.code\r\n      this.ruleView.visible = true\r\n    },\r\n    ruleMakeClosed() {\r\n      this.ruleView.visible = false\r\n      this.selectedDef1 = {}\r\n    },\r\n    showRule(code) {\r\n      this.ruleView.flag = '1'\r\n      this.ruleView.ruleCode = code\r\n      this.ruleView.visible = true\r\n    },\r\n    /* 刷新重置选择的保全项目 */\r\n    refreshSelOptions() {\r\n      this.selectedDef1 = {};\r\n      this.columns1 = []\r\n      this.tableData_formulaParam = []\r\n    },\r\n    /*取消选中一行规则*/\r\n    chooseOneRowConfigs2(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDef1.id) {\r\n          this.selectedDef1 = {};\r\n          this.columns1 = []\r\n          this.tableData_formulaParam = []\r\n        }\r\n      }\r\n    },\r\n    closeDialogFormula() {\r\n      this.dialogTableVisible2 = false\r\n      queryCalcByPdCode(this.buildRequestData(this.product)).then(res => {\r\n        this.configsCalc = res.data\r\n      })\r\n    },\r\n    goRule() {\r\n      if (!this.pdpaForm.securityProject) {\r\n        this.notifyError(this.$t('productRuleRevisionQuery.toRule'))\r\n        return\r\n      }\r\n      queryAllPa(this.buildRequestData({\"pdPaCode\": this.pdpaForm.securityProject})).then(res => {\r\n        this.pdPaInfo = res.data.records[0]\r\n        this.pdPaInfo.pdCode = this.product.pdCode\r\n        this.dialogTableVisible2 = true\r\n      })\r\n    },\r\n    open() {\r\n      let data = this.$route.params.ruleAttribute;\r\n      if (data) {\r\n        queryAllPa(this.buildRequestData({\"pdPaCode\": data.rulePosItem})).then(res => {\r\n          this.pdPaInfo = res.data.records[0]\r\n          this.pdPaInfo.pdCode = this.product.pdCode\r\n          this.dialogTableVisible2 = true;\r\n          this.$route.params.ruleAttribute = null;\r\n        })\r\n      }\r\n    },\r\n    backToMenu() {\r\n      this.$router.push({name: '产品规则订正主页', params: {}})\r\n    },\r\n    backToMenu2() {\r\n      this.$router.push({name: '产品公式订正主页', params: {}})\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":"src/views/product-revision/pd-formula-rev/pd-preservation-formula-rev"}]}
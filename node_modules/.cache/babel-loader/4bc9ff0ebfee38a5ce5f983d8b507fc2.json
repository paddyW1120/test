{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\db.js","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\utils\\db.js","mtime":1609847106494},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\eslint-loader\\index.js","mtime":1706753187898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldERyYXdpbmdMaXN0ID0gZ2V0RHJhd2luZ0xpc3Q7CmV4cG9ydHMuc2F2ZURyYXdpbmdMaXN0ID0gc2F2ZURyYXdpbmdMaXN0OwpleHBvcnRzLmNsZWFyRHJhd2luZ0xpc3QgPSBjbGVhckRyYXdpbmdMaXN0OwpleHBvcnRzLmdldElkR2xvYmFsID0gZ2V0SWRHbG9iYWw7CmV4cG9ydHMuc2F2ZUlkR2xvYmFsID0gc2F2ZUlkR2xvYmFsOwpleHBvcnRzLmdldFRyZWVOb2RlSWQgPSBnZXRUcmVlTm9kZUlkOwpleHBvcnRzLnNhdmVUcmVlTm9kZUlkID0gc2F2ZVRyZWVOb2RlSWQ7CmV4cG9ydHMuZ2V0Rm9ybUNvbmYgPSBnZXRGb3JtQ29uZjsKZXhwb3J0cy5zYXZlRm9ybUNvbmYgPSBzYXZlRm9ybUNvbmY7CnZhciBEUkFXSU5HX0lURU1TID0gJ2RyYXdpbmdJdGVtcyc7CnZhciBEUkFXSU5HX0lURU1TX1ZFUlNJT04gPSAnMS4xJzsKdmFyIERSQVdJTkdfSVRFTVNfVkVSU0lPTl9LRVkgPSAnRFJBV0lOR19JVEVNU19WRVJTSU9OJzsKdmFyIERSQVdJTkdfSUQgPSAnaWRHbG9iYWwnOwp2YXIgVFJFRV9OT0RFX0lEID0gJ3RyZWVOb2RlSWQnOwp2YXIgRk9STV9DT05GID0gJ2Zvcm1Db25mJzsKCmZ1bmN0aW9uIGdldERyYXdpbmdMaXN0KCkgewogIC8vIOWKoOWFpee8k+WtmOeJiOacrOeahOamguW/te+8jOS/neivgee8k+WtmOaVsOaNruS4jueoi+W6j+WMuemFjQogIHZhciB2ZXJzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oRFJBV0lOR19JVEVNU19WRVJTSU9OX0tFWSk7CgogIGlmICh2ZXJzaW9uICE9PSBEUkFXSU5HX0lURU1TX1ZFUlNJT04pIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERSQVdJTkdfSVRFTVNfVkVSU0lPTl9LRVksIERSQVdJTkdfSVRFTVNfVkVSU0lPTik7CiAgICBzYXZlRHJhd2luZ0xpc3QoW10pOwogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgc3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oRFJBV0lOR19JVEVNUyk7CiAgaWYgKHN0cikgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTsKICByZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gc2F2ZURyYXdpbmdMaXN0KGxpc3QpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShEUkFXSU5HX0lURU1TLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7Cn0KCmZ1bmN0aW9uIGNsZWFyRHJhd2luZ0xpc3QoKSB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oRFJBV0lOR19JVEVNUyk7Cn0KCmZ1bmN0aW9uIGdldElkR2xvYmFsKCkgewogIHZhciBzdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEUkFXSU5HX0lEKTsKICBpZiAoc3RyKSByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7CiAgcmV0dXJuIDEwMDsKfQoKZnVuY3Rpb24gc2F2ZUlkR2xvYmFsKGlkKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRFJBV0lOR19JRCwgIiIuY29uY2F0KGlkKSk7Cn0KCmZ1bmN0aW9uIGdldFRyZWVOb2RlSWQoKSB7CiAgdmFyIHN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRSRUVfTk9ERV9JRCk7CiAgaWYgKHN0cikgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApOwogIHJldHVybiAxMDA7Cn0KCmZ1bmN0aW9uIHNhdmVUcmVlTm9kZUlkKGlkKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFRV9OT0RFX0lELCAiIi5jb25jYXQoaWQpKTsKfQoKZnVuY3Rpb24gZ2V0Rm9ybUNvbmYoKSB7CiAgdmFyIHN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKEZPUk1fQ09ORik7CiAgaWYgKHN0cikgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTsKICByZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gc2F2ZUZvcm1Db25mKG9iaikgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEZPUk1fQ09ORiwgSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0="},{"version":3,"sources":["D:/86181/Desktop/product/pcs-product-view/src/utils/db.js"],"names":["DRAWING_ITEMS","DRAWING_ITEMS_VERSION","DRAWING_ITEMS_VERSION_KEY","DRAWING_ID","TREE_NODE_ID","FORM_CONF","getDrawingList","version","localStorage","getItem","setItem","saveDrawingList","str","JSON","parse","list","stringify","clearDrawingList","removeItem","getIdGlobal","parseInt","saveIdGlobal","id","getTreeNodeId","saveTreeNodeId","getFormConf","saveFormConf","obj"],"mappings":";;;;;;;;;;;;;;AAAA,IAAMA,aAAa,GAAG,cAAtB;AACA,IAAMC,qBAAqB,GAAG,KAA9B;AACA,IAAMC,yBAAyB,GAAG,uBAAlC;AACA,IAAMC,UAAU,GAAG,UAAnB;AACA,IAAMC,YAAY,GAAG,YAArB;AACA,IAAMC,SAAS,GAAG,UAAlB;;AAEO,SAASC,cAAT,GAA0B;AAC/B;AACA,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqBP,yBAArB,CAAhB;;AACA,MAAIK,OAAO,KAAKN,qBAAhB,EAAuC;AACrCO,IAAAA,YAAY,CAACE,OAAb,CAAqBR,yBAArB,EAAgDD,qBAAhD;AACAU,IAAAA,eAAe,CAAC,EAAD,CAAf;AACA,WAAO,IAAP;AACD;;AAED,MAAMC,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBT,aAArB,CAAZ;AACA,MAAIY,GAAJ,EAAS,OAAOC,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAP;AACT,SAAO,IAAP;AACD;;AAEM,SAASD,eAAT,CAAyBI,IAAzB,EAA+B;AACpCP,EAAAA,YAAY,CAACE,OAAb,CAAqBV,aAArB,EAAoCa,IAAI,CAACG,SAAL,CAAeD,IAAf,CAApC;AACD;;AAGM,SAASE,gBAAT,GAA4B;AACjCT,EAAAA,YAAY,CAACU,UAAb,CAAwBlB,aAAxB;AACD;;AAEM,SAASmB,WAAT,GAAuB;AAC5B,MAAMP,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBN,UAArB,CAAZ;AACA,MAAIS,GAAJ,EAAS,OAAOQ,QAAQ,CAACR,GAAD,EAAM,EAAN,CAAf;AACT,SAAO,GAAP;AACD;;AAEM,SAASS,YAAT,CAAsBC,EAAtB,EAA0B;AAC/Bd,EAAAA,YAAY,CAACE,OAAb,CAAqBP,UAArB,YAAoCmB,EAApC;AACD;;AAEM,SAASC,aAAT,GAAyB;AAC9B,MAAMX,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBL,YAArB,CAAZ;AACA,MAAIQ,GAAJ,EAAS,OAAOQ,QAAQ,CAACR,GAAD,EAAM,EAAN,CAAf;AACT,SAAO,GAAP;AACD;;AAEM,SAASY,cAAT,CAAwBF,EAAxB,EAA4B;AACjCd,EAAAA,YAAY,CAACE,OAAb,CAAqBN,YAArB,YAAsCkB,EAAtC;AACD;;AAEM,SAASG,WAAT,GAAuB;AAC5B,MAAMb,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBJ,SAArB,CAAZ;AACA,MAAIO,GAAJ,EAAS,OAAOC,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAP;AACT,SAAO,IAAP;AACD;;AAEM,SAASc,YAAT,CAAsBC,GAAtB,EAA2B;AAChCnB,EAAAA,YAAY,CAACE,OAAb,CAAqBL,SAArB,EAAgCQ,IAAI,CAACG,SAAL,CAAeW,GAAf,CAAhC;AACD","sourcesContent":["const DRAWING_ITEMS = 'drawingItems'\r\nconst DRAWING_ITEMS_VERSION = '1.1'\r\nconst DRAWING_ITEMS_VERSION_KEY = 'DRAWING_ITEMS_VERSION'\r\nconst DRAWING_ID = 'idGlobal'\r\nconst TREE_NODE_ID = 'treeNodeId'\r\nconst FORM_CONF = 'formConf'\r\n\r\nexport function getDrawingList() {\r\n  // 加入缓存版本的概念，保证缓存数据与程序匹配\r\n  const version = localStorage.getItem(DRAWING_ITEMS_VERSION_KEY)\r\n  if (version !== DRAWING_ITEMS_VERSION) {\r\n    localStorage.setItem(DRAWING_ITEMS_VERSION_KEY, DRAWING_ITEMS_VERSION)\r\n    saveDrawingList([])\r\n    return null\r\n  }\r\n\r\n  const str = localStorage.getItem(DRAWING_ITEMS)\r\n  if (str) return JSON.parse(str)\r\n  return null\r\n}\r\n\r\nexport function saveDrawingList(list) {\r\n  localStorage.setItem(DRAWING_ITEMS, JSON.stringify(list))\r\n}\r\n\r\n\r\nexport function clearDrawingList() {\r\n  localStorage.removeItem(DRAWING_ITEMS)\r\n}\r\n\r\nexport function getIdGlobal() {\r\n  const str = localStorage.getItem(DRAWING_ID)\r\n  if (str) return parseInt(str, 10)\r\n  return 100\r\n}\r\n\r\nexport function saveIdGlobal(id) {\r\n  localStorage.setItem(DRAWING_ID, `${id}`)\r\n}\r\n\r\nexport function getTreeNodeId() {\r\n  const str = localStorage.getItem(TREE_NODE_ID)\r\n  if (str) return parseInt(str, 10)\r\n  return 100\r\n}\r\n\r\nexport function saveTreeNodeId(id) {\r\n  localStorage.setItem(TREE_NODE_ID, `${id}`)\r\n}\r\n\r\nexport function getFormConf() {\r\n  const str = localStorage.getItem(FORM_CONF)\r\n  if (str) return JSON.parse(str)\r\n  return null\r\n}\r\n\r\nexport function saveFormConf(obj) {\r\n  localStorage.setItem(FORM_CONF, JSON.stringify(obj))\r\n}\r\n"]}]}
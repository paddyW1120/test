{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\discount-formula\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-definition\\pd-framework-def\\pd-structure-def\\payment-def\\discount-formula\\index.vue","mtime":1609847106888},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6Lzg2MTgxL0Rlc2t0b3AvcHJvZHVjdC9wY3MtcHJvZHVjdC12aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiKSk7Cgp2YXIgX3BkdGVtcERpc2NvdW50Rm9ybXVsYSA9IHJlcXVpcmUoIkAvYXBpL2Jhc2ljaW5mby9wZHRlbXBEaXNjb3VudEZvcm11bGEiKTsKCnZhciBfcGR0ZW1wRGlzY291bnRGb3JtdWxhU2VsZWN0ID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcERpc2NvdW50Rm9ybXVsYVNlbGVjdCIpOwoKdmFyIF9wZHRlbXBwZGNtcG5pbmZvID0gcmVxdWlyZSgiQC9hcGkvYmFzaWNpbmZvL3BkdGVtcHBkY21wbmluZm8iKTsKCnZhciBfZGlzY291bnRGb3JtdWxhU2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL3Byb2R1Y3QtZGVmaW5pdGlvbi9wZC1mcmFtZXdvcmstZGVmL3BkLXN0cnVjdHVyZS1kZWYvcGF5bWVudC1kZWYvZGlzY291bnQtZm9ybXVsYS1zZWxlY3QiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX3RoaXM7Cgp2YXIgX2RlZmF1bHQyID0gewogIG5hbWU6ICdwZERpc2NvdW50Rm9ybXVsYScsCiAgY29tcG9uZW50czogewogICAgcGREaXNjb3VudEZvcm11bGFTZWxlY3Q6IF9kaXNjb3VudEZvcm11bGFTZWxlY3QuZGVmYXVsdAogIH0sCiAgZmlsdGVyczogewogICAgZmlsdGVyX3BkQnVzc1R5cGU6IGZ1bmN0aW9uIGZpbHRlcl9wZEJ1c3NUeXBlKGNvZGUpIHsKICAgICAgcmV0dXJuIF90aGlzLmdldENvZGVOYW1lKCdwZENhbGNCdXNzVHlwZScsIGNvZGUpOwogICAgfSwKICAgIGZpbHRlcl9wZEJ1c3NEZXRhaWxUeXBlOiBmdW5jdGlvbiBmaWx0ZXJfcGRCdXNzRGV0YWlsVHlwZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncnVsZUJ1c2luZXNzRGV0YWlsQ2xhc3MnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGRDbXBuVHlwZTogZnVuY3Rpb24gZmlsdGVyX3BkQ21wblR5cGUoY29kZSkgewogICAgICByZXR1cm4gX3RoaXMuZ2V0Q29kZU5hbWUoJ3ByZWZlcmVudGlhbFR5cGUnLCBjb2RlKTsKICAgIH0sCiAgICBmaWx0ZXJfcGRDbXBuQ2FsY01vZGU6IGZ1bmN0aW9uIGZpbHRlcl9wZENtcG5DYWxjTW9kZShjb2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRDb2RlTmFtZSgncHJlZmVyZW50aWFsQ2xjdWxhdGlvblR5cGUnLCBjb2RlKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBndWFyYW50ZWVEZXRhaWxzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgY2FsY3VsYXRpb25Gb3JtdWxhVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIHBkRGlzQ291bnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHBkRGlzY291bnRSYW5nZU9wdGlvbnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgcGFnZTogdW5kZWZpbmVkLAogICAgICBwYWdlU2l6ZTogdW5kZWZpbmVkLAogICAgICBvcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50OiBbXSwKICAgICAgcHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvOiBmYWxzZSwKICAgICAgc2hvd0Zvcm11bGFTZWxlY3Q6IGZhbHNlLAogICAgICBmaWx0ZXJzX3BkQ29kZTogW10sCiAgICAgIHNlbGVjdGVkRGlzY291bnQ6IHt9LAogICAgICBzZWxlY3RlZEZvcm11bGE6IHt9LAogICAgICBmb3JtdWxhVmlldzogewogICAgICAgIGZsYWc6ICcnLAogICAgICAgIHJ1bGVDb2RlOiAnJywKICAgICAgICBwZXJmb3JtVHlwZTogJycsCiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfSwKICAgICAgZm9ybXVsYVZpc2libGU6IGZhbHNlLAogICAgICBhdHRyaWJ1dGVPYmo6IHt9LAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBiVHlwZTogJycsCiAgICAgICAgY1R5cGU6ICcnLAogICAgICAgIHBkQ29kZTogJycsCiAgICAgICAgcGRFZGl0aW9uOiAnJywKICAgICAgICBwZFZlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcGRTYWxlY2hubDogJycsCiAgICAgICAgcGROYW1lOiAnJywKICAgICAgICBwZFNob3J0bmFtZTogJycsCiAgICAgICAgcGRFbk5hbWU6ICcnLAogICAgICAgIHBkU2hvcnRFbk5hbWU6ICcnLAogICAgICAgIG9wZXJhdG9yOiAnJywKICAgICAgICBwZFN0YXJ0RGF0ZVJ1bGU6ICcnLAogICAgICAgIHBkU3RhcnREYXRlTW9kZTogJycsCiAgICAgICAgcGRTdGFydFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkU3RhcnRQZXJpb2RVbml0OiAnJywKICAgICAgICBwZEVuZERhdGVSdWxlOiAnJywKICAgICAgICBwZEVuZERhdGVNb2RlOiAnJywKICAgICAgICBwZEVuZFBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkRW5kUGVyaW9kVW5pdDogJycsCiAgICAgICAgcGRHcmFjZVBlcmlvZDogdW5kZWZpbmVkLAogICAgICAgIHBkT2JzZXJ2YXRpb25EYXk6IHVuZGVmaW5lZCwKICAgICAgICBwZEFwcGxEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgcGRQcm9jZXNzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBwZFN0YXJ0RGF0ZTogdW5kZWZpbmVkLAogICAgICAgIHBkU3RvcERhdGU6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVUaW1lOiB1bmRlZmluZWQsCiAgICAgICAgdXBkYXRlVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGZvcm1fcnVsZTogewogICAgICAgIHJ1bGVCdXNzTW9kdURldGE6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICBwYXJhbXNfZGlzY291bnQ6IHsKICAgICAgICBwZEluZm9JZDogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHBhcmFtc19jdXJyZW50OiB7CiAgICAgICAgZXFfcGRJbmZvSWQ6IHVuZGVmaW5lZCwKICAgICAgICBlcV9wZEJ1c3NUeXBlOiAnMScsCiAgICAgICAgZXFfcGRCdXNzRGV0YWlsVHlwZTogJzQwJywKICAgICAgICBlcV9wZFR5cGU6ICcxJywKICAgICAgICBlcV9wZEJ1c3NJZDogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHBhcmFtc19icmllZjogewogICAgICAgIHByb2R1Y3Q6IHVuZGVmaW5lZCwKICAgICAgICBwZEJ1c3NJZDogdW5kZWZpbmVkLAogICAgICAgIHByb2R1Y3REZXRhaWxUeXBlOiAnJywKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAnNDAnCiAgICAgIH0sCiAgICAgIHBkQ21wblR5cGU6ICcnLAogICAgICBwZERpc2NvdW50UmFuZ2VzOiBbXSwKICAgICAgcGREaXNjb3VudE9wdGlvbnM6IFtdLAogICAgICBmaWx0ZXJDbXBuVHlwZTogJzEkRCRFJEckSSRKJEsnLAogICAgICBwZFV3U2lUeXBlOiAnJywKICAgICAgdGFibGVEYXRhX2Zvcm11bGE6IFtdLAogICAgICB0YWJsZURhdGFCcmllZkZvcm11bGE6IFtdLAogICAgICBPcHRpb25zOiBbXSwKICAgICAgT3B0aW9uczI6IFtdLAogICAgICBPcHRpb25zMzogW10sCiAgICAgIC8v5oyH5a6a5L+d6Zqc5pWw57uECiAgICAgIE9wdGlvbnM0OiBbXSwKICAgICAgLy/mjIflrprkv53pmpzmmI7nu4bmlbDnu4QKICAgICAgZGlzY291bnRUYWJsZURhdGE6IFtdLAogICAgICBmb3JtdWxhTGlzdDogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFibGVEYXRhQnJpZWZGb3JtdWxhOiBmdW5jdGlvbiB0YWJsZURhdGFCcmllZkZvcm11bGEoKSB7CiAgICAgIHRoaXMuZmlsdGVyc19wZENvZGUgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMudGFibGVEYXRhQnJpZWZGb3JtdWxhKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoIXRoaXMuXy5pbmNsdWRlcyh0aGlzLl8ubWFwKHRoaXMuZmlsdGVyc19wZENvZGUsICd2YWx1ZScpLCBpdGVtLnBkQ29kZSkpIHsKICAgICAgICAgICAgdGhpcy5maWx0ZXJzX3BkQ29kZS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBpdGVtLnBkQ29kZSArICc6JyArIGl0ZW0ucGROYW1lLAogICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnBkQ29kZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuaW5pdFByb2R1Y3RJbmZvKCk7CgogICAgaWYgKHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvKSB7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9kaXNjb3VudC5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZ2V0T3JkZXJOdW1iZXIoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyDojrflj5bkvJjmg6DojIPlm7QKICAgICAgdGhpcy5wZERpc2NvdW50T3B0aW9ucyA9IHRoaXMucGREaXNjb3VudFJhbmdlT3B0aW9uczsKICAgICAgdGhpcy5wZERpc2NvdW50UmFuZ2VzID0gdGhpcy5wZERpc0NvdW50LnBkQ21wblJhbmdlOwogICAgICB0aGlzLnBkQ21wblR5cGUgPSB0aGlzLnBkRGlzQ291bnQucGRDbXBuVHlwZTsKICAgICAgdGhpcy5wYXJhbXNfY3VycmVudC5lcV9wZEJ1c3NJZCA9IHRoaXMucGREaXNDb3VudC5pZDsKICAgICAgdGhpcy5wYXJhbXNfYnJpZWYucGRCdXNzSWQgPSB0aGlzLnBkRGlzQ291bnQuaWQ7CiAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnJlbG9hZCgpOwogICAgICB0aGlzLiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wYWdlID0gdGhpcy4kcm91dGUucXVlcnkucGFnZTsKICAgIHRoaXMucGFnZVNpemUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlU2l6ZTsKICAgIHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID0gdGhpcy4kcm91dGUucXVlcnkucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID09PSAndHJ1ZSc7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJfcGRDb2RlOiBmdW5jdGlvbiBmaWx0ZXJfcGRDb2RlKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHZhbHVlID09PSByb3cucGRDb2RlOwogICAgfSwKICAgIGluaXRQcm9kdWN0SW5mbzogZnVuY3Rpb24gaW5pdFByb2R1Y3RJbmZvKCkgewogICAgICB2YXIgcGR0ZW1wUGRJbmZvID0gdGhpcy5nZXRQZERhdGEoKTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhwZHRlbXBQZEluZm8pLmxlbmd0aCA+IDApIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucHJvZHVjdCwgcGR0ZW1wUGRJbmZvKTsKICAgICAgICB0aGlzLnBhcmFtc19icmllZi5wcm9kdWN0ID0gcGR0ZW1wUGRJbmZvOwogICAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnByb2R1Y3REZXRhaWxUeXBlID0gdGhpcy5wcm9kdWN0LmNUeXBlOwogICAgICAgIHRoaXMucGFyYW1zX2N1cnJlbnQuZXFfcGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7CgogICAgICAgIGlmICh0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbykgewogICAgICAgICAgdGhpcy5wYXJhbXNfZGlzY291bnQucGRJbmZvSWQgPSB0aGlzLnByb2R1Y3QuaWQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubm90aWZ5RXJyb3IodGhpcy4kdCgnbWVzc2FnZS5pbnZhbGlkUHJvZHVjdEluZm8nKSk7CiAgICAgIH0KICAgIH0sCiAgICBydWxlTW9kdWxlQ2xvc2VkOiBmdW5jdGlvbiBydWxlTW9kdWxlQ2xvc2VkKCkgewogICAgICB0aGlzLmZvcm11bGFWaXNpYmxlID0gZmFsc2U7CgogICAgICBpZiAoIXRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvIHx8IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvICYmIE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWREaXNjb3VudCkubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi5yZWxvYWQoKTsKICAgICAgfQogICAgfSwKICAgIGZvcm11bGFWaWV3Q2xvc2VkOiBmdW5jdGlvbiBmb3JtdWxhVmlld0Nsb3NlZCgpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtdWxhID0ge307CiAgICB9LAogICAgc2VsZWN0ZWRGb3JtdWxhQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0ZWRGb3JtdWxhQ2hhbmdlZCgpIHsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5mbGFnID0gdGhpcy5zZWxlY3RlZEZvcm11bGEucnVsZUF0dHIgPT09ICcxJyA/ICcxJyA6ICcyJzsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5wZXJmb3JtVHlwZSA9IHRoaXMuc2VsZWN0ZWRGb3JtdWxhLnBlcmZvcm1UeXBlOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnJ1bGVDb2RlID0gdGhpcy5zZWxlY3RlZEZvcm11bGEucGRDYWxjQ29kZTsKICAgICAgdGhpcy5mb3JtdWxhVmlldy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBzaG93Rm9ybXVsYTogZnVuY3Rpb24gc2hvd0Zvcm11bGEocm93KSB7CiAgICAgIHRoaXMuZm9ybXVsYVZpZXcuZmxhZyA9ICcxJzsKICAgICAgdGhpcy5mb3JtdWxhVmlldy5ydWxlQ29kZSA9IHJvdy5wZENhbGNDb2RlOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnBlcmZvcm1UeXBlID0gcm93LnBlcmZvcm1UeXBlOwogICAgICB0aGlzLmZvcm11bGFWaWV3LnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZURpYWxvZ1Zpc2libGVfcGREaXNjb3VudCcsIGZhbHNlKTsKICAgIH0sCiAgICBiYWNrVG9SZXZpc2lvbjogZnVuY3Rpb24gYmFja1RvUmV2aXNpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAn5Lqn5ZOB5YWs5byP6K6i5q2j5Li76aG1JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhdGg6IHRoaXMuJHJvdXRlLnBhdGgsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9TZWxlY3RGb3JtdWxhOiBmdW5jdGlvbiB0b1NlbGVjdEZvcm11bGEoKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbykgewogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNlbGVjdGVkRGlzY291bnQpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5ub3RpZnlFcnJvcih0aGlzLiR0KCdwZERpc2NvdW50Rm9ybXVsYS5wbGVhc2VTZWxlY3REaXNjb3VudCcpKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2hvd0Zvcm11bGFTZWxlY3QgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZURpYWxvZ1Zpc2libGVfcGREaXNjb3VudFNlbGVjdCcsIHRydWUpOwogICAgICB9CiAgICB9LAogICAgdG9BZGRGb3JtdWxhOiBmdW5jdGlvbiB0b0FkZEZvcm11bGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtID0gewogICAgICAgIHBkQnVzc1R5cGU6ICcxJywKICAgICAgICBwZEJ1c3NEZXRhaWxUeXBlOiAnNDAnCiAgICAgIH07CiAgICAgICgwLCBfcGR0ZW1wRGlzY291bnRGb3JtdWxhU2VsZWN0LmdldENhbGNDb2RlKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5hdHRyaWJ1dGVPYmogPSB7CiAgICAgICAgICBjb2RlOiByZXNwb25zZS5kYXRhLAogICAgICAgICAgcnVsZUJ1c3NNb2R1OiAnMScsCiAgICAgICAgICBydWxlQnVzc01vZHVEZXRhOiAnNDAnLAogICAgICAgICAgcnVsZVR5cGU6ICcyJywKICAgICAgICAgIHBkVHlwZTogJzEnLAogICAgICAgICAgcmlza1R5cGU6IF90aGlzMy5wcm9kdWN0LmJUeXBlLAogICAgICAgICAgcmlza0RldGFpbDogX3RoaXMzLnByb2R1Y3QuY1R5cGUsCiAgICAgICAgICBwZENvZGU6IF90aGlzMy5wcm9kdWN0LnBkQ29kZSwKICAgICAgICAgIHJ1bGVBc2NyQ2xzOiAnNScsCiAgICAgICAgICBydWxlQXNjckRldGE6IF90aGlzMy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPyBfdGhpczMuc2VsZWN0ZWREaXNjb3VudC5wZENtcG5UeXBlIDogX3RoaXMzLnBkRGlzQ291bnQucGRDbXBuVHlwZSwKICAgICAgICAgIHBkRWRpdGlvbjogX3RoaXMzLnByb2R1Y3QucGRFZGl0aW9uCiAgICAgICAgfTsKICAgICAgICBfdGhpczMuZm9ybXVsYVZpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGVGb3JtdWxhOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVGb3JtdWxhKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICgwLCBfcGR0ZW1wRGlzY291bnRGb3JtdWxhLmRlbGV0ZURpc2NvdW50Rm9ybXVsYSkocm93KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQubm90aWZ5U3VjY2VzcyhfdGhpczQuJHQoJ3N1Y2Nlc3NNZXNzYWdlLmRlbGV0ZScpKTsKCiAgICAgICAgX3RoaXM0LiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKCiAgICAgICAgX3RoaXM0LiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CgogICAgICAgIGlmIChfdGhpczQucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvKSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXM0LmRpc2NvdW50VGFibGVEYXRhKSwKICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgZGlzY291bnQgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgICAgIGlmIChkaXNjb3VudC5pZCA9PT0gX3RoaXM0LnNlbGVjdGVkRGlzY291bnQuaWQpIHsKICAgICAgICAgICAgICAgIF90aGlzNC4kc2V0KGRpc2NvdW50LCAncGRDbXBuQ2FsY0NvZGUnLCB1bmRlZmluZWQpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC4kZW1pdCgnYnJpbmdJbkNhbGNDb2RlJywgJzQwJywgcm93LnBkQnVzc0lkLCB1bmRlZmluZWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0Rm9ybXVsYTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Rm9ybXVsYShyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgUGR0ZW1wUGRDYWxjID0gewogICAgICAgIHBkSW5mb0lkOiB0aGlzLnByb2R1Y3QuaWQsCiAgICAgICAgcGRWZXJJZDogdGhpcy5wcm9kdWN0LnBkVmVySWQsCiAgICAgICAgcGRUeXBlOiAnJywKICAgICAgICBwZENvZGU6IHRoaXMucHJvZHVjdC5wZENvZGUsCiAgICAgICAgcGRCdXNzVHlwZTogJzEnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6ICc0MCcsCiAgICAgICAgcGRCdXNzSWQ6IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID8gdGhpcy5zZWxlY3RlZERpc2NvdW50LmlkIDogdGhpcy5wZERpc0NvdW50LmlkLAogICAgICAgIHBkQnVzc0NvZGU6IHRoaXMucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID8gdGhpcy5zZWxlY3RlZERpc2NvdW50LnBkQ21wbkNvZGUgOiB0aGlzLnBkRGlzQ291bnQucGRDbXBuQ29kZSwKICAgICAgICBwZFN0cnVjdHVyZVR5cGU6ICcwOCcsCiAgICAgICAgcGRDYWxjQ29kZTogcm93LnBkQ2FsY0NvZGUsCiAgICAgICAgcGRDYWxjRGVzYzogcm93LnBkQ2FsY0Rlc2MKICAgICAgfTsKCiAgICAgIGlmICghdGhpcy5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8pIHsKICAgICAgICB0aGlzLnBkRGlzQ291bnQucGRDbXBuUmFuZ2UgPSBTdHJpbmcodGhpcy5wZERpc0NvdW50LnBkQ21wblJhbmdlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRGlzY291bnQucGRDbXBuUmFuZ2UgPSBTdHJpbmcodGhpcy5zZWxlY3RlZERpc2NvdW50LnBkQ21wblJhbmdlKTsKICAgICAgfSAvL+WFs+iBlOWFrOW8j+ihqAoKCiAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICBzZWxlY3RlZEZvcm11bGE6IHJvdywKICAgICAgICBwZHRlbXBQZENhbGM6IFBkdGVtcFBkQ2FsYywKICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsCiAgICAgICAgcGRCdXNzVHlwZTogJzEnLAogICAgICAgIHBkQnVzc0RldGFpbFR5cGU6ICc0MCcsCiAgICAgICAgbmVlZENoZWNraW5nOiB0cnVlCiAgICAgIH07CiAgICAgICgwLCBfcGR0ZW1wRGlzY291bnRGb3JtdWxhU2VsZWN0LmNvbnRhY3RGb3JtdWxhKSh0aGlzLmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBwZHRlbXBQZENhbGMgPSByZXNwb25zZS5kYXRhLnBkdGVtcFBkQ2FsYzsKICAgICAgICB2YXIgZmxhZyA9IHJlc3BvbnNlLmRhdGEuZmxhZzsKCiAgICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHsKICAgICAgICAgIC8vIOWFs+iBlOS6p+WTgeS8mOaDoOihqAogICAgICAgICAgaWYgKF90aGlzNS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8pIHsKICAgICAgICAgICAgX3RoaXM1LnNlbGVjdGVkRGlzY291bnQucGRDbXBuQ2FsY0NvZGUgPSBwZHRlbXBQZENhbGMucGRDYWxjQ29kZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNS5wZERpc0NvdW50LnBkQ21wbkNhbGNDb2RlID0gcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGU7CiAgICAgICAgICB9CgogICAgICAgICAgKDAsIF9wZHRlbXBwZGNtcG5pbmZvLnVwZGF0ZVBkdGVtcFBkQ21wbkluZm8pKF90aGlzNS5idWlsZFJlcXVlc3REYXRhKHsKICAgICAgICAgICAgIlBkdGVtcFBkQ21wbkluZm8iOiBfdGhpczUucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvID8gX3RoaXM1LnNlbGVjdGVkRGlzY291bnQgOiBfdGhpczUucGREaXNDb3VudAogICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczUubm90aWZ5U3VjY2VzcyhfdGhpczUuJHQoInJ1bGUuYXNzb2NpYXRpb25TdWNjZXNzIikpOwoKICAgICAgICAgICAgX3RoaXM1LiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKCiAgICAgICAgICAgIF90aGlzNS4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwoKICAgICAgICAgICAgaWYgKCFfdGhpczUucHJvZHVjdENhbGNSZXZpc2lvblNob3dJTmZvKSB7CiAgICAgICAgICAgICAgX3RoaXM1LiRlbWl0KCdicmluZ0luQ2FsY0NvZGUnLCBwZHRlbXBQZENhbGMucGRCdXNzRGV0YWlsVHlwZSwgcGR0ZW1wUGRDYWxjLnBkQnVzc0lkLCBwZHRlbXBQZENhbGMucGRDYWxjQ29kZSk7CgogICAgICAgICAgICAgIF90aGlzNS5wZERpc0NvdW50LnBkQ21wblJhbmdlID0gW190aGlzNS5wZERpc0NvdW50LnBkQ21wblJhbmdlXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkoX3RoaXM1LmRpc2NvdW50VGFibGVEYXRhKSwKICAgICAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50ID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgaWYgKGRpc2NvdW50LmlkID09PSBfdGhpczUuc2VsZWN0ZWREaXNjb3VudC5pZCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS4kc2V0KGRpc2NvdW50LCAncGRDbXBuQ2FsY0NvZGUnLCBwZHRlbXBQZENhbGMucGRDYWxjQ29kZSk7CgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM1LiRjb25maXJtKFN0cmluZyhfdGhpczUuJHQoJ3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QuY29uZmlybV9vdmVyd3JpdGVfZm9ybXVsYScpKSwgU3RyaW5nKF90aGlzNS4kdCgnY29uZmlybU1lc3NhZ2UudGlwJykpLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBTdHJpbmcoX3RoaXM1LiR0KCdjb25maXJtTWVzc2FnZS5jb25maXJtJykpLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBTdHJpbmcoX3RoaXM1LiR0KCdjb25maXJtTWVzc2FnZS5jYW5jZWwnKSksCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHBhcmFtLm5lZWRDaGVja2luZyA9IGZhbHNlOwogICAgICAgICAgICAoMCwgX3BkdGVtcERpc2NvdW50Rm9ybXVsYVNlbGVjdC5jb250YWN0Rm9ybXVsYSkoX3RoaXM1LmJ1aWxkUmVxdWVzdERhdGEocGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHZhciBwZHRlbXBQZENhbGMgPSByZXNwb25zZS5kYXRhLnBkdGVtcFBkQ2FsYzsKCiAgICAgICAgICAgICAgaWYgKF90aGlzNS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8pIHsKICAgICAgICAgICAgICAgIF90aGlzNS5zZWxlY3RlZERpc2NvdW50LnBkQ21wbkNhbGNDb2RlID0gcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzNS5wZERpc0NvdW50LnBkQ21wbkNhbGNDb2RlID0gcGR0ZW1wUGRDYWxjLnBkQ2FsY0NvZGU7CiAgICAgICAgICAgICAgfSAvLyDlhbPogZTkuqflk4HkvJjmg6DooagKCgogICAgICAgICAgICAgICgwLCBfcGR0ZW1wcGRjbXBuaW5mby51cGRhdGVQZHRlbXBQZENtcG5JbmZvKShfdGhpczUuYnVpbGRSZXF1ZXN0RGF0YSh7CiAgICAgICAgICAgICAgICAiUGR0ZW1wUGRDbXBuSW5mbyI6IF90aGlzNS5wcm9kdWN0Q2FsY1JldmlzaW9uU2hvd0lOZm8gPyBfdGhpczUuc2VsZWN0ZWREaXNjb3VudCA6IF90aGlzNS5wZERpc0NvdW50CiAgICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM1Lm5vdGlmeVN1Y2Nlc3MoX3RoaXM1LiR0KCJydWxlLmFzc29jaWF0aW9uU3VjY2VzcyIpKTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJHJlZnMucGFnZV9jdXJyZW50LnJlbG9hZCgpOwoKICAgICAgICAgICAgICAgIF90aGlzNS4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LnByb2R1Y3RDYWxjUmV2aXNpb25TaG93SU5mbykgewogICAgICAgICAgICAgICAgICBfdGhpczUuJGVtaXQoJ2JyaW5nSW5DYWxjQ29kZScsIHBkdGVtcFBkQ2FsYy5wZEJ1c3NEZXRhaWxUeXBlLCBwZHRlbXBQZENhbGMucGRCdXNzSWQsIHBkdGVtcFBkQ2FsYy5wZENhbGNDb2RlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5wZERpc0NvdW50LnBkQ21wblJhbmdlID0gW190aGlzNS5wZERpc0NvdW50LnBkQ21wblJhbmdlXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShfdGhpczUuZGlzY291bnRUYWJsZURhdGEpLAogICAgICAgICAgICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50ID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudC5pZCA9PT0gX3RoaXM1LnNlbGVjdGVkRGlzY291bnQuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRzZXQoZGlzY291bnQsICdwZENtcG5DYWxjQ29kZScsIHBkdGVtcFBkQ2FsYy5wZENhbGNDb2RlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNS5tZXNzYWdlSW5mbyhfdGhpczUuJHQoJ3VuZGVyd3JpdGluZ0Ftb3VudEZvcm11bGFTZWxlY3QuY2FuY2VsZWQnKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluebuOWQjOe8luWPt+eahOaVsOe7hAogICAgZ2V0T3JkZXJOdW1iZXI6IGZ1bmN0aW9uIGdldE9yZGVyTnVtYmVyKCkgewogICAgICB2YXIgdGFibGVEYXRhID0gdGhpcy5kaXNjb3VudFRhYmxlRGF0YTsKICAgICAgdmFyIG9yZGVySW5kZXhBcnIgPSBbXTsgLy8g5oyJ54WnIHBheW1lbnRJZCDmjpLluo/vvIzlsIYgcGF5bWVudElkIOebuOWQjOeahOaVsOaNrui/nuWcqOS4gOi1twoKICAgICAgdGFibGVEYXRhID0gdGhpcy5fLm9yZGVyQnkodGFibGVEYXRhLCAncGRQcmVtSWQnLCAnYXNjJyk7CiAgICAgIHRoaXMuZGlzY291bnRUYWJsZURhdGEgPSB0YWJsZURhdGE7CiAgICAgIHZhciBvcmRlck9iaiA9IHt9OwogICAgICB0YWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHsKICAgICAgICBlbGVtZW50LnJvd0luZGV4ID0gaW5kZXg7CgogICAgICAgIGlmIChvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXSkgewogICAgICAgICAgb3JkZXJPYmpbZWxlbWVudC5wZFByZW1JZF0ucHVzaChpbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9yZGVyT2JqW2VsZW1lbnQucGRQcmVtSWRdID0gW107CiAgICAgICAgICBvcmRlck9ialtlbGVtZW50LnBkUHJlbUlkXS5wdXNoKGluZGV4KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDpnIDopoHlkIjlubbnmoTooYznmoRpbmRleOW3sue7j+WtmOWcqOS6huWQjOS4gOS4quaVsOe7hOmHjO+8jOaKiui/meS6m+aVsOe7hOWtmOWCqOWIsCB0aGlzLm9yZGVySW5kZXhBcnIKCiAgICAgIGZvciAodmFyIGsgaW4gb3JkZXJPYmopIHsKICAgICAgICBvcmRlckluZGV4QXJyLnB1c2gob3JkZXJPYmpba10pOwogICAgICB9CgogICAgICB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fZGlzY291bnQgPSBvcmRlckluZGV4QXJyOwogICAgfSwKICAgIC8vIOS8mOaDoOihqOagvOWQiOW5tgogICAgb2JqZWN0U3Bhbk1ldGhvZF9kaXNjb3VudDogZnVuY3Rpb24gb2JqZWN0U3Bhbk1ldGhvZF9kaXNjb3VudChfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIGNvbHVtbiA9IF9yZWYuY29sdW1uLAogICAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4LAogICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmLmNvbHVtbkluZGV4OwoKICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAyIHx8IGNvbHVtbkluZGV4ID09PSAzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yZGVySW5kZXhBcnJfYWRkaXRpb25fZGlzY291bnQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5vcmRlckluZGV4QXJyX2FkZGl0aW9uX2Rpc2NvdW50W2ldOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgaXRlbSA9IGVsZW1lbnRbal07CgogICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgcm93c3BhbjogZWxlbWVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHJvd3NwYW46IDAsCiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcm93Q2xpY2tfZGlzY291bnQ6IGZ1bmN0aW9uIHJvd0NsaWNrX2Rpc2NvdW50KHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgaWYgKHJvdy5pZCA9PT0gdGhpcy5zZWxlY3RlZERpc2NvdW50LmlkKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkRGlzY291bnQgPSB7fTsKICAgICAgICAgIHRoaXMuZm9ybXVsYUxpc3QgPSBbXTsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnRvdGFsID0gMDsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9jdXJyZW50LnBhZ2UgPSAxOwogICAgICAgICAgdGhpcy50YWJsZURhdGFCcmllZkZvcm11bGEgPSBbXTsKICAgICAgICAgIHRoaXMuJHJlZnMucGFnZV9icmllZi50b3RhbCA9IDA7CiAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2VfYnJpZWYucGFnZSA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWREaXNjb3VudENoYW5nZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkRGlzY291bnRDaGFuZ2VkKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMucGFyYW1zX2N1cnJlbnQuZXFfcGRCdXNzSWQgPSB0aGlzLnNlbGVjdGVkRGlzY291bnQuaWQ7CiAgICAgIHRoaXMucGFyYW1zX2JyaWVmLnBkQnVzc0lkID0gdGhpcy5zZWxlY3RlZERpc2NvdW50LmlkOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKCiAgICAgICAgX3RoaXM2LiRyZWZzLnBhZ2VfYnJpZWYucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGJyaW5nSW5DYWxjQ29kZTogZnVuY3Rpb24gYnJpbmdJbkNhbGNDb2RlKHBkQnVzc0RldGFpbFR5cGUsIHBkQnVzc0lkLCBjYWxjQ29kZSkgewogICAgICB2YXIgX2l0ZXJhdG9yNSA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5kaXNjb3VudFRhYmxlRGF0YSksCiAgICAgICAgICBfc3RlcDU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGlzY291bnQgPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgaWYgKGRpc2NvdW50LmlkID09PSBOdW1iZXIocGRCdXNzSWQpKSB7CiAgICAgICAgICAgIHRoaXMuJHNldChkaXNjb3VudCwgJ3BkQ21wbkNhbGNDb2RlJywgY2FsY0NvZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CiAgICB9LAogICAgLy8g6K6i5q2j5pe25YWz6Zet5pu05aSa5YWs5byP55qE5by556qXCiAgICBjaGFuZ2VEaWFsb2dWaXNpYmxlX3BkRGlzY291bnRTZWxlY3Q6IGZ1bmN0aW9uIGNoYW5nZURpYWxvZ1Zpc2libGVfcGREaXNjb3VudFNlbGVjdChmbGFnKSB7CiAgICAgIHRoaXMuc2hvd0Zvcm11bGFTZWxlY3QgPSBmbGFnOwogICAgICB0aGlzLiRyZWZzLnBhZ2VfY3VycmVudC5yZWxvYWQoKTsKICAgICAgdGhpcy4kcmVmcy5wYWdlX2JyaWVmLnJlbG9hZCgpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQyOw=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <cus-page-title-back v-if=\"!productCalcRevisionShowINfo\" :isDialog=\"true\"\r\n                         :label=\"$t('pdDiscountFormulaSelect.pdDisCountCalcMenu')\" @backTo=\"back\"/>\r\n    <cus-page-title-back v-if=\"productCalcRevisionShowINfo\" :label=\"$t('route.pdDiscountFormulaRevision')\"\r\n                         @backTo=\"backToRevision\"/>\r\n\r\n    <el-form v-if=\"!productCalcRevisionShowINfo\" label-width=\"auto\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.product')\">\r\n            <el-tag type=\"info\">{{ pdDisCount.pdCode + ':' + pdDisCount.pdName }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.premCode')\">\r\n            <el-tag type=\"info\">{{ pdDisCount.pdPremCode + ':' + pdDisCount.pdPayName }}\r\n            </el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.pdCmpnCode')\">\r\n            <el-tag type=\"info\">{{ pdDisCount.pdCmpnCode }}</el-tag>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdDiscountFormula.pdCmpnType')\">\r\n            <cus-select v-model=\"pdCmpnType\" :codetype=\"'preferentialType'\" :disabled=\"true\"\r\n                        :filter=\"filterCmpnType\"></cus-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"16\">\r\n          <el-form-item :label=\"$t('pdDiscountFormulaSelect.pdDisRange')\">\r\n            <el-checkbox-group v-model=\"pdDiscountRanges\" :disabled=\"true\">\r\n              <el-checkbox v-for=\"item in pdDiscountOptions\" :key=\"item.value\"\r\n                           :label=\"item.value\">{{ item.label }}\r\n              </el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <div v-if=\"productCalcRevisionShowINfo\">\r\n      <cus-table-title :label=\"$t('pay_def.pd_pay_discount')\"></cus-table-title>\r\n      <el-table :data=\"discountTableData\" :span-method=\"objectSpanMethod_discount\" border element-loading-text=\"Loading\"\r\n                fit size=\"mini\" @row-click=\"rowClick_discount\">\r\n        <el-table-column :label=\"$t('table.select')\" align=\"center\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedDiscount\" @change=\"selectedDiscountChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_discount', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_code')\" align=\"center\" min-width=\"200\" prop=\"pdPremCode\"\r\n                         sortable></el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_name')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdPayName\"></el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_discount_range')\" align=\"center\" min-width=\"200\" prop=\"pdCmpnRange\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnRange }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_discount_type')\" align=\"center\" min-width=\"200\" prop=\"pdCmpnType\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnType | filter_pdCmpnType }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_discount_calc')\" align=\"center\" min-width=\"200\" prop=\"pdCmpnCalcMode\">\r\n          <template v-slot=\"scope\">{{ scope.row.pdCmpnCalcMode | filter_pdCmpnCalcMode }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_discount_val')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCmpnVal\"></el-table-column>\r\n        <el-table-column :label=\"$t('pay_def.pay_discount_calc_code')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCmpnCalcCode\"></el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_discount\" v-model=\"discountTableData\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_discount\" url=\"/pdtemp-pd-discount-formula/base/getAllDiscountByPdInfoId\"/>\r\n    </div>\r\n\r\n    <div v-if=\"!productCalcRevisionShowINfo || productCalcRevisionShowINfo && Object.keys(selectedDiscount).length > 0\">\r\n      <!-- 已选择公式 -->\r\n      <cus-form-title :first=\"true\" :label=\"$t('pdDiscountFormula.selectedDiscountFormula')\"></cus-form-title>\r\n      <cus-table-title :label=\"$t('pdDiscountFormula.pdDiscountFormula')\"/>\r\n      <el-table ref=\"formulaList\" :data=\"formulaList\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                max-height=\"300\" size=\"mini\">\r\n        <el-table-column :label=\"$t('table.select')\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"selectedFormula\" @change=\"selectedFormulaChanged\">\r\n              <el-radio :label=\"scope.row\">{{ '' }}</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_current', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdDiscountFormulaSelect.details')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdDiscountFormula.discountItem')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCmpnCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdBussDetailType')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdDiscountFormulaSelect.pdCalcCode')\" align=\"center\"\r\n                         min-width=\"200\" prop=\"pdCalcCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('pdDiscountFormulaSelect.pdCalcDesc')\" align=\"center\"\r\n                         min-width=\"200\" prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template v-slot=\"scope\">\r\n            <cus-del-btn v-auth=\"'pdtemp-pd-discount-formula:delete'\"\r\n                         @ok=\"handleDeleteFormula(scope.row)\"></cus-del-btn>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_current\" v-model=\"formulaList\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_current\" url=\"/pdtemp-pd-discount-formula/base/search\"/>\r\n\r\n      <!-- 可选择公式 -->\r\n      <cus-form-title :first=\"true\" :label=\"$t('pdDiscountFormula.selectableDiscountFormula')\"\r\n                      style=\"margin-top: 50px\"></cus-form-title>\r\n\r\n      <el-row style=\"text-align: right\">\r\n        <el-button icon=\"el-icon-connection\" size=\"small\" type=\"primary\" @click=\"toSelectFormula\">\r\n          {{ $t('rule.moreFormula') }}\r\n        </el-button>\r\n        <el-button icon=\"el-icon-circle-plus el-icon--left\" size=\"small\" type=\"primary\" @click=\"toAddFormula\">\r\n          {{ $t('rule.toAddFormula') }}\r\n        </el-button>\r\n      </el-row>\r\n\r\n      <cus-table-title :label=\"$t('pdDiscountFormula.discountFormula')\"></cus-table-title>\r\n      <el-table :data=\"tableDataBriefFormula\" border element-loading-text=\"Loading\" fit highlight-current-row\r\n                max-height=\"300\" size=\"mini\">\r\n        <el-table-column :label=\"$t('table.id')\" align=\"center\" width=\"50\">\r\n          <template v-slot=\"scope\">\r\n            {{ initTableIndex('page_brief', scope.$index) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.detail')\" align=\"center\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" type=\"text\" @click=\"showFormula(scope.row)\">>></el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :filter-method=\"filter_pdCode\" :filters=\"filters_pdCode\" :label=\"$t('rule.product')\"\r\n                         align=\"center\"\r\n                         min-width=\"200\" sortable>\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pdCode ? scope.row.pdCode + ':' + scope.row.pdName : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('pdDiscountFormula.discountItem')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCmpnCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdBussDetailType')\" align=\"center\" min-width=\"200\" prop=\"pdBussDetailType\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.pdBussDetailType | filter_pdBussDetailType }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcCode')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcCode\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.pdCalcDesc')\" align=\"center\" min-width=\"200\"\r\n                         prop=\"pdCalcDesc\"></el-table-column>\r\n        <el-table-column :label=\"$t('rule.ruleAttr')\" align=\"center\" min-width=\"200\">\r\n          <template v-slot=\"scope\">\r\n            {{\r\n              scope.row.ruleAttr === '1' ? $t('rule.general') : (scope.row.ruleAttr === '2' ? $t('rule.individual') : '')\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('table.actions')\" align=\"center\" fixed=\"right\" width=\"120\">\r\n          <template v-slot=\"scope\">\r\n            <el-button v-auth=\"'PremAmountFormul:associate'\" icon=\"el-icon-connection\"\r\n                       size=\"mini\" type=\"primary\" @click=\"handleSelectFormula(scope.row)\">\r\n              {{ $t('form.select') }}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <cus-pagination ref=\"page_brief\" v-model=\"tableDataBriefFormula\" :autoBuild=\"false\" :pageSize=\"5\"\r\n                      :params=\"params_brief\" url=\"/pdtemp-pd-discount-formula/base/briefFormula\"/>\r\n    </div>\r\n\r\n    <!-- 弹窗（公式选择，订正时使用） -->\r\n    <el-dialog v-if=\"showFormulaSelect\" v-dialog-drag :close-on-click-modal=\"false\"\r\n               :visible.sync=\"showFormulaSelect\" append-to-body center width=\"70%\">\r\n      <pdDiscountFormulaSelect :pdDisCount=\"selectedDiscount\" calculationFormulaType=\"40\" guaranteeDetails=\"1\"\r\n                               @bringInCalcCode=\"bringInCalcCode\"\r\n                               @changeDialogVisible_pdDiscountSelect=\"changeDialogVisible_pdDiscountSelect\"></pdDiscountFormulaSelect>\r\n    </el-dialog>\r\n\r\n    <!-- 规则引擎公式定义弹窗 -->\r\n    <cus-rule-definition :attributeObj=\"attributeObj\" :ruleDefinitionClosed=\"ruleModuleClosed\"\r\n                         :visible=\"formulaVisible\"></cus-rule-definition>\r\n\r\n    <!-- 公式查看和决策树编辑弹窗 -->\r\n    <cus-rule-modify :flag=\"formulaView.flag\" :performType=\"formulaView.performType\" :ruleCode=\"formulaView.ruleCode\"\r\n                     :ruleModifyClosed=\"formulaViewClosed\" :ruleType=\"'2'\"\r\n                     :visible=\"formulaView.visible\"></cus-rule-modify>\r\n\r\n  </cus-wraper>\r\n</template>\r\n\r\n<script>\r\nimport {deleteDiscountFormula} from \"@/api/basicinfo/pdtempDiscountFormula\"\r\nimport {contactFormula, getCalcCode} from \"@/api/basicinfo/pdtempDiscountFormulaSelect\"\r\nimport {updatePdtempPdCmpnInfo} from \"@/api/basicinfo/pdtemppdcmpninfo\"\r\nimport pdDiscountFormulaSelect\r\n  from \"@/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula-select\"\r\n\r\nlet _this\r\n\r\nexport default {\r\n  name: 'pdDiscountFormula',\r\n  components: {pdDiscountFormulaSelect},\r\n  filters: {\r\n    filter_pdBussType(code) {\r\n      return _this.getCodeName('pdCalcBussType', code)\r\n    },\r\n    filter_pdBussDetailType(code) {\r\n      return _this.getCodeName('ruleBusinessDetailClass', code)\r\n    },\r\n    filter_pdCmpnType(code) {\r\n      return _this.getCodeName('preferentialType', code)\r\n    },\r\n    filter_pdCmpnCalcMode(code) {\r\n      return _this.getCodeName('preferentialClculationType', code)\r\n    }\r\n  },\r\n  props: {\r\n    guaranteeDetails: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    calculationFormulaType: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    pdDisCount: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    pdDiscountRangeOptions: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    _this = this\r\n    return {\r\n      page: undefined,\r\n      pageSize: undefined,\r\n      orderIndexArr_addition_discount: [],\r\n      productCalcRevisionShowINfo: false,\r\n      showFormulaSelect: false,\r\n      filters_pdCode: [],\r\n      selectedDiscount: {},\r\n      selectedFormula: {},\r\n      formulaView: {\r\n        flag: '',\r\n        ruleCode: '',\r\n        performType: '',\r\n        visible: false\r\n      },\r\n      formulaVisible: false,\r\n      attributeObj: {},\r\n      product: {\r\n        id: undefined,\r\n        bType: '',\r\n        cType: '',\r\n        pdCode: '',\r\n        pdEdition: '',\r\n        pdVerId: undefined,\r\n        pdSalechnl: '',\r\n        pdName: '',\r\n        pdShortname: '',\r\n        pdEnName: '',\r\n        pdShortEnName: '',\r\n        operator: '',\r\n        pdStartDateRule: '',\r\n        pdStartDateMode: '',\r\n        pdStartPeriod: undefined,\r\n        pdStartPeriodUnit: '',\r\n        pdEndDateRule: '',\r\n        pdEndDateMode: '',\r\n        pdEndPeriod: undefined,\r\n        pdEndPeriodUnit: '',\r\n        pdGracePeriod: undefined,\r\n        pdObservationDay: undefined,\r\n        pdApplDate: undefined,\r\n        pdProcessId: undefined,\r\n        pdStartDate: undefined,\r\n        pdStopDate: undefined,\r\n        createTime: undefined,\r\n        updateTime: undefined\r\n      },\r\n      form_rule: {\r\n        ruleBussModuDeta: '',\r\n        description: ''\r\n      },\r\n      params_discount: {\r\n        pdInfoId: undefined\r\n      },\r\n      params_current: {\r\n        eq_pdInfoId: undefined,\r\n        eq_pdBussType: '1',\r\n        eq_pdBussDetailType: '40',\r\n        eq_pdType: '1',\r\n        eq_pdBussId: undefined\r\n      },\r\n      params_brief: {\r\n        product: undefined,\r\n        pdBussId: undefined,\r\n        productDetailType: '',\r\n        pdBussDetailType: '40'\r\n      },\r\n      pdCmpnType: '',\r\n      pdDiscountRanges: [],\r\n      pdDiscountOptions: [],\r\n      filterCmpnType: '1$D$E$G$I$J$K',\r\n      pdUwSiType: '',\r\n      tableData_formula: [],\r\n      tableDataBriefFormula: [],\r\n      Options: [],\r\n      Options2: [],\r\n      Options3: [],//指定保障数组\r\n      Options4: [],//指定保障明细数组\r\n      discountTableData: [],\r\n      formulaList: []\r\n    }\r\n  },\r\n  watch: {\r\n    tableDataBriefFormula() {\r\n      this.filters_pdCode = []\r\n      for (const item of this.tableDataBriefFormula) {\r\n        if (!this._.includes(this._.map(this.filters_pdCode, 'value'), item.pdCode)) {\r\n          this.filters_pdCode.push({\r\n            text: item.pdCode + ':' + item.pdName,\r\n            value: item.pdCode\r\n          })\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initProductInfo()\r\n    if (this.productCalcRevisionShowINfo) {\r\n      this.$refs.page_discount.reload().then(() => {\r\n        this.getOrderNumber()\r\n      })\r\n    } else {\r\n      // 获取优惠范围\r\n      this.pdDiscountOptions = this.pdDiscountRangeOptions\r\n      this.pdDiscountRanges = this.pdDisCount.pdCmpnRange\r\n      this.pdCmpnType = this.pdDisCount.pdCmpnType\r\n      this.params_current.eq_pdBussId = this.pdDisCount.id\r\n      this.params_brief.pdBussId = this.pdDisCount.id\r\n      this.$refs.page_current.reload()\r\n      this.$refs.page_brief.reload()\r\n    }\r\n  },\r\n  created() {\r\n    this.page = this.$route.query.page\r\n    this.pageSize = this.$route.query.pageSize\r\n    this.productCalcRevisionShowINfo = this.$route.query.productCalcRevisionShowINfo === 'true'\r\n  },\r\n  methods: {\r\n    filter_pdCode(value, row) {\r\n      return value === row.pdCode\r\n    },\r\n    initProductInfo() {\r\n      let pdtempPdInfo = this.getPdData()\r\n      if (Object.keys(pdtempPdInfo).length > 0) {\r\n        Object.assign(this.product, pdtempPdInfo)\r\n        this.params_brief.product = pdtempPdInfo\r\n        this.params_brief.productDetailType = this.product.cType\r\n        this.params_current.eq_pdInfoId = this.product.id\r\n        if (this.productCalcRevisionShowINfo) {\r\n          this.params_discount.pdInfoId = this.product.id\r\n        }\r\n      } else {\r\n        this.notifyError(this.$t('message.invalidProductInfo'))\r\n      }\r\n    },\r\n    ruleModuleClosed() {\r\n      this.formulaVisible = false\r\n      if (!this.productCalcRevisionShowINfo || this.productCalcRevisionShowINfo && Object.keys(this.selectedDiscount).length > 0) {\r\n        this.$refs.page_brief.reload()\r\n      }\r\n    },\r\n    formulaViewClosed() {\r\n      this.formulaView.visible = false\r\n      this.selectedFormula = {}\r\n    },\r\n    selectedFormulaChanged() {\r\n      this.formulaView.flag = this.selectedFormula.ruleAttr === '1' ? '1' : '2'\r\n      this.formulaView.performType = this.selectedFormula.performType\r\n      this.formulaView.ruleCode = this.selectedFormula.pdCalcCode\r\n      this.formulaView.visible = true\r\n    },\r\n    showFormula(row) {\r\n      this.formulaView.flag = '1'\r\n      this.formulaView.ruleCode = row.pdCalcCode\r\n      this.formulaView.performType = row.performType\r\n      this.formulaView.visible = true\r\n    },\r\n    back() {\r\n      this.$emit('changeDialogVisible_pdDiscount', false)\r\n    },\r\n    backToRevision() {\r\n      this.$router.push({name: '产品公式订正主页', params: {path: this.$route.path, page: this.page, pageSize: this.pageSize}})\r\n    },\r\n    toSelectFormula() {\r\n      if (this.productCalcRevisionShowINfo) {\r\n        if (Object.keys(this.selectedDiscount).length === 0) {\r\n          this.notifyError(this.$t('pdDiscountFormula.pleaseSelectDiscount'))\r\n          return\r\n        }\r\n        this.showFormulaSelect = true\r\n      } else {\r\n        this.$emit('changeDialogVisible_pdDiscountSelect', true)\r\n      }\r\n    },\r\n    toAddFormula() {\r\n      const param = {\r\n        pdBussType: '1',\r\n        pdBussDetailType: '40'\r\n      }\r\n      getCalcCode(this.buildRequestData(param)).then(response => {\r\n        this.attributeObj = {\r\n          code: response.data,\r\n          ruleBussModu: '1',\r\n          ruleBussModuDeta: '40',\r\n          ruleType: '2',\r\n          pdType: '1',\r\n          riskType: this.product.bType,\r\n          riskDetail: this.product.cType,\r\n          pdCode: this.product.pdCode,\r\n          ruleAscrCls: '5',\r\n          ruleAscrDeta: this.productCalcRevisionShowINfo ? this.selectedDiscount.pdCmpnType : this.pdDisCount.pdCmpnType,\r\n          pdEdition: this.product.pdEdition\r\n        }\r\n        this.formulaVisible = true\r\n      })\r\n    },\r\n    handleDeleteFormula(row) {\r\n      deleteDiscountFormula(row).then(() => {\r\n        this.notifySuccess(this.$t('successMessage.delete'))\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n        if (this.productCalcRevisionShowINfo) {\r\n          for (const discount of this.discountTableData) {\r\n            if (discount.id === this.selectedDiscount.id) {\r\n              this.$set(discount, 'pdCmpnCalcCode', undefined)\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          this.$emit('bringInCalcCode', '40', row.pdBussId, undefined)\r\n        }\r\n      })\r\n    },\r\n    handleSelectFormula(row) {\r\n      let PdtempPdCalc = {\r\n        pdInfoId: this.product.id,\r\n        pdVerId: this.product.pdVerId,\r\n        pdType: '',\r\n        pdCode: this.product.pdCode,\r\n        pdBussType: '1',\r\n        pdBussDetailType: '40',\r\n        pdBussId: this.productCalcRevisionShowINfo ? this.selectedDiscount.id : this.pdDisCount.id,\r\n        pdBussCode: this.productCalcRevisionShowINfo ? this.selectedDiscount.pdCmpnCode : this.pdDisCount.pdCmpnCode,\r\n        pdStructureType: '08',\r\n        pdCalcCode: row.pdCalcCode,\r\n        pdCalcDesc: row.pdCalcDesc\r\n      }\r\n      if (!this.productCalcRevisionShowINfo) {\r\n        this.pdDisCount.pdCmpnRange = String(this.pdDisCount.pdCmpnRange)\r\n      } else {\r\n        this.selectedDiscount.pdCmpnRange = String(this.selectedDiscount.pdCmpnRange)\r\n      }\r\n      //关联公式表\r\n      const param = {\r\n        selectedFormula: row,\r\n        pdtempPdCalc: PdtempPdCalc,\r\n        product: this.product,\r\n        pdBussType: '1',\r\n        pdBussDetailType: '40',\r\n        needChecking: true\r\n      }\r\n      contactFormula(this.buildRequestData(param)).then(response => {\r\n        const pdtempPdCalc = response.data.pdtempPdCalc\r\n        const flag = response.data.flag\r\n        if (flag === true) {\r\n          // 关联产品优惠表\r\n          if (this.productCalcRevisionShowINfo) {\r\n            this.selectedDiscount.pdCmpnCalcCode = pdtempPdCalc.pdCalcCode\r\n          } else {\r\n            this.pdDisCount.pdCmpnCalcCode = pdtempPdCalc.pdCalcCode\r\n          }\r\n          updatePdtempPdCmpnInfo(this.buildRequestData({\"PdtempPdCmpnInfo\": this.productCalcRevisionShowINfo ? this.selectedDiscount : this.pdDisCount,})).then(() => {\r\n            this.notifySuccess(this.$t(\"rule.associationSuccess\"))\r\n            this.$refs.page_current.reload()\r\n            this.$refs.page_brief.reload()\r\n            if (!this.productCalcRevisionShowINfo) {\r\n              this.$emit('bringInCalcCode', pdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n              this.pdDisCount.pdCmpnRange = [this.pdDisCount.pdCmpnRange]\r\n            } else {\r\n              for (const discount of this.discountTableData) {\r\n                if (discount.id === this.selectedDiscount.id) {\r\n                  this.$set(discount, 'pdCmpnCalcCode', pdtempPdCalc.pdCalcCode)\r\n                  break\r\n                }\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          this.$confirm(String(this.$t('underwritingAmountFormulaSelect.confirm_overwrite_formula')), String(this.$t('confirmMessage.tip')), {\r\n            confirmButtonText: String(this.$t('confirmMessage.confirm')),\r\n            cancelButtonText: String(this.$t('confirmMessage.cancel')),\r\n            type: 'warning'\r\n          }).then(() => {\r\n            param.needChecking = false\r\n            contactFormula(this.buildRequestData(param)).then(response => {\r\n              const pdtempPdCalc = response.data.pdtempPdCalc\r\n              if (this.productCalcRevisionShowINfo) {\r\n                this.selectedDiscount.pdCmpnCalcCode = pdtempPdCalc.pdCalcCode\r\n              } else {\r\n                this.pdDisCount.pdCmpnCalcCode = pdtempPdCalc.pdCalcCode\r\n              }\r\n              // 关联产品优惠表\r\n              updatePdtempPdCmpnInfo(this.buildRequestData({\"PdtempPdCmpnInfo\": this.productCalcRevisionShowINfo ? this.selectedDiscount : this.pdDisCount})).then(() => {\r\n                this.notifySuccess(this.$t(\"rule.associationSuccess\"))\r\n                this.$refs.page_current.reload()\r\n                this.$refs.page_brief.reload()\r\n                if (!this.productCalcRevisionShowINfo) {\r\n                  this.$emit('bringInCalcCode', pdtempPdCalc.pdBussDetailType, pdtempPdCalc.pdBussId, pdtempPdCalc.pdCalcCode)\r\n                  this.pdDisCount.pdCmpnRange = [this.pdDisCount.pdCmpnRange]\r\n                } else {\r\n                  for (const discount of this.discountTableData) {\r\n                    if (discount.id === this.selectedDiscount.id) {\r\n                      this.$set(discount, 'pdCmpnCalcCode', pdtempPdCalc.pdCalcCode)\r\n                      break\r\n                    }\r\n                  }\r\n                }\r\n              })\r\n            })\r\n          }).catch(() => {\r\n            this.messageInfo(this.$t('underwritingAmountFormulaSelect.canceled'))\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 获取相同编号的数组\r\n    getOrderNumber() {\r\n      let tableData = this.discountTableData\r\n      let orderIndexArr = []\r\n      // 按照 paymentId 排序，将 paymentId 相同的数据连在一起\r\n      tableData = this._.orderBy(tableData, 'pdPremId', 'asc')\r\n      this.discountTableData = tableData\r\n      let orderObj = {}\r\n      tableData.forEach((element, index) => {\r\n        element.rowIndex = index\r\n        if (orderObj[element.pdPremId]) {\r\n          orderObj[element.pdPremId].push(index)\r\n        } else {\r\n          orderObj[element.pdPremId] = []\r\n          orderObj[element.pdPremId].push(index)\r\n        }\r\n      })\r\n      // 需要合并的行的index已经存在了同一个数组里，把这些数组存储到 this.orderIndexArr\r\n      for (let k in orderObj) {\r\n        orderIndexArr.push(orderObj[k])\r\n      }\r\n      this.orderIndexArr_addition_discount = orderIndexArr\r\n    },\r\n    // 优惠表格合并\r\n    objectSpanMethod_discount({row, column, rowIndex, columnIndex}) {\r\n      if (columnIndex === 2 || columnIndex === 3) {\r\n        for (let i = 0; i < this.orderIndexArr_addition_discount.length; i++) {\r\n          let element = this.orderIndexArr_addition_discount[i]\r\n          for (let j = 0; j < element.length; j++) {\r\n            let item = element[j]\r\n            if (rowIndex === item) {\r\n              if (j === 0) {\r\n                return {\r\n                  rowspan: element.length,\r\n                  colspan: 1\r\n                }\r\n              } else {\r\n                return {\r\n                  rowspan: 0,\r\n                  colspan: 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    rowClick_discount(row, column, event) {\r\n      if (event.target.nodeName === \"INPUT\") {\r\n        if (row.id === this.selectedDiscount.id) {\r\n          this.selectedDiscount = {}\r\n          this.formulaList = []\r\n          this.$refs.page_current.total = 0\r\n          this.$refs.page_current.page = 1\r\n          this.tableDataBriefFormula = []\r\n          this.$refs.page_brief.total = 0\r\n          this.$refs.page_brief.page = 1\r\n        }\r\n      }\r\n    },\r\n    selectedDiscountChanged() {\r\n      this.params_current.eq_pdBussId = this.selectedDiscount.id\r\n      this.params_brief.pdBussId = this.selectedDiscount.id\r\n      this.$nextTick(() => {\r\n        this.$refs.page_current.reload()\r\n        this.$refs.page_brief.reload()\r\n      })\r\n    },\r\n    bringInCalcCode(pdBussDetailType, pdBussId, calcCode) {\r\n      for (const discount of this.discountTableData) {\r\n        if (discount.id === Number(pdBussId)) {\r\n          this.$set(discount, 'pdCmpnCalcCode', calcCode)\r\n          break\r\n        }\r\n      }\r\n    },\r\n    // 订正时关闭更多公式的弹窗\r\n    changeDialogVisible_pdDiscountSelect(flag) {\r\n      this.showFormulaSelect = flag\r\n      this.$refs.page_current.reload()\r\n      this.$refs.page_brief.reload()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-definition/pd-framework-def/pd-structure-def/payment-def/discount-formula"}]}
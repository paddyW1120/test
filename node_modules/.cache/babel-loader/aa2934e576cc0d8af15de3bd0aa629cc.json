{"remainingRequest":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-apply\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\src\\views\\product-package-definition\\pp-operation-def\\pp-sales-def\\sale-apply\\index.vue","mtime":1609847107041},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1706753193796},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706753187435},{"path":"D:\\86181\\Desktop\\product\\pcs-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1706753190941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi84NjE4MS9EZXNrdG9wL3Byb2R1Y3QvcGNzLXByb2R1Y3Qtdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIikpOwoKdmFyIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovODYxODEvRGVza3RvcC9wcm9kdWN0L3Bjcy1wcm9kdWN0LXZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIpKTsKCnZhciBfdGFnc1ZpZXcgPSByZXF1aXJlKCJAL3V0aWxzL3RhZ3NWaWV3Iik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ3BkUGFja2FnZVNhbGVEZWZpbml0aW9uJywKICBmaWx0ZXJzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRQcm9kdWN0OiB7fSwKICAgICAgdGFibGVEYXRhX3Byb2R1Y3RTYWxlSW5mbzogW10sCiAgICAgIHByb2R1Y3RPcHRpb25MaXN0OiBbXSwKICAgICAgZGF0ZVZhbHVlOiBbXSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcHBDb2RlOiAnJywKICAgICAgICBwZEFwcGx5U3RhcnREYXRlOiAnJywKICAgICAgICBwZEFwcGx5RW5kRGF0ZTogJycKICAgICAgfSwKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAndGFibGVEYXRhX3Byb2R1Y3RTYWxlSW5mbyc6IGZ1bmN0aW9uIHRhYmxlRGF0YV9wcm9kdWN0U2FsZUluZm8oKSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHRoaXMudGFibGVEYXRhX3Byb2R1Y3RTYWxlSW5mbyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwcm9kdWN0ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLnByb2R1Y3RPcHRpb25MaXN0KSwKICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgcHJvZHVjdE9wdGlvbiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKHByb2R1Y3RPcHRpb24ucHBDb2RlID09PSBwcm9kdWN0LnBwQ29kZSkgewogICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghZmxhZykgewogICAgICAgICAgICB0aGlzLnByb2R1Y3RPcHRpb25MaXN0LnB1c2gocHJvZHVjdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRlVmFsdWU6IGZ1bmN0aW9uIGRhdGVWYWx1ZSh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMucGFyYW1zLnBkQXBwbHlTdGFydERhdGUgPSB2YWxbMF07CiAgICAgICAgdGhpcy5wYXJhbXMucGRBcHBseUVuZERhdGUgPSB2YWxbMV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXJhbXMucGRBcHBseVN0YXJ0RGF0ZSA9ICcnOwogICAgICAgIHRoaXMucGFyYW1zLnBkQXBwbHlFbmREYXRlID0gJyc7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJIYW5kbGVyOiBmdW5jdGlvbiBmaWx0ZXJIYW5kbGVyKGNvZGV0eXBlLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRDb2RlTmFtZShjb2RldHlwZSwgdmFsdWUpOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5wYWdlX3Byb2R1Y3RTYWxlSW5mbykgewogICAgICAgIHRoaXMuJHJlZnMucGFnZV9wcm9kdWN0U2FsZUluZm8ucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaG9vc2VPbmU6IGZ1bmN0aW9uIGNob29zZU9uZShyb3cpIHsKICAgICAgKDAsIF90YWdzVmlldy5jbG9zZVZpc2l0VGFnKSgpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ+S6p+WTgeWll+mkkOmUgOWUruWumuS5ieS4u+mhtScsCiAgICAgICAgcGFyYW1zOiByb3cKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <cus-wraper>\r\n    <el-form label-width=\"auto\" :model=\"params\" >\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdPackageSaleDefinition.productMeal')\">\r\n            <el-select  clearable filterable v-model=\"params.ppCode\">\r\n              <el-option :key=\"product.id\" :label=\"product.ppCode+':'+product.ppName\" :value=\"product.ppCode\"\r\n                         v-for=\"product in productOptionList\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item :label=\"$t('pdPackageSaleDefinition.pdMealApplyDate')\">\r\n            <el-date-picker\r\n              value-format=\"yyyy-MM-dd\"\r\n              v-model=\"dateValue\"\r\n              type=\"daterange\"\r\n              unlink-panels\r\n              :range-separator=\"$t('pdPackageSaleDefinition.to')\"\r\n              :start-placeholder=\"$t('pdPackageSaleDefinition.pdApplyStartDate')\"\r\n              :end-placeholder=\"$t('pdPackageSaleDefinition.pdApplyEndDate')\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <cus-btn-wrapper>\r\n          <el-button  size=\"small\" @click=\"handleSearch\" icon=\"el-icon-search\" type=\"primary\">\r\n            {{ $t('pdPackageSaleDefinition.search') }}\r\n          </el-button>\r\n        </cus-btn-wrapper>\r\n      </el-row>\r\n    </el-form>\r\n    <!-- 待销售定义产品表格 -->\r\n    <cus-table-title :label=\"$t('pdPackageSaleDefinition.productsToBeDefined')\"></cus-table-title>\r\n    <el-table :data=\"tableData_productSaleInfo\" border element-loading-text=\"Loading\" fit size=\"mini\">\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.selected')\" align=\"center\" width=\"50px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-radio-group v-model=\"selectedProduct\">\r\n            <span>\r\n              <el-radio :label=\"scope.row\" @change=\"chooseOne(scope.row)\">{{''}}</el-radio>\r\n            </span>\r\n            <span v-if=\"selectedProduct.id && scope.row.id && selectedProduct.id === scope.row.id\"></span>\r\n          </el-radio-group>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('table.id')\"  align=\"center\" width=\"50\">\r\n        <template v-slot=\"scope\">\r\n          {{ initTableIndex('page_productSaleInfo', scope.$index) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.pdCode')\" align=\"center\"  prop=\"ppCode\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.pdName')\" align=\"center\"  prop=\"ppName\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.productSaleNature')\" align=\"center\"  prop=\"productSaleNature\">\r\n        <template v-slot=\"scope\">{{filterHandler('InsuranceNature',scope.row.productSaleNature )}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.pdApplyDate')\" align=\"center\"  prop=\"applyTime\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.changeDate')\" align=\"center\"  prop=\"changeDate\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.defType')\" align=\"center\"  prop=\"defType\">\r\n        <template v-slot=\"scope\">{{filterHandler('packageType',scope.row.defType )}}</template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.productSaleAttributeState')\" align=\"center\"  prop=\"productSaleAttributeState\"></el-table-column>\r\n      <el-table-column :label=\"$t('pdPackageSaleDefinition.productSaleFeeState')\" align=\"center\"  prop=\"productSaleFeeState\"></el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <cus-pagination :pageSize=\"10\" :params=\"params\" ref=\"page_productSaleInfo\"\r\n                    url=\"/pd-package-sale/base/distributionList\" v-model=\"tableData_productSaleInfo\"/>\r\n  </cus-wraper>\r\n</template>\r\n<script>\r\n  import {closeVisitTag} from \"@/utils/tagsView\"\r\n\r\n  export default {\r\n    name: 'pdPackageSaleDefinition',\r\n    filters: {},\r\n    data() {\r\n      return {\r\n        selectedProduct: {},\r\n        tableData_productSaleInfo: [],\r\n        productOptionList: [],\r\n        dateValue:[],\r\n        params: {\r\n          ppCode: '',\r\n          pdApplyStartDate:'',\r\n          pdApplyEndDate:''\r\n        },\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      'tableData_productSaleInfo'(){\r\n        for (const product of this.tableData_productSaleInfo) {\r\n          let flag = false;\r\n          for (const productOption of this.productOptionList) {\r\n            if (productOption.ppCode === product.ppCode) {\r\n              flag = true;\r\n              break\r\n            }\r\n          }\r\n          if (!flag) {\r\n            this.productOptionList.push(product)\r\n          }\r\n        }\r\n      },\r\n      dateValue(val) {\r\n        if (val) {\r\n          this.params.pdApplyStartDate = val[0];\r\n          this.params.pdApplyEndDate = val[1]\r\n        } else {\r\n          this.params.pdApplyStartDate = '';\r\n          this.params.pdApplyEndDate = ''\r\n        }\r\n      }\r\n    },\r\n    computed: {},\r\n    async created() {\r\n    },\r\n    methods: {\r\n      filterHandler(codetype, value) {\r\n        return this.getCodeName(codetype, value);\r\n      },\r\n      handleSearch() {\r\n        if (this.$refs.page_productSaleInfo) {\r\n          this.$refs.page_productSaleInfo.reload();\r\n        }\r\n      },\r\n      chooseOne(row) {\r\n        closeVisitTag();\r\n        this.$router.push({name: '产品套餐销售定义主页', params: row})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product-package-definition/pp-operation-def/pp-sales-def/sale-apply"}]}